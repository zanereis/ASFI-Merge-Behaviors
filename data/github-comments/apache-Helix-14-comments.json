[{"url":"https://api.github.com/repos/apache/helix/issues/comments/667568811","html_url":"https://github.com/apache/helix/issues/1022#issuecomment-667568811","issue_url":"https://api.github.com/repos/apache/helix/issues/1022","id":667568811,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzU2ODgxMQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-01T18:14:30Z","updated_at":"2020-08-01T18:14:30Z","author_association":"CONTRIBUTOR","body":"Fixed in apache helix version `1.0.1`","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/667568811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/667600349","html_url":"https://github.com/apache/helix/pull/1199#issuecomment-667600349","issue_url":"https://api.github.com/repos/apache/helix/issues/1199","id":667600349,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzYwMDM0OQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-01T23:34:41Z","updated_at":"2020-08-01T23:34:41Z","author_association":"CONTRIBUTOR","body":"> > > The movement of the classes is logically not what we intended to do. We do want them in the common package. Let's think about better way to do it. But glad to know there are not many classes impacted.\n> \n> > \n> \n> > @jiajunwang\n> \n> > For current structure, helix-common is actually redundant as only helix-core depends on helix-common. And helix-common has the same package paths with helix-core. That being said, it is totally fine to just merge helix-common to helix-core. With current structure, I don't see a value that we have helix-common but only adds redundancy.\n> \n> > \n> \n> \n> \n> \n> \n> It was an explicit design choice when we separated helix-common from helix-core. We shouldn't consider merging it back into helix-core as that would further complicate the module structure.\n\nThen could you give a better proposal solution for the issue?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/667600349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/667815579","html_url":"https://github.com/apache/helix/pull/1197#issuecomment-667815579","issue_url":"https://api.github.com/repos/apache/helix/issues/1197","id":667815579,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzgxNTU3OQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-03T05:44:48Z","updated_at":"2020-08-03T05:44:48Z","author_association":"CONTRIBUTOR","body":"@dasahcc Please follow the pull request description guidelines. It's recommended that we use the following keywords:\r\n\r\nclose\r\ncloses\r\nclosed\r\nfix\r\nfixes\r\nfixed\r\nresolve\r\nresolves\r\nresolved\r\n\r\nwhen referring to the issue number. This is clearly outlined in our guidelines so that when the PR gets closed, the issue gets linked and closed as well. See https://docs.github.com/en/github/managing-your-work-on-github/linking-a-pull-request-to-an-issue\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/667815579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/667820076","html_url":"https://github.com/apache/helix/pull/1209#issuecomment-667820076","issue_url":"https://api.github.com/repos/apache/helix/issues/1209","id":667820076,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzgyMDA3Ng==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-03T05:58:14Z","updated_at":"2020-08-03T05:58:14Z","author_association":"CONTRIBUTOR","body":"@jiajunwang \r\n\r\nPlease follow the pull request description guidelines. It's recommended that we use the following keywords:\r\n\r\nclose\r\ncloses\r\nclosed\r\nfix\r\nfixes\r\nfixed\r\nresolve\r\nresolves\r\nresolved\r\n\r\nwhen referring to the issue number. This is clearly outlined in our guidelines so that when the PR gets closed, the issue gets linked and closed as well. See https://docs.github.com/en/github/managing-your-work-on-github/linking-a-pull-request-to-an-issue","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/667820076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/667829706","html_url":"https://github.com/apache/helix/pull/1154#issuecomment-667829706","issue_url":"https://api.github.com/repos/apache/helix/issues/1154","id":667829706,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzgyOTcwNg==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-03T06:26:21Z","updated_at":"2020-08-03T06:26:21Z","author_association":"CONTRIBUTOR","body":"@zhangmeng916 \r\nPlease follow the pull request description guidelines. It's recommended that we use the following keywords:\r\n\r\nclose\r\ncloses\r\nclosed\r\nfix\r\nfixes\r\nfixed\r\nresolve\r\nresolves\r\nresolved\r\n\r\nwhen referring to the issue number. This is clearly outlined in our guidelines so that when the PR gets closed, the issue gets linked and closed as well. See https://docs.github.com/en/github/managing-your-work-on-github/linking-a-pull-request-to-an-issue","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/667829706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/668159602","html_url":"https://github.com/apache/helix/pull/1209#issuecomment-668159602","issue_url":"https://api.github.com/repos/apache/helix/issues/1209","id":668159602,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODE1OTYwMg==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-03T17:55:49Z","updated_at":"2020-08-03T17:55:59Z","author_association":"CONTRIBUTOR","body":"> @jiajunwang\r\n> \r\n> Please follow the pull request description guidelines. It's recommended that we use the following keywords:\r\n> \r\n> close\r\n> closes\r\n> closed\r\n> fix\r\n> fixes\r\n> fixed\r\n> resolve\r\n> resolves\r\n> resolved\r\n> \r\n> when referring to the issue number. This is clearly outlined in our guidelines so that when the PR gets closed, the issue gets linked and closed as well. See https://docs.github.com/en/github/managing-your-work-on-github/linking-a-pull-request-to-an-issue\r\n\r\nI think you just modified the guideline. But I didn't get any notification or discussion invitation. So let's have a talk about it. Since I read through the provided link, the keywords are a tool so that you can auto-link the issue with some assumptions, which I'm not sure if they help. Although I do agree to use the linked Issue feature.\r\n\r\n1. \r\n> Only **manually** linked pull requests can be manually unlinked. To unlink an issue that you linked using a keyword, you must edit the pull request description to remove the keyword.\r\n\r\nEditing pull request description to unlink seems a bad idea. It might be easier just to manually link.\r\n\r\n2.\r\n> You can also use closing keywords in a commit message. The issue will be closed when you merge the commit into the default branch, but the pull request that contains the commit will not be listed as a linked pull request.\r\n \r\n\"default branch\" means master, I think. So if we are using a dev branch, then the ticket will not be closed. Moreover, this implicit close might close some issues prematurely. So I won't recommend it.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/668159602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/668172896","html_url":"https://github.com/apache/helix/pull/1209#issuecomment-668172896","issue_url":"https://api.github.com/repos/apache/helix/issues/1209","id":668172896,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODE3Mjg5Ng==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-03T18:24:20Z","updated_at":"2020-08-03T18:27:37Z","author_association":"CONTRIBUTOR","body":"This looks great. Two questions:\r\n\r\n1/ will the history of CI test be available somewhere?\r\n\r\nYes, after I check this in, you will see it under \"action\" tag in the project page.\r\n\r\n2/ is there a link about how these CI config works?\r\n\r\nPlease google github actions for CI\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/668172896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/668196454","html_url":"https://github.com/apache/helix/pull/1194#issuecomment-668196454","issue_url":"https://api.github.com/repos/apache/helix/issues/1194","id":668196454,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODE5NjQ1NA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-03T19:17:33Z","updated_at":"2020-08-03T19:17:33Z","author_association":"CONTRIBUTOR","body":"Other than timeout which may not be conservative enough, it looks good. The idea of using transaction and ephemeral node is brilliant. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/668196454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/668199754","html_url":"https://github.com/apache/helix/pull/1209#issuecomment-668199754","issue_url":"https://api.github.com/repos/apache/helix/issues/1209","id":668199754,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODE5OTc1NA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-03T19:25:37Z","updated_at":"2020-08-03T19:25:37Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @kaisun2000 ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/668199754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/668228746","html_url":"https://github.com/apache/helix/pull/1194#issuecomment-668228746","issue_url":"https://api.github.com/repos/apache/helix/issues/1194","id":668228746,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODIyODc0Ng==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-03T20:35:29Z","updated_at":"2020-08-03T20:35:29Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @kaisun2000 \r\n```\r\ntestGetChildrenOnLargeNumChildren becomes flaky after more commits are checked in because of reflection doesn't work as expected. This commit fixes it by replacing reflection with creating 110K children for the test.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/668228746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/668300447","html_url":"https://github.com/apache/helix/pull/1190#issuecomment-668300447","issue_url":"https://api.github.com/repos/apache/helix/issues/1190","id":668300447,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODMwMDQ0Nw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-04T00:10:04Z","updated_at":"2020-08-04T00:10:04Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @pkuwm ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/668300447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/668334632","html_url":"https://github.com/apache/helix/pull/1212#issuecomment-668334632","issue_url":"https://api.github.com/repos/apache/helix/issues/1212","id":668334632,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODMzNDYzMg==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-04T02:01:21Z","updated_at":"2020-08-04T02:01:21Z","author_association":"CONTRIBUTOR","body":"Thanks, @narendly, for the review and approval.\r\n\r\nThis PR is ready to be merged, approved by @narendly \r\n```\r\nEach time we merge code, apache build is triggered but failed because of too many files with unapproved license. We would like to fix it to have helix build success emails.\r\n\r\nThis PR fixes the build failure by updating license and excluding some files that don't need to do rat check.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/668334632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/668349631","html_url":"https://github.com/apache/helix/pull/1212#issuecomment-668349631","issue_url":"https://api.github.com/repos/apache/helix/issues/1212","id":668349631,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODM0OTYzMQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-04T02:50:29Z","updated_at":"2020-08-04T02:50:29Z","author_association":"CONTRIBUTOR","body":"@pkuwm Good stuff! We needed this.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/668349631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/668383525","html_url":"https://github.com/apache/helix/pull/1206#issuecomment-668383525","issue_url":"https://api.github.com/repos/apache/helix/issues/1206","id":668383525,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODM4MzUyNQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-04T05:13:12Z","updated_at":"2020-08-04T05:13:12Z","author_association":"CONTRIBUTOR","body":"Let's hold on this change before discussing it with the whole Helix committee.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/668383525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/668711581","html_url":"https://github.com/apache/helix/pull/1208#issuecomment-668711581","issue_url":"https://api.github.com/repos/apache/helix/issues/1208","id":668711581,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODcxMTU4MQ==","user":{"login":"rabashizade","id":67170754,"node_id":"MDQ6VXNlcjY3MTcwNzU0","avatar_url":"https://avatars.githubusercontent.com/u/67170754?v=4","gravatar_id":"","url":"https://api.github.com/users/rabashizade","html_url":"https://github.com/rabashizade","followers_url":"https://api.github.com/users/rabashizade/followers","following_url":"https://api.github.com/users/rabashizade/following{/other_user}","gists_url":"https://api.github.com/users/rabashizade/gists{/gist_id}","starred_url":"https://api.github.com/users/rabashizade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabashizade/subscriptions","organizations_url":"https://api.github.com/users/rabashizade/orgs","repos_url":"https://api.github.com/users/rabashizade/repos","events_url":"https://api.github.com/users/rabashizade/events{/privacy}","received_events_url":"https://api.github.com/users/rabashizade/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-04T16:57:41Z","updated_at":"2020-08-04T16:57:41Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @narendly \r\nFinal commit message:\r\n\r\n**Add DynamicTaskConfig to store task configs in ZK** \r\n\r\nAdds DynamicTaskConfig class, which is a wrapper for ZNRecord, to store\r\nand access the configs for dynamically loaded tasks in ZK.\r\n\r\nAlso adds the appropriate constants to TaskConstants.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/668711581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/668742837","html_url":"https://github.com/apache/helix/issues/627#issuecomment-668742837","issue_url":"https://api.github.com/repos/apache/helix/issues/627","id":668742837,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODc0MjgzNw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-04T18:02:01Z","updated_at":"2020-08-04T18:02:01Z","author_association":"CONTRIBUTOR","body":"Enlarge the scope of this issue since more set methods with the same issue can be found in the classes.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/668742837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/668885908","html_url":"https://github.com/apache/helix/pull/1213#issuecomment-668885908","issue_url":"https://api.github.com/repos/apache/helix/issues/1213","id":668885908,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODg4NTkwOA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-04T23:51:41Z","updated_at":"2020-08-04T23:51:41Z","author_association":"CONTRIBUTOR","body":"This diff is approved. Please help to merge into trunk.\r\n\r\n>HelixTaskExcutor thread pool has not unqiue name. Assign unique\r\nname. Also, for TaskModelFactory related test, there are leaks\r\nin a test. Eliminate the leak.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/668885908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/668896433","html_url":"https://github.com/apache/helix/pull/1066#issuecomment-668896433","issue_url":"https://api.github.com/repos/apache/helix/issues/1066","id":668896433,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODg5NjQzMw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T00:21:38Z","updated_at":"2020-08-05T00:21:38Z","author_association":"CONTRIBUTOR","body":"A high level question. The following approach basically encode the session info to the data of ZkClient? Last time in the design discussion I guess people raised the concern that this mean ZkClient need to understand the data format. Normally lower level do not understand higher level data. \r\n\r\nThough you can also think of session id in the data as meta data, just like TCP has out of line control data. \r\n\r\nEither way is fine to me. Just want to make sure @pkuwm and @lei-xia agree with this approach. \r\n\r\n```\r\n  private String parseExpectedSessionId(Object data) {\r\n    if (!(data instanceof SessionAwareZkWriteData)) {\r\n      return null;\r\n    }\r\n    return ((SessionAwareZkWriteData) data).getExpectedSessionId();\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/668896433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/668990390","html_url":"https://github.com/apache/helix/pull/1066#issuecomment-668990390","issue_url":"https://api.github.com/repos/apache/helix/issues/1066","id":668990390,"node_id":"MDEyOklzc3VlQ29tbWVudDY2ODk5MDM5MA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T05:36:33Z","updated_at":"2020-08-05T05:36:33Z","author_association":"CONTRIBUTOR","body":"> A high level question. The following approach basically encode the session info to the data of ZkClient? Last time in the design discussion I guess people raised the concern that this mean ZkClient need to understand the data format. Normally lower level do not understand higher level data.\r\n> \r\n> Though you can also think of session id in the data as meta data, just like TCP has out of line control data.\r\n> \r\n> Either way is fine to me. Just want to make sure @pkuwm and @lei-xia agree with this approach.\r\n> \r\n> ```\r\n>   private String parseExpectedSessionId(Object data) {\r\n>     if (!(data instanceof SessionAwareZkWriteData)) {\r\n>       return null;\r\n>     }\r\n>     return ((SessionAwareZkWriteData) data).getExpectedSessionId();\r\n> ```\r\n\r\nWe add a new interface SessionAwareZkWriteData to make it generic: representing data is session aware. In future, we may implement this interface to have a public one like SessionAwareZNRecord . With this new interface, ZkClient doesn’t need to change: treating SessionAwareZkWriteData as generic one. \r\n\r\nHow about this? @lei-xia @jiajunwang @kaisun2000 \r\nConsidering the new interface would tie session to zk, it is not generic enough. Eg. if we change the storage to mysql, it doesn’t have session.\r\nHow about this, splitting the PR into 2: 1st one (this one) doesn’t have new interface, 2nd one will have the new interface. If we don’t agree on adding new interface, we just discard the 2nd PR, being tracked in https://github.com/apache/helix/issues/1219.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/668990390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/669007222","html_url":"https://github.com/apache/helix/issues/1216#issuecomment-669007222","issue_url":"https://api.github.com/repos/apache/helix/issues/1216","id":669007222,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTAwNzIyMg==","user":{"login":"lei-xia","id":9325494,"node_id":"MDQ6VXNlcjkzMjU0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9325494?v=4","gravatar_id":"","url":"https://api.github.com/users/lei-xia","html_url":"https://github.com/lei-xia","followers_url":"https://api.github.com/users/lei-xia/followers","following_url":"https://api.github.com/users/lei-xia/following{/other_user}","gists_url":"https://api.github.com/users/lei-xia/gists{/gist_id}","starred_url":"https://api.github.com/users/lei-xia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lei-xia/subscriptions","organizations_url":"https://api.github.com/users/lei-xia/orgs","repos_url":"https://api.github.com/users/lei-xia/repos","events_url":"https://api.github.com/users/lei-xia/events{/privacy}","received_events_url":"https://api.github.com/users/lei-xia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T06:29:27Z","updated_at":"2020-08-05T06:29:27Z","author_association":"MEMBER","body":"Can we make this issue/description more clear here? i.e, this is to fix the leak of ClusterManager in our unit tests.  Otherwise, it could create confusion here that we may have thread leak issue in our HelixManager code.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/669007222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/669359584","html_url":"https://github.com/apache/helix/pull/1213#issuecomment-669359584","issue_url":"https://api.github.com/repos/apache/helix/issues/1213","id":669359584,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTM1OTU4NA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T18:21:19Z","updated_at":"2020-08-05T18:21:19Z","author_association":"CONTRIBUTOR","body":"I can help to merge once the test results are post : ) @kaisun2000 ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/669359584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/669473023","html_url":"https://github.com/apache/helix/pull/1185#issuecomment-669473023","issue_url":"https://api.github.com/repos/apache/helix/issues/1185","id":669473023,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTQ3MzAyMw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T20:05:51Z","updated_at":"2020-08-05T20:05:51Z","author_association":"CONTRIBUTOR","body":"> What is helix-core/out? Test result?\r\n> This is why I suggest we don't configure the test log to output to any file.\r\n\r\nGood catch. Too many file changed, did not realize I also accidentally added the test log file","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/669473023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/669483519","html_url":"https://github.com/apache/helix/pull/1201#issuecomment-669483519","issue_url":"https://api.github.com/repos/apache/helix/issues/1201","id":669483519,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTQ4MzUxOQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T20:23:34Z","updated_at":"2020-08-05T20:23:34Z","author_association":"CONTRIBUTOR","body":"This pull request is approved, please help to merge. Description\r\n\r\n> Unit test has leaked several hundreds to thousand leaked timer threads.\r\nThis pull request give each timer thread a name to help identified the\r\nleaked threads. Also fix the major contributor of leaking in controller.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/669483519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/669534468","html_url":"https://github.com/apache/helix/pull/1201#issuecomment-669534468","issue_url":"https://api.github.com/repos/apache/helix/issues/1201","id":669534468,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTUzNDQ2OA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T21:53:15Z","updated_at":"2020-08-05T21:53:15Z","author_association":"CONTRIBUTOR","body":"@kaisun2000 could you please confirm if the test can pass with re-run? And please confirm that the change does not make the test unstable.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/669534468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/669612859","html_url":"https://github.com/apache/helix/pull/1185#issuecomment-669612859","issue_url":"https://api.github.com/repos/apache/helix/issues/1185","id":669612859,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTYxMjg1OQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T00:26:07Z","updated_at":"2020-08-06T00:26:07Z","author_association":"CONTRIBUTOR","body":"This pull request is approved, please help to merge.\r\n\r\n>ZkHelixClusterVerifier and its subclass built with ZK addres would\r\ncreate an internal ZkClient. Without properly closing the ZkClient\r\nor using global ZkClient in the test base. There would be four\r\nthreads and one ZooKeeper client object leaked. The leaked threads\r\nwould be in thousands and thus be one of the main contributor\r\npreventing the unit test from finishing. This pull request address\r\nthis issue.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/669612859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/669615635","html_url":"https://github.com/apache/helix/pull/1201#issuecomment-669615635","issue_url":"https://api.github.com/repos/apache/helix/issues/1201","id":669615635,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTYxNTYzNQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T00:36:19Z","updated_at":"2020-08-06T00:36:19Z","author_association":"CONTRIBUTOR","body":"> @kaisun2000 could you please confirm if the test can pass with re-run? And please confirm that the change does not make the test unstable.\r\n\r\nYes, I re-run every failed test and they all can pass in one shot.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/669615635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/669644256","html_url":"https://github.com/apache/helix/pull/1197#issuecomment-669644256","issue_url":"https://api.github.com/repos/apache/helix/issues/1197","id":669644256,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTY0NDI1Ng==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T02:22:37Z","updated_at":"2020-08-06T02:22:37Z","author_association":"CONTRIBUTOR","body":"> One question: Do we want to change these public APIs? Maybe we can use some default value for the skipZKRead so we are not causing backward compatibility issues for existing usages?\r\n\r\n@alirezazamani Good question. But for the class itself, they are purely used for REST endpoint, as long as we keep the REST backward compatible, the class we treated as internal.\r\n\r\nDifferent from helix-core, helix-core will be careful since we provided as an library and especially the interfaces under API module should not be changed.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/669644256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/670093189","html_url":"https://github.com/apache/helix/pull/1223#issuecomment-670093189","issue_url":"https://api.github.com/repos/apache/helix/issues/1223","id":670093189,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDA5MzE4OQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T18:13:36Z","updated_at":"2020-08-06T18:13:36Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/670093189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/670127516","html_url":"https://github.com/apache/helix/pull/1197#issuecomment-670127516","issue_url":"https://api.github.com/repos/apache/helix/issues/1197","id":670127516,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDEyNzUxNg==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T18:46:12Z","updated_at":"2020-08-06T18:46:12Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/670127516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/670128885","html_url":"https://github.com/apache/helix/issues/1196#issuecomment-670128885","issue_url":"https://api.github.com/repos/apache/helix/issues/1196","id":670128885,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDEyODg4NQ==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T18:47:04Z","updated_at":"2020-08-06T18:47:04Z","author_association":"CONTRIBUTOR","body":"Code checkedin","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/670128885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/670200850","html_url":"https://github.com/apache/helix/pull/1213#issuecomment-670200850","issue_url":"https://api.github.com/repos/apache/helix/issues/1213","id":670200850,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDIwMDg1MA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-06T21:27:33Z","updated_at":"2020-08-06T21:27:33Z","author_association":"CONTRIBUTOR","body":"> I can help to merge once the test results are post : ) @kaisun2000\r\n\r\nThe test result posted. Mostly passed. Failed one can pass by running individually.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/670200850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/670257741","html_url":"https://github.com/apache/helix/pull/1225#issuecomment-670257741","issue_url":"https://api.github.com/repos/apache/helix/issues/1225","id":670257741,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDI1Nzc0MQ==","user":{"login":"zhangmeng916","id":56051770,"node_id":"MDQ6VXNlcjU2MDUxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/56051770?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangmeng916","html_url":"https://github.com/zhangmeng916","followers_url":"https://api.github.com/users/zhangmeng916/followers","following_url":"https://api.github.com/users/zhangmeng916/following{/other_user}","gists_url":"https://api.github.com/users/zhangmeng916/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangmeng916/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangmeng916/subscriptions","organizations_url":"https://api.github.com/users/zhangmeng916/orgs","repos_url":"https://api.github.com/users/zhangmeng916/repos","events_url":"https://api.github.com/users/zhangmeng916/events{/privacy}","received_events_url":"https://api.github.com/users/zhangmeng916/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T00:35:16Z","updated_at":"2020-08-07T00:35:16Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged. Approved by @mgao0 and @jiajunwang \r\nFinal commit message:\r\nUpdate customized view after all calculation is done.\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/670257741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/670656409","html_url":"https://github.com/apache/helix/pull/1213#issuecomment-670656409","issue_url":"https://api.github.com/repos/apache/helix/issues/1213","id":670656409,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDY1NjQwOQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T18:43:45Z","updated_at":"2020-08-07T18:43:45Z","author_association":"CONTRIBUTOR","body":"The pull request is approved, please help to merge into trunk.\r\n\r\n>HelixTaskExcutor thread pool has not unqiue name. Assign unique\r\nname. Also, for TaskModelFactory related test, there are leaks\r\nin a test. Eliminate the leak.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/670656409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/670692123","html_url":"https://github.com/apache/helix/pull/1215#issuecomment-670692123","issue_url":"https://api.github.com/repos/apache/helix/issues/1215","id":670692123,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDY5MjEyMw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T20:07:02Z","updated_at":"2020-08-07T20:07:02Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/670692123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/670716214","html_url":"https://github.com/apache/helix/pull/1221#issuecomment-670716214","issue_url":"https://api.github.com/repos/apache/helix/issues/1221","id":670716214,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDcxNjIxNA==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-07T21:14:58Z","updated_at":"2020-08-07T21:14:58Z","author_association":"NONE","body":"> Another thing, if we directly drop current state, shall we have some mechanism in the participant side to cancel all running tasks before we reset all the thread pool? If there are some data need to be cleared.\r\n\r\nI just checked the HelixStateMachineEngine file. When we call reset() in this file, for the tasks we call       _taskRunner.cancel() which cancels the tasks on the participant. So I think if we skip the currentState carry over operation for the tasks, we are good to go. Please let me know if that answers your questions. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/670716214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/670791239","html_url":"https://github.com/apache/helix/issues/1204#issuecomment-670791239","issue_url":"https://api.github.com/repos/apache/helix/issues/1204","id":670791239,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDc5MTIzOQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-08T00:07:33Z","updated_at":"2020-08-08T00:07:33Z","author_association":"CONTRIBUTOR","body":"Hi Helix Committers @jiajunwang @lei-xia @dasahcc @narendly @alirezazamani ,\r\nSince we've moved to GitHub issues from Jira system to track issues, shall we change this in pom/helix website to reflect this change?\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/670791239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/670999643","html_url":"https://github.com/apache/helix/issues/1240#issuecomment-670999643","issue_url":"https://api.github.com/repos/apache/helix/issues/1240","id":670999643,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDk5OTY0Mw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-09T03:09:29Z","updated_at":"2020-08-09T03:09:29Z","author_association":"CONTRIBUTOR","body":"Note, running `mvn test -Dtest=TestCrushAutoRebalance also invokes afterClass().`\r\n\r\ninvokes three blank testAddZone, testNodeFailure etc. Maybe this is the reason why afterClass() not invoked.\r\n\r\n```\r\n\r\n  @Test()\r\n  public void testAddZone() throws Exception {\r\n    // TODO\r\n  }\r\n\r\n  @Test()\r\n  public void testAddNodes() throws Exception {\r\n    // TODO\r\n  }\r\n\r\n  @Test()\r\n  public void testNodeFailure() throws Exception {\r\n    // TODO\r\n  }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/670999643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/671000974","html_url":"https://github.com/apache/helix/issues/1240#issuecomment-671000974","issue_url":"https://api.github.com/repos/apache/helix/issues/1240","id":671000974,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTAwMDk3NA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-09T03:30:16Z","updated_at":"2020-08-09T03:33:31Z","author_association":"CONTRIBUTOR","body":"Confirmed, the void test caused afterClass() not running. This is a bug of TestNg with mvn. \r\n\r\ncomment out the blank tests, we have following log\r\n\r\n>TestExpandCluster has active threads cnt:137\r\nSTART TestCrushAutoRebalance at Sat Aug 08 20:19:08 PDT 2020\r\nSTART testZoneIsolationWithInstanceTag at Sat Aug 08 20:19:08 PDT 2020\r\nEND testZoneIsolationWithInstanceTag at Sat Aug 08 20:19:09 PDT 2020, took: 484ms.\r\nSTART testZoneIsolationWithInstanceTag at Sat Aug 08 20:19:09 PDT 2020\r\nEND testZoneIsolationWithInstanceTag at Sat Aug 08 20:19:09 PDT 2020, took: 512ms.\r\nSTART testZoneIsolationWithInstanceTag at Sat Aug 08 20:19:09 PDT 2020\r\nEND testZoneIsolationWithInstanceTag at Sat Aug 08 20:19:10 PDT 2020, took: 491ms.\r\nSTART testZoneIsolation at Sat Aug 08 20:19:10 PDT 2020\r\nEND testZoneIsolation at Sat Aug 08 20:19:10 PDT 2020, took: 465ms.\r\nSTART testZoneIsolation at Sat Aug 08 20:19:10 PDT 2020\r\nEND testZoneIsolation at Sat Aug 08 20:19:11 PDT 2020, took: 478ms.\r\nSTART testZoneIsolation at Sat Aug 08 20:19:11 PDT 2020\r\nEND testZoneIsolation at Sat Aug 08 20:19:11 PDT 2020, took: 449ms.\r\nSTART testLackEnoughLiveRacks at Sat Aug 08 20:19:11 PDT 2020\r\nEND testLackEnoughLiveRacks at Sat Aug 08 20:19:12 PDT 2020, took: 1011ms.\r\nSTART testLackEnoughRacks at Sat Aug 08 20:19:12 PDT 2020\r\nEND testLackEnoughRacks at Sat Aug 08 20:19:14 PDT 2020, took: 1211ms.\r\nEND TestCrushAutoRebalance at Sat Aug 08 20:19:15 PDT 2020\r\nTestCrushAutoRebalance has active threads cnt:134\r\nSTART TestCrushAutoRebalanceNonRack at Sat Aug 08 20:19:15 PDT 2020\r\nSTART test at Sat Aug 08 20:19:15 PDT 2020\r\nEND test at Sat Aug 08 20:19:16 PDT 2020, took: 558ms.\r\nSTART test at Sat Aug 08 20:19:16 PDT 2020\r\nEND test at Sat Aug 08 20:19:16 PDT 2020, took: 555ms.\r\nSTART testWithInstanceTag at Sat Aug 08 20:19:16 PDT 2020\r\nEND testWithInstanceTag at Sat Aug 08 20:19:17 PDT 2020, took: 600ms.\r\nSTART testWithInstanceTag at Sat Aug 08 20:19:17 PDT 2020\r\nEND testWithInstanceTag at Sat Aug 08 20:19:17 PDT 2020, took: 593ms.\r\nSTART testLackEnoughLiveInstances at Sat Aug 08 20:19:17 PDT 2020\r\nEND testLackEnoughLiveInstances at Sat Aug 08 20:19:18 PDT 2020, took: 581ms.\r\nSTART testLackEnoughLiveInstances at Sat Aug 08 20:19:18 PDT 2020\r\nEND testLackEnoughLiveInstances at Sat Aug 08 20:19:18 PDT 2020, took: 555ms.\r\nSTART testLackEnoughInstances at Sat Aug 08 20:19:18 PDT 2020\r\nEND testLackEnoughInstances at Sat Aug 08 20:19:19 PDT 2020, took: 925ms.\r\nSTART testLackEnoughInstances at Sat Aug 08 20:19:19 PDT 2020\r\nEND testLackEnoughInstances at Sat Aug 08 20:19:20 PDT 2020, took: 893ms.\r\nEND TestCrushAutoRebalanceNonRack at Sat Aug 08 20:19:21 PDT 2020\r\nTestCrushAutoRebalanceNonRack has active threads cnt:137\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/671000974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/671233838","html_url":"https://github.com/apache/helix/issues/1240#issuecomment-671233838","issue_url":"https://api.github.com/repos/apache/helix/issues/1240","id":671233838,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTIzMzgzOA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T08:44:49Z","updated_at":"2020-08-10T08:44:49Z","author_association":"CONTRIBUTOR","body":"After spending a lot of time testing, I found mvn 3.6.1 with current Testng combination has the following bug.\r\n\r\nIf some test method in a class use @Test(dependsOnMethod=\"blah\"). If other methods without dependsOnMethod attribute will not be run. What is more, @afterClass of this class and all the base class won't run either. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/671233838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/671509536","html_url":"https://github.com/apache/helix/pull/1237#issuecomment-671509536","issue_url":"https://api.github.com/repos/apache/helix/issues/1237","id":671509536,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTUwOTUzNg==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T18:15:46Z","updated_at":"2020-08-10T18:15:46Z","author_association":"CONTRIBUTOR","body":"> Error message for server side is clear to find out the fail reason. The more important is let user to understand what is the real fail reason. Do we have that if persist assignment turned off, at least, we gave user info EV and IS does not match.\r\n\r\n@dasahcc This PR is to provide the info to let users know the reason. The root cause is exception/error is not returned as response. This PR adds the exception/error message to not stoppable reason in the return response.\r\nhttps://github.com/apache/helix/pull/1237/files#diff-c98c0908866d29b64f625e799c198d15R224-R227\r\n\r\nThe result will be what is the description\r\n```\r\ncurl -XPOST http://localhost:8100/admin/v2/namespaces/namespacce/clusters/cluster/instances\\?command\\=stoppable -d ' {\"instances\": [\"instance\"], \"selection_base\": \"zone_based\", \"max_instance\": \"2\", \"customized_values\": \"{}\"}' -H \"Content-Type: application/json\"\r\n{\r\n  \"instance_stoppable_parallel\" : [ ],\r\n  \"instance_not_stoppable_with_reasons\" : {\r\n    \"instance\" : [ \"HELIX:Instance stability check needs persist assignment cluster config turned on: PERSIST_INTERMEDIATE_ASSIGNMENT = true\" ]\r\n  }\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/671509536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/671580998","html_url":"https://github.com/apache/helix/pull/1221#issuecomment-671580998","issue_url":"https://api.github.com/repos/apache/helix/issues/1221","id":671580998,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTU4MDk5OA==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-10T20:45:39Z","updated_at":"2020-08-10T20:45:39Z","author_association":"NONE","body":"This PR is ready to be merged.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/671580998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/671658853","html_url":"https://github.com/apache/helix/pull/1243#issuecomment-671658853","issue_url":"https://api.github.com/repos/apache/helix/issues/1243","id":671658853,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTY1ODg1Mw==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T00:40:32Z","updated_at":"2020-08-11T00:40:32Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/671658853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/671696551","html_url":"https://github.com/apache/helix/issues/1246#issuecomment-671696551","issue_url":"https://api.github.com/repos/apache/helix/issues/1246","id":671696551,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTY5NjU1MQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T03:02:40Z","updated_at":"2020-08-11T03:02:40Z","author_association":"CONTRIBUTOR","body":"This is huge one. Now we have around 1200 leaking threads. This one takes around 1/3","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/671696551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/671765060","html_url":"https://github.com/apache/helix/issues/1247#issuecomment-671765060","issue_url":"https://api.github.com/repos/apache/helix/issues/1247","id":671765060,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTc2NTA2MA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T06:55:07Z","updated_at":"2020-08-11T06:55:07Z","author_association":"CONTRIBUTOR","body":"Most of the pool-* thread is not true leak. Leaking some ZKCLient.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/671765060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/671787750","html_url":"https://github.com/apache/helix/issues/1246#issuecomment-671787750","issue_url":"https://api.github.com/repos/apache/helix/issues/1246","id":671787750,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTc4Nzc1MA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T07:48:21Z","updated_at":"2020-08-11T07:48:21Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/helix/pull/1227 addressed this one.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/671787750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/671787927","html_url":"https://github.com/apache/helix/issues/1247#issuecomment-671787927","issue_url":"https://api.github.com/repos/apache/helix/issues/1247","id":671787927,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTc4NzkyNw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T07:48:44Z","updated_at":"2020-08-11T07:48:44Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/helix/pull/1227 addressed this one.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/671787927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/671788283","html_url":"https://github.com/apache/helix/issues/1240#issuecomment-671788283","issue_url":"https://api.github.com/repos/apache/helix/issues/1240","id":671788283,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTc4ODI4Mw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T07:49:30Z","updated_at":"2020-08-11T07:49:30Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/helix/pull/1227 addresses this one.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/671788283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/671800639","html_url":"https://github.com/apache/helix/issues/1241#issuecomment-671800639","issue_url":"https://api.github.com/repos/apache/helix/issues/1241","id":671800639,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTgwMDYzOQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T08:15:03Z","updated_at":"2020-08-11T08:15:03Z","author_association":"CONTRIBUTOR","body":"This is addressed in https://github.com/apache/helix/pull/1227","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/671800639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/671828956","html_url":"https://github.com/apache/helix/issues/1245#issuecomment-671828956","issue_url":"https://api.github.com/repos/apache/helix/issues/1245","id":671828956,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTgyODk1Ng==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T09:10:45Z","updated_at":"2020-08-11T09:10:45Z","author_association":"CONTRIBUTOR","body":"HelixTaskExecutor does not shutdown STATE_TRANSITION.Key specific pool. That is the root cause. This has thread leaking in production environment if the msgtype-resourcekey feature is enabled when zk session expires.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/671828956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/671829946","html_url":"https://github.com/apache/helix/issues/1245#issuecomment-671829946","issue_url":"https://api.github.com/repos/apache/helix/issues/1245","id":671829946,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTgyOTk0Ng==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T09:12:44Z","updated_at":"2020-08-11T09:12:44Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/helix/pull/1227 address this issue.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/671829946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/672272081","html_url":"https://github.com/apache/helix/pull/1129#issuecomment-672272081","issue_url":"https://api.github.com/repos/apache/helix/issues/1129","id":672272081,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MjI3MjA4MQ==","user":{"login":"xyuanlu","id":6392021,"node_id":"MDQ6VXNlcjYzOTIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/6392021?v=4","gravatar_id":"","url":"https://api.github.com/users/xyuanlu","html_url":"https://github.com/xyuanlu","followers_url":"https://api.github.com/users/xyuanlu/followers","following_url":"https://api.github.com/users/xyuanlu/following{/other_user}","gists_url":"https://api.github.com/users/xyuanlu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyuanlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyuanlu/subscriptions","organizations_url":"https://api.github.com/users/xyuanlu/orgs","repos_url":"https://api.github.com/users/xyuanlu/repos","events_url":"https://api.github.com/users/xyuanlu/events{/privacy}","received_events_url":"https://api.github.com/users/xyuanlu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T20:50:17Z","updated_at":"2020-08-11T20:50:44Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged.\r\n\r\nValidate instance topology configuration before let it comes online\r\n\r\nHelix does not check if an instance's topology config is defined correctly when the instance is added or joins cluster. This will cause Helix to fail the rebalance. This change adds the sanity check when\r\n- Instance joins cluster as liveInstance\r\n- User update InstanceConfig using RestApi\r\n- Controller prepares the topology structure for rebalance\r\n\r\nThis change also did come code clean up and centralized the logic for topology sanity check.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/672272081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/672618684","html_url":"https://github.com/apache/helix/issues/1254#issuecomment-672618684","issue_url":"https://api.github.com/repos/apache/helix/issues/1254","id":672618684,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MjYxODY4NA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-12T05:51:40Z","updated_at":"2020-08-12T05:51:40Z","author_association":"CONTRIBUTOR","body":"Actually, the best practice seems to be at the beginning of the test, add `Assert.assertTrue(_clusterVerifier.verifyByPolling())`. Namely let the test be in a known stable state before starting. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/672618684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/672698081","html_url":"https://github.com/apache/helix/pull/1129#issuecomment-672698081","issue_url":"https://api.github.com/repos/apache/helix/issues/1129","id":672698081,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MjY5ODA4MQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-12T07:43:24Z","updated_at":"2020-08-12T07:43:24Z","author_association":"CONTRIBUTOR","body":"@xyuanlu Since the CI test didn't finish, could you help run the tests and after that I'll help merge? Thanks.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/672698081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/672766775","html_url":"https://github.com/apache/helix/issues/1239#issuecomment-672766775","issue_url":"https://api.github.com/repos/apache/helix/issues/1239","id":672766775,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Mjc2Njc3NQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-12T09:35:23Z","updated_at":"2020-08-12T09:35:23Z","author_association":"CONTRIBUTOR","body":"addressed by #1227 ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/672766775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/672905152","html_url":"https://github.com/apache/helix/pull/1229#issuecomment-672905152","issue_url":"https://api.github.com/repos/apache/helix/issues/1229","id":672905152,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MjkwNTE1Mg==","user":{"login":"rabashizade","id":67170754,"node_id":"MDQ6VXNlcjY3MTcwNzU0","avatar_url":"https://avatars.githubusercontent.com/u/67170754?v=4","gravatar_id":"","url":"https://api.github.com/users/rabashizade","html_url":"https://github.com/rabashizade","followers_url":"https://api.github.com/users/rabashizade/followers","following_url":"https://api.github.com/users/rabashizade/following{/other_user}","gists_url":"https://api.github.com/users/rabashizade/gists{/gist_id}","starred_url":"https://api.github.com/users/rabashizade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabashizade/subscriptions","organizations_url":"https://api.github.com/users/rabashizade/orgs","repos_url":"https://api.github.com/users/rabashizade/repos","events_url":"https://api.github.com/users/rabashizade/events{/privacy}","received_events_url":"https://api.github.com/users/rabashizade/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-12T14:27:38Z","updated_at":"2020-08-12T14:27:38Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged.\r\n\r\nFinal commit message:\r\n**Add JarLoader interface and LocalJarLoader implementation**\r\n\r\nAdds JarLoader interface to load JAR files that contain task classes\r\nwhich we want to dynamically load.\r\n\r\nAlso adds LocalJarLoader implementation of JarLoader interface which\r\nloads a JAR file from a local directory.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/672905152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/673025361","html_url":"https://github.com/apache/helix/pull/1251#issuecomment-673025361","issue_url":"https://api.github.com/repos/apache/helix/issues/1251","id":673025361,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzAyNTM2MQ==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-12T18:01:22Z","updated_at":"2020-08-12T18:01:22Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/673025361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/673091202","html_url":"https://github.com/apache/helix/pull/1169#issuecomment-673091202","issue_url":"https://api.github.com/repos/apache/helix/issues/1169","id":673091202,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzA5MTIwMg==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-12T20:22:13Z","updated_at":"2020-08-12T20:22:13Z","author_association":"CONTRIBUTOR","body":"@rabashizade Please update your description with the up-to-date results? Your change seems to be making a lot of tests fail.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/673091202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/673140574","html_url":"https://github.com/apache/helix/pull/1253#issuecomment-673140574","issue_url":"https://api.github.com/repos/apache/helix/issues/1253","id":673140574,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzE0MDU3NA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-12T22:26:01Z","updated_at":"2020-08-12T22:26:01Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @narendly ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/673140574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/673149001","html_url":"https://github.com/apache/helix/pull/1261#issuecomment-673149001","issue_url":"https://api.github.com/repos/apache/helix/issues/1261","id":673149001,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzE0OTAwMQ==","user":{"login":"zhangmeng916","id":56051770,"node_id":"MDQ6VXNlcjU2MDUxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/56051770?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangmeng916","html_url":"https://github.com/zhangmeng916","followers_url":"https://api.github.com/users/zhangmeng916/followers","following_url":"https://api.github.com/users/zhangmeng916/following{/other_user}","gists_url":"https://api.github.com/users/zhangmeng916/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangmeng916/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangmeng916/subscriptions","organizations_url":"https://api.github.com/users/zhangmeng916/orgs","repos_url":"https://api.github.com/users/zhangmeng916/repos","events_url":"https://api.github.com/users/zhangmeng916/events{/privacy}","received_events_url":"https://api.github.com/users/zhangmeng916/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-12T22:54:19Z","updated_at":"2020-08-12T22:54:19Z","author_association":"CONTRIBUTOR","body":"This PR is ready to merge, approved by @narendly \r\nFinal commit message:\r\nChange default monitor window length from 1 hour to 1 min\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/673149001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/673636212","html_url":"https://github.com/apache/helix/pull/1256#issuecomment-673636212","issue_url":"https://api.github.com/repos/apache/helix/issues/1256","id":673636212,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzYzNjIxMg==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T18:21:09Z","updated_at":"2020-08-13T18:21:09Z","author_association":"CONTRIBUTOR","body":"This PR is approved and ready to be merged.\r\n\r\nRe-run the test, all passed.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/673636212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/673673876","html_url":"https://github.com/apache/helix/pull/1263#issuecomment-673673876","issue_url":"https://api.github.com/repos/apache/helix/issues/1263","id":673673876,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzY3Mzg3Ng==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T19:42:13Z","updated_at":"2020-08-13T19:42:13Z","author_association":"CONTRIBUTOR","body":"> Looks good to me. Although I'm curious to know: if a path is updated on a frequent interval which is less than the TTL, its stale versions will steadily grow in size. Is that a case we would worry about?\r\n\r\nThe TTL design is to prevent GC a node that might being accessed by other threads/nodes. If update is frequent, then we may have multiple version during the TTL window. But they will eventually be cleaned up.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/673673876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/673673998","html_url":"https://github.com/apache/helix/pull/1263#issuecomment-673673998","issue_url":"https://api.github.com/repos/apache/helix/issues/1263","id":673673998,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzY3Mzk5OA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T19:42:32Z","updated_at":"2020-08-13T19:42:32Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/673673998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/673706435","html_url":"https://github.com/apache/helix/issues/1264#issuecomment-673706435","issue_url":"https://api.github.com/repos/apache/helix/issues/1264","id":673706435,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzcwNjQzNQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T20:57:21Z","updated_at":"2020-08-13T20:57:21Z","author_association":"CONTRIBUTOR","body":"This is the same issue as https://github.com/apache/helix/issues/1260, which has the details of why we believe so.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/673706435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/673711740","html_url":"https://github.com/apache/helix/pull/1265#issuecomment-673711740","issue_url":"https://api.github.com/repos/apache/helix/issues/1265","id":673711740,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzcxMTc0MA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T21:09:22Z","updated_at":"2020-08-13T21:09:22Z","author_association":"CONTRIBUTOR","body":"Let us see the results from github test run.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/673711740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/673713220","html_url":"https://github.com/apache/helix/pull/1265#issuecomment-673713220","issue_url":"https://api.github.com/repos/apache/helix/issues/1265","id":673713220,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzcxMzIyMA==","user":{"login":"zhangmeng916","id":56051770,"node_id":"MDQ6VXNlcjU2MDUxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/56051770?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangmeng916","html_url":"https://github.com/zhangmeng916","followers_url":"https://api.github.com/users/zhangmeng916/followers","following_url":"https://api.github.com/users/zhangmeng916/following{/other_user}","gists_url":"https://api.github.com/users/zhangmeng916/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangmeng916/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangmeng916/subscriptions","organizations_url":"https://api.github.com/users/zhangmeng916/orgs","repos_url":"https://api.github.com/users/zhangmeng916/repos","events_url":"https://api.github.com/users/zhangmeng916/events{/privacy}","received_events_url":"https://api.github.com/users/zhangmeng916/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T21:13:09Z","updated_at":"2020-08-13T21:13:09Z","author_association":"CONTRIBUTOR","body":"> Let us see the results from github test run.\r\n\r\n@kaisun2000 \r\nHere's the result from github run:\r\n\r\n[ERROR] Failures: \r\n[ERROR]   TestEnableCompression.testEnableCompressionResource:116 » ThreadTimeout Method...\r\n[ERROR]   TestWagedRebalance.testChangeIdealState:303->validate:646 expected:<true> but was:<false>\r\n[ERROR]   TestEnqueueJobs.testQueueJobsMaxCapacity » ThreadTimeout Method org.testng.int...\r\n[INFO] \r\n[ERROR] Tests run: 1164, Failures: 3, Errors: 0, Skipped: 0","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/673713220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/673727373","html_url":"https://github.com/apache/helix/issues/1266#issuecomment-673727373","issue_url":"https://api.github.com/repos/apache/helix/issues/1266","id":673727373,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzcyNzM3Mw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T21:49:15Z","updated_at":"2020-08-13T21:49:15Z","author_association":"CONTRIBUTOR","body":"fixed by #1227 ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/673727373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/673729460","html_url":"https://github.com/apache/helix/pull/1265#issuecomment-673729460","issue_url":"https://api.github.com/repos/apache/helix/issues/1265","id":673729460,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzcyOTQ2MA==","user":{"login":"zhangmeng916","id":56051770,"node_id":"MDQ6VXNlcjU2MDUxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/56051770?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangmeng916","html_url":"https://github.com/zhangmeng916","followers_url":"https://api.github.com/users/zhangmeng916/followers","following_url":"https://api.github.com/users/zhangmeng916/following{/other_user}","gists_url":"https://api.github.com/users/zhangmeng916/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangmeng916/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangmeng916/subscriptions","organizations_url":"https://api.github.com/users/zhangmeng916/orgs","repos_url":"https://api.github.com/users/zhangmeng916/repos","events_url":"https://api.github.com/users/zhangmeng916/events{/privacy}","received_events_url":"https://api.github.com/users/zhangmeng916/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T21:54:51Z","updated_at":"2020-08-13T21:54:51Z","author_association":"CONTRIBUTOR","body":"This PR is ready to merge, approved by @kaisun2000 \r\nFinal commit message: \r\nChange TestInstanceAutoJoin to adapt to cloud environment","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/673729460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/673742067","html_url":"https://github.com/apache/helix/pull/1183#issuecomment-673742067","issue_url":"https://api.github.com/repos/apache/helix/issues/1183","id":673742067,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Mzc0MjA2Nw==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T22:30:40Z","updated_at":"2020-08-13T22:30:40Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/673742067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/673762645","html_url":"https://github.com/apache/helix/pull/1231#issuecomment-673762645","issue_url":"https://api.github.com/repos/apache/helix/issues/1231","id":673762645,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Mzc2MjY0NQ==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T23:42:44Z","updated_at":"2020-08-13T23:42:44Z","author_association":"CONTRIBUTOR","body":"This PR is ready to merge, approved by @alirezazamani \r\nFinal commit message:\r\n## Terminal State Job Purging in TaskFramework ##\r\nThis PR added a new field to JobConfig for terminal job expiries, and added new logic to garbage collection stage to purge jobs in terminal states. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/673762645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/673767199","html_url":"https://github.com/apache/helix/issues/1267#issuecomment-673767199","issue_url":"https://api.github.com/repos/apache/helix/issues/1267","id":673767199,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Mzc2NzE5OQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T00:01:25Z","updated_at":"2020-08-14T00:01:25Z","author_association":"CONTRIBUTOR","body":"@jiajunwang, please add the pull request addressing this issue.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/673767199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/673767209","html_url":"https://github.com/apache/helix/issues/401#issuecomment-673767209","issue_url":"https://api.github.com/repos/apache/helix/issues/401","id":673767209,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Mzc2NzIwOQ==","user":{"login":"xyuanlu","id":6392021,"node_id":"MDQ6VXNlcjYzOTIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/6392021?v=4","gravatar_id":"","url":"https://api.github.com/users/xyuanlu","html_url":"https://github.com/xyuanlu","followers_url":"https://api.github.com/users/xyuanlu/followers","following_url":"https://api.github.com/users/xyuanlu/following{/other_user}","gists_url":"https://api.github.com/users/xyuanlu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyuanlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyuanlu/subscriptions","organizations_url":"https://api.github.com/users/xyuanlu/orgs","repos_url":"https://api.github.com/users/xyuanlu/repos","events_url":"https://api.github.com/users/xyuanlu/events{/privacy}","received_events_url":"https://api.github.com/users/xyuanlu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T00:01:29Z","updated_at":"2020-08-14T00:17:28Z","author_association":"CONTRIBUTOR","body":"Hi @brunnsbe,\r\n\r\nThanks so much for working on Helix! \r\nWe did a performance experiment profile and find for a specific use case -- Helix controller leadership switch, using FasterXML/jackson along with some other performance improv changes, we get round around ~3x faster performance result. \r\n\r\nBaseline profile:\r\nThe org.apache.helix.zookeeper.datamodel.serializer.ZNRecordSerializer.deserialize took ~60% of the time for org.apache.helix.manager.zk.DistributedLeaderElection.onControllerChange, where onControllerChange overall takes ~60s. This function call is CPU heavy. \r\n<img width=\"1389\" alt=\"screen_shot_2020-08-07_at_12 30 15_pm\" src=\"https://user-images.githubusercontent.com/6392021/90198327-37d0ac00-dd86-11ea-82c8-b9e7f4d453fa.png\">\r\n\r\n\r\nAfter changing to FasterXML/jackson and made the ObjectMapper static, ZNRecordSerializer.deserialize only take ~10% of the total time, where onControllerChange overall takes ~20s. It becomes IO bounded.\r\n<img width=\"1679\" alt=\"Screen Shot 2020-08-13 at 5 00 29 PM\" src=\"https://user-images.githubusercontent.com/6392021/90198442-80886500-dd86-11ea-9250-ba67268c4a04.png\">\r\n\r\nIt is another evidence that we should replace org.codehaus.jackson with FasterXML/jackson.\r\n\r\nDo you want to continue the work and create a PR :D?\r\n\r\nXiaoyuan\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/673767209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/673768940","html_url":"https://github.com/apache/helix/issues/1267#issuecomment-673768940","issue_url":"https://api.github.com/repos/apache/helix/issues/1267","id":673768940,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Mzc2ODk0MA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T00:07:49Z","updated_at":"2020-08-14T00:08:20Z","author_association":"CONTRIBUTOR","body":"This PR is supposed to fix it. #1256 \r\n\r\nPlease run the test and see if it has been addressed. I personally tried it 3 times, no failure in this test anymore.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/673768940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/673778244","html_url":"https://github.com/apache/helix/issues/1268#issuecomment-673778244","issue_url":"https://api.github.com/repos/apache/helix/issues/1268","id":673778244,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Mzc3ODI0NA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T00:44:26Z","updated_at":"2020-08-14T00:44:26Z","author_association":"CONTRIBUTOR","body":"This may be a really just slow for controller to rebalance. Try increasing the timeout value?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/673778244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/673778587","html_url":"https://github.com/apache/helix/issues/401#issuecomment-673778587","issue_url":"https://api.github.com/repos/apache/helix/issues/401","id":673778587,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Mzc3ODU4Nw==","user":{"login":"xyuanlu","id":6392021,"node_id":"MDQ6VXNlcjYzOTIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/6392021?v=4","gravatar_id":"","url":"https://api.github.com/users/xyuanlu","html_url":"https://github.com/xyuanlu","followers_url":"https://api.github.com/users/xyuanlu/followers","following_url":"https://api.github.com/users/xyuanlu/following{/other_user}","gists_url":"https://api.github.com/users/xyuanlu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyuanlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyuanlu/subscriptions","organizations_url":"https://api.github.com/users/xyuanlu/orgs","repos_url":"https://api.github.com/users/xyuanlu/repos","events_url":"https://api.github.com/users/xyuanlu/events{/privacy}","received_events_url":"https://api.github.com/users/xyuanlu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T00:45:45Z","updated_at":"2020-08-17T00:17:48Z","author_association":"CONTRIBUTOR","body":"BTW, we improved our unit test and you won't see that much OutOfMemoryException now. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/673778587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/673861691","html_url":"https://github.com/apache/helix/pull/1187#issuecomment-673861691","issue_url":"https://api.github.com/repos/apache/helix/issues/1187","id":673861691,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Mzg2MTY5MQ==","user":{"login":"mgao0","id":31704180,"node_id":"MDQ6VXNlcjMxNzA0MTgw","avatar_url":"https://avatars.githubusercontent.com/u/31704180?v=4","gravatar_id":"","url":"https://api.github.com/users/mgao0","html_url":"https://github.com/mgao0","followers_url":"https://api.github.com/users/mgao0/followers","following_url":"https://api.github.com/users/mgao0/following{/other_user}","gists_url":"https://api.github.com/users/mgao0/gists{/gist_id}","starred_url":"https://api.github.com/users/mgao0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgao0/subscriptions","organizations_url":"https://api.github.com/users/mgao0/orgs","repos_url":"https://api.github.com/users/mgao0/repos","events_url":"https://api.github.com/users/mgao0/events{/privacy}","received_events_url":"https://api.github.com/users/mgao0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T03:23:13Z","updated_at":"2020-08-14T03:23:13Z","author_association":"CONTRIBUTOR","body":"This PR is ready to merge, approved by @jiajunwang \r\nFinal commit message:\r\nAdd latency metric support for customized view aggregation","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/673861691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/674214950","html_url":"https://github.com/apache/helix/pull/1169#issuecomment-674214950","issue_url":"https://api.github.com/repos/apache/helix/issues/1169","id":674214950,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDIxNDk1MA==","user":{"login":"rabashizade","id":67170754,"node_id":"MDQ6VXNlcjY3MTcwNzU0","avatar_url":"https://avatars.githubusercontent.com/u/67170754?v=4","gravatar_id":"","url":"https://api.github.com/users/rabashizade","html_url":"https://github.com/rabashizade","followers_url":"https://api.github.com/users/rabashizade/followers","following_url":"https://api.github.com/users/rabashizade/following{/other_user}","gists_url":"https://api.github.com/users/rabashizade/gists{/gist_id}","starred_url":"https://api.github.com/users/rabashizade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabashizade/subscriptions","organizations_url":"https://api.github.com/users/rabashizade/orgs","repos_url":"https://api.github.com/users/rabashizade/repos","events_url":"https://api.github.com/users/rabashizade/events{/privacy}","received_events_url":"https://api.github.com/users/rabashizade/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T18:47:28Z","updated_at":"2020-08-14T18:47:28Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged.\r\n\r\nFinal commit message:\r\n**Dynamically Load Tasks in Task Framework**\r\n\r\nAdds loadNewTask() to TaskStateModel to support dynamically\r\nloading tasks from JAR files by reading the dynamic task configs\r\nfrom ZooKeeper at the runtime.\r\n\r\nAppropriate tests are added to TestDynamicTaskLoading.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/674214950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/674286050","html_url":"https://github.com/apache/helix/issues/1268#issuecomment-674286050","issue_url":"https://api.github.com/repos/apache/helix/issues/1268","id":674286050,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDI4NjA1MA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T21:48:08Z","updated_at":"2020-08-14T21:50:19Z","author_association":"CONTRIBUTOR","body":"2020-08-14T19:41:23.6851005Z ---- before set error states!\r\n2020-08-14T19:41:23.6860024Z ---- Enter loop for resource TestResource\r\n2020-08-14T19:41:24.7386035Z ---- enter verifyState!\r\n2020-08-14T19:41:24.7571720Z 4624154 [TestNGInvoker-testEnableCompressionResource()] INFO  org.apache.helix.controller.dataproviders.BaseControllerDataProvider  - Start loading the abnormal state resolvers with configuration {}\r\n2020-08-14T19:41:24.7573277Z 4624154 [TestNGInvoker-testEnableCompressionResource()] INFO  org.apache.helix.controller.dataproviders.BaseControllerDataProvider  - Finish loading the abnormal state resolvers {}\r\n2020-08-14T19:41:27.9875103Z 4627384 [TestNGInvoker-testEnableCompressionResource()] INFO  org.apache.helix.controller.dataproviders.BaseControllerDataProvider  - Event ClusterStateVerifier : Reloaded InstanceConfig for cluster UNKNOWN_CLUSTER, DEFAULT pipeline. Keys: [localhost_12919, localhost_12926, localhost_12927, localhost_12918, localhost_12922, localhost_12923, localhost_12924, localhost_12925, localhost_12920, localhost_12921]\r\n**2020-08-14T19:41:29.0332442Z 4628430 [TestNGInvoker-testEnableCompressionResource()] INFO  org.apache.helix.controller.dataproviders.BaseControllerDataProvider  - Event ClusterStateVerifier : Reloaded ResourceConfig for cluster UNKNOWN_CLUSTER, DEFAULT pipeline. Cnt: 0**\r\n\r\n2020-08-14T19:41:30.0553061Z 4629446 [HelixController-pipeline-task-TestEnableCompression_testEnableCompressionResource-(952009c2_TASK)] INFO  org.apache.helix.controller.dataproviders.WorkflowControllerDataProvider  - Event 952009c2_TASK : END: WorkflowControllerDataProvider.refresh() for cluster TestEnableCompression_testEnableCompressionResource, started at 1597434041207 took 48841 for TASK pipeline\r\n2020-08-14T19:41:31.2014525Z 4630597 [HelixController-pipeline-task-TestEnableCompression_testEnableCompressionResource-(445a28b7_TASK)] INFO  org.apache.helix.controller.dataproviders.BaseControllerDataProvider  - Event 445a28b7_TASK : No ClusterConfig change for cluster TestEnableCompression_testEnableCompressionResource, pipeline TASK\r\n2020-08-14T19:41:31.2015842Z 4630597 [HelixController-pipeline-task-TestEnableCompression_testEnableCompressionResource-(445a28b7_TASK)] INFO  org.apache.helix.controller.dataproviders.BaseControllerDataProvider  - Event 445a28b7_TASK : No ideal state change for TestEnableCompression_testEnableCompressionResource cluster, TASK pipeline\r\n2020-08-14T19:41:31.2016840Z 4630597 [HelixController-pipeline-task-TestEnableCompression_testEnableCompressionResource-(445a28b7_TASK)] INFO  org.apache.helix.controller.dataproviders.BaseControllerDataProvider  - Event 445a28b7_TASK : No live instance change for TestEnableCompression_testEnableCompressionResource cluster, TASK pipeline\r\n2020-08-14T19:41:31.2017691Z 4630597 [HelixController-pipeline-task-TestEnableCompression_testEnableCompressionResource-(445a28b7_TASK)] INFO  org.apache.helix.controller.dataproviders.BaseControllerDataProvider  - Event 445a28b7_TASK : No instance config change for TestEnableCompression_testEnableCompressionResource cluster, TASK pipeline\r\n2020-08-14T19:41:31.2022446Z 4630597 [HelixController-pipeline-task-TestEnableCompression_testEnableCompressionResource-(445a28b7_TASK)] INFO  org.apache.helix.controller.dataproviders.BaseControllerDataProvider  - Event 445a28b7_TASK : No resource config change for TestEnableCompression_testEnableCompressionResource cluster, TASK pipeline\r\n2020-08-14T19:41:51.6018228Z 4650999 [HelixController-pipeline-default-TestEnableCompression_testEnableCompressionResource-(2a930739_DEFAULT)] INFO  org.apache.helix.controller.dataproviders.BaseControllerDataProvider  - Start loading the abnormal state resolvers with configuration {}\r\n2020-08-14T19:41:51.6029574Z 4651000 [HelixController-pipeline-default-TestEnableCompression_testEnableCompressionResource-(2a930739_DEFAULT)] INFO  org.apache.helix.controller.dataproviders.BaseControllerDataProvider  - Finish loading the abnormal state resolvers {}\r\n2020-08-14T19:41:53.7880201Z 4653185 [HelixController-pipeline-default-TestEnableCompression_testEnableCompressionResource-(2a930739_DEFAULT)] INFO  org.apache.helix.controller.dataproviders.BaseControllerDataProvider  - Event 2a930739_DEFAULT : Reloaded InstanceConfig for cluster TestEnableCompression_testEnableCompressionResource, DEFAULT pipeline. Keys: [localhost_12919, localhost_12926, localhost_12927, localhost_12918, localhost_12922, localhost_12923, localhost_12924, localhost_12925, localhost_12920, localhost_12921]**\r\n2020-08-14T19:41:53.7990366Z 4653196 [HelixController-pipeline-default-TestEnableCompression_testEnableCompressionResource-(2a930739_DEFAULT)] INFO  org.apache.helix.controller.dataproviders.BaseControllerDataProvider  - Event 2a930739_DEFAULT : Reloaded ResourceConfig for cluster TestEnableCompression_testEnableCompressionResource, DEFAULT pipeline. Cnt: 0\r\n2020-08-14T19:42:05.7283887Z 4665125 [HelixController-pipeline-default-TestEnableCompression_testEnableCompressionResource-(2a930739_DEFAULT)] INFO  org.apache.helix.controller.dataproviders.ResourceControllerDataProvider  - Event 2a930739_DEFAULT : Reloaded CustomizedStateConfig for cluster TestEnableCompression_testEnableCompressionResource, DEFAULT pipeline.\r\n2020-08-14T19:42:05.7290542Z 4665126 [HelixController-pipeline-default-TestEnableCompression_testEnableCompressionResource-(2a930739_DEFAULT)] INFO  org.apache.helix.controller.dataproviders.ResourceControllerDataProvider  - Remove customizedView for state: []\r\n2020-08-14T19:42:06.7469715Z 4666134 [HelixController-pipeline-default-TestEnableCompression_testEnableCompressionResource-(2a930739_DEFAULT)] INFO  org.apache.helix.controller.dataproviders.ResourceControllerDataProvider  - Event 2a930739_DEFAULT : END: ResourceControllerDataProvider.refresh() for cluster TestEnableCompression_testEnableCompressionResource, started at 1597434111569 took 15167 for DEFAULT pipeline\r\n\r\n**2020-08-14T19:43:39.7597235Z 4759157 [TestNGInvoker-testEnableCompressionResource()] INFO  org.apache.helix.controller.dataproviders.ResourceControllerDataProvider  - Event ClusterStateVerifier : Reloaded CustomizedStateConfig for cluster TestEnableCompression_testEnableCompressionResource, DEFAULT pipeline.**\r\n2020-08-14T19:43:39.7602837Z 4759157 [TestNGInvoker-testEnableCompressionResource()] INFO  org.apache.helix.controller.dataproviders.ResourceControllerDataProvider  - Remove customizedView for state: []\r\n2020-08-14T19:43:39.7637117Z 4759161 [TestNGInvoker-testEnableCompressionResource()] INFO  org.apache.helix.controller.dataproviders.ResourceControllerDataProvider  - Event ClusterStateVerifier : END: ResourceControllerDataProvider.refresh() for cluster TestEnableCompression_testEnableCompressionResource, started at 1597434084738 took 135025 for DEFAULT pipeline\r\n2020-08-14T19:43:39.7656386Z ---- before verify instances !","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/674286050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/674287554","html_url":"https://github.com/apache/helix/issues/1268#issuecomment-674287554","issue_url":"https://api.github.com/repos/apache/helix/issues/1268","id":674287554,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDI4NzU1NA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T21:53:42Z","updated_at":"2020-08-14T21:53:42Z","author_association":"CONTRIBUTOR","body":"Reload CustomerizedStateConfig in GitHub environment took 130 secs. This maybe the bottleneck","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/674287554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/674288370","html_url":"https://github.com/apache/helix/pull/1271#issuecomment-674288370","issue_url":"https://api.github.com/repos/apache/helix/issues/1271","id":674288370,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDI4ODM3MA==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T21:56:41Z","updated_at":"2020-08-14T21:56:41Z","author_association":"CONTRIBUTOR","body":"Please update the PR title before merging. :) @jiajunwang ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/674288370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/674308308","html_url":"https://github.com/apache/helix/pull/1273#issuecomment-674308308","issue_url":"https://api.github.com/repos/apache/helix/issues/1273","id":674308308,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDMwODMwOA==","user":{"login":"rabashizade","id":67170754,"node_id":"MDQ6VXNlcjY3MTcwNzU0","avatar_url":"https://avatars.githubusercontent.com/u/67170754?v=4","gravatar_id":"","url":"https://api.github.com/users/rabashizade","html_url":"https://github.com/rabashizade","followers_url":"https://api.github.com/users/rabashizade/followers","following_url":"https://api.github.com/users/rabashizade/following{/other_user}","gists_url":"https://api.github.com/users/rabashizade/gists{/gist_id}","starred_url":"https://api.github.com/users/rabashizade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rabashizade/subscriptions","organizations_url":"https://api.github.com/users/rabashizade/orgs","repos_url":"https://api.github.com/users/rabashizade/repos","events_url":"https://api.github.com/users/rabashizade/events{/privacy}","received_events_url":"https://api.github.com/users/rabashizade/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T23:20:19Z","updated_at":"2020-08-14T23:20:19Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged.\r\n\r\nFinal commit message:\r\nDemonstrate elastic scaling for Task Framework on Kubernetes\r\n\r\nAdds the YAML manifests, test script requried, and instructions for\r\ndemoing elastic scaling for Task Framework on Minikube.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/674308308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/674313568","html_url":"https://github.com/apache/helix/pull/1271#issuecomment-674313568","issue_url":"https://api.github.com/repos/apache/helix/issues/1271","id":674313568,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDMxMzU2OA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T23:47:41Z","updated_at":"2020-08-14T23:47:41Z","author_association":"CONTRIBUTOR","body":"The title is the final one which describes the change. For the other information, it has been described in the issue.\r\n\r\nThis PR has been approved and ready to merge.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/674313568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/674322558","html_url":"https://github.com/apache/helix/issues/1268#issuecomment-674322558","issue_url":"https://api.github.com/repos/apache/helix/issues/1268","id":674322558,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDMyMjU1OA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-15T00:39:04Z","updated_at":"2020-08-15T00:39:04Z","author_association":"CONTRIBUTOR","body":"After enable the timeout long enough, we have:\r\n> 2020-08-14T23:50:42.7834929Z [ERROR] testEnableCompressionResource(org.apache.helix.integration.TestEnableCompression)  Time elapsed: 361.59 s  <<< FAILURE!\r\n2020-08-14T23:50:42.7835061Z java.lang.AssertionError: expected:<true> but was:<false>\r\n2020-08-14T23:50:42.7835175Z \tat org.apache.helix.integration.TestEnableCompression.testEnableCompressionResource(TestEnableCompression.java:120)\r\nPut it another way, the assertion failed due to 300s default timeout.\r\n\r\n```\r\n    BestPossibleExternalViewVerifier verifier =\r\n        new BestPossibleExternalViewVerifier.Builder(clusterName).setZkClient(_gZkClient)\r\n            .setExpectLiveInstances(expectedLiveInstances).setResources(expectedResources).build();\r\n\r\n    System.out.println(\"before verify by polling\");\r\n    boolean reuslt = verifier.verifyByPolling(true);  ---> this line failed.\r\n    Assert.assertTrue((reuslt));\r\n\r\n```\r\n\r\nThis is due to verifyByPolling timeout\r\n> 2020-08-14T23:37:40.2214816Z ---- before verify instances !\r\n2020-08-14T23:37:40.2215242Z ---- before get extViews!\r\n2020-08-14T23:37:42.4176199Z ---- before add empty idealstate if not there!\r\n2020-08-14T23:37:42.4177192Z ---- before calcualte bestPossOutput!\r\n2020-08-14T23:37:43.4766380Z 5052117 [HelixController-pipeline-task-TestEnableCompression_testEnableCompressionResource-(62dc8393_TASK)] INFO  org.apache.helix.controller.dataproviders.BaseControllerDataProvider  - Event 62dc8393_TASK : No ClusterConfig change for cluster TestEnableCompression_testEnableCompressionResource, pipeline TASK\r\n2020-08-14T23:37:43.4774575Z 5052118 [HelixController-pipeline-task-TestEnableCompression_testEnableCompressionResource-(62dc8393_TASK)] INFO  org.apache.helix.controller.dataproviders.BaseControllerDataProvider  - Event 62dc8393_TASK : No ideal state change for TestEnableCompression_testEnableCompressionResource cluster, TASK pipeline\r\n2020-08-14T23:37:43.4783040Z 5052119 [HelixController-pipeline-task-TestEnableCompression_testEnableCompressionResource-(62dc8393_TASK)] INFO  org.apache.helix.controller.dataproviders.BaseControllerDataProvider  - Event 62dc8393_TASK : No live instance change for TestEnableCompression_testEnableCompressionResource cluster, TASK pipeline\r\n2020-08-14T23:37:43.4789140Z 5052120 [HelixController-pipeline-task-TestEnableCompression_testEnableCompressionResource-(62dc8393_TASK)] INFO  org.apache.helix.controller.dataproviders.BaseControllerDataProvider  - Event 62dc8393_TASK : No instance config change for TestEnableCompression_testEnableCompressionResource cluster, TASK pipeline\r\n2020-08-14T23:37:43.4795757Z 5052121 [HelixController-pipeline-task-TestEnableCompression_testEnableCompressionResource-(62dc8393_TASK)] INFO  org.apache.helix.controller.dataproviders.BaseControllerDataProvider  - Event 62dc8393_TASK : No resource config change for TestEnableCompression_testEnableCompressionResource cluster, TASK pipeline\r\n2020-08-14T23:37:49.9322043Z ---- before set error states!\r\n2020-08-14T23:37:49.9324273Z ---- Enter loop for resource TestResource\r\n2020-08-14T23:37:50.9876666Z END testEnableCompressionResource at Fri Aug 14 23:37:50 UTC 2020, took: 361589ms.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/674322558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/674338778","html_url":"https://github.com/apache/helix/issues/1268#issuecomment-674338778","issue_url":"https://api.github.com/repos/apache/helix/issues/1268","id":674338778,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDMzODc3OA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-15T02:58:36Z","updated_at":"2020-08-15T02:58:36Z","author_association":"CONTRIBUTOR","body":"But giving enough time to both clusterVerifier and test method, the one can pass which previous fails consistently.\r\n\r\nThe main time it spends are `CustomizedStateConfig` in the verifier's first stage of _dataProvider.refresh(). It seem the VM in github CPU is slow or CPU cycle is limited.\r\n\r\n\r\nSee the log here: (file logs 259)  close to 9 minutes.\r\n>2020-08-15T01:54:42.2471239Z START testEnableCompressionResource at Sat Aug 15 01:54:42 UTC 2020\r\n2020-08-15T01:54:42.2475315Z START TestEnableCompression_testEnableCompressionResource at Sat Aug 15 01:54:42 UTC 2020 ......\r\n020-08-15T02:02:19.7213784Z ---- Enter loop for resource TestResource\r\n2020-08-15T02:02:20.5237517Z compressed paths:[/TestEnableCompression_testEnableCompressionResource/EXTERNALVIEW/TestResource, /TestEnableCompression_testEnableCompressionResource/IDEALSTATES/TestResource]\r\n2020-08-15T02:02:20.6172380Z 4858699 [HelixController-pipeline-default-TestEnableCompression_testEnableCompressionResource-(e3145653_DEFAULT)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_0 is not leader for TestEnableCompression_testEnableCompressionResource. Pipeline will not be invoked\r\n2020-08-15T02:02:20.6173128Z 4858700 [HelixController-pipeline-task-TestEnableCompression_testEnableCompressionResource-(e3145653_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_0 is not leader for TestEnableCompression_testEnableCompressionResource. Pipeline will not be invoked\r\n2020-08-15T02:02:20.6853124Z END TestEnableCompression_testEnableCompressionResource at Sat Aug 15 02:02:20 UTC 2020\r\n2020-08-15T02:02:20.6856135Z END testEnableCompressionResource at Sat Aug 15 02:02:20 UTC 2020, took: 458439ms.\r\n2020-08-15T02:02:20.6856320Z AfterClass:TestEnableCompression afterclass of ZkTestBase called!\r\n2020-08-15T02:02:21.6858577Z TestEnableCompression has active threads cnt:739","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/674338778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/674346046","html_url":"https://github.com/apache/helix/issues/1268#issuecomment-674346046","issue_url":"https://api.github.com/repos/apache/helix/issues/1268","id":674346046,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDM0NjA0Ng==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-15T04:14:04Z","updated_at":"2020-08-15T04:14:04Z","author_association":"CONTRIBUTOR","body":"Maybe need to review is CustomerizedStateConfig is essential","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/674346046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/674347957","html_url":"https://github.com/apache/helix/issues/1274#issuecomment-674347957","issue_url":"https://api.github.com/repos/apache/helix/issues/1274","id":674347957,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDM0Nzk1Nw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-15T04:39:12Z","updated_at":"2020-08-15T04:39:12Z","author_association":"CONTRIBUTOR","body":"This could be similar to https://github.com/apache/helix/issues/1268. Though validation is not easy. Maybe by reducing the ExternalViewBalancedVerifier polling time out, if it fails consistently, we can confirm.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/674347957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/674456719","html_url":"https://github.com/apache/helix/issues/1277#issuecomment-674456719","issue_url":"https://api.github.com/repos/apache/helix/issues/1277","id":674456719,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDQ1NjcxOQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-15T23:17:24Z","updated_at":"2020-08-15T23:17:24Z","author_association":"CONTRIBUTOR","body":"``` \r\n private void validateAggregationSnapshot() throws Exception {\r\n    boolean result = TestHelper.verify(new TestHelper.Verifier() {\r\n      @Override\r\n      public boolean verify() {\r\n        Map<String, Map<String, RoutingTableSnapshot>> routingTableSnapshots =\r\n            _routingTableProvider.getRoutingTableSnapshots();\r\n\r\n        // Get customized view snapshot\r\n        Map<String, RoutingTableSnapshot> fullCustomizedViewSnapshot =\r\n            routingTableSnapshots.get(PropertyType.CUSTOMIZEDVIEW.name());\r\n\r\n        if (fullCustomizedViewSnapshot.isEmpty() && !_routingTableProviderDataSources.isEmpty()) {\r\n          return false;\r\n        }\r\n\r\n        for (String customizedStateType : fullCustomizedViewSnapshot.keySet()) {\r\n          if (!_routingTableProviderDataSources.contains(customizedStateType)) {\r\n            return false;\r\n          }\r\n\r\n          // Get per customized state type snapshot\r\n          RoutingTableSnapshot customizedViewSnapshot =\r\n              fullCustomizedViewSnapshot.get(customizedStateType);\r\n\r\n          // local per customized state type map\r\n          Map<String, Map<String, Map<String, String>>> localSnapshot =\r\n              _localCustomizedView.getOrDefault(customizedStateType, Maps.newHashMap());\r\n\r\n          Collection<CustomizedView> customizedViews = customizedViewSnapshot.getCustomizeViews();\r\n\r\n          // If a customized state is not set to be aggregated in config, but is enabled in routing table provider, it will show up in customized view returned to user, but will be empty\r\n          if (!_aggregationEnabledTypes.contains(customizedStateType)\r\n              && customizedViews.size() != 0) {\r\n            return false;\r\n          }\r\n\r\n          if (_aggregationEnabledTypes.contains(customizedStateType)\r\n              && customizedViews.size() != localSnapshot.size()) {\r\n            return false;\r\n          }\r\n\r\n          // Get per resource snapshot\r\n          for (CustomizedView resourceCustomizedView : customizedViews) {\r\n            ZNRecord record = resourceCustomizedView.getRecord();\r\n            Map<String, Map<String, String>> resourceStateMap = record.getMapFields();\r\n\r\n            // Get local per resource map\r\n            Map<String, Map<String, String>> localPerResourceCustomizedView = localSnapshot\r\n                .getOrDefault(resourceCustomizedView.getResourceName(), Maps.newHashMap());\r\n\r\n            if (resourceStateMap.size() != localPerResourceCustomizedView.size()) {\r\n              return false;\r\n            }\r\n\r\n            // Get per partition snapshot\r\n            for (String partitionName : resourceStateMap.keySet()) {\r\n              Map<String, String> stateMap =\r\n                  resourceStateMap.getOrDefault(partitionName, Maps.newTreeMap());\r\n\r\n              // Get local per partition map\r\n              Map<String, String> localStateMap =\r\n                  localPerResourceCustomizedView.getOrDefault(partitionName, Maps.newTreeMap());\r\n\r\n              if (stateMap.isEmpty() && !localStateMap.isEmpty()) {\r\n                return false;\r\n              }\r\n\r\n              for (String instanceName : stateMap.keySet()) {\r\n                // Per instance value\r\n                String stateMapValue = stateMap.get(instanceName);\r\n                String localStateMapValue = localStateMap.get(instanceName);\r\n                if (!stateMapValue.equals(localStateMapValue)) {\r\n                  return false;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        return true;\r\n      }\r\n    }, TestHelper.WAIT_DURATION);\r\n\r\n    Assert.assertTrue(result);  -------> failed here, TestHelper.WAIT_DURATION is 20s by default.\r\n```\r\n\r\nMore likely than not, the issue is 20s is not long enough. \r\n\r\nAction is to ad log and enable longer WAIT_DURATION.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/674456719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/674458093","html_url":"https://github.com/apache/helix/issues/1278#issuecomment-674458093","issue_url":"https://api.github.com/repos/apache/helix/issues/1278","id":674458093,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDQ1ODA5Mw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-15T23:38:46Z","updated_at":"2020-08-15T23:38:46Z","author_association":"CONTRIBUTOR","body":"```\r\n    for (int i = 0; i < numberOfJobsAddedInitially; i++) {\r\n      _driver.pollForJobState(queueName, TaskUtil.getNamespacedJobName(queueName, \"JOB\" + i),\r\n          TaskState.COMPLETED);\r\n    }\r\n```\r\npollForJobState is following, timeout is 5 minutes. Enable to 15 minutes with test case time to 10 minute to have a try. Also, add more about if ctx is null or the other case.\r\n\r\n```\r\n   long st = System.currentTimeMillis();\r\n    do {\r\n      Thread.sleep(timeToSleep);\r\n      ctx = getWorkflowContext(workflowName);\r\n    } while ((ctx == null || ctx.getJobState(jobName) == null\r\n        || !allowedStates.contains(ctx.getJobState(jobName)))\r\n        && System.currentTimeMillis() < st + timeout);\r\n\r\n    if (ctx == null || !allowedStates.contains(ctx.getJobState(jobName))) {\r\n      throw new HelixException(\r\n          String.format(\"Workflow \\\"%s\\\" context is null or job \\\"%s\\\" is not in states: %s\",\r\n              workflowName, jobName, allowedStates));\r\n    }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/674458093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/674458879","html_url":"https://github.com/apache/helix/issues/1279#issuecomment-674458879","issue_url":"https://api.github.com/repos/apache/helix/issues/1279","id":674458879,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDQ1ODg3OQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-15T23:51:57Z","updated_at":"2020-08-15T23:51:57Z","author_association":"CONTRIBUTOR","body":"```\r\n    boolean haveExpectedNumberOfTasksScheduled = TestHelper.verify(() -> {\r\n      int scheduleTask = 0;\r\n      WorkflowConfig workflowConfig =\r\n          TaskUtil.getWorkflowConfig(_manager.getHelixDataAccessor(), jobQueueName);\r\n      for (String job : workflowConfig.getJobDag().getAllNodes()) {\r\n        JobContext jobContext = _driver.getJobContext(job);\r\n        Set<Integer> allPartitions = jobContext.getPartitionSet();\r\n        for (Integer partition : allPartitions) {\r\n          String timestamp = jobContext.getMapField(partition).get(TASK_START_TIME_KEY);\r\n          if (timestamp != null) {\r\n            scheduleTask++;\r\n          }\r\n        }\r\n      }\r\n      return (scheduleTask == expectedScheduledTasks);\r\n    }, TestHelper.WAIT_DURATION);\r\n    Assert.assertTrue(haveExpectedNumberOfTasksScheduled);  --> failure \r\n```\r\n\r\nIn setupTask, the TestHelper.WAIT_DURATION is only 20 sec, need to enlarge it. \r\n\r\nAlso, enhance logging of verify, if wait timeout, log error.\r\n\r\n```\r\n  public static boolean verify(Verifier verifier, long timeout) throws Exception {\r\n    long start = System.currentTimeMillis();\r\n    do {\r\n      boolean result = verifier.verify();\r\n      if (result || (System.currentTimeMillis() - start) > timeout) {\r\n        return result;\r\n      }\r\n      Thread.sleep(50);\r\n    } while (true);\r\n  }\r\n\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/674458879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/674460115","html_url":"https://github.com/apache/helix/issues/1279#issuecomment-674460115","issue_url":"https://api.github.com/repos/apache/helix/issues/1279","id":674460115,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDQ2MDExNQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-16T00:07:22Z","updated_at":"2020-08-16T00:07:22Z","author_association":"CONTRIBUTOR","body":"Some root cause as #1277 ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/674460115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/674462856","html_url":"https://github.com/apache/helix/issues/1268#issuecomment-674462856","issue_url":"https://api.github.com/repos/apache/helix/issues/1268","id":674462856,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDQ2Mjg1Ng==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-16T00:42:38Z","updated_at":"2020-08-16T00:42:38Z","author_association":"CONTRIBUTOR","body":"Fix in #1227; in sum, three fixes:\r\n\r\n- testng.xml have default timeout 15 minutes, \r\n\r\n- verifier also 15 minutes\r\n\r\n- verifier need to log out ERROR if failed due to time-out.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/674462856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/674465556","html_url":"https://github.com/apache/helix/issues/1281#issuecomment-674465556","issue_url":"https://api.github.com/repos/apache/helix/issues/1281","id":674465556,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDQ2NTU1Ng==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-16T01:26:33Z","updated_at":"2020-08-16T01:26:33Z","author_association":"CONTRIBUTOR","body":"Another problem is not close StrictMatchExternalViewVerifier, leak resource.\r\n\r\nTHis one needs further examination.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/674465556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/674469748","html_url":"https://github.com/apache/helix/issues/1281#issuecomment-674469748","issue_url":"https://api.github.com/repos/apache/helix/issues/1281","id":674469748,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDQ2OTc0OA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-16T02:35:20Z","updated_at":"2020-08-16T21:18:56Z","author_association":"CONTRIBUTOR","body":"Failed at least 3 times. Need further examination.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/674469748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/674477457","html_url":"https://github.com/apache/helix/issues/1282#issuecomment-674477457","issue_url":"https://api.github.com/repos/apache/helix/issues/1282","id":674477457,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDQ3NzQ1Nw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-16T04:30:15Z","updated_at":"2020-08-16T04:30:15Z","author_association":"CONTRIBUTOR","body":"Change to this should work.\r\n```\r\n    boolean result = TestHelper.verify(() -> {\r\n      MaintenanceSignal ms = _dataAccessor.getProperty(_dataAccessor.keyBuilder().maintenance());\r\n      return ms != null && ms.getReason() != null;\r\n    }, TestHelper.WAIT_DURATION);\r\n```\r\n\r\nAlso fixed similar patter in TestClusterInMaintenanceModeWhenReachingOfflineInstancesLimit","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/674477457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/674488136","html_url":"https://github.com/apache/helix/issues/1282#issuecomment-674488136","issue_url":"https://api.github.com/repos/apache/helix/issues/1282","id":674488136,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDQ4ODEzNg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-16T06:53:10Z","updated_at":"2020-08-16T06:53:10Z","author_association":"CONTRIBUTOR","body":"Still have\r\n> 2020-08-16T06:11:19.8375558Z [ERROR]   TestClusterInMaintenanceModeWhenReachingOfflineInstancesLimit.testWithOfflineInstancesLimit:164 expected:<true> but was:<false>\r\n\r\nwith previous test adding \r\n\r\n```\r\n    ZkHelixClusterVerifier clusterVerifier =\r\n        new BestPossibleExternalViewVerifier.Builder(CLUSTER_NAME).setZkClient(_gZkClient).build();\r\n    Thread.sleep(100);\r\n    Assert.assertTrue(clusterVerifier.verifyByPolling());\r\n\r\n\r\n  @Test(dependsOnMethods = \"testWithDisabledInstancesLimit\")\r\n  public void testWithOfflineInstancesLimit() throws Exception {\r\n    MaintenanceSignal maintenanceSignal =\r\n        _dataAccessor.getProperty(_dataAccessor.keyBuilder().maintenance());\r\n    Assert.assertNull(maintenanceSignal);  ---> failure\r\n\r\n```\r\n\r\nChange to Thread.sleep from 200 to 2000. \r\nConsider add a default sleep period in ZkHelixClusterVerifier.verifyByPolling(). ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/674488136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/674488797","html_url":"https://github.com/apache/helix/issues/1282#issuecomment-674488797","issue_url":"https://api.github.com/repos/apache/helix/issues/1282","id":674488797,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDQ4ODc5Nw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-16T07:00:02Z","updated_at":"2020-08-16T07:00:02Z","author_association":"CONTRIBUTOR","body":"Note, BestPossibleExternalViewVerifier depends on enablePersistBestPossibleAssignment, right? Confirm.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/674488797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/674579010","html_url":"https://github.com/apache/helix/issues/1280#issuecomment-674579010","issue_url":"https://api.github.com/repos/apache/helix/issues/1280","id":674579010,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDU3OTAxMA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-16T21:16:14Z","updated_at":"2020-08-16T21:16:14Z","author_association":"CONTRIBUTOR","body":"Happened another time. \r\n> 2020-08-16T09:33:38.2732606Z 1848146 [TestNGInvoker-testClusterStatusMonitorLifecycle()] ERROR org.apache.helix.TestHelper  - verifier time out, consider try longer timeout, stack trace[java.lang.Thread.getStackTrace(Thread.java:1559), org.apache.helix.TestHelper.verify(TestHelper.java:804), org.apache.helix.monitoring.TestClusterStatusMonitorLifecycle.testClusterStatusMonitorLifecycle(TestClusterStatusMonitorLifecycle.java:293), sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method), sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.lang.reflect.Method.invoke(Method.java:498), org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:76), org.testng.internal.InvokeMethodRunnable.runOne(InvokeMethodRunnable.java:46), org.testng.internal.InvokeMethodRunnable.run(InvokeMethodRunnable.java:37), java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511), java.util.concurrent.FutureTask.run(FutureTask.java:266), java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149), ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/674579010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/674579242","html_url":"https://github.com/apache/helix/issues/1280#issuecomment-674579242","issue_url":"https://api.github.com/repos/apache/helix/issues/1280","id":674579242,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDU3OTI0Mg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-16T21:18:14Z","updated_at":"2020-08-16T21:18:14Z","author_association":"CONTRIBUTOR","body":"#1227 addressed","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/674579242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/674580128","html_url":"https://github.com/apache/helix/issues/1281#issuecomment-674580128","issue_url":"https://api.github.com/repos/apache/helix/issues/1281","id":674580128,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDU4MDEyOA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-16T21:26:19Z","updated_at":"2020-08-16T21:26:19Z","author_association":"CONTRIBUTOR","body":"Added more log in StrictMatchExternalViewVerifier, trigger callback. Change waiting time to 15 mins , same as timeout for test.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/674580128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/674580160","html_url":"https://github.com/apache/helix/issues/1281#issuecomment-674580160","issue_url":"https://api.github.com/repos/apache/helix/issues/1281","id":674580160,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDU4MDE2MA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-16T21:26:37Z","updated_at":"2020-08-16T21:26:37Z","author_association":"CONTRIBUTOR","body":"#1227 ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/674580160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/675020489","html_url":"https://github.com/apache/helix/issues/1126#issuecomment-675020489","issue_url":"https://api.github.com/repos/apache/helix/issues/1126","id":675020489,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTAyMDQ4OQ==","user":{"login":"manick02","id":10003163,"node_id":"MDQ6VXNlcjEwMDAzMTYz","avatar_url":"https://avatars.githubusercontent.com/u/10003163?v=4","gravatar_id":"","url":"https://api.github.com/users/manick02","html_url":"https://github.com/manick02","followers_url":"https://api.github.com/users/manick02/followers","following_url":"https://api.github.com/users/manick02/following{/other_user}","gists_url":"https://api.github.com/users/manick02/gists{/gist_id}","starred_url":"https://api.github.com/users/manick02/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manick02/subscriptions","organizations_url":"https://api.github.com/users/manick02/orgs","repos_url":"https://api.github.com/users/manick02/repos","events_url":"https://api.github.com/users/manick02/events{/privacy}","received_events_url":"https://api.github.com/users/manick02/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-17T17:45:51Z","updated_at":"2020-08-17T17:45:51Z","author_association":"NONE","body":"If none has taken this issue, Can I look at this issue and submit a commit? This would help me understand helix better","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/675020489/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]