[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1266077082","html_url":"https://github.com/apache/hudi/issues/6849#issuecomment-1266077082","issue_url":"https://api.github.com/repos/apache/hudi/issues/6849","id":1266077082,"node_id":"IC_kwDOBI7nWM5Lds2a","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-03T21:33:00Z","updated_at":"2022-10-03T21:33:00Z","author_association":"CONTRIBUTOR","body":"@gtwuser the problem ain't actually in Hudi -- the problem is in Avro converter serializing your schema to JSON (when serializing arrays it creates a wrapper structure for array elements and apparently that clashes with your existing schema.\r\n\r\nWould it be possible for you to try more recent Spark and Hudi versions to see if that would resolve an issue for you?\r\n\r\n@xushiyan you can assign this one to me","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1266077082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1266164044","html_url":"https://github.com/apache/hudi/pull/6859#issuecomment-1266164044","issue_url":"https://api.github.com/repos/apache/hudi/issues/6859","id":1266164044,"node_id":"IC_kwDOBI7nWM5LeCFM","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-03T22:55:58Z","updated_at":"2022-10-03T22:55:58Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"7f240f7a72570d512f7627c19fa978b00d9eef64\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11977\",\n    \"triggerID\" : \"7f240f7a72570d512f7627c19fa978b00d9eef64\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 7f240f7a72570d512f7627c19fa978b00d9eef64 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11977) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1266164044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1266337290","html_url":"https://github.com/apache/hudi/issues/6101#issuecomment-1266337290","issue_url":"https://api.github.com/repos/apache/hudi/issues/6101","id":1266337290,"node_id":"IC_kwDOBI7nWM5LesYK","user":{"login":"INRIX-Trang-Nguyen","id":9421899,"node_id":"MDQ6VXNlcjk0MjE4OTk=","avatar_url":"https://avatars.githubusercontent.com/u/9421899?v=4","gravatar_id":"","url":"https://api.github.com/users/INRIX-Trang-Nguyen","html_url":"https://github.com/INRIX-Trang-Nguyen","followers_url":"https://api.github.com/users/INRIX-Trang-Nguyen/followers","following_url":"https://api.github.com/users/INRIX-Trang-Nguyen/following{/other_user}","gists_url":"https://api.github.com/users/INRIX-Trang-Nguyen/gists{/gist_id}","starred_url":"https://api.github.com/users/INRIX-Trang-Nguyen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/INRIX-Trang-Nguyen/subscriptions","organizations_url":"https://api.github.com/users/INRIX-Trang-Nguyen/orgs","repos_url":"https://api.github.com/users/INRIX-Trang-Nguyen/repos","events_url":"https://api.github.com/users/INRIX-Trang-Nguyen/events{/privacy}","received_events_url":"https://api.github.com/users/INRIX-Trang-Nguyen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-04T03:09:55Z","updated_at":"2022-10-04T04:40:05Z","author_association":"NONE","body":"Hi, \r\nWe are also looking for the feature to drop older partitions from hudi, but can't find examples on how do to this. Our data is partitioned as follows:\r\n\r\ns3://bucket/<path_to_hudi_metadata>/movement_type=xx/year=YYYY/month=mm/day=dd/provider=yy/qk=00223/*.parquet.\r\nWe would like to drop all records for a given year, month and day, ie:\r\ns3://bucket/<path_to_hudi_metadata>/movement_type=xx/year=2022/month=09/day=30/\r\n\r\nCould you tell us how the partition urls should be constructed? We are also passing in an empty dataframe to the DELETE_PARTITION_OPERATION:\r\n\r\n    emptyDF.write.format(\"hudi\")\r\n      .option(HoodieWriteConfig.TBL_NAME.key, HUDI_TABLE_NAME)\r\n      .option(OPERATION.key, DataSourceWriteOptions.DELETE_PARTITION_OPERATION_OPT_VAL)\r\n      .option(DataSourceWriteOptions.PARTITIONS_TO_DELETE.key, partitions.mkString(\",\"))\r\n      .option(TABLE_TYPE.key, DataSourceWriteOptions.COW_TABLE_TYPE_OPT_VAL)\r\n      .option(RECORDKEY_FIELD.key, HUDI_RECORD_KEY)\r\n      .option(PARTITIONPATH_FIELD.key, partitionCols)\r\n      .option(HIVE_STYLE_PARTITIONING.key, \"true\")\r\n      .mode(SaveMode.Append)\r\n      .save(\"s3://bucket/<path_to_hudi_metadata>\")\r\n\r\nFor example, I am trying to drop these partitions:\r\n /movement_type=*/{year=2022/month=09/day=28}/provider=*/qk=*/*,/movement_type=*/{year=2022/month=09/day=27}/provider=*/qk=*/*\r\n\r\nHowever I see that nothing is dropped.\r\nOur environment:\r\nEMR 6.5\r\nSpark 3.1.2\r\nHadoop 3.2.1\r\nHudi 0.10.1\r\n\r\nHere are the logs from std console:\r\n2022-10-03 21:25:01 INFO  CleanPlanner:398 - 0 patterns used to delete in partition path:movement_type=unknown/year=2022/month=09/day=29/provider=367/qk=03221\r\n2022-10-03 21:25:01 INFO  CleanPlanner:398 - 0 patterns used to delete in partition path:movement_type=stopped/year=2022/month=09/day=29/provider=367/qk=02331\r\n2022-10-03 21:25:01 INFO  CleanPlanner:398 - 1 patterns used to delete in partition path:movement_type=stopped/year=2022/month=09/day=29/provider=367/qk=03202\r\n2022-10-03 21:25:01 INFO  CleanPlanner:398 - 1 patterns used to delete in partition path:movement_type=moving/year=2022/month=09/day=29/provider=367/qk=03221\r\n2022-10-03 21:25:01 INFO  CleanPlanner:398 - 0 patterns used to delete in partition path:movement_type=stopped/year=2022/month=09/day=28/provider=367/qk=03232\r\n2022-10-03 21:25:01 INFO  CleanPlanner:398 - 1 patterns used to delete in partition path:movement_type=stopped/year=2022/month=09/day=29/provider=367/qk=03221\r\n2022-10-03 21:25:01 INFO  CleanPlanner:398 - 0 patterns used to delete in partition path:movement_type=moving/year=2022/month=09/day=28/provider=367/qk=03201\r\n2022-10-03 21:25:01 INFO  CleanPlanner:398 - 0 patterns used to delete in partition path:movement_type=stopped/year=2022/month=09/day=28/provider=367/qk=03221\r\n2022-10-03 21:25:01 INFO  CleanPlanner:398 - 0 patterns used to delete in partition path:movement_type=moving/year=2022/month=09/day=29/provider=367/qk=02331\r\n2022-10-03 21:25:01 INFO  CleanPlanner:398 - 0 patterns used to delete in partition path:movement_type=moving/year=2022/month=09/day=29/provider=367/qk=03201\r\n2022-10-03 21:25:01 INFO  Executor:57 - Finished task 10.0 in stage 9.0 (TID 47). 1250 bytes result sent to driver\r\n2022-10-03 21:25:01 INFO  Executor:57 - Finished task 7.0 in stage 9.0 (TID 44). 991 bytes result sent to driver\r\n2022-10-03 21:25:01 INFO  CleanPlanner:398 - 0 patterns used to delete in partition path:movement_type=moving/year=2022/month=09/day=28/provider=367/qk=03221\r\n2022-10-03 21:25:01 INFO  CleanPlanner:398 - 0 patterns used to delete in partition path:movement_type=stopped/year=2022/month=09/day=28/provider=367/qk=21033\r\n2022-10-03 21:25:01 INFO  CleanPlanner:398 - 0 patterns used to delete in partition path:movement_type=moving/year=2022/month=09/day=29/provider=367/qk=03202","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1266337290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1266390984","html_url":"https://github.com/apache/hudi/issues/6101#issuecomment-1266390984","issue_url":"https://api.github.com/repos/apache/hudi/issues/6101","id":1266390984,"node_id":"IC_kwDOBI7nWM5Le5fI","user":{"login":"INRIX-Trang-Nguyen","id":9421899,"node_id":"MDQ6VXNlcjk0MjE4OTk=","avatar_url":"https://avatars.githubusercontent.com/u/9421899?v=4","gravatar_id":"","url":"https://api.github.com/users/INRIX-Trang-Nguyen","html_url":"https://github.com/INRIX-Trang-Nguyen","followers_url":"https://api.github.com/users/INRIX-Trang-Nguyen/followers","following_url":"https://api.github.com/users/INRIX-Trang-Nguyen/following{/other_user}","gists_url":"https://api.github.com/users/INRIX-Trang-Nguyen/gists{/gist_id}","starred_url":"https://api.github.com/users/INRIX-Trang-Nguyen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/INRIX-Trang-Nguyen/subscriptions","organizations_url":"https://api.github.com/users/INRIX-Trang-Nguyen/orgs","repos_url":"https://api.github.com/users/INRIX-Trang-Nguyen/repos","events_url":"https://api.github.com/users/INRIX-Trang-Nguyen/events{/privacy}","received_events_url":"https://api.github.com/users/INRIX-Trang-Nguyen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-04T04:42:05Z","updated_at":"2022-10-04T04:42:05Z","author_association":"NONE","body":"Attached sample test files.\r\n[nrt-delete-partitions.zip](https://github.com/apache/hudi/files/9702830/nrt-delete-partitions.zip)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1266390984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1266407949","html_url":"https://github.com/apache/hudi/pull/6736#issuecomment-1266407949","issue_url":"https://api.github.com/repos/apache/hudi/issues/6736","id":1266407949,"node_id":"IC_kwDOBI7nWM5Le9oN","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-04T05:15:21Z","updated_at":"2022-10-04T05:15:21Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"255a6aef08b5f9ee25a556baa31d5c329bd8dcfc\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11564\",\n    \"triggerID\" : \"255a6aef08b5f9ee25a556baa31d5c329bd8dcfc\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"e0dbecb1774312a529e22b072f2c01aa052ebafe\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11583\",\n    \"triggerID\" : \"e0dbecb1774312a529e22b072f2c01aa052ebafe\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"e0dbecb1774312a529e22b072f2c01aa052ebafe\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11583\",\n    \"triggerID\" : \"1255712449\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"62e27e6e7c551d5815cad2e22b5ca904bc16ba8b\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11633\",\n    \"triggerID\" : \"62e27e6e7c551d5815cad2e22b5ca904bc16ba8b\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"ad38535204448a82da2a7eca946c9534a308550f\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11693\",\n    \"triggerID\" : \"ad38535204448a82da2a7eca946c9534a308550f\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"4703b2ce5a638618a2d9da14f10fec064216f1a1\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11721\",\n    \"triggerID\" : \"4703b2ce5a638618a2d9da14f10fec064216f1a1\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"960daa9c95c12642287d4e11108ca4a3a350b919\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11820\",\n    \"triggerID\" : \"960daa9c95c12642287d4e11108ca4a3a350b919\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"a41207c6914f7e5778658abc361f4c8cb50be13a\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11979\",\n    \"triggerID\" : \"a41207c6914f7e5778658abc361f4c8cb50be13a\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* a41207c6914f7e5778658abc361f4c8cb50be13a Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11979) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1266407949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1266694539","html_url":"https://github.com/apache/hudi/issues/6849#issuecomment-1266694539","issue_url":"https://api.github.com/repos/apache/hudi/issues/6849","id":1266694539,"node_id":"IC_kwDOBI7nWM5LgDmL","user":{"login":"gtwuser","id":6791570,"node_id":"MDQ6VXNlcjY3OTE1NzA=","avatar_url":"https://avatars.githubusercontent.com/u/6791570?v=4","gravatar_id":"","url":"https://api.github.com/users/gtwuser","html_url":"https://github.com/gtwuser","followers_url":"https://api.github.com/users/gtwuser/followers","following_url":"https://api.github.com/users/gtwuser/following{/other_user}","gists_url":"https://api.github.com/users/gtwuser/gists{/gist_id}","starred_url":"https://api.github.com/users/gtwuser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gtwuser/subscriptions","organizations_url":"https://api.github.com/users/gtwuser/orgs","repos_url":"https://api.github.com/users/gtwuser/repos","events_url":"https://api.github.com/users/gtwuser/events{/privacy}","received_events_url":"https://api.github.com/users/gtwuser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-04T09:53:36Z","updated_at":"2022-10-04T09:56:01Z","author_association":"NONE","body":"@alexeykudinkin  thanks for looking into this. My apologies i could not exactly follow the explanation you gave for the  issue, could you please explain it with an small example, that will be great help ? On usage of latest hudi im actually using AWS glue jobs to run the hudi scripts and here we need to keep hudi jars in the classpath. Currently im creating hudi from the latest source i.e `hudi 0.13.0`\r\n1. hudi-spark3.1-bundle_2.12-0.13.0-SNAPSHOT.jar\r\n2. hudi-utilities-bundle_2.12-0.13.0-SNAPSHOT.jar\r\nI wont be able to upgrade the spark version since AWS glue supports at max spark 3.1 version and we are using the latest one `3.1`\r\n<img width=\"593\" alt=\"image\" src=\"https://user-images.githubusercontent.com/6791570/193789995-63e07a8c-b2b5-4d09-a7df-063ff62d3060.png\">\r\n\r\nThere is one Jira ticket i found which talk about this similar issue sharing it if its of any help.\r\nhttps://issues.apache.org/jira/browse/PARQUET-1441\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1266694539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1266706021","html_url":"https://github.com/apache/hudi/issues/6558#issuecomment-1266706021","issue_url":"https://api.github.com/repos/apache/hudi/issues/6558","id":1266706021,"node_id":"IC_kwDOBI7nWM5LgGZl","user":{"login":"parisni","id":9535350,"node_id":"MDQ6VXNlcjk1MzUzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/9535350?v=4","gravatar_id":"","url":"https://api.github.com/users/parisni","html_url":"https://github.com/parisni","followers_url":"https://api.github.com/users/parisni/followers","following_url":"https://api.github.com/users/parisni/following{/other_user}","gists_url":"https://api.github.com/users/parisni/gists{/gist_id}","starred_url":"https://api.github.com/users/parisni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parisni/subscriptions","organizations_url":"https://api.github.com/users/parisni/orgs","repos_url":"https://api.github.com/users/parisni/repos","events_url":"https://api.github.com/users/parisni/events{/privacy}","received_events_url":"https://api.github.com/users/parisni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-04T10:02:11Z","updated_at":"2022-10-04T10:02:11Z","author_association":"CONTRIBUTOR","body":"I am able to reproduce the problem in the below snippet. The error raises when a column changes change case in two distinct partitions. The table can be read, however when a delete/upsert with a different case happens, it fails. Column State/state is used in the example\r\n\r\n```python\r\nsc.setLogLevel(\"WARN\")\r\nfrom pyspark.sql.types import StructType, StructField, StringType\r\n\r\ntableName = \"test_hudi_table\"\r\nbasePath = \"/tmp/{tableName}\".format(tableName=tableName)\r\nfrom pyspark.sql.functions import expr\r\n\r\n##\r\n# Create a nested table\r\n##\r\ndata = [ ((\"James\", None, \"Smith\"), \"OH\", \"M\"),\r\n    ((\"Anna\", \"Rose\", \"\"), \"NY\", \"F\"),\r\n    ((\"Julia\", \"\", \"Williams\"), \"OH\", \"F\"),\r\n    ((\"Maria\", \"Anne\", \"Jones\"), \"NY\", \"M\"),\r\n    ((\"Jen\", \"Mary\", \"Brown\"), \"NY\", \"M\"),\r\n    ((\"Mike\", \"Mary\", \"Williams\"), \"OH\", \"M\"),\r\n]\r\n\r\nschema = StructType(\r\n    [\r\n        StructField(\r\n            \"name\",\r\n            StructType(\r\n                [\r\n                    StructField(\"firstname\", StringType(), True),\r\n                    StructField(\"middlename\", StringType(), True),\r\n                    StructField(\"lastname\", StringType(), True),\r\n                ]\r\n            ),\r\n        ),\r\n        StructField(\"State\", StringType(), True),\r\n        StructField(\"gender\", StringType(), True),\r\n    ]\r\n)\r\ndf = (\r\n    spark.createDataFrame(data=data, schema=schema)\r\n    .withColumn(\"event_id\", expr(\"row_number() over(partition by 1 order by 1)\"))\r\n    .withColumn(\"event_date\", expr(\"current_date()\"))\r\n    .withColumn(\"version\", expr(\"current_date()\"))\r\n)\r\n\r\ndf.printSchema()\r\nhudi_options = {\r\n    \"hoodie.table.name\": tableName,\r\n    \"hoodie.datasource.write.recordkey.field\": \"event_id\",\r\n    \"hoodie.datasource.write.partitionpath.field\": \"event_date\",\r\n    \"hoodie.datasource.write.table.name\": tableName,\r\n    \"hoodie.datasource.write.operation\": \"insert\",\r\n    \"hoodie.datasource.write.precombine.field\": \"version\",\r\n    \"hoodie.upsert.shuffle.parallelism\": 80,\r\n    \"hoodie.insert.shuffle.parallelism\": 80,\r\n    \"hoodie.delete.shuffle.parallelism\": 80,\r\n    \"hoodie.datasource.write.keygenerator.class\": \"org.apache.hudi.keygen.ComplexKeyGenerator\",\r\n    \"hoodie.datasource.write.hive_style_partitioning\": \"true\",\r\n    \"hoodie.datasource.write.keygenerator.class\": \"org.apache.hudi.keygen.ComplexKeyGenerator\",\r\n    \"hoodie.metadata.enable\": \"true\",\r\n    \"hoodie.datasource.write.reconcile.schema\": \"true\",\r\n    \"hoodie.schema.on.read.enable\": \"true\",\r\n     \"hoodie.avro.schema.validate\": \"true\",\r\n}\r\n(df.write.format(\"hudi\").options(**hudi_options).mode(\"overwrite\").save(basePath))\r\nspark.read.format(\"hudi\").load(basePath).show()\r\n\r\n\r\n\r\n##\r\n# Change case basic field\r\n##\r\ndata = [\r\n    ((\"James\", None, \"Smith\"), \"OH\", \"M\"),\r\n    ((\"Anna\", \"Rose\", \"\"), \"NY\", \"F\"),\r\n    ((\"Julia\", \"\", \"Williams\"), \"OH\", \"F\"),\r\n    ((\"Maria\", \"Anne\", \"Jones\"), \"NY\", \"M\"),\r\n    ((\"Jen\", \"Mary\", \"Brown\"), \"NY\", \"M\"),\r\n    ((\"Mike\", \"Mary\", \"Williams\"), \"OH\", \"M\"),\r\n]\r\n\r\nschema = StructType(\r\n    [\r\n        StructField(\r\n            \"name\",\r\n            StructType(\r\n                [\r\n                    StructField(\"firstname\", StringType(), True),\r\n                    StructField(\"middlename\", StringType(), True),\r\n                    StructField(\"lastname\", StringType(), True),\r\n                ]\r\n            ),\r\n        ),\r\n        StructField(\"state\", StringType(), True),\r\n        StructField(\"gender\", StringType(), True),\r\n    ]\r\n)\r\ndf = (\r\n    spark.createDataFrame(data=data, schema=schema)\r\n    .withColumn(\"event_id\", expr(\"row_number() over(partition by 1 order by 1)\"))\r\n    .withColumn(\"event_date\", expr(\"current_date()  + 10\"))\r\n    .withColumn(\"version\", expr(\"current_date()\"))\r\n)\r\n\r\ndf.printSchema()\r\nhudi_options = {\r\n    \"hoodie.table.name\": tableName,\r\n    \"hoodie.datasource.write.recordkey.field\": \"event_id\",\r\n    \"hoodie.datasource.write.partitionpath.field\": \"event_date\",\r\n    \"hoodie.datasource.write.table.name\": tableName,\r\n    \"hoodie.datasource.write.operation\": \"insert\",\r\n    \"hoodie.datasource.write.precombine.field\": \"version\",\r\n    \"hoodie.upsert.shuffle.parallelism\": 80,\r\n    \"hoodie.insert.shuffle.parallelism\": 80,\r\n    \"hoodie.delete.shuffle.parallelism\": 80,\r\n    \"hoodie.datasource.write.keygenerator.class\": \"org.apache.hudi.keygen.ComplexKeyGenerator\",\r\n    \"hoodie.datasource.write.hive_style_partitioning\": \"true\",\r\n    \"hoodie.datasource.write.keygenerator.class\": \"org.apache.hudi.keygen.ComplexKeyGenerator\",\r\n    \"hoodie.metadata.enable\": \"true\",\r\n    \"hoodie.datasource.write.reconcile.schema\": \"true\",\r\n    \"hoodie.schema.on.read.enable\": \"true\",\r\n    \"hoodie.avro.schema.validate\": \"false\",\r\n}\r\n(df.write.format(\"hudi\").options(**hudi_options).mode(\"append\").save(basePath))\r\nspark.read.format(\"hudi\").load(basePath).show()\r\n\r\n# Now delete with lower case state in the upper case partition State => fail\r\n#\r\ndata = [\r\n    ((\"James\", None, \"Smith\"), \"OH\", \"M\"),\r\n    ((\"Anna\", \"Rose\", \"\"), \"NY\", \"F\"),\r\n    ((\"Julia\", \"\", \"Williams\"), \"OH\", \"F\"),\r\n    ((\"Maria\", \"Anne\", \"Jones\"), \"NY\", \"M\"),\r\n    ((\"Jen\", \"Mary\", \"Brown\"), \"NY\", \"M\"),\r\n    ((\"Mike\", \"Mary\", \"Williams\"), \"OH\", \"M\"),\r\n]\r\n\r\nschema = StructType(\r\n    [\r\n        StructField(\r\n            \"name\",\r\n            StructType(\r\n                [\r\n                    StructField(\"firstname\", StringType(), True),\r\n                    StructField(\"middlename\", StringType(), True),\r\n                    StructField(\"lastname\", StringType(), True),\r\n                ]\r\n            ),\r\n        ),\r\n        StructField(\"state\", StringType(), True),\r\n        StructField(\"gender\", StringType(), True),\r\n    ]\r\n)\r\ndf = (\r\n    spark.createDataFrame(data=data, schema=schema)\r\n    .withColumn(\"event_id\", expr(\"row_number() over(partition by 1 order by 1)\"))\r\n    .withColumn(\"event_date\", expr(\"current_date()\"))\r\n    .withColumn(\"version\", expr(\"current_date()\"))\r\n)\r\n\r\ndf.printSchema()\r\nhudi_options = {\r\n    \"hoodie.table.name\": tableName,\r\n    \"hoodie.datasource.write.recordkey.field\": \"event_id\",\r\n    \"hoodie.datasource.write.partitionpath.field\": \"event_date\",\r\n    \"hoodie.datasource.write.table.name\": tableName,\r\n    \"hoodie.datasource.write.operation\": \"delete\",\r\n    \"hoodie.datasource.write.precombine.field\": \"version\",\r\n    \"hoodie.upsert.shuffle.parallelism\": 80,\r\n    \"hoodie.insert.shuffle.parallelism\": 80,\r\n    \"hoodie.delete.shuffle.parallelism\": 80,\r\n    \"hoodie.datasource.write.keygenerator.class\": \"org.apache.hudi.keygen.ComplexKeyGenerator\",\r\n    \"hoodie.datasource.write.hive_style_partitioning\": \"true\",\r\n    \"hoodie.datasource.write.keygenerator.class\": \"org.apache.hudi.keygen.ComplexKeyGenerator\",\r\n    \"hoodie.metadata.enable\": \"true\",\r\n    \"hoodie.datasource.write.reconcile.schema\": \"true\",\r\n    \"hoodie.schema.on.read.enable\": \"true\",\r\n    \"hoodie.avro.schema.validate\": \"false\",\r\n}\r\n(df.write.format(\"hudi\").options(**hudi_options).mode(\"append\").save(basePath))\r\nspark.read.format(\"hudi\").load(basePath).show()\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1266706021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1266877809","html_url":"https://github.com/apache/hudi/issues/5939#issuecomment-1266877809","issue_url":"https://api.github.com/repos/apache/hudi/issues/5939","id":1266877809,"node_id":"IC_kwDOBI7nWM5LgwVx","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-04T11:57:32Z","updated_at":"2022-10-04T11:57:32Z","author_association":"MEMBER","body":"@haoxie-aws thanks for the awesome analysis! Your observation is correct and expected, as in clustering makes better use of compression to reduce the file sizes on disk, as records are clustered together for some common fields. The stats from replacecommit reflected that. What should be fixed is, for upsert partitioner which assigns inserts, we should only consider avg size from commit instants. I'll create a patch for this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1266877809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1266943255","html_url":"https://github.com/apache/hudi/pull/6863#issuecomment-1266943255","issue_url":"https://api.github.com/repos/apache/hudi/issues/6863","id":1266943255,"node_id":"IC_kwDOBI7nWM5LhAUX","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-04T12:48:04Z","updated_at":"2022-10-04T12:48:04Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"2716422c9650e4fbaeb5ab6e2851fa62031d2013\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11981\",\n    \"triggerID\" : \"2716422c9650e4fbaeb5ab6e2851fa62031d2013\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 2716422c9650e4fbaeb5ab6e2851fa62031d2013 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11981) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1266943255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1266995738","html_url":"https://github.com/apache/hudi/pull/6838#issuecomment-1266995738","issue_url":"https://api.github.com/repos/apache/hudi/issues/6838","id":1266995738,"node_id":"IC_kwDOBI7nWM5LhNIa","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-04T13:25:28Z","updated_at":"2022-10-04T13:25:56Z","author_association":"MEMBER","body":"> Looks good. Thanks for adding the missing modules. Can land once the CI passes.\r\n\r\nThanks. The modules weren't missing; just balance them by moving from longer job to shorter ones. CI seems to fail due to having non-java8 in the env, though it's configured java 8 for each job. Not sure what is the gap there with azure pipelines configs.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1266995738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267102721","html_url":"https://github.com/apache/hudi/issues/6692#issuecomment-1267102721","issue_url":"https://api.github.com/repos/apache/hudi/issues/6692","id":1267102721,"node_id":"IC_kwDOBI7nWM5LhnQB","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-04T14:33:43Z","updated_at":"2022-10-04T14:33:43Z","author_association":"MEMBER","body":"> java.lang.ClassCastException: org.apache.hudi.org.apache.avro.Schema$RecordSchema cannot be cast to org.apache.avro.Schema\r\n\r\ni think this is also related to shading. @eshu i guess you had spark-avro.jar in your classpath? with hudi 0.11.0+ you don't need it. you just need spark3.1-bundle_2.12 to work with Glue 3.x job","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267102721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267123150","html_url":"https://github.com/apache/hudi/pull/6809#issuecomment-1267123150","issue_url":"https://api.github.com/repos/apache/hudi/issues/6809","id":1267123150,"node_id":"IC_kwDOBI7nWM5LhsPO","user":{"login":"YannByron","id":10036681,"node_id":"MDQ6VXNlcjEwMDM2Njgx","avatar_url":"https://avatars.githubusercontent.com/u/10036681?v=4","gravatar_id":"","url":"https://api.github.com/users/YannByron","html_url":"https://github.com/YannByron","followers_url":"https://api.github.com/users/YannByron/followers","following_url":"https://api.github.com/users/YannByron/following{/other_user}","gists_url":"https://api.github.com/users/YannByron/gists{/gist_id}","starred_url":"https://api.github.com/users/YannByron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YannByron/subscriptions","organizations_url":"https://api.github.com/users/YannByron/orgs","repos_url":"https://api.github.com/users/YannByron/repos","events_url":"https://api.github.com/users/YannByron/events{/privacy}","received_events_url":"https://api.github.com/users/YannByron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-04T14:47:32Z","updated_at":"2022-10-04T14:47:32Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267123150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267169216","html_url":"https://github.com/apache/hudi/pull/6864#issuecomment-1267169216","issue_url":"https://api.github.com/repos/apache/hudi/issues/6864","id":1267169216,"node_id":"IC_kwDOBI7nWM5Lh3fA","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-04T15:18:08Z","updated_at":"2022-10-04T15:18:08Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"d7f013903ff15a6075f122fdd9e6271e10368afc\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11982\",\n    \"triggerID\" : \"d7f013903ff15a6075f122fdd9e6271e10368afc\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* d7f013903ff15a6075f122fdd9e6271e10368afc Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11982) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267169216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267214370","html_url":"https://github.com/apache/hudi/issues/6747#issuecomment-1267214370","issue_url":"https://api.github.com/repos/apache/hudi/issues/6747","id":1267214370,"node_id":"IC_kwDOBI7nWM5LiCgi","user":{"login":"Xiaohan-Shen","id":55402701,"node_id":"MDQ6VXNlcjU1NDAyNzAx","avatar_url":"https://avatars.githubusercontent.com/u/55402701?v=4","gravatar_id":"","url":"https://api.github.com/users/Xiaohan-Shen","html_url":"https://github.com/Xiaohan-Shen","followers_url":"https://api.github.com/users/Xiaohan-Shen/followers","following_url":"https://api.github.com/users/Xiaohan-Shen/following{/other_user}","gists_url":"https://api.github.com/users/Xiaohan-Shen/gists{/gist_id}","starred_url":"https://api.github.com/users/Xiaohan-Shen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Xiaohan-Shen/subscriptions","organizations_url":"https://api.github.com/users/Xiaohan-Shen/orgs","repos_url":"https://api.github.com/users/Xiaohan-Shen/repos","events_url":"https://api.github.com/users/Xiaohan-Shen/events{/privacy}","received_events_url":"https://api.github.com/users/Xiaohan-Shen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-04T15:50:15Z","updated_at":"2022-10-04T15:50:15Z","author_association":"NONE","body":"@yihua @umehrot2 Any updates on this issue? Let me know if there is other information I need to provide for debugging!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267214370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267225739","html_url":"https://github.com/apache/hudi/issues/6866#issuecomment-1267225739","issue_url":"https://api.github.com/repos/apache/hudi/issues/6866","id":1267225739,"node_id":"IC_kwDOBI7nWM5LiFSL","user":{"login":"INRIX-Trang-Nguyen","id":9421899,"node_id":"MDQ6VXNlcjk0MjE4OTk=","avatar_url":"https://avatars.githubusercontent.com/u/9421899?v=4","gravatar_id":"","url":"https://api.github.com/users/INRIX-Trang-Nguyen","html_url":"https://github.com/INRIX-Trang-Nguyen","followers_url":"https://api.github.com/users/INRIX-Trang-Nguyen/followers","following_url":"https://api.github.com/users/INRIX-Trang-Nguyen/following{/other_user}","gists_url":"https://api.github.com/users/INRIX-Trang-Nguyen/gists{/gist_id}","starred_url":"https://api.github.com/users/INRIX-Trang-Nguyen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/INRIX-Trang-Nguyen/subscriptions","organizations_url":"https://api.github.com/users/INRIX-Trang-Nguyen/orgs","repos_url":"https://api.github.com/users/INRIX-Trang-Nguyen/repos","events_url":"https://api.github.com/users/INRIX-Trang-Nguyen/events{/privacy}","received_events_url":"https://api.github.com/users/INRIX-Trang-Nguyen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-04T15:59:09Z","updated_at":"2022-10-04T15:59:09Z","author_association":"NONE","body":"See also: https://github.com/apache/hudi/issues/6101","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267225739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267264024","html_url":"https://github.com/apache/hudi/pull/6865#issuecomment-1267264024","issue_url":"https://api.github.com/repos/apache/hudi/issues/6865","id":1267264024,"node_id":"IC_kwDOBI7nWM5LiOoY","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-04T16:30:16Z","updated_at":"2022-10-04T16:30:16Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"de8f913775da41be26ec66a6c3631856ebaa1b70\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"de8f913775da41be26ec66a6c3631856ebaa1b70\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"26aebaeb76de16f9dc400ffd60b2f9bb12b24fea\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11983\",\n    \"triggerID\" : \"26aebaeb76de16f9dc400ffd60b2f9bb12b24fea\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* de8f913775da41be26ec66a6c3631856ebaa1b70 UNKNOWN\n* 26aebaeb76de16f9dc400ffd60b2f9bb12b24fea Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11983) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267264024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267459113","html_url":"https://github.com/apache/hudi/pull/6850#issuecomment-1267459113","issue_url":"https://api.github.com/repos/apache/hudi/issues/6850","id":1267459113,"node_id":"IC_kwDOBI7nWM5Li-Qp","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-04T19:05:01Z","updated_at":"2022-10-04T19:05:01Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"e3aef767db19eed24222f8fff89ae4c59d0799c2\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11956\",\n    \"triggerID\" : \"e3aef767db19eed24222f8fff89ae4c59d0799c2\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"13a464e9dca3394ed7d946c0e682ad02f7edfc43\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11971\",\n    \"triggerID\" : \"13a464e9dca3394ed7d946c0e682ad02f7edfc43\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"4b1c2e6a4a256989d070a105cdd88ef02aaa8fc1\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11972\",\n    \"triggerID\" : \"4b1c2e6a4a256989d070a105cdd88ef02aaa8fc1\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"c2211c4501df599e8ff66e4d33226fa4022e2400\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11988\",\n    \"triggerID\" : \"c2211c4501df599e8ff66e4d33226fa4022e2400\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* c2211c4501df599e8ff66e4d33226fa4022e2400 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11988) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267459113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267466725","html_url":"https://github.com/apache/hudi/issues/6869#issuecomment-1267466725","issue_url":"https://api.github.com/repos/apache/hudi/issues/6869","id":1267466725,"node_id":"IC_kwDOBI7nWM5LjAHl","user":{"login":"gtwuser","id":6791570,"node_id":"MDQ6VXNlcjY3OTE1NzA=","avatar_url":"https://avatars.githubusercontent.com/u/6791570?v=4","gravatar_id":"","url":"https://api.github.com/users/gtwuser","html_url":"https://github.com/gtwuser","followers_url":"https://api.github.com/users/gtwuser/followers","following_url":"https://api.github.com/users/gtwuser/following{/other_user}","gists_url":"https://api.github.com/users/gtwuser/gists{/gist_id}","starred_url":"https://api.github.com/users/gtwuser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gtwuser/subscriptions","organizations_url":"https://api.github.com/users/gtwuser/orgs","repos_url":"https://api.github.com/users/gtwuser/repos","events_url":"https://api.github.com/users/gtwuser/events{/privacy}","received_events_url":"https://api.github.com/users/gtwuser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-04T19:12:47Z","updated_at":"2022-10-04T19:12:47Z","author_association":"NONE","body":"@nsivabalan @alexeykudinkin @yihua @xiarixiaoyao  this seems to be a very fundamental issue the is to merge the delta the to the full load, kindly let me know if you find the root cause\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267466725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267674384","html_url":"https://github.com/apache/hudi/issues/6849#issuecomment-1267674384","issue_url":"https://api.github.com/repos/apache/hudi/issues/6849","id":1267674384,"node_id":"IC_kwDOBI7nWM5Ljy0Q","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-04T22:35:27Z","updated_at":"2022-10-04T22:35:27Z","author_association":"CONTRIBUTOR","body":"@gtwuser can you please paste full stacktrace you observe? I think i've might have a workaround for this issue.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267674384/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267686376","html_url":"https://github.com/apache/hudi/pull/6870#issuecomment-1267686376","issue_url":"https://api.github.com/repos/apache/hudi/issues/6870","id":1267686376,"node_id":"IC_kwDOBI7nWM5Lj1vo","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-04T22:47:36Z","updated_at":"2022-10-04T22:47:36Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"b279bfaba96adbe7c5e9a35a8aa41617823ebf29\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11993\",\n    \"triggerID\" : \"b279bfaba96adbe7c5e9a35a8aa41617823ebf29\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* b279bfaba96adbe7c5e9a35a8aa41617823ebf29 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11993) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267686376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267716047","html_url":"https://github.com/apache/hudi/pull/6806#issuecomment-1267716047","issue_url":"https://api.github.com/repos/apache/hudi/issues/6806","id":1267716047,"node_id":"IC_kwDOBI7nWM5Lj8_P","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-04T23:28:49Z","updated_at":"2022-10-04T23:28:49Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267716047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267716350","html_url":"https://github.com/apache/hudi/pull/6806#issuecomment-1267716350","issue_url":"https://api.github.com/repos/apache/hudi/issues/6806","id":1267716350,"node_id":"IC_kwDOBI7nWM5Lj9D-","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-04T23:29:15Z","updated_at":"2022-10-04T23:29:15Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267716350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267756845","html_url":"https://github.com/apache/hudi/pull/6806#issuecomment-1267756845","issue_url":"https://api.github.com/repos/apache/hudi/issues/6806","id":1267756845,"node_id":"IC_kwDOBI7nWM5LkG8t","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-05T00:19:18Z","updated_at":"2022-10-05T00:19:18Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267756845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267774457","html_url":"https://github.com/apache/hudi/pull/6809#issuecomment-1267774457","issue_url":"https://api.github.com/repos/apache/hudi/issues/6809","id":1267774457,"node_id":"IC_kwDOBI7nWM5LkLP5","user":{"login":"YannByron","id":10036681,"node_id":"MDQ6VXNlcjEwMDM2Njgx","avatar_url":"https://avatars.githubusercontent.com/u/10036681?v=4","gravatar_id":"","url":"https://api.github.com/users/YannByron","html_url":"https://github.com/YannByron","followers_url":"https://api.github.com/users/YannByron/followers","following_url":"https://api.github.com/users/YannByron/following{/other_user}","gists_url":"https://api.github.com/users/YannByron/gists{/gist_id}","starred_url":"https://api.github.com/users/YannByron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YannByron/subscriptions","organizations_url":"https://api.github.com/users/YannByron/orgs","repos_url":"https://api.github.com/users/YannByron/repos","events_url":"https://api.github.com/users/YannByron/events{/privacy}","received_events_url":"https://api.github.com/users/YannByron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-05T00:47:30Z","updated_at":"2022-10-05T00:47:30Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267774457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267900210","html_url":"https://github.com/apache/hudi/pull/6809#issuecomment-1267900210","issue_url":"https://api.github.com/repos/apache/hudi/issues/6809","id":1267900210,"node_id":"IC_kwDOBI7nWM5Lkp8y","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-05T03:52:23Z","updated_at":"2022-10-05T03:52:23Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"0c2ec8ddcd7f3c42b921fd79e631f5d054ede355\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11785\",\n    \"triggerID\" : \"0c2ec8ddcd7f3c42b921fd79e631f5d054ede355\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"665e12fc1d150601269464a8061a948e3d5e008b\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11964\",\n    \"triggerID\" : \"665e12fc1d150601269464a8061a948e3d5e008b\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"665e12fc1d150601269464a8061a948e3d5e008b\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11984\",\n    \"triggerID\" : \"1267123150\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"c240823d753a8f547a0515a41a9aefe639b2fae1\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11985\",\n    \"triggerID\" : \"c240823d753a8f547a0515a41a9aefe639b2fae1\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"c240823d753a8f547a0515a41a9aefe639b2fae1\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11998\",\n    \"triggerID\" : \"1267774457\",\n    \"triggerType\" : \"MANUAL\"\n  } ]\n}-->\n## CI report:\n\n* c240823d753a8f547a0515a41a9aefe639b2fae1 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11985) Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11998) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1267900210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268028413","html_url":"https://github.com/apache/hudi/issues/6849#issuecomment-1268028413","issue_url":"https://api.github.com/repos/apache/hudi/issues/6849","id":1268028413,"node_id":"IC_kwDOBI7nWM5LlJP9","user":{"login":"gtwuser","id":6791570,"node_id":"MDQ6VXNlcjY3OTE1NzA=","avatar_url":"https://avatars.githubusercontent.com/u/6791570?v=4","gravatar_id":"","url":"https://api.github.com/users/gtwuser","html_url":"https://github.com/gtwuser","followers_url":"https://api.github.com/users/gtwuser/followers","following_url":"https://api.github.com/users/gtwuser/following{/other_user}","gists_url":"https://api.github.com/users/gtwuser/gists{/gist_id}","starred_url":"https://api.github.com/users/gtwuser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gtwuser/subscriptions","organizations_url":"https://api.github.com/users/gtwuser/orgs","repos_url":"https://api.github.com/users/gtwuser/repos","events_url":"https://api.github.com/users/gtwuser/events{/privacy}","received_events_url":"https://api.github.com/users/gtwuser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-05T06:59:10Z","updated_at":"2022-10-05T06:59:10Z","author_association":"NONE","body":"> @gtwuser can you please paste full stacktrace you observe? I think i've might have a workaround for this issue.\r\n\r\n@alexeykudinkin i have pasted the full stack trace on top. Please let me know if there is something else you are expecting. This stack trace is when the glue job fails these logs are written down to cloud watch logs. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268028413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268062246","html_url":"https://github.com/apache/hudi/pull/6872#issuecomment-1268062246","issue_url":"https://api.github.com/repos/apache/hudi/issues/6872","id":1268062246,"node_id":"IC_kwDOBI7nWM5LlRgm","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-05T07:35:33Z","updated_at":"2022-10-05T07:35:33Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"187e6f58b88d82c0642bb2c74c97de5da8dec278\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12001\",\n    \"triggerID\" : \"187e6f58b88d82c0642bb2c74c97de5da8dec278\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 187e6f58b88d82c0642bb2c74c97de5da8dec278 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12001) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268062246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268221334","html_url":"https://github.com/apache/hudi/issues/6866#issuecomment-1268221334","issue_url":"https://api.github.com/repos/apache/hudi/issues/6866","id":1268221334,"node_id":"IC_kwDOBI7nWM5Ll4WW","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-05T10:04:03Z","updated_at":"2022-10-05T10:04:03Z","author_association":"NONE","body":"It appears that the partitionPaths that have to be supplied must be absolute, otherwise hudi does not go deeper and does not recursively look for sub-\"folders\", it just looks for files under the partitionPaths. I've looked at the Hudi source code and this is in a couple of classes, for e.g. AbstractTableFileSystemView => ensurePartitionLoadedCorrectly , and getLatestFileSlices(String partitionPathStr). \r\n\r\nAlso, related to this, it would be really great if Hudi interprets and understands wildcards, instead of treating them as literal characters. For example right now it is not possible to do this:\r\n\r\n.../year=2022/month=10/day=05/* \r\n\r\nIf i have a bunch of extra partition keys after day=05, i would need to list them explicitly in the partitionPaths list, for e.g. like this:\r\n\r\nyear=2022/month=10/day=05/hour=01\r\nyear=2022/month=10/day=05/hour=02\r\nyear=2022/month=10/day=05/hour=03\r\n and so on\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268221334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268327193","html_url":"https://github.com/apache/hudi/pull/6003#issuecomment-1268327193","issue_url":"https://api.github.com/repos/apache/hudi/issues/6003","id":1268327193,"node_id":"IC_kwDOBI7nWM5LmSMZ","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-05T11:45:38Z","updated_at":"2022-10-05T11:45:38Z","author_association":"CONTRIBUTOR","body":"> @zhangyue19921010 Thanks for addressing the comments. Why are some code changes involved? Could you properly rebase this PR on the latest master?\r\n\r\nooooh. Sorry for that. Just rebased the master branch. PTAL","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268327193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268384708","html_url":"https://github.com/apache/hudi/pull/6806#issuecomment-1268384708","issue_url":"https://api.github.com/repos/apache/hudi/issues/6806","id":1268384708,"node_id":"IC_kwDOBI7nWM5LmgPE","user":{"login":"codope","id":16440354,"node_id":"MDQ6VXNlcjE2NDQwMzU0","avatar_url":"https://avatars.githubusercontent.com/u/16440354?v=4","gravatar_id":"","url":"https://api.github.com/users/codope","html_url":"https://github.com/codope","followers_url":"https://api.github.com/users/codope/followers","following_url":"https://api.github.com/users/codope/following{/other_user}","gists_url":"https://api.github.com/users/codope/gists{/gist_id}","starred_url":"https://api.github.com/users/codope/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codope/subscriptions","organizations_url":"https://api.github.com/users/codope/orgs","repos_url":"https://api.github.com/users/codope/repos","events_url":"https://api.github.com/users/codope/events{/privacy}","received_events_url":"https://api.github.com/users/codope/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-05T12:42:08Z","updated_at":"2022-10-05T12:42:08Z","author_association":"MEMBER","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268384708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268475219","html_url":"https://github.com/apache/hudi/pull/6809#issuecomment-1268475219","issue_url":"https://api.github.com/repos/apache/hudi/issues/6809","id":1268475219,"node_id":"IC_kwDOBI7nWM5Lm2VT","user":{"login":"YannByron","id":10036681,"node_id":"MDQ6VXNlcjEwMDM2Njgx","avatar_url":"https://avatars.githubusercontent.com/u/10036681?v=4","gravatar_id":"","url":"https://api.github.com/users/YannByron","html_url":"https://github.com/YannByron","followers_url":"https://api.github.com/users/YannByron/followers","following_url":"https://api.github.com/users/YannByron/following{/other_user}","gists_url":"https://api.github.com/users/YannByron/gists{/gist_id}","starred_url":"https://api.github.com/users/YannByron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YannByron/subscriptions","organizations_url":"https://api.github.com/users/YannByron/orgs","repos_url":"https://api.github.com/users/YannByron/repos","events_url":"https://api.github.com/users/YannByron/events{/privacy}","received_events_url":"https://api.github.com/users/YannByron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-05T13:58:00Z","updated_at":"2022-10-05T13:58:00Z","author_association":"CONTRIBUTOR","body":"@xushiyan @alexeykudinkin please confirm whether this can be merged to master branch now.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268475219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268548857","html_url":"https://github.com/apache/hudi/pull/4309#issuecomment-1268548857","issue_url":"https://api.github.com/repos/apache/hudi/issues/4309","id":1268548857,"node_id":"IC_kwDOBI7nWM5LnIT5","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-05T14:49:33Z","updated_at":"2022-10-05T14:54:43Z","author_association":"CONTRIBUTOR","body":"One high level comment/ask. not sure if its doable already. can regular writers take care of scheduling table services by themselves and only delegate execution to TMS? I am thinking from a deltastreamer standpoint. As of now, Hudi could achieve async non blocking compaction/clustering, bcoz, regular writer will take care of scheduling (while table is frozen (no other writes in flight)) and delegate the execution to a separate thread. if we delegate the scheduling also to TMS, we can't guarantee that there won't be any other inflight operation while scheduling compaction (on which case, scheduling could fail). So, instead of a separate thread executing(as of master), we can let TMS handle the execution alone. This will keep the deltastreamer job lean (less resources), while TMS takes up heavy compute job of executing the table service. \r\n\r\nFrom what I glean, only if scheduling is done by TMS, it goes into its backing storage which the scheduler will be polling. if scheduling is done by regular writer, not sure how this will be handled. sorry, I haven't taken a look at the impl yet. \r\n\r\nIs this functionality supported? if not, we should look to support this. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268548857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268549608","html_url":"https://github.com/apache/hudi/issues/6869#issuecomment-1268549608","issue_url":"https://api.github.com/repos/apache/hudi/issues/6869","id":1268549608,"node_id":"IC_kwDOBI7nWM5LnIfo","user":{"login":"fengjian428","id":4403474,"node_id":"MDQ6VXNlcjQ0MDM0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4403474?v=4","gravatar_id":"","url":"https://api.github.com/users/fengjian428","html_url":"https://github.com/fengjian428","followers_url":"https://api.github.com/users/fengjian428/followers","following_url":"https://api.github.com/users/fengjian428/following{/other_user}","gists_url":"https://api.github.com/users/fengjian428/gists{/gist_id}","starred_url":"https://api.github.com/users/fengjian428/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fengjian428/subscriptions","organizations_url":"https://api.github.com/users/fengjian428/orgs","repos_url":"https://api.github.com/users/fengjian428/repos","events_url":"https://api.github.com/users/fengjian428/events{/privacy}","received_events_url":"https://api.github.com/users/fengjian428/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-05T14:50:00Z","updated_at":"2022-10-05T14:50:00Z","author_association":"CONTRIBUTOR","body":"so the problem is got two records with same key？@gtwuser","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268549608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268563840","html_url":"https://github.com/apache/hudi/pull/4309#issuecomment-1268563840","issue_url":"https://api.github.com/repos/apache/hudi/issues/4309","id":1268563840,"node_id":"IC_kwDOBI7nWM5LnL-A","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-05T15:01:11Z","updated_at":"2022-10-05T15:01:11Z","author_association":"CONTRIBUTOR","body":"Infact, this could also be a problem w/ other writes as well. when scheduling compaction, hudi expects to not have any other delta commits in flight. So, better to let one of the writers to take care of scheduling and delegate the execution to TMS. probably this is specific to compaction. Wanted to remind just incase. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268563840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268637217","html_url":"https://github.com/apache/hudi/pull/6745#issuecomment-1268637217","issue_url":"https://api.github.com/repos/apache/hudi/issues/6745","id":1268637217,"node_id":"IC_kwDOBI7nWM5Lnd4h","user":{"login":"wzx140","id":25837418,"node_id":"MDQ6VXNlcjI1ODM3NDE4","avatar_url":"https://avatars.githubusercontent.com/u/25837418?v=4","gravatar_id":"","url":"https://api.github.com/users/wzx140","html_url":"https://github.com/wzx140","followers_url":"https://api.github.com/users/wzx140/followers","following_url":"https://api.github.com/users/wzx140/following{/other_user}","gists_url":"https://api.github.com/users/wzx140/gists{/gist_id}","starred_url":"https://api.github.com/users/wzx140/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wzx140/subscriptions","organizations_url":"https://api.github.com/users/wzx140/orgs","repos_url":"https://api.github.com/users/wzx140/repos","events_url":"https://api.github.com/users/wzx140/events{/privacy}","received_events_url":"https://api.github.com/users/wzx140/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-05T16:07:54Z","updated_at":"2022-10-05T16:07:54Z","author_association":"CONTRIBUTOR","body":"@alexeykudinkin I have implement without the Broadcast and schema inside HoodieSparkRecord and pass record's schema externally. Please review the update when you have time.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268637217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268638101","html_url":"https://github.com/apache/hudi/pull/6745#issuecomment-1268638101","issue_url":"https://api.github.com/repos/apache/hudi/issues/6745","id":1268638101,"node_id":"IC_kwDOBI7nWM5LneGV","user":{"login":"wzx140","id":25837418,"node_id":"MDQ6VXNlcjI1ODM3NDE4","avatar_url":"https://avatars.githubusercontent.com/u/25837418?v=4","gravatar_id":"","url":"https://api.github.com/users/wzx140","html_url":"https://github.com/wzx140","followers_url":"https://api.github.com/users/wzx140/followers","following_url":"https://api.github.com/users/wzx140/following{/other_user}","gists_url":"https://api.github.com/users/wzx140/gists{/gist_id}","starred_url":"https://api.github.com/users/wzx140/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wzx140/subscriptions","organizations_url":"https://api.github.com/users/wzx140/orgs","repos_url":"https://api.github.com/users/wzx140/repos","events_url":"https://api.github.com/users/wzx140/events{/privacy}","received_events_url":"https://api.github.com/users/wzx140/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-05T16:08:37Z","updated_at":"2022-10-05T16:08:37Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268638101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268750709","html_url":"https://github.com/apache/hudi/pull/6874#issuecomment-1268750709","issue_url":"https://api.github.com/repos/apache/hudi/issues/6874","id":1268750709,"node_id":"IC_kwDOBI7nWM5Ln5l1","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-05T17:52:35Z","updated_at":"2022-10-05T17:52:35Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"085d9735ebbdd561cdc87ed83f860b25047a6a22\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12009\",\n    \"triggerID\" : \"085d9735ebbdd561cdc87ed83f860b25047a6a22\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 085d9735ebbdd561cdc87ed83f860b25047a6a22 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12009) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268750709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268760535","html_url":"https://github.com/apache/hudi/issues/6866#issuecomment-1268760535","issue_url":"https://api.github.com/repos/apache/hudi/issues/6866","id":1268760535,"node_id":"IC_kwDOBI7nWM5Ln7_X","user":{"login":"INRIX-Trang-Nguyen","id":9421899,"node_id":"MDQ6VXNlcjk0MjE4OTk=","avatar_url":"https://avatars.githubusercontent.com/u/9421899?v=4","gravatar_id":"","url":"https://api.github.com/users/INRIX-Trang-Nguyen","html_url":"https://github.com/INRIX-Trang-Nguyen","followers_url":"https://api.github.com/users/INRIX-Trang-Nguyen/followers","following_url":"https://api.github.com/users/INRIX-Trang-Nguyen/following{/other_user}","gists_url":"https://api.github.com/users/INRIX-Trang-Nguyen/gists{/gist_id}","starred_url":"https://api.github.com/users/INRIX-Trang-Nguyen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/INRIX-Trang-Nguyen/subscriptions","organizations_url":"https://api.github.com/users/INRIX-Trang-Nguyen/orgs","repos_url":"https://api.github.com/users/INRIX-Trang-Nguyen/repos","events_url":"https://api.github.com/users/INRIX-Trang-Nguyen/events{/privacy}","received_events_url":"https://api.github.com/users/INRIX-Trang-Nguyen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-05T18:00:51Z","updated_at":"2022-10-05T18:00:51Z","author_association":"NONE","body":"Wildcard expansion on partition path is really desirable, since our data is partitioned geospatially along with other criteria, this would be a very large list to pass into the delete partitions operation.  At the moment, our only option would be to list all partitions, either via s3 or hudi metadata and then invoke the delete partitions operation. If there is a better way, or support is already planned in upcoming hudi releases, please let us know. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268760535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268774951","html_url":"https://github.com/apache/hudi/issues/5785#issuecomment-1268774951","issue_url":"https://api.github.com/repos/apache/hudi/issues/5785","id":1268774951,"node_id":"IC_kwDOBI7nWM5Ln_gn","user":{"login":"steveloughran","id":162090,"node_id":"MDQ6VXNlcjE2MjA5MA==","avatar_url":"https://avatars.githubusercontent.com/u/162090?v=4","gravatar_id":"","url":"https://api.github.com/users/steveloughran","html_url":"https://github.com/steveloughran","followers_url":"https://api.github.com/users/steveloughran/followers","following_url":"https://api.github.com/users/steveloughran/following{/other_user}","gists_url":"https://api.github.com/users/steveloughran/gists{/gist_id}","starred_url":"https://api.github.com/users/steveloughran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/steveloughran/subscriptions","organizations_url":"https://api.github.com/users/steveloughran/orgs","repos_url":"https://api.github.com/users/steveloughran/repos","events_url":"https://api.github.com/users/steveloughran/events{/privacy}","received_events_url":"https://api.github.com/users/steveloughran/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-05T18:14:07Z","updated_at":"2022-10-05T18:14:07Z","author_association":"NONE","body":"> fs.s3a.downgrade.syncable.exceptions to true, but this has no effect.\r\n\r\nshould do","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1268774951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1269231905","html_url":"https://github.com/apache/hudi/pull/6857#issuecomment-1269231905","issue_url":"https://api.github.com/repos/apache/hudi/issues/6857","id":1269231905,"node_id":"IC_kwDOBI7nWM5LpvEh","user":{"login":"codope","id":16440354,"node_id":"MDQ6VXNlcjE2NDQwMzU0","avatar_url":"https://avatars.githubusercontent.com/u/16440354?v=4","gravatar_id":"","url":"https://api.github.com/users/codope","html_url":"https://github.com/codope","followers_url":"https://api.github.com/users/codope/followers","following_url":"https://api.github.com/users/codope/following{/other_user}","gists_url":"https://api.github.com/users/codope/gists{/gist_id}","starred_url":"https://api.github.com/users/codope/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codope/subscriptions","organizations_url":"https://api.github.com/users/codope/orgs","repos_url":"https://api.github.com/users/codope/repos","events_url":"https://api.github.com/users/codope/events{/privacy}","received_events_url":"https://api.github.com/users/codope/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-06T02:41:28Z","updated_at":"2022-10-06T02:41:28Z","author_association":"MEMBER","body":"Landing it. Just a readme and test update.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1269231905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1269410021","html_url":"https://github.com/apache/hudi/issues/6869#issuecomment-1269410021","issue_url":"https://api.github.com/repos/apache/hudi/issues/6869","id":1269410021,"node_id":"IC_kwDOBI7nWM5Lqajl","user":{"login":"gtwuser","id":6791570,"node_id":"MDQ6VXNlcjY3OTE1NzA=","avatar_url":"https://avatars.githubusercontent.com/u/6791570?v=4","gravatar_id":"","url":"https://api.github.com/users/gtwuser","html_url":"https://github.com/gtwuser","followers_url":"https://api.github.com/users/gtwuser/followers","following_url":"https://api.github.com/users/gtwuser/following{/other_user}","gists_url":"https://api.github.com/users/gtwuser/gists{/gist_id}","starred_url":"https://api.github.com/users/gtwuser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gtwuser/subscriptions","organizations_url":"https://api.github.com/users/gtwuser/orgs","repos_url":"https://api.github.com/users/gtwuser/repos","events_url":"https://api.github.com/users/gtwuser/events{/privacy}","received_events_url":"https://api.github.com/users/gtwuser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-06T06:32:24Z","updated_at":"2022-10-06T06:32:24Z","author_association":"NONE","body":"> so the problem is got two records with same key？@gtwuser\r\n\r\nYes same record key","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1269410021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1269454764","html_url":"https://github.com/apache/hudi/issues/6611#issuecomment-1269454764","issue_url":"https://api.github.com/repos/apache/hudi/issues/6611","id":1269454764,"node_id":"IC_kwDOBI7nWM5Lqles","user":{"login":"Shubham21k","id":85898765,"node_id":"MDQ6VXNlcjg1ODk4NzY1","avatar_url":"https://avatars.githubusercontent.com/u/85898765?v=4","gravatar_id":"","url":"https://api.github.com/users/Shubham21k","html_url":"https://github.com/Shubham21k","followers_url":"https://api.github.com/users/Shubham21k/followers","following_url":"https://api.github.com/users/Shubham21k/following{/other_user}","gists_url":"https://api.github.com/users/Shubham21k/gists{/gist_id}","starred_url":"https://api.github.com/users/Shubham21k/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Shubham21k/subscriptions","organizations_url":"https://api.github.com/users/Shubham21k/orgs","repos_url":"https://api.github.com/users/Shubham21k/repos","events_url":"https://api.github.com/users/Shubham21k/events{/privacy}","received_events_url":"https://api.github.com/users/Shubham21k/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-06T07:07:27Z","updated_at":"2022-10-06T07:07:27Z","author_association":"NONE","body":"@codope as you can see from the below image : ten is not nullable column thats why ten is not coming as an union. but six is nullable thats why it is coming as union in schema registry schema.\r\n![image](https://user-images.githubusercontent.com/85898765/194231230-180dffff-80e1-47aa-a960-f67f3fe6e501.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1269454764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1269455429","html_url":"https://github.com/apache/hudi/pull/6745#issuecomment-1269455429","issue_url":"https://api.github.com/repos/apache/hudi/issues/6745","id":1269455429,"node_id":"IC_kwDOBI7nWM5LqlpF","user":{"login":"wzx140","id":25837418,"node_id":"MDQ6VXNlcjI1ODM3NDE4","avatar_url":"https://avatars.githubusercontent.com/u/25837418?v=4","gravatar_id":"","url":"https://api.github.com/users/wzx140","html_url":"https://github.com/wzx140","followers_url":"https://api.github.com/users/wzx140/followers","following_url":"https://api.github.com/users/wzx140/following{/other_user}","gists_url":"https://api.github.com/users/wzx140/gists{/gist_id}","starred_url":"https://api.github.com/users/wzx140/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wzx140/subscriptions","organizations_url":"https://api.github.com/users/wzx140/orgs","repos_url":"https://api.github.com/users/wzx140/repos","events_url":"https://api.github.com/users/wzx140/events{/privacy}","received_events_url":"https://api.github.com/users/wzx140/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-06T07:08:00Z","updated_at":"2022-10-06T07:08:00Z","author_association":"CONTRIBUTOR","body":"CI fail with testReadFilterExistAfterBulkInsertPrepped. And it will fix after rebasing on master with commit HUDI-4923.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1269455429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1269512981","html_url":"https://github.com/apache/hudi/pull/6877#issuecomment-1269512981","issue_url":"https://api.github.com/repos/apache/hudi/issues/6877","id":1269512981,"node_id":"IC_kwDOBI7nWM5LqzsV","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-06T07:47:49Z","updated_at":"2022-10-06T07:47:49Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"e990b52cdd2a90b145592723fbc575b6685b5415\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12024\",\n    \"triggerID\" : \"e990b52cdd2a90b145592723fbc575b6685b5415\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* e990b52cdd2a90b145592723fbc575b6685b5415 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12024) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1269512981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270121801","html_url":"https://github.com/apache/hudi/issues/6808#issuecomment-1270121801","issue_url":"https://api.github.com/repos/apache/hudi/issues/6808","id":1270121801,"node_id":"IC_kwDOBI7nWM5LtIVJ","user":{"login":"schlichtanders","id":4255480,"node_id":"MDQ6VXNlcjQyNTU0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/4255480?v=4","gravatar_id":"","url":"https://api.github.com/users/schlichtanders","html_url":"https://github.com/schlichtanders","followers_url":"https://api.github.com/users/schlichtanders/followers","following_url":"https://api.github.com/users/schlichtanders/following{/other_user}","gists_url":"https://api.github.com/users/schlichtanders/gists{/gist_id}","starred_url":"https://api.github.com/users/schlichtanders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schlichtanders/subscriptions","organizations_url":"https://api.github.com/users/schlichtanders/orgs","repos_url":"https://api.github.com/users/schlichtanders/repos","events_url":"https://api.github.com/users/schlichtanders/events{/privacy}","received_events_url":"https://api.github.com/users/schlichtanders/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-06T14:09:21Z","updated_at":"2022-10-06T14:09:21Z","author_association":"NONE","body":"@codope does it work for you? Have you been able to replicate the case?\r\n\r\nShould Hudi be able to write to a local derby metastore?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270121801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270155907","html_url":"https://github.com/apache/hudi/issues/6808#issuecomment-1270155907","issue_url":"https://api.github.com/repos/apache/hudi/issues/6808","id":1270155907,"node_id":"IC_kwDOBI7nWM5LtQqD","user":{"login":"schlichtanders","id":4255480,"node_id":"MDQ6VXNlcjQyNTU0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/4255480?v=4","gravatar_id":"","url":"https://api.github.com/users/schlichtanders","html_url":"https://github.com/schlichtanders","followers_url":"https://api.github.com/users/schlichtanders/followers","following_url":"https://api.github.com/users/schlichtanders/following{/other_user}","gists_url":"https://api.github.com/users/schlichtanders/gists{/gist_id}","starred_url":"https://api.github.com/users/schlichtanders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schlichtanders/subscriptions","organizations_url":"https://api.github.com/users/schlichtanders/orgs","repos_url":"https://api.github.com/users/schlichtanders/repos","events_url":"https://api.github.com/users/schlichtanders/events{/privacy}","received_events_url":"https://api.github.com/users/schlichtanders/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-06T14:27:41Z","updated_at":"2022-10-06T14:27:54Z","author_association":"NONE","body":"I was now trying again some different configs\r\n\r\n```python\r\nfrom pyspark.sql import SparkSession\r\nfrom pathlib import Path\r\nimport os\r\n\r\nos.environ[\"PYSPARK_SUBMIT_ARGS\"] = \" \".join([\r\n    # hudi config\r\n    \"--packages org.apache.hudi:hudi-spark3.2-bundle_2.12:0.12.0\",\r\n    \"--conf spark.serializer=org.apache.spark.serializer.KryoSerializer\",\r\n    \"--conf spark.sql.catalog.spark_catalog=org.apache.spark.sql.hudi.catalog.HoodieCatalog\",\r\n    \"--conf spark.sql.extensions=org.apache.spark.sql.hudi.HoodieSparkSessionExtension\",\r\n    # \"--conf spark.sql.hive.convertMetastoreParquet=false\", # taken from AWS example\r\n    # others\r\n    # \"--conf spark.hadoop.hive.metastore.uris=jdbc:derby:;databaseName=metastore_db;create=true\",\r\n    # \"--conf spark.hadoop.hive.metastore.uris=''\",\r\n    # f\"--conf spark.sql.warehouse.dir={Path('.').absolute() / 'metastore_warehouse'}\",\r\n    # \"--conf spark.eventLog.enabled=false\",\r\n    \"--conf spark.sql.catalogImplementation=hive\",\r\n    \"--conf spark.hadoop.hive.metastore.schema.verification=false\",\r\n    \"--conf spark.hadoop.hive.metastore.schema.verification.record.version=false\",\r\n    \"--conf spark.hadoop.javax.jdo.option.ConnectionURL='jdbc:derby:memory:databaseName=metastore_db;create=true'\",\r\n    \"--conf spark.hadoop.datanucleus.schema.autoCreateTables=true\",\r\n    # f\"--conf spark.sql.warehouse.dir={Path('.').absolute() / 'metastore_warehouse'}\",\r\n    # f\"--conf spark.sql.hive.metastore.warehouse.dir={Path('.').absolute() / 'metastore_warehouse'}\",\r\n    # necessary last string\r\n    \"pyspark-shell\",\r\n])\r\nos.environ[\"PYSPARK_SUBMIT_ARGS\"]\r\n\r\nspark = SparkSession.builder.getOrCreate()\r\ndst_database = \"default\"\r\nspark.sql(f\"CREATE DATABASE IF NOT EXISTS {dst_database}\")\r\n\r\ntableName = \"test_hudi_pyspark_local\"\r\nbasePath = f\"{Path('.').absolute()}/tmp/{tableName}\"\r\n\r\nhudi_options = {\r\n    \"hoodie.table.name\": tableName,\r\n    \"hoodie.datasource.write.recordkey.field\": \"uuid\",\r\n    \"hoodie.datasource.write.partitionpath.field\": \"part\",\r\n    \"hoodie.datasource.write.table.name\": tableName,\r\n    \"hoodie.datasource.write.operation\": \"upsert\",\r\n    \"hoodie.datasource.write.precombine.field\": \"ts\",\r\n    # \"hoodie.upsert.shuffle.parallelism\": 2,\r\n    # \"hoodie.insert.shuffle.parallelism\": 2,\r\n    \"hoodie.datasource.hive_sync.database\": \"default\",\r\n    \"hoodie.datasource.hive_sync.table\": tableName,\r\n    \"hoodie.datasource.hive_sync.enable\": \"true\",\r\n    # \"hoodie.datasource.meta.sync.enable\": \"true\",\r\n    # \"hoodie.datasource.hive_sync.mode\": \"hiveql\",\r\n    # \"hoodie.datasource.hive_sync.mode\": \"hms\",\r\n    # \"hoodie.datasource.hive_sync.mode\": \"jdbc\",\r\n    \"hoodie.datasource.hive_sync.use_jdbc\": \"false\",\r\n    # \"hoodie.datasource.hive_sync.username\": \"APP\",\r\n    # \"hoodie.datasource.hive_sync.jdbcurl\": f\"jdbc:derby:;databaseName={Path('.').absolute() / 'metastore_db'};create=true\",\r\n    # \"hoodie.datasource.hive_sync.jdbcurl\": \"jdbc:derby:;databaseName=metastore_db;create=true\",\r\n    \"hoodie.datasource.hive_sync.partition_fields\": \"part\",\r\n    \"hoodie.datasource.hive_sync.partition_extractor_class\": \"org.apache.hudi.hive.MultiPartKeysValueExtractor\",\r\n    \"index.global.enabled\": \"true\",\r\n    \"hoodie.index.type\": \"GLOBAL_BLOOM\",\r\n}\r\n(df.write.format(\"hudi\").options(**hudi_options).mode(\"overwrite\").save(basePath))\r\n```\r\n\r\nand get a new more descriptive error\r\n\r\n```\r\norg.apache.hudi.exception.HoodieException: Could not sync using the meta sync class org.apache.hudi.hive.HiveSyncTool\r\n[...]\r\nCaused by: java.lang.ClassNotFoundException: org.apache.calcite.rel.type.RelDataTypeSystem\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270155907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270194063","html_url":"https://github.com/apache/hudi/issues/6808#issuecomment-1270194063","issue_url":"https://api.github.com/repos/apache/hudi/issues/6808","id":1270194063,"node_id":"IC_kwDOBI7nWM5LtZ-P","user":{"login":"schlichtanders","id":4255480,"node_id":"MDQ6VXNlcjQyNTU0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/4255480?v=4","gravatar_id":"","url":"https://api.github.com/users/schlichtanders","html_url":"https://github.com/schlichtanders","followers_url":"https://api.github.com/users/schlichtanders/followers","following_url":"https://api.github.com/users/schlichtanders/following{/other_user}","gists_url":"https://api.github.com/users/schlichtanders/gists{/gist_id}","starred_url":"https://api.github.com/users/schlichtanders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schlichtanders/subscriptions","organizations_url":"https://api.github.com/users/schlichtanders/orgs","repos_url":"https://api.github.com/users/schlichtanders/repos","events_url":"https://api.github.com/users/schlichtanders/events{/privacy}","received_events_url":"https://api.github.com/users/schlichtanders/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-06T14:47:51Z","updated_at":"2022-10-06T16:26:50Z","author_association":"NONE","body":"EDIT: ~seems to~ might be a revival of https://github.com/apache/hudi/issues/1679","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270194063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270196109","html_url":"https://github.com/apache/hudi/issues/6869#issuecomment-1270196109","issue_url":"https://api.github.com/repos/apache/hudi/issues/6869","id":1270196109,"node_id":"IC_kwDOBI7nWM5LtaeN","user":{"login":"fengjian428","id":4403474,"node_id":"MDQ6VXNlcjQ0MDM0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4403474?v=4","gravatar_id":"","url":"https://api.github.com/users/fengjian428","html_url":"https://github.com/fengjian428","followers_url":"https://api.github.com/users/fengjian428/followers","following_url":"https://api.github.com/users/fengjian428/following{/other_user}","gists_url":"https://api.github.com/users/fengjian428/gists{/gist_id}","starred_url":"https://api.github.com/users/fengjian428/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fengjian428/subscriptions","organizations_url":"https://api.github.com/users/fengjian428/orgs","repos_url":"https://api.github.com/users/fengjian428/repos","events_url":"https://api.github.com/users/fengjian428/events{/privacy}","received_events_url":"https://api.github.com/users/fengjian428/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-06T14:49:00Z","updated_at":"2022-10-06T14:49:00Z","author_association":"CONTRIBUTOR","body":"`                'hoodie.datasource.write.precombine.field': 'payload.recordedAt',\r\n\r\ndid you use a wrong precombine field?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270196109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270236974","html_url":"https://github.com/apache/hudi/issues/6808#issuecomment-1270236974","issue_url":"https://api.github.com/repos/apache/hudi/issues/6808","id":1270236974,"node_id":"IC_kwDOBI7nWM5Ltkcu","user":{"login":"schlichtanders","id":4255480,"node_id":"MDQ6VXNlcjQyNTU0ODA=","avatar_url":"https://avatars.githubusercontent.com/u/4255480?v=4","gravatar_id":"","url":"https://api.github.com/users/schlichtanders","html_url":"https://github.com/schlichtanders","followers_url":"https://api.github.com/users/schlichtanders/followers","following_url":"https://api.github.com/users/schlichtanders/following{/other_user}","gists_url":"https://api.github.com/users/schlichtanders/gists{/gist_id}","starred_url":"https://api.github.com/users/schlichtanders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schlichtanders/subscriptions","organizations_url":"https://api.github.com/users/schlichtanders/orgs","repos_url":"https://api.github.com/users/schlichtanders/repos","events_url":"https://api.github.com/users/schlichtanders/events{/privacy}","received_events_url":"https://api.github.com/users/schlichtanders/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-06T15:10:44Z","updated_at":"2022-10-06T15:40:07Z","author_association":"NONE","body":"@codope can you help to find which version of calcite I need to add to the jars?\r\n\r\nStill it would be really great if you could try to replicated this on your side\r\n\r\nEDIT: We are currently re-evaluating switching to Hudi, because we need incremental batch reads, which so far don't seem to be supported on delta tables... hence it would be really great, if we can make Hudi work on local testing","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270236974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270248286","html_url":"https://github.com/apache/hudi/pull/6745#issuecomment-1270248286","issue_url":"https://api.github.com/repos/apache/hudi/issues/6745","id":1270248286,"node_id":"IC_kwDOBI7nWM5LtnNe","user":{"login":"wzx140","id":25837418,"node_id":"MDQ6VXNlcjI1ODM3NDE4","avatar_url":"https://avatars.githubusercontent.com/u/25837418?v=4","gravatar_id":"","url":"https://api.github.com/users/wzx140","html_url":"https://github.com/wzx140","followers_url":"https://api.github.com/users/wzx140/followers","following_url":"https://api.github.com/users/wzx140/following{/other_user}","gists_url":"https://api.github.com/users/wzx140/gists{/gist_id}","starred_url":"https://api.github.com/users/wzx140/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wzx140/subscriptions","organizations_url":"https://api.github.com/users/wzx140/orgs","repos_url":"https://api.github.com/users/wzx140/repos","events_url":"https://api.github.com/users/wzx140/events{/privacy}","received_events_url":"https://api.github.com/users/wzx140/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-06T15:16:49Z","updated_at":"2022-10-06T15:16:49Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270248286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270330139","html_url":"https://github.com/apache/hudi/issues/6869#issuecomment-1270330139","issue_url":"https://api.github.com/repos/apache/hudi/issues/6869","id":1270330139,"node_id":"IC_kwDOBI7nWM5Lt7Mb","user":{"login":"gtwuser","id":6791570,"node_id":"MDQ6VXNlcjY3OTE1NzA=","avatar_url":"https://avatars.githubusercontent.com/u/6791570?v=4","gravatar_id":"","url":"https://api.github.com/users/gtwuser","html_url":"https://github.com/gtwuser","followers_url":"https://api.github.com/users/gtwuser/followers","following_url":"https://api.github.com/users/gtwuser/following{/other_user}","gists_url":"https://api.github.com/users/gtwuser/gists{/gist_id}","starred_url":"https://api.github.com/users/gtwuser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gtwuser/subscriptions","organizations_url":"https://api.github.com/users/gtwuser/orgs","repos_url":"https://api.github.com/users/gtwuser/repos","events_url":"https://api.github.com/users/gtwuser/events{/privacy}","received_events_url":"https://api.github.com/users/gtwuser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-06T16:03:32Z","updated_at":"2022-10-06T18:38:30Z","author_association":"NONE","body":"> ` 'hoodie.datasource.write.precombine.field': 'payload.recordedAt',\r\n> \r\n> did you use a wrong precombine field?\r\n\r\n@fengjian428 sorry i recreated the example JSON payload for data privacy but I missed to update the `recordKey`, updating the `recordKey` as per the given example","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270330139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270357645","html_url":"https://github.com/apache/hudi/pull/6873#issuecomment-1270357645","issue_url":"https://api.github.com/repos/apache/hudi/issues/6873","id":1270357645,"node_id":"IC_kwDOBI7nWM5LuB6N","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-06T16:20:22Z","updated_at":"2022-10-06T16:20:22Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"ca8f6d470db78c44d30b40eb95206a359738b957\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12007\",\n    \"triggerID\" : \"ca8f6d470db78c44d30b40eb95206a359738b957\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"83ef76c2bc6763f16ee342cc83435e907302f19f\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"83ef76c2bc6763f16ee342cc83435e907302f19f\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"9c309b8a1a9a843e60efb866361a8cf0bd077ba7\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12027\",\n    \"triggerID\" : \"9c309b8a1a9a843e60efb866361a8cf0bd077ba7\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 83ef76c2bc6763f16ee342cc83435e907302f19f UNKNOWN\n* 9c309b8a1a9a843e60efb866361a8cf0bd077ba7 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12027) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270357645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270450572","html_url":"https://github.com/apache/hudi/issues/6819#issuecomment-1270450572","issue_url":"https://api.github.com/repos/apache/hudi/issues/6819","id":1270450572,"node_id":"IC_kwDOBI7nWM5LuYmM","user":{"login":"mikeashley87","id":4524335,"node_id":"MDQ6VXNlcjQ1MjQzMzU=","avatar_url":"https://avatars.githubusercontent.com/u/4524335?v=4","gravatar_id":"","url":"https://api.github.com/users/mikeashley87","html_url":"https://github.com/mikeashley87","followers_url":"https://api.github.com/users/mikeashley87/followers","following_url":"https://api.github.com/users/mikeashley87/following{/other_user}","gists_url":"https://api.github.com/users/mikeashley87/gists{/gist_id}","starred_url":"https://api.github.com/users/mikeashley87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikeashley87/subscriptions","organizations_url":"https://api.github.com/users/mikeashley87/orgs","repos_url":"https://api.github.com/users/mikeashley87/repos","events_url":"https://api.github.com/users/mikeashley87/events{/privacy}","received_events_url":"https://api.github.com/users/mikeashley87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-06T17:34:20Z","updated_at":"2022-10-06T17:34:48Z","author_association":"NONE","body":"@codope - I am getting the same error when using\r\n\r\nhttps://mvnrepository.com/artifact/org.apache.hudi/hudi-spark2.4-bundle_2.11/0.12.0\r\n\r\n\r\n```\r\npy4j.protocol.Py4JJavaError: An error occurred while calling o1011.save.\r\n: org.apache.spark.SparkException: Job aborted due to stage failure: Failed to serialize task 3847, not attempting to retry it. Exception during serialization: java.io.NotSerializableException: org.apache.hadoop.fs.Path\r\nSerialization stack:\r\n\t- object not serializable (class: org.apache.hadoop.fs.Path, value: s3://somebucket/someprefix)\r\n\t- element of array (index: 0)\r\n\t- array (class [Ljava.lang.Object;, size 1)\r\n\t- field (class: scala.collection.mutable.WrappedArray$ofRef, name: array, type: class [Ljava.lang.Object;)\r\n\t- object (class scala.collection.mutable.WrappedArray$ofRef, WrappedArray(s3://somebucket/someprefix))\r\n\t- writeObject data (class: org.apache.spark.rdd.ParallelCollectionPartition)\r\n\t- object (class org.apache.spark.rdd.ParallelCollectionPartition, org.apache.spark.rdd.ParallelCollectionPartition@3488)\r\n\t- field (class: org.apache.spark.scheduler.ResultTask, name: partition, type: interface org.apache.spark.Partition)\r\n\t- object (class org.apache.spark.scheduler.ResultTask, ResultTask(114, 0))\r\n\tat org.apache.spark.scheduler.DAGScheduler.org$apache$spark$scheduler$DAGScheduler$$failJobAndIndependentStages(DAGScheduler.scala:1889)\r\n\tat org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1877)\r\n\tat org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1876)\r\n\tat scala.collection.mutable.ResizableArray$class.foreach(ResizableArray.scala:59)\r\n\tat scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:48)\r\n\tat org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:1876)\r\n\tat org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:926)\r\n\tat org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:926)\r\n\tat scala.Option.foreach(Option.scala:257)\r\n\tat org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:926)\r\n\tat org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:2110)\r\n\tat org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2059)\r\n\tat org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:2048)\r\n\tat org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:49)\r\n\tat org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:737)\r\n\tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2061)\r\n\tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2082)\r\n\tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2101)\r\n\tat org.apache.spark.SparkContext.runJob(SparkContext.scala:2126)\r\n\tat org.apache.spark.rdd.RDD$$anonfun$collect$1.apply(RDD.scala:945)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\r\n\tat org.apache.spark.rdd.RDD.withScope(RDD.scala:363)\r\n\tat org.apache.spark.rdd.RDD.collect(RDD.scala:944)\r\n\tat org.apache.spark.api.java.JavaRDDLike$class.collect(JavaRDDLike.scala:361)\r\n\tat org.apache.spark.api.java.AbstractJavaRDDLike.collect(JavaRDDLike.scala:45)\r\n\tat org.apache.hudi.client.common.HoodieSparkEngineContext.map(HoodieSparkEngineContext.java:103)\r\n\tat org.apache.hudi.metadata.HoodieBackedTableMetadataWriter.listAllPartitions(HoodieBackedTableMetadataWriter.java:631)\r\n\tat org.apache.hudi.metadata.HoodieBackedTableMetadataWriter.initialCommit(HoodieBackedTableMetadataWriter.java:1064)\r\n\tat org.apache.hudi.metadata.HoodieBackedTableMetadataWriter.initializeFromFilesystem(HoodieBackedTableMetadataWriter.java:557)\r\n\tat org.apache.hudi.metadata.HoodieBackedTableMetadataWriter.initializeIfNeeded(HoodieBackedTableMetadataWriter.java:390)\r\n\tat org.apache.hudi.metadata.SparkHoodieBackedTableMetadataWriter.initialize(SparkHoodieBackedTableMetadataWriter.java:120)\r\n\tat org.apache.hudi.metadata.HoodieBackedTableMetadataWriter.<init>(HoodieBackedTableMetadataWriter.java:171)\r\n\tat org.apache.hudi.metadata.SparkHoodieBackedTableMetadataWriter.<init>(SparkHoodieBackedTableMetadataWriter.java:89)\r\n\tat org.apache.hudi.metadata.SparkHoodieBackedTableMetadataWriter.create(SparkHoodieBackedTableMetadataWriter.java:75)\r\n\tat org.apache.hudi.client.SparkRDDWriteClient.initializeMetadataTable(SparkRDDWriteClient.java:446)\r\n\tat org.apache.hudi.client.SparkRDDWriteClient.doInitTable(SparkRDDWriteClient.java:431)\r\n\tat org.apache.hudi.client.BaseHoodieWriteClient.initTable(BaseHoodieWriteClient.java:1459)\r\n\tat org.apache.hudi.client.BaseHoodieWriteClient.initTable(BaseHoodieWriteClient.java:1491)\r\n\tat org.apache.hudi.client.SparkRDDWriteClient.upsert(SparkRDDWriteClient.java:152)\r\n\tat org.apache.hudi.DataSourceUtils.doWriteOperation(DataSourceUtils.java:206)\r\n\tat org.apache.hudi.HoodieSparkSqlWriter$.write(HoodieSparkSqlWriter.scala:329)\r\n\tat org.apache.hudi.DefaultSource.createRelation(DefaultSource.scala:183)\r\n\tat org.apache.spark.sql.execution.datasources.SaveIntoDataSourceCommand.run(SaveIntoDataSourceCommand.scala:45)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:70)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:68)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.doExecute(commands.scala:86)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$execute$1.apply(SparkPlan.scala:131)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$execute$1.apply(SparkPlan.scala:127)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$executeQuery$1.apply(SparkPlan.scala:155)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:152)\r\n\tat org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:127)\r\n\tat org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:80)\r\n\tat org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:80)\r\n\tat org.apache.spark.sql.DataFrameWriter$$anonfun$runCommand$1.apply(DataFrameWriter.scala:676)\r\n\tat org.apache.spark.sql.DataFrameWriter$$anonfun$runCommand$1.apply(DataFrameWriter.scala:676)\r\n\tat org.apache.spark.sql.execution.SQLExecution$$anonfun$withNewExecutionId$1.apply(SQLExecution.scala:78)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:125)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:73)\r\n\tat org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:676)\r\n\tat org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:285)\r\n\tat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:271)\r\n\tat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:229)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\r\n\tat py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\n\tat py4j.Gateway.invoke(Gateway.java:282)\r\n\tat py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n\tat py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n\tat py4j.GatewayConnection.run(GatewayConnection.java:238)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270450572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270599382","html_url":"https://github.com/apache/hudi/issues/6869#issuecomment-1270599382","issue_url":"https://api.github.com/repos/apache/hudi/issues/6869","id":1270599382,"node_id":"IC_kwDOBI7nWM5Lu87W","user":{"login":"kazdy","id":27806231,"node_id":"MDQ6VXNlcjI3ODA2MjMx","avatar_url":"https://avatars.githubusercontent.com/u/27806231?v=4","gravatar_id":"","url":"https://api.github.com/users/kazdy","html_url":"https://github.com/kazdy","followers_url":"https://api.github.com/users/kazdy/followers","following_url":"https://api.github.com/users/kazdy/following{/other_user}","gists_url":"https://api.github.com/users/kazdy/gists{/gist_id}","starred_url":"https://api.github.com/users/kazdy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kazdy/subscriptions","organizations_url":"https://api.github.com/users/kazdy/orgs","repos_url":"https://api.github.com/users/kazdy/repos","events_url":"https://api.github.com/users/kazdy/events{/privacy}","received_events_url":"https://api.github.com/users/kazdy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-06T19:46:52Z","updated_at":"2022-10-06T21:32:08Z","author_association":"CONTRIBUTOR","body":"Hi, \r\n\r\nthe example given states you end up with two different record keys, since delivery is a part of the key.\r\nIn this case abcd.delivery and abcd.payment make for the record key:\r\n'hoodie.datasource.write.recordkey.field': 'abcd.delivery,abcd.payment'\r\nso \r\n1st recordkey is 2000,upi\r\n2nd recordkey is 3000,upi\r\n\r\nRecord key works like a PK on a table (unique, non-nullable field). \r\nIn your case, you end up with two records with different record key and that's expected.\r\nPrecombine and upserts are supposed to maintain the uniqueness of recordKey.\r\n\r\nassume you use only delivery field as record key to make it easier \r\nso if you have record with delivery:3000 hudi will do insert (if record with same record key does not exists in the table),  if record with delivery:2000 and it already exists in the table then update\r\n\r\nprecombine works before write, incoming batch of data is deduplicated based on record key and precombine field\r\nso if in incoming batch you have two records with the same record key, then one with greater precombine field value will be passed to write operation","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270599382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270619909","html_url":"https://github.com/apache/hudi/pull/6882#issuecomment-1270619909","issue_url":"https://api.github.com/repos/apache/hudi/issues/6882","id":1270619909,"node_id":"IC_kwDOBI7nWM5LvB8F","user":{"login":"CTTY","id":42792772,"node_id":"MDQ6VXNlcjQyNzkyNzcy","avatar_url":"https://avatars.githubusercontent.com/u/42792772?v=4","gravatar_id":"","url":"https://api.github.com/users/CTTY","html_url":"https://github.com/CTTY","followers_url":"https://api.github.com/users/CTTY/followers","following_url":"https://api.github.com/users/CTTY/following{/other_user}","gists_url":"https://api.github.com/users/CTTY/gists{/gist_id}","starred_url":"https://api.github.com/users/CTTY/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CTTY/subscriptions","organizations_url":"https://api.github.com/users/CTTY/orgs","repos_url":"https://api.github.com/users/CTTY/repos","events_url":"https://api.github.com/users/CTTY/events{/privacy}","received_events_url":"https://api.github.com/users/CTTY/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-06T20:06:53Z","updated_at":"2022-10-06T20:06:53Z","author_association":"CONTRIBUTOR","body":"See [RFC-60](https://github.com/apache/hudi/pull/5113)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270619909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270699265","html_url":"https://github.com/apache/hudi/issues/6842#issuecomment-1270699265","issue_url":"https://api.github.com/repos/apache/hudi/issues/6842","id":1270699265,"node_id":"IC_kwDOBI7nWM5LvVUB","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-06T21:07:10Z","updated_at":"2022-10-06T21:07:10Z","author_association":"CONTRIBUTOR","body":"Created HUDI-4991 to track","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270699265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270776160","html_url":"https://github.com/apache/hudi/pull/6882#issuecomment-1270776160","issue_url":"https://api.github.com/repos/apache/hudi/issues/6882","id":1270776160,"node_id":"IC_kwDOBI7nWM5LvoFg","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-06T22:39:32Z","updated_at":"2022-10-06T22:39:32Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"1b456c26360a564f7695b2f683c929add7b55daf\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12033\",\n    \"triggerID\" : \"1b456c26360a564f7695b2f683c929add7b55daf\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 1b456c26360a564f7695b2f683c929add7b55daf Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12033) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270776160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270851273","html_url":"https://github.com/apache/hudi/pull/6575#issuecomment-1270851273","issue_url":"https://api.github.com/repos/apache/hudi/issues/6575","id":1270851273,"node_id":"IC_kwDOBI7nWM5Lv6bJ","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-06T23:51:59Z","updated_at":"2022-10-06T23:51:59Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"353d9b6f7c4bcf1defb4eead956a334443c89b31\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11123\",\n    \"triggerID\" : \"353d9b6f7c4bcf1defb4eead956a334443c89b31\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"1600e31836157c8d05e3bc8b9e08e1717471f1a6\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"1600e31836157c8d05e3bc8b9e08e1717471f1a6\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"4d02f2c64a5fc4b89889677ee639a20b53cec26a\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"4d02f2c64a5fc4b89889677ee639a20b53cec26a\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"48147d19c835e7868102fd2d083659e6ee2ac343\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"48147d19c835e7868102fd2d083659e6ee2ac343\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"0cb0b8ff84a5880e2718c9eb177019457b3e00c9\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11124\",\n    \"triggerID\" : \"0cb0b8ff84a5880e2718c9eb177019457b3e00c9\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"c644d730766bcb7c00c7b427d73e56a1c63dbb3a\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11228\",\n    \"triggerID\" : \"c644d730766bcb7c00c7b427d73e56a1c63dbb3a\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"a2f80653d1a7d307b0f6962ca944c0f2a1fd5e5e\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11390\",\n    \"triggerID\" : \"a2f80653d1a7d307b0f6962ca944c0f2a1fd5e5e\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"0e2333dccf8d695fb412f9c1d8f28532e9bd22c8\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11842\",\n    \"triggerID\" : \"0e2333dccf8d695fb412f9c1d8f28532e9bd22c8\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"242f21cd6a4887268e02038de7909e38dd230137\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11845\",\n    \"triggerID\" : \"242f21cd6a4887268e02038de7909e38dd230137\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"8977c6cedd580186a07e360b8f879adc85460093\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11847\",\n    \"triggerID\" : \"8977c6cedd580186a07e360b8f879adc85460093\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"76ad961f78d1cc24ddebeb34110a89be72504682\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11898\",\n    \"triggerID\" : \"76ad961f78d1cc24ddebeb34110a89be72504682\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"b524fcc1dc3a5ce4d32a1238e09b9cc58b3e26b6\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"b524fcc1dc3a5ce4d32a1238e09b9cc58b3e26b6\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"3f2440a00e10b2c2daa4d930fd2933d48f5be1a2\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"3f2440a00e10b2c2daa4d930fd2933d48f5be1a2\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"8bf172fcf19f6e5f8d927ff7b11303a7681fc1d6\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11903\",\n    \"triggerID\" : \"8bf172fcf19f6e5f8d927ff7b11303a7681fc1d6\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"5dfc76a457a1ef80cc87d35a2bd24bab01edfd5b\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"5dfc76a457a1ef80cc87d35a2bd24bab01edfd5b\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"51979ee5abe5df950a320e0b0ba02532c589432d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11906\",\n    \"triggerID\" : \"51979ee5abe5df950a320e0b0ba02532c589432d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"7e3c8e9cd3f9b8c37995c9819676a64bd8c89e77\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11976\",\n    \"triggerID\" : \"7e3c8e9cd3f9b8c37995c9819676a64bd8c89e77\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"580379dc4efdfdb6e0425738d54c91f3e20eedee\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12034\",\n    \"triggerID\" : \"580379dc4efdfdb6e0425738d54c91f3e20eedee\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 1600e31836157c8d05e3bc8b9e08e1717471f1a6 UNKNOWN\n* 4d02f2c64a5fc4b89889677ee639a20b53cec26a UNKNOWN\n* 48147d19c835e7868102fd2d083659e6ee2ac343 UNKNOWN\n* b524fcc1dc3a5ce4d32a1238e09b9cc58b3e26b6 UNKNOWN\n* 3f2440a00e10b2c2daa4d930fd2933d48f5be1a2 UNKNOWN\n* 5dfc76a457a1ef80cc87d35a2bd24bab01edfd5b UNKNOWN\n* 580379dc4efdfdb6e0425738d54c91f3e20eedee Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12034) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270851273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270864726","html_url":"https://github.com/apache/hudi/pull/6883#issuecomment-1270864726","issue_url":"https://api.github.com/repos/apache/hudi/issues/6883","id":1270864726,"node_id":"IC_kwDOBI7nWM5Lv9tW","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-07T00:15:55Z","updated_at":"2022-10-07T00:15:55Z","author_association":"CONTRIBUTOR","body":"can we please add tests as well","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270864726/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270940646","html_url":"https://github.com/apache/hudi/pull/6883#issuecomment-1270940646","issue_url":"https://api.github.com/repos/apache/hudi/issues/6883","id":1270940646,"node_id":"IC_kwDOBI7nWM5LwQPm","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-07T00:54:31Z","updated_at":"2022-10-07T01:57:59Z","author_association":"CONTRIBUTOR","body":"@nsivabalan yes, i'm adding comprehensive tests for Parquet writers to make sure we properly validating both records and metadata written to Parquet","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1270940646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1271018152","html_url":"https://github.com/apache/hudi/issues/6692#issuecomment-1271018152","issue_url":"https://api.github.com/repos/apache/hudi/issues/6692","id":1271018152,"node_id":"IC_kwDOBI7nWM5LwjKo","user":{"login":"eshu","id":3531759,"node_id":"MDQ6VXNlcjM1MzE3NTk=","avatar_url":"https://avatars.githubusercontent.com/u/3531759?v=4","gravatar_id":"","url":"https://api.github.com/users/eshu","html_url":"https://github.com/eshu","followers_url":"https://api.github.com/users/eshu/followers","following_url":"https://api.github.com/users/eshu/following{/other_user}","gists_url":"https://api.github.com/users/eshu/gists{/gist_id}","starred_url":"https://api.github.com/users/eshu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eshu/subscriptions","organizations_url":"https://api.github.com/users/eshu/orgs","repos_url":"https://api.github.com/users/eshu/repos","events_url":"https://api.github.com/users/eshu/events{/privacy}","received_events_url":"https://api.github.com/users/eshu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-07T02:12:05Z","updated_at":"2022-10-07T02:15:11Z","author_association":"NONE","body":"@xushiyan But I see avro as a transitive dependency for hudi-aws-bundle. And hudi-aws-bundle has it as a direct and transitive dependency too.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1271018152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1271026057","html_url":"https://github.com/apache/hudi/issues/6692#issuecomment-1271026057","issue_url":"https://api.github.com/repos/apache/hudi/issues/6692","id":1271026057,"node_id":"IC_kwDOBI7nWM5LwlGJ","user":{"login":"eshu","id":3531759,"node_id":"MDQ6VXNlcjM1MzE3NTk=","avatar_url":"https://avatars.githubusercontent.com/u/3531759?v=4","gravatar_id":"","url":"https://api.github.com/users/eshu","html_url":"https://github.com/eshu","followers_url":"https://api.github.com/users/eshu/followers","following_url":"https://api.github.com/users/eshu/following{/other_user}","gists_url":"https://api.github.com/users/eshu/gists{/gist_id}","starred_url":"https://api.github.com/users/eshu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eshu/subscriptions","organizations_url":"https://api.github.com/users/eshu/orgs","repos_url":"https://api.github.com/users/eshu/repos","events_url":"https://api.github.com/users/eshu/events{/privacy}","received_events_url":"https://api.github.com/users/eshu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-07T02:22:11Z","updated_at":"2022-10-07T02:22:11Z","author_association":"NONE","body":"hadoop-common have a dependency on avro, hbase-hadoop-compat, hadoop-mapreduce-client-core.\r\n\r\nI do not have dependencies on spark-avro, but probably Glue 3 contains it. And it is out of my control.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1271026057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1271075750","html_url":"https://github.com/apache/hudi/pull/6883#issuecomment-1271075750","issue_url":"https://api.github.com/repos/apache/hudi/issues/6883","id":1271075750,"node_id":"IC_kwDOBI7nWM5LwxOm","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-07T03:41:46Z","updated_at":"2022-10-07T03:41:46Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"024bcf68a222e98835e0b61fa784bc1040f65f62\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12037\",\n    \"triggerID\" : \"024bcf68a222e98835e0b61fa784bc1040f65f62\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"c528116cecfd35edc4b6829cb091c4924dc1758f\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12038\",\n    \"triggerID\" : \"c528116cecfd35edc4b6829cb091c4924dc1758f\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* c528116cecfd35edc4b6829cb091c4924dc1758f Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12038) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1271075750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1271484448","html_url":"https://github.com/apache/hudi/issues/6881#issuecomment-1271484448","issue_url":"https://api.github.com/repos/apache/hudi/issues/6881","id":1271484448,"node_id":"IC_kwDOBI7nWM5LyVAg","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-07T11:43:21Z","updated_at":"2022-10-07T11:43:21Z","author_association":"MEMBER","body":"@koochiswathiTR is the processing time of 15min for every commit after enabling metadata table? please also provide hudi/spark versions, workload info like how many records each commit and how many are updates. And environment info as well.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1271484448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1271502980","html_url":"https://github.com/apache/hudi/issues/6875#issuecomment-1271502980","issue_url":"https://api.github.com/repos/apache/hudi/issues/6875","id":1271502980,"node_id":"IC_kwDOBI7nWM5LyZiE","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-07T12:03:08Z","updated_at":"2022-10-07T12:11:32Z","author_association":"MEMBER","body":"@pavimotorq i think the website is not updated somehow. In the latest docs https://hudi.apache.org/docs/next/docker_demo we have updated the commands to have `  --partition-value-extractor org.apache.hudi.hive.SlashEncodedDayPartitionValueExtractor`. Please follow that guide. cc @bhasudha backfilling this change for 0.12.0 here https://github.com/apache/hudi/pull/6887.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1271502980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1271688530","html_url":"https://github.com/apache/hudi/pull/5416#issuecomment-1271688530","issue_url":"https://api.github.com/repos/apache/hudi/issues/5416","id":1271688530,"node_id":"IC_kwDOBI7nWM5LzG1S","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-07T14:42:31Z","updated_at":"2022-10-07T14:42:31Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1271688530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1271721244","html_url":"https://github.com/apache/hudi/pull/5416#issuecomment-1271721244","issue_url":"https://api.github.com/repos/apache/hudi/issues/5416","id":1271721244,"node_id":"IC_kwDOBI7nWM5LzO0c","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-07T15:09:51Z","updated_at":"2022-10-07T15:09:51Z","author_association":"CONTRIBUTOR","body":"Hi @alexeykudinkin and @nsivabalan, Really appreciate for your review and comments! Also sorry for taking a few days to finish these comments. \r\n\r\nPlease take a look at your convince :)\r\n\r\nIf there are any omissions or other things that need to be modified, please feel free to let me know! Thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1271721244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1271738970","html_url":"https://github.com/apache/hudi/issues/6692#issuecomment-1271738970","issue_url":"https://api.github.com/repos/apache/hudi/issues/6692","id":1271738970,"node_id":"IC_kwDOBI7nWM5LzTJa","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-07T15:25:02Z","updated_at":"2022-10-07T15:25:02Z","author_association":"MEMBER","body":"i think the issue originated from hadoop-mr-bundle shaded `org.apache.avro.*` package. @eshu can you list out all the jars you add to the classpath? specifically the hudi jars","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1271738970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1271866369","html_url":"https://github.com/apache/hudi/pull/6885#issuecomment-1271866369","issue_url":"https://api.github.com/repos/apache/hudi/issues/6885","id":1271866369,"node_id":"IC_kwDOBI7nWM5LzyQB","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-07T17:36:39Z","updated_at":"2022-10-07T17:36:39Z","author_association":"CONTRIBUTOR","body":"@pramodbiligiri : there is some failure in github actions. can you check on that please","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1271866369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1271997791","html_url":"https://github.com/apache/hudi/pull/6806#issuecomment-1271997791","issue_url":"https://api.github.com/repos/apache/hudi/issues/6806","id":1271997791,"node_id":"IC_kwDOBI7nWM5L0SVf","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-07T19:05:36Z","updated_at":"2022-10-07T19:05:36Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"f03f9610cf4e2c490d33ca734ca9b3241b2be778\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12012\",\n    \"triggerID\" : \"f03f9610cf4e2c490d33ca734ca9b3241b2be778\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"f03f9610cf4e2c490d33ca734ca9b3241b2be778\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12032\",\n    \"triggerID\" : \"1268384708\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"f03f9610cf4e2c490d33ca734ca9b3241b2be778\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12012\",\n    \"triggerID\" : \"1261156714\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"f03f9610cf4e2c490d33ca734ca9b3241b2be778\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12032\",\n    \"triggerID\" : \"1261156714\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"f03f9610cf4e2c490d33ca734ca9b3241b2be778\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12012\",\n    \"triggerID\" : \"1267716047\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"f03f9610cf4e2c490d33ca734ca9b3241b2be778\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12032\",\n    \"triggerID\" : \"1267716047\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"f03f9610cf4e2c490d33ca734ca9b3241b2be778\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12012\",\n    \"triggerID\" : \"1267716350\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"f03f9610cf4e2c490d33ca734ca9b3241b2be778\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12032\",\n    \"triggerID\" : \"1267716350\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"f03f9610cf4e2c490d33ca734ca9b3241b2be778\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12012\",\n    \"triggerID\" : \"1267756845\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"f03f9610cf4e2c490d33ca734ca9b3241b2be778\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12032\",\n    \"triggerID\" : \"1267756845\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"f03f9610cf4e2c490d33ca734ca9b3241b2be778\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12012\",\n    \"triggerID\" : \"1268384708\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"0000\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"1261156714\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"0000\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"1267716047\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"0000\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"1267716350\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"0000\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"1267756845\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"57f8b811946c7c013cbc31e9bd8db469f70cda2a\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12036\",\n    \"triggerID\" : \"57f8b811946c7c013cbc31e9bd8db469f70cda2a\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"7d5b9dc0a9334b96adcdb8e17964f31944e94e91\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12054\",\n    \"triggerID\" : \"7d5b9dc0a9334b96adcdb8e17964f31944e94e91\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 7d5b9dc0a9334b96adcdb8e17964f31944e94e91 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12054) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1271997791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272085515","html_url":"https://github.com/apache/hudi/pull/6887#issuecomment-1272085515","issue_url":"https://api.github.com/repos/apache/hudi/issues/6887","id":1272085515,"node_id":"IC_kwDOBI7nWM5L0nwL","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-07T21:04:15Z","updated_at":"2022-10-07T21:04:15Z","author_association":"CONTRIBUTOR","body":"this is already addressed in https://github.com/apache/hudi/pull/6860\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272085515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272185755","html_url":"https://github.com/apache/hudi/pull/5958#issuecomment-1272185755","issue_url":"https://api.github.com/repos/apache/hudi/issues/5958","id":1272185755,"node_id":"IC_kwDOBI7nWM5L1AOb","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T01:08:08Z","updated_at":"2022-10-08T01:08:08Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"089748bbfe64fa6ee782074bf2e730e9104e1773\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9504\",\n    \"triggerID\" : \"089748bbfe64fa6ee782074bf2e730e9104e1773\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"290d6fd42de1d6b71275c633232bbc1228ccb820\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=9507\",\n    \"triggerID\" : \"290d6fd42de1d6b71275c633232bbc1228ccb820\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"8305b96b66bca5cf0c758cb9537659afb2b21c4d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10473\",\n    \"triggerID\" : \"8305b96b66bca5cf0c758cb9537659afb2b21c4d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"75cceac25f46a2ad9b276bf07b31c18c5d8bd59d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11756\",\n    \"triggerID\" : \"75cceac25f46a2ad9b276bf07b31c18c5d8bd59d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"4590a5c3ccb91255a3abb0b9f478325cecfad59b\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11932\",\n    \"triggerID\" : \"4590a5c3ccb91255a3abb0b9f478325cecfad59b\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"c7a7b3a42376116bbeaa09c1f0f07a4f80d788b6\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11959\",\n    \"triggerID\" : \"c7a7b3a42376116bbeaa09c1f0f07a4f80d788b6\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"bfb3668bfbeb8c461e7d5293b67aac32be59d8ab\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11994\",\n    \"triggerID\" : \"bfb3668bfbeb8c461e7d5293b67aac32be59d8ab\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"00eefd74074b2e0e04dc308ab9b775e09ed7803b\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12035\",\n    \"triggerID\" : \"00eefd74074b2e0e04dc308ab9b775e09ed7803b\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"0869c63d96180152d4b9a51f70d2c9d83bb95edd\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12060\",\n    \"triggerID\" : \"0869c63d96180152d4b9a51f70d2c9d83bb95edd\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 0869c63d96180152d4b9a51f70d2c9d83bb95edd Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12060) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272185755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272208595","html_url":"https://github.com/apache/hudi/pull/6384#issuecomment-1272208595","issue_url":"https://api.github.com/repos/apache/hudi/issues/6384","id":1272208595,"node_id":"IC_kwDOBI7nWM5L1FzT","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T03:03:33Z","updated_at":"2022-10-08T03:03:33Z","author_association":"CONTRIBUTOR","body":"> @guanziyue Thanks for your positive feedback. IIUC, this improvement is effective for both Flink/Spark Streaming jobs when build `FileSystemView`. And the time saved is also considerable as @ThinkerLei mentioned above. Of course, it involve some additional memory cost. I totally agree gatekeeper's concerned especially about Flink engine, the restart cost will not be accepted when OOM. Actually in our prod cluster, we did not observe some extra OOM due to this change. Anyway, I think this is one choice for performance improvement. FYI.\r\n\r\nThanks for the feedback, can we have some numbers about the additional memory overhead here ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272208595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272214966","html_url":"https://github.com/apache/hudi/pull/6889#issuecomment-1272214966","issue_url":"https://api.github.com/repos/apache/hudi/issues/6889","id":1272214966,"node_id":"IC_kwDOBI7nWM5L1HW2","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T03:40:49Z","updated_at":"2022-10-08T03:40:49Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"3ba1f6dedd50c01353fb77c2e50c2b0115bd2ea5\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12062\",\n    \"triggerID\" : \"3ba1f6dedd50c01353fb77c2e50c2b0115bd2ea5\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 3ba1f6dedd50c01353fb77c2e50c2b0115bd2ea5 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12062) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272214966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272218777","html_url":"https://github.com/apache/hudi/pull/6818#issuecomment-1272218777","issue_url":"https://api.github.com/repos/apache/hudi/issues/6818","id":1272218777,"node_id":"IC_kwDOBI7nWM5L1ISZ","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T04:05:13Z","updated_at":"2022-10-08T04:05:13Z","author_association":"CONTRIBUTOR","body":"> this pr will support cdc data block's flushing and cdc log file's rollover. this features need to upgrade the write stat about cdc, that is the key point need to be discuss.\r\n> \r\n> there maybe are solutions:\r\n> \r\n> 1. like this pr: both `cdcPaths` and `cdcWriteBytes` are the `list` data type.\r\n> 2. use a map, like:\r\n> \r\n> ```\r\n> cdcWriteStats: {\r\n>   \"cdclogfile1\": cdclogFile1Size,\r\n>   \"cdclogfile1\": cdclogFile1Size\r\n> }\r\n> ```\r\n> \r\n> cc @xushiyan @alexeykudinkin @danny0405 WDYH?\r\n\r\nWhat is the file size used for ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272218777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272232164","html_url":"https://github.com/apache/hudi/issues/6692#issuecomment-1272232164","issue_url":"https://api.github.com/repos/apache/hudi/issues/6692","id":1272232164,"node_id":"IC_kwDOBI7nWM5L1Ljk","user":{"login":"eshu","id":3531759,"node_id":"MDQ6VXNlcjM1MzE3NTk=","avatar_url":"https://avatars.githubusercontent.com/u/3531759?v=4","gravatar_id":"","url":"https://api.github.com/users/eshu","html_url":"https://github.com/eshu","followers_url":"https://api.github.com/users/eshu/followers","following_url":"https://api.github.com/users/eshu/following{/other_user}","gists_url":"https://api.github.com/users/eshu/gists{/gist_id}","starred_url":"https://api.github.com/users/eshu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eshu/subscriptions","organizations_url":"https://api.github.com/users/eshu/orgs","repos_url":"https://api.github.com/users/eshu/repos","events_url":"https://api.github.com/users/eshu/events{/privacy}","received_events_url":"https://api.github.com/users/eshu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T05:26:51Z","updated_at":"2022-10-08T05:26:51Z","author_association":"NONE","body":"@xushiyan I use the fat jar, but I do not know what is added to the classpath by AWS in Glue 3.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272232164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272232597","html_url":"https://github.com/apache/hudi/issues/6692#issuecomment-1272232597","issue_url":"https://api.github.com/repos/apache/hudi/issues/6692","id":1272232597,"node_id":"IC_kwDOBI7nWM5L1LqV","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T05:30:04Z","updated_at":"2022-10-08T05:30:04Z","author_association":"MEMBER","body":"> @xushiyan I use the fat jar, but I do not know what is added to the classpath by AWS in Glue 3.\n\n@eshu by fat jar you mean bundle jar? Is it Hudi Spark 3.1 bundle? And it's the only bundle you used? I need to reproduce this by putting the same jar as you did. So pls provide info on what jars you added to your glue job. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272232597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272269358","html_url":"https://github.com/apache/hudi/issues/6825#issuecomment-1272269358","issue_url":"https://api.github.com/repos/apache/hudi/issues/6825","id":1272269358,"node_id":"IC_kwDOBI7nWM5L1Uou","user":{"login":"gubinjie","id":37869445,"node_id":"MDQ6VXNlcjM3ODY5NDQ1","avatar_url":"https://avatars.githubusercontent.com/u/37869445?v=4","gravatar_id":"","url":"https://api.github.com/users/gubinjie","html_url":"https://github.com/gubinjie","followers_url":"https://api.github.com/users/gubinjie/followers","following_url":"https://api.github.com/users/gubinjie/following{/other_user}","gists_url":"https://api.github.com/users/gubinjie/gists{/gist_id}","starred_url":"https://api.github.com/users/gubinjie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gubinjie/subscriptions","organizations_url":"https://api.github.com/users/gubinjie/orgs","repos_url":"https://api.github.com/users/gubinjie/repos","events_url":"https://api.github.com/users/gubinjie/events{/privacy}","received_events_url":"https://api.github.com/users/gubinjie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T08:48:16Z","updated_at":"2022-10-08T08:48:16Z","author_association":"NONE","body":"TH","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272269358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272280375","html_url":"https://github.com/apache/hudi/pull/6895#issuecomment-1272280375","issue_url":"https://api.github.com/repos/apache/hudi/issues/6895","id":1272280375,"node_id":"IC_kwDOBI7nWM5L1XU3","user":{"login":"boneanxs","id":10115332,"node_id":"MDQ6VXNlcjEwMTE1MzMy","avatar_url":"https://avatars.githubusercontent.com/u/10115332?v=4","gravatar_id":"","url":"https://api.github.com/users/boneanxs","html_url":"https://github.com/boneanxs","followers_url":"https://api.github.com/users/boneanxs/followers","following_url":"https://api.github.com/users/boneanxs/following{/other_user}","gists_url":"https://api.github.com/users/boneanxs/gists{/gist_id}","starred_url":"https://api.github.com/users/boneanxs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/boneanxs/subscriptions","organizations_url":"https://api.github.com/users/boneanxs/orgs","repos_url":"https://api.github.com/users/boneanxs/repos","events_url":"https://api.github.com/users/boneanxs/events{/privacy}","received_events_url":"https://api.github.com/users/boneanxs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T09:49:01Z","updated_at":"2022-10-08T09:49:01Z","author_association":"CONTRIBUTOR","body":"Hi, @XuQianJin-Stars a minor name fix for RunBootstrapProcedure, can you help to review it?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272280375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272290024","html_url":"https://github.com/apache/hudi/pull/5416#issuecomment-1272290024","issue_url":"https://api.github.com/repos/apache/hudi/issues/5416","id":1272290024,"node_id":"IC_kwDOBI7nWM5L1Zro","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T10:41:27Z","updated_at":"2022-10-08T10:41:27Z","author_association":"CONTRIBUTOR","body":"> Do we have tests for DistruptorProducers? I found tests only for DistruptorExecutor and DistruptorMessageQueue.\r\n> \r\n> Also, do we have tests to test out single producer and multiple producers? and can you summarize what kind of error cases have been tested. 1 producer thread crashing while others are still continuing to produce, memory too low to hold all produced records, but still no records should be dropped, etc.\r\n\r\nHi @nsivabalan Thanks a lot for reminding. Add more tests here including:\r\n1. `TestBoundedInMemoryExecutorInSpark#testExecutor` ==> test common disruptor executor ingestion\r\n2. `TestBoundedInMemoryExecutorInSpark#testInterruptExecutor` ==> test disruptor executor ingestion with interrupt\r\n3. `TestDisruptorMessageQueue#testRecordReading` ==> test common single producer and single consumer reading\r\n4. `TestDisruptorMessageQueue#testCompositeProducerRecordReading` ==> test multi-producers and single consumer\r\n5. `TestDisruptorMessageQueue#testException` ==> test multi-producers which one producer thread crashing while others are still continuing to produce.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272290024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272324593","html_url":"https://github.com/apache/hudi/pull/6895#issuecomment-1272324593","issue_url":"https://api.github.com/repos/apache/hudi/issues/6895","id":1272324593,"node_id":"IC_kwDOBI7nWM5L1iHx","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T13:48:11Z","updated_at":"2022-10-08T13:48:11Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"ce39faf7390aee37e4b00798c8dda25ab581e273\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12068\",\n    \"triggerID\" : \"ce39faf7390aee37e4b00798c8dda25ab581e273\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* ce39faf7390aee37e4b00798c8dda25ab581e273 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12068) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272324593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272344006","html_url":"https://github.com/apache/hudi/pull/6891#issuecomment-1272344006","issue_url":"https://api.github.com/repos/apache/hudi/issues/6891","id":1272344006,"node_id":"IC_kwDOBI7nWM5L1m3G","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T15:36:11Z","updated_at":"2022-10-08T15:36:11Z","author_association":"MEMBER","body":"@YannByron you can land this yourself :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272344006/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272356929","html_url":"https://github.com/apache/hudi/pull/6873#issuecomment-1272356929","issue_url":"https://api.github.com/repos/apache/hudi/issues/6873","id":1272356929,"node_id":"IC_kwDOBI7nWM5L1qBB","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T16:50:17Z","updated_at":"2022-10-08T16:50:17Z","author_association":"MEMBER","body":"tested a few bundles including datahub sync, aws, utilities-slim+spark. working ok. the original issue is resolved.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272356929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272374574","html_url":"https://github.com/apache/hudi/pull/5071#issuecomment-1272374574","issue_url":"https://api.github.com/repos/apache/hudi/issues/5071","id":1272374574,"node_id":"IC_kwDOBI7nWM5L1uUu","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T18:31:11Z","updated_at":"2022-10-08T18:31:11Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272374574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272398411","html_url":"https://github.com/apache/hudi/pull/5071#issuecomment-1272398411","issue_url":"https://api.github.com/repos/apache/hudi/issues/5071","id":1272398411,"node_id":"IC_kwDOBI7nWM5L10JL","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T21:13:16Z","updated_at":"2022-10-08T21:13:16Z","author_association":"CONTRIBUTOR","body":"@nsivabalan please take a pass, this should be good to review.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272398411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272399503","html_url":"https://github.com/apache/hudi/pull/6896#issuecomment-1272399503","issue_url":"https://api.github.com/repos/apache/hudi/issues/6896","id":1272399503,"node_id":"IC_kwDOBI7nWM5L10aP","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T21:22:07Z","updated_at":"2022-10-08T21:22:07Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"97406bce1fcbf575139682cd0659fa154fbb214f\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12074\",\n    \"triggerID\" : \"97406bce1fcbf575139682cd0659fa154fbb214f\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"1e185f00b79069df14222048fb0b7b834292d2c6\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12077\",\n    \"triggerID\" : \"1e185f00b79069df14222048fb0b7b834292d2c6\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 1e185f00b79069df14222048fb0b7b834292d2c6 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=12077) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272399503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272425949","html_url":"https://github.com/apache/hudi/pull/6741#issuecomment-1272425949","issue_url":"https://api.github.com/repos/apache/hudi/issues/6741","id":1272425949,"node_id":"IC_kwDOBI7nWM5L163d","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T01:12:27Z","updated_at":"2022-10-09T01:12:27Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272425949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272431470","html_url":"https://github.com/apache/hudi/issues/6618#issuecomment-1272431470","issue_url":"https://api.github.com/repos/apache/hudi/issues/6618","id":1272431470,"node_id":"IC_kwDOBI7nWM5L18Nu","user":{"login":"Aload","id":13082598,"node_id":"MDQ6VXNlcjEzMDgyNTk4","avatar_url":"https://avatars.githubusercontent.com/u/13082598?v=4","gravatar_id":"","url":"https://api.github.com/users/Aload","html_url":"https://github.com/Aload","followers_url":"https://api.github.com/users/Aload/followers","following_url":"https://api.github.com/users/Aload/following{/other_user}","gists_url":"https://api.github.com/users/Aload/gists{/gist_id}","starred_url":"https://api.github.com/users/Aload/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aload/subscriptions","organizations_url":"https://api.github.com/users/Aload/orgs","repos_url":"https://api.github.com/users/Aload/repos","events_url":"https://api.github.com/users/Aload/events{/privacy}","received_events_url":"https://api.github.com/users/Aload/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T02:00:38Z","updated_at":"2022-10-09T02:00:38Z","author_association":"NONE","body":"> @Aload can you verify if the patch is used in your version of hudi? and still having the problem?\r\n> \r\n> > I have encountered this problem,this pr may solve your problem : #6393\r\n> \r\n> in order to help diagnose, we need more info also to reproduce it. like configs and code snippet\r\n\r\nyes version 0.12.0","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272431470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272438799","html_url":"https://github.com/apache/hudi/pull/6893#issuecomment-1272438799","issue_url":"https://api.github.com/repos/apache/hudi/issues/6893","id":1272438799,"node_id":"IC_kwDOBI7nWM5L1-AP","user":{"login":"slfan1989","id":55643692,"node_id":"MDQ6VXNlcjU1NjQzNjky","avatar_url":"https://avatars.githubusercontent.com/u/55643692?v=4","gravatar_id":"","url":"https://api.github.com/users/slfan1989","html_url":"https://github.com/slfan1989","followers_url":"https://api.github.com/users/slfan1989/followers","following_url":"https://api.github.com/users/slfan1989/following{/other_user}","gists_url":"https://api.github.com/users/slfan1989/gists{/gist_id}","starred_url":"https://api.github.com/users/slfan1989/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/slfan1989/subscriptions","organizations_url":"https://api.github.com/users/slfan1989/orgs","repos_url":"https://api.github.com/users/slfan1989/repos","events_url":"https://api.github.com/users/slfan1989/events{/privacy}","received_events_url":"https://api.github.com/users/slfan1989/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T02:41:28Z","updated_at":"2022-10-09T02:41:28Z","author_association":"CONTRIBUTOR","body":"@xushiyan Can you help review this pr? Thank you very much! This change avoids the use of jackson-v1 to reduce security risks.\r\n\r\nWe can read this article below:\r\nhttps://cowtowncoder.medium.com/on-jackson-cves-dont-panic-here-is-what-you-need-to-know-54cd0d6e8062\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272438799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272461930","html_url":"https://github.com/apache/hudi/pull/6745#issuecomment-1272461930","issue_url":"https://api.github.com/repos/apache/hudi/issues/6745","id":1272461930,"node_id":"IC_kwDOBI7nWM5L2Dpq","user":{"login":"wzx140","id":25837418,"node_id":"MDQ6VXNlcjI1ODM3NDE4","avatar_url":"https://avatars.githubusercontent.com/u/25837418?v=4","gravatar_id":"","url":"https://api.github.com/users/wzx140","html_url":"https://github.com/wzx140","followers_url":"https://api.github.com/users/wzx140/followers","following_url":"https://api.github.com/users/wzx140/following{/other_user}","gists_url":"https://api.github.com/users/wzx140/gists{/gist_id}","starred_url":"https://api.github.com/users/wzx140/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wzx140/subscriptions","organizations_url":"https://api.github.com/users/wzx140/orgs","repos_url":"https://api.github.com/users/wzx140/repos","events_url":"https://api.github.com/users/wzx140/events{/privacy}","received_events_url":"https://api.github.com/users/wzx140/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T05:44:26Z","updated_at":"2022-10-09T05:44:26Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272461930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272474317","html_url":"https://github.com/apache/hudi/pull/6741#issuecomment-1272474317","issue_url":"https://api.github.com/repos/apache/hudi/issues/6741","id":1272474317,"node_id":"IC_kwDOBI7nWM5L2GrN","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T07:11:30Z","updated_at":"2022-10-09T07:11:30Z","author_association":"CONTRIBUTOR","body":"@codope  could you pls review again， fix all comments， thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272474317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272487536","html_url":"https://github.com/apache/hudi/issues/6897#issuecomment-1272487536","issue_url":"https://api.github.com/repos/apache/hudi/issues/6897","id":1272487536,"node_id":"IC_kwDOBI7nWM5L2J5w","user":{"login":"KnightChess","id":20125927,"node_id":"MDQ6VXNlcjIwMTI1OTI3","avatar_url":"https://avatars.githubusercontent.com/u/20125927?v=4","gravatar_id":"","url":"https://api.github.com/users/KnightChess","html_url":"https://github.com/KnightChess","followers_url":"https://api.github.com/users/KnightChess/followers","following_url":"https://api.github.com/users/KnightChess/following{/other_user}","gists_url":"https://api.github.com/users/KnightChess/gists{/gist_id}","starred_url":"https://api.github.com/users/KnightChess/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KnightChess/subscriptions","organizations_url":"https://api.github.com/users/KnightChess/orgs","repos_url":"https://api.github.com/users/KnightChess/repos","events_url":"https://api.github.com/users/KnightChess/events{/privacy}","received_events_url":"https://api.github.com/users/KnightChess/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T08:26:12Z","updated_at":"2022-10-09T08:26:55Z","author_association":"CONTRIBUTOR","body":"https://hudi.apache.org/docs/quick-start-guide#procedures\r\nspark procedures sql I think can solve you question( show_commits)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272487536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272527771","html_url":"https://github.com/apache/hudi/pull/6893#issuecomment-1272527771","issue_url":"https://api.github.com/repos/apache/hudi/issues/6893","id":1272527771,"node_id":"IC_kwDOBI7nWM5L2Tub","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T12:05:01Z","updated_at":"2022-10-09T12:05:01Z","author_association":"MEMBER","body":"@slfan1989 thanks for the fix! while we are at this, would you mind extending HUDI-4997 's scope to removing `org.codehaus.jackson.*` completely? by a global search, i see jackson v1 still included in a few bundles. cc @codope any context why presto/trino bundle include v1 jackson libs?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272527771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272529763","html_url":"https://github.com/apache/hudi/pull/6893#issuecomment-1272529763","issue_url":"https://api.github.com/repos/apache/hudi/issues/6893","id":1272529763,"node_id":"IC_kwDOBI7nWM5L2UNj","user":{"login":"slfan1989","id":55643692,"node_id":"MDQ6VXNlcjU1NjQzNjky","avatar_url":"https://avatars.githubusercontent.com/u/55643692?v=4","gravatar_id":"","url":"https://api.github.com/users/slfan1989","html_url":"https://github.com/slfan1989","followers_url":"https://api.github.com/users/slfan1989/followers","following_url":"https://api.github.com/users/slfan1989/following{/other_user}","gists_url":"https://api.github.com/users/slfan1989/gists{/gist_id}","starred_url":"https://api.github.com/users/slfan1989/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/slfan1989/subscriptions","organizations_url":"https://api.github.com/users/slfan1989/orgs","repos_url":"https://api.github.com/users/slfan1989/repos","events_url":"https://api.github.com/users/slfan1989/events{/privacy}","received_events_url":"https://api.github.com/users/slfan1989/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T12:16:07Z","updated_at":"2022-10-09T12:16:38Z","author_association":"CONTRIBUTOR","body":"> @slfan1989 thanks for the fix! while we are at this, would you mind extending [HUDI-4997](https://issues.apache.org/jira/browse/HUDI-4997) 's scope to removing `org.codehaus.jackson.*` completely? by a global search, i see jackson v1 still included in a few bundles. cc @codope any context why presto/trino bundle include v1 jackson libs?\r\n\r\n@xushiyan Thank you for your help reviewing the code, I will continue to work on it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272529763/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272546477","html_url":"https://github.com/apache/hudi/issues/6875#issuecomment-1272546477","issue_url":"https://api.github.com/repos/apache/hudi/issues/6875","id":1272546477,"node_id":"IC_kwDOBI7nWM5L2YSt","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T13:47:08Z","updated_at":"2022-10-09T13:47:08Z","author_association":"MEMBER","body":"Fixed in https://github.com/apache/hudi/pull/6860","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272546477/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272650095","html_url":"https://github.com/apache/hudi/issues/5582#issuecomment-1272650095","issue_url":"https://api.github.com/repos/apache/hudi/issues/5582","id":1272650095,"node_id":"IC_kwDOBI7nWM5L2xlv","user":{"login":"vicuna96","id":31972447,"node_id":"MDQ6VXNlcjMxOTcyNDQ3","avatar_url":"https://avatars.githubusercontent.com/u/31972447?v=4","gravatar_id":"","url":"https://api.github.com/users/vicuna96","html_url":"https://github.com/vicuna96","followers_url":"https://api.github.com/users/vicuna96/followers","following_url":"https://api.github.com/users/vicuna96/following{/other_user}","gists_url":"https://api.github.com/users/vicuna96/gists{/gist_id}","starred_url":"https://api.github.com/users/vicuna96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vicuna96/subscriptions","organizations_url":"https://api.github.com/users/vicuna96/orgs","repos_url":"https://api.github.com/users/vicuna96/repos","events_url":"https://api.github.com/users/vicuna96/events{/privacy}","received_events_url":"https://api.github.com/users/vicuna96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T23:17:42Z","updated_at":"2022-10-09T23:17:42Z","author_association":"NONE","body":"Hi @nsivabalan , I see in Hudi version 0.11.0 with the remaining runtime environment unchanged, that the \"show create table ${tableName}\" command in spark-sql still doesn't register these properties. However, the upsert for this version (0.11.0) goes through without raising a NullPointerException, and HiveSyncTool is able successfully sync the changes.\r\n\r\n```\r\nscala> println(table.storage.properties ++ table.properties)\r\nMap(hoodie.query.as.ro.table -> false, serialization.format -> 1, transient_lastDdlTime -> 1663200570, last_commit_time_sync -> 20220915003838063)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272650095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272726662","html_url":"https://github.com/apache/hudi/issues/6900#issuecomment-1272726662","issue_url":"https://api.github.com/repos/apache/hudi/issues/6900","id":1272726662,"node_id":"IC_kwDOBI7nWM5L3ESG","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-10T02:47:04Z","updated_at":"2022-10-10T02:47:04Z","author_association":"CONTRIBUTOR","body":"@yihua Can you take a look ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272726662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272746133","html_url":"https://github.com/apache/hudi/pull/6874#issuecomment-1272746133","issue_url":"https://api.github.com/repos/apache/hudi/issues/6874","id":1272746133,"node_id":"IC_kwDOBI7nWM5L3JCV","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-10T03:36:39Z","updated_at":"2022-10-10T03:36:39Z","author_association":"MEMBER","body":"@parisni thanks for putting up the fix! However, it is not complete because only shading it in spark bundle affect its usage with other bundles, which also include httpcomponents without shading. it'll likely result in class not found due to 1 bundle looking for shaded class and the other looking for original class name. I'll raise a follow up PR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272746133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272752538","html_url":"https://github.com/apache/hudi/pull/4910#issuecomment-1272752538","issue_url":"https://api.github.com/repos/apache/hudi/issues/4910","id":1272752538,"node_id":"IC_kwDOBI7nWM5L3Kma","user":{"login":"flashJd","id":23452216,"node_id":"MDQ6VXNlcjIzNDUyMjE2","avatar_url":"https://avatars.githubusercontent.com/u/23452216?v=4","gravatar_id":"","url":"https://api.github.com/users/flashJd","html_url":"https://github.com/flashJd","followers_url":"https://api.github.com/users/flashJd/followers","following_url":"https://api.github.com/users/flashJd/following{/other_user}","gists_url":"https://api.github.com/users/flashJd/gists{/gist_id}","starred_url":"https://api.github.com/users/flashJd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flashJd/subscriptions","organizations_url":"https://api.github.com/users/flashJd/orgs","repos_url":"https://api.github.com/users/flashJd/repos","events_url":"https://api.github.com/users/flashJd/events{/privacy}","received_events_url":"https://api.github.com/users/flashJd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-10T03:49:49Z","updated_at":"2022-10-10T03:51:37Z","author_association":"CONTRIBUTOR","body":"@xiarixiaoyao As ref-33 said, `Partition evolution is not included in this design, Partition evolution will come soon after schema evolution.`, severaI months passed, I want to know if partition evolution is being considered, i contact you in DingTalk also","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272752538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272781782","html_url":"https://github.com/apache/hudi/pull/6899#issuecomment-1272781782","issue_url":"https://api.github.com/repos/apache/hudi/issues/6899","id":1272781782,"node_id":"IC_kwDOBI7nWM5L3RvW","user":{"login":"xicm","id":36392121,"node_id":"MDQ6VXNlcjM2MzkyMTIx","avatar_url":"https://avatars.githubusercontent.com/u/36392121?v=4","gravatar_id":"","url":"https://api.github.com/users/xicm","html_url":"https://github.com/xicm","followers_url":"https://api.github.com/users/xicm/followers","following_url":"https://api.github.com/users/xicm/following{/other_user}","gists_url":"https://api.github.com/users/xicm/gists{/gist_id}","starred_url":"https://api.github.com/users/xicm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xicm/subscriptions","organizations_url":"https://api.github.com/users/xicm/orgs","repos_url":"https://api.github.com/users/xicm/repos","events_url":"https://api.github.com/users/xicm/events{/privacy}","received_events_url":"https://api.github.com/users/xicm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-10T04:44:28Z","updated_at":"2022-10-10T04:44:28Z","author_association":"CONTRIBUTOR","body":"> The intention is to always infer `META_SYNC_PARTITION_FIELDS` and `META_SYNC_PARTITION_EXTRACTOR_CLASS` from table config or keygen options. So we should keep the inference consistent. If you manually overwrite `META_SYNC_PARTITION_FIELDS`, you want to overwrite `META_SYNC_PARTITION_EXTRACTOR_CLASS` as well.\r\n\r\nHi @xushiyan , I want this inference to also work with META_SYNC_PARTITION_FIELDS, is it necessary?\r\n\r\nAnd another question, If HoodieTableConfig.PARTITION_FIELDS or KeyGeneratorOptions.PARTITIONPATH_FIELD_NAME is null, META_SYNC_PARTITION_EXTRACTOR_CLASS will be default value MultiPartKeysValueExtractor. In general, partition field is null, the table may be a non-parition table, is the default extractor class reasonablle?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1272781782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]