[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826325291","html_url":"https://github.com/apache/hudi/pull/2876#issuecomment-826325291","issue_url":"https://api.github.com/repos/apache/hudi/issues/2876","id":826325291,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjMyNTI5MQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-25T13:32:17Z","updated_at":"2024-11-16T22:51:00Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/hudi/pull/2876?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAll modified and coverable lines are covered by tests :white_check_mark:\n> Project coverage is 53.03%. Comparing base [(`a5789c4`)](https://app.codecov.io/gh/apache/hudi/commit/a5789c40673b36d40adab696706acc1446a286f8?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`ff0cda1`)](https://app.codecov.io/gh/apache/hudi/commit/ff0cda1f23dcf09910302d73a2daf6bed8e5eb6e?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 4352 commits behind head on master.\n\n<details><summary>Additional details and impacted files</summary>\n\n\n[![Impacted file tree graph](https://app.codecov.io/gh/apache/hudi/pull/2876/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)](https://app.codecov.io/gh/apache/hudi/pull/2876?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2876      +/-   ##\n============================================\n+ Coverage     53.00%   53.03%   +0.02%     \n- Complexity     3743     3745       +2     \n============================================\n  Files           488      488              \n  Lines         23435    23437       +2     \n  Branches       2500     2500              \n============================================\n+ Hits          12422    12429       +7     \n+ Misses         9913     9909       -4     \n+ Partials       1100     1099       -1     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/hudi/pull/2876/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [hudicli](https://app.codecov.io/gh/apache/hudi/pull/2876/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `39.53% <ø> (ø)` | |\n| [hudiclient](https://app.codecov.io/gh/apache/hudi/pull/2876/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `∅ <ø> (∅)` | |\n| [hudicommon](https://app.codecov.io/gh/apache/hudi/pull/2876/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `50.67% <ø> (+0.01%)` | :arrow_up: |\n| [hudiflink](https://app.codecov.io/gh/apache/hudi/pull/2876/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `59.11% <ø> (ø)` | |\n| [hudihadoopmr](https://app.codecov.io/gh/apache/hudi/pull/2876/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `33.33% <ø> (ø)` | |\n| [hudisparkdatasource](https://app.codecov.io/gh/apache/hudi/pull/2876/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `73.33% <ø> (ø)` | |\n| [hudisync](https://app.codecov.io/gh/apache/hudi/pull/2876/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.44% <100.00%> (+0.33%)` | :arrow_up: |\n| [huditimelineservice](https://app.codecov.io/gh/apache/hudi/pull/2876/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `64.36% <ø> (ø)` | |\n| [hudiutilities](https://app.codecov.io/gh/apache/hudi/pull/2876/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `69.68% <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Files with missing lines](https://app.codecov.io/gh/apache/hudi/pull/2876?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [.../apache/hudi/hive/MultiPartKeysValueExtractor.java](https://app.codecov.io/gh/apache/hudi/pull/2876?src=pr&el=tree&filepath=hudi-sync%2Fhudi-hive-sync%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fhudi%2Fhive%2FMultiPartKeysValueExtractor.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvTXVsdGlQYXJ0S2V5c1ZhbHVlRXh0cmFjdG9yLmphdmE=) | `90.90% <100.00%> (+35.35%)` | :arrow_up: |\n\n... and [1 file with indirect coverage changes](https://app.codecov.io/gh/apache/hudi/pull/2876/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826325291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826325691","html_url":"https://github.com/apache/hudi/pull/2877#issuecomment-826325691","issue_url":"https://api.github.com/repos/apache/hudi/issues/2877","id":826325691,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjMyNTY5MQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-25T13:34:48Z","updated_at":"2024-08-24T10:26:06Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/hudi/pull/2877?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAttention: Patch coverage is `97.56098%` with `1 line` in your changes missing coverage. Please review.\n> Project coverage is 53.06%. Comparing base [(`a5789c4`)](https://app.codecov.io/gh/apache/hudi/commit/a5789c40673b36d40adab696706acc1446a286f8?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`a893999`)](https://app.codecov.io/gh/apache/hudi/commit/a8939999c5bd57e5214ba1933432b33da6e04a46?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 4151 commits behind head on master.\n\n| [Files](https://app.codecov.io/gh/apache/hudi/pull/2877?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Patch % | Lines |\n|---|---|---|\n| [...java/org/apache/hudi/sink/StreamWriteFunction.java](https://app.codecov.io/gh/apache/hudi/pull/2877?src=pr&el=tree&filepath=hudi-flink%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fhudi%2Fsink%2FStreamWriteFunction.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL1N0cmVhbVdyaXRlRnVuY3Rpb24uamF2YQ==) | 96.96% | [1 Missing :warning: ](https://app.codecov.io/gh/apache/hudi/pull/2877?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n\n<details><summary>Additional details and impacted files</summary>\n\n\n[![Impacted file tree graph](https://app.codecov.io/gh/apache/hudi/pull/2877/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)](https://app.codecov.io/gh/apache/hudi/pull/2877?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2877      +/-   ##\n============================================\n+ Coverage     53.00%   53.06%   +0.05%     \n- Complexity     3743     3745       +2     \n============================================\n  Files           488      488              \n  Lines         23435    23466      +31     \n  Branches       2500     2503       +3     \n============================================\n+ Hits          12422    12452      +30     \n- Misses         9913     9914       +1     \n  Partials       1100     1100              \n```\n\n| [Flag](https://app.codecov.io/gh/apache/hudi/pull/2877/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [hudicli](https://app.codecov.io/gh/apache/hudi/pull/2877/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `39.53% <ø> (ø)` | |\n| [hudiclient](https://app.codecov.io/gh/apache/hudi/pull/2877/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `∅ <ø> (∅)` | |\n| [hudicommon](https://app.codecov.io/gh/apache/hudi/pull/2877/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `50.65% <ø> (ø)` | |\n| [hudiflink](https://app.codecov.io/gh/apache/hudi/pull/2877/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `59.43% <97.56%> (+0.31%)` | :arrow_up: |\n| [hudihadoopmr](https://app.codecov.io/gh/apache/hudi/pull/2877/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `33.33% <ø> (ø)` | |\n| [hudisparkdatasource](https://app.codecov.io/gh/apache/hudi/pull/2877/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `73.33% <ø> (ø)` | |\n| [hudisync](https://app.codecov.io/gh/apache/hudi/pull/2877/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.10% <ø> (ø)` | |\n| [huditimelineservice](https://app.codecov.io/gh/apache/hudi/pull/2877/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `64.36% <ø> (ø)` | |\n| [hudiutilities](https://app.codecov.io/gh/apache/hudi/pull/2877/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `69.68% <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Files](https://app.codecov.io/gh/apache/hudi/pull/2877?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...va/org/apache/hudi/configuration/FlinkOptions.java](https://app.codecov.io/gh/apache/hudi/pull/2877?src=pr&el=tree&filepath=hudi-flink%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fhudi%2Fconfiguration%2FFlinkOptions.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9jb25maWd1cmF0aW9uL0ZsaW5rT3B0aW9ucy5qYXZh) | `90.06% <100.00%> (+0.15%)` | :arrow_up: |\n| [...java/org/apache/hudi/sink/StreamWriteFunction.java](https://app.codecov.io/gh/apache/hudi/pull/2877?src=pr&el=tree&filepath=hudi-flink%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fhudi%2Fsink%2FStreamWriteFunction.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL1N0cmVhbVdyaXRlRnVuY3Rpb24uamF2YQ==) | `80.92% <96.96%> (+3.14%)` | :arrow_up: |\n\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826325691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826325732","html_url":"https://github.com/apache/hudi/pull/2809#issuecomment-826325732","issue_url":"https://api.github.com/repos/apache/hudi/issues/2809","id":826325732,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjMyNTczMg==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-25T13:35:04Z","updated_at":"2021-05-08T22:42:45Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2809?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#2809](https://codecov.io/gh/apache/hudi/pull/2809?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (faae9af) into [master](https://codecov.io/gh/apache/hudi/commit/bfbf993cbe3f1e3fab93095f4342ed17423efab5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (bfbf993) will **decrease** coverage by `0.00%`.\n> The diff coverage is `88.88%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2809/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/2809?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2809      +/-   ##\n============================================\n- Coverage     54.77%   54.76%   -0.01%     \n- Complexity     3796     3798       +2     \n============================================\n  Files           481      481              \n  Lines         23284    23285       +1     \n  Branches       2478     2478              \n============================================\n  Hits          12753    12753              \n  Misses         9385     9385              \n- Partials       1146     1147       +1     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `39.53% <ø> (ø)` | `220.00 <ø> (ø)` | |\n| hudiclient | `∅ <ø> (∅)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.38% <ø> (ø)` | `1975.00 <ø> (ø)` | |\n| hudiflink | `63.01% <ø> (ø)` | `524.00 <ø> (ø)` | |\n| hudihadoopmr | `50.96% <88.88%> (+0.02%)` | `262.00 <6.00> (+3.00)` | |\n| hudisparkdatasource | `73.33% <ø> (ø)` | `237.00 <ø> (ø)` | |\n| hudisync | `46.52% <ø> (ø)` | `144.00 <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | `62.00 <ø> (ø)` | |\n| hudiutilities | `69.53% <ø> (-0.05%)` | `374.00 <ø> (-1.00)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2809?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../org/apache/hudi/hadoop/utils/HoodieHiveUtils.java](https://codecov.io/gh/apache/hudi/pull/2809/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL3V0aWxzL0hvb2RpZUhpdmVVdGlscy5qYXZh) | `88.09% <88.88%> (+0.29%)` | `16.00 <6.00> (+3.00)` | |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/2809/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `71.08% <0.00%> (-0.35%)` | `55.00% <0.00%> (-1.00%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826325732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826531742","html_url":"https://github.com/apache/hudi/issues/2878#issuecomment-826531742","issue_url":"https://api.github.com/repos/apache/hudi/issues/2878","id":826531742,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjUzMTc0Mg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T06:05:20Z","updated_at":"2021-04-26T06:05:20Z","author_association":"CONTRIBUTOR","body":"@nsivabalan Can you see if this is still an issue ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826531742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826532502","html_url":"https://github.com/apache/hudi/issues/2874#issuecomment-826532502","issue_url":"https://api.github.com/repos/apache/hudi/issues/2874","id":826532502,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjUzMjUwMg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T06:06:42Z","updated_at":"2021-04-26T06:12:33Z","author_association":"CONTRIBUTOR","body":"@danny0405 @yanghua Can one of you take a look at this ?\r\n\r\n@hushenmin It looks like you're running into a `NullPointerException`  at `at org.apache.hudi.hadoop.utils.HoodieRealtimeInputFormatUtils.lambda$null$8(HoodieRealtimeInputFormatUtils.java:91)\r\n`\r\nThis particular line points to https://github.com/apache/hudi/blob/master/hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java#L91. It's possible that something isn't initialized here. Can you paste the contents of your .hoodie path ? I would like to see if there are any successful commits ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826532502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826537598","html_url":"https://github.com/apache/hudi/issues/2869#issuecomment-826537598","issue_url":"https://api.github.com/repos/apache/hudi/issues/2869","id":826537598,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjUzNzU5OA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T06:16:29Z","updated_at":"2021-04-26T06:16:29Z","author_association":"CONTRIBUTOR","body":"@putaozhi123 This is a known issue, a workaround has been mentioned here -> https://github.com/apache/hudi/issues/2544#issuecomment-815849870. Can you please try this and see if it works for you ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826537598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826538747","html_url":"https://github.com/apache/hudi/issues/2855#issuecomment-826538747","issue_url":"https://api.github.com/repos/apache/hudi/issues/2855","id":826538747,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjUzODc0Nw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T06:18:44Z","updated_at":"2021-04-26T06:18:44Z","author_association":"CONTRIBUTOR","body":"@raphaelauv I'm closing this ticket since you have found the documentation you are looking for. We will add more docs to read me under the filed JIRA.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826538747/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826542320","html_url":"https://github.com/apache/hudi/issues/2848#issuecomment-826542320","issue_url":"https://api.github.com/repos/apache/hudi/issues/2848","id":826542320,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjU0MjMyMA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T06:25:38Z","updated_at":"2021-04-26T06:25:38Z","author_association":"CONTRIBUTOR","body":"@raphaelauv I don't think there is any dependency of jdk.tools in Hudi repository. Looked through the POM as well as any transitive dependencies. \r\n\r\nhoodie % mvn dependency:tree > temp\r\nhoodie % cat temp | grep jdk.tools\r\n[INFO] |  |  \\- jdk.tools:jdk.tools:jar:1.8:system\r\n[INFO] |  |  |  \\- jdk.tools:jdk.tools:jar:1.7:system\r\n[INFO] |  |  |  \\- jdk.tools:jdk.tools:jar:1.7:system\r\n[INFO] |  |  |  \\- jdk.tools:jdk.tools:jar:1.7:system\r\n[INFO] |  |  |  \\- jdk.tools:jdk.tools:jar:1.7:system\r\n[INFO] |  |  \\- jdk.tools:jdk.tools:jar:1.8:system\r\n\r\nMay be this is a default loader of your intellij ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826542320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826547876","html_url":"https://github.com/apache/hudi/issues/2874#issuecomment-826547876","issue_url":"https://api.github.com/repos/apache/hudi/issues/2874","id":826547876,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjU0Nzg3Ng==","user":{"login":"hushenmin","id":25193967,"node_id":"MDQ6VXNlcjI1MTkzOTY3","avatar_url":"https://avatars.githubusercontent.com/u/25193967?v=4","gravatar_id":"","url":"https://api.github.com/users/hushenmin","html_url":"https://github.com/hushenmin","followers_url":"https://api.github.com/users/hushenmin/followers","following_url":"https://api.github.com/users/hushenmin/following{/other_user}","gists_url":"https://api.github.com/users/hushenmin/gists{/gist_id}","starred_url":"https://api.github.com/users/hushenmin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hushenmin/subscriptions","organizations_url":"https://api.github.com/users/hushenmin/orgs","repos_url":"https://api.github.com/users/hushenmin/repos","events_url":"https://api.github.com/users/hushenmin/events{/privacy}","received_events_url":"https://api.github.com/users/hushenmin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T06:35:51Z","updated_at":"2021-04-26T06:35:51Z","author_association":"NONE","body":"> @danny0405 @yanghua Can one of you take a look at this ?\r\n> \r\n> @hushenmin It looks like you're running into a `NullPointerException` at `at org.apache.hudi.hadoop.utils.HoodieRealtimeInputFormatUtils.lambda$null$8(HoodieRealtimeInputFormatUtils.java:91) `\r\n> This particular line points to https://github.com/apache/hudi/blob/master/hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java#L91. It's possible that something isn't initialized here. Can you paste the contents of your .hoodie path ? I would like to see if there are any successful commits\r\n@n3nash \r\nThere are these files under the **.hoodie** path of the table. There are many files. I uploaded the nearby **hoodie.txt**\r\n\r\n[hoodie.txt](https://github.com/apache/hudi/files/6374756/hoodie.txt)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826547876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826556501","html_url":"https://github.com/apache/hudi/issues/2841#issuecomment-826556501","issue_url":"https://api.github.com/repos/apache/hudi/issues/2841","id":826556501,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjU1NjUwMQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T06:50:53Z","updated_at":"2021-04-26T06:51:16Z","author_association":"CONTRIBUTOR","body":"@AkshayChan Please find my answers inline \r\n\r\n> 1. Is there a greatest value possible for the number of commits the hudi cleaner can retain?\r\n\r\nThe num_commits is eventually converted to an integer, so you can pass Integer.MAX_VALUE. Although, that will increase the number of files on the .hoodie folder and eventually cause slowness due to file listing (if on S3)\r\n\r\n> 2. What about the greatest possible value for `hoodie.keep.min.commits` and `hoodie.keep.max.commits`?\r\n\r\nSee above. Ideally, you want to set the value of `hoodie.keep.min.commits` to a lower value than `hoodie.keep.max.commits`. I've explained the meaning of all these configs below. \r\n\r\n> 3. What is the difference between `hoodie.cleaner.commits.retained` and `hoodie.keep.min.commits`? If I understand correctly, the _cleaner commits retained_ is the maximum number of commits we can query incrementally/point in time from, _keep min commits_ is the least number of commits stored (for example in S3) and _keep max commits_ is the maximum number of commits stored.\r\n\r\nThere are 2 different concepts at play here. \r\n\r\nHoodie Clean Process\r\n\r\nThe `hoodie.cleaner.commits.retained` is connected with the hoodie cleaner process that ensures all files belonging to X number of commits will be retained. Say, you set this value to 24. This means that MAX 24 versions of all files will be retained at any time. This is a rolling window. If there are 25 versions, the first version will be cleaned.\r\n\r\n Hoodie Commit File Archiving Process\r\n\r\nHoodie creates metadata files under the .hoodie folder that tracks the kinds of actions happening on the table. These files ensure the ACID property that provides isolation between readers and writers. The configs `hoodie.keep.min.commits` and `hoodie.keep.max.commits` determine how many such metadata files will be kept under .hoodie folder. Since a large number of files under a folder can cause file listing slowness, hoodie employs an archival process that archives these metadata files to a LOG file to reduce the number of files under .hoodie folder. The  archival process works as follows \r\n\r\nCheck if number of commit files under metadata has reached `hoodie.keep.max.commits`, if yes, archive all commits files but keep `hoodie.keep.min.commits` number of files. Keep doing this operation repeatedly whenever conditions meet.\r\n\r\nThere is a relationship between the cleaner and archival. You need to keep the `hoodie.cleaner.commits.retained` <= `hoodie.keep.min.commits`\r\n\r\n> 4. Are any commits between the _keep min commits_ and _keep max commits_ thresholds archived as log files?\r\n\r\nAnswered above.,\r\n\r\n> 5. Are any commits that exceed the max commit threshold deleted?\r\n\r\nAll files are archived under the archived.log* file names, not deleted. \r\n\r\n> 6. Are there performance issues if I set these values very large? For example:\r\n> \r\n> `hoodie.cleaner.commits.retained: 20000, hoodie.keep.min.commits: 20001, hoodie.keep.max.commits: 30000`\r\n> \r\n> Thanks in advance\r\n\r\nYes, if you are using S3, file listing can slow down if you set to a very large number (in the millions) and can also cause OOM.\r\n\r\nLet me know if you have any more questions.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826556501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826558257","html_url":"https://github.com/apache/hudi/issues/2874#issuecomment-826558257","issue_url":"https://api.github.com/repos/apache/hudi/issues/2874","id":826558257,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjU1ODI1Nw==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T06:53:27Z","updated_at":"2021-04-26T06:53:27Z","author_association":"CONTRIBUTOR","body":"> @danny0405 @yanghua Can one of you take a look at this ?\r\n> \r\n> @hushenmin It looks like you're running into a `NullPointerException` at `at org.apache.hudi.hadoop.utils.HoodieRealtimeInputFormatUtils.lambda$null$8(HoodieRealtimeInputFormatUtils.java:91) `\r\n> This particular line points to https://github.com/apache/hudi/blob/master/hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeInputFormatUtils.java#L91. It's possible that something isn't initialized here. Can you paste the contents of your .hoodie path ? I would like to see if there are any successful commits\r\n\r\nIt is because flink has global index, and it only writes log files, while the spark reader requires that a base file must exist, which is buggy.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826558257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826558842","html_url":"https://github.com/apache/hudi/issues/2832#issuecomment-826558842","issue_url":"https://api.github.com/repos/apache/hudi/issues/2832","id":826558842,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjU1ODg0Mg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T06:54:19Z","updated_at":"2021-04-26T06:54:19Z","author_association":"CONTRIBUTOR","body":"@nevgin Yes, this is true. Spark 2.x still uses Hive 1.x (https://github.com/apache/spark/blob/v2.4.6/pom.xml#L129) whereas spark 3.x uses Hive 2.x (https://github.com/apache/spark/blob/master/pom.xml#L131). Since Hudi support Hive 2.x+, this workaround is needed for spark 2.x\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826558842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826559498","html_url":"https://github.com/apache/hudi/issues/2830#issuecomment-826559498","issue_url":"https://api.github.com/repos/apache/hudi/issues/2830","id":826559498,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjU1OTQ5OA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T06:55:16Z","updated_at":"2021-04-26T06:55:16Z","author_association":"CONTRIBUTOR","body":"@wsxGit Can you help answer @nsivabalan question so we can help triage your issue ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826559498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826559752","html_url":"https://github.com/apache/hudi/issues/2829#issuecomment-826559752","issue_url":"https://api.github.com/repos/apache/hudi/issues/2829","id":826559752,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjU1OTc1Mg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T06:55:37Z","updated_at":"2021-04-26T06:55:37Z","author_association":"CONTRIBUTOR","body":"@pratyakshsharma Can you take this up ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826559752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826567870","html_url":"https://github.com/apache/hudi/issues/2813#issuecomment-826567870","issue_url":"https://api.github.com/repos/apache/hudi/issues/2813","id":826567870,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjU2Nzg3MA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T07:07:51Z","updated_at":"2021-04-26T07:07:51Z","author_association":"CONTRIBUTOR","body":"@qianjiangbing Thanks for confirming. \r\n\r\n@MyLanPangzi I just noticed that you were using Hive version : 1.1 cdh 5.6.12. This is a very old version of Hive. The latest Hudi builds only work with Hive 2.x+ versions. Are you able to migrate to a higher version of Hive ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826567870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826568351","html_url":"https://github.com/apache/hudi/issues/2812#issuecomment-826568351","issue_url":"https://api.github.com/repos/apache/hudi/issues/2812","id":826568351,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjU2ODM1MQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T07:08:34Z","updated_at":"2021-04-26T07:08:34Z","author_association":"CONTRIBUTOR","body":"@xglv1985 Thanks, were you able to try a different spark version to see if it works for you ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826568351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826568664","html_url":"https://github.com/apache/hudi/issues/2810#issuecomment-826568664","issue_url":"https://api.github.com/repos/apache/hudi/issues/2810","id":826568664,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjU2ODY2NA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T07:09:02Z","updated_at":"2021-04-26T07:09:02Z","author_association":"CONTRIBUTOR","body":"@rubenssoto Does @pengzhiwei2018 recommendation solve your problem ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826568664/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826576866","html_url":"https://github.com/apache/hudi/issues/2806#issuecomment-826576866","issue_url":"https://api.github.com/repos/apache/hudi/issues/2806","id":826576866,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjU3Njg2Ng==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T07:21:24Z","updated_at":"2021-04-26T07:21:24Z","author_association":"CONTRIBUTOR","body":"@tmac2100 Yes, that is expected. The more number of fileIds touched by your updates, the higher the runtime. Although, there could be more factors governing this.\r\n\r\n1. Are you setting your bloom filter setting correctly ? Depending on the number of entries in your file, you need to set your bloom filter setting high enough to avoid false positives. Check here -> https://github.com/apache/hudi/blob/3e4fa170cfd2c198599c3bed3982f2f643c7fbe8/hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java#L47\r\n2. You can try and increase the number of executors to help run bloom filter stages faster or turn on dynamicAllocation in spark and provide a min, max executors to let the bloom_index stage run faster.\r\n3. Try and experiment with other types of indexes, such as the SimpleIndex. \r\n\r\nThere is a record level index implementation underway which will ensure that the job runtime does not increase with more file ids.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826576866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826577275","html_url":"https://github.com/apache/hudi/issues/2802#issuecomment-826577275","issue_url":"https://api.github.com/repos/apache/hudi/issues/2802","id":826577275,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjU3NzI3NQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T07:22:01Z","updated_at":"2021-04-26T07:22:01Z","author_association":"CONTRIBUTOR","body":"@aditiwari01 Any luck reproducing the issue and providing the stack trace ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826577275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826577828","html_url":"https://github.com/apache/hudi/issues/2791#issuecomment-826577828","issue_url":"https://api.github.com/repos/apache/hudi/issues/2791","id":826577828,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjU3NzgyOA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T07:22:51Z","updated_at":"2021-04-26T07:22:51Z","author_association":"CONTRIBUTOR","body":"@njalan I think there is an issue enabling the metadata table for a non-partitioned table. @prashantwason Can you file a JIRA for this ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826577828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826628363","html_url":"https://github.com/apache/hudi/issues/2812#issuecomment-826628363","issue_url":"https://api.github.com/repos/apache/hudi/issues/2812","id":826628363,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjYyODM2Mw==","user":{"login":"xglv1985","id":15320045,"node_id":"MDQ6VXNlcjE1MzIwMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/15320045?v=4","gravatar_id":"","url":"https://api.github.com/users/xglv1985","html_url":"https://github.com/xglv1985","followers_url":"https://api.github.com/users/xglv1985/followers","following_url":"https://api.github.com/users/xglv1985/following{/other_user}","gists_url":"https://api.github.com/users/xglv1985/gists{/gist_id}","starred_url":"https://api.github.com/users/xglv1985/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xglv1985/subscriptions","organizations_url":"https://api.github.com/users/xglv1985/orgs","repos_url":"https://api.github.com/users/xglv1985/repos","events_url":"https://api.github.com/users/xglv1985/events{/privacy}","received_events_url":"https://api.github.com/users/xglv1985/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T08:32:03Z","updated_at":"2021-04-26T08:32:03Z","author_association":"CONTRIBUTOR","body":"> @xglv1985 Thanks, were you able to try a different spark version to see if it works for you ?\r\n\r\nYes, I am trying Spark 3.0.0 to see if it work for me, and I will feedback once the result comes out.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826628363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826666454","html_url":"https://github.com/apache/hudi/pull/2879#issuecomment-826666454","issue_url":"https://api.github.com/repos/apache/hudi/issues/2879","id":826666454,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjY2NjQ1NA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T09:21:14Z","updated_at":"2021-07-21T19:07:35Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2879?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#2879](https://codecov.io/gh/apache/hudi/pull/2879?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (f360b8b) into [master](https://codecov.io/gh/apache/hudi/commit/2099bf41db76e9a6e946aa41c318b7c0e18be04d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (2099bf4) will **decrease** coverage by `2.03%`.\n> The diff coverage is `79.48%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2879/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/2879?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2879      +/-   ##\n============================================\n- Coverage     47.84%   45.80%   -2.04%     \n- Complexity     5564     5647      +83     \n============================================\n  Files           936     1003      +67     \n  Lines         41652    43968    +2316     \n  Branches       4195     4415     +220     \n============================================\n+ Hits          19928    20140     +212     \n- Misses        19952    22037    +2085     \n- Partials       1772     1791      +19     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| hudicli | `39.97% <ø> (ø)` | |\n| hudiclient | `34.55% <ø> (+0.03%)` | :arrow_up: |\n| hudicommon | `48.63% <ø> (-0.06%)` | :arrow_down: |\n| hudiflink | `59.65% <ø> (+0.21%)` | :arrow_up: |\n| hudihadoopmr | `52.02% <ø> (ø)` | |\n| hudiintegtest | `0.00% <ø> (?)` | |\n| hudisparkdatasource | `67.04% <ø> (-0.24%)` | :arrow_down: |\n| hudisync | `59.28% <79.48%> (+3.30%)` | :arrow_up: |\n| huditimelineservice | `64.07% <ø> (ø)` | |\n| hudiutilities | `59.87% <ø> (+0.10%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2879?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...org/apache/hudi/hive/ddl/HiveQueryDDLExecutor.java](https://codecov.io/gh/apache/hudi/pull/2879/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvZGRsL0hpdmVRdWVyeURETEV4ZWN1dG9yLmphdmE=) | `71.15% <71.15%> (ø)` | |\n| [...in/java/org/apache/hudi/hive/ddl/JDBCExecutor.java](https://codecov.io/gh/apache/hudi/pull/2879/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvZGRsL0pEQkNFeGVjdXRvci5qYXZh) | `73.13% <73.13%> (ø)` | |\n| [...in/java/org/apache/hudi/hive/HoodieHiveClient.java](https://codecov.io/gh/apache/hudi/pull/2879/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvSG9vZGllSGl2ZUNsaWVudC5qYXZh) | `66.40% <73.91%> (-3.74%)` | :arrow_down: |\n| [.../java/org/apache/hudi/hive/ddl/HMSDDLExecutor.java](https://codecov.io/gh/apache/hudi/pull/2879/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvZGRsL0hNU0RETEV4ZWN1dG9yLmphdmE=) | `81.45% <81.45%> (ø)` | |\n| [...rg/apache/hudi/hive/ddl/QueryBasedDDLExecutor.java](https://codecov.io/gh/apache/hudi/pull/2879/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvZGRsL1F1ZXJ5QmFzZWRERExFeGVjdXRvci5qYXZh) | `84.94% <84.94%> (ø)` | |\n| [...java/org/apache/hudi/hive/util/HiveSchemaUtil.java](https://codecov.io/gh/apache/hudi/pull/2879/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvdXRpbC9IaXZlU2NoZW1hVXRpbC5qYXZh) | `70.90% <86.20%> (+1.53%)` | :arrow_up: |\n| [...main/java/org/apache/hudi/hive/HiveSyncConfig.java](https://codecov.io/gh/apache/hudi/pull/2879/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvSGl2ZVN5bmNDb25maWcuamF2YQ==) | `98.24% <100.00%> (ø)` | |\n| [...c/main/java/org/apache/hudi/hive/HiveSyncTool.java](https://codecov.io/gh/apache/hudi/pull/2879/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvSGl2ZVN5bmNUb29sLmphdmE=) | `78.12% <100.00%> (ø)` | |\n| [...va/org/apache/hudi/keygen/BuiltinKeyGenerator.java](https://codecov.io/gh/apache/hudi/pull/2879/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkva2V5Z2VuL0J1aWx0aW5LZXlHZW5lcmF0b3IuamF2YQ==) | `62.12% <0.00%> (-10.86%)` | :arrow_down: |\n| [...g/apache/hudi/keygen/GlobalDeleteKeyGenerator.java](https://codecov.io/gh/apache/hudi/pull/2879/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkva2V5Z2VuL0dsb2JhbERlbGV0ZUtleUdlbmVyYXRvci5qYXZh) | `90.90% <0.00%> (-9.10%)` | :arrow_down: |\n| ... and [115 more](https://codecov.io/gh/apache/hudi/pull/2879/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/hudi/pull/2879?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/hudi/pull/2879?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [2099bf4...f360b8b](https://codecov.io/gh/apache/hudi/pull/2879?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826666454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826671636","html_url":"https://github.com/apache/hudi/issues/2802#issuecomment-826671636","issue_url":"https://api.github.com/repos/apache/hudi/issues/2802","id":826671636,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjY3MTYzNg==","user":{"login":"aditiwari01","id":16352977,"node_id":"MDQ6VXNlcjE2MzUyOTc3","avatar_url":"https://avatars.githubusercontent.com/u/16352977?v=4","gravatar_id":"","url":"https://api.github.com/users/aditiwari01","html_url":"https://github.com/aditiwari01","followers_url":"https://api.github.com/users/aditiwari01/followers","following_url":"https://api.github.com/users/aditiwari01/following{/other_user}","gists_url":"https://api.github.com/users/aditiwari01/gists{/gist_id}","starred_url":"https://api.github.com/users/aditiwari01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aditiwari01/subscriptions","organizations_url":"https://api.github.com/users/aditiwari01/orgs","repos_url":"https://api.github.com/users/aditiwari01/repos","events_url":"https://api.github.com/users/aditiwari01/events{/privacy}","received_events_url":"https://api.github.com/users/aditiwari01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T09:27:40Z","updated_at":"2021-04-26T09:27:40Z","author_association":"CONTRIBUTOR","body":"Have quite a busy sprint. I'll try to get back. If not, I'll update by weekend.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826671636/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826758533","html_url":"https://github.com/apache/hudi/issues/2856#issuecomment-826758533","issue_url":"https://api.github.com/repos/apache/hudi/issues/2856","id":826758533,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjc1ODUzMw==","user":{"login":"PavelPetukhov","id":2112085,"node_id":"MDQ6VXNlcjIxMTIwODU=","avatar_url":"https://avatars.githubusercontent.com/u/2112085?v=4","gravatar_id":"","url":"https://api.github.com/users/PavelPetukhov","html_url":"https://github.com/PavelPetukhov","followers_url":"https://api.github.com/users/PavelPetukhov/followers","following_url":"https://api.github.com/users/PavelPetukhov/following{/other_user}","gists_url":"https://api.github.com/users/PavelPetukhov/gists{/gist_id}","starred_url":"https://api.github.com/users/PavelPetukhov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PavelPetukhov/subscriptions","organizations_url":"https://api.github.com/users/PavelPetukhov/orgs","repos_url":"https://api.github.com/users/PavelPetukhov/repos","events_url":"https://api.github.com/users/PavelPetukhov/events{/privacy}","received_events_url":"https://api.github.com/users/PavelPetukhov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T11:26:06Z","updated_at":"2021-04-26T11:29:36Z","author_association":"NONE","body":"Thanks a lot for the reply\r\n\r\nI my case I am getting the following error:\r\n\r\n1/04/26 13:29:52 WARN prometheus.PushGatewayReporter: Can't push monitoring information to pushGateway\r\njava.net.UnknownHostException: https\r\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:184)\r\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n\tat java.net.Socket.connect(Socket.java:607)\r\n\tat sun.net.NetworkClient.doConnect(NetworkClient.java:175)\r\n\tat sun.net.www.http.HttpClient.openServer(HttpClient.java:463)\r\n\tat sun.net.www.http.HttpClient.openServer(HttpClient.java:558)\r\n\tat sun.net.www.http.HttpClient.<init>(HttpClient.java:242)\r\n\tat sun.net.www.http.HttpClient.New(HttpClient.java:339)\r\n\tat sun.net.www.http.HttpClient.New(HttpClient.java:357)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1226)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1162)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1056)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:990)\r\n\tat io.prometheus.client.exporter.PushGateway.doRequest(PushGateway.java:305)\r\n\tat io.prometheus.client.exporter.PushGateway.pushAdd(PushGateway.java:160)\r\n\tat org.apache.hudi.metrics.prometheus.PushGatewayReporter.report(PushGatewayReporter.java:72)\r\n\tat org.apache.hudi.metrics.prometheus.PushGatewayMetricsReporter.report(PushGatewayMetricsReporter.java:64)\r\n\tat org.apache.hudi.metrics.Metrics.reportAndCloseReporter(Metrics.java:64)\r\n\tat org.apache.hudi.metrics.Metrics.lambda$new$0(Metrics.java:57)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\nmy parameters are\r\n--hoodie-conf hoodie.metrics.on=true \r\n--hoodie-conf hoodie.metrics.reporter.type=PROMETHEUS_PUSHGATEWAY \r\n--hoodie-conf hoodie.metrics.pushgateway.host=https://pushgateway_url.com/\r\n--hoodie-conf hoodie.metrics.pushgateway.port=8080 \r\n--hoodie-conf hoodie.metrics.pushgateway.job.name=test_job_1 \r\n--hoodie-conf hoodie.metrics.pushgateway.random.job.name.suffix=false \r\n--hoodie-conf hoodie.metrics.pushgateway.delete.on.shutdown=false ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826758533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826771631","html_url":"https://github.com/apache/hudi/pull/2710#issuecomment-826771631","issue_url":"https://api.github.com/repos/apache/hudi/issues/2710","id":826771631,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjc3MTYzMQ==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T11:48:36Z","updated_at":"2021-04-26T11:48:36Z","author_association":"CONTRIBUTOR","body":"Thanks for the suggestion，I will take the time to deal with","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826771631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826883701","html_url":"https://github.com/apache/hudi/issues/2850#issuecomment-826883701","issue_url":"https://api.github.com/repos/apache/hudi/issues/2850","id":826883701,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjg4MzcwMQ==","user":{"login":"abhijeetkushe","id":2093096,"node_id":"MDQ6VXNlcjIwOTMwOTY=","avatar_url":"https://avatars.githubusercontent.com/u/2093096?v=4","gravatar_id":"","url":"https://api.github.com/users/abhijeetkushe","html_url":"https://github.com/abhijeetkushe","followers_url":"https://api.github.com/users/abhijeetkushe/followers","following_url":"https://api.github.com/users/abhijeetkushe/following{/other_user}","gists_url":"https://api.github.com/users/abhijeetkushe/gists{/gist_id}","starred_url":"https://api.github.com/users/abhijeetkushe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhijeetkushe/subscriptions","organizations_url":"https://api.github.com/users/abhijeetkushe/orgs","repos_url":"https://api.github.com/users/abhijeetkushe/repos","events_url":"https://api.github.com/users/abhijeetkushe/events{/privacy}","received_events_url":"https://api.github.com/users/abhijeetkushe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T14:32:50Z","updated_at":"2021-04-26T14:32:50Z","author_association":"NONE","body":"Thanks your help.Closing this issue","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826883701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826968162","html_url":"https://github.com/apache/hudi/pull/2880#issuecomment-826968162","issue_url":"https://api.github.com/repos/apache/hudi/issues/2880","id":826968162,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjk2ODE2Mg==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T16:13:22Z","updated_at":"2021-04-26T16:21:12Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2880?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#2880](https://codecov.io/gh/apache/hudi/pull/2880?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (718fa28) into [master](https://codecov.io/gh/apache/hudi/commit/a5789c40673b36d40adab696706acc1446a286f8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (a5789c4) will **decrease** coverage by `0.06%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2880/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/2880?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2880      +/-   ##\n============================================\n- Coverage     53.00%   52.93%   -0.07%     \n+ Complexity     3743     3742       -1     \n============================================\n  Files           488      488              \n  Lines         23435    23511      +76     \n  Branches       2500     2501       +1     \n============================================\n+ Hits          12422    12446      +24     \n- Misses         9913     9966      +53     \n+ Partials       1100     1099       -1     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `39.53% <ø> (ø)` | `220.00 <ø> (ø)` | |\n| hudiclient | `∅ <ø> (∅)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.37% <ø> (-0.29%)` | `1975.00 <ø> (-1.00)` | |\n| hudiflink | `59.45% <ø> (+0.33%)` | `534.00 <ø> (-1.00)` | :arrow_up: |\n| hudihadoopmr | `33.33% <ø> (ø)` | `198.00 <ø> (ø)` | |\n| hudisparkdatasource | `73.33% <ø> (ø)` | `237.00 <ø> (ø)` | |\n| hudisync | `46.10% <ø> (ø)` | `142.00 <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | `62.00 <ø> (ø)` | |\n| hudiutilities | `69.70% <ø> (+0.01%)` | `374.00 <ø> (+1.00)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2880?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...common/table/log/HoodieMergedLogRecordScanner.java](https://codecov.io/gh/apache/hudi/pull/2880/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVNZXJnZWRMb2dSZWNvcmRTY2FubmVyLmphdmE=) | `82.35% <0.00%> (-5.15%)` | `9.00% <0.00%> (-1.00%)` | |\n| [...mmon/table/log/AbstractHoodieLogRecordScanner.java](https://codecov.io/gh/apache/hudi/pull/2880/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9BYnN0cmFjdEhvb2RpZUxvZ1JlY29yZFNjYW5uZXIuamF2YQ==) | `80.00% <0.00%> (-1.62%)` | `34.00% <0.00%> (ø%)` | |\n| [...pache/hudi/metadata/HoodieBackedTableMetadata.java](https://codecov.io/gh/apache/hudi/pull/2880/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllQmFja2VkVGFibGVNZXRhZGF0YS5qYXZh) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...e/hudi/table/format/mor/MergeOnReadInputSplit.java](https://codecov.io/gh/apache/hudi/pull/2880/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9mb3JtYXQvbW9yL01lcmdlT25SZWFkSW5wdXRTcGxpdC5qYXZh) | `94.44% <0.00%> (ø)` | `8.00% <0.00%> (ø%)` | |\n| [...metadata/HoodieMetadataMergedLogRecordScanner.java](https://codecov.io/gh/apache/hudi/pull/2880/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllTWV0YWRhdGFNZXJnZWRMb2dSZWNvcmRTY2FubmVyLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...org/apache/hudi/table/format/mor/InstantRange.java](https://codecov.io/gh/apache/hudi/pull/2880/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9mb3JtYXQvbW9yL0luc3RhbnRSYW5nZS5qYXZh) | | | |\n| [...org/apache/hudi/common/table/log/InstantRange.java](https://codecov.io/gh/apache/hudi/pull/2880/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9JbnN0YW50UmFuZ2UuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| [...s/deltastreamer/HoodieMultiTableDeltaStreamer.java](https://codecov.io/gh/apache/hudi/pull/2880/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllTXVsdGlUYWJsZURlbHRhU3RyZWFtZXIuamF2YQ==) | `78.52% <0.00%> (+0.13%)` | `19.00% <0.00%> (+1.00%)` | |\n| [...java/org/apache/hudi/table/format/FormatUtils.java](https://codecov.io/gh/apache/hudi/pull/2880/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9mb3JtYXQvRm9ybWF0VXRpbHMuamF2YQ==) | `93.33% <0.00%> (+0.22%)` | `6.00% <0.00%> (ø%)` | |\n| [...va/org/apache/hudi/configuration/FlinkOptions.java](https://codecov.io/gh/apache/hudi/pull/2880/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9jb25maWd1cmF0aW9uL0ZsaW5rT3B0aW9ucy5qYXZh) | `90.20% <0.00%> (+0.29%)` | `11.00% <0.00%> (ø%)` | |\n| ... and [3 more](https://codecov.io/gh/apache/hudi/pull/2880/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826968162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826968742","html_url":"https://github.com/apache/hudi/pull/2881#issuecomment-826968742","issue_url":"https://api.github.com/repos/apache/hudi/issues/2881","id":826968742,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjk2ODc0Mg==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T16:14:13Z","updated_at":"2024-11-16T23:23:16Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/hudi/pull/2881?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAll modified and coverable lines are covered by tests :white_check_mark:\n> Project coverage is 52.93%. Comparing base [(`f4e3b94`)](https://app.codecov.io/gh/apache/hudi/commit/f4e3b949714aceaf8823fd1659e44d3b7e98089a?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`4632790`)](https://app.codecov.io/gh/apache/hudi/commit/4632790412bde056d3e189ee3732246295b0f361?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 4348 commits behind head on master.\n\n<details><summary>Additional details and impacted files</summary>\n\n\n[![Impacted file tree graph](https://app.codecov.io/gh/apache/hudi/pull/2881/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)](https://app.codecov.io/gh/apache/hudi/pull/2881?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2881      +/-   ##\n============================================\n- Coverage     52.94%   52.93%   -0.02%     \n+ Complexity     3743     3742       -1     \n============================================\n  Files           488      488              \n  Lines         23511    23511              \n  Branches       2501     2501              \n============================================\n- Hits          12449    12446       -3     \n- Misses         9965     9966       +1     \n- Partials       1097     1099       +2     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/hudi/pull/2881/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [hudicli](https://app.codecov.io/gh/apache/hudi/pull/2881/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `39.53% <ø> (ø)` | |\n| [hudiclient](https://app.codecov.io/gh/apache/hudi/pull/2881/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `∅ <ø> (∅)` | |\n| [hudicommon](https://app.codecov.io/gh/apache/hudi/pull/2881/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `50.37% <ø> (-0.02%)` | :arrow_down: |\n| [hudiflink](https://app.codecov.io/gh/apache/hudi/pull/2881/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `59.45% <ø> (ø)` | |\n| [hudihadoopmr](https://app.codecov.io/gh/apache/hudi/pull/2881/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `33.33% <ø> (ø)` | |\n| [hudisparkdatasource](https://app.codecov.io/gh/apache/hudi/pull/2881/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `73.33% <ø> (ø)` | |\n| [hudisync](https://app.codecov.io/gh/apache/hudi/pull/2881/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.10% <ø> (ø)` | |\n| [huditimelineservice](https://app.codecov.io/gh/apache/hudi/pull/2881/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `64.36% <ø> (ø)` | |\n| [hudiutilities](https://app.codecov.io/gh/apache/hudi/pull/2881/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `69.70% <ø> (-0.06%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n[see 2 files with indirect coverage changes](https://app.codecov.io/gh/apache/hudi/pull/2881/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826968742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826999206","html_url":"https://github.com/apache/hudi/pull/2645#issuecomment-826999206","issue_url":"https://api.github.com/repos/apache/hudi/issues/2645","id":826999206,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNjk5OTIwNg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T17:00:39Z","updated_at":"2021-04-26T17:00:39Z","author_association":"MEMBER","body":"@pengzhiwei2018 Will re-review this again today. Also have a test env now. So will start running some tests as well and report results here.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/826999206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827054323","html_url":"https://github.com/apache/hudi/pull/2882#issuecomment-827054323","issue_url":"https://api.github.com/repos/apache/hudi/issues/2882","id":827054323,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzA1NDMyMw==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-26T18:28:10Z","updated_at":"2021-05-15T01:19:49Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2882?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#2882](https://codecov.io/gh/apache/hudi/pull/2882?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (848af92) into [master](https://codecov.io/gh/apache/hudi/commit/8869b3b4184bbec4502e2e3f6fde0ea9260cf0b0?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (8869b3b) will **increase** coverage by `0.01%`.\n> The diff coverage is `100.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2882/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/2882?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2882      +/-   ##\n============================================\n+ Coverage     54.79%   54.81%   +0.01%     \n- Complexity     3817     3818       +1     \n============================================\n  Files           483      483              \n  Lines         23347    23349       +2     \n  Branches       2491     2491              \n============================================\n+ Hits          12794    12799       +5     \n+ Misses         9399     9398       -1     \n+ Partials       1154     1152       -2     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `39.53% <ø> (ø)` | `220.00 <ø> (ø)` | |\n| hudiclient | `∅ <ø> (∅)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.41% <ø> (+0.01%)` | `1981.00 <ø> (ø)` | |\n| hudiflink | `63.11% <ø> (ø)` | `529.00 <ø> (ø)` | |\n| hudihadoopmr | `51.01% <ø> (ø)` | `266.00 <ø> (ø)` | |\n| hudisparkdatasource | `73.36% <100.00%> (+0.02%)` | `237.00 <0.00> (ø)` | |\n| hudisync | `46.44% <ø> (ø)` | `144.00 <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | `62.00 <ø> (ø)` | |\n| hudiutilities | `69.64% <ø> (+0.04%)` | `379.00 <ø> (+1.00)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2882?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...n/scala/org/apache/hudi/HoodieSparkSqlWriter.scala](https://codecov.io/gh/apache/hudi/pull/2882/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0hvb2RpZVNwYXJrU3FsV3JpdGVyLnNjYWxh) | `70.23% <100.00%> (+0.17%)` | `0.00 <0.00> (ø)` | |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/2882/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `71.18% <0.00%> (+0.33%)` | `56.00% <0.00%> (+1.00%)` | |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2882/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `79.68% <0.00%> (+1.56%)` | `26.00% <0.00%> (ø%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827054323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827219576","html_url":"https://github.com/apache/hudi/issues/2544#issuecomment-827219576","issue_url":"https://api.github.com/repos/apache/hudi/issues/2544","id":827219576,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzIxOTU3Ng==","user":{"login":"cdmikechen","id":12069428,"node_id":"MDQ6VXNlcjEyMDY5NDI4","avatar_url":"https://avatars.githubusercontent.com/u/12069428?v=4","gravatar_id":"","url":"https://api.github.com/users/cdmikechen","html_url":"https://github.com/cdmikechen","followers_url":"https://api.github.com/users/cdmikechen/followers","following_url":"https://api.github.com/users/cdmikechen/following{/other_user}","gists_url":"https://api.github.com/users/cdmikechen/gists{/gist_id}","starred_url":"https://api.github.com/users/cdmikechen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdmikechen/subscriptions","organizations_url":"https://api.github.com/users/cdmikechen/orgs","repos_url":"https://api.github.com/users/cdmikechen/repos","events_url":"https://api.github.com/users/cdmikechen/events{/privacy}","received_events_url":"https://api.github.com/users/cdmikechen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T00:14:18Z","updated_at":"2021-04-27T00:14:18Z","author_association":"CONTRIBUTOR","body":"@nsivabalan Sure ~ I'll deal with it next week.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827219576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827288106","html_url":"https://github.com/apache/hudi/pull/2884#issuecomment-827288106","issue_url":"https://api.github.com/repos/apache/hudi/issues/2884","id":827288106,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzI4ODEwNg==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T03:32:37Z","updated_at":"2021-04-30T04:31:24Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2884?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#2884](https://codecov.io/gh/apache/hudi/pull/2884?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e38fc8f) into [master](https://codecov.io/gh/apache/hudi/commit/9bbb458e888273af95b04f72cc5b428524b41487?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (9bbb458) will **decrease** coverage by `0.01%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2884/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/2884?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2884      +/-   ##\n============================================\n- Coverage     52.93%   52.92%   -0.02%     \n- Complexity     3742     3748       +6     \n============================================\n  Files           488      488              \n  Lines         23511    23571      +60     \n  Branches       2501     2509       +8     \n============================================\n+ Hits          12446    12474      +28     \n- Misses         9966     9994      +28     \n- Partials       1099     1103       +4     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `39.53% <ø> (ø)` | `220.00 <ø> (ø)` | |\n| hudiclient | `∅ <ø> (∅)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.38% <ø> (+0.01%)` | `1975.00 <ø> (ø)` | |\n| hudiflink | `59.03% <ø> (-0.42%)` | `538.00 <ø> (+4.00)` | :arrow_down: |\n| hudihadoopmr | `33.33% <ø> (ø)` | `198.00 <ø> (ø)` | |\n| hudisparkdatasource | `73.33% <ø> (ø)` | `237.00 <ø> (ø)` | |\n| hudisync | `46.73% <ø> (+0.62%)` | `144.00 <ø> (+2.00)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | `62.00 <ø> (ø)` | |\n| hudiutilities | `69.53% <0.00%> (-0.18%)` | `374.00 <0.00> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2884?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...s/deltastreamer/HoodieMultiTableDeltaStreamer.java](https://codecov.io/gh/apache/hudi/pull/2884/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllTXVsdGlUYWJsZURlbHRhU3RyZWFtZXIuamF2YQ==) | `76.19% <0.00%> (-2.34%)` | `19.00 <0.00> (ø)` | |\n| [.../hudi/table/format/mor/MergeOnReadInputFormat.java](https://codecov.io/gh/apache/hudi/pull/2884/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9mb3JtYXQvbW9yL01lcmdlT25SZWFkSW5wdXRGb3JtYXQuamF2YQ==) | `66.10% <0.00%> (-9.38%)` | `18.00% <0.00%> (ø%)` | |\n| [.../java/org/apache/hudi/table/HoodieTableSource.java](https://codecov.io/gh/apache/hudi/pull/2884/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9Ib29kaWVUYWJsZVNvdXJjZS5qYXZh) | `59.56% <0.00%> (-3.81%)` | `26.00% <0.00%> (ø%)` | |\n| [...java/org/apache/hudi/sink/StreamWriteFunction.java](https://codecov.io/gh/apache/hudi/pull/2884/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL1N0cmVhbVdyaXRlRnVuY3Rpb24uamF2YQ==) | `77.77% <0.00%> (-3.15%)` | `22.00% <0.00%> (-2.00%)` | |\n| [...ache/hudi/source/StreamReadMonitoringFunction.java](https://codecov.io/gh/apache/hudi/pull/2884/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zb3VyY2UvU3RyZWFtUmVhZE1vbml0b3JpbmdGdW5jdGlvbi5qYXZh) | `76.22% <0.00%> (-0.04%)` | `35.00% <0.00%> (ø%)` | |\n| [...main/java/org/apache/hudi/dla/HoodieDLAClient.java](https://codecov.io/gh/apache/hudi/pull/2884/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zeW5jL2h1ZGktZGxhLXN5bmMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvZGxhL0hvb2RpZURMQUNsaWVudC5qYXZh) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...ava/org/apache/hudi/source/StreamReadOperator.java](https://codecov.io/gh/apache/hudi/pull/2884/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zb3VyY2UvU3RyZWFtUmVhZE9wZXJhdG9yLmphdmE=) | `90.66% <0.00%> (+0.12%)` | `15.00% <0.00%> (ø%)` | |\n| [...va/org/apache/hudi/configuration/FlinkOptions.java](https://codecov.io/gh/apache/hudi/pull/2884/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9jb25maWd1cmF0aW9uL0ZsaW5rT3B0aW9ucy5qYXZh) | `90.48% <0.00%> (+0.28%)` | `11.00% <0.00%> (ø%)` | |\n| [...e/hudi/table/format/mor/MergeOnReadInputSplit.java](https://codecov.io/gh/apache/hudi/pull/2884/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9mb3JtYXQvbW9yL01lcmdlT25SZWFkSW5wdXRTcGxpdC5qYXZh) | `94.73% <0.00%> (+0.29%)` | `9.00% <0.00%> (+1.00%)` | |\n| [...c/main/java/org/apache/hudi/util/StreamerUtil.java](https://codecov.io/gh/apache/hudi/pull/2884/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS91dGlsL1N0cmVhbWVyVXRpbC5qYXZh) | `58.33% <0.00%> (+0.35%)` | `18.00% <0.00%> (ø%)` | |\n| ... and [5 more](https://codecov.io/gh/apache/hudi/pull/2884/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827288106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827298091","html_url":"https://github.com/apache/hudi/issues/2874#issuecomment-827298091","issue_url":"https://api.github.com/repos/apache/hudi/issues/2874","id":827298091,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzI5ODA5MQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T04:07:47Z","updated_at":"2021-04-27T04:09:06Z","author_association":"CONTRIBUTOR","body":"@danny0405 Thanks for that explanation. This is a hive reader not the spark reader, did you mean hive ? Is there already a JIRA filed for this ? \r\nDoes all implementation of flink use global index or is there a non-global index implementation for merge on read tables ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827298091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827304591","html_url":"https://github.com/apache/hudi/issues/2787#issuecomment-827304591","issue_url":"https://api.github.com/repos/apache/hudi/issues/2787","id":827304591,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzMwNDU5MQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T04:29:54Z","updated_at":"2021-04-27T04:29:54Z","author_association":"CONTRIBUTOR","body":"@rubenssoto This config is \"safe\" in a way that it will throw an error and fail the pipeline if there is any schema evolution issue. So you can turn it on and if pipeline fails, please get the logs so we can debug and you can turn this config off if needed.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827304591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827306636","html_url":"https://github.com/apache/hudi/issues/2774#issuecomment-827306636","issue_url":"https://api.github.com/repos/apache/hudi/issues/2774","id":827306636,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzMwNjYzNg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T04:37:30Z","updated_at":"2021-04-27T04:37:30Z","author_association":"CONTRIBUTOR","body":"@vobukh Closing this ticket since this seems to have resolved your issue. Feel free to re-open if otherwise","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827306636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827307848","html_url":"https://github.com/apache/hudi/issues/2723#issuecomment-827307848","issue_url":"https://api.github.com/repos/apache/hudi/issues/2723","id":827307848,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzMwNzg0OA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T04:42:04Z","updated_at":"2021-04-27T04:42:04Z","author_association":"CONTRIBUTOR","body":"@liijiankang Does this issue come back when you turn on async cleaning ? If yes, can you file a JIRA ticket and ping back the ticket here so we can look into this ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827307848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827309433","html_url":"https://github.com/apache/hudi/issues/2688#issuecomment-827309433","issue_url":"https://api.github.com/repos/apache/hudi/issues/2688","id":827309433,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzMwOTQzMw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T04:47:43Z","updated_at":"2021-04-27T04:47:43Z","author_association":"CONTRIBUTOR","body":"@rubenssoto Gentle ping ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827309433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827311874","html_url":"https://github.com/apache/hudi/issues/2680#issuecomment-827311874","issue_url":"https://api.github.com/repos/apache/hudi/issues/2680","id":827311874,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzMxMTg3NA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T04:55:43Z","updated_at":"2021-04-27T04:55:43Z","author_association":"CONTRIBUTOR","body":"@ztcheck Since this issue is not reported by other users, my guess is that this has something to do with your environment. If you are able to pin point which jar helped resolved the issue, that will be helpful to provide a longer term fix, if not, we can close this ticket. Let me know","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827311874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827312061","html_url":"https://github.com/apache/hudi/issues/2657#issuecomment-827312061","issue_url":"https://api.github.com/repos/apache/hudi/issues/2657","id":827312061,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzMxMjA2MQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T04:56:23Z","updated_at":"2021-04-27T04:56:23Z","author_association":"CONTRIBUTOR","body":"@garyli1019 Are you able to pick this up now ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827312061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827312076","html_url":"https://github.com/apache/hudi/issues/2723#issuecomment-827312076","issue_url":"https://api.github.com/repos/apache/hudi/issues/2723","id":827312076,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzMxMjA3Ng==","user":{"login":"liijiankang","id":42951757,"node_id":"MDQ6VXNlcjQyOTUxNzU3","avatar_url":"https://avatars.githubusercontent.com/u/42951757?v=4","gravatar_id":"","url":"https://api.github.com/users/liijiankang","html_url":"https://github.com/liijiankang","followers_url":"https://api.github.com/users/liijiankang/followers","following_url":"https://api.github.com/users/liijiankang/following{/other_user}","gists_url":"https://api.github.com/users/liijiankang/gists{/gist_id}","starred_url":"https://api.github.com/users/liijiankang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liijiankang/subscriptions","organizations_url":"https://api.github.com/users/liijiankang/orgs","repos_url":"https://api.github.com/users/liijiankang/repos","events_url":"https://api.github.com/users/liijiankang/events{/privacy}","received_events_url":"https://api.github.com/users/liijiankang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T04:56:27Z","updated_at":"2021-04-27T04:56:27Z","author_association":"NONE","body":"@n3nash https://issues.apache.org/jira/browse/HUDI-1855","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827312076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827312511","html_url":"https://github.com/apache/hudi/issues/2648#issuecomment-827312511","issue_url":"https://api.github.com/repos/apache/hudi/issues/2648","id":827312511,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzMxMjUxMQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T04:57:53Z","updated_at":"2021-04-27T04:57:53Z","author_association":"CONTRIBUTOR","body":"@hushenmin Thanks for the cross comment. Yes, it looks like for _rt view, for indexType = global when there are no base data files, this exception is thrown. We will take this up soon.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827312511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827313315","html_url":"https://github.com/apache/hudi/issues/2647#issuecomment-827313315","issue_url":"https://api.github.com/repos/apache/hudi/issues/2647","id":827313315,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzMxMzMxNQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T05:00:44Z","updated_at":"2021-04-27T05:00:44Z","author_association":"CONTRIBUTOR","body":"@liujinhui1994 Are you able to provide information that @nsivabalan and @bvaradar have asked ? We can help triage this issue, if not, I will close this ticket soon.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827313315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827313469","html_url":"https://github.com/apache/hudi/issues/2641#issuecomment-827313469","issue_url":"https://api.github.com/repos/apache/hudi/issues/2641","id":827313469,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzMxMzQ2OQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T05:01:14Z","updated_at":"2021-04-27T05:01:14Z","author_association":"CONTRIBUTOR","body":"@garyli1019 Are you able to take a look at this one as well ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827313469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827313973","html_url":"https://github.com/apache/hudi/issues/2639#issuecomment-827313973","issue_url":"https://api.github.com/repos/apache/hudi/issues/2639","id":827313973,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzMxMzk3Mw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T05:02:49Z","updated_at":"2021-04-27T05:02:49Z","author_association":"CONTRIBUTOR","body":"@afeldman1 I think this issue is related to the AWS EMR changes for Hudi 0.6. As @rubenssoto described, the Hudi 0.7 works fine. Closing this ticket, feel free to re-open if issue still persists for you.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827313973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827317890","html_url":"https://github.com/apache/hudi/issues/2623#issuecomment-827317890","issue_url":"https://api.github.com/repos/apache/hudi/issues/2623","id":827317890,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzMxNzg5MA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T05:14:24Z","updated_at":"2021-04-27T05:14:24Z","author_association":"CONTRIBUTOR","body":"@hj2016 Thanks for the update. @root18039532923 Is your issue resolved now ? Were you able to package the jar and try it out","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827317890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827321400","html_url":"https://github.com/apache/hudi/issues/2620#issuecomment-827321400","issue_url":"https://api.github.com/repos/apache/hudi/issues/2620","id":827321400,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzMyMTQwMA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T05:24:34Z","updated_at":"2021-04-27T05:24:34Z","author_association":"CONTRIBUTOR","body":"@kimberlyamandalu @njalan @codejoyan There are a few problems when using BLOOM_INDEX\r\n\r\n1. Depending on the number of entries in the parquet file, if the BLOOM_INDEX num_entries is not configured correctly, it will lead to lots of false positives that results in bloom index spending more time looking up data. You can check the default bloom index entries here -> https://github.com/apache/hudi/blob/5be3997f70415e1752a0b5214f9398880fc8fd1f/hudi-client/hudi-client-common/src/main/java/org/apache/hudi/config/HoodieIndexConfig.java#L47. You can either increase this or use dynamic bloom filter. We are working on adding metrics to emit how many such false positives happened. \r\n2. The BLOOM_INDEX step needs to perform a \"listing\" of the partitions to find the candidate files. On S3 without `hoodie.metadata.table` being enabled, this listing can take time. Enable the config to eliminate these file listings.\r\n3. Depending on your workload, BLOOM_INDEX could, in some cases not be the ideal choice. For example, if you have updates across all your partitions, then using SIMPLE_INDEX is better since bloom will just do some extra work and then do the work that SIMPLE_INDEX would have done anyways. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827321400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827323716","html_url":"https://github.com/apache/hudi/issues/2609#issuecomment-827323716","issue_url":"https://api.github.com/repos/apache/hudi/issues/2609","id":827323716,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzMyMzcxNg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T05:30:52Z","updated_at":"2021-04-27T05:30:52Z","author_association":"CONTRIBUTOR","body":"I've filed a ticket here -> https://issues.apache.org/jira/browse/HUDI-1856. Let's move the conversation to the JIRA. Happy to guide you @GaruGaru or @njalan if you would like to upstream the change in Trino. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827323716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827329997","html_url":"https://github.com/apache/hudi/pull/2867#issuecomment-827329997","issue_url":"https://api.github.com/repos/apache/hudi/issues/2867","id":827329997,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzMyOTk5Nw==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T05:47:03Z","updated_at":"2021-04-27T05:47:03Z","author_association":"CONTRIBUTOR","body":"Hi @yanghua ,can you take a look for this PR again, thanks ~","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827329997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827358422","html_url":"https://github.com/apache/hudi/issues/2874#issuecomment-827358422","issue_url":"https://api.github.com/repos/apache/hudi/issues/2874","id":827358422,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzM1ODQyMg==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T06:49:00Z","updated_at":"2021-04-27T06:49:00Z","author_association":"CONTRIBUTOR","body":"@n3nash Flink writer now only use one index implementation which is global for MOR and COW tables.\r\n\r\nI missed that this is Hive reading, let me figure out which variable causes NPE here ~","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827358422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827441746","html_url":"https://github.com/apache/hudi/issues/2813#issuecomment-827441746","issue_url":"https://api.github.com/repos/apache/hudi/issues/2813","id":827441746,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzQ0MTc0Ng==","user":{"login":"MyLanPangzi","id":46845236,"node_id":"MDQ6VXNlcjQ2ODQ1MjM2","avatar_url":"https://avatars.githubusercontent.com/u/46845236?v=4","gravatar_id":"","url":"https://api.github.com/users/MyLanPangzi","html_url":"https://github.com/MyLanPangzi","followers_url":"https://api.github.com/users/MyLanPangzi/followers","following_url":"https://api.github.com/users/MyLanPangzi/following{/other_user}","gists_url":"https://api.github.com/users/MyLanPangzi/gists{/gist_id}","starred_url":"https://api.github.com/users/MyLanPangzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MyLanPangzi/subscriptions","organizations_url":"https://api.github.com/users/MyLanPangzi/orgs","repos_url":"https://api.github.com/users/MyLanPangzi/repos","events_url":"https://api.github.com/users/MyLanPangzi/events{/privacy}","received_events_url":"https://api.github.com/users/MyLanPangzi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T08:58:47Z","updated_at":"2021-04-27T08:58:47Z","author_association":"CONTRIBUTOR","body":"> @qianjiangbing Thanks for confirming.\r\n> \r\n> @MyLanPangzi I just noticed that you were using Hive version : 1.1 cdh 5.6.12. This is a very old version of Hive. The latest Hudi builds only work with Hive 2.x+ versions. Are you able to migrate to a higher version of Hive ?\r\n\r\nSorry, I can't upgrade the cluster version. so the only option is using org.apache.hudi.hadoop.HoodieParquetInputFormat for mor table in my cluster.\r\nCan i close the issue if you haven't any fix?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827441746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827488876","html_url":"https://github.com/apache/hudi/pull/2886#issuecomment-827488876","issue_url":"https://api.github.com/repos/apache/hudi/issues/2886","id":827488876,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzQ4ODg3Ng==","user":{"login":"dijiekstra","id":19817318,"node_id":"MDQ6VXNlcjE5ODE3MzE4","avatar_url":"https://avatars.githubusercontent.com/u/19817318?v=4","gravatar_id":"","url":"https://api.github.com/users/dijiekstra","html_url":"https://github.com/dijiekstra","followers_url":"https://api.github.com/users/dijiekstra/followers","following_url":"https://api.github.com/users/dijiekstra/following{/other_user}","gists_url":"https://api.github.com/users/dijiekstra/gists{/gist_id}","starred_url":"https://api.github.com/users/dijiekstra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dijiekstra/subscriptions","organizations_url":"https://api.github.com/users/dijiekstra/orgs","repos_url":"https://api.github.com/users/dijiekstra/repos","events_url":"https://api.github.com/users/dijiekstra/events{/privacy}","received_events_url":"https://api.github.com/users/dijiekstra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T10:12:05Z","updated_at":"2021-04-27T10:12:05Z","author_association":"CONTRIBUTOR","body":"jira url is https://github.com/apache/hudi/pull/2886","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827488876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827525824","html_url":"https://github.com/apache/hudi/pull/2886#issuecomment-827525824","issue_url":"https://api.github.com/repos/apache/hudi/issues/2886","id":827525824,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzUyNTgyNA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T11:11:36Z","updated_at":"2024-11-16T23:21:21Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/hudi/pull/2886?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAll modified and coverable lines are covered by tests :white_check_mark:\n> Project coverage is 52.97%. Comparing base [(`2999586`)](https://app.codecov.io/gh/apache/hudi/commit/299958650916eecc243f20bf9362ed70073d30db?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`6c479a4`)](https://app.codecov.io/gh/apache/hudi/commit/6c479a4b5386a573f3afe5702c43c827cccf1cc9?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 4344 commits behind head on master.\n\n<details><summary>Additional details and impacted files</summary>\n\n\n[![Impacted file tree graph](https://app.codecov.io/gh/apache/hudi/pull/2886/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)](https://app.codecov.io/gh/apache/hudi/pull/2886?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #2886   +/-   ##\n=========================================\n  Coverage     52.97%   52.97%           \n  Complexity     3745     3745           \n=========================================\n  Files           488      488           \n  Lines         23541    23541           \n  Branches       2503     2503           \n=========================================\n  Hits          12472    12472           \n  Misses         9967     9967           \n  Partials       1102     1102           \n```\n\n| [Flag](https://app.codecov.io/gh/apache/hudi/pull/2886/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [hudicli](https://app.codecov.io/gh/apache/hudi/pull/2886/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `39.53% <ø> (ø)` | |\n| [hudiclient](https://app.codecov.io/gh/apache/hudi/pull/2886/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `∅ <ø> (∅)` | |\n| [hudicommon](https://app.codecov.io/gh/apache/hudi/pull/2886/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `50.37% <ø> (ø)` | |\n| [hudiflink](https://app.codecov.io/gh/apache/hudi/pull/2886/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `59.67% <ø> (ø)` | |\n| [hudihadoopmr](https://app.codecov.io/gh/apache/hudi/pull/2886/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `33.33% <ø> (ø)` | |\n| [hudisparkdatasource](https://app.codecov.io/gh/apache/hudi/pull/2886/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `73.33% <ø> (ø)` | |\n| [hudisync](https://app.codecov.io/gh/apache/hudi/pull/2886/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.10% <ø> (ø)` | |\n| [huditimelineservice](https://app.codecov.io/gh/apache/hudi/pull/2886/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `64.36% <ø> (ø)` | |\n| [hudiutilities](https://app.codecov.io/gh/apache/hudi/pull/2886/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `69.70% <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827525824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827542178","html_url":"https://github.com/apache/hudi/pull/2886#issuecomment-827542178","issue_url":"https://api.github.com/repos/apache/hudi/issues/2886","id":827542178,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzU0MjE3OA==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T11:43:50Z","updated_at":"2021-04-27T11:43:50Z","author_association":"CONTRIBUTOR","body":"Close and reopen to retrigger the CI verification.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827542178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827619995","html_url":"https://github.com/apache/hudi/issues/2887#issuecomment-827619995","issue_url":"https://api.github.com/repos/apache/hudi/issues/2887","id":827619995,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzYxOTk5NQ==","user":{"login":"rancylive","id":13742824,"node_id":"MDQ6VXNlcjEzNzQyODI0","avatar_url":"https://avatars.githubusercontent.com/u/13742824?v=4","gravatar_id":"","url":"https://api.github.com/users/rancylive","html_url":"https://github.com/rancylive","followers_url":"https://api.github.com/users/rancylive/followers","following_url":"https://api.github.com/users/rancylive/following{/other_user}","gists_url":"https://api.github.com/users/rancylive/gists{/gist_id}","starred_url":"https://api.github.com/users/rancylive/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rancylive/subscriptions","organizations_url":"https://api.github.com/users/rancylive/orgs","repos_url":"https://api.github.com/users/rancylive/repos","events_url":"https://api.github.com/users/rancylive/events{/privacy}","received_events_url":"https://api.github.com/users/rancylive/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T13:47:07Z","updated_at":"2021-04-27T13:47:07Z","author_association":"NONE","body":"@vburenin please help here","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827619995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827670147","html_url":"https://github.com/apache/hudi/issues/2887#issuecomment-827670147","issue_url":"https://api.github.com/repos/apache/hudi/issues/2887","id":827670147,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzY3MDE0Nw==","user":{"login":"vburenin","id":4350891,"node_id":"MDQ6VXNlcjQzNTA4OTE=","avatar_url":"https://avatars.githubusercontent.com/u/4350891?v=4","gravatar_id":"","url":"https://api.github.com/users/vburenin","html_url":"https://github.com/vburenin","followers_url":"https://api.github.com/users/vburenin/followers","following_url":"https://api.github.com/users/vburenin/following{/other_user}","gists_url":"https://api.github.com/users/vburenin/gists{/gist_id}","starred_url":"https://api.github.com/users/vburenin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vburenin/subscriptions","organizations_url":"https://api.github.com/users/vburenin/orgs","repos_url":"https://api.github.com/users/vburenin/repos","events_url":"https://api.github.com/users/vburenin/events{/privacy}","received_events_url":"https://api.github.com/users/vburenin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T14:54:06Z","updated_at":"2021-04-27T14:54:06Z","author_association":"CONTRIBUTOR","body":"@rancylive can you take a look at spark execution plan, take snapshot how long each stage takes and print it out here? Also, would be interesting to know how many partitions you end up with. What is the CPU load on the executors during each stage?  \r\n\r\nOn my side every time I observe any such slowness without a meaningful CPU load it is typically IO bottleneck somewhere.\r\n\r\nYou also may want to upgrade to Hudi 0.8.0 as it has a few several GCS related issues addressed. May not be the case for this specific issue, but still would be nice to exclude this factor.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827670147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827971949","html_url":"https://github.com/apache/hudi/issues/2787#issuecomment-827971949","issue_url":"https://api.github.com/repos/apache/hudi/issues/2787","id":827971949,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzk3MTk0OQ==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T22:17:12Z","updated_at":"2021-04-27T22:17:12Z","author_association":"NONE","body":"Hi Guys,\r\n\r\nI tried with another table...but the error message doesn't help\r\n\r\n`java.lang.Exception: Error on Table: tracking_speedy_gonzales_app, Error Message: org.apache.hudi.exception.HoodieUpsertException: Failed upsert schema compatibility check.\r\n\tat TableProcessorWrapper$.$anonfun$main$4(TableProcessorWrapper.scala:32)\r\n\tat TableProcessorWrapper$.$anonfun$main$4$adapted(TableProcessorWrapper.scala:29)\r\n\tat scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)\r\n\tat java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:175)\r\n21/04/27 22:07:43 ERROR ApplicationMaster: User class threw exception: java.lang.Exception: Error on Table: tracking_speedy_gonzales_app, Error Message: org.apache.hudi.exception.HoodieUpsertException: Failed upsert schema compatibility check.\r\njava.lang.Exception: Error on Table: tracking_speedy_gonzales_app, Error Message: org.apache.hudi.exception.HoodieUpsertException: Failed upsert schema compatibility check.\r\n\tat jobs.TableProcessor.start(TableProcessor.scala:107)\r\n\tat TableProcessorWrapper$.$anonfun$main$2(TableProcessorWrapper.scala:23)\r\n\tat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n\tat scala.concurrent.Future$.$anonfun$apply$1(Future.scala:659)\r\n\tat scala.util.Success.$anonfun$map$1(Try.scala:255)\r\n\tat scala.util.Success.map(Try.scala:213)\r\n\tat scala.concurrent.Future.$anonfun$map$1(Future.scala:292)\r\n\tat scala.concurrent.impl.Promise.liftedTree1$1(Promise.scala:33)\r\n\tat scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)\r\n\tat scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)\r\n\tat java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:175)\r\n21/04/27 22:07:43 INFO ApplicationMaster: Final app status: FAILED, exitCode: 15, (reason: User class threw exception: java.lang.Exception: Error on Table: tracking_speedy_gonzales_app, Error Message: org.apache.hudi.exception.HoodieUpsertException: Failed upsert schema compatibility check.\r\n\tat jobs.TableProcessor.start(TableProcessor.scala:107)\r\n\tat TableProcessorWrapper$.$anonfun$main$2(TableProcessorWrapper.scala:23)\r\n\tat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n\tat scala.concurrent.Future$.$anonfun$apply$1(Future.scala:659)\r\n\tat scala.util.Success.$anonfun$map$1(Try.scala:255)\r\n\tat scala.util.Success.map(Try.scala:213)\r\n\tat scala.concurrent.Future.$anonfun$map$1(Future.scala:292)\r\n\tat scala.concurrent.impl.Promise.liftedTree1$1(Promise.scala:33)\r\n\tat scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)\r\n\tat scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)\r\n\tat java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:175)`","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827971949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827972461","html_url":"https://github.com/apache/hudi/issues/2641#issuecomment-827972461","issue_url":"https://api.github.com/repos/apache/hudi/issues/2641","id":827972461,"node_id":"MDEyOklzc3VlQ29tbWVudDgyNzk3MjQ2MQ==","user":{"login":"vburenin","id":4350891,"node_id":"MDQ6VXNlcjQzNTA4OTE=","avatar_url":"https://avatars.githubusercontent.com/u/4350891?v=4","gravatar_id":"","url":"https://api.github.com/users/vburenin","html_url":"https://github.com/vburenin","followers_url":"https://api.github.com/users/vburenin/followers","following_url":"https://api.github.com/users/vburenin/following{/other_user}","gists_url":"https://api.github.com/users/vburenin/gists{/gist_id}","starred_url":"https://api.github.com/users/vburenin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vburenin/subscriptions","organizations_url":"https://api.github.com/users/vburenin/orgs","repos_url":"https://api.github.com/users/vburenin/repos","events_url":"https://api.github.com/users/vburenin/events{/privacy}","received_events_url":"https://api.github.com/users/vburenin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-27T22:18:29Z","updated_at":"2021-04-27T22:18:29Z","author_association":"CONTRIBUTOR","body":"@n3nash This error pops up even with Spark 3.0.1","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/827972461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828067521","html_url":"https://github.com/apache/hudi/issues/2641#issuecomment-828067521","issue_url":"https://api.github.com/repos/apache/hudi/issues/2641","id":828067521,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODA2NzUyMQ==","user":{"login":"vburenin","id":4350891,"node_id":"MDQ6VXNlcjQzNTA4OTE=","avatar_url":"https://avatars.githubusercontent.com/u/4350891?v=4","gravatar_id":"","url":"https://api.github.com/users/vburenin","html_url":"https://github.com/vburenin","followers_url":"https://api.github.com/users/vburenin/followers","following_url":"https://api.github.com/users/vburenin/following{/other_user}","gists_url":"https://api.github.com/users/vburenin/gists{/gist_id}","starred_url":"https://api.github.com/users/vburenin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vburenin/subscriptions","organizations_url":"https://api.github.com/users/vburenin/orgs","repos_url":"https://api.github.com/users/vburenin/repos","events_url":"https://api.github.com/users/vburenin/events{/privacy}","received_events_url":"https://api.github.com/users/vburenin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T01:16:37Z","updated_at":"2021-04-28T03:28:44Z","author_association":"CONTRIBUTOR","body":"Okay, the fix apparently easy. The exception IncompatibleSchemaException is only being thrown and never handled anywhere. so it is used only for the reason as a reusable code.\r\n\r\nHowever, the problem doesn't stop there.\r\nHere is more errors after I fixed it:\r\n```\r\n[ERROR] /Users/vburenin/workspace/hudi/hudi-release-0.8.0/hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala:121: error: class AvroDeserializer in package avro cannot be accessed in package org.apache.spark.sql.avro\r\n[ERROR]       private val deserializer = new AvroDeserializer(requiredAvroSchema, tableState.requiredStructSchema)\r\n[ERROR]                                      ^\r\n[ERROR] /Users/vburenin/workspace/hudi/hudi-release-0.8.0/hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala:160: error: not found: type AvroDeserializer\r\n[ERROR]       private val deserializer = new AvroDeserializer(requiredAvroSchema, tableState.requiredStructSchema)\r\n[ERROR]                                      ^\r\n[ERROR] /Users/vburenin/workspace/hudi/hudi-release-0.8.0/hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala:205: error: class AvroSerializer in package avro cannot be accessed in package org.apache.spark.sql.avro\r\n[ERROR]       private val serializer = new AvroSerializer(tableState.tableStructSchema, tableAvroSchema, false)\r\n[ERROR]                                    ^\r\n[ERROR] /Users/vburenin/workspace/hudi/hudi-release-0.8.0/hudi-spark-datasource/hudi-spark/src/main/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala:206: error: not found: type AvroDeserializer\r\n[ERROR]       private val requiredDeserializer = new AvroDeserializer(requiredAvroSchema, tableState.requiredStructSchema)\r\n``` \r\n\r\nAvroDeserializer is not a public class anymore. Hm...","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828067521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828075511","html_url":"https://github.com/apache/hudi/pull/2759#issuecomment-828075511","issue_url":"https://api.github.com/repos/apache/hudi/issues/2759","id":828075511,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODA3NTUxMQ==","user":{"login":"li36909","id":3632162,"node_id":"MDQ6VXNlcjM2MzIxNjI=","avatar_url":"https://avatars.githubusercontent.com/u/3632162?v=4","gravatar_id":"","url":"https://api.github.com/users/li36909","html_url":"https://github.com/li36909","followers_url":"https://api.github.com/users/li36909/followers","following_url":"https://api.github.com/users/li36909/following{/other_user}","gists_url":"https://api.github.com/users/li36909/gists{/gist_id}","starred_url":"https://api.github.com/users/li36909/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/li36909/subscriptions","organizations_url":"https://api.github.com/users/li36909/orgs","repos_url":"https://api.github.com/users/li36909/repos","events_url":"https://api.github.com/users/li36909/events{/privacy}","received_events_url":"https://api.github.com/users/li36909/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T01:39:30Z","updated_at":"2021-04-28T01:39:30Z","author_association":"CONTRIBUTOR","body":"cc @vinothchandar, thank you for your review, could you take a look again, thank you","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828075511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828112098","html_url":"https://github.com/apache/hudi/issues/2647#issuecomment-828112098","issue_url":"https://api.github.com/repos/apache/hudi/issues/2647","id":828112098,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODExMjA5OA==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T03:21:15Z","updated_at":"2021-04-28T03:21:15Z","author_association":"CONTRIBUTOR","body":"It seems that it can be closed first. Recently we mainly use spark/presto. If I meet later, I will find a way to locate it in detail. Thank you for your attention.\r\n@n3nash ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828112098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828163698","html_url":"https://github.com/apache/hudi/pull/2242#issuecomment-828163698","issue_url":"https://api.github.com/repos/apache/hudi/issues/2242","id":828163698,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODE2MzY5OA==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T05:50:12Z","updated_at":"2021-04-28T05:50:12Z","author_association":"CONTRIBUTOR","body":"@nsivabalan  I think this PR can be temporarily cancelled. If there are users who have similar needs later, I will start again","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828163698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828163773","html_url":"https://github.com/apache/hudi/pull/2889#issuecomment-828163773","issue_url":"https://api.github.com/repos/apache/hudi/issues/2889","id":828163773,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODE2Mzc3Mw==","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T05:50:24Z","updated_at":"2021-04-28T06:42:22Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"3f35042fee2ab77100af7cddbc1b5914808ef7d1\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://travis-ci.com/github/apachehudi-ci/hudi-branch-ci/builds/224346756\",\n    \"triggerID\" : \"3f35042fee2ab77100af7cddbc1b5914808ef7d1\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 3f35042fee2ab77100af7cddbc1b5914808ef7d1 Travis: [FAILURE](https://travis-ci.com/github/apachehudi-ci/hudi-branch-ci/builds/224346756) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828163773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828165841","html_url":"https://github.com/apache/hudi/pull/2889#issuecomment-828165841","issue_url":"https://api.github.com/repos/apache/hudi/issues/2889","id":828165841,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODE2NTg0MQ==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T05:55:15Z","updated_at":"2021-04-28T06:34:46Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2889?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#2889](https://codecov.io/gh/apache/hudi/pull/2889?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (3f35042) into [master](https://codecov.io/gh/apache/hudi/commit/386767693d46e7419c4fb0fa292ccb7ab7f7098d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (3867676) will **decrease** coverage by `16.74%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2889/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/2889?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2889       +/-   ##\n=============================================\n- Coverage     69.75%   53.00%   -16.75%     \n- Complexity      375     3745     +3370     \n=============================================\n  Files            54      488      +434     \n  Lines          1997    23527    +21530     \n  Branches        236     2501     +2265     \n=============================================\n+ Hits           1393    12471    +11078     \n- Misses          473     9956     +9483     \n- Partials        131     1100      +969     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `39.53% <ø> (?)` | `220.00 <ø> (?)` | |\n| hudiclient | `∅ <ø> (∅)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.38% <ø> (?)` | `1975.00 <ø> (?)` | |\n| hudiflink | `59.67% <ø> (?)` | `537.00 <ø> (?)` | |\n| hudihadoopmr | `33.33% <ø> (?)` | `198.00 <ø> (?)` | |\n| hudisparkdatasource | `73.33% <ø> (?)` | `237.00 <ø> (?)` | |\n| hudisync | `46.39% <ø> (?)` | `142.00 <ø> (?)` | |\n| huditimelineservice | `64.36% <ø> (?)` | `62.00 <ø> (?)` | |\n| hudiutilities | `69.70% <ø> (-0.06%)` | `374.00 <ø> (-1.00)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2889?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/2889/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `71.08% <0.00%> (-0.35%)` | `55.00% <0.00%> (-1.00%)` | |\n| [...hadoop/realtime/RealtimeCompactedRecordReader.java](https://codecov.io/gh/apache/hudi/pull/2889/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL3JlYWx0aW1lL1JlYWx0aW1lQ29tcGFjdGVkUmVjb3JkUmVhZGVyLmphdmE=) | `64.06% <0.00%> (ø)` | `13.00% <0.00%> (?%)` | |\n| [...ava/org/apache/hudi/common/model/HoodieRecord.java](https://codecov.io/gh/apache/hudi/pull/2889/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZVJlY29yZC5qYXZh) | `50.81% <0.00%> (ø)` | `15.00% <0.00%> (?%)` | |\n| [...di/common/bootstrap/index/HFileBootstrapIndex.java](https://codecov.io/gh/apache/hudi/pull/2889/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2Jvb3RzdHJhcC9pbmRleC9IRmlsZUJvb3RzdHJhcEluZGV4LmphdmE=) | `81.48% <0.00%> (ø)` | `18.00% <0.00%> (?%)` | |\n| [...pache/hudi/hadoop/PathWithBootstrapFileStatus.java](https://codecov.io/gh/apache/hudi/pull/2889/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL1BhdGhXaXRoQm9vdHN0cmFwRmlsZVN0YXR1cy5qYXZh) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| [...he/hudi/common/model/BootstrapBaseFileMapping.java](https://codecov.io/gh/apache/hudi/pull/2889/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0Jvb3RzdHJhcEJhc2VGaWxlTWFwcGluZy5qYXZh) | `85.71% <0.00%> (ø)` | `3.00% <0.00%> (?%)` | |\n| [...rg/apache/hudi/common/util/SerializationUtils.java](https://codecov.io/gh/apache/hudi/pull/2889/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvU2VyaWFsaXphdGlvblV0aWxzLmphdmE=) | `88.00% <0.00%> (ø)` | `3.00% <0.00%> (?%)` | |\n| [...in/java/org/apache/hudi/hive/util/ConfigUtils.java](https://codecov.io/gh/apache/hudi/pull/2889/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvdXRpbC9Db25maWdVdGlscy5qYXZh) | `73.91% <0.00%> (ø)` | `6.00% <0.00%> (?%)` | |\n| [...ain/java/org/apache/hudi/avro/HoodieAvroUtils.java](https://codecov.io/gh/apache/hudi/pull/2889/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvYXZyby9Ib29kaWVBdnJvVXRpbHMuamF2YQ==) | `55.66% <0.00%> (ø)` | `38.00% <0.00%> (?%)` | |\n| [...apache/hudi/sink/event/BatchWriteSuccessEvent.java](https://codecov.io/gh/apache/hudi/pull/2889/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL2V2ZW50L0JhdGNoV3JpdGVTdWNjZXNzRXZlbnQuamF2YQ==) | `92.30% <0.00%> (ø)` | `7.00% <0.00%> (?%)` | |\n| ... and [425 more](https://codecov.io/gh/apache/hudi/pull/2889/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828165841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828166779","html_url":"https://github.com/apache/hudi/pull/2889#issuecomment-828166779","issue_url":"https://api.github.com/repos/apache/hudi/issues/2889","id":828166779,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODE2Njc3OQ==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T05:57:19Z","updated_at":"2021-04-28T07:30:44Z","author_association":"MEMBER","body":"@vinothchandar integ tests were misconfigured previously. this makes [integ tests passed](https://dev.azure.com/xushiyan/apache-hudi-ci/_build/results?buildId=76&view=logs&j=d5c42908-5572-5ce6-e4a8-5e2053b947e8)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828166779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828184944","html_url":"https://github.com/apache/hudi/pull/2891#issuecomment-828184944","issue_url":"https://api.github.com/repos/apache/hudi/issues/2891","id":828184944,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODE4NDk0NA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T06:33:36Z","updated_at":"2021-04-28T07:17:49Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2891?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#2891](https://codecov.io/gh/apache/hudi/pull/2891?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (08576e3) into [master](https://codecov.io/gh/apache/hudi/commit/386767693d46e7419c4fb0fa292ccb7ab7f7098d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (3867676) will **decrease** coverage by `16.74%`.\n> The diff coverage is `93.47%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2891/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/2891?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2891       +/-   ##\n=============================================\n- Coverage     69.75%   53.00%   -16.75%     \n- Complexity      375     3747     +3372     \n=============================================\n  Files            54      488      +434     \n  Lines          1997    23521    +21524     \n  Branches        236     2502     +2266     \n=============================================\n+ Hits           1393    12468    +11075     \n- Misses          473     9954     +9481     \n- Partials        131     1099      +968     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `39.53% <ø> (?)` | `220.00 <ø> (?)` | |\n| hudiclient | `∅ <ø> (∅)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.38% <ø> (?)` | `1975.00 <ø> (?)` | |\n| hudiflink | `59.66% <93.47%> (?)` | `538.00 <4.00> (?)` | |\n| hudihadoopmr | `33.33% <ø> (?)` | `198.00 <ø> (?)` | |\n| hudisparkdatasource | `73.33% <ø> (?)` | `237.00 <ø> (?)` | |\n| hudisync | `46.39% <ø> (?)` | `142.00 <ø> (?)` | |\n| huditimelineservice | `64.36% <ø> (?)` | `62.00 <ø> (?)` | |\n| hudiutilities | `69.75% <ø> (ø)` | `375.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2891?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...e/hudi/sink/transform/RowDataToHoodieFunction.java](https://codecov.io/gh/apache/hudi/pull/2891/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL3RyYW5zZm9ybS9Sb3dEYXRhVG9Ib29kaWVGdW5jdGlvbi5qYXZh) | `85.71% <89.28%> (ø)` | `8.00 <3.00> (?)` | |\n| [...va/org/apache/hudi/configuration/FlinkOptions.java](https://codecov.io/gh/apache/hudi/pull/2891/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9jb25maWd1cmF0aW9uL0ZsaW5rT3B0aW9ucy5qYXZh) | `90.48% <100.00%> (ø)` | `11.00 <0.00> (?)` | |\n| [...java/org/apache/hudi/sink/StreamWriteFunction.java](https://codecov.io/gh/apache/hudi/pull/2891/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL1N0cmVhbVdyaXRlRnVuY3Rpb24uamF2YQ==) | `77.77% <100.00%> (ø)` | `22.00 <1.00> (?)` | |\n| [...ava/org/apache/hudi/source/StreamReadOperator.java](https://codecov.io/gh/apache/hudi/pull/2891/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zb3VyY2UvU3RyZWFtUmVhZE9wZXJhdG9yLmphdmE=) | `90.66% <100.00%> (ø)` | `15.00 <0.00> (?)` | |\n| [...udi/common/table/timeline/dto/FSPermissionDTO.java](https://codecov.io/gh/apache/hudi/pull/2891/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL2R0by9GU1Blcm1pc3Npb25EVE8uamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| [...org/apache/hudi/common/table/log/InstantRange.java](https://codecov.io/gh/apache/hudi/pull/2891/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9JbnN0YW50UmFuZ2UuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| [...ecution/datasources/Spark3ParsePartitionUtil.scala](https://codecov.io/gh/apache/hudi/pull/2891/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3BhcmszL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvc3Bhcmsvc3FsL2V4ZWN1dGlvbi9kYXRhc291cmNlcy9TcGFyazNQYXJzZVBhcnRpdGlvblV0aWwuc2NhbGE=) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2891/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `79.68% <0.00%> (ø)` | `26.00% <0.00%> (?%)` | |\n| [...apache/hudi/common/engine/HoodieEngineContext.java](https://codecov.io/gh/apache/hudi/pull/2891/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2VuZ2luZS9Ib29kaWVFbmdpbmVDb250ZXh0LmphdmE=) | `66.66% <0.00%> (ø)` | `1.00% <0.00%> (?%)` | |\n| [...g/apache/hudi/sink/partitioner/BucketAssigner.java](https://codecov.io/gh/apache/hudi/pull/2891/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL3BhcnRpdGlvbmVyL0J1Y2tldEFzc2lnbmVyLmphdmE=) | `88.52% <0.00%> (ø)` | `23.00% <0.00%> (?%)` | |\n| ... and [428 more](https://codecov.io/gh/apache/hudi/pull/2891/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828184944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828261491","html_url":"https://github.com/apache/hudi/pull/2868#issuecomment-828261491","issue_url":"https://api.github.com/repos/apache/hudi/issues/2868","id":828261491,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODI2MTQ5MQ==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T08:30:19Z","updated_at":"2021-04-28T08:30:19Z","author_association":"CONTRIBUTOR","body":"Hi, @yanghua can you take a look, thanks ~","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828261491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828296052","html_url":"https://github.com/apache/hudi/pull/2892#issuecomment-828296052","issue_url":"https://api.github.com/repos/apache/hudi/issues/2892","id":828296052,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODI5NjA1Mg==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T09:16:27Z","updated_at":"2021-04-29T10:18:51Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2892?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#2892](https://codecov.io/gh/apache/hudi/pull/2892?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (94ff012) into [master](https://codecov.io/gh/apache/hudi/commit/386767693d46e7419c4fb0fa292ccb7ab7f7098d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (3867676) will **decrease** coverage by `21.83%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2892/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/2892?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2892       +/-   ##\n=============================================\n- Coverage     69.75%   47.91%   -21.84%     \n- Complexity      375     3422     +3047     \n=============================================\n  Files            54      488      +434     \n  Lines          1997    23529    +21532     \n  Branches        236     2501     +2265     \n=============================================\n+ Hits           1393    11274     +9881     \n- Misses          473    11274    +10801     \n- Partials        131      981      +850     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `39.53% <ø> (?)` | `220.00 <ø> (?)` | |\n| hudiclient | `∅ <ø> (∅)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.41% <ø> (?)` | `1976.00 <ø> (?)` | |\n| hudiflink | `59.67% <ø> (?)` | `537.00 <ø> (?)` | |\n| hudihadoopmr | `33.33% <ø> (?)` | `198.00 <ø> (?)` | |\n| hudisparkdatasource | `73.33% <ø> (?)` | `237.00 <ø> (?)` | |\n| hudisync | `46.73% <ø> (?)` | `144.00 <ø> (?)` | |\n| huditimelineservice | `64.36% <ø> (?)` | `62.00 <ø> (?)` | |\n| hudiutilities | `9.36% <ø> (-60.40%)` | `48.00 <ø> (-327.00)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2892?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2892/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2892/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2892/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2892/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2892/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2892/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2892/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2892/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2892/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2892/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [465 more](https://codecov.io/gh/apache/hudi/pull/2892/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828296052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828323317","html_url":"https://github.com/apache/hudi/pull/2868#issuecomment-828323317","issue_url":"https://api.github.com/repos/apache/hudi/issues/2868","id":828323317,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODMyMzMxNw==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T09:55:19Z","updated_at":"2021-04-28T09:55:19Z","author_association":"CONTRIBUTOR","body":"I have two questions:\r\n\r\n1) The lowest Flink version we supported is 1.12.x?\r\n2) Can we provide an e2e demo and documentation to show the usage of the flink streamer via jar-mode, just like delta-streamer, it should be out of the box;\r\n\r\nI tried it, but missed the dependencies of the Kafka connector. Can we make the new flink streamer peer to the delta streamer?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828323317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828336262","html_url":"https://github.com/apache/hudi/pull/2868#issuecomment-828336262","issue_url":"https://api.github.com/repos/apache/hudi/issues/2868","id":828336262,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODMzNjI2Mg==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T10:14:14Z","updated_at":"2021-04-28T10:15:18Z","author_association":"CONTRIBUTOR","body":"> I have two questions:\r\n> \r\n> 1. The lowest Flink version we supported is 1.12.x?\r\n> 2. Can we provide an e2e demo and documentation to show the usage of the flink streamer via jar-mode, just like delta-streamer, it should be out of the box;\r\n> \r\n> I tried it, but missed the dependencies of the Kafka connector. Can we make the new flink streamer peer to the delta streamer?\r\n\r\nYes, people would only use flink 1.12.x code, the code to remove is not because of flink version, it's because the logic is totally redundant. Remove to avoid cofusion, because i found some people use the legacy code with poor performace.\r\n\r\nI still think we should not include a kafka connector into the delta streamer, on one complains the missing of it, based on the users i see.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828336262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828363941","html_url":"https://github.com/apache/hudi/issues/2887#issuecomment-828363941","issue_url":"https://api.github.com/repos/apache/hudi/issues/2887","id":828363941,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODM2Mzk0MQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T11:02:13Z","updated_at":"2021-04-28T11:02:13Z","author_association":"CONTRIBUTOR","body":"while you update the ticket w/ more info, curious to know if you had set partition path to empty intentionally?\r\n```\r\n.option(DataSourceWriteOptions.PARTITIONPATH_FIELD_OPT_KEY(), StringUtils.EMPTY)\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828363941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828408491","html_url":"https://github.com/apache/hudi/pull/2868#issuecomment-828408491","issue_url":"https://api.github.com/repos/apache/hudi/issues/2868","id":828408491,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODQwODQ5MQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T12:20:20Z","updated_at":"2021-04-28T12:20:20Z","author_association":"CONTRIBUTOR","body":"> > I have two questions:\r\n> > \r\n> > 1. The lowest Flink version we supported is 1.12.x?\r\n> > 2. Can we provide an e2e demo and documentation to show the usage of the flink streamer via jar-mode, just like delta-streamer, it should be out of the box;\r\n> > \r\n> > I tried it, but missed the dependencies of the Kafka connector. Can we make the new flink streamer peer to the delta streamer?\r\n> \r\n> Yes, people would only use flink 1.12.x code, the code to remove is not because of flink version, it's because the logic is totally redundant. Remove to avoid cofusion, because i found some people use the legacy code with poor performance.\r\n\r\nAlthough I know that many users are currently testing based on 1.12, the threshold we set for many users of older versions is very high. Pray that they are willing to upgrade the Flink version in order to use hudi. In fact, I personally think that the biggest improvement of the new implementation lies in the bucket assigner. As for other points, we could have found a solution (although it does not seem very elegant). Well, I don't have to worry about the Flink version anymore, and I don't have time to pay attention to the old implementation.\r\n\r\n> I still think we should not include a kafka connector into the delta streamer, on one complains the missing of it, based on the users i see.\r\n\r\nI still insist that we need to include kafka-related dependencies. If you look back at the HoodieFlinkStreamerV2 class. What is it in essence? It is just a program written using Flink DataStream API, which is specific (Kafka -> Hudi), not plug-in-oriented or abstract-oriented. For a specific Flink program, we should provide users with an Uber(fat) Jar. Instead of letting users pay attention to details and pay additional costs. Otherwise, why don't we make the source universal?\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828408491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828420402","html_url":"https://github.com/apache/hudi/pull/2868#issuecomment-828420402","issue_url":"https://api.github.com/repos/apache/hudi/issues/2868","id":828420402,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODQyMDQwMg==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T12:38:01Z","updated_at":"2021-04-28T12:38:01Z","author_association":"CONTRIBUTOR","body":"> I still insist that we need to include kafka-related dependencies. If you look back at the HoodieFlinkStreamerV2 class. What is it in essence? It is just a program written using Flink DataStream API, which is specific (Kafka -> Hudi)\r\n\r\nNo, on one says that they don't know how to add a connector jar or actually few people use the `HoodieFlinkStreamerV2` tool.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828420402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828560911","html_url":"https://github.com/apache/hudi/pull/2784#issuecomment-828560911","issue_url":"https://api.github.com/repos/apache/hudi/issues/2784","id":828560911,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODU2MDkxMQ==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T15:42:24Z","updated_at":"2021-04-28T15:42:24Z","author_association":"MEMBER","body":"> I will take a pass on this and land!\r\n\r\n@vinothchandar could you please review this since its been waiting for some time?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828560911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828792354","html_url":"https://github.com/apache/hudi/pull/2833#issuecomment-828792354","issue_url":"https://api.github.com/repos/apache/hudi/issues/2833","id":828792354,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODc5MjM1NA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T21:29:21Z","updated_at":"2021-06-08T02:03:41Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2833?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#2833](https://codecov.io/gh/apache/hudi/pull/2833?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (276bb3d) into [master](https://codecov.io/gh/apache/hudi/commit/919590988a4db1b73a67188d8b1b0d971f8b766d?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (9195909) will **increase** coverage by `0.25%`.\n> The diff coverage is `62.34%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2833/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/2833?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2833      +/-   ##\n============================================\n+ Coverage     55.38%   55.63%   +0.25%     \n- Complexity     3881     3917      +36     \n============================================\n  Files           488      489       +1     \n  Lines         23634    23880     +246     \n  Branches       2530     2499      -31     \n============================================\n+ Hits          13089    13285     +196     \n- Misses         9376     9447      +71     \n+ Partials       1169     1148      -21     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| hudicli | `40.00% <37.50%> (+0.05%)` | :arrow_up: |\n| hudiclient | `∅ <ø> (∅)` | |\n| hudicommon | `51.07% <61.77%> (+0.79%)` | :arrow_up: |\n| hudiflink | `63.25% <100.00%> (ø)` | |\n| hudihadoopmr | `51.43% <100.00%> (ø)` | |\n| hudisparkdatasource | `74.38% <78.84%> (+0.07%)` | :arrow_up: |\n| hudisync | `51.32% <84.61%> (ø)` | |\n| huditimelineservice | `64.07% <0.00%> (-0.29%)` | :arrow_down: |\n| hudiutilities | `69.85% <25.39%> (-0.98%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2833?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...n/java/org/apache/hudi/cli/commands/SparkMain.java](https://codecov.io/gh/apache/hudi/pull/2833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL2NvbW1hbmRzL1NwYXJrTWFpbi5qYXZh) | `6.06% <0.00%> (ø)` | |\n| [.../main/scala/org/apache/hudi/cli/SparkHelpers.scala](https://codecov.io/gh/apache/hudi/pull/2833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGkvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL2NsaS9TcGFya0hlbHBlcnMuc2NhbGE=) | `0.00% <0.00%> (ø)` | |\n| [...pache/hudi/common/config/HoodieMetadataConfig.java](https://codecov.io/gh/apache/hudi/pull/2833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2NvbmZpZy9Ib29kaWVNZXRhZGF0YUNvbmZpZy5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...g/apache/hudi/common/config/LockConfiguration.java](https://codecov.io/gh/apache/hudi/pull/2833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2NvbmZpZy9Mb2NrQ29uZmlndXJhdGlvbi5qYXZh) | `0.00% <ø> (ø)` | |\n| [...g/apache/hudi/common/model/HoodiePayloadProps.java](https://codecov.io/gh/apache/hudi/pull/2833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZVBheWxvYWRQcm9wcy5qYXZh) | `0.00% <ø> (ø)` | |\n| [...he/hudi/metadata/HoodieMetadataFileSystemView.java](https://codecov.io/gh/apache/hudi/pull/2833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllTWV0YWRhdGFGaWxlU3lzdGVtVmlldy5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...n/java/org/apache/hudi/internal/DefaultSource.java](https://codecov.io/gh/apache/hudi/pull/2833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3BhcmsyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2ludGVybmFsL0RlZmF1bHRTb3VyY2UuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...org/apache/hudi/spark3/internal/DefaultSource.java](https://codecov.io/gh/apache/hudi/pull/2833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3BhcmszL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3NwYXJrMy9pbnRlcm5hbC9EZWZhdWx0U291cmNlLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../apache/hudi/timeline/service/TimelineService.java](https://codecov.io/gh/apache/hudi/pull/2833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS10aW1lbGluZS1zZXJ2aWNlL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3RpbWVsaW5lL3NlcnZpY2UvVGltZWxpbmVTZXJ2aWNlLmphdmE=) | `24.74% <0.00%> (-0.53%)` | :arrow_down: |\n| [...callback/kafka/HoodieWriteCommitKafkaCallback.java](https://codecov.io/gh/apache/hudi/pull/2833/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2NhbGxiYWNrL2thZmthL0hvb2RpZVdyaXRlQ29tbWl0S2Fma2FDYWxsYmFjay5qYXZh) | `0.00% <0.00%> (ø)` | |\n| ... and [36 more](https://codecov.io/gh/apache/hudi/pull/2833/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828792354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828828874","html_url":"https://github.com/apache/hudi/issues/1679#issuecomment-828828874","issue_url":"https://api.github.com/repos/apache/hudi/issues/1679","id":828828874,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODgyODg3NA==","user":{"login":"diogodilcl","id":16240158,"node_id":"MDQ6VXNlcjE2MjQwMTU4","avatar_url":"https://avatars.githubusercontent.com/u/16240158?v=4","gravatar_id":"","url":"https://api.github.com/users/diogodilcl","html_url":"https://github.com/diogodilcl","followers_url":"https://api.github.com/users/diogodilcl/followers","following_url":"https://api.github.com/users/diogodilcl/following{/other_user}","gists_url":"https://api.github.com/users/diogodilcl/gists{/gist_id}","starred_url":"https://api.github.com/users/diogodilcl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/diogodilcl/subscriptions","organizations_url":"https://api.github.com/users/diogodilcl/orgs","repos_url":"https://api.github.com/users/diogodilcl/repos","events_url":"https://api.github.com/users/diogodilcl/events{/privacy}","received_events_url":"https://api.github.com/users/diogodilcl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T22:43:28Z","updated_at":"2021-04-28T22:43:28Z","author_association":"NONE","body":"Hudi  version: 0.7.0\r\nEmr : 6.2\r\n\r\nHi,\r\n\r\nwhen I use:\r\n\r\n`\"hoodie.datasource.hive_sync.use_jdbc\":\"false\"`\r\n\r\nI have the following exception:\r\n\r\n```\r\n21/04/28 22:19:49 ERROR HiveSyncTool: Got runtime exception when hive syncing\r\norg.apache.hudi.hive.HoodieHiveSyncException: Failed in executing SQL\r\n\tat org.apache.hudi.hive.HoodieHiveClient.updateHiveSQLs(HoodieHiveClient.java:406)\r\n\tat org.apache.hudi.hive.HoodieHiveClient.updateHiveSQLUsingHiveDriver(HoodieHiveClient.java:384)\r\n\tat org.apache.hudi.hive.HoodieHiveClient.updateHiveSQL(HoodieHiveClient.java:374)\r\n\tat org.apache.hudi.hive.HoodieHiveClient.createTable(HoodieHiveClient.java:263)\r\n\tat org.apache.hudi.hive.HiveSyncTool.syncSchema(HiveSyncTool.java:181)\r\n\tat org.apache.hudi.hive.HiveSyncTool.syncHoodieTable(HiveSyncTool.java:136)\r\n\tat org.apache.hudi.hive.HiveSyncTool.syncHoodieTable(HiveSyncTool.java:94)\r\n\tat org.apache.hudi.HoodieSparkSqlWriter$.syncHive(HoodieSparkSqlWriter.scala:355)\r\n\tat org.apache.hudi.HoodieSparkSqlWriter$.$anonfun$metaSync$4(HoodieSparkSqlWriter.scala:403)\r\n\tat org.apache.hudi.HoodieSparkSqlWriter$.$anonfun$metaSync$4$adapted(HoodieSparkSqlWriter.scala:399)\r\n\tat scala.collection.mutable.HashSet.foreach(HashSet.scala:79)\r\n\tat org.apache.hudi.HoodieSparkSqlWriter$.metaSync(HoodieSparkSqlWriter.scala:399)\r\n\tat org.apache.hudi.HoodieSparkSqlWriter$.commitAndPerformPostOperations(HoodieSparkSqlWriter.scala:460)\r\n\tat org.apache.hudi.HoodieSparkSqlWriter$.write(HoodieSparkSqlWriter.scala:218)\r\n\tat org.apache.hudi.DefaultSource.createRelation(DefaultSource.scala:134)\r\n\tat org.apache.spark.sql.execution.datasources.SaveIntoDataSourceCommand.run(SaveIntoDataSourceCommand.scala:46)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:70)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:68)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.doExecute(commands.scala:90)\r\n\tat org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:180)\r\n\tat org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:218)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:215)\r\n\tat org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:176)\r\n\tat org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:124)\r\n\tat org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:123)\r\n\tat org.apache.spark.sql.DataFrameWriter.$anonfun$runCommand$1(DataFrameWriter.scala:963)\r\n\tat org.apache.spark.sql.catalyst.QueryPlanningTracker$.withTracker(QueryPlanningTracker.scala:104)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withTracker(SQLExecution.scala:227)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.executeQuery$1(SQLExecution.scala:107)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$6(SQLExecution.scala:132)\r\n\tat org.apache.spark.sql.catalyst.QueryPlanningTracker$.withTracker(QueryPlanningTracker.scala:104)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withTracker(SQLExecution.scala:227)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:132)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:248)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:131)\r\n\tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:764)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:68)\r\n\tat org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:963)\r\n\tat org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:415)\r\n\tat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:399)\r\n\tat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:288)\r\n\tat sun.reflect.GeneratedMethodAccessor222.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\r\n\tat py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\n\tat py4j.Gateway.invoke(Gateway.java:282)\r\n\tat py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n\tat py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n\tat py4j.GatewayConnection.run(GatewayConnection.java:238)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.RuntimeException: Socket Factory class not found: java.lang.ClassNotFoundException: Class testingforemptydefaultvalue not found\r\n\tat org.apache.hadoop.net.NetUtils.getSocketFactoryFromProperty(NetUtils.java:143)\r\n\tat org.apache.hadoop.net.NetUtils.getSocketFactory(NetUtils.java:98)\r\n\tat org.apache.hadoop.hdfs.DFSClient.<init>(DFSClient.java:309)\r\n\tat org.apache.hadoop.hdfs.DFSClient.<init>(DFSClient.java:290)\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem.initialize(DistributedFileSystem.java:171)\r\n\tat org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:3358)\r\n\tat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:483)\r\n\tat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:234)\r\n\tat org.apache.hadoop.hive.ql.session.SessionState.start(SessionState.java:583)\r\n\tat org.apache.hadoop.hive.ql.session.SessionState.start(SessionState.java:548)\r\n\tat org.apache.hadoop.hive.ql.session.SessionState.start(SessionState.java:528)\r\n\tat org.apache.hudi.hive.HoodieHiveClient.updateHiveSQLs(HoodieHiveClient.java:394)\r\n\t... 51 more\r\n\r\n```\r\nExisting tables are updated, but for tables that need to be created I get the exception above.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828828874/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828848333","html_url":"https://github.com/apache/hudi/pull/2893#issuecomment-828848333","issue_url":"https://api.github.com/repos/apache/hudi/issues/2893","id":828848333,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODg0ODMzMw==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-28T23:38:46Z","updated_at":"2021-06-19T02:03:54Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2893?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#2893](https://codecov.io/gh/apache/hudi/pull/2893?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (8dddccd) into [master](https://codecov.io/gh/apache/hudi/commit/b9e28e5292d9b2a4b665c26eeba660437a6a0a45?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (b9e28e5) will **increase** coverage by `0.04%`.\n> The diff coverage is `62.50%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2893/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/2893?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2893      +/-   ##\n============================================\n+ Coverage     45.79%   45.84%   +0.04%     \n- Complexity     5270     5274       +4     \n============================================\n  Files           909      908       -1     \n  Lines         39390    39400      +10     \n  Branches       4244     4253       +9     \n============================================\n+ Hits          18039    18063      +24     \n+ Misses        19508    19480      -28     \n- Partials       1843     1857      +14     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| hudicli | `39.95% <ø> (ø)` | |\n| hudiclient | `30.44% <ø> (+0.05%)` | :arrow_up: |\n| hudicommon | `47.57% <25.00%> (-0.01%)` | :arrow_down: |\n| hudiflink | `61.33% <ø> (+0.48%)` | :arrow_up: |\n| hudihadoopmr | `51.29% <ø> (ø)` | |\n| hudisparkdatasource | `66.44% <71.87%> (-0.09%)` | :arrow_down: |\n| hudisync | `51.73% <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | |\n| hudiutilities | `56.24% <ø> (-0.40%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2893?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...c/main/java/org/apache/hudi/common/fs/FSUtils.java](https://codecov.io/gh/apache/hudi/pull/2893/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL0ZTVXRpbHMuamF2YQ==) | `47.08% <0.00%> (ø)` | |\n| [...va/org/apache/hudi/metadata/BaseTableMetadata.java](https://codecov.io/gh/apache/hudi/pull/2893/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvQmFzZVRhYmxlTWV0YWRhdGEuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [.../org/apache/hudi/metadata/HoodieTableMetadata.java](https://codecov.io/gh/apache/hudi/pull/2893/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllVGFibGVNZXRhZGF0YS5qYXZh) | `0.00% <ø> (ø)` | |\n| [...c/main/scala/org/apache/hudi/HoodieFileIndex.scala](https://codecov.io/gh/apache/hudi/pull/2893/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0hvb2RpZUZpbGVJbmRleC5zY2FsYQ==) | `76.16% <67.79%> (-4.97%)` | :arrow_down: |\n| [...e/hudi/metadata/FileSystemBackedTableMetadata.java](https://codecov.io/gh/apache/hudi/pull/2893/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvRmlsZVN5c3RlbUJhY2tlZFRhYmxlTWV0YWRhdGEuamF2YQ==) | `89.13% <75.00%> (-2.98%)` | :arrow_down: |\n| [.../org/apache/hudi/MergeOnReadSnapshotRelation.scala](https://codecov.io/gh/apache/hudi/pull/2893/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL01lcmdlT25SZWFkU25hcHNob3RSZWxhdGlvbi5zY2FsYQ==) | `86.40% <78.37%> (-0.99%)` | :arrow_down: |\n| [...a/org/apache/hudi/utilities/sources/SqlSource.java](https://codecov.io/gh/apache/hudi/pull/2893/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvU3FsU291cmNlLmphdmE=) | `0.00% <0.00%> (-64.71%)` | :arrow_down: |\n| [.../org/apache/hudi/sink/compact/CompactFunction.java](https://codecov.io/gh/apache/hudi/pull/2893/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL2NvbXBhY3QvQ29tcGFjdEZ1bmN0aW9uLmphdmE=) | `86.66% <0.00%> (-13.34%)` | :arrow_down: |\n| [...c/main/java/org/apache/hudi/util/StreamerUtil.java](https://codecov.io/gh/apache/hudi/pull/2893/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS91dGlsL1N0cmVhbWVyVXRpbC5qYXZh) | `55.46% <0.00%> (-0.95%)` | :arrow_down: |\n| ... and [12 more](https://codecov.io/gh/apache/hudi/pull/2893/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/hudi/pull/2893?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/hudi/pull/2893?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [b9e28e5...8dddccd](https://codecov.io/gh/apache/hudi/pull/2893?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828848333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828888958","html_url":"https://github.com/apache/hudi/pull/2645#issuecomment-828888958","issue_url":"https://api.github.com/repos/apache/hudi/issues/2645","id":828888958,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODg4ODk1OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-29T01:47:32Z","updated_at":"2021-04-29T01:47:32Z","author_association":"MEMBER","body":"@pengzhiwei2018 could we make the spark-shell experience better? I think we need the extensions added by default when the jar is pulled in?\r\n\r\n```Scala \r\n$ spark-shell --jars $HUDI_SPARK_BUNDLE --conf 'spark.serializer=org.apache.spark.serializer.KryoSerializer'\r\n\r\nscala> spark.sql(\"create table t1 (id int, name string, price double, ts long) using hudi options(primaryKey= 'id', preCombineField = 'ts')\").show \r\nt, returning NoSuchObjectException\r\norg.apache.hudi.exception.HoodieException: 'path' or 'hoodie.datasource.read.paths' or both must be specified.\r\n  at org.apache.hudi.DefaultSource.createRelation(DefaultSource.scala:77)\r\n  at org.apache.spark.sql.execution.datasources.DataSource.resolveRelation(DataSource.scala:337)\r\n  at org.apache.spark.sql.execution.command.CreateDataSourceTableCommand.run(createDataSourceTables.scala:78)\r\n  at org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:70)\r\n  at org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:68)\r\n  at org.apache.spark.sql.execution.command.ExecutedCommandExec.executeCollect(commands.scala:79)\r\n  at org.apache.spark.sql.Dataset.$anonfun$logicalPlan$1(Dataset.scala:229)\r\n  at org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3616)\r\n  at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:100)\r\n  at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:160)\r\n  at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:87)\r\n  at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:763)\r\n  at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\r\n  at org.apache.spark.sql.Dataset.withAction(Dataset.scala:3614)\r\n  at org.apache.spark.sql.Dataset.<init>(Dataset.scala:229)\r\n  at org.apache.spark.sql.Dataset$.$anonfun$ofRows$2(Dataset.scala:100)\r\n  at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:763)\r\n  at org.apache.spark.sql.Dataset$.ofRows(Dataset.scala:97)\r\n  at org.apache.spark.sql.SparkSession.$anonfun$sql$1(SparkSession.scala:606)\r\n  at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:763)\r\n  at org.apache.spark.sql.SparkSession.sql(SparkSession.scala:601)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828888958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828893245","html_url":"https://github.com/apache/hudi/pull/2645#issuecomment-828893245","issue_url":"https://api.github.com/repos/apache/hudi/issues/2645","id":828893245,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODg5MzI0NQ==","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-29T02:02:45Z","updated_at":"2021-04-29T02:08:09Z","author_association":"NONE","body":"> @pengzhiwei2018 could we make the spark-shell experience better? I think we need the extensions added by default when the jar is pulled in?\r\n> \r\n> ```scala\r\n> $ spark-shell --jars $HUDI_SPARK_BUNDLE --conf 'spark.serializer=org.apache.spark.serializer.KryoSerializer'\r\n> \r\n> scala> spark.sql(\"create table t1 (id int, name string, price double, ts long) using hudi options(primaryKey= 'id', preCombineField = 'ts')\").show \r\n> t, returning NoSuchObjectException\r\n> org.apache.hudi.exception.HoodieException: 'path' or 'hoodie.datasource.read.paths' or both must be specified.\r\n>   at org.apache.hudi.DefaultSource.createRelation(DefaultSource.scala:77)\r\n>   at org.apache.spark.sql.execution.datasources.DataSource.resolveRelation(DataSource.scala:337)\r\n>   at org.apache.spark.sql.execution.command.CreateDataSourceTableCommand.run(createDataSourceTables.scala:78)\r\n>   at org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:70)\r\n>   at org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:68)\r\n>   at org.apache.spark.sql.execution.command.ExecutedCommandExec.executeCollect(commands.scala:79)\r\n>   at org.apache.spark.sql.Dataset.$anonfun$logicalPlan$1(Dataset.scala:229)\r\n>   at org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3616)\r\n>   at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:100)\r\n>   at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:160)\r\n>   at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:87)\r\n>   at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:763)\r\n>   at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\r\n>   at org.apache.spark.sql.Dataset.withAction(Dataset.scala:3614)\r\n>   at org.apache.spark.sql.Dataset.<init>(Dataset.scala:229)\r\n>   at org.apache.spark.sql.Dataset$.$anonfun$ofRows$2(Dataset.scala:100)\r\n>   at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:763)\r\n>   at org.apache.spark.sql.Dataset$.ofRows(Dataset.scala:97)\r\n>   at org.apache.spark.sql.SparkSession.$anonfun$sql$1(SparkSession.scala:606)\r\n>   at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:763)\r\n>   at org.apache.spark.sql.SparkSession.sql(SparkSession.scala:601)\r\n> ```\r\n\r\nHi @vinothchandar , you can test this by the following command\r\n\r\n- Using spark-sql\r\n\r\n> spark-sql --jars $HUDI_SPARK_BUNDLE \\\\\r\n--conf 'spark.serializer=org.apache.spark.serializer.KryoSerializer'  \\\\\r\n--conf 'spark.sql.extensions=org.apache.spark.sql.hudi.HoodieSparkSessionExtension'\r\n\r\n- Using spark-shell\r\n\r\n> spark-shell --jars $HUDI_SPARK_BUNDLE \\\\\r\n--conf 'spark.serializer=org.apache.spark.serializer.KryoSerializer'  \\\\\r\n--conf 'spark.sql.extensions=org.apache.spark.sql.hudi.HoodieSparkSessionExtension'\r\n\r\n\r\njust set the `spark.sql.extensions` to `org.apache.spark.sql.hudi.HoodieSparkSessionExtension`.\r\nIMO This conf is just like the `spark.serializer` which should be specified when create `SparkSession`. So It is hard to auto set this when install the hudi jar.\r\nThanks~\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828893245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828895522","html_url":"https://github.com/apache/hudi/pull/2894#issuecomment-828895522","issue_url":"https://api.github.com/repos/apache/hudi/issues/2894","id":828895522,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODg5NTUyMg==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-29T02:10:29Z","updated_at":"2021-04-29T02:54:20Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2894?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#2894](https://codecov.io/gh/apache/hudi/pull/2894?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (b91aef6) into [master](https://codecov.io/gh/apache/hudi/commit/3ca90302562580a7c5c69fd3f11ab376cfac1f0b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (3ca9030) will **decrease** coverage by `16.74%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2894/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/2894?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2894       +/-   ##\n=============================================\n- Coverage     69.75%   53.00%   -16.75%     \n- Complexity      375     3745     +3370     \n=============================================\n  Files            54      488      +434     \n  Lines          1997    23527    +21530     \n  Branches        236     2501     +2265     \n=============================================\n+ Hits           1393    12471    +11078     \n- Misses          473     9956     +9483     \n- Partials        131     1100      +969     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `39.53% <ø> (?)` | `220.00 <ø> (?)` | |\n| hudiclient | `∅ <ø> (∅)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.38% <ø> (?)` | `1975.00 <ø> (?)` | |\n| hudiflink | `59.67% <ø> (?)` | `537.00 <ø> (?)` | |\n| hudihadoopmr | `33.33% <ø> (?)` | `198.00 <ø> (?)` | |\n| hudisparkdatasource | `73.33% <ø> (?)` | `237.00 <ø> (?)` | |\n| hudisync | `46.39% <ø> (?)` | `142.00 <ø> (?)` | |\n| huditimelineservice | `64.36% <ø> (?)` | `62.00 <ø> (?)` | |\n| hudiutilities | `69.70% <ø> (-0.06%)` | `374.00 <ø> (-1.00)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2894?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/2894/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `71.08% <0.00%> (-0.35%)` | `55.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/io/storage/HoodieHFileReader.java](https://codecov.io/gh/apache/hudi/pull/2894/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW8vc3RvcmFnZS9Ib29kaWVIRmlsZVJlYWRlci5qYXZh) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| [...org/apache/hudi/common/table/log/AppendResult.java](https://codecov.io/gh/apache/hudi/pull/2894/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9BcHBlbmRSZXN1bHQuamF2YQ==) | `100.00% <0.00%> (ø)` | `4.00% <0.00%> (?%)` | |\n| [...mmon/table/log/AbstractHoodieLogRecordScanner.java](https://codecov.io/gh/apache/hudi/pull/2894/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9BYnN0cmFjdEhvb2RpZUxvZ1JlY29yZFNjYW5uZXIuamF2YQ==) | `80.00% <0.00%> (ø)` | `34.00% <0.00%> (?%)` | |\n| [.../common/util/queue/IteratorBasedQueueProducer.java](https://codecov.io/gh/apache/hudi/pull/2894/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvcXVldWUvSXRlcmF0b3JCYXNlZFF1ZXVlUHJvZHVjZXIuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| [.../hadoop/realtime/RealtimeUnmergedRecordReader.java](https://codecov.io/gh/apache/hudi/pull/2894/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL3JlYWx0aW1lL1JlYWx0aW1lVW5tZXJnZWRSZWNvcmRSZWFkZXIuamF2YQ==) | `97.56% <0.00%> (ø)` | `11.00% <0.00%> (?%)` | |\n| [...e/hudi/common/model/HoodieRollingStatMetadata.java](https://codecov.io/gh/apache/hudi/pull/2894/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZVJvbGxpbmdTdGF0TWV0YWRhdGEuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| [...org/apache/hudi/common/config/TypedProperties.java](https://codecov.io/gh/apache/hudi/pull/2894/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2NvbmZpZy9UeXBlZFByb3BlcnRpZXMuamF2YQ==) | `89.65% <0.00%> (ø)` | `21.00% <0.00%> (?%)` | |\n| [.../spark/sql/hudi/streaming/HoodieStreamSource.scala](https://codecov.io/gh/apache/hudi/pull/2894/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9zcGFyay9zcWwvaHVkaS9zdHJlYW1pbmcvSG9vZGllU3RyZWFtU291cmNlLnNjYWxh) | `68.67% <0.00%> (ø)` | `21.00% <0.00%> (?%)` | |\n| [...g/apache/hudi/common/model/HoodiePayloadProps.java](https://codecov.io/gh/apache/hudi/pull/2894/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZVBheWxvYWRQcm9wcy5qYXZh) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| ... and [425 more](https://codecov.io/gh/apache/hudi/pull/2894/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828895522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828903309","html_url":"https://github.com/apache/hudi/pull/2868#issuecomment-828903309","issue_url":"https://api.github.com/repos/apache/hudi/issues/2868","id":828903309,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODkwMzMwOQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-29T02:38:22Z","updated_at":"2021-04-29T02:38:22Z","author_association":"CONTRIBUTOR","body":"> > I still insist that we need to include kafka-related dependencies. If you look back at the HoodieFlinkStreamerV2 class. What is it in essence? It is just a program written using Flink DataStream API, which is specific (Kafka -> Hudi)\r\n> \r\n> No, on one says that they don't know how to add a connector jar or actually few people use the `HoodieFlinkStreamerV2` tool.\r\n\r\n\"one says that they don't know how to add a connector jar\" -> I recommend we package it into the bundle for users. It's not that users won't, but users should not or may not need to perceive these things. This is a question of user experience.\r\n\r\nAccording to your logic, what reason do you think users will not use FlinkWriteClient directly? Why should we guide users to use Flink SQL? Can't users write the FlinkStreamer class by themselves?\r\n\r\nAll of this is to shield users from details as much as possible, let the framework provide out-of-the-box capabilities as much as possible, and provide a good experience as much as possible? Is not it?\r\n\r\n\"actually few people use the `HoodieFlinkStreamerV2` tool\" -> Actually, there still few users use the flink write client, because it is still not production-ready for 0.8, you know. IMO, we do not get enough samples about your result.\r\n\r\nI have never understood why we cannot include the kafka connector to provide convenience to some users who do not use SQL. And it should provide a consistent experience with DeltaStreamer based on Spark. Otherwise, don't call \"FlinkStreamerXXX\".","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828903309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828909873","html_url":"https://github.com/apache/hudi/pull/2892#issuecomment-828909873","issue_url":"https://api.github.com/repos/apache/hudi/issues/2892","id":828909873,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODkwOTg3Mw==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-29T03:04:38Z","updated_at":"2021-04-29T03:04:38Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Can you join in and review this PR? The change is out of my range.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828909873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828914347","html_url":"https://github.com/apache/hudi/pull/2833#issuecomment-828914347","issue_url":"https://api.github.com/repos/apache/hudi/issues/2833","id":828914347,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODkxNDM0Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-29T03:20:45Z","updated_at":"2021-04-29T03:20:45Z","author_association":"MEMBER","body":"@zhedoubushishi please ping me when this is ready to go and we got all the configs covered.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828914347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828941274","html_url":"https://github.com/apache/hudi/pull/2868#issuecomment-828941274","issue_url":"https://api.github.com/repos/apache/hudi/issues/2868","id":828941274,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODk0MTI3NA==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-29T05:04:43Z","updated_at":"2021-04-29T05:04:43Z","author_association":"CONTRIBUTOR","body":"Fine, let's keep them for a time.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828941274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828943047","html_url":"https://github.com/apache/hudi/pull/2895#issuecomment-828943047","issue_url":"https://api.github.com/repos/apache/hudi/issues/2895","id":828943047,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODk0MzA0Nw==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-29T05:10:09Z","updated_at":"2024-11-16T23:52:19Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/hudi/pull/2895?dropdown=coverage&src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\nAttention: Patch coverage is `10.20408%` with `44 lines` in your changes missing coverage. Please review.\n> Project coverage is 52.93%. Comparing base [(`c9bcb5e`)](https://app.codecov.io/gh/apache/hudi/commit/c9bcb5e33f7f9f97af0e8429a88d95f58ee48f13?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) to head [(`add9357`)](https://app.codecov.io/gh/apache/hudi/commit/add93576d31ddfd5a03672b176da82b68f72cfc4?dropdown=coverage&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache).\n> Report is 4340 commits behind head on master.\n\n| [Files with missing lines](https://app.codecov.io/gh/apache/hudi/pull/2895?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Patch % | Lines |\n|---|---|---|\n| [.../hudi/table/format/mor/MergeOnReadInputFormat.java](https://app.codecov.io/gh/apache/hudi/pull/2895?src=pr&el=tree&filepath=hudi-flink%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fhudi%2Ftable%2Fformat%2Fmor%2FMergeOnReadInputFormat.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9mb3JtYXQvbW9yL01lcmdlT25SZWFkSW5wdXRGb3JtYXQuamF2YQ==) | 3.33% | [27 Missing and 2 partials :warning: ](https://app.codecov.io/gh/apache/hudi/pull/2895?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [.../java/org/apache/hudi/table/HoodieTableSource.java](https://app.codecov.io/gh/apache/hudi/pull/2895?src=pr&el=tree&filepath=hudi-flink%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fhudi%2Ftable%2FHoodieTableSource.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9Ib29kaWVUYWJsZVNvdXJjZS5qYXZh) | 0.00% | [13 Missing and 1 partial :warning: ](https://app.codecov.io/gh/apache/hudi/pull/2895?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n| [...ache/hudi/source/StreamReadMonitoringFunction.java](https://app.codecov.io/gh/apache/hudi/pull/2895?src=pr&el=tree&filepath=hudi-flink%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fhudi%2Fsource%2FStreamReadMonitoringFunction.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zb3VyY2UvU3RyZWFtUmVhZE1vbml0b3JpbmdGdW5jdGlvbi5qYXZh) | 80.00% | [0 Missing and 1 partial :warning: ](https://app.codecov.io/gh/apache/hudi/pull/2895?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) |\n\n<details><summary>Additional details and impacted files</summary>\n\n\n[![Impacted file tree graph](https://app.codecov.io/gh/apache/hudi/pull/2895/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)](https://app.codecov.io/gh/apache/hudi/pull/2895?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2895      +/-   ##\n============================================\n+ Coverage     47.90%   52.93%   +5.03%     \n- Complexity     3421     3748     +327     \n============================================\n  Files           488      488              \n  Lines         23529    23572      +43     \n  Branches       2501     2507       +6     \n============================================\n+ Hits          11271    12479    +1208     \n+ Misses        11277     9991    -1286     \n- Partials        981     1102     +121     \n```\n\n| [Flag](https://app.codecov.io/gh/apache/hudi/pull/2895/flags?src=pr&el=flags&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [hudicli](https://app.codecov.io/gh/apache/hudi/pull/2895/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `39.53% <ø> (ø)` | |\n| [hudiclient](https://app.codecov.io/gh/apache/hudi/pull/2895/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `∅ <ø> (∅)` | |\n| [hudicommon](https://app.codecov.io/gh/apache/hudi/pull/2895/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `50.38% <ø> (ø)` | |\n| [hudiflink](https://app.codecov.io/gh/apache/hudi/pull/2895/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `59.04% <10.20%> (-0.63%)` | :arrow_down: |\n| [hudihadoopmr](https://app.codecov.io/gh/apache/hudi/pull/2895/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `33.33% <ø> (ø)` | |\n| [hudisparkdatasource](https://app.codecov.io/gh/apache/hudi/pull/2895/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `73.33% <ø> (ø)` | |\n| [hudisync](https://app.codecov.io/gh/apache/hudi/pull/2895/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `46.73% <ø> (ø)` | |\n| [huditimelineservice](https://app.codecov.io/gh/apache/hudi/pull/2895/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `64.36% <ø> (ø)` | |\n| [hudiutilities](https://app.codecov.io/gh/apache/hudi/pull/2895/flags?src=pr&el=flag&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | `69.75% <ø> (+60.39%)` | :arrow_up: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Files with missing lines](https://app.codecov.io/gh/apache/hudi/pull/2895?dropdown=coverage&src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...ache/hudi/source/StreamReadMonitoringFunction.java](https://app.codecov.io/gh/apache/hudi/pull/2895?src=pr&el=tree&filepath=hudi-flink%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fhudi%2Fsource%2FStreamReadMonitoringFunction.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zb3VyY2UvU3RyZWFtUmVhZE1vbml0b3JpbmdGdW5jdGlvbi5qYXZh) | `76.22% <80.00%> (-0.04%)` | :arrow_down: |\n| [.../java/org/apache/hudi/table/HoodieTableSource.java](https://app.codecov.io/gh/apache/hudi/pull/2895?src=pr&el=tree&filepath=hudi-flink%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fhudi%2Ftable%2FHoodieTableSource.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9Ib29kaWVUYWJsZVNvdXJjZS5qYXZh) | `59.56% <0.00%> (-3.81%)` | :arrow_down: |\n| [.../hudi/table/format/mor/MergeOnReadInputFormat.java](https://app.codecov.io/gh/apache/hudi/pull/2895?src=pr&el=tree&filepath=hudi-flink%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fhudi%2Ftable%2Fformat%2Fmor%2FMergeOnReadInputFormat.java&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9mb3JtYXQvbW9yL01lcmdlT25SZWFkSW5wdXRGb3JtYXQuamF2YQ==) | `66.10% <3.33%> (-9.38%)` | :arrow_down: |\n\n... and [41 files with indirect coverage changes](https://app.codecov.io/gh/apache/hudi/pull/2895/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828943047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828962709","html_url":"https://github.com/apache/hudi/pull/2868#issuecomment-828962709","issue_url":"https://api.github.com/repos/apache/hudi/issues/2868","id":828962709,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODk2MjcwOQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-29T06:04:00Z","updated_at":"2021-04-29T06:04:00Z","author_association":"CONTRIBUTOR","body":"> Fine, let's keep them for a time.\r\n\r\nI do not object to deleting the legacy code. I just suggest we'd better add the Kafka connector into the bundle. And let it be a completed function. Then, we can delete the legacy code and use the new Flink streamer.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828962709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828971694","html_url":"https://github.com/apache/hudi/pull/2896#issuecomment-828971694","issue_url":"https://api.github.com/repos/apache/hudi/issues/2896","id":828971694,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODk3MTY5NA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-29T06:24:48Z","updated_at":"2021-06-09T22:23:58Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2896?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#2896](https://codecov.io/gh/apache/hudi/pull/2896?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (9ac435c) into [master](https://codecov.io/gh/apache/hudi/commit/afbafe70469c40ae6c23eec59848ca92b2f07fc7?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (afbafe7) will **decrease** coverage by `46.91%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2896/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/2896?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master   #2896       +/-   ##\n============================================\n- Coverage     55.35%   8.43%   -46.92%     \n+ Complexity     4025      62     -3963     \n============================================\n  Files           520      70      -450     \n  Lines         25291    2880    -22411     \n  Branches       2872     359     -2513     \n============================================\n- Hits          13999     243    -13756     \n+ Misses         9905    2616     -7289     \n+ Partials       1387      21     -1366     \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| hudicli | `?` | |\n| hudiclient | `?` | |\n| hudicommon | `?` | |\n| hudiflink | `?` | |\n| hudihadoopmr | `?` | |\n| hudisparkdatasource | `?` | |\n| hudisync | `6.79% <ø> (-44.66%)` | :arrow_down: |\n| huditimelineservice | `?` | |\n| hudiutilities | `9.09% <0.00%> (-61.97%)` | :arrow_down: |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2896?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...a/org/apache/hudi/utilities/sources/SqlSource.java](https://codecov.io/gh/apache/hudi/pull/2896/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvU3FsU291cmNlLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2896/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2896/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2896/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2896/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2896/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2896/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2896/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2896/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2896/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| ... and [498 more](https://codecov.io/gh/apache/hudi/pull/2896/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828971694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828972395","html_url":"https://github.com/apache/hudi/pull/2868#issuecomment-828972395","issue_url":"https://api.github.com/repos/apache/hudi/issues/2868","id":828972395,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODk3MjM5NQ==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-29T06:26:23Z","updated_at":"2021-04-29T06:26:23Z","author_association":"CONTRIBUTOR","body":"> > Fine, let's keep them for a time.\r\n> \r\n> I do not object to deleting the legacy code. I just suggest we'd better add the Kafka connector into the bundle. And let it be a completed function. Then, we can delete the legacy code and use the new Flink streamer.\r\n\r\nI agree the Flink streamer should bundle with a kafka jar, but the hudi-flink-bundle should not include kafka, because many people include the bundle jar in the pom directly, we should keep the jar as small as possible to avoid unnecessary jar conflicts.\r\n\r\nMaybe we should move the streamer out of the hudi-flink module into the hudi-utilities module.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828972395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828975932","html_url":"https://github.com/apache/hudi/pull/2868#issuecomment-828975932","issue_url":"https://api.github.com/repos/apache/hudi/issues/2868","id":828975932,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODk3NTkzMg==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-29T06:34:26Z","updated_at":"2021-04-29T06:34:26Z","author_association":"CONTRIBUTOR","body":"we can split the `hudi-utilities to\r\n```\r\nhudi-utilities\r\n├── hudi-utilities-flink\r\n└── hudi-utilities-spark\r\n```\r\nMove `HoodieFlinkStreamer` to `hudi-utilities-flink` and keep kafka related dependeny to `hudi-utilities-flink-bundle`","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828975932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828976874","html_url":"https://github.com/apache/hudi/pull/2868#issuecomment-828976874","issue_url":"https://api.github.com/repos/apache/hudi/issues/2868","id":828976874,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODk3Njg3NA==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-29T06:36:27Z","updated_at":"2021-04-29T06:36:27Z","author_association":"CONTRIBUTOR","body":"> we can split the `hudi-utilities to\r\n> \r\n> ```\r\n> hudi-utilities\r\n> ├── hudi-utilities-flink\r\n> └── hudi-utilities-spark\r\n> ```\r\n> \r\n> Move `HoodieFlinkStreamer` to `hudi-utilities-flink` and keep kafka related dependeny to `hudi-utilities-flink-bundle`\r\n\r\n+1","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828976874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828977301","html_url":"https://github.com/apache/hudi/pull/2868#issuecomment-828977301","issue_url":"https://api.github.com/repos/apache/hudi/issues/2868","id":828977301,"node_id":"MDEyOklzc3VlQ29tbWVudDgyODk3NzMwMQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-29T06:37:23Z","updated_at":"2021-04-29T06:37:23Z","author_association":"CONTRIBUTOR","body":"> > > Fine, let's keep them for a time.\r\n> > \r\n> > \r\n> > I do not object to deleting the legacy code. I just suggest we'd better add the Kafka connector into the bundle. And let it be a completed function. Then, we can delete the legacy code and use the new Flink streamer.\r\n> \r\n> I agree the Flink streamer should bundle with a kafka jar, but the hudi-flink-bundle should not include kafka, because many people include the bundle jar in the pom directly, we should keep the jar as small as possible to avoid unnecessary jar conflicts.\r\n> \r\n> Maybe we should move the streamer out of the hudi-flink module into the hudi-utilities module.\r\n\r\n+1, it's what I mean.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/828977301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/829033000","html_url":"https://github.com/apache/hudi/pull/2868#issuecomment-829033000","issue_url":"https://api.github.com/repos/apache/hudi/issues/2868","id":829033000,"node_id":"MDEyOklzc3VlQ29tbWVudDgyOTAzMzAwMA==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-29T08:14:40Z","updated_at":"2021-04-29T08:14:40Z","author_association":"CONTRIBUTOR","body":"> > > > Fine, let's keep them for a time.\r\n> > > \r\n> > > \r\n> > > I do not object to deleting the legacy code. I just suggest we'd better add the Kafka connector into the bundle. And let it be a completed function. Then, we can delete the legacy code and use the new Flink streamer.\r\n> > \r\n> > \r\n> > I agree the Flink streamer should bundle with a kafka jar, but the hudi-flink-bundle should not include kafka, because many people include the bundle jar in the pom directly, we should keep the jar as small as possible to avoid unnecessary jar conflicts.\r\n> > Maybe we should move the streamer out of the hudi-flink module into the hudi-utilities module.\r\n> \r\n> +1, it's what I mean.\r\n\r\nThat's cool, we can do the move in another PR and this PR can merge first i think.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/829033000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/829060398","html_url":"https://github.com/apache/hudi/issues/2641#issuecomment-829060398","issue_url":"https://api.github.com/repos/apache/hudi/issues/2641","id":829060398,"node_id":"MDEyOklzc3VlQ29tbWVudDgyOTA2MDM5OA==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-29T08:55:21Z","updated_at":"2021-04-29T08:55:21Z","author_association":"MEMBER","body":"that's right. Avro serialization class becomes private. We need to move those classes into hudi's repo.\r\nCreated a ticket for this https://issues.apache.org/jira/browse/HUDI-1870","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/829060398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/829060692","html_url":"https://github.com/apache/hudi/issues/2641#issuecomment-829060692","issue_url":"https://api.github.com/repos/apache/hudi/issues/2641","id":829060692,"node_id":"MDEyOklzc3VlQ29tbWVudDgyOTA2MDY5Mg==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-29T08:55:46Z","updated_at":"2021-04-29T08:55:46Z","author_association":"MEMBER","body":"Closing this issue and let's track this on Jira. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/829060692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/829065787","html_url":"https://github.com/apache/hudi/pull/2868#issuecomment-829065787","issue_url":"https://api.github.com/repos/apache/hudi/issues/2868","id":829065787,"node_id":"MDEyOklzc3VlQ29tbWVudDgyOTA2NTc4Nw==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-29T09:03:38Z","updated_at":"2021-04-29T09:03:38Z","author_association":"CONTRIBUTOR","body":"> > > > > Fine, let's keep them for a time.\r\n> > > > \r\n> > > > \r\n> > > > I do not object to deleting the legacy code. I just suggest we'd better add the Kafka connector into the bundle. And let it be a completed function. Then, we can delete the legacy code and use the new Flink streamer.\r\n> > > \r\n> > > \r\n> > > I agree the Flink streamer should bundle with a kafka jar, but the hudi-flink-bundle should not include kafka, because many people include the bundle jar in the pom directly, we should keep the jar as small as possible to avoid unnecessary jar conflicts.\r\n> > > Maybe we should move the streamer out of the hudi-flink module into the hudi-utilities module.\r\n> > \r\n> > \r\n> > +1, it's what I mean.\r\n> \r\n> That's cool, we can do the move in another PR and this PR can merge first i think.\r\n\r\nOK, please file a ticket to track this work.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/829065787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/829076160","html_url":"https://github.com/apache/hudi/issues/2774#issuecomment-829076160","issue_url":"https://api.github.com/repos/apache/hudi/issues/2774","id":829076160,"node_id":"MDEyOklzc3VlQ29tbWVudDgyOTA3NjE2MA==","user":{"login":"vobukh","id":16102515,"node_id":"MDQ6VXNlcjE2MTAyNTE1","avatar_url":"https://avatars.githubusercontent.com/u/16102515?v=4","gravatar_id":"","url":"https://api.github.com/users/vobukh","html_url":"https://github.com/vobukh","followers_url":"https://api.github.com/users/vobukh/followers","following_url":"https://api.github.com/users/vobukh/following{/other_user}","gists_url":"https://api.github.com/users/vobukh/gists{/gist_id}","starred_url":"https://api.github.com/users/vobukh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vobukh/subscriptions","organizations_url":"https://api.github.com/users/vobukh/orgs","repos_url":"https://api.github.com/users/vobukh/repos","events_url":"https://api.github.com/users/vobukh/events{/privacy}","received_events_url":"https://api.github.com/users/vobukh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-29T09:19:54Z","updated_at":"2021-04-29T09:19:54Z","author_association":"NONE","body":"@n3nash , why did you close the issue? I replied that we prefer the first alternative from your list. Since you've closed the issue, I cannot reopen it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/829076160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/829083949","html_url":"https://github.com/apache/hudi/pull/2868#issuecomment-829083949","issue_url":"https://api.github.com/repos/apache/hudi/issues/2868","id":829083949,"node_id":"MDEyOklzc3VlQ29tbWVudDgyOTA4Mzk0OQ==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-29T09:32:01Z","updated_at":"2021-04-29T09:32:01Z","author_association":"CONTRIBUTOR","body":"see https://issues.apache.org/jira/browse/HUDI-1872","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/829083949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/829092434","html_url":"https://github.com/apache/hudi/issues/2589#issuecomment-829092434","issue_url":"https://api.github.com/repos/apache/hudi/issues/2589","id":829092434,"node_id":"MDEyOklzc3VlQ29tbWVudDgyOTA5MjQzNA==","user":{"login":"cdmikechen","id":12069428,"node_id":"MDQ6VXNlcjEyMDY5NDI4","avatar_url":"https://avatars.githubusercontent.com/u/12069428?v=4","gravatar_id":"","url":"https://api.github.com/users/cdmikechen","html_url":"https://github.com/cdmikechen","followers_url":"https://api.github.com/users/cdmikechen/followers","following_url":"https://api.github.com/users/cdmikechen/following{/other_user}","gists_url":"https://api.github.com/users/cdmikechen/gists{/gist_id}","starred_url":"https://api.github.com/users/cdmikechen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdmikechen/subscriptions","organizations_url":"https://api.github.com/users/cdmikechen/orgs","repos_url":"https://api.github.com/users/cdmikechen/repos","events_url":"https://api.github.com/users/cdmikechen/events{/privacy}","received_events_url":"https://api.github.com/users/cdmikechen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-29T09:45:21Z","updated_at":"2021-04-29T09:45:21Z","author_association":"CONTRIBUTOR","body":"@t0il3ts0ap I've open a new project to deal with ddl by debezium which can identify the DDL SQL and transform the structural changes to the new Kafka message. If you have time, maybe you can try it.\r\nIn debezium, the change of structure will not trigger the data push. This leads to the fact that if I change the field from a to b, no new data will appear in Kafka unless DML operation is generated.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/829092434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/829118114","html_url":"https://github.com/apache/hudi/pull/2898#issuecomment-829118114","issue_url":"https://api.github.com/repos/apache/hudi/issues/2898","id":829118114,"node_id":"MDEyOklzc3VlQ29tbWVudDgyOTExODExNA==","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-29T10:28:57Z","updated_at":"2021-04-30T12:43:54Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2898?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#2898](https://codecov.io/gh/apache/hudi/pull/2898?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (10eb1d5) into [master](https://codecov.io/gh/apache/hudi/commit/6848a683bd89a6f5f30559f7daff918a498f0808?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (6848a68) will **increase** coverage by `43.57%`.\n> The diff coverage is `36.36%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2898/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/2898?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2898       +/-   ##\n=============================================\n+ Coverage      9.36%   52.94%   +43.57%     \n- Complexity       48     3750     +3702     \n=============================================\n  Files            54      488      +434     \n  Lines          1997    23570    +21573     \n  Branches        236     2508     +2272     \n=============================================\n+ Hits            187    12478    +12291     \n- Misses         1797     9989     +8192     \n- Partials         13     1103     +1090     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `39.53% <ø> (?)` | `220.00 <ø> (?)` | |\n| hudiclient | `∅ <ø> (∅)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.41% <ø> (?)` | `1976.00 <ø> (?)` | |\n| hudiflink | `59.00% <36.36%> (?)` | `539.00 <1.00> (?)` | |\n| hudihadoopmr | `33.33% <ø> (?)` | `198.00 <ø> (?)` | |\n| hudisparkdatasource | `73.33% <ø> (?)` | `237.00 <ø> (?)` | |\n| hudisync | `46.73% <ø> (?)` | `144.00 <ø> (?)` | |\n| huditimelineservice | `64.36% <ø> (?)` | `62.00 <ø> (?)` | |\n| hudiutilities | `69.70% <ø> (+60.34%)` | `374.00 <ø> (+326.00)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2898?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...g/apache/hudi/sink/StreamWriteOperatorFactory.java](https://codecov.io/gh/apache/hudi/pull/2898/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL1N0cmVhbVdyaXRlT3BlcmF0b3JGYWN0b3J5LmphdmE=) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...e/hudi/sink/transform/RowDataToHoodieFunction.java](https://codecov.io/gh/apache/hudi/pull/2898/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL3RyYW5zZm9ybS9Sb3dEYXRhVG9Ib29kaWVGdW5jdGlvbi5qYXZh) | `85.71% <ø> (ø)` | `8.00 <0.00> (?)` | |\n| [...rg/apache/hudi/streamer/HoodieFlinkStreamerV2.java](https://codecov.io/gh/apache/hudi/pull/2898/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zdHJlYW1lci9Ib29kaWVGbGlua1N0cmVhbWVyVjIuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...in/java/org/apache/hudi/table/HoodieTableSink.java](https://codecov.io/gh/apache/hudi/pull/2898/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9Ib29kaWVUYWJsZVNpbmsuamF2YQ==) | `12.00% <0.00%> (ø)` | `2.00 <0.00> (?)` | |\n| [...ache/hudi/sink/StreamWriteOperatorCoordinator.java](https://codecov.io/gh/apache/hudi/pull/2898/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL1N0cmVhbVdyaXRlT3BlcmF0b3JDb29yZGluYXRvci5qYXZh) | `70.00% <40.00%> (ø)` | `28.00 <0.00> (?)` | |\n| [...va/org/apache/hudi/sink/utils/HiveSyncContext.java](https://codecov.io/gh/apache/hudi/pull/2898/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL3V0aWxzL0hpdmVTeW5jQ29udGV4dC5qYXZh) | `97.05% <100.00%> (ø)` | `3.00 <0.00> (?)` | |\n| [...c/main/java/org/apache/hudi/util/StreamerUtil.java](https://codecov.io/gh/apache/hudi/pull/2898/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS91dGlsL1N0cmVhbWVyVXRpbC5qYXZh) | `58.67% <100.00%> (ø)` | `19.00 <1.00> (?)` | |\n| [.../apache/hudi/common/table/log/HoodieLogFormat.java](https://codecov.io/gh/apache/hudi/pull/2898/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXQuamF2YQ==) | `71.23% <0.00%> (ø)` | `3.00% <0.00%> (?%)` | |\n| [...c/main/java/org/apache/hudi/common/fs/FSUtils.java](https://codecov.io/gh/apache/hudi/pull/2898/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL0ZTVXRpbHMuamF2YQ==) | `47.34% <0.00%> (ø)` | `57.00% <0.00%> (?%)` | |\n| [...e/hudi/common/model/HoodieRollingStatMetadata.java](https://codecov.io/gh/apache/hudi/pull/2898/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZVJvbGxpbmdTdGF0TWV0YWRhdGEuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (?%)` | |\n| ... and [472 more](https://codecov.io/gh/apache/hudi/pull/2898/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/829118114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/829150337","html_url":"https://github.com/apache/hudi/issues/2887#issuecomment-829150337","issue_url":"https://api.github.com/repos/apache/hudi/issues/2887","id":829150337,"node_id":"MDEyOklzc3VlQ29tbWVudDgyOTE1MDMzNw==","user":{"login":"rancylive","id":13742824,"node_id":"MDQ6VXNlcjEzNzQyODI0","avatar_url":"https://avatars.githubusercontent.com/u/13742824?v=4","gravatar_id":"","url":"https://api.github.com/users/rancylive","html_url":"https://github.com/rancylive","followers_url":"https://api.github.com/users/rancylive/followers","following_url":"https://api.github.com/users/rancylive/following{/other_user}","gists_url":"https://api.github.com/users/rancylive/gists{/gist_id}","starred_url":"https://api.github.com/users/rancylive/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rancylive/subscriptions","organizations_url":"https://api.github.com/users/rancylive/orgs","repos_url":"https://api.github.com/users/rancylive/repos","events_url":"https://api.github.com/users/rancylive/events{/privacy}","received_events_url":"https://api.github.com/users/rancylive/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-29T11:26:56Z","updated_at":"2021-04-29T11:26:56Z","author_association":"NONE","body":"@nsivabalan , Yes, we had to  set partition path to empty intentionally. We have a case where there are multiple column as primary key and no partition column. For this case, the KEYGENERATOR_CLASS_PROP would be ComplexKeyGenerator. Doing so hudi was producing a default partition with name default. \r\nSince, The KEYGENERATOR_CLASS_PROP is same for both primary key and partition column, we did not had a way to set different key generator for partition column.\r\nPlease suggest if there is another way for this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/829150337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/829163877","html_url":"https://github.com/apache/hudi/pull/2892#issuecomment-829163877","issue_url":"https://api.github.com/repos/apache/hudi/issues/2892","id":829163877,"node_id":"MDEyOklzc3VlQ29tbWVudDgyOTE2Mzg3Nw==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-29T11:51:13Z","updated_at":"2021-04-29T11:51:13Z","author_association":"CONTRIBUTOR","body":"Close the PR because the CI always fails with jar pulling.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/829163877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]