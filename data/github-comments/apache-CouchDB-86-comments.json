[{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599631028","html_url":"https://github.com/apache/couchdb/issues/2665#issuecomment-599631028","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2665","id":599631028,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTYzMTAyOA==","user":{"login":"TimLand","id":9785555,"node_id":"MDQ6VXNlcjk3ODU1NTU=","avatar_url":"https://avatars.githubusercontent.com/u/9785555?v=4","gravatar_id":"","url":"https://api.github.com/users/TimLand","html_url":"https://github.com/TimLand","followers_url":"https://api.github.com/users/TimLand/followers","following_url":"https://api.github.com/users/TimLand/following{/other_user}","gists_url":"https://api.github.com/users/TimLand/gists{/gist_id}","starred_url":"https://api.github.com/users/TimLand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimLand/subscriptions","organizations_url":"https://api.github.com/users/TimLand/orgs","repos_url":"https://api.github.com/users/TimLand/repos","events_url":"https://api.github.com/users/TimLand/events{/privacy}","received_events_url":"https://api.github.com/users/TimLand/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T16:26:19Z","updated_at":"2020-03-16T16:27:42Z","author_association":"NONE","body":"I install the SpiderMonkey libraries via \"apt-get install libmozjs185-1.0\"，is that right？\r\n\r\ndpkg -l | grep libmozjs185 , display:\r\nlibmozjs185-1.0                           1.8.5-1.0.0+dfsg-6                  arm64        SpiderMonkey JavaScript engine\r\nlibmozjs185-dev                           1.8.5-1.0.0+dfsg-6                  arm64        SpiderMonkey JavaScript library - development headers\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599631028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599683611","html_url":"https://github.com/apache/couchdb/issues/2669#issuecomment-599683611","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2669","id":599683611,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTY4MzYxMQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T18:06:07Z","updated_at":"2020-03-16T18:06:07Z","author_association":"MEMBER","body":"@anuragvohraec With couchjs you can include other JavaScript modules. In CouchDB 3.0.0 on certain platforms you have access to ES2015 and some ES6 features.\r\n\r\nSo, just pull a JavaScript module for a hash function into your view using CommonJS. See: https://docs.couchdb.org/en/stable/query-server/javascript.html#commonjs-modules\r\n\r\nYou should be able to adapt publicly available code for this easily. We won't be adding this functionality natively.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599683611/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599684197","html_url":"https://github.com/apache/couchdb/issues/2665#issuecomment-599684197","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2665","id":599684197,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTY4NDE5Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T18:07:15Z","updated_at":"2020-03-16T18:07:15Z","author_association":"MEMBER","body":"@TimLand Yes, but you'll need to compile CouchDB from source to link against those.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599684197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599793367","html_url":"https://github.com/apache/couchdb/pull/2672#issuecomment-599793367","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2672","id":599793367,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTc5MzM2Nw==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T22:52:11Z","updated_at":"2020-03-16T22:52:11Z","author_association":"MEMBER","body":"A more plausible path is that the shard was created by a create_if_missing call that did not set the partitioned:true property. So db creation was fine, but this db was in maintenance mode, and so got its .couch file via mem3 internals.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599793367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599794129","html_url":"https://github.com/apache/couchdb/pull/2672#issuecomment-599794129","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2672","id":599794129,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTc5NDEyOQ==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T22:55:06Z","updated_at":"2020-03-16T22:55:06Z","author_association":"MEMBER","body":"pretty sure that's it. node was in mm, so did not participate in the fabric rpc call that created the shard with the partitioned setting. data was then added to the db and mem3 internal replication pushed to the mm'ed node. That does a create_if_missing without setting the partitioned flag.\r\n\r\nOops.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599794129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599794472","html_url":"https://github.com/apache/couchdb/pull/2672#issuecomment-599794472","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2672","id":599794472,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTc5NDQ3Mg==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T22:56:21Z","updated_at":"2020-03-16T22:56:21Z","author_association":"MEMBER","body":"(this PR will not fix the root cause just identified, it only prevents couch_index_server crashing when it does).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599794472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599795290","html_url":"https://github.com/apache/couchdb/pull/2671#issuecomment-599795290","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2671","id":599795290,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTc5NTI5MA==","user":{"login":"tonysun83","id":6991573,"node_id":"MDQ6VXNlcjY5OTE1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6991573?v=4","gravatar_id":"","url":"https://api.github.com/users/tonysun83","html_url":"https://github.com/tonysun83","followers_url":"https://api.github.com/users/tonysun83/followers","following_url":"https://api.github.com/users/tonysun83/following{/other_user}","gists_url":"https://api.github.com/users/tonysun83/gists{/gist_id}","starred_url":"https://api.github.com/users/tonysun83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonysun83/subscriptions","organizations_url":"https://api.github.com/users/tonysun83/orgs","repos_url":"https://api.github.com/users/tonysun83/repos","events_url":"https://api.github.com/users/tonysun83/events{/privacy}","received_events_url":"https://api.github.com/users/tonysun83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T22:59:10Z","updated_at":"2020-03-16T22:59:10Z","author_association":"CONTRIBUTOR","body":"+1 on the test code, but CI is failing due to a header issue","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599795290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599796772","html_url":"https://github.com/apache/couchdb/pull/2671#issuecomment-599796772","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2671","id":599796772,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTc5Njc3Mg==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T23:04:31Z","updated_at":"2020-03-16T23:04:31Z","author_association":"CONTRIBUTOR","body":"@tonysun83 thanks! CI runs on master only so it tries to run erlfdb compile and everything without having any fdb bits","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599796772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599796803","html_url":"https://github.com/apache/couchdb/pull/2672#issuecomment-599796803","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2672","id":599796803,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTc5NjgwMw==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T23:04:40Z","updated_at":"2020-03-16T23:04:40Z","author_association":"MEMBER","body":"(This PR must not be merged until a fix for the root cause is added to it, presumably in mem3).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599796803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599803582","html_url":"https://github.com/apache/couchdb/issues/2669#issuecomment-599803582","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2669","id":599803582,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTgwMzU4Mg==","user":{"login":"anuragvohraec","id":53807480,"node_id":"MDQ6VXNlcjUzODA3NDgw","avatar_url":"https://avatars.githubusercontent.com/u/53807480?v=4","gravatar_id":"","url":"https://api.github.com/users/anuragvohraec","html_url":"https://github.com/anuragvohraec","followers_url":"https://api.github.com/users/anuragvohraec/followers","following_url":"https://api.github.com/users/anuragvohraec/following{/other_user}","gists_url":"https://api.github.com/users/anuragvohraec/gists{/gist_id}","starred_url":"https://api.github.com/users/anuragvohraec/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuragvohraec/subscriptions","organizations_url":"https://api.github.com/users/anuragvohraec/orgs","repos_url":"https://api.github.com/users/anuragvohraec/repos","events_url":"https://api.github.com/users/anuragvohraec/events{/privacy}","received_events_url":"https://api.github.com/users/anuragvohraec/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T23:30:27Z","updated_at":"2020-03-16T23:30:27Z","author_association":"NONE","body":"> couchjs\r\n\r\nPerfect ! That will solve all my needs.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/599803582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600013040","html_url":"https://github.com/apache/couchdb/pull/2662#issuecomment-600013040","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2662","id":600013040,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDAxMzA0MA==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-17T11:12:08Z","updated_at":"2020-03-17T11:12:08Z","author_association":"MEMBER","body":"So I was more thinking around improving the api. I would like everything that happens here:\r\nhttps://github.com/apache/couchdb/pull/2662/files#diff-eaa4fdf87bdb0736ad0211f74193fc9fR484-R502\r\n\r\nto be in `couch_rate:new(RateLimitId)`.\r\nYou have created a powerful config parser so lets use that to store all the information required for views. So we configure all the couch_rate_limiter parameters along with whether to use the ets or not.\r\nDoes that make more sense?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600013040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600055042","html_url":"https://github.com/apache/couchdb/pull/2662#issuecomment-600055042","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2662","id":600055042,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDA1NTA0Mg==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-17T12:55:15Z","updated_at":"2020-03-17T12:55:15Z","author_association":"CONTRIBUTOR","body":"Links in github appear to be broken. Can you provide the file name and line number of the fragment you refer to?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600055042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600089397","html_url":"https://github.com/apache/couchdb/issues/2210#issuecomment-600089397","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2210","id":600089397,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDA4OTM5Nw==","user":{"login":"lostnet","id":1422781,"node_id":"MDQ6VXNlcjE0MjI3ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1422781?v=4","gravatar_id":"","url":"https://api.github.com/users/lostnet","html_url":"https://github.com/lostnet","followers_url":"https://api.github.com/users/lostnet/followers","following_url":"https://api.github.com/users/lostnet/following{/other_user}","gists_url":"https://api.github.com/users/lostnet/gists{/gist_id}","starred_url":"https://api.github.com/users/lostnet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lostnet/subscriptions","organizations_url":"https://api.github.com/users/lostnet/orgs","repos_url":"https://api.github.com/users/lostnet/repos","events_url":"https://api.github.com/users/lostnet/events{/privacy}","received_events_url":"https://api.github.com/users/lostnet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-17T14:04:06Z","updated_at":"2020-03-17T14:33:53Z","author_association":"CONTRIBUTOR","body":"@wohali While raising the PerMsgTO above 5000 seems to work around the problem for me, it seems like it is intentionally supposed to do this to detect a failure within 5 seconds? So I don't think I was on the right track..\r\n\r\nLooking at the handling of rexi_utils:process_message I followed '$rexi_ping' back to mango avoiding timeouts when using the all_docs index with ~~attachments~~ include_docs (or some other potentials for delay?). I think I should try to make a PR for all_docs to use the same model of pinging before PerMsgTO?\r\n\r\nThanks","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600089397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600092515","html_url":"https://github.com/apache/couchdb/pull/2672#issuecomment-600092515","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2672","id":600092515,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDA5MjUxNQ==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-17T14:10:11Z","updated_at":"2020-03-17T14:10:11Z","author_association":"MEMBER","body":"For the underlying bit, get_or_create should probably check the dbs db for creation options. If its not got the doc replicated yet then freak out and not create anything etc etc.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600092515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600182609","html_url":"https://github.com/apache/couchdb/issues/2210#issuecomment-600182609","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2210","id":600182609,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDE4MjYwOQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-17T16:55:13Z","updated_at":"2020-03-17T16:55:13Z","author_association":"MEMBER","body":"@lostnet I'm not the best person to ask on this question, just the issue triager, but if you want to post the specific diff you have above as a PR we can get someone to look at it.\r\n\r\nI'll try pinging @davisp or @nickva to see if they can comment prior to that.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600182609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600205995","html_url":"https://github.com/apache/couchdb/issues/2210#issuecomment-600205995","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2210","id":600205995,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDIwNTk5NQ==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-17T17:40:22Z","updated_at":"2020-03-17T17:40:22Z","author_association":"MEMBER","body":"That timeout you were originally dealing with probably isn't the right approach. That's a per-message timeout which we'd never expect to have a delay of more than 5s (or else something is quite wrong).\r\n\r\nMy first guess is that the reading those attachments into RAM to send out in the response is taking too long and triggering the timeout. I'd look to see if the time we're calling a 5s timeout is accidentally including time spent in the callback to `rexi_utils:recv` call.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600205995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600391885","html_url":"https://github.com/apache/couchdb/issues/2665#issuecomment-600391885","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2665","id":600391885,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDM5MTg4NQ==","user":{"login":"TimLand","id":9785555,"node_id":"MDQ6VXNlcjk3ODU1NTU=","avatar_url":"https://avatars.githubusercontent.com/u/9785555?v=4","gravatar_id":"","url":"https://api.github.com/users/TimLand","html_url":"https://github.com/TimLand","followers_url":"https://api.github.com/users/TimLand/followers","following_url":"https://api.github.com/users/TimLand/following{/other_user}","gists_url":"https://api.github.com/users/TimLand/gists{/gist_id}","starred_url":"https://api.github.com/users/TimLand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimLand/subscriptions","organizations_url":"https://api.github.com/users/TimLand/orgs","repos_url":"https://api.github.com/users/TimLand/repos","events_url":"https://api.github.com/users/TimLand/events{/privacy}","received_events_url":"https://api.github.com/users/TimLand/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T02:25:55Z","updated_at":"2020-03-18T02:25:55Z","author_association":"NONE","body":"Thx @wohali \r\nI installed the SpiderMonkey libraries via \"apt-get install libmozjs185-1.0\" and compile CouchDB again\r\n\r\nBut we go to query the db-view and find that couchjs has crashed yet\r\nWe check the coredump file via gdb and find that the stack is in the function js_GetClassPrototype.\r\n\r\n(gdb)\r\n#0  0x0000ffff825fdf60 in js_GetClassPrototype(JSContext*, JSObject*, JSProtoKey, JSObject**, js::Class*) () from /usr/lib/libmozjs185.so.1.0\r\n#1  0x0000ffff825fded4 in js_GetClassPrototype(JSContext*, JSObject*, JSProtoKey, JSObject**, js::Class*) () from /usr/lib/libmozjs185.so.1.0\r\n#2  0x0000ffff825fded4 in js_GetClassPrototype(JSContext*, JSObject*, JSProtoKey, JSObject**, js::Class*) () from /usr/lib/libmozjs185.so.1.0\r\n#3  0x0000ffff825fded4 in js_GetClassPrototype(JSContext*, JSObject*, JSProtoKey, JSObject**, js::Class*) () from /usr/lib/libmozjs185.so.1.0\r\n#4  0x0000ffff825fded4 in js_GetClassPrototype(JSContext*, JSObject*, JSProtoKey, JSObject**, js::Class*) () from /usr/lib/libmozjs185.so.1.0\r\n#5  0x0000ffff825fded4 in js_GetClassPrototype(JSContext*, JSObject*, JSProtoKey, JSObject**, js::Class*) () from /usr/lib/libmozjs185.so.1.0\r\n#6  0x0000ffff825fded4 in js_GetClassPrototype(JSContext*, JSObject*, JSProtoKey, JSObject**, js::Class*) () from /usr/lib/libmozjs185.so.1.0\r\nGreetings","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600391885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600392032","html_url":"https://github.com/apache/couchdb/issues/2665#issuecomment-600392032","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2665","id":600392032,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDM5MjAzMg==","user":{"login":"TimLand","id":9785555,"node_id":"MDQ6VXNlcjk3ODU1NTU=","avatar_url":"https://avatars.githubusercontent.com/u/9785555?v=4","gravatar_id":"","url":"https://api.github.com/users/TimLand","html_url":"https://github.com/TimLand","followers_url":"https://api.github.com/users/TimLand/followers","following_url":"https://api.github.com/users/TimLand/following{/other_user}","gists_url":"https://api.github.com/users/TimLand/gists{/gist_id}","starred_url":"https://api.github.com/users/TimLand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimLand/subscriptions","organizations_url":"https://api.github.com/users/TimLand/orgs","repos_url":"https://api.github.com/users/TimLand/repos","events_url":"https://api.github.com/users/TimLand/events{/privacy}","received_events_url":"https://api.github.com/users/TimLand/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T02:26:26Z","updated_at":"2020-03-18T02:26:26Z","author_association":"NONE","body":"maybe libmozjs185.so is not good work on arm？","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600392032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600393571","html_url":"https://github.com/apache/couchdb/issues/2665#issuecomment-600393571","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2665","id":600393571,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDM5MzU3MQ==","user":{"login":"TimLand","id":9785555,"node_id":"MDQ6VXNlcjk3ODU1NTU=","avatar_url":"https://avatars.githubusercontent.com/u/9785555?v=4","gravatar_id":"","url":"https://api.github.com/users/TimLand","html_url":"https://github.com/TimLand","followers_url":"https://api.github.com/users/TimLand/followers","following_url":"https://api.github.com/users/TimLand/following{/other_user}","gists_url":"https://api.github.com/users/TimLand/gists{/gist_id}","starred_url":"https://api.github.com/users/TimLand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimLand/subscriptions","organizations_url":"https://api.github.com/users/TimLand/orgs","repos_url":"https://api.github.com/users/TimLand/repos","events_url":"https://api.github.com/users/TimLand/events{/privacy}","received_events_url":"https://api.github.com/users/TimLand/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T02:33:21Z","updated_at":"2020-03-18T02:33:21Z","author_association":"NONE","body":"couchdb2.3.1 encountered the same problem， \r\nThey all depend on the same library libmozjs185.so.1.0","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600393571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600394511","html_url":"https://github.com/apache/couchdb/issues/2665#issuecomment-600394511","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2665","id":600394511,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDM5NDUxMQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T02:37:27Z","updated_at":"2020-03-18T02:37:27Z","author_association":"MEMBER","body":"we build binary packages for CouchDB 2.3.1 on arm64 for debian. You can install from our documentation for that version.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600394511/reactions","total_count":3,"+1":2,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600394580","html_url":"https://github.com/apache/couchdb/issues/2665#issuecomment-600394580","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2665","id":600394580,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDM5NDU4MA==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T02:37:41Z","updated_at":"2020-03-18T02:38:11Z","author_association":"CONTRIBUTOR","body":"> couchdb2.3.1 encountered the same problem\r\n\r\nalso happened at box with arm architecture? We got some problem as well on arm.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600394580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600395224","html_url":"https://github.com/apache/couchdb/issues/2665#issuecomment-600395224","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2665","id":600395224,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDM5NTIyNA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T02:40:19Z","updated_at":"2020-03-18T02:40:19Z","author_association":"MEMBER","body":"the long answer is that libmozjs1.8.5 needs a patch for arm64 due to high bit masking. the details are over in apache/couchdb-pkg but i don't have time tonight to link it.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600395224/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600411137","html_url":"https://github.com/apache/couchdb/issues/2680#issuecomment-600411137","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2680","id":600411137,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDQxMTEzNw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T03:51:47Z","updated_at":"2020-03-18T03:51:47Z","author_association":"MEMBER","body":"Looks like the crypto libraries aren't running correctly on this install for you.\r\n\r\nCan you reproduce this on another Windows 10 install? Others are not finding this issue.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600411137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600413127","html_url":"https://github.com/apache/couchdb/issues/2680#issuecomment-600413127","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2680","id":600413127,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDQxMzEyNw==","user":{"login":"nkev","id":5410916,"node_id":"MDQ6VXNlcjU0MTA5MTY=","avatar_url":"https://avatars.githubusercontent.com/u/5410916?v=4","gravatar_id":"","url":"https://api.github.com/users/nkev","html_url":"https://github.com/nkev","followers_url":"https://api.github.com/users/nkev/followers","following_url":"https://api.github.com/users/nkev/following{/other_user}","gists_url":"https://api.github.com/users/nkev/gists{/gist_id}","starred_url":"https://api.github.com/users/nkev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nkev/subscriptions","organizations_url":"https://api.github.com/users/nkev/orgs","repos_url":"https://api.github.com/users/nkev/repos","events_url":"https://api.github.com/users/nkev/events{/privacy}","received_events_url":"https://api.github.com/users/nkev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T04:01:58Z","updated_at":"2020-03-18T04:02:52Z","author_association":"NONE","body":"I don't have another Windows machine right now unfortunately. Is there a way to fix the crypto libraries?\r\nI did have 2.3.1 running on this same WIndows 10 PC. I uninstalled it before installing v3.0","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600413127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600438780","html_url":"https://github.com/apache/couchdb/issues/2680#issuecomment-600438780","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2680","id":600438780,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDQzODc4MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T05:54:42Z","updated_at":"2020-03-18T05:54:42Z","author_association":"MEMBER","body":"Double-check for me the listing of all the DLLs in your CouchDB\\bin directory? Paste a directory listing into this issue please.\r\n\r\nDid you happen to already have OpenSSL installed on this machine anywhere?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600438780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600473206","html_url":"https://github.com/apache/couchdb/issues/2665#issuecomment-600473206","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2665","id":600473206,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDQ3MzIwNg==","user":{"login":"TimLand","id":9785555,"node_id":"MDQ6VXNlcjk3ODU1NTU=","avatar_url":"https://avatars.githubusercontent.com/u/9785555?v=4","gravatar_id":"","url":"https://api.github.com/users/TimLand","html_url":"https://github.com/TimLand","followers_url":"https://api.github.com/users/TimLand/followers","following_url":"https://api.github.com/users/TimLand/following{/other_user}","gists_url":"https://api.github.com/users/TimLand/gists{/gist_id}","starred_url":"https://api.github.com/users/TimLand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TimLand/subscriptions","organizations_url":"https://api.github.com/users/TimLand/orgs","repos_url":"https://api.github.com/users/TimLand/repos","events_url":"https://api.github.com/users/TimLand/events{/privacy}","received_events_url":"https://api.github.com/users/TimLand/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T07:48:42Z","updated_at":"2020-03-18T07:48:42Z","author_association":"NONE","body":"@wohali  Thanks a lot in advance. \r\nI found this patch， and it work fine！！！","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600473206/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600730933","html_url":"https://github.com/apache/couchdb/issues/1856#issuecomment-600730933","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1856","id":600730933,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDczMDkzMw==","user":{"login":"bean5","id":2052646,"node_id":"MDQ6VXNlcjIwNTI2NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2052646?v=4","gravatar_id":"","url":"https://api.github.com/users/bean5","html_url":"https://github.com/bean5","followers_url":"https://api.github.com/users/bean5/followers","following_url":"https://api.github.com/users/bean5/following{/other_user}","gists_url":"https://api.github.com/users/bean5/gists{/gist_id}","starred_url":"https://api.github.com/users/bean5/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bean5/subscriptions","organizations_url":"https://api.github.com/users/bean5/orgs","repos_url":"https://api.github.com/users/bean5/repos","events_url":"https://api.github.com/users/bean5/events{/privacy}","received_events_url":"https://api.github.com/users/bean5/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T16:27:15Z","updated_at":"2020-03-18T16:28:03Z","author_association":"NONE","body":"I get this on docker image of `ubuntu:18.04` and `ubuntu:latest`.\r\n\r\n```\r\nroot@7700d8a9c0ab:/# apt update -qq\r\n3 packages can be upgraded. Run 'apt list --upgradable' to see them.\r\nroot@7700d8a9c0ab:/# apt upgrade\r\n# stuff\r\nroot@7700d8a9c0ab:/# apt install couchdb\r\nReading package lists... Done\r\nBuilding dependency tree       \r\nReading state information... Done\r\nPackage couchdb is not available, but is referred to by another package.\r\nThis may mean that the package is missing, has been obsoleted, or\r\nis only available from another source\r\n\r\nE: Package 'couchdb' has no installation candidate\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600730933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600746327","html_url":"https://github.com/apache/couchdb/issues/1856#issuecomment-600746327","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1856","id":600746327,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDc0NjMyNw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-18T16:55:51Z","updated_at":"2020-03-18T16:55:51Z","author_association":"MEMBER","body":"@bean5 cannot reproduce. Here's the log of me following [our installation instructions](https://docs.couchdb.org/en/stable/install/unix.html):\r\n\r\n```bash\r\n$ docker pull ubuntu:18.04\r\n18.04: Pulling from library/ubuntu\r\nDigest: sha256:04d48df82c938587820d7b6006f5071dbbffceb7ca01d2814f81857c631d44df\r\nStatus: Image is up to date for ubuntu:18.04\r\ndocker.io/library/ubuntu:18.04\r\n$ docker run -it ubuntu:18.04 /bin/bash\r\nroot@0e5e6927a80a:/# apt update\r\nGet:1 http://security.ubuntu.com/ubuntu bionic-security InRelease [88.7 kB]\r\nGet:2 http://archive.ubuntu.com/ubuntu bionic InRelease [242 kB]\r\nGet:3 http://security.ubuntu.com/ubuntu bionic-security/multiverse amd64 Packages [7904 B]\r\nGet:4 http://security.ubuntu.com/ubuntu bionic-security/universe amd64 Packages [831 kB]\r\nGet:5 http://security.ubuntu.com/ubuntu bionic-security/restricted amd64 Packages [34.6 kB]\r\nGet:6 http://security.ubuntu.com/ubuntu bionic-security/main amd64 Packages [855 kB]\r\nGet:7 http://archive.ubuntu.com/ubuntu bionic-updates InRelease [88.7 kB]\r\nGet:8 http://archive.ubuntu.com/ubuntu bionic-backports InRelease [74.6 kB]\r\nGet:9 http://archive.ubuntu.com/ubuntu bionic/universe amd64 Packages [11.3 MB]\r\nGet:10 http://archive.ubuntu.com/ubuntu bionic/main amd64 Packages [1344 kB]\r\nGet:11 http://archive.ubuntu.com/ubuntu bionic/restricted amd64 Packages [13.5 kB]\r\nGet:12 http://archive.ubuntu.com/ubuntu bionic/multiverse amd64 Packages [186 kB]\r\nGet:13 http://archive.ubuntu.com/ubuntu bionic-updates/restricted amd64 Packages [48.1 kB]\r\nGet:14 http://archive.ubuntu.com/ubuntu bionic-updates/universe amd64 Packages [1360 kB]\r\nGet:15 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 Packages [1149 kB]\r\nGet:16 http://archive.ubuntu.com/ubuntu bionic-updates/multiverse amd64 Packages [11.9 kB]\r\nGet:17 http://archive.ubuntu.com/ubuntu bionic-backports/universe amd64 Packages [4245 B]\r\nGet:18 http://archive.ubuntu.com/ubuntu bionic-backports/main amd64 Packages [2496 B]\r\nFetched 17.7 MB in 3s (6430 kB/s)\r\nReading package lists... Done\r\nBuilding dependency tree\r\nReading state information... Done\r\n3 packages can be upgraded. Run 'apt list --upgradable' to see them.\r\nroot@0e5e6927a80a:/# apt-get install -y apt-transport-https gnupg ca-certificates\r\nReading package lists... Done\r\nBuilding dependency tree\r\nReading state information... Done\r\nThe following additional packages will be installed:\r\n  dirmngr gnupg-l10n gnupg-utils gpg gpg-agent gpg-wks-client gpg-wks-server gpgconf gpgsm libasn1-8-heimdal libassuan0\r\n  libgssapi3-heimdal libhcrypto4-heimdal libheimbase1-heimdal libheimntlm0-heimdal libhx509-5-heimdal libkrb5-26-heimdal libksba8\r\n  libldap-2.4-2 libldap-common libnpth0 libreadline7 libroken18-heimdal libsasl2-2 libsasl2-modules libsasl2-modules-db\r\n  libsqlite3-0 libssl1.1 libwind0-heimdal openssl pinentry-curses readline-common\r\nSuggested packages:\r\n  dbus-user-session libpam-systemd pinentry-gnome3 tor parcimonie xloadimage scdaemon libsasl2-modules-gssapi-mit\r\n  | libsasl2-modules-gssapi-heimdal libsasl2-modules-ldap libsasl2-modules-otp libsasl2-modules-sql pinentry-doc readline-doc\r\nThe following NEW packages will be installed:\r\n  apt-transport-https ca-certificates dirmngr gnupg gnupg-l10n gnupg-utils gpg gpg-agent gpg-wks-client gpg-wks-server gpgconf\r\n  gpgsm libasn1-8-heimdal libassuan0 libgssapi3-heimdal libhcrypto4-heimdal libheimbase1-heimdal libheimntlm0-heimdal\r\n  libhx509-5-heimdal libkrb5-26-heimdal libksba8 libldap-2.4-2 libldap-common libnpth0 libreadline7 libroken18-heimdal libsasl2-2\r\n  libsasl2-modules libsasl2-modules-db libsqlite3-0 libssl1.1 libwind0-heimdal openssl pinentry-curses readline-common\r\n0 upgraded, 35 newly installed, 0 to remove and 3 not upgraded.\r\nNeed to get 5950 kB of archives.\r\nAfter this operation, 17.6 MB of additional disk space will be used.\r\nGet:1 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 libssl1.1 amd64 1.1.1-1ubuntu2.1~18.04.5 [1300 kB]\r\nGet:2 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 openssl amd64 1.1.1-1ubuntu2.1~18.04.5 [613 kB]\r\nGet:3 http://archive.ubuntu.com/ubuntu bionic/main amd64 ca-certificates all 20180409 [151 kB]\r\nGet:4 http://archive.ubuntu.com/ubuntu bionic/main amd64 readline-common all 7.0-3 [52.9 kB]\r\nGet:5 http://archive.ubuntu.com/ubuntu bionic/main amd64 libreadline7 amd64 7.0-3 [124 kB]\r\nGet:6 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 libsqlite3-0 amd64 3.22.0-1ubuntu0.3 [498 kB]\r\nGet:7 http://archive.ubuntu.com/ubuntu bionic-updates/universe amd64 apt-transport-https all 1.6.12 [1692 B]\r\nGet:8 http://archive.ubuntu.com/ubuntu bionic/main amd64 libassuan0 amd64 2.5.1-2 [35.0 kB]\r\nGet:9 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 gpgconf amd64 2.2.4-1ubuntu1.2 [123 kB]\r\nGet:10 http://archive.ubuntu.com/ubuntu bionic/main amd64 libksba8 amd64 1.3.5-2 [92.6 kB]\r\nGet:11 http://archive.ubuntu.com/ubuntu bionic/main amd64 libroken18-heimdal amd64 7.5.0+dfsg-1 [41.3 kB]\r\nGet:12 http://archive.ubuntu.com/ubuntu bionic/main amd64 libasn1-8-heimdal amd64 7.5.0+dfsg-1 [175 kB]\r\nGet:13 http://archive.ubuntu.com/ubuntu bionic/main amd64 libheimbase1-heimdal amd64 7.5.0+dfsg-1 [29.3 kB]\r\nGet:14 http://archive.ubuntu.com/ubuntu bionic/main amd64 libhcrypto4-heimdal amd64 7.5.0+dfsg-1 [85.9 kB]\r\nGet:15 http://archive.ubuntu.com/ubuntu bionic/main amd64 libwind0-heimdal amd64 7.5.0+dfsg-1 [47.8 kB]\r\nGet:16 http://archive.ubuntu.com/ubuntu bionic/main amd64 libhx509-5-heimdal amd64 7.5.0+dfsg-1 [107 kB]\r\nGet:17 http://archive.ubuntu.com/ubuntu bionic/main amd64 libkrb5-26-heimdal amd64 7.5.0+dfsg-1 [206 kB]\r\nGet:18 http://archive.ubuntu.com/ubuntu bionic/main amd64 libheimntlm0-heimdal amd64 7.5.0+dfsg-1 [14.8 kB]\r\nGet:19 http://archive.ubuntu.com/ubuntu bionic/main amd64 libgssapi3-heimdal amd64 7.5.0+dfsg-1 [96.5 kB]\r\nGet:20 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 libsasl2-modules-db amd64 2.1.27~101-g0780600+dfsg-3ubuntu2.1 [14.8 kB]\r\nGet:21 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 libsasl2-2 amd64 2.1.27~101-g0780600+dfsg-3ubuntu2.1 [49.2 kB]\r\nGet:22 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 libldap-common all 2.4.45+dfsg-1ubuntu1.4 [16.9 kB]\r\nGet:23 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 libldap-2.4-2 amd64 2.4.45+dfsg-1ubuntu1.4 [155 kB]\r\nGet:24 http://archive.ubuntu.com/ubuntu bionic/main amd64 libnpth0 amd64 1.5-3 [7668 B]\r\nGet:25 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 dirmngr amd64 2.2.4-1ubuntu1.2 [316 kB]\r\nGet:26 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 gnupg-l10n all 2.2.4-1ubuntu1.2 [49.6 kB]\r\nGet:27 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 gnupg-utils amd64 2.2.4-1ubuntu1.2 [127 kB]\r\nGet:28 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 gpg amd64 2.2.4-1ubuntu1.2 [467 kB]\r\nGet:29 http://archive.ubuntu.com/ubuntu bionic/main amd64 pinentry-curses amd64 1.1.0-1 [35.8 kB]\r\nGet:30 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 gpg-agent amd64 2.2.4-1ubuntu1.2 [227 kB]\r\nGet:31 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 gpg-wks-client amd64 2.2.4-1ubuntu1.2 [91.9 kB]\r\nGet:32 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 gpg-wks-server amd64 2.2.4-1ubuntu1.2 [84.9 kB]\r\nGet:33 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 gpgsm amd64 2.2.4-1ubuntu1.2 [215 kB]\r\nGet:34 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 gnupg amd64 2.2.4-1ubuntu1.2 [249 kB]\r\nGet:35 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 libsasl2-modules amd64 2.1.27~101-g0780600+dfsg-3ubuntu2.1 [48.8 kB]\r\nFetched 5950 kB in 2s (3935 kB/s)\r\ndebconf: delaying package configuration, since apt-utils is not installed\r\nSelecting previously unselected package libssl1.1:amd64.\r\n(Reading database ... 4046 files and directories currently installed.)\r\nPreparing to unpack .../00-libssl1.1_1.1.1-1ubuntu2.1~18.04.5_amd64.deb ...\r\nUnpacking libssl1.1:amd64 (1.1.1-1ubuntu2.1~18.04.5) ...\r\nSelecting previously unselected package openssl.\r\nPreparing to unpack .../01-openssl_1.1.1-1ubuntu2.1~18.04.5_amd64.deb ...\r\nUnpacking openssl (1.1.1-1ubuntu2.1~18.04.5) ...\r\nSelecting previously unselected package ca-certificates.\r\nPreparing to unpack .../02-ca-certificates_20180409_all.deb ...\r\nUnpacking ca-certificates (20180409) ...\r\nSelecting previously unselected package readline-common.\r\nPreparing to unpack .../03-readline-common_7.0-3_all.deb ...\r\nUnpacking readline-common (7.0-3) ...\r\nSelecting previously unselected package libreadline7:amd64.\r\nPreparing to unpack .../04-libreadline7_7.0-3_amd64.deb ...\r\nUnpacking libreadline7:amd64 (7.0-3) ...\r\nSelecting previously unselected package libsqlite3-0:amd64.\r\nPreparing to unpack .../05-libsqlite3-0_3.22.0-1ubuntu0.3_amd64.deb ...\r\nUnpacking libsqlite3-0:amd64 (3.22.0-1ubuntu0.3) ...\r\nSelecting previously unselected package apt-transport-https.\r\nPreparing to unpack .../06-apt-transport-https_1.6.12_all.deb ...\r\nUnpacking apt-transport-https (1.6.12) ...\r\nSelecting previously unselected package libassuan0:amd64.\r\nPreparing to unpack .../07-libassuan0_2.5.1-2_amd64.deb ...\r\nUnpacking libassuan0:amd64 (2.5.1-2) ...\r\nSelecting previously unselected package gpgconf.\r\nPreparing to unpack .../08-gpgconf_2.2.4-1ubuntu1.2_amd64.deb ...\r\nUnpacking gpgconf (2.2.4-1ubuntu1.2) ...\r\nSelecting previously unselected package libksba8:amd64.\r\nPreparing to unpack .../09-libksba8_1.3.5-2_amd64.deb ...\r\nUnpacking libksba8:amd64 (1.3.5-2) ...\r\nSelecting previously unselected package libroken18-heimdal:amd64.\r\nPreparing to unpack .../10-libroken18-heimdal_7.5.0+dfsg-1_amd64.deb ...\r\nUnpacking libroken18-heimdal:amd64 (7.5.0+dfsg-1) ...\r\nSelecting previously unselected package libasn1-8-heimdal:amd64.\r\nPreparing to unpack .../11-libasn1-8-heimdal_7.5.0+dfsg-1_amd64.deb ...\r\nUnpacking libasn1-8-heimdal:amd64 (7.5.0+dfsg-1) ...\r\nSelecting previously unselected package libheimbase1-heimdal:amd64.\r\nPreparing to unpack .../12-libheimbase1-heimdal_7.5.0+dfsg-1_amd64.deb ...\r\nUnpacking libheimbase1-heimdal:amd64 (7.5.0+dfsg-1) ...\r\nSelecting previously unselected package libhcrypto4-heimdal:amd64.\r\nPreparing to unpack .../13-libhcrypto4-heimdal_7.5.0+dfsg-1_amd64.deb ...\r\nUnpacking libhcrypto4-heimdal:amd64 (7.5.0+dfsg-1) ...\r\nSelecting previously unselected package libwind0-heimdal:amd64.\r\nPreparing to unpack .../14-libwind0-heimdal_7.5.0+dfsg-1_amd64.deb ...\r\nUnpacking libwind0-heimdal:amd64 (7.5.0+dfsg-1) ...\r\nSelecting previously unselected package libhx509-5-heimdal:amd64.\r\nPreparing to unpack .../15-libhx509-5-heimdal_7.5.0+dfsg-1_amd64.deb ...\r\nUnpacking libhx509-5-heimdal:amd64 (7.5.0+dfsg-1) ...\r\nSelecting previously unselected package libkrb5-26-heimdal:amd64.\r\nPreparing to unpack .../16-libkrb5-26-heimdal_7.5.0+dfsg-1_amd64.deb ...\r\nUnpacking libkrb5-26-heimdal:amd64 (7.5.0+dfsg-1) ...\r\nSelecting previously unselected package libheimntlm0-heimdal:amd64.\r\nPreparing to unpack .../17-libheimntlm0-heimdal_7.5.0+dfsg-1_amd64.deb ...\r\nUnpacking libheimntlm0-heimdal:amd64 (7.5.0+dfsg-1) ...\r\nSelecting previously unselected package libgssapi3-heimdal:amd64.\r\nPreparing to unpack .../18-libgssapi3-heimdal_7.5.0+dfsg-1_amd64.deb ...\r\nUnpacking libgssapi3-heimdal:amd64 (7.5.0+dfsg-1) ...\r\nSelecting previously unselected package libsasl2-modules-db:amd64.\r\nPreparing to unpack .../19-libsasl2-modules-db_2.1.27~101-g0780600+dfsg-3ubuntu2.1_amd64.deb ...\r\nUnpacking libsasl2-modules-db:amd64 (2.1.27~101-g0780600+dfsg-3ubuntu2.1) ...\r\nSelecting previously unselected package libsasl2-2:amd64.\r\nPreparing to unpack .../20-libsasl2-2_2.1.27~101-g0780600+dfsg-3ubuntu2.1_amd64.deb ...\r\nUnpacking libsasl2-2:amd64 (2.1.27~101-g0780600+dfsg-3ubuntu2.1) ...\r\nSelecting previously unselected package libldap-common.\r\nPreparing to unpack .../21-libldap-common_2.4.45+dfsg-1ubuntu1.4_all.deb ...\r\nUnpacking libldap-common (2.4.45+dfsg-1ubuntu1.4) ...\r\nSelecting previously unselected package libldap-2.4-2:amd64.\r\nPreparing to unpack .../22-libldap-2.4-2_2.4.45+dfsg-1ubuntu1.4_amd64.deb ...\r\nUnpacking libldap-2.4-2:amd64 (2.4.45+dfsg-1ubuntu1.4) ...\r\nSelecting previously unselected package libnpth0:amd64.\r\nPreparing to unpack .../23-libnpth0_1.5-3_amd64.deb ...\r\nUnpacking libnpth0:amd64 (1.5-3) ...\r\nSelecting previously unselected package dirmngr.\r\nPreparing to unpack .../24-dirmngr_2.2.4-1ubuntu1.2_amd64.deb ...\r\nUnpacking dirmngr (2.2.4-1ubuntu1.2) ...\r\nSelecting previously unselected package gnupg-l10n.\r\nPreparing to unpack .../25-gnupg-l10n_2.2.4-1ubuntu1.2_all.deb ...\r\nUnpacking gnupg-l10n (2.2.4-1ubuntu1.2) ...\r\nSelecting previously unselected package gnupg-utils.\r\nPreparing to unpack .../26-gnupg-utils_2.2.4-1ubuntu1.2_amd64.deb ...\r\nUnpacking gnupg-utils (2.2.4-1ubuntu1.2) ...\r\nSelecting previously unselected package gpg.\r\nPreparing to unpack .../27-gpg_2.2.4-1ubuntu1.2_amd64.deb ...\r\nUnpacking gpg (2.2.4-1ubuntu1.2) ...\r\nSelecting previously unselected package pinentry-curses.\r\nPreparing to unpack .../28-pinentry-curses_1.1.0-1_amd64.deb ...\r\nUnpacking pinentry-curses (1.1.0-1) ...\r\nSelecting previously unselected package gpg-agent.\r\nPreparing to unpack .../29-gpg-agent_2.2.4-1ubuntu1.2_amd64.deb ...\r\nUnpacking gpg-agent (2.2.4-1ubuntu1.2) ...\r\nSelecting previously unselected package gpg-wks-client.\r\nPreparing to unpack .../30-gpg-wks-client_2.2.4-1ubuntu1.2_amd64.deb ...\r\nUnpacking gpg-wks-client (2.2.4-1ubuntu1.2) ...\r\nSelecting previously unselected package gpg-wks-server.\r\nPreparing to unpack .../31-gpg-wks-server_2.2.4-1ubuntu1.2_amd64.deb ...\r\nUnpacking gpg-wks-server (2.2.4-1ubuntu1.2) ...\r\nSelecting previously unselected package gpgsm.\r\nPreparing to unpack .../32-gpgsm_2.2.4-1ubuntu1.2_amd64.deb ...\r\nUnpacking gpgsm (2.2.4-1ubuntu1.2) ...\r\nSelecting previously unselected package gnupg.\r\nPreparing to unpack .../33-gnupg_2.2.4-1ubuntu1.2_amd64.deb ...\r\nUnpacking gnupg (2.2.4-1ubuntu1.2) ...\r\nSelecting previously unselected package libsasl2-modules:amd64.\r\nPreparing to unpack .../34-libsasl2-modules_2.1.27~101-g0780600+dfsg-3ubuntu2.1_amd64.deb ...\r\nUnpacking libsasl2-modules:amd64 (2.1.27~101-g0780600+dfsg-3ubuntu2.1) ...\r\nSetting up libnpth0:amd64 (1.5-3) ...\r\nSetting up readline-common (7.0-3) ...\r\nSetting up apt-transport-https (1.6.12) ...\r\nSetting up libldap-common (2.4.45+dfsg-1ubuntu1.4) ...\r\nSetting up libreadline7:amd64 (7.0-3) ...\r\nSetting up libsasl2-modules-db:amd64 (2.1.27~101-g0780600+dfsg-3ubuntu2.1) ...\r\nSetting up libsasl2-2:amd64 (2.1.27~101-g0780600+dfsg-3ubuntu2.1) ...\r\nSetting up libroken18-heimdal:amd64 (7.5.0+dfsg-1) ...\r\nSetting up libksba8:amd64 (1.3.5-2) ...\r\nSetting up gnupg-l10n (2.2.4-1ubuntu1.2) ...\r\nSetting up libssl1.1:amd64 (1.1.1-1ubuntu2.1~18.04.5) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (No usable dialog-like program is installed, so the dialog based frontend cannot be used. at /usr/share/perl5/Debconf/FrontEnd/Dialog.pm line 76.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.26.1 /usr/local/share/perl/5.26.1 /usr/lib/x86_64-linux-gnu/perl5/5.26 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.26 /usr/share/perl/5.26 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nSetting up libheimbase1-heimdal:amd64 (7.5.0+dfsg-1) ...\r\nSetting up openssl (1.1.1-1ubuntu2.1~18.04.5) ...\r\nSetting up libsqlite3-0:amd64 (3.22.0-1ubuntu0.3) ...\r\nSetting up libsasl2-modules:amd64 (2.1.27~101-g0780600+dfsg-3ubuntu2.1) ...\r\nSetting up ca-certificates (20180409) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (No usable dialog-like program is installed, so the dialog based frontend cannot be used. at /usr/share/perl5/Debconf/FrontEnd/Dialog.pm line 76.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.26.1 /usr/local/share/perl/5.26.1 /usr/lib/x86_64-linux-gnu/perl5/5.26 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.26 /usr/share/perl/5.26 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nUpdating certificates in /etc/ssl/certs...\r\n133 added, 0 removed; done.\r\nSetting up libassuan0:amd64 (2.5.1-2) ...\r\nSetting up libwind0-heimdal:amd64 (7.5.0+dfsg-1) ...\r\nSetting up libasn1-8-heimdal:amd64 (7.5.0+dfsg-1) ...\r\nSetting up gpgconf (2.2.4-1ubuntu1.2) ...\r\nSetting up libhcrypto4-heimdal:amd64 (7.5.0+dfsg-1) ...\r\nSetting up libhx509-5-heimdal:amd64 (7.5.0+dfsg-1) ...\r\nSetting up gpgsm (2.2.4-1ubuntu1.2) ...\r\nSetting up gnupg-utils (2.2.4-1ubuntu1.2) ...\r\nSetting up pinentry-curses (1.1.0-1) ...\r\nSetting up libkrb5-26-heimdal:amd64 (7.5.0+dfsg-1) ...\r\nSetting up libheimntlm0-heimdal:amd64 (7.5.0+dfsg-1) ...\r\nSetting up gpg (2.2.4-1ubuntu1.2) ...\r\nSetting up gpg-agent (2.2.4-1ubuntu1.2) ...\r\nSetting up gpg-wks-server (2.2.4-1ubuntu1.2) ...\r\nSetting up libgssapi3-heimdal:amd64 (7.5.0+dfsg-1) ...\r\nSetting up libldap-2.4-2:amd64 (2.4.45+dfsg-1ubuntu1.4) ...\r\nSetting up dirmngr (2.2.4-1ubuntu1.2) ...\r\nSetting up gpg-wks-client (2.2.4-1ubuntu1.2) ...\r\nSetting up gnupg (2.2.4-1ubuntu1.2) ...\r\nProcessing triggers for libc-bin (2.27-3ubuntu1) ...\r\nProcessing triggers for ca-certificates (20180409) ...\r\nUpdating certificates in /etc/ssl/certs...\r\n0 added, 0 removed; done.\r\nRunning hooks in /etc/ca-certificates/update.d...\r\ndone.\r\nroot@0e5e6927a80a:/# echo \"deb https://apache.bintray.com/couchdb-deb bionic main\"     | tee -a /etc/apt/sources.list.d/couchdb.list\r\ndeb https://apache.bintray.com/couchdb-deb bionic main\r\nroot@0e5e6927a80a:/# apt-key adv --keyserver keyserver.ubuntu.com --recv-keys \\\r\n>   8756C4F765C9AC3CB6B85D62379CE192D401AB61\r\nExecuting: /tmp/apt-key-gpghome.ZDIaKTDch2/gpg.1.sh --keyserver keyserver.ubuntu.com --recv-keys 8756C4F765C9AC3CB6B85D62379CE192D401AB61\r\ngpg: key 379CE192D401AB61: public key \"Bintray (by JFrog) <bintray@bintray.com>\" imported\r\ngpg: Total number processed: 1\r\ngpg:               imported: 1\r\nroot@0e5e6927a80a:/# apt update\r\nHit:1 http://security.ubuntu.com/ubuntu bionic-security InRelease\r\nHit:2 http://archive.ubuntu.com/ubuntu bionic InRelease\r\nHit:3 http://archive.ubuntu.com/ubuntu bionic-updates InRelease\r\nIgn:4 https://apache.bintray.com/couchdb-deb bionic InRelease\r\nGet:5 https://apache.bintray.com/couchdb-deb bionic Release [1840 B]\r\nHit:6 http://archive.ubuntu.com/ubuntu bionic-backports InRelease\r\nGet:7 https://apache.bintray.com/couchdb-deb bionic Release.gpg [821 B]\r\nGet:8 https://apache.bintray.com/couchdb-deb bionic/main amd64 Packages [2063 B]\r\nFetched 4724 B in 1s (7016 B/s)\r\nReading package lists... Done\r\nBuilding dependency tree\r\nReading state information... Done\r\n3 packages can be upgraded. Run 'apt list --upgradable' to see them.\r\nroot@0e5e6927a80a:/# apt install -y couchdb\r\nReading package lists... Done\r\nBuilding dependency tree\r\nReading state information... Done\r\nThe following additional packages will be installed:\r\n  couch-libmozjs185-1.0 curl krb5-locales libcurl4 libgssapi-krb5-2 libicu60 libk5crypto3 libkeyutils1 libkrb5-3 libkrb5support0\r\n  libnghttp2-14 libnspr4 libpsl5 librtmp1 publicsuffix\r\nSuggested packages:\r\n  krb5-doc krb5-user\r\nThe following NEW packages will be installed:\r\n  couch-libmozjs185-1.0 couchdb curl krb5-locales libcurl4 libgssapi-krb5-2 libicu60 libk5crypto3 libkeyutils1 libkrb5-3\r\n  libkrb5support0 libnghttp2-14 libnspr4 libpsl5 librtmp1 publicsuffix\r\n0 upgraded, 16 newly installed, 0 to remove and 3 not upgraded.\r\nNeed to get 37.4 MB of archives.\r\nAfter this operation, 86.8 MB of additional disk space will be used.\r\nGet:1 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 libicu60 amd64 60.2-3ubuntu3.1 [8054 kB]\r\nGet:2 https://apache.bintray.com/couchdb-deb bionic/main amd64 couch-libmozjs185-1.0 amd64 1.8.5-1.0.0+couch-2~bionic [1257 kB]\r\nGet:3 https://apache.bintray.com/couchdb-deb bionic/main amd64 couchdb amd64 3.0.0~bionic [26.8 MB]\r\nGet:4 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 krb5-locales all 1.16-2ubuntu0.1 [13.5 kB]\r\nGet:5 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 libkrb5support0 amd64 1.16-2ubuntu0.1 [30.9 kB]\r\nGet:6 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 libk5crypto3 amd64 1.16-2ubuntu0.1 [85.6 kB]\r\nGet:7 http://archive.ubuntu.com/ubuntu bionic/main amd64 libkeyutils1 amd64 1.5.9-9.2ubuntu2 [8720 B]\r\nGet:8 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 libkrb5-3 amd64 1.16-2ubuntu0.1 [279 kB]\r\nGet:9 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 libgssapi-krb5-2 amd64 1.16-2ubuntu0.1 [122 kB]\r\nGet:10 http://archive.ubuntu.com/ubuntu bionic/main amd64 libpsl5 amd64 0.19.1-5build1 [41.8 kB]\r\nGet:11 http://archive.ubuntu.com/ubuntu bionic/main amd64 publicsuffix all 20180223.1310-1 [97.6 kB]\r\nGet:12 http://archive.ubuntu.com/ubuntu bionic/main amd64 libnghttp2-14 amd64 1.30.0-1ubuntu1 [77.8 kB]\r\nGet:13 http://archive.ubuntu.com/ubuntu bionic/main amd64 librtmp1 amd64 2.4+20151223.gitfa8646d.1-1 [54.2 kB]\r\nGet:14 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 libcurl4 amd64 7.58.0-2ubuntu3.8 [214 kB]\r\nGet:15 http://archive.ubuntu.com/ubuntu bionic-updates/main amd64 curl amd64 7.58.0-2ubuntu3.8 [159 kB]\r\nGet:16 http://archive.ubuntu.com/ubuntu bionic/main amd64 libnspr4 amd64 2:4.18-1ubuntu1 [112 kB]\r\nFetched 37.4 MB in 4s (9079 kB/s)\r\ndebconf: delaying package configuration, since apt-utils is not installed\r\nSelecting previously unselected package libicu60:amd64.\r\n(Reading database ... 4704 files and directories currently installed.)\r\nPreparing to unpack .../00-libicu60_60.2-3ubuntu3.1_amd64.deb ...\r\nUnpacking libicu60:amd64 (60.2-3ubuntu3.1) ...\r\nSelecting previously unselected package krb5-locales.\r\nPreparing to unpack .../01-krb5-locales_1.16-2ubuntu0.1_all.deb ...\r\nUnpacking krb5-locales (1.16-2ubuntu0.1) ...\r\nSelecting previously unselected package libkrb5support0:amd64.\r\nPreparing to unpack .../02-libkrb5support0_1.16-2ubuntu0.1_amd64.deb ...\r\nUnpacking libkrb5support0:amd64 (1.16-2ubuntu0.1) ...\r\nSelecting previously unselected package libk5crypto3:amd64.\r\nPreparing to unpack .../03-libk5crypto3_1.16-2ubuntu0.1_amd64.deb ...\r\nUnpacking libk5crypto3:amd64 (1.16-2ubuntu0.1) ...\r\nSelecting previously unselected package libkeyutils1:amd64.\r\nPreparing to unpack .../04-libkeyutils1_1.5.9-9.2ubuntu2_amd64.deb ...\r\nUnpacking libkeyutils1:amd64 (1.5.9-9.2ubuntu2) ...\r\nSelecting previously unselected package libkrb5-3:amd64.\r\nPreparing to unpack .../05-libkrb5-3_1.16-2ubuntu0.1_amd64.deb ...\r\nUnpacking libkrb5-3:amd64 (1.16-2ubuntu0.1) ...\r\nSelecting previously unselected package libgssapi-krb5-2:amd64.\r\nPreparing to unpack .../06-libgssapi-krb5-2_1.16-2ubuntu0.1_amd64.deb ...\r\nUnpacking libgssapi-krb5-2:amd64 (1.16-2ubuntu0.1) ...\r\nSelecting previously unselected package libpsl5:amd64.\r\nPreparing to unpack .../07-libpsl5_0.19.1-5build1_amd64.deb ...\r\nUnpacking libpsl5:amd64 (0.19.1-5build1) ...\r\nSelecting previously unselected package publicsuffix.\r\nPreparing to unpack .../08-publicsuffix_20180223.1310-1_all.deb ...\r\nUnpacking publicsuffix (20180223.1310-1) ...\r\nSelecting previously unselected package libnghttp2-14:amd64.\r\nPreparing to unpack .../09-libnghttp2-14_1.30.0-1ubuntu1_amd64.deb ...\r\nUnpacking libnghttp2-14:amd64 (1.30.0-1ubuntu1) ...\r\nSelecting previously unselected package librtmp1:amd64.\r\nPreparing to unpack .../10-librtmp1_2.4+20151223.gitfa8646d.1-1_amd64.deb ...\r\nUnpacking librtmp1:amd64 (2.4+20151223.gitfa8646d.1-1) ...\r\nSelecting previously unselected package libcurl4:amd64.\r\nPreparing to unpack .../11-libcurl4_7.58.0-2ubuntu3.8_amd64.deb ...\r\nUnpacking libcurl4:amd64 (7.58.0-2ubuntu3.8) ...\r\nSelecting previously unselected package curl.\r\nPreparing to unpack .../12-curl_7.58.0-2ubuntu3.8_amd64.deb ...\r\nUnpacking curl (7.58.0-2ubuntu3.8) ...\r\nSelecting previously unselected package libnspr4:amd64.\r\nPreparing to unpack .../13-libnspr4_2%3a4.18-1ubuntu1_amd64.deb ...\r\nUnpacking libnspr4:amd64 (2:4.18-1ubuntu1) ...\r\nSelecting previously unselected package couch-libmozjs185-1.0.\r\nPreparing to unpack .../14-couch-libmozjs185-1.0_1.8.5-1.0.0+couch-2~bionic_amd64.deb ...\r\nUnpacking couch-libmozjs185-1.0 (1.8.5-1.0.0+couch-2~bionic) ...\r\nSelecting previously unselected package couchdb.\r\nPreparing to unpack .../15-couchdb_3.0.0~bionic_amd64.deb ...\r\nUnpacking couchdb (3.0.0~bionic) ...\r\nSetting up libicu60:amd64 (60.2-3ubuntu3.1) ...\r\nSetting up libnghttp2-14:amd64 (1.30.0-1ubuntu1) ...\r\nSetting up libpsl5:amd64 (0.19.1-5build1) ...\r\nSetting up librtmp1:amd64 (2.4+20151223.gitfa8646d.1-1) ...\r\nSetting up libkrb5support0:amd64 (1.16-2ubuntu0.1) ...\r\nSetting up libnspr4:amd64 (2:4.18-1ubuntu1) ...\r\nSetting up krb5-locales (1.16-2ubuntu0.1) ...\r\nSetting up publicsuffix (20180223.1310-1) ...\r\nSetting up libkeyutils1:amd64 (1.5.9-9.2ubuntu2) ...\r\nSetting up libk5crypto3:amd64 (1.16-2ubuntu0.1) ...\r\nSetting up couch-libmozjs185-1.0 (1.8.5-1.0.0+couch-2~bionic) ...\r\nSetting up libkrb5-3:amd64 (1.16-2ubuntu0.1) ...\r\nSetting up libgssapi-krb5-2:amd64 (1.16-2ubuntu0.1) ...\r\nSetting up libcurl4:amd64 (7.58.0-2ubuntu3.8) ...\r\nSetting up curl (7.58.0-2ubuntu3.8) ...\r\nSetting up couchdb (3.0.0~bionic) ...\r\ndebconf: unable to initialize frontend: Dialog\r\ndebconf: (No usable dialog-like program is installed, so the dialog based frontend cannot be used. at /usr/share/perl5/Debconf/FrontEnd/Dialog.pm line 76.)\r\ndebconf: falling back to frontend: Readline\r\ndebconf: unable to initialize frontend: Readline\r\ndebconf: (Can't locate Term/ReadLine.pm in @INC (you may need to install the Term::ReadLine module) (@INC contains: /etc/perl /usr/local/lib/x86_64-linux-gnu/perl/5.26.1 /usr/local/share/perl/5.26.1 /usr/lib/x86_64-linux-gnu/perl5/5.26 /usr/share/perl5 /usr/lib/x86_64-linux-gnu/perl/5.26 /usr/share/perl/5.26 /usr/local/lib/site_perl /usr/lib/x86_64-linux-gnu/perl-base) at /usr/share/perl5/Debconf/FrontEnd/Readline.pm line 7.)\r\ndebconf: falling back to frontend: Teletype\r\nConfiguring couchdb\r\n-------------------\r\n\r\nPlease select the CouchDB server configuration type that best meets your needs.\r\n\r\nFor single-server configurations, select standalone mode. This will set up CouchDB to run as a single server.\r\n\r\nFor clustered configuration, select clustered mode. This will prompt for additional parameters required to configure CouchDB in a\r\nclustered configuration.\r\n\r\nIf you prefer to configure CouchDB yourself, select none. You will then need to edit /opt/couchdb/etc/vm.args and\r\n/opt/couchdb/etc/local.d/*.ini yourself. Be aware that this will bypass *all* configuration steps, including setup of a CouchDB\r\nadmin user - leaving CouchDB in \"admin party\" mode.\r\n\r\n  1. standalone  2. clustered  3. none\r\nGeneral type of CouchDB configuration: 3\r\n\r\ninvoke-rc.d: could not determine current runlevel\r\ninvoke-rc.d: policy-rc.d denied execution of start.\r\nProcessing triggers for libc-bin (2.27-3ubuntu1) ...\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/600746327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601247238","html_url":"https://github.com/apache/couchdb/pull/2648#issuecomment-601247238","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2648","id":601247238,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTI0NzIzOA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T15:34:44Z","updated_at":"2020-03-19T15:34:44Z","author_association":"MEMBER","body":"Hey @atrauzzi , we need documentation for this change. Would you be willing to file a PR against https://github.com/apache/couchdb-documentation ? Thanks! Both myself and @flimzy can help if you need it.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601247238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601266656","html_url":"https://github.com/apache/couchdb/pull/2666#issuecomment-601266656","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2666","id":601266656,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTI2NjY1Ng==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T16:07:23Z","updated_at":"2020-03-20T05:44:59Z","author_association":"CONTRIBUTOR","body":"Thinking about this some more I wonder if it would make sense to separate enabling HCA from soft-deletion. Those are rather independent features. So for example, we'd have a PR to enable HCA. We'd test that make sure that works. Then, as a separate piece of work, we'd enable soft-deletion. Would that be reasonable?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601266656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601283094","html_url":"https://github.com/apache/couchdb/pull/2648#issuecomment-601283094","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2648","id":601283094,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTI4MzA5NA==","user":{"login":"atrauzzi","id":115199,"node_id":"MDQ6VXNlcjExNTE5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/115199?v=4","gravatar_id":"","url":"https://api.github.com/users/atrauzzi","html_url":"https://github.com/atrauzzi","followers_url":"https://api.github.com/users/atrauzzi/followers","following_url":"https://api.github.com/users/atrauzzi/following{/other_user}","gists_url":"https://api.github.com/users/atrauzzi/gists{/gist_id}","starred_url":"https://api.github.com/users/atrauzzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atrauzzi/subscriptions","organizations_url":"https://api.github.com/users/atrauzzi/orgs","repos_url":"https://api.github.com/users/atrauzzi/repos","events_url":"https://api.github.com/users/atrauzzi/events{/privacy}","received_events_url":"https://api.github.com/users/atrauzzi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T16:37:52Z","updated_at":"2020-03-19T16:37:52Z","author_association":"CONTRIBUTOR","body":"@wohali - Sure thing!\r\n\r\n@rnewson, would you like me to wait until you've made your changes before doing any doc work?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601283094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601375396","html_url":"https://github.com/apache/couchdb/issues/2635#issuecomment-601375396","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2635","id":601375396,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTM3NTM5Ng==","user":{"login":"natcohen","id":7813574,"node_id":"MDQ6VXNlcjc4MTM1NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7813574?v=4","gravatar_id":"","url":"https://api.github.com/users/natcohen","html_url":"https://github.com/natcohen","followers_url":"https://api.github.com/users/natcohen/followers","following_url":"https://api.github.com/users/natcohen/following{/other_user}","gists_url":"https://api.github.com/users/natcohen/gists{/gist_id}","starred_url":"https://api.github.com/users/natcohen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/natcohen/subscriptions","organizations_url":"https://api.github.com/users/natcohen/orgs","repos_url":"https://api.github.com/users/natcohen/repos","events_url":"https://api.github.com/users/natcohen/events{/privacy}","received_events_url":"https://api.github.com/users/natcohen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T19:28:34Z","updated_at":"2020-03-19T19:32:01Z","author_association":"NONE","body":"@rnewson Partial search is widely used especially for auto-complete. Any chance someone can help exposing the n-gram analyzer? I have posted an issue to get some guidance [here](https://github.com/cloudant-labs/clouseau/issues/29) but Clouseau doesn't seem super active! \r\n\r\nPS There are other useful analyzers that would be great exposing such as n-gram edge...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601375396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601417321","html_url":"https://github.com/apache/couchdb/issues/2221#issuecomment-601417321","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2221","id":601417321,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTQxNzMyMQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T21:07:37Z","updated_at":"2020-03-19T21:07:37Z","author_association":"MEMBER","body":"I think this is now resolved by #2452 . If not, please let us know.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601417321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601462595","html_url":"https://github.com/apache/couchdb/pull/2683#issuecomment-601462595","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2683","id":601462595,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTQ2MjU5NQ==","user":{"login":"jjrodrig","id":1001724,"node_id":"MDQ6VXNlcjEwMDE3MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1001724?v=4","gravatar_id":"","url":"https://api.github.com/users/jjrodrig","html_url":"https://github.com/jjrodrig","followers_url":"https://api.github.com/users/jjrodrig/followers","following_url":"https://api.github.com/users/jjrodrig/following{/other_user}","gists_url":"https://api.github.com/users/jjrodrig/gists{/gist_id}","starred_url":"https://api.github.com/users/jjrodrig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjrodrig/subscriptions","organizations_url":"https://api.github.com/users/jjrodrig/orgs","repos_url":"https://api.github.com/users/jjrodrig/repos","events_url":"https://api.github.com/users/jjrodrig/events{/privacy}","received_events_url":"https://api.github.com/users/jjrodrig/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T23:28:32Z","updated_at":"2020-03-19T23:28:32Z","author_association":"CONTRIBUTOR","body":"Thanks @nickva ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601462595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601578296","html_url":"https://github.com/apache/couchdb/pull/2685#issuecomment-601578296","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2685","id":601578296,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTU3ODI5Ng==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-20T08:09:00Z","updated_at":"2020-03-20T08:09:00Z","author_association":"MEMBER","body":"@davisp @rnewson This PR is still work in progress, but can you please take a look if general shape of things seems fine to you?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601578296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601664140","html_url":"https://github.com/apache/couchdb/pull/2595#issuecomment-601664140","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2595","id":601664140,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTY2NDE0MA==","user":{"login":"dottorblaster","id":20770,"node_id":"MDQ6VXNlcjIwNzcw","avatar_url":"https://avatars.githubusercontent.com/u/20770?v=4","gravatar_id":"","url":"https://api.github.com/users/dottorblaster","html_url":"https://github.com/dottorblaster","followers_url":"https://api.github.com/users/dottorblaster/followers","following_url":"https://api.github.com/users/dottorblaster/following{/other_user}","gists_url":"https://api.github.com/users/dottorblaster/gists{/gist_id}","starred_url":"https://api.github.com/users/dottorblaster/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dottorblaster/subscriptions","organizations_url":"https://api.github.com/users/dottorblaster/orgs","repos_url":"https://api.github.com/users/dottorblaster/repos","events_url":"https://api.github.com/users/dottorblaster/events{/privacy}","received_events_url":"https://api.github.com/users/dottorblaster/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-20T11:59:28Z","updated_at":"2020-03-20T11:59:28Z","author_association":"MEMBER","body":"@wohali @janl what's your opinion on this?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601664140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601675436","html_url":"https://github.com/apache/couchdb/pull/2662#issuecomment-601675436","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2662","id":601675436,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTY3NTQzNg==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-20T12:29:15Z","updated_at":"2020-03-20T12:29:15Z","author_association":"CONTRIBUTOR","body":"@garrensmith I think I fixed all problems and fully incorporated your feedback.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601675436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601693049","html_url":"https://github.com/apache/couchdb/pull/2666#issuecomment-601693049","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2666","id":601693049,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTY5MzA0OQ==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-20T13:12:26Z","updated_at":"2020-03-20T13:12:26Z","author_association":"CONTRIBUTOR","body":"> Thinking about this some more I wonder if it would make sense to separate enabling HCA from soft-deletion. Those are rather independent features. So for example, we'd have a PR to enable HCA. We'd test that make sure that works. Then, as a separate piece of work, we'd enable soft-deletion. Would that be reasonable?\r\n\r\nYes, it is totally reasonable. We can have 2 PRs, i.e. one is for enabling HCA, and another is for soft-deletion. The only point I have is where to call ` DbPrefixAllocator = erlfdb_hca:create(?ERLFDB_EXTEND(DbId, <<\"hca\">>)),`. In https://github.com/cloudant-labs/couchdb-erlfdb/pull/16/files#diff-cf5acaebd8465ae3276370bbf8d7aaf1R383, it was supposed that this can be called once or limited times, but after moving to `fabric2_fdb.erl `,  I stil try to find right place to call it.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601693049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601705030","html_url":"https://github.com/apache/couchdb/pull/2686#issuecomment-601705030","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2686","id":601705030,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTcwNTAzMA==","user":{"login":"jjrodrig","id":1001724,"node_id":"MDQ6VXNlcjEwMDE3MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1001724?v=4","gravatar_id":"","url":"https://api.github.com/users/jjrodrig","html_url":"https://github.com/jjrodrig","followers_url":"https://api.github.com/users/jjrodrig/followers","following_url":"https://api.github.com/users/jjrodrig/following{/other_user}","gists_url":"https://api.github.com/users/jjrodrig/gists{/gist_id}","starred_url":"https://api.github.com/users/jjrodrig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjrodrig/subscriptions","organizations_url":"https://api.github.com/users/jjrodrig/orgs","repos_url":"https://api.github.com/users/jjrodrig/repos","events_url":"https://api.github.com/users/jjrodrig/events{/privacy}","received_events_url":"https://api.github.com/users/jjrodrig/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-20T13:37:26Z","updated_at":"2020-03-20T13:37:26Z","author_association":"CONTRIBUTOR","body":"+1\r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601705030/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601774701","html_url":"https://github.com/apache/couchdb/pull/2687#issuecomment-601774701","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2687","id":601774701,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTc3NDcwMQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-20T15:57:34Z","updated_at":"2020-03-20T15:57:34Z","author_association":"MEMBER","body":"@atrauzzi FYI we'll also need an approval from a committer before this can land. (That shouldn't be me.)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601774701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601777942","html_url":"https://github.com/apache/couchdb/pull/2595#issuecomment-601777942","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2595","id":601777942,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTc3Nzk0Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-20T16:03:45Z","updated_at":"2020-03-20T16:03:45Z","author_association":"MEMBER","body":"A ulimit that low is highly unusual, given the default on Linux has been 1024 fds since 2.6.39. Your PAM/initd might be forcing it lower, but that's more often than not a user _choice_, not an OS default.\r\n\r\nWe also discuss increasing the ulimit for CouchDB itself in the documentation, both in the Performance section and the Runtime Errors section.\r\n\r\nGenerally I feel this change is outside the scope of our Makefile to make, since it's altering the shell environment permanently. This kind of setting should be in the user's development environment or CI setup scripting, not in our Makefile.\r\n\r\nI'm -0.5 on this PR (meaning I'm against it, but won't block it if someone else feels strongly it should land.)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601777942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601794444","html_url":"https://github.com/apache/couchdb/pull/2687#issuecomment-601794444","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2687","id":601794444,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTc5NDQ0NA==","user":{"login":"atrauzzi","id":115199,"node_id":"MDQ6VXNlcjExNTE5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/115199?v=4","gravatar_id":"","url":"https://api.github.com/users/atrauzzi","html_url":"https://github.com/atrauzzi","followers_url":"https://api.github.com/users/atrauzzi/followers","following_url":"https://api.github.com/users/atrauzzi/following{/other_user}","gists_url":"https://api.github.com/users/atrauzzi/gists{/gist_id}","starred_url":"https://api.github.com/users/atrauzzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atrauzzi/subscriptions","organizations_url":"https://api.github.com/users/atrauzzi/orgs","repos_url":"https://api.github.com/users/atrauzzi/repos","events_url":"https://api.github.com/users/atrauzzi/events{/privacy}","received_events_url":"https://api.github.com/users/atrauzzi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-20T16:33:25Z","updated_at":"2020-03-20T16:33:42Z","author_association":"CONTRIBUTOR","body":"Yes, of course! 🙂","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601794444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601808403","html_url":"https://github.com/apache/couchdb/pull/2684#issuecomment-601808403","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2684","id":601808403,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTgwODQwMw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-20T17:00:51Z","updated_at":"2020-03-20T17:00:51Z","author_association":"MEMBER","body":"Hi @jjrodrig ,\r\n\r\nIn the future, now that you're a committer, feel free to work directly on a branch here in the `apache/couchdb` repo. That way, I don't have to pull from your fork (and you don't have to maintain one!) for these changes.\r\n\r\nThat said, I can't get `make elixir` to work. Note that it worked perfectly from a 3.0.0 checkout.\r\n\r\nFrom a fresh checkout of your branch, `make elixir` fails. The `dev\\run` script starts CouchDB which immediately crashes with:\r\n\r\n```\r\nkernel-poll not supported; \"K\" parameter ignored\r\n{\"init terminating in do_boot\",{{error,{\"no such file or directory\",\"setup.app\"}},[{boot_node,start_app,3,[{file,\"c:/relax/couchdb-git/dev/boot_node.erl\"},{line,146}]},{lists,foldl,3,[{file,\"c:/relax/otp/lib/stdlib/src/lists.erl\"},{line,1263}]},{init,start_em,1,[{file,\"init.erl\"},{line,1085}]},{init,do_boot,3,[{file,\"init.erl\"},{line,793}]}]}}\r\ninit terminating in do_boot ({{error,{no such file or directory,setup.app}},[{boot_node,start_app,3,[{_},{_}]},{lists,foldl,3,[{_},{_}]},{init,start_em,1,[{_},{_}]},{init,do_boot,3,[{_},{_}]}]})\r\n\r\nCrash dump is being written to: erl_crash.dump...done\r\n```\r\n\r\nI tried changing the direction of the slashes in the added `--locald-config` line to no effect.\r\n\r\n:thinking: ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601808403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601951099","html_url":"https://github.com/apache/couchdb/issues/2680#issuecomment-601951099","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2680","id":601951099,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTk1MTA5OQ==","user":{"login":"browntownington","id":19516522,"node_id":"MDQ6VXNlcjE5NTE2NTIy","avatar_url":"https://avatars.githubusercontent.com/u/19516522?v=4","gravatar_id":"","url":"https://api.github.com/users/browntownington","html_url":"https://github.com/browntownington","followers_url":"https://api.github.com/users/browntownington/followers","following_url":"https://api.github.com/users/browntownington/following{/other_user}","gists_url":"https://api.github.com/users/browntownington/gists{/gist_id}","starred_url":"https://api.github.com/users/browntownington/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/browntownington/subscriptions","organizations_url":"https://api.github.com/users/browntownington/orgs","repos_url":"https://api.github.com/users/browntownington/repos","events_url":"https://api.github.com/users/browntownington/events{/privacy}","received_events_url":"https://api.github.com/users/browntownington/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-20T23:22:17Z","updated_at":"2020-03-20T23:41:18Z","author_association":"NONE","body":"Hi I can confirm that I have similar if not the same issue as OP. CouchDB 3.0 Windows 10. \r\n\r\nIn windows event viewer:\r\n\r\n```\r\nStarted C:\\CouchDB\\bin\\couchdb.cmd  for service Apache CouchDB in C:\\CouchDB\\bin.\r\n\r\nProgram C:\\CouchDB\\bin\\couchdb.cmd for service Apache CouchDB exited with return code 1.\r\n\r\nKilling process tree of process 21608 for service Apache CouchDB with exit code 1\r\n\r\nKilling PID 21608 in process tree of PID 21608 because service Apache CouchDB is stopping.\r\n\r\nService Apache CouchDB action for exit code 1 is Restart. Attempting to restart C:\\CouchDB\\bin\\couchdb.cmd.\r\n\r\nStarted C:\\CouchDB\\bin\\couchdb.cmd  for service Apache CouchDB in C:\\CouchDB\\bin.\r\n\r\nREPEAT..\r\n```\r\n\r\nIdentical output when I run `C:\\CouchDB\\bin\\couch`\r\n\r\n```\r\nC:\\CouchDB>C:\\CouchDB\\bin\\couchdb.cmd\r\nkernel-poll not supported; \"K\" parameter ignored\r\n2020-03-21 09:06:18 inet_parse:~p:~p: erroneous line, SKIPPED~n\r\n        \"c:/WINDOWS/System32/drivers/etc/hosts\"\r\n        1\r\n{\"Kernel pid terminated\",application_controller,\"{application_start_failure,couch_epi,{{shutdown,{failed_to_start_child,\\\"couch_epi|chttpd_auth|keeper\\\",{undef,[{crypto,hash,[md5,<<131,106>>],[]},{couch_epi_util,hash,1,[{file,\\\"src/couch_epi_util.erl\\\"},{line,25}]},{couch_epi_functions,data,1,[{file,\\\"src/couch_epi_functions.erl\\\"},{line,33}]},{couch_epi_module_keeper,do_reload_if_updated,1,[{file,\\\"src/couch_epi_module_keeper.erl\\\"},{line,116}]},{gen_server,init_it,2,[{file,\\\"c:/relax/otp/lib/stdlib/src/gen_server.erl\\\"},{line,365}]},{gen_server,init_it,6,[{file,\\\"c:/relax/otp/lib/stdlib/src/gen_server.erl\\\"},{line,333}]},{proc_lib,init_p_do_apply,3,[{file,\\\"c:/relax/otp/lib/stdlib/src/proc_lib.erl\\\"},{line,247}]}]}}},{couch_epi_app,start,[normal,[]]}}}\"}\r\nKernel pid terminated (application_controller) ({application_start_failure,couch_epi,{{shutdown,{failed_to_start_child,\"couch_epi|chttpd_auth|keeper\",{undef,[{crypto,hash,[md5,<<131,106>>],[]},{couch_\r\n\r\nCrash dump is being written to: erl_crash.dump...done\r\n```\r\n\r\nThe lines 3-5 in the above are the only differences in the output of OP.\r\n\r\nI do not have OpenSSL installed (that I am ware of) but I do have OpenVPN(client) installed.\r\n\r\nDLL listing in CouchDB/Bin is as follows:\r\nicudt61\r\nicuin61\r\nicuio61\r\nicutu61\r\nicuuc61\r\nlibcrypto-1_1-x64\r\nlibcurl\r\nlibssl-1_1-x64\r\nmozjs-60\r\nnspr4\r\nplc4\r\nplds4\r\nzlib1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601951099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601955415","html_url":"https://github.com/apache/couchdb/pull/2684#issuecomment-601955415","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2684","id":601955415,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTk1NTQxNQ==","user":{"login":"jjrodrig","id":1001724,"node_id":"MDQ6VXNlcjEwMDE3MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1001724?v=4","gravatar_id":"","url":"https://api.github.com/users/jjrodrig","html_url":"https://github.com/jjrodrig","followers_url":"https://api.github.com/users/jjrodrig/followers","following_url":"https://api.github.com/users/jjrodrig/following{/other_user}","gists_url":"https://api.github.com/users/jjrodrig/gists{/gist_id}","starred_url":"https://api.github.com/users/jjrodrig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjrodrig/subscriptions","organizations_url":"https://api.github.com/users/jjrodrig/orgs","repos_url":"https://api.github.com/users/jjrodrig/repos","events_url":"https://api.github.com/users/jjrodrig/events{/privacy}","received_events_url":"https://api.github.com/users/jjrodrig/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-20T23:42:11Z","updated_at":"2020-03-20T23:42:11Z","author_association":"CONTRIBUTOR","body":"Hi @wohali \r\nI've the same error when I don't have a successful `make couch' before to run 'make elixir'\r\nThe 'make couch' was successful?\r\n\r\nI managed to execute `dev\\run` (without building couchdb) in a windows and I've test that the local.d folder is created and the test-config.ini is placed on the folder.  \r\n\r\nI've tested / and \\ path separators and both are working. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601955415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601958541","html_url":"https://github.com/apache/couchdb/pull/2672#issuecomment-601958541","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2672","id":601958541,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTk1ODU0MQ==","user":{"login":"chewbranca","id":5326,"node_id":"MDQ6VXNlcjUzMjY=","avatar_url":"https://avatars.githubusercontent.com/u/5326?v=4","gravatar_id":"","url":"https://api.github.com/users/chewbranca","html_url":"https://github.com/chewbranca","followers_url":"https://api.github.com/users/chewbranca/followers","following_url":"https://api.github.com/users/chewbranca/following{/other_user}","gists_url":"https://api.github.com/users/chewbranca/gists{/gist_id}","starred_url":"https://api.github.com/users/chewbranca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chewbranca/subscriptions","organizations_url":"https://api.github.com/users/chewbranca/orgs","repos_url":"https://api.github.com/users/chewbranca/repos","events_url":"https://api.github.com/users/chewbranca/events{/privacy}","received_events_url":"https://api.github.com/users/chewbranca/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-20T23:57:58Z","updated_at":"2020-03-20T23:57:58Z","author_association":"CONTRIBUTOR","body":"Here's a WIP PR for addressing the underlying db creation issues: https://github.com/apache/couchdb/pull/2690","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601958541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601958629","html_url":"https://github.com/apache/couchdb/issues/2680#issuecomment-601958629","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2680","id":601958629,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTk1ODYyOQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-20T23:58:25Z","updated_at":"2020-03-20T23:58:25Z","author_association":"MEMBER","body":"Lines 3-5 should not matter.\r\n\r\nPlease confirm the specific version of Windows 10 you're on - the build number - and please confirm you're on 64-bit?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601958629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601959301","html_url":"https://github.com/apache/couchdb/pull/2690#issuecomment-601959301","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2690","id":601959301,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTk1OTMwMQ==","user":{"login":"chewbranca","id":5326,"node_id":"MDQ6VXNlcjUzMjY=","avatar_url":"https://avatars.githubusercontent.com/u/5326?v=4","gravatar_id":"","url":"https://api.github.com/users/chewbranca","html_url":"https://github.com/chewbranca","followers_url":"https://api.github.com/users/chewbranca/followers","following_url":"https://api.github.com/users/chewbranca/following{/other_user}","gists_url":"https://api.github.com/users/chewbranca/gists{/gist_id}","starred_url":"https://api.github.com/users/chewbranca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chewbranca/subscriptions","organizations_url":"https://api.github.com/users/chewbranca/orgs","repos_url":"https://api.github.com/users/chewbranca/repos","events_url":"https://api.github.com/users/chewbranca/events{/privacy}","received_events_url":"https://api.github.com/users/chewbranca/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-21T00:01:38Z","updated_at":"2020-03-21T00:01:38Z","author_association":"CONTRIBUTOR","body":"BTW... I believe this issue also extends to PSE databases created while a node was out of rotation. Basically anything that relies on database creation config options, which is PSE and PQ (anything else?).\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601959301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601959806","html_url":"https://github.com/apache/couchdb/issues/2680#issuecomment-601959806","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2680","id":601959806,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTk1OTgwNg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-21T00:03:56Z","updated_at":"2020-03-21T00:03:56Z","author_association":"MEMBER","body":"My  problem here is that I can't reproduce this problem on a brand new Windows 10 64-bit (19xx build number) on an AWS instance. Without a reproducible bug here, I'm not sure what step to take next. \r\n\r\nThe core part of the error is: `{undef,[{crypto,hash,[md5,<<131,106>>]` which means the `crypto:hash/2` function doesn't recognize `md5` as a valid hash type. The erlang `crypto` module relies on the algorithms in OpenSSL for that support, which is why those are included in the binary download.\r\n\r\nThe only theory I have is that something in your PATH is intercepting the DLL linkage to the libcrypto/libssl libraries. \r\n\r\nThings you could try:\r\n* stripping your PATH to the bare essentials\r\n* scouring your system for any other location where there is a libcrypto or libssl DLL and temporarily moving those aside - especially under the `C:\\Windows\\` folder\r\n\r\nLet me know if any of this helps.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601959806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601966985","html_url":"https://github.com/apache/couchdb/issues/2680#issuecomment-601966985","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2680","id":601966985,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTk2Njk4NQ==","user":{"login":"browntownington","id":19516522,"node_id":"MDQ6VXNlcjE5NTE2NTIy","avatar_url":"https://avatars.githubusercontent.com/u/19516522?v=4","gravatar_id":"","url":"https://api.github.com/users/browntownington","html_url":"https://github.com/browntownington","followers_url":"https://api.github.com/users/browntownington/followers","following_url":"https://api.github.com/users/browntownington/following{/other_user}","gists_url":"https://api.github.com/users/browntownington/gists{/gist_id}","starred_url":"https://api.github.com/users/browntownington/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/browntownington/subscriptions","organizations_url":"https://api.github.com/users/browntownington/orgs","repos_url":"https://api.github.com/users/browntownington/repos","events_url":"https://api.github.com/users/browntownington/events{/privacy}","received_events_url":"https://api.github.com/users/browntownington/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-21T00:40:56Z","updated_at":"2020-03-21T00:47:23Z","author_association":"NONE","body":"@wohali thanks for putting some solid thought into this issue...\r\n\r\nMy windows 10 laptop (with this issue)\r\nMicrosoft Windows [Version 10.0.17763.1098] - 64bit\r\n\r\nI have a fresh install of windows 10 on a laptop and confirm it's working without issues.\r\nMicrosoft Windows [Version 10.0.18363.657] - 64bit\r\n\r\nI have attached the screenshots of SYSTEM and USER PATH. I have alot of variables so it might take me time to remove everything. \r\n\r\nI will advise on the search results soon.\r\n\r\n![system-path](https://user-images.githubusercontent.com/19516522/77215653-71034800-6b69-11ea-8230-cad9bf42e7c0.JPG)\r\n![user-path](https://user-images.githubusercontent.com/19516522/77215656-7365a200-6b69-11ea-91b3-bffa90903107.JPG)\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601966985/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601998872","html_url":"https://github.com/apache/couchdb/issues/2680#issuecomment-601998872","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2680","id":601998872,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTk5ODg3Mg==","user":{"login":"nkev","id":5410916,"node_id":"MDQ6VXNlcjU0MTA5MTY=","avatar_url":"https://avatars.githubusercontent.com/u/5410916?v=4","gravatar_id":"","url":"https://api.github.com/users/nkev","html_url":"https://github.com/nkev","followers_url":"https://api.github.com/users/nkev/followers","following_url":"https://api.github.com/users/nkev/following{/other_user}","gists_url":"https://api.github.com/users/nkev/gists{/gist_id}","starred_url":"https://api.github.com/users/nkev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nkev/subscriptions","organizations_url":"https://api.github.com/users/nkev/orgs","repos_url":"https://api.github.com/users/nkev/repos","events_url":"https://api.github.com/users/nkev/events{/privacy}","received_events_url":"https://api.github.com/users/nkev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-21T05:42:21Z","updated_at":"2020-03-21T05:42:21Z","author_association":"NONE","body":"@browntownington Did you previously have CouchDB v2.3.1 installed like me? If so, maybe @wohali could try installing that first and upgrading to v3.0 to try and reproduce the issue.\r\n\r\n@wohali Here is the info you asked for:\r\n\r\n1. CouchDB/bin contents:\r\n![image](https://user-images.githubusercontent.com/5410916/77220263-7cb73480-6b92-11ea-8f8e-dbe2c8a4cd49.png)\r\n\r\n2. I do have OpenSSL installed\r\n![image](https://user-images.githubusercontent.com/5410916/77220282-b5570e00-6b92-11ea-94aa-fdbc54e33887.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/601998872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602002598","html_url":"https://github.com/apache/couchdb/issues/2680#issuecomment-602002598","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2680","id":602002598,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjAwMjU5OA==","user":{"login":"browntownington","id":19516522,"node_id":"MDQ6VXNlcjE5NTE2NTIy","avatar_url":"https://avatars.githubusercontent.com/u/19516522?v=4","gravatar_id":"","url":"https://api.github.com/users/browntownington","html_url":"https://github.com/browntownington","followers_url":"https://api.github.com/users/browntownington/followers","following_url":"https://api.github.com/users/browntownington/following{/other_user}","gists_url":"https://api.github.com/users/browntownington/gists{/gist_id}","starred_url":"https://api.github.com/users/browntownington/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/browntownington/subscriptions","organizations_url":"https://api.github.com/users/browntownington/orgs","repos_url":"https://api.github.com/users/browntownington/repos","events_url":"https://api.github.com/users/browntownington/events{/privacy}","received_events_url":"https://api.github.com/users/browntownington/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-21T06:25:45Z","updated_at":"2020-03-21T06:30:19Z","author_association":"NONE","body":"@nkev I'm brand new to couchdb... v3.0 is my first install / experience.\r\n\r\nI suspect @wohali is on the right track with lilcrypto and lilssl / conflicting PATH variables.\r\n\r\n@wohali can you explain alittle more about how couchdb uses libssl and libcrypto?\r\n\r\nWhen I do a search on libssl and libcrypto in the C:\\CouchDB\\bin I get the two following files\r\n`libssl-1_1-x64.dll\r\nlibcrypto-1_1-x64.dll`\r\n\r\nIf I do a search on those exact same files (same file names) - I found 12 results (as displayed in the screen shots)\r\n\r\n![libssl-search](https://user-images.githubusercontent.com/19516522/77220904-d0c51780-6b98-11ea-95fc-66a826d67dde.JPG)\r\n![libcrypto-search](https://user-images.githubusercontent.com/19516522/77220906-d1f64480-6b98-11ea-9cac-b24e33dc11a5.JPG)\r\n\r\nIf I search 'libssl' and 'libcrypto' I get 100's of results so I assume CouchDB is specially looking for  libssl-1_1-x64.dll and libcrypto-1_1-x64.dll? libcrypto.dll and libssl.dll live in system32\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602002598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602010198","html_url":"https://github.com/apache/couchdb/issues/2680#issuecomment-602010198","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2680","id":602010198,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjAxMDE5OA==","user":{"login":"nkev","id":5410916,"node_id":"MDQ6VXNlcjU0MTA5MTY=","avatar_url":"https://avatars.githubusercontent.com/u/5410916?v=4","gravatar_id":"","url":"https://api.github.com/users/nkev","html_url":"https://github.com/nkev","followers_url":"https://api.github.com/users/nkev/followers","following_url":"https://api.github.com/users/nkev/following{/other_user}","gists_url":"https://api.github.com/users/nkev/gists{/gist_id}","starred_url":"https://api.github.com/users/nkev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nkev/subscriptions","organizations_url":"https://api.github.com/users/nkev/orgs","repos_url":"https://api.github.com/users/nkev/repos","events_url":"https://api.github.com/users/nkev/events{/privacy}","received_events_url":"https://api.github.com/users/nkev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-21T07:50:17Z","updated_at":"2020-03-21T08:08:23Z","author_association":"NONE","body":"@browntownington It looks like you also have CouchBase installed. I don't have it installed for the record, and I'm not sure whether that would cause any clashes, but it's something worth noting in case your issue is different.\r\n\r\nI just uninstalled OpenSSL and CouchDB 3.0, deleted the `C:\\CouchDB` residue folder, rebooted Windows, installed CouchDB 3.0 again and unfortunately, I still have the same issue. \r\n\r\nWindows Event Viewer again shows CouchDB keeps starting several times a second:\r\n\r\n![image](https://user-images.githubusercontent.com/5410916/77221101-a07e7880-6b9a-11ea-97f1-3b9913c9580f.png)\r\n\r\nHere are my `Local Disk` searches on `libssl` and `libcrypto`:\r\n\r\n![image](https://user-images.githubusercontent.com/5410916/77222130-995c6800-6ba4-11ea-89da-94bc5d61a40c.png)\r\n\r\n![image](https://user-images.githubusercontent.com/5410916/77222138-aed19200-6ba4-11ea-9819-3ea4e56afadc.png)\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602010198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602012332","html_url":"https://github.com/apache/couchdb/issues/2680#issuecomment-602012332","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2680","id":602012332,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjAxMjMzMg==","user":{"login":"browntownington","id":19516522,"node_id":"MDQ6VXNlcjE5NTE2NTIy","avatar_url":"https://avatars.githubusercontent.com/u/19516522?v=4","gravatar_id":"","url":"https://api.github.com/users/browntownington","html_url":"https://github.com/browntownington","followers_url":"https://api.github.com/users/browntownington/followers","following_url":"https://api.github.com/users/browntownington/following{/other_user}","gists_url":"https://api.github.com/users/browntownington/gists{/gist_id}","starred_url":"https://api.github.com/users/browntownington/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/browntownington/subscriptions","organizations_url":"https://api.github.com/users/browntownington/orgs","repos_url":"https://api.github.com/users/browntownington/repos","events_url":"https://api.github.com/users/browntownington/events{/privacy}","received_events_url":"https://api.github.com/users/browntownington/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-21T08:12:11Z","updated_at":"2020-03-21T08:12:11Z","author_association":"NONE","body":"@nkev I think I am going to take @wohali 's original advise and remove ALL PATH variables, test, then add them back in one by one and test. Will report back soon.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602012332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602013309","html_url":"https://github.com/apache/couchdb/issues/2680#issuecomment-602013309","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2680","id":602013309,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjAxMzMwOQ==","user":{"login":"nkev","id":5410916,"node_id":"MDQ6VXNlcjU0MTA5MTY=","avatar_url":"https://avatars.githubusercontent.com/u/5410916?v=4","gravatar_id":"","url":"https://api.github.com/users/nkev","html_url":"https://github.com/nkev","followers_url":"https://api.github.com/users/nkev/followers","following_url":"https://api.github.com/users/nkev/following{/other_user}","gists_url":"https://api.github.com/users/nkev/gists{/gist_id}","starred_url":"https://api.github.com/users/nkev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nkev/subscriptions","organizations_url":"https://api.github.com/users/nkev/orgs","repos_url":"https://api.github.com/users/nkev/repos","events_url":"https://api.github.com/users/nkev/events{/privacy}","received_events_url":"https://api.github.com/users/nkev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-21T08:24:34Z","updated_at":"2020-03-21T08:25:11Z","author_association":"NONE","body":"Ok. The odd thing is CouchDB v2.3.1 installs and works fine, even with all those other DLLs. CouchDB v3.0 obviously does something differently.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602013309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602109855","html_url":"https://github.com/apache/couchdb/pull/2691#issuecomment-602109855","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2691","id":602109855,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjEwOTg1NQ==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-21T21:52:24Z","updated_at":"2020-03-21T21:52:24Z","author_association":"CONTRIBUTOR","body":"We have something similar in https://github.com/apache/couchdb/blob/prototype/fdb-layer/src/fabric/src/fabric2_fdb.erl#L1674 but it does an extra metadata check and if it is stale, reads the UUID from config section. Here we already have the UUID cached in the handle after reopen happens. I did think about reusing it but it was different enough that it didn't seem worth it.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602109855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602110084","html_url":"https://github.com/apache/couchdb/pull/2691#issuecomment-602110084","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2691","id":602110084,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjExMDA4NA==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-21T21:54:33Z","updated_at":"2020-03-21T21:54:33Z","author_association":"MEMBER","body":"I just meant to make sure we test it. Wasn't sure if it was already tested and/or belonged in those tests.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602110084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602112987","html_url":"https://github.com/apache/couchdb/pull/2691#issuecomment-602112987","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2691","id":602112987,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjExMjk4Nw==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-21T22:21:36Z","updated_at":"2020-03-21T22:21:36Z","author_association":"CONTRIBUTOR","body":"Oh good point. I don't think we test that. I will write a few tests for it.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602112987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602117388","html_url":"https://github.com/apache/couchdb/pull/2691#issuecomment-602117388","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2691","id":602117388,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjExNzM4OA==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-21T23:10:06Z","updated_at":"2020-03-21T23:10:06Z","author_association":"MEMBER","body":"Cool. The tests here were good and it just occurred to me to ask about the other place.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602117388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602121128","html_url":"https://github.com/apache/couchdb/pull/2691#issuecomment-602121128","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2691","id":602121128,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjEyMTEyOA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-21T23:52:18Z","updated_at":"2020-03-21T23:52:18Z","author_association":"CONTRIBUTOR","body":"Yap, definitely good idea. Made a PR for the test https://github.com/apache/couchdb/pull/2696\r\n\r\nAs a bonus I had noticed two more issues:\r\n\r\n - I had forgotten to unload the mocked erlfdb module and since it was in the same test file I added that in there as well\r\n\r\n - This PR also had broken couch_jobs. Since there is some re-use of fabric2_db function with couch_jobs \"jtx\" contexts, I had switching a head matching function to accept jtx objects now but they don't have a name so was seeing test failures. https://github.com/apache/couchdb/blob/prototype/fdb-layer/src/fabric/src/fabric2_fdb.erl#L293. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602121128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602125374","html_url":"https://github.com/apache/couchdb/pull/2691#issuecomment-602125374","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2691","id":602125374,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjEyNTM3NA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-22T00:19:23Z","updated_at":"2020-03-22T00:19:23Z","author_association":"CONTRIBUTOR","body":"Made a PR to fix dumb mistake and breaking couch_jobs https://github.com/apache/couchdb/pull/2697","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602125374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602149828","html_url":"https://github.com/apache/couchdb/issues/2680#issuecomment-602149828","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2680","id":602149828,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjE0OTgyOA==","user":{"login":"browntownington","id":19516522,"node_id":"MDQ6VXNlcjE5NTE2NTIy","avatar_url":"https://avatars.githubusercontent.com/u/19516522?v=4","gravatar_id":"","url":"https://api.github.com/users/browntownington","html_url":"https://github.com/browntownington","followers_url":"https://api.github.com/users/browntownington/followers","following_url":"https://api.github.com/users/browntownington/following{/other_user}","gists_url":"https://api.github.com/users/browntownington/gists{/gist_id}","starred_url":"https://api.github.com/users/browntownington/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/browntownington/subscriptions","organizations_url":"https://api.github.com/users/browntownington/orgs","repos_url":"https://api.github.com/users/browntownington/repos","events_url":"https://api.github.com/users/browntownington/events{/privacy}","received_events_url":"https://api.github.com/users/browntownington/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-22T05:20:07Z","updated_at":"2020-03-22T05:20:07Z","author_association":"NONE","body":"@nkev @wohali I've resolved the issue. It took abit of time to remove ALL USER and SYSTEM PATH variables and add them in one at a time (rebooting system each time.)\r\n\r\nAnd the culprit was....\r\n\r\nOPENVPN\r\n\r\nWhich is funny because I suspected this originally. I'm not sure what implications removing this from the PATH variable with have on OpenVPN (but since I am not suing the client at the moment it's not so much an issue.)\r\n\r\nI will be curious to see what can be done about this compatibility in the future.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602149828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602150053","html_url":"https://github.com/apache/couchdb/issues/2680#issuecomment-602150053","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2680","id":602150053,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjE1MDA1Mw==","user":{"login":"browntownington","id":19516522,"node_id":"MDQ6VXNlcjE5NTE2NTIy","avatar_url":"https://avatars.githubusercontent.com/u/19516522?v=4","gravatar_id":"","url":"https://api.github.com/users/browntownington","html_url":"https://github.com/browntownington","followers_url":"https://api.github.com/users/browntownington/followers","following_url":"https://api.github.com/users/browntownington/following{/other_user}","gists_url":"https://api.github.com/users/browntownington/gists{/gist_id}","starred_url":"https://api.github.com/users/browntownington/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/browntownington/subscriptions","organizations_url":"https://api.github.com/users/browntownington/orgs","repos_url":"https://api.github.com/users/browntownington/repos","events_url":"https://api.github.com/users/browntownington/events{/privacy}","received_events_url":"https://api.github.com/users/browntownington/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-22T05:22:52Z","updated_at":"2020-03-22T05:22:52Z","author_association":"NONE","body":"It makes sense that it was OpenVPN. Because both OpenVPN and COuchDB both have the exact same file names libssl-1_1-x64.dll and libcrypto-1_1-x64.dll - and OpenVPN had a SYSTEM variable.\r\nSo CouchDB was obviously using OpenVPN's libssl-1_1-x64.dll and libcrypto-1_1-x64.dll instead of it's own?!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602150053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602241907","html_url":"https://github.com/apache/couchdb/pull/2698#issuecomment-602241907","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2698","id":602241907,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjI0MTkwNw==","user":{"login":"jjrodrig","id":1001724,"node_id":"MDQ6VXNlcjEwMDE3MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1001724?v=4","gravatar_id":"","url":"https://api.github.com/users/jjrodrig","html_url":"https://github.com/jjrodrig","followers_url":"https://api.github.com/users/jjrodrig/followers","following_url":"https://api.github.com/users/jjrodrig/following{/other_user}","gists_url":"https://api.github.com/users/jjrodrig/gists{/gist_id}","starred_url":"https://api.github.com/users/jjrodrig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjrodrig/subscriptions","organizations_url":"https://api.github.com/users/jjrodrig/orgs","repos_url":"https://api.github.com/users/jjrodrig/repos","events_url":"https://api.github.com/users/jjrodrig/events{/privacy}","received_events_url":"https://api.github.com/users/jjrodrig/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-22T17:17:22Z","updated_at":"2020-03-22T17:17:22Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602241907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602283954","html_url":"https://github.com/apache/couchdb/issues/2702#issuecomment-602283954","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2702","id":602283954,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjI4Mzk1NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-22T22:07:24Z","updated_at":"2020-03-22T22:07:24Z","author_association":"MEMBER","body":"@CharaLagou Only the 3.0.0 installer is signed for Catalina. We're not likely to release a signed 2.3.1 installer at this time.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602283954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602284475","html_url":"https://github.com/apache/couchdb/issues/2701#issuecomment-602284475","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2701","id":602284475,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjI4NDQ3NQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-22T22:11:52Z","updated_at":"2020-03-22T22:11:52Z","author_association":"MEMBER","body":"@dummys Try changing the following in your ini file:\r\n\r\n```\r\n[couchdb]\r\ndefault_security = everyone\r\n```\r\n\r\nYou'll still need the admin user to start CouchDB.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602284475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602284828","html_url":"https://github.com/apache/couchdb/issues/2680#issuecomment-602284828","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2680","id":602284828,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjI4NDgyOA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-22T22:14:25Z","updated_at":"2020-03-22T22:14:25Z","author_association":"MEMBER","body":"Hey @browntownington , thanks for the detective work for this issue. The way Windows library binding works, it'll hunt for the DLL in the PATH first.\r\n\r\nA fix for us will be to 100% override the path in the `couchdb.cmd` file. We will forcibly restrict the PATH variable to just the Windows directory and CouchDB itself. That should resolve the problem, since CouchDB is self-contained (except for the C++ libraries we need from Microsoft.)\r\n\r\nI'll look at this next week, the fix will be in 3.0.1.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602284828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602285241","html_url":"https://github.com/apache/couchdb/issues/2702#issuecomment-602285241","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2702","id":602285241,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjI4NTI0MQ==","user":{"login":"CharaLagou","id":11322049,"node_id":"MDQ6VXNlcjExMzIyMDQ5","avatar_url":"https://avatars.githubusercontent.com/u/11322049?v=4","gravatar_id":"","url":"https://api.github.com/users/CharaLagou","html_url":"https://github.com/CharaLagou","followers_url":"https://api.github.com/users/CharaLagou/followers","following_url":"https://api.github.com/users/CharaLagou/following{/other_user}","gists_url":"https://api.github.com/users/CharaLagou/gists{/gist_id}","starred_url":"https://api.github.com/users/CharaLagou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CharaLagou/subscriptions","organizations_url":"https://api.github.com/users/CharaLagou/orgs","repos_url":"https://api.github.com/users/CharaLagou/repos","events_url":"https://api.github.com/users/CharaLagou/events{/privacy}","received_events_url":"https://api.github.com/users/CharaLagou/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-22T22:17:47Z","updated_at":"2020-03-22T22:17:47Z","author_association":"NONE","body":"@wohali I used the v. 3.0.0 installer and I cannot create an admin. Shall I open another issue for that?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602285241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602287417","html_url":"https://github.com/apache/couchdb/issues/2680#issuecomment-602287417","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2680","id":602287417,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjI4NzQxNw==","user":{"login":"nkev","id":5410916,"node_id":"MDQ6VXNlcjU0MTA5MTY=","avatar_url":"https://avatars.githubusercontent.com/u/5410916?v=4","gravatar_id":"","url":"https://api.github.com/users/nkev","html_url":"https://github.com/nkev","followers_url":"https://api.github.com/users/nkev/followers","following_url":"https://api.github.com/users/nkev/following{/other_user}","gists_url":"https://api.github.com/users/nkev/gists{/gist_id}","starred_url":"https://api.github.com/users/nkev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nkev/subscriptions","organizations_url":"https://api.github.com/users/nkev/orgs","repos_url":"https://api.github.com/users/nkev/repos","events_url":"https://api.github.com/users/nkev/events{/privacy}","received_events_url":"https://api.github.com/users/nkev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-22T22:37:11Z","updated_at":"2020-03-22T22:37:11Z","author_association":"NONE","body":"That's great work @browntownington. Thank you for your effort. I'll try that soon and report back to hopefully close this issue.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602287417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602301752","html_url":"https://github.com/apache/couchdb/issues/2680#issuecomment-602301752","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2680","id":602301752,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjMwMTc1Mg==","user":{"login":"nkev","id":5410916,"node_id":"MDQ6VXNlcjU0MTA5MTY=","avatar_url":"https://avatars.githubusercontent.com/u/5410916?v=4","gravatar_id":"","url":"https://api.github.com/users/nkev","html_url":"https://github.com/nkev","followers_url":"https://api.github.com/users/nkev/followers","following_url":"https://api.github.com/users/nkev/following{/other_user}","gists_url":"https://api.github.com/users/nkev/gists{/gist_id}","starred_url":"https://api.github.com/users/nkev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nkev/subscriptions","organizations_url":"https://api.github.com/users/nkev/orgs","repos_url":"https://api.github.com/users/nkev/repos","events_url":"https://api.github.com/users/nkev/events{/privacy}","received_events_url":"https://api.github.com/users/nkev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T00:02:07Z","updated_at":"2020-03-23T01:16:22Z","author_association":"NONE","body":"I removed the conflicting PATH variables and my system also works now thanks to both of you. However, Fauxton only works through HTTP now, not HTTPS but I can live with that and I will wait for v3.0.1+ instead of tackling that! \r\n\r\nThank you both again.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602301752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602303437","html_url":"https://github.com/apache/couchdb/issues/2680#issuecomment-602303437","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2680","id":602303437,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjMwMzQzNw==","user":{"login":"nkev","id":5410916,"node_id":"MDQ6VXNlcjU0MTA5MTY=","avatar_url":"https://avatars.githubusercontent.com/u/5410916?v=4","gravatar_id":"","url":"https://api.github.com/users/nkev","html_url":"https://github.com/nkev","followers_url":"https://api.github.com/users/nkev/followers","following_url":"https://api.github.com/users/nkev/following{/other_user}","gists_url":"https://api.github.com/users/nkev/gists{/gist_id}","starred_url":"https://api.github.com/users/nkev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nkev/subscriptions","organizations_url":"https://api.github.com/users/nkev/orgs","repos_url":"https://api.github.com/users/nkev/repos","events_url":"https://api.github.com/users/nkev/events{/privacy}","received_events_url":"https://api.github.com/users/nkev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T00:12:24Z","updated_at":"2020-03-23T00:12:24Z","author_association":"NONE","body":"@wohali, FYI, I just noticed v3.0 also only works on HTTP not HTTPS on my Macbook. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602303437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602372316","html_url":"https://github.com/apache/couchdb/issues/2680#issuecomment-602372316","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2680","id":602372316,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjM3MjMxNg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T03:58:33Z","updated_at":"2020-03-23T03:58:33Z","author_association":"MEMBER","body":"@nkev Correct, CouchDB never shipped out of the box with HTTPS support - not without you putting in your own certificates and setting up the config yourself.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602372316/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602372529","html_url":"https://github.com/apache/couchdb/issues/2702#issuecomment-602372529","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2702","id":602372529,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjM3MjUyOQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T03:59:32Z","updated_at":"2020-03-23T03:59:32Z","author_association":"MEMBER","body":"Yes, that's fine - since you're on macOS I'll pass you off to the dev of that installer, @janl on the other ticket #2705 .","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602372529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602432731","html_url":"https://github.com/apache/couchdb/issues/2701#issuecomment-602432731","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2701","id":602432731,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjQzMjczMQ==","user":{"login":"dummys","id":1941445,"node_id":"MDQ6VXNlcjE5NDE0NDU=","avatar_url":"https://avatars.githubusercontent.com/u/1941445?v=4","gravatar_id":"","url":"https://api.github.com/users/dummys","html_url":"https://github.com/dummys","followers_url":"https://api.github.com/users/dummys/followers","following_url":"https://api.github.com/users/dummys/following{/other_user}","gists_url":"https://api.github.com/users/dummys/gists{/gist_id}","starred_url":"https://api.github.com/users/dummys/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummys/subscriptions","organizations_url":"https://api.github.com/users/dummys/orgs","repos_url":"https://api.github.com/users/dummys/repos","events_url":"https://api.github.com/users/dummys/events{/privacy}","received_events_url":"https://api.github.com/users/dummys/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T07:37:56Z","updated_at":"2020-03-23T07:37:56Z","author_association":"NONE","body":"@wohali I didn't understand, I showed you that I already have `everyone` what do you  want I put in place ?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602432731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602518729","html_url":"https://github.com/apache/couchdb/issues/2705#issuecomment-602518729","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2705","id":602518729,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjUxODcyOQ==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T10:49:04Z","updated_at":"2020-03-23T10:49:04Z","author_association":"MEMBER","body":"can you share your couch log, your default and local ini, you're vm.args and a full listing of your data directory?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602518729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602714147","html_url":"https://github.com/apache/couchdb/issues/2701#issuecomment-602714147","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2701","id":602714147,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjcxNDE0Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T16:34:34Z","updated_at":"2020-03-23T16:34:34Z","author_association":"MEMBER","body":"@dummys Sorry, let me review this in more detail today and get back to you.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602714147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602721634","html_url":"https://github.com/apache/couchdb/pull/2706#issuecomment-602721634","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2706","id":602721634,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjcyMTYzNA==","user":{"login":"tonysun83","id":6991573,"node_id":"MDQ6VXNlcjY5OTE1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6991573?v=4","gravatar_id":"","url":"https://api.github.com/users/tonysun83","html_url":"https://github.com/tonysun83","followers_url":"https://api.github.com/users/tonysun83/followers","following_url":"https://api.github.com/users/tonysun83/following{/other_user}","gists_url":"https://api.github.com/users/tonysun83/gists{/gist_id}","starred_url":"https://api.github.com/users/tonysun83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonysun83/subscriptions","organizations_url":"https://api.github.com/users/tonysun83/orgs","repos_url":"https://api.github.com/users/tonysun83/repos","events_url":"https://api.github.com/users/tonysun83/events{/privacy}","received_events_url":"https://api.github.com/users/tonysun83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T16:47:09Z","updated_at":"2020-03-23T16:47:09Z","author_association":"CONTRIBUTOR","body":"I decided to use `couch_mrview_index:get/2` even though we aren't supporting `Partitioned`. It's saves additional code that's going to be very similar and partitioned will only be returned on the odd chance it's incorrectly specified for indexing. It won't break anything but instead just return the value. The new layout:\r\n\r\n```\r\n{\r\n    \"name\": \"foo\",\r\n    \"view_index\": {\r\n        \"language\": \"javascript\",\r\n        \"signature\": \"b7bf9f8b5adefa4b23c4cf60448d8fad\",\r\n        \"sizes\": {\r\n            \"active\": 0\r\n        },\r\n        \"update_seq\": \"\",\r\n        \"updater_running\": false,\r\n        \"data_size\": 0,\r\n        \"update_options\": []\r\n    }\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602721634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602736491","html_url":"https://github.com/apache/couchdb/pull/2685#issuecomment-602736491","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2685","id":602736491,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjczNjQ5MQ==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T17:13:37Z","updated_at":"2020-03-23T17:13:37Z","author_association":"MEMBER","body":"I'm gonna leave all the encryption related stuff to @rnewson and others that know better. My only concern was already called out about having a single `gen_server` handling all of that work. Though looks like there's been changes there already.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602736491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602751406","html_url":"https://github.com/apache/couchdb/issues/2705#issuecomment-602751406","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2705","id":602751406,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjc1MTQwNg==","user":{"login":"CharaLagou","id":11322049,"node_id":"MDQ6VXNlcjExMzIyMDQ5","avatar_url":"https://avatars.githubusercontent.com/u/11322049?v=4","gravatar_id":"","url":"https://api.github.com/users/CharaLagou","html_url":"https://github.com/CharaLagou","followers_url":"https://api.github.com/users/CharaLagou/followers","following_url":"https://api.github.com/users/CharaLagou/following{/other_user}","gists_url":"https://api.github.com/users/CharaLagou/gists{/gist_id}","starred_url":"https://api.github.com/users/CharaLagou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CharaLagou/subscriptions","organizations_url":"https://api.github.com/users/CharaLagou/orgs","repos_url":"https://api.github.com/users/CharaLagou/repos","events_url":"https://api.github.com/users/CharaLagou/events{/privacy}","received_events_url":"https://api.github.com/users/CharaLagou/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T17:39:46Z","updated_at":"2020-03-23T17:39:46Z","author_association":"NONE","body":"@janl thank you very much for your response. \r\nI have good news!\r\nWhile I was trying to find the files you asked for I realised that in the folder User/Library/Application Support/CouchDB2 there were files from a previous installation,  based on their date of creation. I deleted the whole folder and reinstalled CouchDB 3.0.0 using the installer and this time I immediately got a window to setup an admin when I opened the app. Installation verification was successful too. \r\nThanks for your time and consideration. \r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602751406/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602765627","html_url":"https://github.com/apache/couchdb/pull/2684#issuecomment-602765627","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2684","id":602765627,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjc2NTYyNw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T18:04:43Z","updated_at":"2020-03-23T18:04:43Z","author_association":"MEMBER","body":"So it appears that running\r\n\r\n```\r\nmake elixir\r\nmake javascript\r\n```\r\n\r\nworks but\r\n\r\n```\r\nmake elixir javascript\r\n```\r\n\r\ndoes not. This is *also* a failure on Unix, though, so I'm not going to block this PR.\r\n\r\nMost importantly, `make check` works when run twice in a row.\r\n\r\nIf you can sort out why `make elixir javascript` fails and open a new PR with a fix (in both Makefiles), that'd be great. (Honestly, I'd like to fix `make check` so it's not shelling out to a new `make` process 5 times in a row...that's bad code smell that we've cargo culted for years now. :wink:)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602765627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602772069","html_url":"https://github.com/apache/couchdb/issues/2701#issuecomment-602772069","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2701","id":602772069,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjc3MjA2OQ==","user":{"login":"dummys","id":1941445,"node_id":"MDQ6VXNlcjE5NDE0NDU=","avatar_url":"https://avatars.githubusercontent.com/u/1941445?v=4","gravatar_id":"","url":"https://api.github.com/users/dummys","html_url":"https://github.com/dummys","followers_url":"https://api.github.com/users/dummys/followers","following_url":"https://api.github.com/users/dummys/following{/other_user}","gists_url":"https://api.github.com/users/dummys/gists{/gist_id}","starred_url":"https://api.github.com/users/dummys/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummys/subscriptions","organizations_url":"https://api.github.com/users/dummys/orgs","repos_url":"https://api.github.com/users/dummys/repos","events_url":"https://api.github.com/users/dummys/events{/privacy}","received_events_url":"https://api.github.com/users/dummys/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T18:17:19Z","updated_at":"2020-03-23T18:17:19Z","author_association":"NONE","body":"ok thanks","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602772069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602779765","html_url":"https://github.com/apache/couchdb/issues/2680#issuecomment-602779765","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2680","id":602779765,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjc3OTc2NQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T18:30:51Z","updated_at":"2020-03-23T18:30:51Z","author_association":"MEMBER","body":"If you need a quick fix for this, in your `couchdb.cmd` file, change this line:\r\n\r\n```\r\nset PATH=%PATH%;%COUCHDB_BIN_DIR%\r\n```\r\n\r\nto this:\r\n\r\n```\r\nset PATH=%COUCHDB_BIN_DIR%;%SystemRoot%\\system32;%SystemRoot%;%SystemRoot%\\System32\\Wbem;%SYSTEMROOT%\\System32\\WindowsPowerShell\\v1.0\\\r\n```\r\n\r\nWe'll have this patched in CouchDB 3.0.1+.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602779765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602784953","html_url":"https://github.com/apache/couchdb/pull/2662#issuecomment-602784953","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2662","id":602784953,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjc4NDk1Mw==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T18:41:06Z","updated_at":"2020-03-23T18:41:06Z","author_association":"CONTRIBUTOR","body":"@garrensmith I updated the PR to include all your suggestions but one. The https://github.com/apache/couchdb/pull/2662#discussion_r396276454 would be hard to implement and it would make API a bit ugly.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602784953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602795302","html_url":"https://github.com/apache/couchdb/issues/2701#issuecomment-602795302","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2701","id":602795302,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjc5NTMwMg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T19:01:20Z","updated_at":"2020-03-23T19:01:20Z","author_association":"MEMBER","body":"Sorry for rushing through this yesterday.\r\n\r\nWith CouchDB 3.0, only admin users can create databases, delete databases, or anything else mentioned here: https://docs.couchdb.org/en/stable/intro/security.html#authentication\r\n\r\nSo no, there is no way in 3.0 to allow regular users the ability to create databases without them also being admin users. Sorry about that.\r\n\r\nOnce you've created a db as an admin, a regular user can then edit that database if you give them a role and adjust the `_security` object for that database.\r\n\r\nOr, as you say:\r\n>  Or as it will have only one server using this, I use the admin account ?\r\n\r\nYes, if you're the only one using the database server, and only one thing needs to access it, and you're not worried about accidental DB creation/deletions, then just use the admin user you're creating with debconf.\r\n\r\n> can I automate the creation of a user when installing it with debconf\r\n\r\nNo, only the admin user can be created using debconf.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602795302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602795769","html_url":"https://github.com/apache/couchdb/issues/2701#issuecomment-602795769","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2701","id":602795769,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjc5NTc2OQ==","user":{"login":"dummys","id":1941445,"node_id":"MDQ6VXNlcjE5NDE0NDU=","avatar_url":"https://avatars.githubusercontent.com/u/1941445?v=4","gravatar_id":"","url":"https://api.github.com/users/dummys","html_url":"https://github.com/dummys","followers_url":"https://api.github.com/users/dummys/followers","following_url":"https://api.github.com/users/dummys/following{/other_user}","gists_url":"https://api.github.com/users/dummys/gists{/gist_id}","starred_url":"https://api.github.com/users/dummys/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dummys/subscriptions","organizations_url":"https://api.github.com/users/dummys/orgs","repos_url":"https://api.github.com/users/dummys/repos","events_url":"https://api.github.com/users/dummys/events{/privacy}","received_events_url":"https://api.github.com/users/dummys/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T19:02:15Z","updated_at":"2020-03-23T19:02:15Z","author_association":"NONE","body":"ok now you answer correctly, appreciate. Have a nice day thanks","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602795769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602801327","html_url":"https://github.com/apache/couchdb/pull/2708#issuecomment-602801327","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2708","id":602801327,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjgwMTMyNw==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T19:12:35Z","updated_at":"2020-03-23T19:12:35Z","author_association":"MEMBER","body":"Oh whoops. @willholley Already got to it.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602801327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602910190","html_url":"https://github.com/apache/couchdb/pull/2684#issuecomment-602910190","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2684","id":602910190,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjkxMDE5MA==","user":{"login":"jjrodrig","id":1001724,"node_id":"MDQ6VXNlcjEwMDE3MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1001724?v=4","gravatar_id":"","url":"https://api.github.com/users/jjrodrig","html_url":"https://github.com/jjrodrig","followers_url":"https://api.github.com/users/jjrodrig/followers","following_url":"https://api.github.com/users/jjrodrig/following{/other_user}","gists_url":"https://api.github.com/users/jjrodrig/gists{/gist_id}","starred_url":"https://api.github.com/users/jjrodrig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jjrodrig/subscriptions","organizations_url":"https://api.github.com/users/jjrodrig/orgs","repos_url":"https://api.github.com/users/jjrodrig/repos","events_url":"https://api.github.com/users/jjrodrig/events{/privacy}","received_events_url":"https://api.github.com/users/jjrodrig/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-23T23:20:00Z","updated_at":"2020-03-23T23:20:00Z","author_association":"CONTRIBUTOR","body":"Thanks! @wohali \r\n\r\nThe issue that appears when you run multiple targets in a make execution is that the `dev/run` environment is not properly cleaned. \r\n\r\n>  make -n elixir javascript \r\nProduces the following executions\r\n```\r\nmix local.rebar --force && mix local.hex --force && mix deps.get\r\nmix format --check-formatted\r\nmix credo\r\nrm -rf dev/lib/*/data\r\nrm -rf dev/lib/*/etc\r\ndev/run \"\"-c 'startup_jitter=0' -c 'default_security=admin_local'\"\" -a adm:pass -n 1 \\\r\n\t\t--enable-erlang-views \\\r\n\t\t--locald-config test/elixir/test/config/test-config.ini \\\r\n\t\t--no-eval 'mix test --trace --exclude without_quorum_test --exclude with_quorum_test '\r\nmkdir -p share/www/script/test\r\nmkdir -p src/fauxton/dist/release/test\r\ncp test/javascript/tests/lorem*.txt src/fauxton/dist/release/test/\r\ndev/run -n 1 -q --with-admin-party-please \\\r\n            --enable-erlang-views \\\r\n            \"\"-c 'startup_jitter=0' -c 'default_security=admin_local'\"\" \\\r\n            'test/javascript/run --suites \"\" \\\r\n            --ignore \"\"'\r\n\r\n```\r\nThe 'devclean' target is\r\n```\r\nrm -rf dev/lib/*/data\r\nrm -rf dev/lib/*/etc\r\n```\r\nWhich is executed only at the beginning of the execution and not between the elixir and javascript targets.\r\n\r\nIt is a minor tweak to allow to run 'javascript' target with other test targets in the same 'make' execution. I can add it to this PR. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/602910190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603018623","html_url":"https://github.com/apache/couchdb/pull/2707#issuecomment-603018623","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2707","id":603018623,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzAxODYyMw==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-24T05:08:23Z","updated_at":"2020-03-24T05:08:23Z","author_association":"CONTRIBUTOR","body":"thanks @nickva ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603018623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603021791","html_url":"https://github.com/apache/couchdb/pull/2707#issuecomment-603021791","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2707","id":603021791,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzAyMTc5MQ==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-24T05:19:10Z","updated_at":"2020-03-24T05:19:10Z","author_association":"CONTRIBUTOR","body":"Wonder if we can still rebase, squash and force push. It might be nicer to have just one commit.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603021791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603037901","html_url":"https://github.com/apache/couchdb/pull/2707#issuecomment-603037901","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2707","id":603037901,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzAzNzkwMQ==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-24T06:12:28Z","updated_at":"2020-03-24T06:12:28Z","author_association":"CONTRIBUTOR","body":"Thanks @nickva again. I should have squashed two commits before.  I just squashed them and have one commit now for this PR :-)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603037901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603116629","html_url":"https://github.com/apache/couchdb/pull/2452#issuecomment-603116629","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2452","id":603116629,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzExNjYyOQ==","user":{"login":"YetAnotherEye","id":17247790,"node_id":"MDQ6VXNlcjE3MjQ3Nzkw","avatar_url":"https://avatars.githubusercontent.com/u/17247790?v=4","gravatar_id":"","url":"https://api.github.com/users/YetAnotherEye","html_url":"https://github.com/YetAnotherEye","followers_url":"https://api.github.com/users/YetAnotherEye/followers","following_url":"https://api.github.com/users/YetAnotherEye/following{/other_user}","gists_url":"https://api.github.com/users/YetAnotherEye/gists{/gist_id}","starred_url":"https://api.github.com/users/YetAnotherEye/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YetAnotherEye/subscriptions","organizations_url":"https://api.github.com/users/YetAnotherEye/orgs","repos_url":"https://api.github.com/users/YetAnotherEye/repos","events_url":"https://api.github.com/users/YetAnotherEye/events{/privacy}","received_events_url":"https://api.github.com/users/YetAnotherEye/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-24T09:04:06Z","updated_at":"2020-03-24T11:21:14Z","author_association":"NONE","body":"Hi there,\r\nwould you consider to also add secure = true to the cookies?\r\nI'm still getting\r\n`A cookie associated with a resource at http://xx.xx.de/ was set with `SameSite=None` but without `Secure`. It has been blocked, as Chrome now only delivers cookies marked `SameSite=None` if they are also marked `Secure`. You can review cookies in developer tools under Application>Storage>Cookies and see more details at https://www.chromestatus.com/feature/5633521622188032.`\r\n\r\nThereby I'm not able to connect using our hybrid app served from localhost and I'm afraid that it also won't work in webviews. Any workarounds?\r\nThank you in advance.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603116629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603141670","html_url":"https://github.com/apache/couchdb/pull/2694#issuecomment-603141670","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2694","id":603141670,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzE0MTY3MA==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-24T09:57:13Z","updated_at":"2020-03-24T09:57:13Z","author_association":"MEMBER","body":"@atrauzzi one tiny change to make and then please rebase and squash this so I can merge. And thanks!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603141670/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603193963","html_url":"https://github.com/apache/couchdb/pull/2666#issuecomment-603193963","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2666","id":603193963,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzE5Mzk2Mw==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-24T11:49:58Z","updated_at":"2020-03-24T11:49:58Z","author_association":"CONTRIBUTOR","body":"thanks Paul @davisp for your review and comments. Could you please check 3d53721 I tried to use to address your comments?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603193963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603299388","html_url":"https://github.com/apache/couchdb/issues/2713#issuecomment-603299388","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2713","id":603299388,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzI5OTM4OA==","user":{"login":"dottorblaster","id":20770,"node_id":"MDQ6VXNlcjIwNzcw","avatar_url":"https://avatars.githubusercontent.com/u/20770?v=4","gravatar_id":"","url":"https://api.github.com/users/dottorblaster","html_url":"https://github.com/dottorblaster","followers_url":"https://api.github.com/users/dottorblaster/followers","following_url":"https://api.github.com/users/dottorblaster/following{/other_user}","gists_url":"https://api.github.com/users/dottorblaster/gists{/gist_id}","starred_url":"https://api.github.com/users/dottorblaster/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dottorblaster/subscriptions","organizations_url":"https://api.github.com/users/dottorblaster/orgs","repos_url":"https://api.github.com/users/dottorblaster/repos","events_url":"https://api.github.com/users/dottorblaster/events{/privacy}","received_events_url":"https://api.github.com/users/dottorblaster/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-24T15:16:51Z","updated_at":"2020-03-24T15:16:51Z","author_association":"MEMBER","body":"Hi! I don't know the actual schedule but we're backporting our fixes to a `3.0.x` branch that we will use for CouchDB 3.0.1 too. So, I don't know when a new release is coming, but I think that you'll be able to use CouchDB 3 very soon :)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603299388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603307561","html_url":"https://github.com/apache/couchdb/issues/2713#issuecomment-603307561","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2713","id":603307561,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzMwNzU2MQ==","user":{"login":"natcohen","id":7813574,"node_id":"MDQ6VXNlcjc4MTM1NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7813574?v=4","gravatar_id":"","url":"https://api.github.com/users/natcohen","html_url":"https://github.com/natcohen","followers_url":"https://api.github.com/users/natcohen/followers","following_url":"https://api.github.com/users/natcohen/following{/other_user}","gists_url":"https://api.github.com/users/natcohen/gists{/gist_id}","starred_url":"https://api.github.com/users/natcohen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/natcohen/subscriptions","organizations_url":"https://api.github.com/users/natcohen/orgs","repos_url":"https://api.github.com/users/natcohen/repos","events_url":"https://api.github.com/users/natcohen/events{/privacy}","received_events_url":"https://api.github.com/users/natcohen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-24T15:29:59Z","updated_at":"2020-03-24T15:29:59Z","author_association":"NONE","body":"Sounds good!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603307561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603351826","html_url":"https://github.com/apache/couchdb/issues/2705#issuecomment-603351826","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2705","id":603351826,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzM1MTgyNg==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-24T16:34:38Z","updated_at":"2020-03-24T16:34:38Z","author_association":"MEMBER","body":"Thanks for reporting back!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603351826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603426438","html_url":"https://github.com/apache/couchdb/pull/2452#issuecomment-603426438","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2452","id":603426438,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzQyNjQzOA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-24T18:21:26Z","updated_at":"2020-03-24T18:21:26Z","author_association":"MEMBER","body":"@YetAnotherEye Does setting SameSite to `lax` or `strict` not work for you?\r\n\r\n@willholley per https://web.dev/samesite-cookies-explained/ also, the user is right:\r\n\r\n> Cookies with SameSite=None must also specify Secure, meaning they require a secure context.\r\n\r\nWe probably need a new PR for this.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603426438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603663113","html_url":"https://github.com/apache/couchdb/pull/2452#issuecomment-603663113","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2452","id":603663113,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzY2MzExMw==","user":{"login":"YetAnotherEye","id":17247790,"node_id":"MDQ6VXNlcjE3MjQ3Nzkw","avatar_url":"https://avatars.githubusercontent.com/u/17247790?v=4","gravatar_id":"","url":"https://api.github.com/users/YetAnotherEye","html_url":"https://github.com/YetAnotherEye","followers_url":"https://api.github.com/users/YetAnotherEye/followers","following_url":"https://api.github.com/users/YetAnotherEye/following{/other_user}","gists_url":"https://api.github.com/users/YetAnotherEye/gists{/gist_id}","starred_url":"https://api.github.com/users/YetAnotherEye/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YetAnotherEye/subscriptions","organizations_url":"https://api.github.com/users/YetAnotherEye/orgs","repos_url":"https://api.github.com/users/YetAnotherEye/repos","events_url":"https://api.github.com/users/YetAnotherEye/events{/privacy}","received_events_url":"https://api.github.com/users/YetAnotherEye/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-25T06:22:11Z","updated_at":"2020-03-25T06:47:59Z","author_association":"NONE","body":"@wohali Hi, no, it doesn't. I seem to be one of the lucky persons that got the incremental update early (Version 80.0.3987.149 (Official) (64-Bit) on Win10).\r\nAs specified, Chrome doesn't save cross-site cookies set to lax or strict when using a remote CouchDB from localhost. For development purposes I could use this workaround: https://support.google.com/chrome/thread/26291731?hl=en\r\nBut for now I'm simply using Chrome Canary, which still works.\r\n\r\nBut afaik, Cordova apps also use localhost as request host, what could/will become a problem in future. I tried to adapt the cookie using using apaches mod_rewrite that handles requests to the docker container, where the CouchDB is running - but failed. It would really make my day, if configuring that could be done natively in Couch-Settings. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603663113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603670793","html_url":"https://github.com/apache/couchdb/pull/2662#issuecomment-603670793","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2662","id":603670793,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzY3MDc5Mw==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-25T06:47:13Z","updated_at":"2020-03-25T06:47:13Z","author_association":"CONTRIBUTOR","body":"@garrensmith The formatting issue should be fixed","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603670793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603708182","html_url":"https://github.com/apache/couchdb/pull/2452#issuecomment-603708182","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2452","id":603708182,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzcwODE4Mg==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-25T08:29:52Z","updated_at":"2020-03-25T08:29:52Z","author_association":"MEMBER","body":"@wohali @YetAnotherEye CouchDB [should automatically](https://github.com/apache/couchdb/blob/2b95500ac57d831ed4ac7abfc9250c739179b230/src/couch/src/couch_httpd_auth.erl#L463) add the `Secure` directive to the cookie so long as CouchDB is accessed over `https` (required for `SameSite=None` to work).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/603708182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]