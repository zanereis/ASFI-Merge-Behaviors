[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1112919615","html_url":"https://github.com/apache/iceberg/pull/4630#issuecomment-1112919615","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4630","id":1112919615,"node_id":"IC_kwDOCW7NX85CVc4_","user":{"login":"Andre9580","id":34575854,"node_id":"MDQ6VXNlcjM0NTc1ODU0","avatar_url":"https://avatars.githubusercontent.com/u/34575854?v=4","gravatar_id":"","url":"https://api.github.com/users/Andre9580","html_url":"https://github.com/Andre9580","followers_url":"https://api.github.com/users/Andre9580/followers","following_url":"https://api.github.com/users/Andre9580/following{/other_user}","gists_url":"https://api.github.com/users/Andre9580/gists{/gist_id}","starred_url":"https://api.github.com/users/Andre9580/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Andre9580/subscriptions","organizations_url":"https://api.github.com/users/Andre9580/orgs","repos_url":"https://api.github.com/users/Andre9580/repos","events_url":"https://api.github.com/users/Andre9580/events{/privacy}","received_events_url":"https://api.github.com/users/Andre9580/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T06:33:52Z","updated_at":"2022-04-29T06:33:52Z","author_association":"CONTRIBUTOR","body":"Fixed the failing tests, thanks for guidance @[rajarshisarkar](https://github.com/rajarshisarkar).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1112919615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113018780","html_url":"https://github.com/apache/iceberg/issues/4621#issuecomment-1113018780","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4621","id":1113018780,"node_id":"IC_kwDOCW7NX85CV1Gc","user":{"login":"hangc0276","id":5436568,"node_id":"MDQ6VXNlcjU0MzY1Njg=","avatar_url":"https://avatars.githubusercontent.com/u/5436568?v=4","gravatar_id":"","url":"https://api.github.com/users/hangc0276","html_url":"https://github.com/hangc0276","followers_url":"https://api.github.com/users/hangc0276/followers","following_url":"https://api.github.com/users/hangc0276/following{/other_user}","gists_url":"https://api.github.com/users/hangc0276/gists{/gist_id}","starred_url":"https://api.github.com/users/hangc0276/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hangc0276/subscriptions","organizations_url":"https://api.github.com/users/hangc0276/orgs","repos_url":"https://api.github.com/users/hangc0276/repos","events_url":"https://api.github.com/users/hangc0276/events{/privacy}","received_events_url":"https://api.github.com/users/hangc0276/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T08:27:37Z","updated_at":"2022-04-29T08:27:37Z","author_association":"CONTRIBUTOR","body":"@rdblue  Great! Thank you very much for your great idea. I will try it as your suggestion.\r\nMy only one concern is whether the single writer can cover the performance requirements.  Anyway, I will use the current single writer to implement it in the first step. If it has performance trouble, I will try to improve it in the next step.\r\n\r\nThank you very much again.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113018780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113110466","html_url":"https://github.com/apache/iceberg/pull/4166#issuecomment-1113110466","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4166","id":1113110466,"node_id":"IC_kwDOCW7NX85CWLfC","user":{"login":"findepi","id":144328,"node_id":"MDQ6VXNlcjE0NDMyOA==","avatar_url":"https://avatars.githubusercontent.com/u/144328?v=4","gravatar_id":"","url":"https://api.github.com/users/findepi","html_url":"https://github.com/findepi","followers_url":"https://api.github.com/users/findepi/followers","following_url":"https://api.github.com/users/findepi/following{/other_user}","gists_url":"https://api.github.com/users/findepi/gists{/gist_id}","starred_url":"https://api.github.com/users/findepi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/findepi/subscriptions","organizations_url":"https://api.github.com/users/findepi/orgs","repos_url":"https://api.github.com/users/findepi/repos","events_url":"https://api.github.com/users/findepi/events{/privacy}","received_events_url":"https://api.github.com/users/findepi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T09:33:41Z","updated_at":"2022-04-29T09:33:41Z","author_association":"MEMBER","body":"Currently we have a fragmented landscape, where users may use different locking mechanisms. This can lead to data loss when different apps use different locking mechanisms, providing false sense of security/\r\nUltimately, a unified approach is the best for the users -- I guess that's something we all would agree with.\r\nSo then the question is how to go from where we're today to where we want to be in the long term, i.e. plan the transition period, announcements, deprecation strategy, etc.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113110466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113116411","html_url":"https://github.com/apache/iceberg/pull/4463#issuecomment-1113116411","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4463","id":1113116411,"node_id":"IC_kwDOCW7NX85CWM77","user":{"login":"polaris6","id":29967142,"node_id":"MDQ6VXNlcjI5OTY3MTQy","avatar_url":"https://avatars.githubusercontent.com/u/29967142?v=4","gravatar_id":"","url":"https://api.github.com/users/polaris6","html_url":"https://github.com/polaris6","followers_url":"https://api.github.com/users/polaris6/followers","following_url":"https://api.github.com/users/polaris6/following{/other_user}","gists_url":"https://api.github.com/users/polaris6/gists{/gist_id}","starred_url":"https://api.github.com/users/polaris6/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polaris6/subscriptions","organizations_url":"https://api.github.com/users/polaris6/orgs","repos_url":"https://api.github.com/users/polaris6/repos","events_url":"https://api.github.com/users/polaris6/events{/privacy}","received_events_url":"https://api.github.com/users/polaris6/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T09:41:12Z","updated_at":"2022-04-29T09:41:12Z","author_association":"CONTRIBUTOR","body":"Hi @RussellSpitzer, thank you very much for your suggestion, it's very helpful! I resubmitted the commit.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113116411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113160639","html_url":"https://github.com/apache/iceberg/pull/4627#issuecomment-1113160639","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4627","id":1113160639,"node_id":"IC_kwDOCW7NX85CWXu_","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T10:39:41Z","updated_at":"2022-04-29T10:39:41Z","author_association":"CONTRIBUTOR","body":"Thanks, @kbendick for the detailed code reviewing. Comments have been addressed. Please take another look when you are free. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113160639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113185595","html_url":"https://github.com/apache/iceberg/pull/4595#issuecomment-1113185595","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4595","id":1113185595,"node_id":"IC_kwDOCW7NX85CWd07","user":{"login":"zhongyujiang","id":42907416,"node_id":"MDQ6VXNlcjQyOTA3NDE2","avatar_url":"https://avatars.githubusercontent.com/u/42907416?v=4","gravatar_id":"","url":"https://api.github.com/users/zhongyujiang","html_url":"https://github.com/zhongyujiang","followers_url":"https://api.github.com/users/zhongyujiang/followers","following_url":"https://api.github.com/users/zhongyujiang/following{/other_user}","gists_url":"https://api.github.com/users/zhongyujiang/gists{/gist_id}","starred_url":"https://api.github.com/users/zhongyujiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhongyujiang/subscriptions","organizations_url":"https://api.github.com/users/zhongyujiang/orgs","repos_url":"https://api.github.com/users/zhongyujiang/repos","events_url":"https://api.github.com/users/zhongyujiang/events{/privacy}","received_events_url":"https://api.github.com/users/zhongyujiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T11:14:47Z","updated_at":"2022-04-29T11:14:47Z","author_association":"CONTRIBUTOR","body":"> I'm just curious that which test covers the changed code.\r\n\r\nI think we don't have relevant tests cause encryption hasn't been implemented yet, only PlaintextEncryptionManager at the moment.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113185595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113274543","html_url":"https://github.com/apache/iceberg/issues/4666#issuecomment-1113274543","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4666","id":1113274543,"node_id":"IC_kwDOCW7NX85CWziv","user":{"login":"mehtaashish23","id":75326,"node_id":"MDQ6VXNlcjc1MzI2","avatar_url":"https://avatars.githubusercontent.com/u/75326?v=4","gravatar_id":"","url":"https://api.github.com/users/mehtaashish23","html_url":"https://github.com/mehtaashish23","followers_url":"https://api.github.com/users/mehtaashish23/followers","following_url":"https://api.github.com/users/mehtaashish23/following{/other_user}","gists_url":"https://api.github.com/users/mehtaashish23/gists{/gist_id}","starred_url":"https://api.github.com/users/mehtaashish23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mehtaashish23/subscriptions","organizations_url":"https://api.github.com/users/mehtaashish23/orgs","repos_url":"https://api.github.com/users/mehtaashish23/repos","events_url":"https://api.github.com/users/mehtaashish23/events{/privacy}","received_events_url":"https://api.github.com/users/mehtaashish23/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T12:49:41Z","updated_at":"2022-04-29T12:49:41Z","author_association":"CONTRIBUTOR","body":"@prodeezy I wonder this can even happen even in cases of non WAP workflow i.e. the writer commits the snapshot, but the Spark abort comes to picture and deletes the committed files? cc: @dilipbiswal ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113274543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113322151","html_url":"https://github.com/apache/iceberg/issues/4671#issuecomment-1113322151","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4671","id":1113322151,"node_id":"IC_kwDOCW7NX85CW_Kn","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T13:38:17Z","updated_at":"2022-04-29T13:38:17Z","author_association":"MEMBER","body":"I can't see your runtime class path but your listing of your runtime dependency is for Spark 3.0 and not 3.2. Please see the quick start docs for the correct dependency and startup config.\n\nhttps://iceberg.apache.org/docs/latest/getting-started/","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113322151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113467212","html_url":"https://github.com/apache/iceberg/issues/4666#issuecomment-1113467212","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4666","id":1113467212,"node_id":"IC_kwDOCW7NX85CXilM","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T15:47:46Z","updated_at":"2022-04-29T15:53:44Z","author_association":"CONTRIBUTOR","body":"@mehtaashish23 Thanks for pointing this out. That is correct. Even with regular commit flow the snapshot gets promoted to master snapshots line after abort. \r\n\r\nAdd a throw new RuntimeException(\"FATAL\") anywhere in this block and build iceberg : https://github.com/apache/iceberg/blob/master/core/src/main/java/org/apache/iceberg/SnapshotProducer.java#L328-L346\r\n\r\nRun the following test:\r\n```\r\npublic void testWriteBatchWithFailure() throws IOException {\r\n        File parent = temp.newFolder(format);\r\n        File location = new File(parent, \"test-oom\");\r\n\r\n        HadoopTables tables = new HadoopTables(CONF);\r\n        Schema SCHEMA = new Schema(\r\n                Types.NestedField.optional(1, \"id\", Types.IntegerType.get()),\r\n                Types.NestedField.optional(2, \"data\", Types.StringType.get())\r\n        );\r\n        PartitionSpec spec = PartitionSpec.builderFor(SCHEMA).identity(\"data\").build();\r\n        Map tableProps = new HashMap<String, String>();\r\n        tableProps.put(\"write.format.default\", \"parquet\");\r\n        Table table = tables.create(SCHEMA, spec, tableProps, location.toString());\r\n\r\n        List<SimpleRecord> records = Lists.newArrayList(\r\n                new SimpleRecord(1, \"a\"),\r\n                new SimpleRecord(2, \"b\"),\r\n                new SimpleRecord(3, \"c\")\r\n        );\r\n        Dataset<Row> df = spark.createDataFrame(records, SimpleRecord.class);\r\n        try {\r\n            df.write()\r\n                .format(\"iceberg\")\r\n                .mode(\"append\")\r\n                .save(location.toString());\r\n\r\n        } finally {\r\n            table.refresh();\r\n            System.out.println(\"=> Table current after failure: \" + table.currentSnapshot());\r\n            System.out.println(\"=> Table snapshots: \" + Iterables.toString(table.snapshots()));\r\n            spark.read().format(\"iceberg\").load(location.toString()).show(); //  ====> Fails with FNF exception here \r\n        }\r\n    }\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113467212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113476268","html_url":"https://github.com/apache/iceberg/pull/4672#issuecomment-1113476268","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4672","id":1113476268,"node_id":"IC_kwDOCW7NX85CXkys","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T15:57:37Z","updated_at":"2022-04-29T15:57:37Z","author_association":"CONTRIBUTOR","body":"@dain, this sanitizes those logged filters you pointed out.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113476268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113496476","html_url":"https://github.com/apache/iceberg/pull/4670#issuecomment-1113496476","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4670","id":1113496476,"node_id":"IC_kwDOCW7NX85CXpuc","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T16:19:31Z","updated_at":"2022-04-29T16:19:31Z","author_association":"CONTRIBUTOR","body":"@kbendick, can you review this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113496476/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113509751","html_url":"https://github.com/apache/iceberg/issues/4666#issuecomment-1113509751","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4666","id":1113509751,"node_id":"IC_kwDOCW7NX85CXs93","user":{"login":"wangmiao1981","id":5033592,"node_id":"MDQ6VXNlcjUwMzM1OTI=","avatar_url":"https://avatars.githubusercontent.com/u/5033592?v=4","gravatar_id":"","url":"https://api.github.com/users/wangmiao1981","html_url":"https://github.com/wangmiao1981","followers_url":"https://api.github.com/users/wangmiao1981/followers","following_url":"https://api.github.com/users/wangmiao1981/following{/other_user}","gists_url":"https://api.github.com/users/wangmiao1981/gists{/gist_id}","starred_url":"https://api.github.com/users/wangmiao1981/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangmiao1981/subscriptions","organizations_url":"https://api.github.com/users/wangmiao1981/orgs","repos_url":"https://api.github.com/users/wangmiao1981/repos","events_url":"https://api.github.com/users/wangmiao1981/events{/privacy}","received_events_url":"https://api.github.com/users/wangmiao1981/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T16:35:33Z","updated_at":"2022-04-29T16:35:33Z","author_association":"CONTRIBUTOR","body":"@rdblue This is a severe production issue because of data loss. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113509751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113519755","html_url":"https://github.com/apache/iceberg/issues/4363#issuecomment-1113519755","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4363","id":1113519755,"node_id":"IC_kwDOCW7NX85CXvaL","user":{"login":"davidrimprobable","id":76957617,"node_id":"MDQ6VXNlcjc2OTU3NjE3","avatar_url":"https://avatars.githubusercontent.com/u/76957617?v=4","gravatar_id":"","url":"https://api.github.com/users/davidrimprobable","html_url":"https://github.com/davidrimprobable","followers_url":"https://api.github.com/users/davidrimprobable/followers","following_url":"https://api.github.com/users/davidrimprobable/following{/other_user}","gists_url":"https://api.github.com/users/davidrimprobable/gists{/gist_id}","starred_url":"https://api.github.com/users/davidrimprobable/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidrimprobable/subscriptions","organizations_url":"https://api.github.com/users/davidrimprobable/orgs","repos_url":"https://api.github.com/users/davidrimprobable/repos","events_url":"https://api.github.com/users/davidrimprobable/events{/privacy}","received_events_url":"https://api.github.com/users/davidrimprobable/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T16:48:23Z","updated_at":"2022-04-29T16:54:34Z","author_association":"NONE","body":"I assume based on the above that @krisvaz was able to get this to work on a newer Spark - but are there any pointers for when you're already running a Spark without the bug shown above?\r\n\r\nI'm on Spark 3.2.0 and using \r\n```python\r\ndf = session.createDataFrame([{'partition_a': 'A', 'partition_b': 'B', 'data': 'somestuff'}])\r\ndf.writeTo(\"my_catalog.db.test\").using(\"iceberg\").partitionedBy(\"partition_a\", \"partition_b\").create()\r\nsession.sql(\"describe my_catalog.db.test\").show()\r\n```\r\n\r\nI receive\r\n```\r\n+---------------+---------+-------+\r\n|       col_name|data_type|comment|\r\n+---------------+---------+-------+\r\n|           data|   string|       |\r\n|    partition_a|   string|       |\r\n|    partition_b|   string|       |\r\n|               |         |       |\r\n| # Partitioning|         |       |\r\n|Not partitioned|         |       |\r\n+---------------+---------+-------+\r\n```\r\n\r\nThis is S3A with catalog-impl of `org.apache.iceberg.jdbc.JdbcCatalog` to a postgres database\r\n\r\nDoing it manually through SQL as shown earlier in the thread works as expected:\r\n\r\n```python\r\ndf = session.createDataFrame([{'partition_a': 'A', 'partition_b': 'B', 'data': 'somestuff'}])\r\ndf.createOrReplaceTempView('test_view')\r\nsession.sql(\"create table my_catalog.db.test2 using iceberg partitioned by (partition_a, partition_b) as select * from test_view\")\r\nsession.sql(\"describe my_catalog.db.test2\").show()\r\n```\r\n\r\n```\r\n+--------------+-----------+-------+\r\n|      col_name|  data_type|comment|\r\n+--------------+-----------+-------+\r\n|          data|     string|       |\r\n|   partition_a|     string|       |\r\n|   partition_b|     string|       |\r\n|              |           |       |\r\n|# Partitioning|           |       |\r\n|        Part 0|partition_a|       |\r\n|        Part 1|partition_b|       |\r\n+--------------+-----------+-------+\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113519755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113520085","html_url":"https://github.com/apache/iceberg/pull/4553#issuecomment-1113520085","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4553","id":1113520085,"node_id":"IC_kwDOCW7NX85CXvfV","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T16:48:49Z","updated_at":"2022-04-29T16:48:49Z","author_association":"CONTRIBUTOR","body":"Now that #4635 has been merged, and 1.15.0 has been released, I rebased. The final diff between Flink 1.14 and Flink 1.15 can be found here: https://gist.github.com/kbendick/7564c455589b61a9ea1e7c0ff1003031\r\n\r\nTo generate the diff: `git diff --no-index ./flink/v1.14 ./flink/v1.15`\r\n\r\nList of files that are different as output by `diff -qr flink/v1.14/ flink/v1.15/`:\r\n```bash\r\n$ diff -qr flink/v1.14/ flink/v1.15/\r\nFiles flink/v1.14/build.gradle and flink/v1.15/build.gradle differ\r\nFiles flink/v1.14/flink/src/main/java/org/apache/iceberg/flink/IcebergTableSink.java and flink/v1.15/flink/src/main/java/org/apache/iceberg/flink/IcebergTableSink.java differ\r\nFiles flink/v1.14/flink/src/main/java/org/apache/iceberg/flink/IcebergTableSource.java and flink/v1.15/flink/src/main/java/org/apache/iceberg/flink/IcebergTableSource.java differ\r\nFiles flink/v1.14/flink/src/test/java/org/apache/iceberg/flink/TestChangeLogTable.java and flink/v1.15/flink/src/test/java/org/apache/iceberg/flink/TestChangeLogTable.java differ\r\nFiles flink/v1.14/flink/src/test/java/org/apache/iceberg/flink/TestIcebergConnector.java and flink/v1.15/flink/src/test/java/org/apache/iceberg/flink/TestIcebergConnector.java differ\r\nFiles flink/v1.14/flink/src/test/java/org/apache/iceberg/flink/source/BoundedTableFactory.java and flink/v1.15/flink/src/test/java/org/apache/iceberg/flink/source/BoundedTableFactory.java differ\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113520085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113520280","html_url":"https://github.com/apache/iceberg/issues/4666#issuecomment-1113520280","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4666","id":1113520280,"node_id":"IC_kwDOCW7NX85CXviY","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T16:49:02Z","updated_at":"2022-04-29T16:50:41Z","author_association":"MEMBER","body":"How does this effect the normal write process? I'm not quite sure I follow? The abort process can't happen unless commit method fails?\r\n\r\nThe highlighted code block in MergingSnapshotProducer is a try block, which catches all runtime exceptions? https://github.com/apache/iceberg/blob/master/core/src/main/java/org/apache/iceberg/SnapshotProducer.java#L347","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113520280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113531887","html_url":"https://github.com/apache/iceberg/issues/4634#issuecomment-1113531887","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4634","id":1113531887,"node_id":"IC_kwDOCW7NX85CXyXv","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T17:02:47Z","updated_at":"2022-04-29T17:02:47Z","author_association":"CONTRIBUTOR","body":"Associated location for IcebergTableSink: https://github.com/apache/iceberg/pull/4553/files#r849989386","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113531887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113532317","html_url":"https://github.com/apache/iceberg/issues/4634#issuecomment-1113532317","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4634","id":1113532317,"node_id":"IC_kwDOCW7NX85CXyed","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T17:03:17Z","updated_at":"2022-04-29T17:03:17Z","author_association":"CONTRIBUTOR","body":"Associated location for IcebergTableSource: https://github.com/apache/iceberg/pull/4553/files#r849989015","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113532317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113544716","html_url":"https://github.com/apache/iceberg/issues/4666#issuecomment-1113544716","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4666","id":1113544716,"node_id":"IC_kwDOCW7NX85CX1gM","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T17:17:21Z","updated_at":"2022-04-29T17:17:21Z","author_association":"MEMBER","body":"@prodeezy I ran the following test (I modified it so I could run in IcebergSourceTablesBase)\r\n\r\n```\r\n  @Test\r\n  public void testWriteBatchWithFailure() throws IOException {\r\n    TableIdentifier tableIdentifier = TableIdentifier.of(\"db\", \"files_test\");\r\n    Table table = createTable(tableIdentifier, SCHEMA, PartitionSpec.builderFor(SCHEMA).identity(\"id\").build());\r\n\r\n    List<SimpleRecord> records = Lists.newArrayList(\r\n        new SimpleRecord(1, \"a\"),\r\n        new SimpleRecord(2, \"b\"),\r\n        new SimpleRecord(3, \"c\")\r\n    );\r\n    Dataset<Row> df = spark.createDataFrame(records, SimpleRecord.class);\r\n    try {\r\n      df.write()\r\n          .format(\"iceberg\")\r\n          .mode(\"append\")\r\n          .save(loadLocation(tableIdentifier));\r\n\r\n    } finally {\r\n      table.refresh();\r\n      System.out.println(\"=> Table current after failure: \" + table.currentSnapshot());\r\n      System.out.println(\"=> Table snapshots: \" + Iterables.toString(table.snapshots()));\r\n      spark.read().format(\"iceberg\").load(loadLocation(tableIdentifier))\r\n          .show(); //  No Error Here\r\n    }\r\n  }\r\n  ```\r\n  \r\n  Then I put exceptions in the Snapshot producer block\r\n  ```\r\n  diff --git a/core/src/main/java/org/apache/iceberg/SnapshotProducer.java b/core/src/main/java/org/apache/iceberg/SnapshotProducer.java\r\nindex 80afb04e5..9650d336d 100644\r\n--- a/core/src/main/java/org/apache/iceberg/SnapshotProducer.java\r\n+++ b/core/src/main/java/org/apache/iceberg/SnapshotProducer.java\r\n@@ -335,6 +335,7 @@ abstract class SnapshotProducer<ThisT> implements SnapshotUpdate<ThisT> {\r\n         for (String manifestList : manifestLists) {\r\n           if (!saved.manifestListLocation().equals(manifestList)) {\r\n             deleteFile(manifestList);\r\n+            throw new RuntimeException(\"Foobar\");\r\n           }\r\n         }\r\n       } else {\r\n@@ -342,6 +343,7 @@ abstract class SnapshotProducer<ThisT> implements SnapshotUpdate<ThisT> {\r\n         // consistency problems in refresh. in that case, don't clean up.\r\n         LOG.warn(\"Failed to load committed snapshot, skipping manifest clean-up\");\r\n       }\r\n+      throw new RuntimeException(\"Foobar\");\r\n\r\n     } catch (RuntimeException e) {\r\n       LOG.warn(\"Failed to load committed table metadata, skipping manifest clean-up\", e);\r\n```\r\n \r\n This has no errors. Does this need to happen in conjunction with a WAP still?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113544716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113553583","html_url":"https://github.com/apache/iceberg/pull/4672#issuecomment-1113553583","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4672","id":1113553583,"node_id":"IC_kwDOCW7NX85CX3qv","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T17:28:10Z","updated_at":"2022-04-29T17:28:10Z","author_association":"CONTRIBUTOR","body":"The test failure seems to be a transient issue.\r\n\r\nIf I close this PR though, I'm not sure if I can reopen it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113553583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113591659","html_url":"https://github.com/apache/iceberg/pull/4595#issuecomment-1113591659","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4595","id":1113591659,"node_id":"IC_kwDOCW7NX85CYA9r","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T18:14:58Z","updated_at":"2022-04-29T18:14:58Z","author_association":"CONTRIBUTOR","body":"> I think we don't have relevant tests cause encryption hasn't been implemented yet, only PlaintextEncryptionManager at the moment.\r\n\r\nIt is a bit scary, but probably is fine since we've got https://github.com/apache/iceberg/pull/2905 in. \r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113591659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113628140","html_url":"https://github.com/apache/iceberg/pull/4672#issuecomment-1113628140","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4672","id":1113628140,"node_id":"IC_kwDOCW7NX85CYJ3s","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T18:55:20Z","updated_at":"2022-04-29T18:55:20Z","author_association":"CONTRIBUTOR","body":"@szehon-ho, I think we'll need to address the log in #4169 separately because that's entirely in Spark code and we don't have an Iceberg filter. We'd need to either add the ability to sanitize Spark filters (which I'm reluctant to add) or just allow it for Spark. This PR changes instances in core, which gets used in other engines as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113628140/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113632408","html_url":"https://github.com/apache/iceberg/issues/4631#issuecomment-1113632408","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4631","id":1113632408,"node_id":"IC_kwDOCW7NX85CYK6Y","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T19:01:41Z","updated_at":"2022-04-29T19:01:41Z","author_association":"CONTRIBUTOR","body":"Hey @dramaticlly, we all discussed this in the python community sync this past Wednesday. The decision was to go with the builder pattern (a `PartitionSpecBuilder` class) here but to make an attempt to consider the option to directly instantiate a spec using the `PartitionSpec` init method. In Java that class is protected and so you are forced to go through the builder pattern, but it may turn out feasible to allow more flexibility in the python client.\r\n\r\nA consideration to keep in mind is that someone directly instantiating a `PartitionSpec` won't have any checks or other logic that the builder offers. As the builder grows in complexity, I'd imagine the option to directly instantiate a `PartitionSpec` becomes less feasible (we wouldn't want to duplicate the builder logic in an overly complex init method for `PartitionSpec`).\r\n\r\nLet's keep this issue open and as you work on this, feel free to comment here with anything you find that may require reconsidering all of this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113632408/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113637923","html_url":"https://github.com/apache/iceberg/issues/3616#issuecomment-1113637923","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3616","id":1113637923,"node_id":"IC_kwDOCW7NX85CYMQj","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T19:08:56Z","updated_at":"2022-04-29T19:08:56Z","author_association":"CONTRIBUTOR","body":"Closing this since it's completed. The docs have been moved to https://github.com/apache/iceberg-docs","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113637923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113659475","html_url":"https://github.com/apache/iceberg/pull/4529#issuecomment-1113659475","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4529","id":1113659475,"node_id":"IC_kwDOCW7NX85CYRhT","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T19:39:11Z","updated_at":"2022-04-29T19:39:11Z","author_association":"CONTRIBUTOR","body":"close this one in favor of PR #4580 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113659475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113675615","html_url":"https://github.com/apache/iceberg/issues/4666#issuecomment-1113675615","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4666","id":1113675615,"node_id":"IC_kwDOCW7NX85CYVdf","user":{"login":"wangmiao1981","id":5033592,"node_id":"MDQ6VXNlcjUwMzM1OTI=","avatar_url":"https://avatars.githubusercontent.com/u/5033592?v=4","gravatar_id":"","url":"https://api.github.com/users/wangmiao1981","html_url":"https://github.com/wangmiao1981","followers_url":"https://api.github.com/users/wangmiao1981/followers","following_url":"https://api.github.com/users/wangmiao1981/following{/other_user}","gists_url":"https://api.github.com/users/wangmiao1981/gists{/gist_id}","starred_url":"https://api.github.com/users/wangmiao1981/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangmiao1981/subscriptions","organizations_url":"https://api.github.com/users/wangmiao1981/orgs","repos_url":"https://api.github.com/users/wangmiao1981/repos","events_url":"https://api.github.com/users/wangmiao1981/events{/privacy}","received_events_url":"https://api.github.com/users/wangmiao1981/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T20:02:50Z","updated_at":"2022-04-29T20:02:50Z","author_association":"CONTRIBUTOR","body":"@prodeezy  @dilipbiswal  @mehtaashish23  Can you check @RussellSpitzer 's comments? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113675615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113698354","html_url":"https://github.com/apache/iceberg/pull/4301#issuecomment-1113698354","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4301","id":1113698354,"node_id":"IC_kwDOCW7NX85CYbAy","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T20:28:48Z","updated_at":"2022-04-29T20:28:48Z","author_association":"CONTRIBUTOR","body":"Thanks for all the reviews and work, @rzhang10, @wmoustafa, and @RussellSpitzer! I merged this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113698354/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113699146","html_url":"https://github.com/apache/iceberg/issues/4666#issuecomment-1113699146","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4666","id":1113699146,"node_id":"IC_kwDOCW7NX85CYbNK","user":{"login":"dilipbiswal","id":14225158,"node_id":"MDQ6VXNlcjE0MjI1MTU4","avatar_url":"https://avatars.githubusercontent.com/u/14225158?v=4","gravatar_id":"","url":"https://api.github.com/users/dilipbiswal","html_url":"https://github.com/dilipbiswal","followers_url":"https://api.github.com/users/dilipbiswal/followers","following_url":"https://api.github.com/users/dilipbiswal/following{/other_user}","gists_url":"https://api.github.com/users/dilipbiswal/gists{/gist_id}","starred_url":"https://api.github.com/users/dilipbiswal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dilipbiswal/subscriptions","organizations_url":"https://api.github.com/users/dilipbiswal/orgs","repos_url":"https://api.github.com/users/dilipbiswal/repos","events_url":"https://api.github.com/users/dilipbiswal/events{/privacy}","received_events_url":"https://api.github.com/users/dilipbiswal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T20:29:55Z","updated_at":"2022-04-29T20:33:37Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer \r\nSo in our application, we see a java.lang.OutOfMemoryError which is not a subclass of java.lang.RuntimeException ? Should we be catching java.lang.Throwable instead in the code you mentioned if our intention is to catch a broader range of errors ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113699146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113701741","html_url":"https://github.com/apache/iceberg/pull/4663#issuecomment-1113701741","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4663","id":1113701741,"node_id":"IC_kwDOCW7NX85CYb1t","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T20:31:55Z","updated_at":"2022-04-29T20:31:55Z","author_association":"CONTRIBUTOR","body":"Thanks, @edgarRd! I'll mark this for inclusion in 0.13.2 as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113701741/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113712286","html_url":"https://github.com/apache/iceberg/issues/4666#issuecomment-1113712286","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4666","id":1113712286,"node_id":"IC_kwDOCW7NX85CYeae","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T20:44:51Z","updated_at":"2022-04-29T20:44:51Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer  thanks for taking a look!\r\n\r\nMy bad, like @dilipbiswal  said, the error thrown in production is an OOM which happens to occur somewhere in the process while one of the writers is doing post commit cleaning up activity during SnapshotProducer::commit()#L328-L346  \r\n\r\nWould just catching `Throwable`  fix this? just checking what the action should be. If any failures during this phase is ignorable we can just do that. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113712286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113712458","html_url":"https://github.com/apache/iceberg/issues/4666#issuecomment-1113712458","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4666","id":1113712458,"node_id":"IC_kwDOCW7NX85CYedK","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T20:45:11Z","updated_at":"2022-04-29T20:45:11Z","author_association":"CONTRIBUTOR","body":"@dilipbiswal, can you share the OOM stack trace that caused this? That stack trace will allow us to see where the exception is propagating.\r\n\r\nThere is a slight risk if anything fails after actually committing to the catalog, which we avoid by not doing any work in commit other than returning. That's why `BaseMetastoreCatalog` sets a flag to refresh the table, but the refresh actually happens in the cleanup after the commit. And, if there's any problem in the cleanup then it just warns and stops (which is why @RussellSpitzer's test works).\r\n\r\nIt could be that the OOM happened after the commit succeeded, or at least after the commit was sent to the server and eventually succeeded. But the problem is that OOM should not have triggered the `cleanAll` behavior. It should have prevented all cleanup: `cleanAll` happens when a `RuntimeException` is caught in the commit block, and any further exceptions block cleanup.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113712458/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113714389","html_url":"https://github.com/apache/iceberg/issues/4666#issuecomment-1113714389","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4666","id":1113714389,"node_id":"IC_kwDOCW7NX85CYe7V","user":{"login":"dilipbiswal","id":14225158,"node_id":"MDQ6VXNlcjE0MjI1MTU4","avatar_url":"https://avatars.githubusercontent.com/u/14225158?v=4","gravatar_id":"","url":"https://api.github.com/users/dilipbiswal","html_url":"https://github.com/dilipbiswal","followers_url":"https://api.github.com/users/dilipbiswal/followers","following_url":"https://api.github.com/users/dilipbiswal/following{/other_user}","gists_url":"https://api.github.com/users/dilipbiswal/gists{/gist_id}","starred_url":"https://api.github.com/users/dilipbiswal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dilipbiswal/subscriptions","organizations_url":"https://api.github.com/users/dilipbiswal/orgs","repos_url":"https://api.github.com/users/dilipbiswal/repos","events_url":"https://api.github.com/users/dilipbiswal/events{/privacy}","received_events_url":"https://api.github.com/users/dilipbiswal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T20:48:29Z","updated_at":"2022-04-29T20:52:59Z","author_association":"CONTRIBUTOR","body":"@rdblue Very sorry. unfortunately, in our app we were not able to capture the stack trace. In general for other kinds of exception we have the stack trace. In this case, we just have a single line under stack trace that looks like this :\r\n\"java.lang.OutOfMemoryError: GC ovehead limit exceeded\"\r\n\r\nActually because we didn't have a stack trace, it took us sometime to theorize on how the deletes are getting triggered.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113714389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113714627","html_url":"https://github.com/apache/iceberg/issues/4666#issuecomment-1113714627","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4666","id":1113714627,"node_id":"IC_kwDOCW7NX85CYe_D","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T20:48:49Z","updated_at":"2022-04-29T20:48:49Z","author_association":"CONTRIBUTOR","body":"@prodeezy, I think I know what's happening. The `RuntimeException` catch block actually suppresses the exception, which prevents _Spark_ from running cleanup. But OOM is not a `RuntimeException` so it propagates and triggers Spark to remove the data files it wrote.\r\n\r\nI think the solution is to catch and suppress any `Throwable` during cleanup, although that is pretty ugly!\r\n\r\nWe should also move the notification into the block so that if a listener fails we don't have this situation either.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113714627/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113714933","html_url":"https://github.com/apache/iceberg/issues/4666#issuecomment-1113714933","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4666","id":1113714933,"node_id":"IC_kwDOCW7NX85CYfD1","user":{"login":"wangmiao1981","id":5033592,"node_id":"MDQ6VXNlcjUwMzM1OTI=","avatar_url":"https://avatars.githubusercontent.com/u/5033592?v=4","gravatar_id":"","url":"https://api.github.com/users/wangmiao1981","html_url":"https://github.com/wangmiao1981","followers_url":"https://api.github.com/users/wangmiao1981/followers","following_url":"https://api.github.com/users/wangmiao1981/following{/other_user}","gists_url":"https://api.github.com/users/wangmiao1981/gists{/gist_id}","starred_url":"https://api.github.com/users/wangmiao1981/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangmiao1981/subscriptions","organizations_url":"https://api.github.com/users/wangmiao1981/orgs","repos_url":"https://api.github.com/users/wangmiao1981/repos","events_url":"https://api.github.com/users/wangmiao1981/events{/privacy}","received_events_url":"https://api.github.com/users/wangmiao1981/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T20:49:20Z","updated_at":"2022-04-29T20:49:20Z","author_association":"CONTRIBUTOR","body":"+1, just want to say OOM is not a RuntimeException ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113714933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113716019","html_url":"https://github.com/apache/iceberg/issues/4666#issuecomment-1113716019","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4666","id":1113716019,"node_id":"IC_kwDOCW7NX85CYfUz","user":{"login":"dilipbiswal","id":14225158,"node_id":"MDQ6VXNlcjE0MjI1MTU4","avatar_url":"https://avatars.githubusercontent.com/u/14225158?v=4","gravatar_id":"","url":"https://api.github.com/users/dilipbiswal","html_url":"https://github.com/dilipbiswal","followers_url":"https://api.github.com/users/dilipbiswal/followers","following_url":"https://api.github.com/users/dilipbiswal/following{/other_user}","gists_url":"https://api.github.com/users/dilipbiswal/gists{/gist_id}","starred_url":"https://api.github.com/users/dilipbiswal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dilipbiswal/subscriptions","organizations_url":"https://api.github.com/users/dilipbiswal/orgs","repos_url":"https://api.github.com/users/dilipbiswal/repos","events_url":"https://api.github.com/users/dilipbiswal/events{/privacy}","received_events_url":"https://api.github.com/users/dilipbiswal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T20:50:57Z","updated_at":"2022-04-29T20:50:57Z","author_association":"CONTRIBUTOR","body":"> I think I know what's happening. The RuntimeException catch block actually suppresses the exception, which prevents Spark from running cleanup. But OOM is not a RuntimeException so it propagates and triggers Spark to remove the data files it wrote.\r\n\r\nExactly Ryan.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113716019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113716953","html_url":"https://github.com/apache/iceberg/issues/4666#issuecomment-1113716953","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4666","id":1113716953,"node_id":"IC_kwDOCW7NX85CYfjZ","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T20:52:26Z","updated_at":"2022-04-29T20:52:26Z","author_association":"CONTRIBUTOR","body":"I opened a quick PR to fix this: #4673. @RussellSpitzer can you review?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113716953/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113731904","html_url":"https://github.com/apache/iceberg/pull/4673#issuecomment-1113731904","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4673","id":1113731904,"node_id":"IC_kwDOCW7NX85CYjNA","user":{"login":"dilipbiswal","id":14225158,"node_id":"MDQ6VXNlcjE0MjI1MTU4","avatar_url":"https://avatars.githubusercontent.com/u/14225158?v=4","gravatar_id":"","url":"https://api.github.com/users/dilipbiswal","html_url":"https://github.com/dilipbiswal","followers_url":"https://api.github.com/users/dilipbiswal/followers","following_url":"https://api.github.com/users/dilipbiswal/following{/other_user}","gists_url":"https://api.github.com/users/dilipbiswal/gists{/gist_id}","starred_url":"https://api.github.com/users/dilipbiswal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dilipbiswal/subscriptions","organizations_url":"https://api.github.com/users/dilipbiswal/orgs","repos_url":"https://api.github.com/users/dilipbiswal/repos","events_url":"https://api.github.com/users/dilipbiswal/events{/privacy}","received_events_url":"https://api.github.com/users/dilipbiswal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T21:06:41Z","updated_at":"2022-04-29T21:06:41Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113731904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113829375","html_url":"https://github.com/apache/iceberg/issues/4168#issuecomment-1113829375","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4168","id":1113829375,"node_id":"IC_kwDOCW7NX85CY6__","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T22:29:53Z","updated_at":"2022-04-29T22:29:53Z","author_association":"COLLABORATOR","body":"FYI  this may be related to https://github.com/apache/iceberg/pull/4673, at the time if there's OOM but commit successful, cleanup may be done erroneously to remove valid files to corrupt the table.  It was done in Spark, not sure if on Flink it's the same pattern.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113829375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113847458","html_url":"https://github.com/apache/iceberg/pull/4630#issuecomment-1113847458","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4630","id":1113847458,"node_id":"IC_kwDOCW7NX85CY_ai","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T22:50:03Z","updated_at":"2022-04-29T22:50:03Z","author_association":"COLLABORATOR","body":"Thanks @Andre9580 for the contribution and @rajarshisarkar for extra review","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113847458/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113852621","html_url":"https://github.com/apache/iceberg/pull/4673#issuecomment-1113852621","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4673","id":1113852621,"node_id":"IC_kwDOCW7NX85CZArN","user":{"login":"dilipbiswal","id":14225158,"node_id":"MDQ6VXNlcjE0MjI1MTU4","avatar_url":"https://avatars.githubusercontent.com/u/14225158?v=4","gravatar_id":"","url":"https://api.github.com/users/dilipbiswal","html_url":"https://github.com/dilipbiswal","followers_url":"https://api.github.com/users/dilipbiswal/followers","following_url":"https://api.github.com/users/dilipbiswal/following{/other_user}","gists_url":"https://api.github.com/users/dilipbiswal/gists{/gist_id}","starred_url":"https://api.github.com/users/dilipbiswal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dilipbiswal/subscriptions","organizations_url":"https://api.github.com/users/dilipbiswal/orgs","repos_url":"https://api.github.com/users/dilipbiswal/repos","events_url":"https://api.github.com/users/dilipbiswal/events{/privacy}","received_events_url":"https://api.github.com/users/dilipbiswal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T23:06:17Z","updated_at":"2022-04-29T23:06:17Z","author_association":"CONTRIBUTOR","body":"@rdblue @RussellSpitzer \r\nShould we move https://github.com/apache/iceberg/blob/17500536d714d32b4e6dfc91dd737edc4046fed1/core/src/main/java/org/apache/iceberg/SnapshotProducer.java#L326 into the following try block as a safe measure ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113852621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113854572","html_url":"https://github.com/apache/iceberg/pull/4673#issuecomment-1113854572","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4673","id":1113854572,"node_id":"IC_kwDOCW7NX85CZBJs","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T23:12:03Z","updated_at":"2022-04-29T23:12:03Z","author_association":"CONTRIBUTOR","body":"@dilipbiswal, done.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113854572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113856299","html_url":"https://github.com/apache/iceberg/pull/4673#issuecomment-1113856299","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4673","id":1113856299,"node_id":"IC_kwDOCW7NX85CZBkr","user":{"login":"dilipbiswal","id":14225158,"node_id":"MDQ6VXNlcjE0MjI1MTU4","avatar_url":"https://avatars.githubusercontent.com/u/14225158?v=4","gravatar_id":"","url":"https://api.github.com/users/dilipbiswal","html_url":"https://github.com/dilipbiswal","followers_url":"https://api.github.com/users/dilipbiswal/followers","following_url":"https://api.github.com/users/dilipbiswal/following{/other_user}","gists_url":"https://api.github.com/users/dilipbiswal/gists{/gist_id}","starred_url":"https://api.github.com/users/dilipbiswal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dilipbiswal/subscriptions","organizations_url":"https://api.github.com/users/dilipbiswal/orgs","repos_url":"https://api.github.com/users/dilipbiswal/repos","events_url":"https://api.github.com/users/dilipbiswal/events{/privacy}","received_events_url":"https://api.github.com/users/dilipbiswal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-29T23:17:31Z","updated_at":"2022-04-29T23:17:31Z","author_association":"CONTRIBUTOR","body":"Thanks a lot @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113856299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113871628","html_url":"https://github.com/apache/iceberg/pull/4518#issuecomment-1113871628","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4518","id":1113871628,"node_id":"IC_kwDOCW7NX85CZFUM","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-30T00:15:57Z","updated_at":"2022-04-30T00:15:57Z","author_association":"CONTRIBUTOR","body":"@rizaon and @rdblue I made a comment in one of the replies above but wanted to ask about potentially bad behaviors around reading metadata tables.  Since in those cases the data files are really the metadata files, the caching would trigger.  I feel like this could contribute to some interesting problems with high churn in those cases both in the driver and potentially the worker side.\r\n\r\nIt might be better just to wrap on access where we read metadata files in `MetadataFiles.java`.  That would also avoid guessing at the pathing for metadata files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113871628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113887223","html_url":"https://github.com/apache/iceberg/pull/4673#issuecomment-1113887223","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4673","id":1113887223,"node_id":"IC_kwDOCW7NX85CZJH3","user":{"login":"StefanXiepj","id":26733114,"node_id":"MDQ6VXNlcjI2NzMzMTE0","avatar_url":"https://avatars.githubusercontent.com/u/26733114?v=4","gravatar_id":"","url":"https://api.github.com/users/StefanXiepj","html_url":"https://github.com/StefanXiepj","followers_url":"https://api.github.com/users/StefanXiepj/followers","following_url":"https://api.github.com/users/StefanXiepj/following{/other_user}","gists_url":"https://api.github.com/users/StefanXiepj/gists{/gist_id}","starred_url":"https://api.github.com/users/StefanXiepj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StefanXiepj/subscriptions","organizations_url":"https://api.github.com/users/StefanXiepj/orgs","repos_url":"https://api.github.com/users/StefanXiepj/repos","events_url":"https://api.github.com/users/StefanXiepj/events{/privacy}","received_events_url":"https://api.github.com/users/StefanXiepj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-30T01:38:39Z","updated_at":"2022-04-30T01:38:39Z","author_association":"CONTRIBUTOR","body":"This pr looks like copied from [Core: Skipping manifest clean-up for all Error or Exception. #4507](https://github.com/apache/iceberg/pull/4507) , @rdblue  why not continue on the original pr and copied them into new pr ? I think we should encourage more contributors to join us.\r\n\r\n@dilipbiswal @RussellSpitzer @stevenzwu @electrum cc, pls","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113887223/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113891669","html_url":"https://github.com/apache/iceberg/pull/4662#issuecomment-1113891669","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4662","id":1113891669,"node_id":"IC_kwDOCW7NX85CZKNV","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-30T02:07:12Z","updated_at":"2022-04-30T02:08:14Z","author_association":"COLLABORATOR","body":"I still need to ramp a bit on this, but I thought in that discussion we are going to collapse all of the same partition fields (if some are re-used) and they are uniquely identified with specid?  Ie, just \"data\" and \"id\".\r\n\r\n\r\nexample for reference:\r\n```\r\nPartitionSpec initialSpec = PartitionSpec.builderFor(SCHEMA)\r\n    .identity(\"data\")\r\n    .build();\r\nTestTables.TestTable table = TestTables.create(tableDir, \"test\", SCHEMA, initialSpec, V2_FORMAT_VERSION);\r\n\r\ntable.updateSpec()\r\n    .removeField(\"data\")\r\n    .commit();\r\n\r\ntable.updateSpec()\r\n    .addField(\"data\")\r\n    .addField(\"id\")\r\n    .commit();\r\n\r\nstruct<1000: data: optional string, 1001: data: optional string, 1002: id: optional int>\r\n```\r\n\r\nI am wondering, does the code try to re-use old partition values in both metadata (ManifestEvaluator) and data filtering? I thought it does, but need to check, let me know if assumption is incorrect.  Example here, we would hopefully use  \"data\" partition values written by the table's initial spec, for queries after re-adding \"data\" to the spec.   So then it may make sense to collapse the fields together in the partitions/metadata table?  Welcome any thoughts from @rdblue , @aokolnychyi who have more background in the initial discussion.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113891669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113985405","html_url":"https://github.com/apache/iceberg/pull/4674#issuecomment-1113985405","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4674","id":1113985405,"node_id":"IC_kwDOCW7NX85CZhF9","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-30T13:02:30Z","updated_at":"2022-04-30T13:02:30Z","author_association":"MEMBER","body":"cc: @RussellSpitzer , @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1113985405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1114073377","html_url":"https://github.com/apache/iceberg/pull/4602#issuecomment-1114073377","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4602","id":1114073377,"node_id":"IC_kwDOCW7NX85CZ2kh","user":{"login":"felixYyu","id":3785228,"node_id":"MDQ6VXNlcjM3ODUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3785228?v=4","gravatar_id":"","url":"https://api.github.com/users/felixYyu","html_url":"https://github.com/felixYyu","followers_url":"https://api.github.com/users/felixYyu/followers","following_url":"https://api.github.com/users/felixYyu/following{/other_user}","gists_url":"https://api.github.com/users/felixYyu/gists{/gist_id}","starred_url":"https://api.github.com/users/felixYyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixYyu/subscriptions","organizations_url":"https://api.github.com/users/felixYyu/orgs","repos_url":"https://api.github.com/users/felixYyu/repos","events_url":"https://api.github.com/users/felixYyu/events{/privacy}","received_events_url":"https://api.github.com/users/felixYyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-30T23:46:02Z","updated_at":"2022-04-30T23:46:02Z","author_association":"CONTRIBUTOR","body":"cc @findepi ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1114073377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1114098697","html_url":"https://github.com/apache/iceberg/pull/4625#issuecomment-1114098697","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4625","id":1114098697,"node_id":"IC_kwDOCW7NX85CZ8wJ","user":{"login":"wuwenchi","id":19755729,"node_id":"MDQ6VXNlcjE5NzU1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/19755729?v=4","gravatar_id":"","url":"https://api.github.com/users/wuwenchi","html_url":"https://github.com/wuwenchi","followers_url":"https://api.github.com/users/wuwenchi/followers","following_url":"https://api.github.com/users/wuwenchi/following{/other_user}","gists_url":"https://api.github.com/users/wuwenchi/gists{/gist_id}","starred_url":"https://api.github.com/users/wuwenchi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuwenchi/subscriptions","organizations_url":"https://api.github.com/users/wuwenchi/orgs","repos_url":"https://api.github.com/users/wuwenchi/repos","events_url":"https://api.github.com/users/wuwenchi/events{/privacy}","received_events_url":"https://api.github.com/users/wuwenchi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-01T01:54:31Z","updated_at":"2022-05-01T01:54:31Z","author_association":"CONTRIBUTOR","body":"@kbendick  Can we consider this way to implement partition transforms #4251 @yittg ?  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1114098697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1114456236","html_url":"https://github.com/apache/iceberg/pull/4625#issuecomment-1114456236","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4625","id":1114456236,"node_id":"IC_kwDOCW7NX85CbUCs","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T03:16:17Z","updated_at":"2022-05-02T03:16:17Z","author_association":"CONTRIBUTOR","body":"I have a uber question regarding storing those properties into Iceberg table properties.\r\n\r\nWatermark config is very job specific. Different Flink jobs may have different watermark assignment.\r\n```\r\nflink.watermark.t2 = `t2` - INTERVAL '5' SECOND\r\n```\r\n\r\nThere are some discussions in PR #3681 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1114456236/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1114470602","html_url":"https://github.com/apache/iceberg/pull/4625#issuecomment-1114470602","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4625","id":1114470602,"node_id":"IC_kwDOCW7NX85CbXjK","user":{"login":"wuwenchi","id":19755729,"node_id":"MDQ6VXNlcjE5NzU1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/19755729?v=4","gravatar_id":"","url":"https://api.github.com/users/wuwenchi","html_url":"https://github.com/wuwenchi","followers_url":"https://api.github.com/users/wuwenchi/followers","following_url":"https://api.github.com/users/wuwenchi/following{/other_user}","gists_url":"https://api.github.com/users/wuwenchi/gists{/gist_id}","starred_url":"https://api.github.com/users/wuwenchi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuwenchi/subscriptions","organizations_url":"https://api.github.com/users/wuwenchi/orgs","repos_url":"https://api.github.com/users/wuwenchi/repos","events_url":"https://api.github.com/users/wuwenchi/events{/privacy}","received_events_url":"https://api.github.com/users/wuwenchi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T04:02:00Z","updated_at":"2022-05-02T04:02:00Z","author_association":"CONTRIBUTOR","body":"@stevenzwu Thanks for your reply!\r\n\r\nWe have also considered this issue. \r\nBut in fact, when our users are using, more scenarios are that a table needs to be joined with many other tables, and each association may be a separate task, so the watermak attributes of these tasks are actually the same.\r\nIf we don't have this feature, users have to look at the watermark property of other tasks to create a new task.\r\n\r\nSo my thoughts are:   For the same table\r\n1. If you need different watermark attributes, you can use the flink connector to achieve it, create a connector for each task, and then specify different watermarks.\r\n2. If you need the same watermark attributes, you can use the iceberg table directly.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1114470602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1114605011","html_url":"https://github.com/apache/iceberg/pull/4465#issuecomment-1114605011","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4465","id":1114605011,"node_id":"IC_kwDOCW7NX85Cb4XT","user":{"login":"sumeetgajjar","id":7351922,"node_id":"MDQ6VXNlcjczNTE5MjI=","avatar_url":"https://avatars.githubusercontent.com/u/7351922?v=4","gravatar_id":"","url":"https://api.github.com/users/sumeetgajjar","html_url":"https://github.com/sumeetgajjar","followers_url":"https://api.github.com/users/sumeetgajjar/followers","following_url":"https://api.github.com/users/sumeetgajjar/following{/other_user}","gists_url":"https://api.github.com/users/sumeetgajjar/gists{/gist_id}","starred_url":"https://api.github.com/users/sumeetgajjar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sumeetgajjar/subscriptions","organizations_url":"https://api.github.com/users/sumeetgajjar/orgs","repos_url":"https://api.github.com/users/sumeetgajjar/repos","events_url":"https://api.github.com/users/sumeetgajjar/events{/privacy}","received_events_url":"https://api.github.com/users/sumeetgajjar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T08:14:04Z","updated_at":"2022-05-02T08:14:04Z","author_association":"CONTRIBUTOR","body":"@rdblue gentle ping to re-review the PR. \r\nAll the suggested changes have been incorporated.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1114605011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115035033","html_url":"https://github.com/apache/iceberg/pull/4662#issuecomment-1115035033","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4662","id":1115035033,"node_id":"IC_kwDOCW7NX85CdhWZ","user":{"login":"szlta","id":40628386,"node_id":"MDQ6VXNlcjQwNjI4Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/40628386?v=4","gravatar_id":"","url":"https://api.github.com/users/szlta","html_url":"https://github.com/szlta","followers_url":"https://api.github.com/users/szlta/followers","following_url":"https://api.github.com/users/szlta/following{/other_user}","gists_url":"https://api.github.com/users/szlta/gists{/gist_id}","starred_url":"https://api.github.com/users/szlta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szlta/subscriptions","organizations_url":"https://api.github.com/users/szlta/orgs","repos_url":"https://api.github.com/users/szlta/repos","events_url":"https://api.github.com/users/szlta/events{/privacy}","received_events_url":"https://api.github.com/users/szlta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T15:27:43Z","updated_at":"2022-05-02T15:27:43Z","author_association":"CONTRIBUTOR","body":"Hey @szehon-ho this was just intended to be a quick fix so we don't throw exceptions for the case you mentioned too.\r\nCurrently if we want to collapse the matching partition columns we will hit the following issue:\r\n\r\n- suppose we'd have 1000: data, 1001: data, 1002: id in the combined partition type\r\n- Partitioning.partitionType could collapse this into 1001: data, 1002: id (leaving out the last seen \"data\" as going back in specs)\r\n- this will be the \"read schema\" when reading the manifest files (as the underlying avro files)\r\n- for spec0, id matching will think that although the file schema has 1000: data, but the read schema doesn't, this reading will just return null for 1001: data and null for 1002: id leaving us no info the collapse upon..\r\n\r\nPerhaps if we could rework the re-addition of \"data\" column to spec so that no new field ID is generated for it? I'm not sure if this will cause other issues though..","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115035033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115163902","html_url":"https://github.com/apache/iceberg/pull/4680#issuecomment-1115163902","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4680","id":1115163902,"node_id":"IC_kwDOCW7NX85CeAz-","user":{"login":"snazy","id":957468,"node_id":"MDQ6VXNlcjk1NzQ2OA==","avatar_url":"https://avatars.githubusercontent.com/u/957468?v=4","gravatar_id":"","url":"https://api.github.com/users/snazy","html_url":"https://github.com/snazy","followers_url":"https://api.github.com/users/snazy/followers","following_url":"https://api.github.com/users/snazy/following{/other_user}","gists_url":"https://api.github.com/users/snazy/gists{/gist_id}","starred_url":"https://api.github.com/users/snazy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snazy/subscriptions","organizations_url":"https://api.github.com/users/snazy/orgs","repos_url":"https://api.github.com/users/snazy/repos","events_url":"https://api.github.com/users/snazy/events{/privacy}","received_events_url":"https://api.github.com/users/snazy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T17:40:43Z","updated_at":"2022-05-02T17:40:43Z","author_association":"MEMBER","body":"This should likely be backported to 0.13.x","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115163902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115167585","html_url":"https://github.com/apache/iceberg/pull/4553#issuecomment-1115167585","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4553","id":1115167585,"node_id":"IC_kwDOCW7NX85CeBth","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T17:44:35Z","updated_at":"2022-05-02T17:44:35Z","author_association":"CONTRIBUTOR","body":"Confirming I just verified that Flink 1.14 and the proposed Flink 1.15 still have the same diff as mentioned 3 days ago.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115167585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115209512","html_url":"https://github.com/apache/iceberg/pull/4681#issuecomment-1115209512","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4681","id":1115209512,"node_id":"IC_kwDOCW7NX85CeL8o","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T18:16:01Z","updated_at":"2022-05-02T18:16:01Z","author_association":"MEMBER","body":"I'm not sure we want to force all future table operations to include a literal location (or have to return one). So we may want to have the logging in the operations (HiveTableOperations, HadoopTableOperations, ... ) themselves?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115209512/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115236877","html_url":"https://github.com/apache/iceberg/pull/4681#issuecomment-1115236877","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4681","id":1115236877,"node_id":"IC_kwDOCW7NX85CeSoN","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T18:43:43Z","updated_at":"2022-05-02T18:43:43Z","author_association":"CONTRIBUTOR","body":"> I'm not sure we want to force all future table operations to include a literal location (or have to return one). So we may want to have the logging in the operations (HiveTableOperations, HadoopTableOperations, ... ) themselves?\r\n\r\nGood point. But I think a table version string will be there even for a future catalog without a metatdata.json file. It can easily support that, with minor word change. like `Successfully committed to table {} with the new metadata location({})` -> `Successfully committed to table {} with the new version ({})`\r\n\r\nHi @kbendick, what do you think from the perspective of rest API catalog?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115236877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115251320","html_url":"https://github.com/apache/iceberg/pull/4678#issuecomment-1115251320","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4678","id":1115251320,"node_id":"IC_kwDOCW7NX85CeWJ4","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T19:00:44Z","updated_at":"2022-05-02T19:00:44Z","author_association":"CONTRIBUTOR","body":"Seems reasonable to me. Do you want to merge this right away, or are you planning to update it with an implementation?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115251320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115253235","html_url":"https://github.com/apache/iceberg/pull/4680#issuecomment-1115253235","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4680","id":1115253235,"node_id":"IC_kwDOCW7NX85CeWnz","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T19:02:43Z","updated_at":"2022-05-02T19:02:43Z","author_association":"CONTRIBUTOR","body":"@snazy, what is broken by this? Iceberg purposely avoids using things like Jackson annotations because we don't control the final classpath and want to avoid problems that come from exactly this kind of issue. What does this fix that requires it to be ported to 0.13.x?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115253235/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115254429","html_url":"https://github.com/apache/iceberg/pull/4681#issuecomment-1115254429","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4681","id":1115254429,"node_id":"IC_kwDOCW7NX85CeW6d","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T19:03:59Z","updated_at":"2022-05-02T19:03:59Z","author_association":"CONTRIBUTOR","body":"I agree with @RussellSpitzer that this should be done in the catalog, not generally.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115254429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115257440","html_url":"https://github.com/apache/iceberg/pull/4677#issuecomment-1115257440","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4677","id":1115257440,"node_id":"IC_kwDOCW7NX85CeXpg","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T19:07:00Z","updated_at":"2022-05-02T19:07:00Z","author_association":"CONTRIBUTOR","body":"Thanks, @chenjunjiedada!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115257440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115276568","html_url":"https://github.com/apache/iceberg/pull/4673#issuecomment-1115276568","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4673","id":1115276568,"node_id":"IC_kwDOCW7NX85CecUY","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T19:27:01Z","updated_at":"2022-05-02T19:27:01Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing this, everyone! Good to have it fixed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115276568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115301314","html_url":"https://github.com/apache/iceberg/pull/4645#issuecomment-1115301314","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4645","id":1115301314,"node_id":"IC_kwDOCW7NX85CeiXC","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T19:56:50Z","updated_at":"2022-05-02T19:56:50Z","author_association":"CONTRIBUTOR","body":"> This is actually a table property, should it add a description here [https://iceberg.apache.org/docs/latest/configuration/](url) ? @felixYyu @kbendick\r\n\r\nAppreciate the consideration for looking after the main table configurations, but I don't think this merits being listed in the list of all configurations.\r\n\r\nThat's primarily for Iceberg-specific configuration properties. Table comment being a table property is more of a detail of Spark (and other engines). So it's probably best left for them to document.\r\n\r\nIdeally, that main `configurations` page should be a place where users can look up Iceberg-specific table properties, so I think that just having the example is sufficient.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115301314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115306099","html_url":"https://github.com/apache/iceberg/pull/4678#issuecomment-1115306099","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4678","id":1115306099,"node_id":"IC_kwDOCW7NX85Cejhz","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T20:02:23Z","updated_at":"2022-05-02T20:02:23Z","author_association":"CONTRIBUTOR","body":"@rdblue this is good to merge now and then I'll rebase PR #4679 which should get that in a good state to merge. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115306099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115361152","html_url":"https://github.com/apache/iceberg/pull/4669#issuecomment-1115361152","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4669","id":1115361152,"node_id":"IC_kwDOCW7NX85Cew-A","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T20:59:02Z","updated_at":"2022-05-02T20:59:02Z","author_association":"COLLABORATOR","body":"THanks @liuml07 for the change","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115361152/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115460796","html_url":"https://github.com/apache/iceberg/pull/4662#issuecomment-1115460796","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4662","id":1115460796,"node_id":"IC_kwDOCW7NX85CfJS8","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T23:21:18Z","updated_at":"2022-05-02T23:21:18Z","author_association":"COLLABORATOR","body":"Yea I understand, my gist of the earlier conversation was that the most optimal solution is to try to re-use the field-id if its the equivalent transformation as a partition field before?  I think the thing to check  would be whether the regular metadata filtering is affected or not (today it seems to work,  via logic in Projection filter being able to resolve it)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115460796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115469463","html_url":"https://github.com/apache/iceberg/pull/4682#issuecomment-1115469463","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4682","id":1115469463,"node_id":"IC_kwDOCW7NX85CfLaX","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T23:38:05Z","updated_at":"2022-05-02T23:38:05Z","author_association":"CONTRIBUTOR","body":"Thanks, @kbendick!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115469463/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115469911","html_url":"https://github.com/apache/iceberg/pull/4660#issuecomment-1115469911","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4660","id":1115469911,"node_id":"IC_kwDOCW7NX85CfLhX","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T23:38:58Z","updated_at":"2022-05-02T23:38:58Z","author_association":"CONTRIBUTOR","body":"@homar, looks like there's a commit conflict with the addition of `added-eq-delete-files` and `added-pos-delete-files`. Can you rebase?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115469911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115474469","html_url":"https://github.com/apache/iceberg/pull/4555#issuecomment-1115474469","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4555","id":1115474469,"node_id":"IC_kwDOCW7NX85CfMol","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T23:49:09Z","updated_at":"2022-05-02T23:49:09Z","author_association":"CONTRIBUTOR","body":"Thanks, @SinghAsDev!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115474469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115474996","html_url":"https://github.com/apache/iceberg/pull/4418#issuecomment-1115474996","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4418","id":1115474996,"node_id":"IC_kwDOCW7NX85CfMw0","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-02T23:50:21Z","updated_at":"2022-05-02T23:50:21Z","author_association":"CONTRIBUTOR","body":"@openinx have you had a chance to look into the failure? It would be great to fix this instead of disabling in 1.12.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115474996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115524881","html_url":"https://github.com/apache/iceberg/pull/4668#issuecomment-1115524881","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4668","id":1115524881,"node_id":"IC_kwDOCW7NX85CfY8R","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T01:22:15Z","updated_at":"2022-05-03T01:22:15Z","author_association":"CONTRIBUTOR","body":"> I think this looks good other than sorting the partition spec fields and the sort order fields.\r\n\r\nRemoved the sorting on fields in the unbound partition spec and sort order.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115524881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115529855","html_url":"https://github.com/apache/iceberg/pull/4681#issuecomment-1115529855","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4681","id":1115529855,"node_id":"IC_kwDOCW7NX85CfaJ_","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T01:37:01Z","updated_at":"2022-05-03T07:31:35Z","author_association":"CONTRIBUTOR","body":"> > I'm not sure we want to force all future table operations to include a literal location (or have to return one). So we may want to have the logging in the operations (HiveTableOperations, HadoopTableOperations, ... ) themselves?\r\n> \r\n> Good point. But I think a table version string will be there even for a future catalog without a metatdata.json file. It can easily support that, with minor word change. like `Successfully committed to table {} with the new metadata location({})` -> `Successfully committed to table {} with the new version ({})`\r\n> \r\n> Hi @kbendick, what do you think from the perspective of rest API catalog?\r\n\r\nFor the current REST catalog, a file should be loggable. That said, I do agree that it's probably best not to force catalogs to have to always return a new metadata.json.\r\n\r\nFrom the point of view of the REST catalog, presently it wouldn't matter.\r\n\r\nThat said, it looks like there would be quite a n number of places to log this if we did it at the catalog level. Essentially everywhere that `commit` is called..\r\n\r\nFor `HiveCatalog`, that would be:\r\n- `registerTable` (from `Catalog` interface)\r\n- `createTable`\r\n- Several functions in the `BaseMetastoreCatalog`, such as `BaseMetastoreCatalog#BaseMetastoreCatalogTableBuilder::create`.\r\n- The various implementations of `Transactions::commitTransaction` would also need to add logs (which breaks down into `BaseTransaction::commitCreateTransaction`, `BaseTransaction::commitReplaceTransaction`, and 2 more I can see from a simple pass over the code.\r\n\r\n**TLDR**: I agree that having the catalog do the logging would be the ideal way, but realistically that's a lot of additional places to add logs vs a small handful of implementations of `TableOperations::commit` would suffice and generally speaking all of the relevant information is in Table Operations. So in my opinion, as long as the `TableOperations` implementations add the logging themselves, I think that would be simpler.\r\n\r\nFor the RESTCatalog, `RESTTableOperations::updateCurrentMetadata`, which is called at the end of `commit` with the `LoadTableResponse`  - just for clarification on where / how this could be handled in the REST catalog.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115529855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115546231","html_url":"https://github.com/apache/iceberg/pull/4668#issuecomment-1115546231","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4668","id":1115546231,"node_id":"IC_kwDOCW7NX85CfeJ3","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T02:04:45Z","updated_at":"2022-05-03T02:04:45Z","author_association":"CONTRIBUTOR","body":"I removed the ordering of fields from the test. This should be good to go in maybe 10 more minutes once the last of the tests finish @rdblue.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115546231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115552155","html_url":"https://github.com/apache/iceberg/pull/4538#issuecomment-1115552155","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4538","id":1115552155,"node_id":"IC_kwDOCW7NX85Cffmb","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T02:21:05Z","updated_at":"2022-05-03T02:21:05Z","author_association":"CONTRIBUTOR","body":"This has been superseded by https://github.com/apache/iceberg/pull/4641 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115552155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115843868","html_url":"https://github.com/apache/iceberg/pull/4537#issuecomment-1115843868","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4537","id":1115843868,"node_id":"IC_kwDOCW7NX85Cgm0c","user":{"login":"ggershinsky","id":12033212,"node_id":"MDQ6VXNlcjEyMDMzMjEy","avatar_url":"https://avatars.githubusercontent.com/u/12033212?v=4","gravatar_id":"","url":"https://api.github.com/users/ggershinsky","html_url":"https://github.com/ggershinsky","followers_url":"https://api.github.com/users/ggershinsky/followers","following_url":"https://api.github.com/users/ggershinsky/following{/other_user}","gists_url":"https://api.github.com/users/ggershinsky/gists{/gist_id}","starred_url":"https://api.github.com/users/ggershinsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ggershinsky/subscriptions","organizations_url":"https://api.github.com/users/ggershinsky/orgs","repos_url":"https://api.github.com/users/ggershinsky/repos","events_url":"https://api.github.com/users/ggershinsky/events{/privacy}","received_events_url":"https://api.github.com/users/ggershinsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T08:16:10Z","updated_at":"2022-05-03T08:16:10Z","author_association":"CONTRIBUTOR","body":"> CC: @ggershinsky Could you take a look at this as well I'm not sure how we fit this into our current encryption plans since we are compressing blob blocks within this file seperately we would end up with issues if we encrypted the entire file. Is there an easy way we can compress/encrypt the blobs inside the index files?\r\n\r\n@RussellSpitzer : had a quick look; I think we should be ok with using the same encrypting stream we plan for other metadata (like manifests). This is not a flat file encryption, won't affect the internal structure, compression etc. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1115843868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116259035","html_url":"https://github.com/apache/iceberg/pull/4553#issuecomment-1116259035","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4553","id":1116259035,"node_id":"IC_kwDOCW7NX85CiMLb","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T15:53:34Z","updated_at":"2022-05-03T15:53:34Z","author_association":"CONTRIBUTOR","body":"Thanks, @kbendick! This looks great.\r\n\r\nShould we also remove 1.12 from master?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116259035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116265464","html_url":"https://github.com/apache/iceberg/pull/4679#issuecomment-1116265464","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4679","id":1116265464,"node_id":"IC_kwDOCW7NX85CiNv4","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T15:59:50Z","updated_at":"2022-05-03T15:59:50Z","author_association":"CONTRIBUTOR","body":"This has been rebased and is ready for review","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116265464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116266605","html_url":"https://github.com/apache/iceberg/pull/4684#issuecomment-1116266605","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4684","id":1116266605,"node_id":"IC_kwDOCW7NX85CiOBt","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T16:00:50Z","updated_at":"2022-05-03T16:00:50Z","author_association":"COLLABORATOR","body":"@rdblue @samredai going to continue breaking #3450 into small PRs. Please take a look. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116266605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116278504","html_url":"https://github.com/apache/iceberg/pull/4553#issuecomment-1116278504","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4553","id":1116278504,"node_id":"IC_kwDOCW7NX85CiQ7o","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T16:11:57Z","updated_at":"2022-05-03T16:11:57Z","author_association":"CONTRIBUTOR","body":"> Thanks, @kbendick! This looks great.\r\n> \r\n> Should we also remove 1.12 from master?\r\n\r\n1.12 has been removed from master already: https://github.com/apache/iceberg/commit/e45c19e1d02a130d33ac886f676dfb141708090d","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116278504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116340603","html_url":"https://github.com/apache/iceberg/pull/4448#issuecomment-1116340603","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4448","id":1116340603,"node_id":"IC_kwDOCW7NX85CigF7","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T17:08:16Z","updated_at":"2022-05-03T17:08:16Z","author_association":"CONTRIBUTOR","body":"> @kbendick, this looks ready to go to me, except for the unfinished changes from the JDBC catalog issue. If you remove the comments in tests and update the `contains` check, I'll merge this.\r\n\r\nCool. I figured that the JDBC catalog issue was something there wasn't a clean way to resolve.\r\n\r\nI will make the changes so we can merge this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116340603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116363245","html_url":"https://github.com/apache/iceberg/pull/4679#issuecomment-1116363245","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4679","id":1116363245,"node_id":"IC_kwDOCW7NX85Cilnt","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T17:31:49Z","updated_at":"2022-05-03T17:31:49Z","author_association":"CONTRIBUTOR","body":"BTW, might want to add a note in the PR description that this class corresponds to the Java API's NamedReference.\r\n\r\nA lot of times after looking through the git blame, Ill go back and look at PRs for context and given we're changing the name that might give others a jumping off point to go investigate further.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116363245/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116412642","html_url":"https://github.com/apache/iceberg/pull/4681#issuecomment-1116412642","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4681","id":1116412642,"node_id":"IC_kwDOCW7NX85Cixri","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T18:17:33Z","updated_at":"2022-05-03T18:17:33Z","author_association":"CONTRIBUTOR","body":"Hi @RussellSpitzer, @rdblue @kbendick, made the change only to `HiveTableOperation`. I can make change to other table operations you think it is necessary. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116412642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116653735","html_url":"https://github.com/apache/iceberg/pull/4679#issuecomment-1116653735","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4679","id":1116653735,"node_id":"IC_kwDOCW7NX85Cjsin","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T21:02:27Z","updated_at":"2022-05-03T21:02:27Z","author_association":"CONTRIBUTOR","body":"@kbendick good point, I've added this to the docstring:\r\n```\r\n    Note:\r\n        An unbound reference is sometimes referred to as a \"named\" reference\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116653735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116717358","html_url":"https://github.com/apache/iceberg/issues/4686#issuecomment-1116717358","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4686","id":1116717358,"node_id":"IC_kwDOCW7NX85Cj8Eu","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T22:22:44Z","updated_at":"2022-05-03T22:22:44Z","author_association":"CONTRIBUTOR","body":"```\r\nthrow new CommitFailedException(\"Fun failure\");\r\n```\r\nIs this runtime exception swallowed somehow?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116717358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116721402","html_url":"https://github.com/apache/iceberg/issues/4686#issuecomment-1116721402","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4686","id":1116721402,"node_id":"IC_kwDOCW7NX85Cj9D6","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T22:29:40Z","updated_at":"2022-05-03T22:29:40Z","author_association":"MEMBER","body":"Sorry incorrect exception there should have been CommitStateUnknown, the exception is not swallowed. The issue is that the operation.commit code in SnapshotProducer can throw CommitStateUnknown which will be surfaced up to Spark. This is explicitly rethrown see\r\n\r\nhttps://github.com/apache/iceberg/blob/674dcf1c2e3cb0444a183c55a24b521e297880de/core/src/main/java/org/apache/iceberg/SnapshotProducer.java#L321\r\n\r\nOnce rethrown into the SparkWrite commitOperation code it will trigger the data source Abort method which will delete the data files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116721402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116733218","html_url":"https://github.com/apache/iceberg/issues/4686#issuecomment-1116733218","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4686","id":1116733218,"node_id":"IC_kwDOCW7NX85Cj_8i","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T22:51:12Z","updated_at":"2022-05-03T22:51:12Z","author_association":"CONTRIBUTOR","body":"Got it. The `SparkWrite` aborts and deletes data files due to the exception, but the table operation commit may succeed(in a unknown state).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116733218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116743409","html_url":"https://github.com/apache/iceberg/pull/4688#issuecomment-1116743409","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4688","id":1116743409,"node_id":"IC_kwDOCW7NX85CkCbx","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T23:10:35Z","updated_at":"2022-05-03T23:10:35Z","author_association":"CONTRIBUTOR","body":"Here's a listing of all files called `NOTICE` in my fork for reference.\r\n\r\n```shell\r\n$ du -a . | grep NOTICE\r\n8\t./hive-runtime/NOTICE\r\n8\t./python/.tox/py37/lib/python3.7/site-packages/pyarrow-7.0.0.dist-info/NOTICE.txt\r\n8\t./python/.tox/py39/lib/python3.9/site-packages/pyarrow-7.0.0.dist-info/NOTICE.txt\r\n8\t./python/.tox/py38/lib/python3.8/site-packages/pyarrow-7.0.0.dist-info/NOTICE.txt\r\n8\t./python/.tox/linters/lib/python3.8/site-packages/pyarrow-7.0.0.dist-info/NOTICE.txt\r\n8\t./python/NOTICE\r\n8\t./flink/v1.15/flink-runtime/NOTICE\r\n8\t./flink/v1.14/flink-runtime/NOTICE\r\n8\t./flink/v1.13/flink-runtime/NOTICE\r\n8\t./bundled-guava/NOTICE\r\n8\t./NOTICE\r\n40\t./spark/v3.2/spark-runtime/NOTICE\r\n40\t./spark/v2.4/spark-runtime/NOTICE\r\n40\t./spark/v3.0/spark-runtime/NOTICE\r\n40\t./spark/v3.1/spark-runtime/NOTICE\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116743409/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116761069","html_url":"https://github.com/apache/iceberg/pull/4681#issuecomment-1116761069","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4681","id":1116761069,"node_id":"IC_kwDOCW7NX85CkGvt","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T23:34:58Z","updated_at":"2022-05-03T23:34:58Z","author_association":"CONTRIBUTOR","body":"> Hi @RussellSpitzer, @rdblue @kbendick, made the change only to `HiveTableOperation`. I can make change to other table operations you think it is necessary.\r\n\r\nI'm good with just adding the log to `HiveTableOperations` for now. I'd _consider_ adding the log to `HadoopTableOperations` as well, as a lot of testing takes place using that and so investigations might wind up using that.\r\n\r\nBut realistically, if people who use other table operations find need or value for this log, it can be added as a follow up (particularly by people who make more common use of those table operations).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116761069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116763624","html_url":"https://github.com/apache/iceberg/pull/4301#issuecomment-1116763624","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4301","id":1116763624,"node_id":"IC_kwDOCW7NX85CkHXo","user":{"login":"wmoustafa","id":10084105,"node_id":"MDQ6VXNlcjEwMDg0MTA1","avatar_url":"https://avatars.githubusercontent.com/u/10084105?v=4","gravatar_id":"","url":"https://api.github.com/users/wmoustafa","html_url":"https://github.com/wmoustafa","followers_url":"https://api.github.com/users/wmoustafa/followers","following_url":"https://api.github.com/users/wmoustafa/following{/other_user}","gists_url":"https://api.github.com/users/wmoustafa/gists{/gist_id}","starred_url":"https://api.github.com/users/wmoustafa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wmoustafa/subscriptions","organizations_url":"https://api.github.com/users/wmoustafa/orgs","repos_url":"https://api.github.com/users/wmoustafa/repos","events_url":"https://api.github.com/users/wmoustafa/events{/privacy}","received_events_url":"https://api.github.com/users/wmoustafa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T23:40:36Z","updated_at":"2022-05-03T23:40:36Z","author_association":"CONTRIBUTOR","body":"Great work @rzhang10! Thank you @rdblue and @RussellSpitzer for the insightful discussions!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116763624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116766515","html_url":"https://github.com/apache/iceberg/pull/4687#issuecomment-1116766515","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4687","id":1116766515,"node_id":"IC_kwDOCW7NX85CkIEz","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T23:47:14Z","updated_at":"2022-05-03T23:48:44Z","author_association":"CONTRIBUTOR","body":"LGTM. Can we manage to add a test case?\r\nA little bit comment on the unknown exception.  If the commit actually failed, which is more likely, the job failed, and we've got a bunch of orphan file. It looks fine. But it is pretty tricky when the commit actually succeeded, it throws unknown exception, the job failed. What if users retry the job? Users may append the same data twice in case of retry.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116766515/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116769299","html_url":"https://github.com/apache/iceberg/pull/4578#issuecomment-1116769299","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4578","id":1116769299,"node_id":"IC_kwDOCW7NX85CkIwT","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-03T23:54:04Z","updated_at":"2022-05-03T23:54:04Z","author_association":"CONTRIBUTOR","body":"Updated, still need to add some tests but @rdblue @kbendick let me know what you think! ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116769299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116774523","html_url":"https://github.com/apache/iceberg/issues/4689#issuecomment-1116774523","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4689","id":1116774523,"node_id":"IC_kwDOCW7NX85CkKB7","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T00:05:27Z","updated_at":"2022-05-04T00:14:37Z","author_association":"CONTRIBUTOR","body":"I'm not aware of any use case that needs partition summary when the table is not partitioned. This looks confusing to me. We may remove it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116774523/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116785119","html_url":"https://github.com/apache/iceberg/issues/4689#issuecomment-1116785119","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4689","id":1116785119,"node_id":"IC_kwDOCW7NX85CkMnf","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T00:12:26Z","updated_at":"2022-05-04T00:12:26Z","author_association":"CONTRIBUTOR","body":"I think both cases are erroneous.  Partition summaries should only be emitted if the current schema has partitions and the summaries should reflect that schema.\r\n\r\nEven if the table previously had summaries, including summaries about prior partitioning strategies would be ambiguous.  There are still edge cases with partition evolution, but the summaries are not a complete view of tables changes.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116785119/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116787267","html_url":"https://github.com/apache/iceberg/pull/4687#issuecomment-1116787267","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4687","id":1116787267,"node_id":"IC_kwDOCW7NX85CkNJD","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T00:15:28Z","updated_at":"2022-05-04T00:15:28Z","author_association":"MEMBER","body":"I do want to, I think I need to mock the table, writerBuilder and writer In order to get the exception in the right place. I'll try tomorrow ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116787267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116809372","html_url":"https://github.com/apache/iceberg/pull/4681#issuecomment-1116809372","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4681","id":1116809372,"node_id":"IC_kwDOCW7NX85CkSic","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T00:28:14Z","updated_at":"2022-05-04T00:28:14Z","author_association":"CONTRIBUTOR","body":"Added the support for `HadoopTableOperations`. But it is less likely be confusing for Hadoop table since it always write with the latest version number as the file name. One of the pain point for Hive table is that, there are multiple metadata files in the metadata directory, and you don't know which one is generated by a succeeded job, which is not. Hadoop table doesn't have this issue, it can overwrite the file generated by the failed commit. \r\n\r\nIt is still valuable though. You can connect the file with the job easily by looking at the log.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116809372/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116846341","html_url":"https://github.com/apache/iceberg/pull/4443#issuecomment-1116846341","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4443","id":1116846341,"node_id":"IC_kwDOCW7NX85CkbkF","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T01:11:36Z","updated_at":"2022-05-04T01:11:36Z","author_association":"CONTRIBUTOR","body":"This isn't a comment about this PR specifically but the content in the aws.md file feels like a collection of many unrelated things under the AWS umbrella. Maybe we should start thinking about how to break this up, such as moving the S3 docs to a FileIO section, move the Spark material somewhere in the Spark section, etc.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116846341/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116854196","html_url":"https://github.com/apache/iceberg/pull/4681#issuecomment-1116854196","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4681","id":1116854196,"node_id":"IC_kwDOCW7NX85Ckde0","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T01:33:44Z","updated_at":"2022-05-04T01:33:44Z","author_association":"CONTRIBUTOR","body":"> Added the support for `HadoopTableOperations`. But it is less likely be confusing for Hadoop table since it always write with the latest version number as the file name. One of the pain point for Hive table is that, there are multiple metadata files in the metadata directory, and you don't know which one is generated by a succeeded job, which is not. Hadoop table doesn't have this issue, it can overwrite the file generated by the failed commit.\r\n> \r\n> It is still valuable though. You can connect the file with the job easily by looking at the log.\r\n\r\nAh that makes sense. I'm good with this use case then. If other TableOperations decide it's needed, then we can add it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116854196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116877834","html_url":"https://github.com/apache/iceberg/pull/4553#issuecomment-1116877834","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4553","id":1116877834,"node_id":"IC_kwDOCW7NX85CkjQK","user":{"login":"yittg","id":4429171,"node_id":"MDQ6VXNlcjQ0MjkxNzE=","avatar_url":"https://avatars.githubusercontent.com/u/4429171?v=4","gravatar_id":"","url":"https://api.github.com/users/yittg","html_url":"https://github.com/yittg","followers_url":"https://api.github.com/users/yittg/followers","following_url":"https://api.github.com/users/yittg/following{/other_user}","gists_url":"https://api.github.com/users/yittg/gists{/gist_id}","starred_url":"https://api.github.com/users/yittg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yittg/subscriptions","organizations_url":"https://api.github.com/users/yittg/orgs","repos_url":"https://api.github.com/users/yittg/repos","events_url":"https://api.github.com/users/yittg/events{/privacy}","received_events_url":"https://api.github.com/users/yittg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T02:44:14Z","updated_at":"2022-05-04T02:44:14Z","author_association":"CONTRIBUTOR","body":"Great job @kbendick ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116877834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116878203","html_url":"https://github.com/apache/iceberg/pull/4463#issuecomment-1116878203","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4463","id":1116878203,"node_id":"IC_kwDOCW7NX85CkjV7","user":{"login":"polaris6","id":29967142,"node_id":"MDQ6VXNlcjI5OTY3MTQy","avatar_url":"https://avatars.githubusercontent.com/u/29967142?v=4","gravatar_id":"","url":"https://api.github.com/users/polaris6","html_url":"https://github.com/polaris6","followers_url":"https://api.github.com/users/polaris6/followers","following_url":"https://api.github.com/users/polaris6/following{/other_user}","gists_url":"https://api.github.com/users/polaris6/gists{/gist_id}","starred_url":"https://api.github.com/users/polaris6/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polaris6/subscriptions","organizations_url":"https://api.github.com/users/polaris6/orgs","repos_url":"https://api.github.com/users/polaris6/repos","events_url":"https://api.github.com/users/polaris6/events{/privacy}","received_events_url":"https://api.github.com/users/polaris6/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T02:45:48Z","updated_at":"2022-05-04T02:45:48Z","author_association":"CONTRIBUTOR","body":"Hi @samredai, thank you very much for your suggestion, it's very helpful, I really appreciate it!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116878203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116894892","html_url":"https://github.com/apache/iceberg/pull/4229#issuecomment-1116894892","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4229","id":1116894892,"node_id":"IC_kwDOCW7NX85Cknas","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T03:32:55Z","updated_at":"2022-05-04T03:32:55Z","author_association":"MEMBER","body":"Done. Rebased as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116894892/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116899441","html_url":"https://github.com/apache/iceberg/pull/4586#issuecomment-1116899441","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4586","id":1116899441,"node_id":"IC_kwDOCW7NX85Ckohx","user":{"login":"rajarshisarkar","id":4561678,"node_id":"MDQ6VXNlcjQ1NjE2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/4561678?v=4","gravatar_id":"","url":"https://api.github.com/users/rajarshisarkar","html_url":"https://github.com/rajarshisarkar","followers_url":"https://api.github.com/users/rajarshisarkar/followers","following_url":"https://api.github.com/users/rajarshisarkar/following{/other_user}","gists_url":"https://api.github.com/users/rajarshisarkar/gists{/gist_id}","starred_url":"https://api.github.com/users/rajarshisarkar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajarshisarkar/subscriptions","organizations_url":"https://api.github.com/users/rajarshisarkar/orgs","repos_url":"https://api.github.com/users/rajarshisarkar/repos","events_url":"https://api.github.com/users/rajarshisarkar/events{/privacy}","received_events_url":"https://api.github.com/users/rajarshisarkar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T03:46:36Z","updated_at":"2022-05-04T03:46:36Z","author_association":"CONTRIBUTOR","body":"@amogh-jahagirdar Can you please share the doc once you get time. That would help us start the discussion on Syntax.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116899441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116903649","html_url":"https://github.com/apache/iceberg/pull/4443#issuecomment-1116903649","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4443","id":1116903649,"node_id":"IC_kwDOCW7NX85Ckpjh","user":{"login":"rajarshisarkar","id":4561678,"node_id":"MDQ6VXNlcjQ1NjE2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/4561678?v=4","gravatar_id":"","url":"https://api.github.com/users/rajarshisarkar","html_url":"https://github.com/rajarshisarkar","followers_url":"https://api.github.com/users/rajarshisarkar/followers","following_url":"https://api.github.com/users/rajarshisarkar/following{/other_user}","gists_url":"https://api.github.com/users/rajarshisarkar/gists{/gist_id}","starred_url":"https://api.github.com/users/rajarshisarkar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajarshisarkar/subscriptions","organizations_url":"https://api.github.com/users/rajarshisarkar/orgs","repos_url":"https://api.github.com/users/rajarshisarkar/repos","events_url":"https://api.github.com/users/rajarshisarkar/events{/privacy}","received_events_url":"https://api.github.com/users/rajarshisarkar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-05-04T03:58:29Z","updated_at":"2022-05-04T03:58:29Z","author_association":"CONTRIBUTOR","body":"Thanks, for the inputs @samredai !\r\n\r\n@jackye1995 Please let me know your thoughts on the scope of improvement for `aws.md`. We can create tasks accordingly. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1116903649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]