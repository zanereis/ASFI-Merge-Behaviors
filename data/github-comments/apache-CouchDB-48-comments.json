[{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400016592","html_url":"https://github.com/apache/couchdb/issues/1409#issuecomment-400016592","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1409","id":400016592,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDAxNjU5Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T16:38:58Z","updated_at":"2018-06-25T16:38:58Z","author_association":"MEMBER","body":"@stevedrew this isn't the root cause for CouchDB's slow attachment behaviour universally, no. A lot of that slowness comes from the serialisation of attachment data both into the b-tree and over the wire. Internal attachment replication between nodes in a 2.x cluster is also unoptimized, and can block other operations on very large files, leading to database-wide issues.\r\n\r\nWe still recommend keeping attachments in CouchDB below 10MB per document, which you have already met, hooray! There is an ongoing discussion about how to help guide users towards these defaults, see https://github.com/apache/couchdb/pull/1200 and https://github.com/apache/couchdb/pull/1253.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400016592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400016744","html_url":"https://github.com/apache/couchdb/pull/1411#issuecomment-400016744","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1411","id":400016744,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDAxNjc0NA==","user":{"login":"kxepal","id":785983,"node_id":"MDQ6VXNlcjc4NTk4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/785983?v=4","gravatar_id":"","url":"https://api.github.com/users/kxepal","html_url":"https://github.com/kxepal","followers_url":"https://api.github.com/users/kxepal/followers","following_url":"https://api.github.com/users/kxepal/following{/other_user}","gists_url":"https://api.github.com/users/kxepal/gists{/gist_id}","starred_url":"https://api.github.com/users/kxepal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kxepal/subscriptions","organizations_url":"https://api.github.com/users/kxepal/orgs","repos_url":"https://api.github.com/users/kxepal/repos","events_url":"https://api.github.com/users/kxepal/events{/privacy}","received_events_url":"https://api.github.com/users/kxepal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T16:39:30Z","updated_at":"2018-06-25T16:39:30Z","author_association":"MEMBER","body":"Hi @wohali !\r\n\r\nThis patch worth to check on MacOSX and FreeBSD, because these two were the reason of the last buffer change. IIRC, originally, we didn't have such tweaks at all, so OS managed them in the same way. Linux would be fine in any case.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400016744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400016954","html_url":"https://github.com/apache/couchdb/issues/1410#issuecomment-400016954","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1410","id":400016954,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDAxNjk1NA==","user":{"login":"johs","id":48370,"node_id":"MDQ6VXNlcjQ4Mzcw","avatar_url":"https://avatars.githubusercontent.com/u/48370?v=4","gravatar_id":"","url":"https://api.github.com/users/johs","html_url":"https://github.com/johs","followers_url":"https://api.github.com/users/johs/followers","following_url":"https://api.github.com/users/johs/following{/other_user}","gists_url":"https://api.github.com/users/johs/gists{/gist_id}","starred_url":"https://api.github.com/users/johs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johs/subscriptions","organizations_url":"https://api.github.com/users/johs/orgs","repos_url":"https://api.github.com/users/johs/repos","events_url":"https://api.github.com/users/johs/events{/privacy}","received_events_url":"https://api.github.com/users/johs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T16:40:12Z","updated_at":"2018-06-25T16:40:12Z","author_association":"NONE","body":"Thanks,\nI just wrote you another mail about this\n\nWith the proxy bug in 2.1.1 we are still on your 1.6:)\n\njohs\n\n> On 25 Jun 2018, at 18:37, ermouth <notifications@github.com> wrote:\n> \n> @johs, I’ve asked @kxepal about the topic already. The comment was like there wasn’t enough time for it since 1.7.x were both rolled out under CVE threat circumstances.\n> \n> Also as far as I can remember there were no publicly available JS rewrite implementation for 1.6, so there is no for 1.7. The version we both use was my private initiative, since it received at least cold reception over PMC.\n> \n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub, or mute the thread.\n> \n\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400016954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400017969","html_url":"https://github.com/apache/couchdb/pull/1411#issuecomment-400017969","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1411","id":400017969,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDAxNzk2OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T16:43:19Z","updated_at":"2018-06-25T16:43:19Z","author_association":"MEMBER","body":"@kxepal Interesting! If you look at #1409 you'll see that this problem specifically cropped up on Linux running on AWS, so these defaults don't work anymore for Linux. \r\n\r\nIf you can help run the test cases, I'd greatly appreciate it. We still don't have dedicated FreeBSD/MacOS Jenkins boxes, but they are coming.\r\n\r\nI don't think it makes sense to bake OSX/FreeBSD defaults into the code itself, but perhaps we could add comments in `default.ini` and the documentation about setting these values explicitly on other OSes if necessary? Given the increased up-take in Docker and packaged installations, I don't think it makes sense to hobble Linux distributions with bad default settings.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400017969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400019084","html_url":"https://github.com/apache/couchdb/pull/1411#issuecomment-400019084","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1411","id":400019084,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDAxOTA4NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T16:47:03Z","updated_at":"2018-06-25T16:47:03Z","author_association":"MEMBER","body":"Ooh! Another option is to address this with `etc/default.d/10-socket.ini` files in the BSD ports tree (/cc @dch) and over in @janl 's OSX installer builder. That's what `etc/default.d/` is intended for - package maintainer default files for distro-specific changes.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400019084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400020188","html_url":"https://github.com/apache/couchdb/issues/1410#issuecomment-400020188","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1410","id":400020188,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDAyMDE4OA==","user":{"login":"kxepal","id":785983,"node_id":"MDQ6VXNlcjc4NTk4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/785983?v=4","gravatar_id":"","url":"https://api.github.com/users/kxepal","html_url":"https://github.com/kxepal","followers_url":"https://api.github.com/users/kxepal/followers","following_url":"https://api.github.com/users/kxepal/following{/other_user}","gists_url":"https://api.github.com/users/kxepal/gists{/gist_id}","starred_url":"https://api.github.com/users/kxepal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kxepal/subscriptions","organizations_url":"https://api.github.com/users/kxepal/orgs","repos_url":"https://api.github.com/users/kxepal/repos","events_url":"https://api.github.com/users/kxepal/events{/privacy}","received_events_url":"https://api.github.com/users/kxepal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T16:50:34Z","updated_at":"2018-06-25T16:50:34Z","author_association":"MEMBER","body":"@ermouth said it right: there wasn't enough of time to adopt that feature for 1.7 with all the rest things. Sorry, for that /:","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400020188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400024230","html_url":"https://github.com/apache/couchdb/pull/1411#issuecomment-400024230","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1411","id":400024230,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDAyNDIzMA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T17:03:45Z","updated_at":"2018-06-25T17:03:45Z","author_association":"MEMBER","body":"@kxepal in your comments on https://issues.apache.org/jira/browse/COUCHDB-1986 you state that multipart parser speedup as per https://issues.apache.org/jira/browse/COUCHDB-1953 solves the issue, yes? And that landed a while ago, so isn't your concern already addressed?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400024230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400024587","html_url":"https://github.com/apache/couchdb/pull/1411#issuecomment-400024587","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1411","id":400024587,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDAyNDU4Nw==","user":{"login":"kxepal","id":785983,"node_id":"MDQ6VXNlcjc4NTk4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/785983?v=4","gravatar_id":"","url":"https://api.github.com/users/kxepal","html_url":"https://github.com/kxepal","followers_url":"https://api.github.com/users/kxepal/followers","following_url":"https://api.github.com/users/kxepal/following{/other_user}","gists_url":"https://api.github.com/users/kxepal/gists{/gist_id}","starred_url":"https://api.github.com/users/kxepal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kxepal/subscriptions","organizations_url":"https://api.github.com/users/kxepal/orgs","repos_url":"https://api.github.com/users/kxepal/repos","events_url":"https://api.github.com/users/kxepal/events{/privacy}","received_events_url":"https://api.github.com/users/kxepal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T17:04:52Z","updated_at":"2018-06-25T17:04:52Z","author_association":"MEMBER","body":"Hm...I fear that AWS applies some own specifics on top of. Debugging clouds is hard.\r\n\r\n>If you can help run the test cases, I'd greatly appreciate it. We still don't have dedicated FreeBSD/MacOS Jenkins boxes, but they are coming.\r\n\r\nI have FreeBSD at work and will check it tomorrow. The only interesting test is replication one where we check how good we are in replication of various local-remote combinations some docs with sort of ~10MB attachments. It triggers issue perfectly by timeout and just slow run.\r\n\r\nAt those time we tried to fix OSX performance at the first place. May be that problem is not actual anymore.\r\n\r\n> Another option is to address this with etc/default.d/10-socket.ini files in the BSD ports tree (/cc @dch) and over in @janl 's OSX installer builder. That's what etc/default.d/ is intended for - package maintainer default files for distro-specific changes.\r\n\r\nThat's great idea! I like it :+1: ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400024587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400027198","html_url":"https://github.com/apache/couchdb/issues/1409#issuecomment-400027198","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1409","id":400027198,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDAyNzE5OA==","user":{"login":"stevedrew","id":5779089,"node_id":"MDQ6VXNlcjU3NzkwODk=","avatar_url":"https://avatars.githubusercontent.com/u/5779089?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedrew","html_url":"https://github.com/stevedrew","followers_url":"https://api.github.com/users/stevedrew/followers","following_url":"https://api.github.com/users/stevedrew/following{/other_user}","gists_url":"https://api.github.com/users/stevedrew/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedrew/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedrew/subscriptions","organizations_url":"https://api.github.com/users/stevedrew/orgs","repos_url":"https://api.github.com/users/stevedrew/repos","events_url":"https://api.github.com/users/stevedrew/events{/privacy}","received_events_url":"https://api.github.com/users/stevedrew/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T17:13:11Z","updated_at":"2018-06-25T17:13:11Z","author_association":"NONE","body":"gotcha thanks. Yes in fact our attachments are actually less than 1MB, but we just noticed very slow network transfers even with that, and then tested with 8MB to pull out the problem.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400027198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400027541","html_url":"https://github.com/apache/couchdb/pull/1411#issuecomment-400027541","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1411","id":400027541,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDAyNzU0MQ==","user":{"login":"kxepal","id":785983,"node_id":"MDQ6VXNlcjc4NTk4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/785983?v=4","gravatar_id":"","url":"https://api.github.com/users/kxepal","html_url":"https://github.com/kxepal","followers_url":"https://api.github.com/users/kxepal/followers","following_url":"https://api.github.com/users/kxepal/following{/other_user}","gists_url":"https://api.github.com/users/kxepal/gists{/gist_id}","starred_url":"https://api.github.com/users/kxepal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kxepal/subscriptions","organizations_url":"https://api.github.com/users/kxepal/orgs","repos_url":"https://api.github.com/users/kxepal/repos","events_url":"https://api.github.com/users/kxepal/events{/privacy}","received_events_url":"https://api.github.com/users/kxepal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T17:14:27Z","updated_at":"2018-06-25T17:14:27Z","author_association":"MEMBER","body":"@wohali \r\nWow! I don't recall 1953 merge in upstream at all.  Feels like it should solve the problem, but better check twice.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400027541/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400027879","html_url":"https://github.com/apache/couchdb/pull/1411#issuecomment-400027879","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1411","id":400027879,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDAyNzg3OQ==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T17:15:37Z","updated_at":"2018-06-25T17:15:37Z","author_association":"MEMBER","body":"For what it's worth mochiweb only handles the `recbuf` case; it explicitly looks for `undefined` and if it finds that atom it declines to pass any option to the underlying `gen_tcp` system:\r\n\r\nhttps://github.com/apache/couchdb-mochiweb/commit/42d37e6\r\n\r\nThe reason they did it this way was because the backwards-compatible behavior for mochiweb was that leaving the option blank meant mochiweb would fix the initial `recbuf` to 8192.\r\n\r\nBy contrast, I would guess that the `sndbuf` setting is quietly returning `{error, einval}` when we use the atom undefined here, although it ultimately achieves the same goal of letting the OS manage the buffer.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400027879/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400034859","html_url":"https://github.com/apache/couchdb/pull/1411#issuecomment-400034859","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1411","id":400034859,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDAzNDg1OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T17:39:21Z","updated_at":"2018-06-25T17:39:21Z","author_association":"MEMBER","body":"I dropped the sndbuf change, but the recbuf change is still failing. Need help.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400034859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400035668","html_url":"https://github.com/apache/couchdb/pull/1411#issuecomment-400035668","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1411","id":400035668,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDAzNTY2OA==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T17:42:07Z","updated_at":"2018-06-25T17:42:07Z","author_association":"MEMBER","body":"I wonder if other parts of the codebase are using those options directly with `gen_tcp`. Will take a look.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400035668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400040304","html_url":"https://github.com/apache/couchdb/pull/1411#issuecomment-400040304","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1411","id":400040304,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDA0MDMwNA==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T17:57:02Z","updated_at":"2018-06-25T17:57:02Z","author_association":"MEMBER","body":"OK I see the problem -- mochiweb only does this `recbuf` dance when opening a new socket to add to the acceptor pool. CouchDB is actually executing this code to set the socket options at the beginning of every *request*; it uses `mochiweb_socket:setopts/2` on the existing socket which simply calls `inet:setopts/2` (and fails).\r\n\r\nNeed to see if how we configure this so that our socket options overrides are set on a per-connection basis instead of a per-request basis.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400040304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400069572","html_url":"https://github.com/apache/couchdb/pull/1411#issuecomment-400069572","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1411","id":400069572,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDA2OTU3Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T19:34:53Z","updated_at":"2018-06-25T19:34:53Z","author_association":"MEMBER","body":"OK, with the help of @kocolosk and @rnewson it seems we should pass `{recbuf, undefined}` to `[chttpd] server_options`, and remove the `recbuf` setting from `socket_options` entirely.\r\n\r\nPR updated.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400069572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400090229","html_url":"https://github.com/apache/couchdb/pull/1411#issuecomment-400090229","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1411","id":400090229,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDA5MDIyOQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-25T20:47:47Z","updated_at":"2018-06-25T20:47:47Z","author_association":"MEMBER","body":"FYI this PR is on hold until we can review socket buffer size behaviour on all major supported OSes (Linux, FreeBSD, macOS, Windows) and determine sane defaults for all.\r\n\r\n@rnewson is concerned that suddenly dropping our default 256k size by half, or more, could have a deleterious impact on many people. I concur. \r\n\r\nIt may be that letting the OS manage buffer size would be better, esp. for OSes that do automatic buffer scaling like FreeBSD. What we really need is some benchmark data, across slow/high latency network connections. This will take some time.\r\n\r\nAt the very least, we will update our documentation...once we know better info about defaults.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400090229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400135398","html_url":"https://github.com/apache/couchdb/pull/1411#issuecomment-400135398","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1411","id":400135398,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDEzNTM5OA==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-26T00:17:08Z","updated_at":"2018-06-26T00:17:08Z","author_association":"MEMBER","body":"Ah good find on `server_options` - that's clearly what we wanted.\r\n\r\nI understand the reticence about changing defaults. I also think it's rather unlikely that the CouchDB project is smarter about managing socket buffers than any reasonably modern operating system. I'd support switching to `undefined` as a default and documenting the local.ini setting necessary to restore previous behavior.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400135398/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400192649","html_url":"https://github.com/apache/couchdb/issues/1410#issuecomment-400192649","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1410","id":400192649,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDE5MjY0OQ==","user":{"login":"johs","id":48370,"node_id":"MDQ6VXNlcjQ4Mzcw","avatar_url":"https://avatars.githubusercontent.com/u/48370?v=4","gravatar_id":"","url":"https://api.github.com/users/johs","html_url":"https://github.com/johs","followers_url":"https://api.github.com/users/johs/followers","following_url":"https://api.github.com/users/johs/following{/other_user}","gists_url":"https://api.github.com/users/johs/gists{/gist_id}","starred_url":"https://api.github.com/users/johs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johs/subscriptions","organizations_url":"https://api.github.com/users/johs/orgs","repos_url":"https://api.github.com/users/johs/repos","events_url":"https://api.github.com/users/johs/events{/privacy}","received_events_url":"https://api.github.com/users/johs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-26T06:22:37Z","updated_at":"2018-06-26T06:22:37Z","author_association":"NONE","body":"Thanks, @ermouth and @kxepal \r\nI guess this issue can be closed with a correction to the docuemtnation (referenced at the top), then.  If I remember right @janl stated earlier that only security-critical updates would be considered for furhter updates  to 1.7.*","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400192649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400302600","html_url":"https://github.com/apache/couchdb/issues/1338#issuecomment-400302600","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1338","id":400302600,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDMwMjYwMA==","user":{"login":"mikerhodes","id":453210,"node_id":"MDQ6VXNlcjQ1MzIxMA==","avatar_url":"https://avatars.githubusercontent.com/u/453210?v=4","gravatar_id":"","url":"https://api.github.com/users/mikerhodes","html_url":"https://github.com/mikerhodes","followers_url":"https://api.github.com/users/mikerhodes/followers","following_url":"https://api.github.com/users/mikerhodes/following{/other_user}","gists_url":"https://api.github.com/users/mikerhodes/gists{/gist_id}","starred_url":"https://api.github.com/users/mikerhodes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikerhodes/subscriptions","organizations_url":"https://api.github.com/users/mikerhodes/orgs","repos_url":"https://api.github.com/users/mikerhodes/repos","events_url":"https://api.github.com/users/mikerhodes/events{/privacy}","received_events_url":"https://api.github.com/users/mikerhodes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-26T13:12:49Z","updated_at":"2018-06-26T13:12:49Z","author_association":"CONTRIBUTOR","body":"@wohali I wonder about that proposal, whether we're overloading the database by giving it different storage layers in that sense vs. using a well known caching layer like redis? \r\n\r\nI'd also like to understand what the semantics of these nodes are -- and whether to be effective at decreasing load on the cluster whether first you have to consider things like preferentially asking certain nodes for answers to queries/writes/reads (i.e., the in-mem ones) before considering this. It also feels like a potentially complicated design for what should be more like, as you say, a write-through cache.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400302600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400418855","html_url":"https://github.com/apache/couchdb/issues/1410#issuecomment-400418855","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1410","id":400418855,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDQxODg1NQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-26T18:35:02Z","updated_at":"2018-06-26T18:35:02Z","author_association":"MEMBER","body":"Closed per user request.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400418855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400419352","html_url":"https://github.com/apache/couchdb/issues/1338#issuecomment-400419352","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1338","id":400419352,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDQxOTM1Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-26T18:36:38Z","updated_at":"2018-06-26T18:36:38Z","author_association":"MEMBER","body":"@mikerhodes Perhaps, but it's an extremely prevalent design choice at scale for CouchDB. I leave the hard thinking to others, and am only thinking along the lines of - we play with it, or we play against it. And we've already built the idea of an in-memory-only Couch PSE backend.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400419352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400436606","html_url":"https://github.com/apache/couchdb/issues/1338#issuecomment-400436606","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1338","id":400436606,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDQzNjYwNg==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-26T19:36:57Z","updated_at":"2018-06-26T19:36:57Z","author_association":"MEMBER","body":"Definitely open to more hard thinking on the caching topic. Typically I'd say that a caching system should be separate from the database cluster so it can be closer to the app; i.e. I'd not want to run a mixed cluster with storage and cache together.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400436606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400555750","html_url":"https://github.com/apache/couchdb/issues/1400#issuecomment-400555750","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1400","id":400555750,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDU1NTc1MA==","user":{"login":"rambhavaraju","id":6705212,"node_id":"MDQ6VXNlcjY3MDUyMTI=","avatar_url":"https://avatars.githubusercontent.com/u/6705212?v=4","gravatar_id":"","url":"https://api.github.com/users/rambhavaraju","html_url":"https://github.com/rambhavaraju","followers_url":"https://api.github.com/users/rambhavaraju/followers","following_url":"https://api.github.com/users/rambhavaraju/following{/other_user}","gists_url":"https://api.github.com/users/rambhavaraju/gists{/gist_id}","starred_url":"https://api.github.com/users/rambhavaraju/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rambhavaraju/subscriptions","organizations_url":"https://api.github.com/users/rambhavaraju/orgs","repos_url":"https://api.github.com/users/rambhavaraju/repos","events_url":"https://api.github.com/users/rambhavaraju/events{/privacy}","received_events_url":"https://api.github.com/users/rambhavaraju/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-27T06:18:59Z","updated_at":"2018-06-27T06:18:59Z","author_association":"NONE","body":"Hi @wohali thanks for your response,\r\nI'm afraid whatever i had put in the issue over is exact logs what we have. \r\nI followed the instructions given on the website for the cluster set up i.e. opening up port 9100-9200 for erlang nodes to talk to each other. I had tested and verified the same. All the ports are open and communication is happening between both the nodes.\r\nRest of the set up for cluster is done through the couchdb admin portal once the couchdb was up. After doing all of that i started seeing that the data isn't being replicated so when i dug deep i found out i was getting this exceptions in the log.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400555750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400736774","html_url":"https://github.com/apache/couchdb/pull/1375#issuecomment-400736774","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1375","id":400736774,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDczNjc3NA==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-27T16:16:14Z","updated_at":"2018-06-27T16:16:14Z","author_association":"CONTRIBUTOR","body":"Good catch!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400736774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400763347","html_url":"https://github.com/apache/couchdb/issues/1415#issuecomment-400763347","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1415","id":400763347,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDc2MzM0Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-27T17:20:30Z","updated_at":"2018-06-27T17:23:25Z","author_association":"MEMBER","body":"You've specified an invalid regex. `+` is a special character in regex syntax meaning \"1 or more of the preceding token.\" Multiple `+` in a row is invalid without escaping the character.\r\n\r\nTry `\"$regex\": \"(?i)F4647868\\+\\+\\+\"` and it should work fine.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400763347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400771371","html_url":"https://github.com/apache/couchdb/issues/1400#issuecomment-400771371","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1400","id":400771371,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDc3MTM3MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-27T17:46:26Z","updated_at":"2018-06-27T17:46:26Z","author_association":"MEMBER","body":"This is unusual, CouchDB should work fine and should be logging more info for a 500 error than this.\r\n\r\nTry increasing your logging level to debug and try again. What errors do you see?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400771371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400981006","html_url":"https://github.com/apache/couchdb/pull/1370#issuecomment-400981006","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1370","id":400981006,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDk4MTAwNg==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-28T09:55:38Z","updated_at":"2018-06-28T09:55:38Z","author_association":"CONTRIBUTOR","body":"Hey @iilyak I used 1dae6af to adjust returned value from `get_purge_seq/1` and `get_oldest_purge_seq/1`, and use 8a62f68 to add information about module and line. Also added explantation why we use `proplists:get_value/2` in fabric_rpc. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/400981006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/401050349","html_url":"https://github.com/apache/couchdb/issues/1400#issuecomment-401050349","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1400","id":401050349,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTA1MDM0OQ==","user":{"login":"ondra-novak","id":9439234,"node_id":"MDQ6VXNlcjk0MzkyMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/9439234?v=4","gravatar_id":"","url":"https://api.github.com/users/ondra-novak","html_url":"https://github.com/ondra-novak","followers_url":"https://api.github.com/users/ondra-novak/followers","following_url":"https://api.github.com/users/ondra-novak/following{/other_user}","gists_url":"https://api.github.com/users/ondra-novak/gists{/gist_id}","starred_url":"https://api.github.com/users/ondra-novak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ondra-novak/subscriptions","organizations_url":"https://api.github.com/users/ondra-novak/orgs","repos_url":"https://api.github.com/users/ondra-novak/repos","events_url":"https://api.github.com/users/ondra-novak/events{/privacy}","received_events_url":"https://api.github.com/users/ondra-novak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-28T14:16:40Z","updated_at":"2018-06-28T14:16:40Z","author_association":"NONE","body":"Getting error 500 when there is poor connection between nodes.  It also causes, that simple GET /db/doc takes about 1 minute to return a value or error (which breaks my common timeout 30 sec per common/stale-view operation)\r\n\r\nThis issue also happen, when the cluster is configured in mirror-only configuration (all nodes has the same content). When connection to other node is lost (VPN, tunnel connection is broken), the current node need more then 1 minute to switch cluster to unstable mode. During this period, many 500 erros can appear.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/401050349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/401064910","html_url":"https://github.com/apache/couchdb/issues/1416#issuecomment-401064910","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1416","id":401064910,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTA2NDkxMA==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-28T14:59:13Z","updated_at":"2018-06-28T14:59:13Z","author_association":"MEMBER","body":"I gave this a bit more thought and I think it has good potential. Here's how I'd see the replication part working:\r\n\r\n1. Introduce a `[cluster] seed_nodes` config setting which accepts a comma-delimited list of Erlang node names that this node should go and contact. Typical case would be to set this using the names of the first 3 nodes in a cluster.\r\n1. In `mem3_nodes:initialize_nodelist()`, add the seeds to the `_nodes` DB and the associated ets table.\r\n1. Deterministically sort the seedlist independently on each node (e.g. by preferring seeds in the same zone).\r\n1. Add a new `mem3_seeds` module that synchronously pulls `_nodes` and `_dbs` from the first live node in the seed preflist.\r\n1. Set an internal `ready` flag once the step above completes.\r\n1. Asynchronously pull from all seed nodes on a (configurable) scheduled basis to maintain checkpoints and minimize node startup time.\r\n\r\nOne open question is how the node should respond if a seedlist is configured but every seed node is down. The correct thing to do would be to not set the ready flag, although that means operators who rely on the ready flag (e.g. in a load balancer healthcheck) need to take extra care to maintain a good seedlist.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/401064910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/401257618","html_url":"https://github.com/apache/couchdb/pull/1401#issuecomment-401257618","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1401","id":401257618,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTI1NzYxOA==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-29T06:10:25Z","updated_at":"2018-06-29T06:10:25Z","author_association":"CONTRIBUTOR","body":"@AlexanderKaraberov The base branch was updated could you rebase please and ping me so I can merge it (if you don't have permissions)?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/401257618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/401309096","html_url":"https://github.com/apache/couchdb/pull/1401#issuecomment-401309096","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1401","id":401309096,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTMwOTA5Ng==","user":{"login":"AlexanderKaraberov","id":3254818,"node_id":"MDQ6VXNlcjMyNTQ4MTg=","avatar_url":"https://avatars.githubusercontent.com/u/3254818?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderKaraberov","html_url":"https://github.com/AlexanderKaraberov","followers_url":"https://api.github.com/users/AlexanderKaraberov/followers","following_url":"https://api.github.com/users/AlexanderKaraberov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderKaraberov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderKaraberov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderKaraberov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderKaraberov/orgs","repos_url":"https://api.github.com/users/AlexanderKaraberov/repos","events_url":"https://api.github.com/users/AlexanderKaraberov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderKaraberov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-29T09:58:07Z","updated_at":"2018-06-29T09:58:07Z","author_association":"CONTRIBUTOR","body":"@iilyak  Rebased. Pinging you because I don't have permissions to merge.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/401309096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/401364675","html_url":"https://github.com/apache/couchdb/issues/1416#issuecomment-401364675","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1416","id":401364675,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTM2NDY3NQ==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-29T14:06:07Z","updated_at":"2018-06-29T14:06:07Z","author_association":"MEMBER","body":"I started implementing this in https://github.com/apache/couchdb/tree/mem3-seedlist. Still needs documentation and proper testing but it passes smoke tests; e.g., in a Kubernetes environment, the individual nodes will not take traffic until `/_up` flips to 200, and that only happens once they've synced up with a seed node. Before that has happened `/_up` returns a 404 with `\"status\": \"seeding\" ` and a JSON object showing the synchronization status with each of the members of the seedlist.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/401364675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/401454097","html_url":"https://github.com/apache/couchdb/pull/1401#issuecomment-401454097","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1401","id":401454097,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTQ1NDA5Nw==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-29T19:39:19Z","updated_at":"2018-06-29T19:39:19Z","author_association":"CONTRIBUTOR","body":"@AlexanderKaraberov: Thank you for your contribution. Sorry it took so long to merge.  ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/401454097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/401653471","html_url":"https://github.com/apache/couchdb/issues/831#issuecomment-401653471","issue_url":"https://api.github.com/repos/apache/couchdb/issues/831","id":401653471,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTY1MzQ3MQ==","user":{"login":"oliverjanik","id":2280140,"node_id":"MDQ6VXNlcjIyODAxNDA=","avatar_url":"https://avatars.githubusercontent.com/u/2280140?v=4","gravatar_id":"","url":"https://api.github.com/users/oliverjanik","html_url":"https://github.com/oliverjanik","followers_url":"https://api.github.com/users/oliverjanik/followers","following_url":"https://api.github.com/users/oliverjanik/following{/other_user}","gists_url":"https://api.github.com/users/oliverjanik/gists{/gist_id}","starred_url":"https://api.github.com/users/oliverjanik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oliverjanik/subscriptions","organizations_url":"https://api.github.com/users/oliverjanik/orgs","repos_url":"https://api.github.com/users/oliverjanik/repos","events_url":"https://api.github.com/users/oliverjanik/events{/privacy}","received_events_url":"https://api.github.com/users/oliverjanik/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-02T02:13:48Z","updated_at":"2018-07-02T02:13:48Z","author_association":"NONE","body":"I believe we're seeing this too. Our JS filter takes a parameter from the request.\r\n\r\nWe'd love to try mango filter, but I can't find how to access a request parameter from mango.\r\n\r\ne.g. `\"$gt\": request.startDate`","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/401653471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/401657486","html_url":"https://github.com/apache/couchdb/issues/1420#issuecomment-401657486","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1420","id":401657486,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTY1NzQ4Ng==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-02T02:50:38Z","updated_at":"2018-07-02T02:50:38Z","author_association":"MEMBER","body":"Known issue and will be resolved with the next release of Apache CouchDB. Sorry for the inconvenience.\r\n\r\nThis is effectively a duplicate of #1293","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/401657486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/401708498","html_url":"https://github.com/apache/couchdb/issues/831#issuecomment-401708498","issue_url":"https://api.github.com/repos/apache/couchdb/issues/831","id":401708498,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTcwODQ5OA==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-02T08:20:54Z","updated_at":"2018-07-02T08:20:54Z","author_association":"MEMBER","body":"@oliverjanik when using a mango filter for changes the entire filter is specified in the [request body](http://docs.couchdb.org/en/2.0.0/api/database/changes.html#selector) , so you can just adjust the filter as you need instead of passing custom parameters. For example:\r\n\r\n```\r\nPOST /mydb/_changes?filter=_selector\r\n{\r\n    \"selector\": { \"startDate\": { \"$gt\": \"2018-07-01\" } }\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/401708498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/401771882","html_url":"https://github.com/apache/couchdb/issues/1314#issuecomment-401771882","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1314","id":401771882,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTc3MTg4Mg==","user":{"login":"h0jeZvgoxFepBQ2C","id":10075,"node_id":"MDQ6VXNlcjEwMDc1","avatar_url":"https://avatars.githubusercontent.com/u/10075?v=4","gravatar_id":"","url":"https://api.github.com/users/h0jeZvgoxFepBQ2C","html_url":"https://github.com/h0jeZvgoxFepBQ2C","followers_url":"https://api.github.com/users/h0jeZvgoxFepBQ2C/followers","following_url":"https://api.github.com/users/h0jeZvgoxFepBQ2C/following{/other_user}","gists_url":"https://api.github.com/users/h0jeZvgoxFepBQ2C/gists{/gist_id}","starred_url":"https://api.github.com/users/h0jeZvgoxFepBQ2C/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/h0jeZvgoxFepBQ2C/subscriptions","organizations_url":"https://api.github.com/users/h0jeZvgoxFepBQ2C/orgs","repos_url":"https://api.github.com/users/h0jeZvgoxFepBQ2C/repos","events_url":"https://api.github.com/users/h0jeZvgoxFepBQ2C/events{/privacy}","received_events_url":"https://api.github.com/users/h0jeZvgoxFepBQ2C/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-02T11:17:08Z","updated_at":"2018-07-02T11:17:08Z","author_association":"NONE","body":"Any updates on this? We are also waiting for the release :)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/401771882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402258002","html_url":"https://github.com/apache/couchdb/issues/781#issuecomment-402258002","issue_url":"https://api.github.com/repos/apache/couchdb/issues/781","id":402258002,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjI1ODAwMg==","user":{"login":"gabssnake","id":2307728,"node_id":"MDQ6VXNlcjIzMDc3Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/2307728?v=4","gravatar_id":"","url":"https://api.github.com/users/gabssnake","html_url":"https://github.com/gabssnake","followers_url":"https://api.github.com/users/gabssnake/followers","following_url":"https://api.github.com/users/gabssnake/following{/other_user}","gists_url":"https://api.github.com/users/gabssnake/gists{/gist_id}","starred_url":"https://api.github.com/users/gabssnake/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gabssnake/subscriptions","organizations_url":"https://api.github.com/users/gabssnake/orgs","repos_url":"https://api.github.com/users/gabssnake/repos","events_url":"https://api.github.com/users/gabssnake/events{/privacy}","received_events_url":"https://api.github.com/users/gabssnake/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-03T18:50:50Z","updated_at":"2018-07-03T18:50:50Z","author_association":"NONE","body":"Any news on this issue? Would love to find a stretch package.\r\n\r\nRegards,","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402258002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402303647","html_url":"https://github.com/apache/couchdb/issues/781#issuecomment-402303647","issue_url":"https://api.github.com/repos/apache/couchdb/issues/781","id":402303647,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjMwMzY0Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-03T21:56:35Z","updated_at":"2018-07-03T21:56:35Z","author_association":"MEMBER","body":"Packages for stretch are released at http://docs.couchdb.org/en/latest/install/unix.html#installation-using-the-apache-couchdb-convenience-binary-packages","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402303647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402306162","html_url":"https://github.com/apache/couchdb/issues/781#issuecomment-402306162","issue_url":"https://api.github.com/repos/apache/couchdb/issues/781","id":402306162,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjMwNjE2Mg==","user":{"login":"gabssnake","id":2307728,"node_id":"MDQ6VXNlcjIzMDc3Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/2307728?v=4","gravatar_id":"","url":"https://api.github.com/users/gabssnake","html_url":"https://github.com/gabssnake","followers_url":"https://api.github.com/users/gabssnake/followers","following_url":"https://api.github.com/users/gabssnake/following{/other_user}","gists_url":"https://api.github.com/users/gabssnake/gists{/gist_id}","starred_url":"https://api.github.com/users/gabssnake/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gabssnake/subscriptions","organizations_url":"https://api.github.com/users/gabssnake/orgs","repos_url":"https://api.github.com/users/gabssnake/repos","events_url":"https://api.github.com/users/gabssnake/events{/privacy}","received_events_url":"https://api.github.com/users/gabssnake/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-03T22:07:59Z","updated_at":"2018-07-03T22:07:59Z","author_association":"NONE","body":"Great! Thank you for your awesome responsiveness.\r\n\r\nFor future surfers:\r\n```\r\nsudo apt-get install -y curl apt-transport-https\r\necho \"deb https://apache.bintray.com/couchdb-deb stretch main\" | sudo tee -a /etc/apt/sources.list\r\ncurl -L https://couchdb.apache.org/repo/bintray-pubkey.asc | sudo apt-key add -\r\nsudo apt-get -y update\r\nsudo apt-get install couchdb\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402306162/reactions","total_count":3,"+1":0,"-1":0,"laugh":0,"hooray":3,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402353688","html_url":"https://github.com/apache/couchdb/issues/1421#issuecomment-402353688","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1421","id":402353688,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjM1MzY4OA==","user":{"login":"style95","id":3447251,"node_id":"MDQ6VXNlcjM0NDcyNTE=","avatar_url":"https://avatars.githubusercontent.com/u/3447251?v=4","gravatar_id":"","url":"https://api.github.com/users/style95","html_url":"https://github.com/style95","followers_url":"https://api.github.com/users/style95/followers","following_url":"https://api.github.com/users/style95/following{/other_user}","gists_url":"https://api.github.com/users/style95/gists{/gist_id}","starred_url":"https://api.github.com/users/style95/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/style95/subscriptions","organizations_url":"https://api.github.com/users/style95/orgs","repos_url":"https://api.github.com/users/style95/repos","events_url":"https://api.github.com/users/style95/events{/privacy}","received_events_url":"https://api.github.com/users/style95/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-04T03:36:42Z","updated_at":"2018-07-04T03:36:42Z","author_association":"MEMBER","body":"@jiangpengcheng Did you configure the cookie for the cluster?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402353688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402362444","html_url":"https://github.com/apache/couchdb/issues/1421#issuecomment-402362444","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1421","id":402362444,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjM2MjQ0NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-04T04:51:55Z","updated_at":"2018-07-04T04:51:55Z","author_association":"MEMBER","body":"This sounds like a problem with the OpenWhisk ansible playbook - you'll need to talk to them, sorry.\r\n\r\nI guarantee you people are deploying CouchDB clusters with the Docker image and not having this problem.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402362444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402403200","html_url":"https://github.com/apache/couchdb/issues/1422#issuecomment-402403200","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1422","id":402403200,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjQwMzIwMA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-04T08:23:13Z","updated_at":"2018-07-04T08:23:13Z","author_association":"MEMBER","body":"This is a documentation error, and relates to clustering.\r\n\r\nTL;DR: We don't recommend you rely on this value for anything in CouchDB 2.x or later versions. If you need to store when a database is created, create a document inside the database that includes that information at the time you create a database yourself.\r\n\r\nThe reason this information is not available on the clustered interface is that, for a default CouchDB cluster setup of 3 nodes with q=8, there are 24 database shards for any given database, each of which has its own instance_start_time.\r\n\r\nThere is currently no way to get each shard's instance start time through the clustered interface. However, on each node via localhost through the node-local (port 5986), you can get the instance_start_time per shard:\r\n\r\n```\r\n $ curl http://localhost:5986/shards%2F00000000-1fffffff%2Fabc.1530133574\r\n{\"db_name\":\"shards/00000000-1fffffff/abc.1530133574\",\"engine\":\"couch_bt_engine\",\"doc_count\":127,\"doc_del_count\":0,\"update_seq\":127,\"purge_seq\":0,\"compact_running\":false,\"sizes\":{\"active\":31925,\"external\":3544,\"file\":90308},\"disk_size\":90308,\"data_size\":31925,\"other\":{\"data_size\":3544},\"instance_start_time\":\"1530692235563311\",\"disk_format_version\":6,\"committed_update_seq\":127,\"compacted_seq\":127,\"uuid\":\"953768671309b22f6bf8a5eae62f94a4\"}\r\n```\r\n\r\nNote again that this value will be different across multiple shards in the same database, as well as across multiple nodes in the same cluster. Only for a q=1 database in a single standalone server will you have a single instance_start_time value, which can and will change after database compaction (which occurs automatically by default.)\r\n\r\n**DO NOT USE PORT 5986 FOR REGULAR DATABASE OPERATIONS**. This interface is deprecated in 2.x and will be removed entirely in 3.x. By that time there will be replacements for all potential needs on the clustered interface.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402403200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402465123","html_url":"https://github.com/apache/couchdb/issues/1314#issuecomment-402465123","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1314","id":402465123,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjQ2NTEyMw==","user":{"login":"barbalex","id":669783,"node_id":"MDQ6VXNlcjY2OTc4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/669783?v=4","gravatar_id":"","url":"https://api.github.com/users/barbalex","html_url":"https://github.com/barbalex","followers_url":"https://api.github.com/users/barbalex/followers","following_url":"https://api.github.com/users/barbalex/following{/other_user}","gists_url":"https://api.github.com/users/barbalex/gists{/gist_id}","starred_url":"https://api.github.com/users/barbalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/barbalex/subscriptions","organizations_url":"https://api.github.com/users/barbalex/orgs","repos_url":"https://api.github.com/users/barbalex/repos","events_url":"https://api.github.com/users/barbalex/events{/privacy}","received_events_url":"https://api.github.com/users/barbalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-04T12:30:55Z","updated_at":"2018-07-04T12:30:55Z","author_association":"NONE","body":"As disappointing it may be to us users that CouchDB is not yet available on Ubuntu 18.04: This is the kind of stuff that can really demotivate volunteers feeling responsible.\r\n\r\nTHANKS A LOT to you all: @wohali @rnewson and whoever I forgot to mention!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402465123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402525775","html_url":"https://github.com/apache/couchdb/issues/1314#issuecomment-402525775","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1314","id":402525775,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjUyNTc3NQ==","user":{"login":"amustapha","id":14205064,"node_id":"MDQ6VXNlcjE0MjA1MDY0","avatar_url":"https://avatars.githubusercontent.com/u/14205064?v=4","gravatar_id":"","url":"https://api.github.com/users/amustapha","html_url":"https://github.com/amustapha","followers_url":"https://api.github.com/users/amustapha/followers","following_url":"https://api.github.com/users/amustapha/following{/other_user}","gists_url":"https://api.github.com/users/amustapha/gists{/gist_id}","starred_url":"https://api.github.com/users/amustapha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amustapha/subscriptions","organizations_url":"https://api.github.com/users/amustapha/orgs","repos_url":"https://api.github.com/users/amustapha/repos","events_url":"https://api.github.com/users/amustapha/events{/privacy}","received_events_url":"https://api.github.com/users/amustapha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-04T16:51:25Z","updated_at":"2018-07-04T16:51:25Z","author_association":"NONE","body":"@rnewson not like I'm making  demands on your time as you put it. But ofcourse, I use couchdb for a reason... I understand you're all volunteers, but I was hoping there could be quicker releases. I've been stuck with the snap release (2.0.0)... It works, but a few things are differnet... ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402525775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402525903","html_url":"https://github.com/apache/couchdb/issues/1314#issuecomment-402525903","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1314","id":402525903,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjUyNTkwMw==","user":{"login":"amustapha","id":14205064,"node_id":"MDQ6VXNlcjE0MjA1MDY0","avatar_url":"https://avatars.githubusercontent.com/u/14205064?v=4","gravatar_id":"","url":"https://api.github.com/users/amustapha","html_url":"https://github.com/amustapha","followers_url":"https://api.github.com/users/amustapha/followers","following_url":"https://api.github.com/users/amustapha/following{/other_user}","gists_url":"https://api.github.com/users/amustapha/gists{/gist_id}","starred_url":"https://api.github.com/users/amustapha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amustapha/subscriptions","organizations_url":"https://api.github.com/users/amustapha/orgs","repos_url":"https://api.github.com/users/amustapha/repos","events_url":"https://api.github.com/users/amustapha/events{/privacy}","received_events_url":"https://api.github.com/users/amustapha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-04T16:52:09Z","updated_at":"2018-07-04T16:52:09Z","author_association":"NONE","body":"@rnewson as for the compiling from source... I'm not sure I'm willing to messup my system configs... If it was python or java... I could have done that. Erlang is just so alien for me.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402525903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402526001","html_url":"https://github.com/apache/couchdb/issues/1314#issuecomment-402526001","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1314","id":402526001,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjUyNjAwMQ==","user":{"login":"amustapha","id":14205064,"node_id":"MDQ6VXNlcjE0MjA1MDY0","avatar_url":"https://avatars.githubusercontent.com/u/14205064?v=4","gravatar_id":"","url":"https://api.github.com/users/amustapha","html_url":"https://github.com/amustapha","followers_url":"https://api.github.com/users/amustapha/followers","following_url":"https://api.github.com/users/amustapha/following{/other_user}","gists_url":"https://api.github.com/users/amustapha/gists{/gist_id}","starred_url":"https://api.github.com/users/amustapha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amustapha/subscriptions","organizations_url":"https://api.github.com/users/amustapha/orgs","repos_url":"https://api.github.com/users/amustapha/repos","events_url":"https://api.github.com/users/amustapha/events{/privacy}","received_events_url":"https://api.github.com/users/amustapha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-04T16:52:44Z","updated_at":"2018-07-04T16:52:44Z","author_association":"NONE","body":"@rnewson **apologies** though if I sounded too demanding.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402526001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402735448","html_url":"https://github.com/apache/couchdb/issues/1314#issuecomment-402735448","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1314","id":402735448,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjczNTQ0OA==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-05T14:11:58Z","updated_at":"2018-07-05T14:11:58Z","author_association":"NONE","body":"Hi,\r\n\r\nI've now seen a draft proposal to EOL CouchDB 1.7.x via e-mail. This doesn't sound like a spectacular idea to me when there's still limited availability of 2.x packages for major distros such as this one. Please consider maintaining v1.7.x security patches for the foreseeable future – people who depend upon distro packages and can't/won't build production dependencies themselves from source need sufficient time to evaluate, test, refactor, and migrate.\r\n\r\nThanks,\r\nDave","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402735448/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402738226","html_url":"https://github.com/apache/couchdb/issues/1314#issuecomment-402738226","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1314","id":402738226,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjczODIyNg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-05T14:20:10Z","updated_at":"2018-07-05T14:20:50Z","author_association":"MEMBER","body":"Thanks for the feedback @browndav . \r\n\r\nFYI, 1.x packages don't come from the Apache CouchDB project, only source code releases. And at last check, major distributions like Ubuntu haven't even updated their packages since 1.6.0, which has multiple known serious security issues. That's out of our hands.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402738226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402764312","html_url":"https://github.com/apache/couchdb/pull/1423#issuecomment-402764312","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1423","id":402764312,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjc2NDMxMg==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-05T15:38:16Z","updated_at":"2018-07-05T15:38:16Z","author_association":"MEMBER","body":"Also, have you had a chance to do any sort of performance testing with this? It seems like it'd be helpful but I'm having a bit of premature-optimization-itis wondering if it makes any difference in practice. I can certainly dream up some scenarios where it'd help a cluster in a specific set of circumstances but I can't remember ever having seen such issues crop up in production.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402764312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402788757","html_url":"https://github.com/apache/couchdb/issues/1305#issuecomment-402788757","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1305","id":402788757,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjc4ODc1Nw==","user":{"login":"ThibaultJanBeyer","id":12467511,"node_id":"MDQ6VXNlcjEyNDY3NTEx","avatar_url":"https://avatars.githubusercontent.com/u/12467511?v=4","gravatar_id":"","url":"https://api.github.com/users/ThibaultJanBeyer","html_url":"https://github.com/ThibaultJanBeyer","followers_url":"https://api.github.com/users/ThibaultJanBeyer/followers","following_url":"https://api.github.com/users/ThibaultJanBeyer/following{/other_user}","gists_url":"https://api.github.com/users/ThibaultJanBeyer/gists{/gist_id}","starred_url":"https://api.github.com/users/ThibaultJanBeyer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ThibaultJanBeyer/subscriptions","organizations_url":"https://api.github.com/users/ThibaultJanBeyer/orgs","repos_url":"https://api.github.com/users/ThibaultJanBeyer/repos","events_url":"https://api.github.com/users/ThibaultJanBeyer/events{/privacy}","received_events_url":"https://api.github.com/users/ThibaultJanBeyer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-05T17:01:09Z","updated_at":"2018-07-05T17:01:09Z","author_association":"NONE","body":"That is not written in `fauxton`. Also I don’t seem to find `WWW-Authenticate` in `fauxton`.\r\nOn MacOS, editing the `couchdb2-local.ini` in `~/Library/Preferences/couchdb2-local.ini` to include:\r\n```\r\n[httpd]\r\nwww-authenticate = Basic realm=\"administrator\"\r\n```\r\nStill gives me `error: \"unauthorized\",  reason: \"Authentication required.\"`\r\n\r\n\r\n**Environment**\r\n\r\n    Version used: 2.1.1\r\n    Browser Name and version: all latest FF\r\n    Operating System and version (desktop or mobile): MacOS 10.13.5 (17F77), desktop\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402788757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402921893","html_url":"https://github.com/apache/couchdb/issues/1305#issuecomment-402921893","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1305","id":402921893,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjkyMTg5Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-06T04:24:46Z","updated_at":"2018-07-06T04:24:46Z","author_association":"MEMBER","body":"Hi @ThibaultJanBeyer ,\r\n\r\nYour issue may be something specific to the MacOS packaging - I know others have had to edit different files to get ini settings to get picked up.\r\n\r\nIf you `curl http://localhost:5984/_node/_local/_config/httpd/www-authenticate` do you see the correct value present?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402921893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402982983","html_url":"https://github.com/apache/couchdb/issues/1421#issuecomment-402982983","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1421","id":402982983,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjk4Mjk4Mw==","user":{"login":"jiangpengcheng","id":1858477,"node_id":"MDQ6VXNlcjE4NTg0Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/1858477?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangpengcheng","html_url":"https://github.com/jiangpengcheng","followers_url":"https://api.github.com/users/jiangpengcheng/followers","following_url":"https://api.github.com/users/jiangpengcheng/following{/other_user}","gists_url":"https://api.github.com/users/jiangpengcheng/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangpengcheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangpengcheng/subscriptions","organizations_url":"https://api.github.com/users/jiangpengcheng/orgs","repos_url":"https://api.github.com/users/jiangpengcheng/repos","events_url":"https://api.github.com/users/jiangpengcheng/events{/privacy}","received_events_url":"https://api.github.com/users/jiangpengcheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-06T09:35:31Z","updated_at":"2018-07-06T09:35:31Z","author_association":"NONE","body":"## Steps to Reproduce (for bugs)\r\n1. ~I'm using CouchDB for this project [OpenWhisk](https://github.com/apache/incubator-openwhisk), to deploy a CouchDB cluster~ Now I use docker only, create couchdb containers on 3 nodes:\r\n\r\n    ```shell\r\n    # node1\r\n    docker run -d --name couchdb -e COUCHDB_USER=couch_user -e COUCHDB_PASSWORD=couch_password -e NODENAME=192.168.253.137 -p 5984:5984 -p 4369:4369 -p 9100:9100 apache/couchdb:2.1\r\n\r\n    # node2\r\n    docker run -d --name couchdb -e COUCHDB_USER=couch_user -e COUCHDB_PASSWORD=couch_password -e NODENAME=192.168.253.138 -p 5984:5984 -p 4369:4369 -p 9100:9100 apache/couchdb:2.1\r\n\r\n    # node3\r\n    docker run -d --name couchdb -e COUCHDB_USER=couch_user -e COUCHDB_PASSWORD=couch_password -e NODENAME=192.168.253.139 -p 5984:5984 -p 4369:4369 -p 9100:9100 apache/couchdb:2.1\r\n    ```\r\n\r\n2. setup the cluster\r\n\r\n    I follow this [guide](http://docs.couchdb.org/en/2.1.1/cluster/setup.html#the-cluster-setup-api), and use node1 as the “setup coordination node”\r\n\r\n    Below command returned an error, so I skipped this command:\r\n    ```shell\r\n    curl -X POST -H \"Content-Type: application/json\" http://couch_user:couch_password@127.0.0.1:5984/_cluster_setup -d '{\"action\": \"enable_cluster\", \"bind_address\":\"0.0.0.0\", \"username\": \"couch_user\", \"password\":\"couch_password\", \"node_count\":\"3\"}'\r\n    {\"error\":\"bad_request\",\"reason\":\"Cluster is already enabled\"}\r\n    ```\r\n\r\n    ```shell\r\n    # add node2 to cluster\r\n    curl -X POST -H \"Content-Type: application/json\" http://couch_user:couch_password@127.0.0.1:5984/_cluster_setup -d '{\"action\": \"enable_cluster\", \"bind_address\":\"0.0.0.0\", \"username\": \"couch_user\", \"password\":\"couch_password\", \"port\": 5984, \"node_count\": \"3\", \"remote_node\": \"192.168.253.138\", \"remote_current_user\": \"couch_user\", \"remote_current_password\": \"couch_password\" }'\r\n    {\"ok\":true}\r\n\r\n    curl -X POST -H \"Content-Type: application/json\" http://couch_user:couch_password@127.0.0.1:5984/_cluster_setup -d '{\"action\": \"add_node\", \"host\":\"192.168.253.138\", \"port\": \"5984\", \"username\": \"couch_user\", \"password\":\"couch_password\"}'\r\n    {\"ok\":true}\r\n\r\n    # add node3 to cluster\r\n    curl -X POST -H \"Content-Type: application/json\" \r\n    http://couch_user:couch_password@127.0.0.1:5984/_cluster_setup -d '{\"action\": \"enable_cluster\", \"bind_address\":\"0.0.0.0\", \"username\": \"couch_user\", \"password\":\"couch_password\", \"port\": 5984, \"node_count\": \"3\", \"remote_node\": \"192.168.253.139\", \"remote_current_user\": \"couch_user\", \"remote_current_password\": \"couch_password\" }'\r\n    {\"ok\":true}\r\n\r\n    curl -X POST -H \"Content-Type: application/json\" \r\n    http://couch_user:couch_password@127.0.0.1:5984/_cluster_setup -d '{\"action\": \"add_node\", \"host\":\"192.168.253.139\", \"port\": \"5984\", \"username\": \"couch_user\", \"password\":\"couch_password\"}'\r\n    {\"ok\":true}\r\n\r\n    # finish cluster\r\n    curl -X POST -H \"Content-Type: application/json\" http://couch_user:couch_password@127.0.0.1:5984/_cluster_setup -d '{\"action\": \"finish_cluster\"}'\r\n    {\"ok\":true}\r\n    ```\r\n\r\n    the cluster was formed correctly:\r\n    ```shell\r\n    curl -X GET http://couch_user:couch_password@127.0.0.1:5984/_membership\r\n    {\"all_nodes\":[\"couchdb@192.168.253.137\",\"couchdb@192.168.253.138\",\"couchdb@192.168.253.139\"],\"cluster_nodes\":[\"couchdb@192.168.253.137\",\"couchdb@192.168.253.138\",\"couchdb@192.168.253.139\"]}\r\n    ```\r\n\r\n3. restart the 3rd node\r\n\r\n4. call the `_membership` API againt node1/node2, the result was:\r\n    ```\r\n    {\"all_nodes\":[\"couchdb@192.168.253.137\",\"couchdb@192.168.253.138\"],\"cluster_nodes\":[\"couchdb@192.168.253.137\",\"couchdb@192.168.253.138\",\"couchdb@192.168.253.139\"]}\r\n    ```\r\n    and the node3 returned:\r\n    ```\r\n    {\"all_nodes\":[\"couchdb@192.168.253.139\"],\"cluster_nodes\":[\"couchdb@192.168.253.137\",\"couchdb@192.168.253.138\",\"couchdb@192.168.253.139\"]}\r\n    ```\r\n    we can see that the node3 has left the cluster\r\n\r\n\r\n## Context\r\n\r\nA strange thing is that when I restarted the node1, it can rejoin the cluster, seems there is something special in the “setup coordination node”.\r\n\r\nSo I cleaned the env, recreated 3 couchdb containers and use node2 as the “setup coordination node” this time, and find out that the node2 can rejoin the cluster automatically while node1 and node3 can not, this is confusing\r\n\r\n\r\n@wohali Could you please check this when you have some time? Many thanks","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/402982983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403061271","html_url":"https://github.com/apache/couchdb/issues/1314#issuecomment-403061271","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1314","id":403061271,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzA2MTI3MQ==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-06T15:06:09Z","updated_at":"2018-07-06T15:06:24Z","author_association":"NONE","body":"Thanks. FWIW, on the current CouchDB page I see a precompiled Windows v1.7.1 distribution (x86), with OS X and Ubuntu packages labelled \"TBD\" – this may be contributing to confusion on my side.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403061271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403075278","html_url":"https://github.com/apache/couchdb/issues/1421#issuecomment-403075278","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1421","id":403075278,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzA3NTI3OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-06T15:58:44Z","updated_at":"2018-07-06T15:58:44Z","author_association":"MEMBER","body":"How are you restarting the container?\r\n\r\nIf you are not externalising the `etc/local.d` and `data/` directories, as explained in the Docker README, the node will lose its configuration.\r\n\r\nPlease share the contents of your *.ini files on all 3 nodes.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403075278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403088034","html_url":"https://github.com/apache/couchdb/issues/1226#issuecomment-403088034","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1226","id":403088034,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzA4ODAzNA==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-06T16:47:45Z","updated_at":"2018-07-06T16:47:45Z","author_association":"MEMBER","body":"A quick note: evidently (haven't seen this myself, but was told that this is possible and been observed) the same range view shards on different nodes can have different `update_seq`. Since `update_seq` is a part of signature used to generate local etags it could lead to fluctuating etags based on what node responded first. :(\r\n\r\nNeed to reproduce this first and then ponder how signature can be changed to be consistent across nodes, but still be unique for a given request context to be useful for etag generation.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403088034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403282424","html_url":"https://github.com/apache/couchdb/issues/1353#issuecomment-403282424","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1353","id":403282424,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzI4MjQyNA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-08T11:53:57Z","updated_at":"2018-07-08T11:53:57Z","author_association":"MEMBER","body":"How about we leave the default for 2.2.0, but mention the recommendation to increase rounds for situations where remotes are not <2.2.0 in the release notes. We can then decide at a later 2.x or 3.0 stage to up the default?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403282424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403283245","html_url":"https://github.com/apache/couchdb/issues/1309#issuecomment-403283245","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1309","id":403283245,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzI4MzI0NQ==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-08T12:08:41Z","updated_at":"2018-07-08T12:08:41Z","author_association":"MEMBER","body":"I think we need to leave the `version` field in `/` untouched, I’d be worried about breaking things there. It is derived from the Erlang app version of CouchDB, as are the log entries. As such, going with the additional `git_hash`-field for `/` is I think the best option. For logs, we’d have to adjust couch_log to include the hash specifically.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403283245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403283762","html_url":"https://github.com/apache/couchdb/issues/1008#issuecomment-403283762","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1008","id":403283762,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzI4Mzc2Mg==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-08T12:16:41Z","updated_at":"2018-07-08T12:16:41Z","author_association":"MEMBER","body":"Closing until a reproducible test case is provided.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403283762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403285803","html_url":"https://github.com/apache/couchdb/issues/1312#issuecomment-403285803","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1312","id":403285803,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzI4NTgwMw==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-08T12:52:55Z","updated_at":"2018-07-08T12:52:55Z","author_association":"MEMBER","body":"Can’t reproduce on a beefy CPU-optimised quad-core DigitalOcean VM running FreeBSD 11.2.\r\n\r\n@dch might you be able to give me ssh access to your box?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403285803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403289190","html_url":"https://github.com/apache/couchdb/issues/1101#issuecomment-403289190","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1101","id":403289190,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzI4OTE5MA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-08T13:51:23Z","updated_at":"2018-07-08T13:51:23Z","author_association":"MEMBER","body":"Closing in favour of https://github.com/apache/couchdb/pull/1425","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403289190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403289254","html_url":"https://github.com/apache/couchdb/pull/1425#issuecomment-403289254","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1425","id":403289254,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzI4OTI1NA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-08T13:52:23Z","updated_at":"2018-07-08T13:52:23Z","author_association":"MEMBER","body":"script to repro:\r\n\r\n```\r\n#!/bin/sh -ex\r\nS=http://a:a@127.0.0.1:15984\r\nDB=x1101\r\n\r\n# delete test db\r\ncurl -X DELETE $S/$DB\r\n\r\n# create test d\r\ncurl -X PUT $S/$DB\r\n\r\n# create doc\r\n\r\ncurl -X PUT $S/$DB/doc -d '{\"a\":2}'\r\n\r\n# create conflict\r\ncurl -X PUT $S/$DB/doc?new_edits=false -d '{\"a\":1,\"_rev\":\"1-23202479633c2b380f79507a776743d5\"}'\r\n\r\n# validate we have created a conflict:\r\ncurl $S/$DB/doc?conflicts=true\r\n\r\n# create mango index def\r\ncurl -X POST $S/$DB/_index -d '{\"index\":{\"fields\": [\"_conflicts\"]}}' -Hcontent-type:application/json\r\n\r\n# query mango index\r\ncurl -X POST $S/$DB/_find -d '{\"selector\": {\"_conflicts\": { \"$exists\": true}},\"conflicts\":true}' -Hcontent-type:application/json\r\n\r\n# query mango index without conflicts option\r\ncurl -X POST $S/$DB/_find -d '{\"selector\": {\"_conflicts\": { \"$exists\": true}}}' -Hcontent-type:application/json\r\n```\r\n\r\nSuccessful run:\r\n\r\n```\r\n ~/t.sh\r\n+ S=http://a:a@127.0.0.1:15984\r\n+ DB=x1101\r\n+ curl -X DELETE http://a:a@127.0.0.1:15984/x1101\r\n{\"ok\":true}\r\n+ curl -X PUT http://a:a@127.0.0.1:15984/x1101\r\n{\"ok\":true}\r\n+ curl -X PUT http://a:a@127.0.0.1:15984/x1101/doc -d '{\"a\":2}'\r\n{\"ok\":true,\"id\":\"doc\",\"rev\":\"1-3975759ccff3842adf690a5c10caee42\"}\r\n+ curl -X PUT 'http://a:a@127.0.0.1:15984/x1101/doc?new_edits=false' -d '{\"a\":1,\"_rev\":\"1-23202479633c2b380f79507a776743d5\"}'\r\n{\"ok\":true,\"id\":\"doc\",\"rev\":\"1-23202479633c2b380f79507a776743d5\"}\r\n+ curl 'http://a:a@127.0.0.1:15984/x1101/doc?conflicts=true'\r\n{\"_id\":\"doc\",\"_rev\":\"1-3975759ccff3842adf690a5c10caee42\",\"a\":2,\"_conflicts\":[\"1-23202479633c2b380f79507a776743d5\"]}\r\n+ curl -X POST http://a:a@127.0.0.1:15984/x1101/_index -d '{\"index\":{\"fields\": [\"_conflicts\"]}}' -Hcontent-type:application/json\r\n{\"result\":\"created\",\"id\":\"_design/42ac6b715ea8fb5be44a74e6cf515eaa334238d6\",\"name\":\"42ac6b715ea8fb5be44a74e6cf515eaa334238d6\"}\r\n+ curl -X POST http://a:a@127.0.0.1:15984/x1101/_find -d '{\"selector\": {\"_conflicts\": { \"$exists\": true}},\"conflicts\":true}' -Hcontent-type:application/json\r\n{\"docs\":[\r\n{\"_id\":\"doc\",\"_rev\":\"1-3975759ccff3842adf690a5c10caee42\",\"a\":2,\"_conflicts\":[\"1-23202479633c2b380f79507a776743d5\"]}\r\n],\r\n\"bookmark\": \"g1AAAABheJzLYWBgYMpgSmHgKy5JLCrJTq2MT8lPzkzJBYozA1kgKQ6YVA5QkBFMgKSVDHWNjI0MjEzMLc2MjZONkowtDNLMLU0NzBPNzc3MTYxTTLOysgCY2ReV\"}\r\n\r\n+ curl -X POST http://a:a@127.0.0.1:15984/x1101/_find -d '{\"selector\": {\"_conflicts\": { \"$exists\": true}}}' -Hcontent-type:application/json\r\n{\"docs\":[\r\n],\r\n\"bookmark\": \"nil\"}\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403289254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403289977","html_url":"https://github.com/apache/couchdb/issues/1106#issuecomment-403289977","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1106","id":403289977,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzI4OTk3Nw==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-08T14:04:04Z","updated_at":"2018-07-08T14:04:04Z","author_association":"MEMBER","body":"@davedoesdev what q value do you have configured?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403289977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403291723","html_url":"https://github.com/apache/couchdb/issues/1221#issuecomment-403291723","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1221","id":403291723,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzI5MTcyMw==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-08T14:31:07Z","updated_at":"2018-07-08T14:31:07Z","author_association":"MEMBER","body":"This test suggests that CouchDB is doing the right thing: https://github.com/apache/couchdb/blob/d36149ec3a0d071d067589c8f3fe7d263626948d/src/couch/test/couch_changes_tests.erl#L178-L195\r\n\r\nThat means we need more information about the specific CouchDB database and server/cluster configuration before we can fix this and amend the test accordingly.\r\n\r\nCan somebody here provide us with:\r\n1. a database that exhibits this behaviour, any of these forms are acceptable: .couch file, live read-only(!) database, script in a. common programming language or curl statements that create the database.\r\n2. the exact query that shows the behaviour\r\n3. the server/cluster configuration where that happens. Specifically important are q&n values, number of nodes in the cluster, etc. but anything really you can think of.\r\n\r\nClosing this until the above is provided","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403291723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403295309","html_url":"https://github.com/apache/couchdb/issues/1353#issuecomment-403295309","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1353","id":403295309,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzI5NTMwOQ==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-08T15:25:31Z","updated_at":"2018-07-08T15:25:31Z","author_association":"CONTRIBUTOR","body":"Thinking about the replicator session support. It is a configuration option now. It may make sense to switch to higher work factor and turn on session support at the same time. Maybe mention it in release notes for 2.2.0 that it is advisable to increase the work factor and switch on replication session support at the same time, then in the next release those will become the default?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403295309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403296400","html_url":"https://github.com/apache/couchdb/pull/1405#issuecomment-403296400","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1405","id":403296400,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzI5NjQwMA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-08T15:43:52Z","updated_at":"2018-07-08T15:43:52Z","author_association":"MEMBER","body":"@davisp what is WIP about this?\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403296400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403304449","html_url":"https://github.com/apache/couchdb/pull/1424#issuecomment-403304449","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1424","id":403304449,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzMwNDQ0OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-08T17:53:40Z","updated_at":"2018-07-08T17:53:40Z","author_association":"MEMBER","body":"minor quibble: I don't know how I feel about using `[chttpsd]` since elsewhere we refer to this daemon just as `[httpsd]`. Are you going to rename the option everywhere?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403304449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403304472","html_url":"https://github.com/apache/couchdb/pull/1425#issuecomment-403304472","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1425","id":403304472,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzMwNDQ3Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-08T17:54:06Z","updated_at":"2018-07-08T17:54:06Z","author_association":"MEMBER","body":"test case in the mango test suite please","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403304472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403304910","html_url":"https://github.com/apache/couchdb/pull/1426#issuecomment-403304910","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1426","id":403304910,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzMwNDkxMA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-08T18:01:45Z","updated_at":"2018-07-08T18:01:45Z","author_association":"MEMBER","body":"-1, read on:\r\n\r\nI think this means we won't run builds on PRs to release branches.\r\n\r\nhttps://docs.travis-ci.com/user/customizing-the-build#Building-Specific-Branches \r\n\r\nIf you want to stick with this approach, you'd explictly want to safelist using a regex per the docs.\r\n\r\nHowever:\r\n\r\nhttps://docs.travis-ci.com/user/pull-requests#double-builds-on-pull-requests\r\nhttps://docs.travis-ci.com/user/web-ui/#build-pushed-branches\r\n\r\nThis suggests we just have Infra go into the web UI and disable \"Build pushed branches\", instead just leaving \"Build pushed pull requests\" turned on.\r\n\r\nWe might want to test the switches on a trivial repo of our own just to make sure","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403304910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403306569","html_url":"https://github.com/apache/couchdb/pull/1426#issuecomment-403306569","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1426","id":403306569,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzMwNjU2OQ==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-08T18:29:42Z","updated_at":"2018-07-08T18:30:05Z","author_association":"MEMBER","body":"Ah yes, I'll add a release branch regex, that might be easiest.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403306569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403306669","html_url":"https://github.com/apache/couchdb/pull/1425#issuecomment-403306669","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1425","id":403306669,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzMwNjY2OQ==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-08T18:30:56Z","updated_at":"2018-07-08T18:30:56Z","author_association":"MEMBER","body":"Would love some help here. I have a hard time grocking that particular flavour of python. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403306669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403306712","html_url":"https://github.com/apache/couchdb/pull/1424#issuecomment-403306712","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1424","id":403306712,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzMwNjcxMg==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-08T18:31:38Z","updated_at":"2018-07-08T18:31:38Z","author_association":"MEMBER","body":"Good catch, will fix to the already existing section name.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403306712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403309964","html_url":"https://github.com/apache/couchdb/pull/1424#issuecomment-403309964","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1424","id":403309964,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzMwOTk2NA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-08T19:17:24Z","updated_at":"2018-07-08T19:17:24Z","author_association":"MEMBER","body":"Well, turns out, it is `[httpsd]` in the code. I just typo’d it in the description here: https://github.com/apache/couchdb/pull/1424/files#diff-b4ed04bdc6fda9ff5e838def1d1bf7a7R111","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403309964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403318555","html_url":"https://github.com/apache/couchdb/issues/1063#issuecomment-403318555","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1063","id":403318555,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzMxODU1NQ==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-08T21:28:37Z","updated_at":"2018-07-08T21:28:37Z","author_association":"MEMBER","body":"I finally had some time to do a reproducing setup. If anyone here wants to play with it, please contact me privately. I’m happy to hand out SSH access.\r\n\r\nBig thanks to @redgeoff for proving such a comprehensive test case.\r\n\r\nMy results are preliminary, so nothing concluded yet.\r\n\r\nBaseline info:\r\n- I tested 2.1.1 and master as of today with Erlang R20.\r\n- I test on DigitalOcean Droplets. Smallest one (1 “virtual“ CPU, 1.8GHz, 1GB RAM, SSD) and the second smallest “dedicated CPU” option (2 dedicated hyper threads, TBD GHz, 4GB RAM, SSD).\r\n- I’m running haproxy on a. separate droplet.\r\n- I’m running the node scripts on yet another droplet.\r\n\r\nObservations:\r\n- The differences I see are less in CPU time (things never go to 100%) but on load (fist digit).\r\n  - On the smaller VM, I have one VM with occasional +1/3 load values.\r\n  - This seems to correlate with a lager number of sockets on the system on `5984` in `TIME_WAIT` state.\r\n- On the bigger machines, the difference is more like 1/4 or 1/5..\r\n- On either nodes, I couldn’t really detect a sticky workhorse node, but the load differential swapping between the two CouchDB nodes. I didn’t detect a pattern, but (see graphs below), you see a slight drop in CPU % about once an hour.\r\n\r\nGraphs from a ~3 hour run on the higher perf machines, this is CPU %:\r\n\r\nNode 1:\r\n![screen shot 2018-07-08 at 23 17 06](https://user-images.githubusercontent.com/11321/42424056-49337f00-8305-11e8-8471-bd1976b448cd.png)\r\n\r\nNode 2:\r\n![screen shot 2018-07-08 at 23 16 44](https://user-images.githubusercontent.com/11321/42424057-51dfa8fe-8305-11e8-9c31-58dc702391b1.png)\r\n\r\nThings I wanna try next:\r\n- run the long poll option to get a feel for what numbers to expect\r\n- set `option http-close` in the haproxy config\r\n- disable http keepalive on the CouchDB side (should be about the same effect as the previous item).\r\n\r\nGut feel: there is some variance in when TCP sockets get out of TIME_WAIT which accounts for the extra load and properly closing those HTTP requests either in the client or in the load balancer will help, or a reduction of the TIME_WAIT timeout, but not sure how well this is tunable across different systems.\r\n\r\nThis could be sockets being left in TIME_WAIT because of continuous changes requests not terminating with a. TCP FIN and/or unread bytes on the socket, and system-induced, or test-case induced variance in when those sockets are cleaned up, leading to larger load on the systems.\r\n\r\nMight be worth re-reading https://vincent.bernat.im/en/blog/2014-tcp-time-wait-state-linux to refresh the memories.\r\n\r\nSo far for now. I’ll update this as I have more info.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403318555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403319233","html_url":"https://github.com/apache/couchdb/issues/1063#issuecomment-403319233","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1063","id":403319233,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzMxOTIzMw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-08T21:39:15Z","updated_at":"2018-07-08T21:39:15Z","author_association":"MEMBER","body":"@janl yes, reference #1417 for the scenario you described, which isn't scheduler-specific (just scheduler-exacerbated).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403319233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403319318","html_url":"https://github.com/apache/couchdb/pull/1426#issuecomment-403319318","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1426","id":403319318,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzMxOTMxOA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-08T21:40:26Z","updated_at":"2018-07-08T21:40:26Z","author_association":"MEMBER","body":"OK, that'll do if we don't want to harass Infra. It also lets us turn it back on without bugging them anytime we want, if we want.\r\n\r\n+1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403319318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403319435","html_url":"https://github.com/apache/couchdb/pull/1424#issuecomment-403319435","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1424","id":403319435,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzMxOTQzNQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-08T21:42:29Z","updated_at":"2018-07-08T21:42:29Z","author_association":"MEMBER","body":"+1 \r\n\r\nDoesn't address #901, which would be nice to fix while you're in this part of the code, but not essential.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403319435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403338400","html_url":"https://github.com/apache/couchdb/issues/1421#issuecomment-403338400","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1421","id":403338400,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzMzODQwMA==","user":{"login":"jiangpengcheng","id":1858477,"node_id":"MDQ6VXNlcjE4NTg0Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/1858477?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangpengcheng","html_url":"https://github.com/jiangpengcheng","followers_url":"https://api.github.com/users/jiangpengcheng/followers","following_url":"https://api.github.com/users/jiangpengcheng/following{/other_user}","gists_url":"https://api.github.com/users/jiangpengcheng/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangpengcheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangpengcheng/subscriptions","organizations_url":"https://api.github.com/users/jiangpengcheng/orgs","repos_url":"https://api.github.com/users/jiangpengcheng/repos","events_url":"https://api.github.com/users/jiangpengcheng/events{/privacy}","received_events_url":"https://api.github.com/users/jiangpengcheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T01:58:46Z","updated_at":"2018-07-09T01:58:46Z","author_association":"NONE","body":"I use command `docker restart couchdb`\r\n\r\nI didn't mount any configuration files to containers, so the `default.ini` and `local.ini` are identical in all three nodes, below are contentns of `local.d/local.ini`:\r\n\r\n```shell\r\n#node1\r\n[chttpd]\r\nbind_address = any\r\n[httpd]\r\nbind_address = any\r\n[admins]\r\ncouch_user = -pbkdf2-aa811c26cee3d5b8392e2c022b8a3f23b5558e6a,c2ee49b331678afc5489e68227c83ce5,10\r\n[couchdb]\r\nuuid = 54fcccdf6afdfd1ca16fc6992f72085a\r\n\r\n#node2\r\n[chttpd]\r\nbind_address = any\r\n[httpd]\r\nbind_address = any\r\n[admins]\r\ncouch_user = -pbkdf2-e835df2896881bcdac7961176e8f9e8eb0072df1,9fe22744e324c2337f4552eae646411a,10\r\n[couchdb]\r\nuuid = ba8ae822d83b5747749327c7c0658cba\r\n\r\n#node3\r\n[chttpd]\r\nbind_address = any\r\n[httpd]\r\nbind_address = any\r\n[admins]\r\ncouch_user = -pbkdf2-85e99acc676e998f801922cadfe0b46f703e8b9e,f28bbc54fab83e0d921a24cf63e5653d,10\r\n[couchdb]\r\nuuid = 67d9b8603d12b487f6ff600842a7c4a0\r\n```\r\n\r\nthe only difference is the `couch_user` option","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403338400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403343614","html_url":"https://github.com/apache/couchdb/issues/1421#issuecomment-403343614","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1421","id":403343614,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzM0MzYxNA==","user":{"login":"jiangpengcheng","id":1858477,"node_id":"MDQ6VXNlcjE4NTg0Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/1858477?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangpengcheng","html_url":"https://github.com/jiangpengcheng","followers_url":"https://api.github.com/users/jiangpengcheng/followers","following_url":"https://api.github.com/users/jiangpengcheng/following{/other_user}","gists_url":"https://api.github.com/users/jiangpengcheng/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangpengcheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangpengcheng/subscriptions","organizations_url":"https://api.github.com/users/jiangpengcheng/orgs","repos_url":"https://api.github.com/users/jiangpengcheng/repos","events_url":"https://api.github.com/users/jiangpengcheng/events{/privacy}","received_events_url":"https://api.github.com/users/jiangpengcheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T02:38:37Z","updated_at":"2018-07-09T02:38:37Z","author_association":"NONE","body":"Now I get it, need configure this https://github.com/apache/couchdb/blob/master/rel/overlay/etc/vm.args#L34","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403343614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403344511","html_url":"https://github.com/apache/couchdb/issues/1421#issuecomment-403344511","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1421","id":403344511,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzM0NDUxMQ==","user":{"login":"jiangpengcheng","id":1858477,"node_id":"MDQ6VXNlcjE4NTg0Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/1858477?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangpengcheng","html_url":"https://github.com/jiangpengcheng","followers_url":"https://api.github.com/users/jiangpengcheng/followers","following_url":"https://api.github.com/users/jiangpengcheng/following{/other_user}","gists_url":"https://api.github.com/users/jiangpengcheng/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangpengcheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangpengcheng/subscriptions","organizations_url":"https://api.github.com/users/jiangpengcheng/orgs","repos_url":"https://api.github.com/users/jiangpengcheng/repos","events_url":"https://api.github.com/users/jiangpengcheng/events{/privacy}","received_events_url":"https://api.github.com/users/jiangpengcheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T02:45:22Z","updated_at":"2018-07-09T02:45:22Z","author_association":"NONE","body":"should we add this option(https://github.com/apache/couchdb/blob/master/rel/overlay/etc/vm.args#L34) to the docker image? or make it configurable via env?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403344511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403351109","html_url":"https://github.com/apache/couchdb/issues/1421#issuecomment-403351109","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1421","id":403351109,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzM1MTEwOQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T03:40:15Z","updated_at":"2018-07-09T03:40:15Z","author_association":"MEMBER","body":"Glad your problem is solved!\r\n\r\nFYI, you can already persist this setting with CouchDB - you need to mount the `etc/vm.args` file via a `-v` flag to `docker run`.\r\n\r\nWe're not going to support any more runtime options other than the basics via the init script / by env, the proper way to configure the CouchDB docker image is via external files you mount in. You want to persist these, anyway.\r\n\r\nIf you have any other ideas for the Docker image, use the tracker at https://github.com/apache/couchdb-docker/issues instead. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403351109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403402401","html_url":"https://github.com/apache/couchdb/issues/1063#issuecomment-403402401","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1063","id":403402401,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzQwMjQwMQ==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T08:33:06Z","updated_at":"2018-07-09T08:33:06Z","author_association":"MEMBER","body":"One thing I left out in my last post:\r\n- CouchDB _stats and _system do not show anything untoward, or askew with regards to the more busy node.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403402401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403432035","html_url":"https://github.com/apache/couchdb/pull/1423#issuecomment-403432035","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1423","id":403432035,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzQzMjAzNQ==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T10:20:35Z","updated_at":"2018-07-09T10:20:35Z","author_association":"MEMBER","body":"Thanks for reviewing @davisp and @tonysun83 I'm going to setup and run some perf tests on this, this week.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403432035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403455132","html_url":"https://github.com/apache/couchdb/issues/546#issuecomment-403455132","issue_url":"https://api.github.com/repos/apache/couchdb/issues/546","id":403455132,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzQ1NTEzMg==","user":{"login":"lag-linaro","id":613036,"node_id":"MDQ6VXNlcjYxMzAzNg==","avatar_url":"https://avatars.githubusercontent.com/u/613036?v=4","gravatar_id":"","url":"https://api.github.com/users/lag-linaro","html_url":"https://github.com/lag-linaro","followers_url":"https://api.github.com/users/lag-linaro/followers","following_url":"https://api.github.com/users/lag-linaro/following{/other_user}","gists_url":"https://api.github.com/users/lag-linaro/gists{/gist_id}","starred_url":"https://api.github.com/users/lag-linaro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lag-linaro/subscriptions","organizations_url":"https://api.github.com/users/lag-linaro/orgs","repos_url":"https://api.github.com/users/lag-linaro/repos","events_url":"https://api.github.com/users/lag-linaro/events{/privacy}","received_events_url":"https://api.github.com/users/lag-linaro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T12:00:08Z","updated_at":"2018-07-09T12:00:08Z","author_association":"CONTRIBUTOR","body":"FYI libmozjs185{-dev} is no longer available in the Ubuntu repos.\r\n\r\nIt has been deleted and replaced by libmozjs-52.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403455132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403458788","html_url":"https://github.com/apache/couchdb/pull/1424#issuecomment-403458788","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1424","id":403458788,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzQ1ODc4OA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T12:15:57Z","updated_at":"2018-07-09T12:15:57Z","author_association":"MEMBER","body":"#901 is a lot more complicated to handle, as it is hooked into the architecture completely differently. I’d also argue that folks who need that should bind to 127.0.0.1 and maybe add a firewall setting to block access.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403458788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403493868","html_url":"https://github.com/apache/couchdb/pull/1157#issuecomment-403493868","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1157","id":403493868,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzQ5Mzg2OA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T14:14:16Z","updated_at":"2018-07-09T14:14:16Z","author_association":"MEMBER","body":"@wohali this is stuff we are not testing at the moment and the Elixir tests are still being filled out, so why not? :)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403493868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403508573","html_url":"https://github.com/apache/couchdb/issues/1063#issuecomment-403508573","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1063","id":403508573,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzUwODU3Mw==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T14:57:56Z","updated_at":"2018-07-09T14:57:56Z","author_association":"MEMBER","body":"Tried running the `good-test.js` on the smaller VMs and seeing no difference in CPU usage to `bad-test.js`. No difference in sockets in `TIME_WAIT` either. I’m inclined to say that this setup can not reproduce this.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403508573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403511368","html_url":"https://github.com/apache/couchdb/issues/1063#issuecomment-403511368","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1063","id":403511368,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzUxMTM2OA==","user":{"login":"redgeoff","id":3378986,"node_id":"MDQ6VXNlcjMzNzg5ODY=","avatar_url":"https://avatars.githubusercontent.com/u/3378986?v=4","gravatar_id":"","url":"https://api.github.com/users/redgeoff","html_url":"https://github.com/redgeoff","followers_url":"https://api.github.com/users/redgeoff/followers","following_url":"https://api.github.com/users/redgeoff/following{/other_user}","gists_url":"https://api.github.com/users/redgeoff/gists{/gist_id}","starred_url":"https://api.github.com/users/redgeoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/redgeoff/subscriptions","organizations_url":"https://api.github.com/users/redgeoff/orgs","repos_url":"https://api.github.com/users/redgeoff/repos","events_url":"https://api.github.com/users/redgeoff/events{/privacy}","received_events_url":"https://api.github.com/users/redgeoff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T15:05:39Z","updated_at":"2018-07-09T15:05:39Z","author_association":"CONTRIBUTOR","body":"Interesting. I was able to reproduce it multiple times and with complete success. I believe I created this issue in reference to CouchDB 2.1.0. Perhaps this issue was fixed in CouchDB 2.1.1?\r\n\r\nThe only other thing I can think of is that I used AWS for all my testing and perhaps the difference in network topology is somehow masking/creating the issue.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403511368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403519922","html_url":"https://github.com/apache/couchdb/issues/546#issuecomment-403519922","issue_url":"https://api.github.com/repos/apache/couchdb/issues/546","id":403519922,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzUxOTkyMg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T15:30:15Z","updated_at":"2018-07-09T15:30:15Z","author_association":"MEMBER","body":"@lag-linaro Yes, we will be supplying our own packages for libmozjs185.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403519922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403522451","html_url":"https://github.com/apache/couchdb/pull/1427#issuecomment-403522451","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1427","id":403522451,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzUyMjQ1MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T15:37:51Z","updated_at":"2018-07-09T15:37:51Z","author_association":"MEMBER","body":"1) remove [this line](https://github.com/apache/couchdb/blob/master/.travis.yml#L10) from `.travis.yml`\r\n2) this breaks Jenkins, because [Step 1](https://github.com/apache/couchdb/blob/master/Jenkinsfile#L40-L69) (which builds the `dist` tarball) runs in `couchdbdev/ubuntu-trusty-erlang-default` which is `16B03`.\r\n\r\nI need to build a new Docker container that has R17 in it instead, a `couchdbdev/ubuntu-trusty-erlang-17.XX.XX` using packages from erlang-solutions. This will be minor changes to [apache/couchdb-ci](https://github.com/apache/couchdb-ci/tree/master/bin) and a `docker push` after the fact.\r\n\r\nPlease hold on merging this until that's done and I can run a jenkins test. I hope to get to it later today.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403522451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403522903","html_url":"https://github.com/apache/couchdb/pull/1157#issuecomment-403522903","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1157","id":403522903,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzUyMjkwMw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T15:39:07Z","updated_at":"2018-07-09T15:39:07Z","author_association":"MEMBER","body":"as I said I won't block, I'm glad for more tests, I'd just prefer them to be in Elixir :)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403522903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403524558","html_url":"https://github.com/apache/couchdb/issues/1063#issuecomment-403524558","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1063","id":403524558,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzUyNDU1OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T15:43:54Z","updated_at":"2018-07-09T15:43:54Z","author_association":"MEMBER","body":"@redgeoff Were you perhaps using the `httpsd` daemon to connect to CouchDB over port 6894 instead of 5984? Erlang has some known...issues...with its TLS support.\r\n\r\nIf not, my guess is [this commit](https://github.com/apache/couchdb/pull/1173) fixed it, i.e. 302bd8b. @janl are you able to test on the commit prior, i.e. 4976f49 ?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403524558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403525963","html_url":"https://github.com/apache/couchdb/issues/1063#issuecomment-403525963","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1063","id":403525963,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzUyNTk2Mw==","user":{"login":"redgeoff","id":3378986,"node_id":"MDQ6VXNlcjMzNzg5ODY=","avatar_url":"https://avatars.githubusercontent.com/u/3378986?v=4","gravatar_id":"","url":"https://api.github.com/users/redgeoff","html_url":"https://github.com/redgeoff","followers_url":"https://api.github.com/users/redgeoff/followers","following_url":"https://api.github.com/users/redgeoff/following{/other_user}","gists_url":"https://api.github.com/users/redgeoff/gists{/gist_id}","starred_url":"https://api.github.com/users/redgeoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/redgeoff/subscriptions","organizations_url":"https://api.github.com/users/redgeoff/orgs","repos_url":"https://api.github.com/users/redgeoff/repos","events_url":"https://api.github.com/users/redgeoff/events{/privacy}","received_events_url":"https://api.github.com/users/redgeoff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T15:48:08Z","updated_at":"2018-07-09T15:48:08Z","author_association":"CONTRIBUTOR","body":"I don’t believe I had TLS enabled for these tests.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403525963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403527485","html_url":"https://github.com/apache/couchdb/issues/892#issuecomment-403527485","issue_url":"https://api.github.com/repos/apache/couchdb/issues/892","id":403527485,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzUyNzQ4NQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T15:52:45Z","updated_at":"2018-07-09T15:52:45Z","author_association":"MEMBER","body":"Based on https://github.com/apache/couchdb-pkg/issues/24 if we just pull in the very last changes to rebar (v2) from https://github.com/rebar/rebar we should be able to fix this problem. We just need to be sure to keep @davisp's patch in the `2.6.0-couchdb` branch around, assuming it's not already patched upstream.\r\n\r\nWould still like to see us move to proper rebar - will file that as a new ticket.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403527485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403537964","html_url":"https://github.com/apache/couchdb/pull/1405#issuecomment-403537964","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1405","id":403537964,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzUzNzk2NA==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T16:25:48Z","updated_at":"2018-07-09T16:25:48Z","author_association":"MEMBER","body":"@janl I'd pushed this before we finished getting everything fixed to share with @nickva. Its good to go now. Editing the title.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403537964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403538675","html_url":"https://github.com/apache/couchdb/pull/1405#issuecomment-403538675","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1405","id":403538675,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzUzODY3NQ==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T16:28:08Z","updated_at":"2018-07-09T16:28:08Z","author_association":"MEMBER","body":"Whoops. Forgot, we also need to wait for Mochiweb to merge a paramterized module fix. Looks like that'll happen soon [1] so once that's done we can merge this.\r\n\r\n[1] https://github.com/mochi/mochiweb/pull/198","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403538675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403554048","html_url":"https://github.com/apache/couchdb/pull/1427#issuecomment-403554048","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1427","id":403554048,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzU1NDA0OA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T17:18:59Z","updated_at":"2018-07-09T17:18:59Z","author_association":"MEMBER","body":"> Please hold on merging this until that's done and I can run a jenkins test.\r\n\r\nYou’ve got it.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403554048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403554297","html_url":"https://github.com/apache/couchdb/pull/1427#issuecomment-403554297","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1427","id":403554297,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzU1NDI5Nw==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T17:19:47Z","updated_at":"2018-07-09T17:19:47Z","author_association":"MEMBER","body":"> remove this line from .travis.yml\r\n\r\nDone.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403554297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403556267","html_url":"https://github.com/apache/couchdb/issues/1106#issuecomment-403556267","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1106","id":403556267,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzU1NjI2Nw==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T17:26:11Z","updated_at":"2018-07-09T17:26:11Z","author_association":"MEMBER","body":"reflecting on this: we’d need a lot more info on this in terms of system setup, cluster config, load on couch, potential other load on machines, network etc. I’ll close this until we have a report with a more complete set of reproducible steps.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403556267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403562590","html_url":"https://github.com/apache/couchdb/pull/1157#issuecomment-403562590","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1157","id":403562590,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzU2MjU5MA==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T17:46:41Z","updated_at":"2018-07-09T17:46:41Z","author_association":"MEMBER","body":"Thank you!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/403562590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]