[{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/321953736","html_url":"https://github.com/apache/couchdb/issues/747#issuecomment-321953736","issue_url":"https://api.github.com/repos/apache/couchdb/issues/747","id":321953736,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTk1MzczNg==","user":{"login":"kvzhkv","id":20382494,"node_id":"MDQ6VXNlcjIwMzgyNDk0","avatar_url":"https://avatars.githubusercontent.com/u/20382494?v=4","gravatar_id":"","url":"https://api.github.com/users/kvzhkv","html_url":"https://github.com/kvzhkv","followers_url":"https://api.github.com/users/kvzhkv/followers","following_url":"https://api.github.com/users/kvzhkv/following{/other_user}","gists_url":"https://api.github.com/users/kvzhkv/gists{/gist_id}","starred_url":"https://api.github.com/users/kvzhkv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kvzhkv/subscriptions","organizations_url":"https://api.github.com/users/kvzhkv/orgs","repos_url":"https://api.github.com/users/kvzhkv/repos","events_url":"https://api.github.com/users/kvzhkv/events{/privacy}","received_events_url":"https://api.github.com/users/kvzhkv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-12T03:09:58Z","updated_at":"2017-08-12T03:10:41Z","author_association":"NONE","body":"Thanks a lot for your answer.\r\nI've tried this configuration, but nothing's changed.\r\nhere is my configuration:\r\n![2017-08-12 9 36 47](https://user-images.githubusercontent.com/20382494/29237244-90d12300-7f44-11e7-9e54-c4a5ad3835d9.png)\r\n\r\n![2017-08-12 9 31 39](https://user-images.githubusercontent.com/20382494/29237239-7d42582c-7f44-11e7-8bdb-441525970dca.png)\r\nlist of dbs\r\n![2017-08-12 9 58 13](https://user-images.githubusercontent.com/20382494/29237254-d33cf6c4-7f44-11e7-8c15-fae0d6d5cfed.png)\r\n\r\nGET /test/_security with basic authentication (by the way I also get this bug with error and reason)\r\n![2017-08-12 10 01 33](https://user-images.githubusercontent.com/20382494/29237273-442e42c0-7f45-11e7-95c4-5ceae2833b62.png)\r\nI've noticed that this error and reason appears only if I add \"testuser\" **twice** via fauxton (it doesn't  show already added admins and members)\r\n\r\nGET /_session with proxy header\r\n![2017-08-12 9 46 15](https://user-images.githubusercontent.com/20382494/29237316-0cac3c70-7f46-11e7-8a7b-43876e335eed.png)\r\n\r\nGET /test with proxy header\r\n![2017-08-12 9 46 59](https://user-images.githubusercontent.com/20382494/29237320-222ea02e-7f46-11e7-8cf0-7ad09edc6de8.png)\r\n\r\nI can't understand what am I doing wrong....","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/321953736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/321969656","html_url":"https://github.com/apache/couchdb/pull/570#issuecomment-321969656","issue_url":"https://api.github.com/repos/apache/couchdb/issues/570","id":321969656,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTk2OTY1Ng==","user":{"login":"iamdanthedev","id":24467138,"node_id":"MDQ6VXNlcjI0NDY3MTM4","avatar_url":"https://avatars.githubusercontent.com/u/24467138?v=4","gravatar_id":"","url":"https://api.github.com/users/iamdanthedev","html_url":"https://github.com/iamdanthedev","followers_url":"https://api.github.com/users/iamdanthedev/followers","following_url":"https://api.github.com/users/iamdanthedev/following{/other_user}","gists_url":"https://api.github.com/users/iamdanthedev/gists{/gist_id}","starred_url":"https://api.github.com/users/iamdanthedev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamdanthedev/subscriptions","organizations_url":"https://api.github.com/users/iamdanthedev/orgs","repos_url":"https://api.github.com/users/iamdanthedev/repos","events_url":"https://api.github.com/users/iamdanthedev/events{/privacy}","received_events_url":"https://api.github.com/users/iamdanthedev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-12T09:43:00Z","updated_at":"2017-08-12T09:43:00Z","author_association":"NONE","body":"Thanks, I've managed to compile it","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/321969656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322022680","html_url":"https://github.com/apache/couchdb/issues/747#issuecomment-322022680","issue_url":"https://api.github.com/repos/apache/couchdb/issues/747","id":322022680,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjAyMjY4MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-13T05:24:26Z","updated_at":"2017-08-13T05:24:26Z","author_association":"MEMBER","body":"There is currently a bug with setting a database's `_security` object using Fauxton - see https://github.com/apache/couchdb/issues/741 for details. Try setting it correctly using something like curl and try again?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322022680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322042279","html_url":"https://github.com/apache/couchdb/issues/747#issuecomment-322042279","issue_url":"https://api.github.com/repos/apache/couchdb/issues/747","id":322042279,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjA0MjI3OQ==","user":{"login":"kvzhkv","id":20382494,"node_id":"MDQ6VXNlcjIwMzgyNDk0","avatar_url":"https://avatars.githubusercontent.com/u/20382494?v=4","gravatar_id":"","url":"https://api.github.com/users/kvzhkv","html_url":"https://github.com/kvzhkv","followers_url":"https://api.github.com/users/kvzhkv/followers","following_url":"https://api.github.com/users/kvzhkv/following{/other_user}","gists_url":"https://api.github.com/users/kvzhkv/gists{/gist_id}","starred_url":"https://api.github.com/users/kvzhkv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kvzhkv/subscriptions","organizations_url":"https://api.github.com/users/kvzhkv/orgs","repos_url":"https://api.github.com/users/kvzhkv/repos","events_url":"https://api.github.com/users/kvzhkv/events{/privacy}","received_events_url":"https://api.github.com/users/kvzhkv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-13T13:30:23Z","updated_at":"2017-08-13T23:57:15Z","author_association":"NONE","body":"Yes, when I use cURL or postman to set up `_security` document there is no bugs...\r\nAnyway, problem with `_security`  not worries me as much as problem with proxy authentication.\r\n\r\nSo, using cURL, I'm getting my config with admin username and password\r\n`curl -X GET \\\r\n  http://localhost:5984/_node/couchdb@localhost/_config/ \\\r\n  -H 'authorization: Basic YWRtaW46Y291Y2hkYmFkbWlu'`\r\nhere it is:\r\n\r\n> {\r\n>     \"native_query_servers\": {\r\n>         \"query\": \"{mango_native_proc, start_link, []}\"\r\n>     },\r\n>     \"httpd_design_handlers\": {\r\n>         \"_compact\": \"{couch_mrview_http, handle_compact_req}\",\r\n>         \"_info\": \"{couch_mrview_http, handle_info_req}\",\r\n>         \"_list\": \"{couch_mrview_show, handle_view_list_req}\",\r\n>         \"_rewrite\": \"{couch_httpd_rewrite, handle_rewrite_req}\",\r\n>         \"_show\": \"{couch_mrview_show, handle_doc_show_req}\",\r\n>         \"_update\": \"{couch_mrview_show, handle_doc_update_req}\",\r\n>         \"_view\": \"{couch_mrview_http, handle_view_req}\",\r\n>         \"_view_changes\": \"{couch_mrview_http, handle_view_changes_req}\"\r\n>     },\r\n>     \"uuids\": {\r\n>         \"algorithm\": \"sequential\",\r\n>         \"max_count\": \"1000\"\r\n>     },\r\n>     \"cluster\": {\r\n>         \"n\": \"1\",\r\n>         \"q\": \"2\"\r\n>     },\r\n>     \"cors\": {\r\n>         \"credentials\": \"false\"\r\n>     },\r\n>     \"chttpd\": {\r\n>         \"backlog\": \"512\",\r\n>         \"bind_address\": \"0.0.0.0\",\r\n>         \"docroot\": \"./share/www\",\r\n>         \"port\": \"5984\",\r\n>         \"require_valid_user\": \"false\",\r\n>         \"socket_options\": \"[{recbuf, 262144}, {sndbuf, 262144}, {nodelay, true}]\"\r\n>     },\r\n>     \"httpd_global_handlers\": {\r\n>         \"/\": \"{couch_httpd_misc_handlers, handle_welcome_req, <<\\\"Welcome\\\">>}\",\r\n>         \"_active_tasks\": \"{couch_httpd_misc_handlers, handle_task_status_req}\",\r\n>         \"_all_dbs\": \"{couch_httpd_misc_handlers, handle_all_dbs_req}\",\r\n>         \"_config\": \"{couch_httpd_misc_handlers, handle_config_req}\",\r\n>         \"_plugins\": \"{couch_plugins_httpd, handle_req}\",\r\n>         \"_replicate\": \"{couch_replicator_httpd, handle_req}\",\r\n>         \"_restart\": \"{couch_httpd_misc_handlers, handle_restart_req}\",\r\n>         \"_session\": \"{couch_httpd_auth, handle_session_req}\",\r\n>         \"_stats\": \"{couch_stats_httpd, handle_stats_req}\",\r\n>         \"_system\": \"{chttpd_misc, handle_system_req}\",\r\n>         \"_utils\": \"{couch_httpd_misc_handlers, handle_utils_dir_req, \\\"./share/www\\\"}\",\r\n>         \"_uuids\": \"{couch_httpd_misc_handlers, handle_uuids_req}\",\r\n>         \"favicon.ico\": \"{couch_httpd_misc_handlers, handle_favicon_req, \\\"./share/www\\\"}\"\r\n>     },\r\n>     \"attachments\": {\r\n>         \"compressible_types\": \"text/*, application/javascript, application/json, application/xml\",\r\n>         \"compression_level\": \"8\"\r\n>     },\r\n>     \"admins\": {\r\n>         \"admin\": \"-pbkdf2-b1d43483c194bfec3513950d35b196a430961363,05c745791b552869aac2ba9afcd1043b,10\"\r\n>     },\r\n>     \"query_server_config\": {\r\n>         \"os_process_limit\": \"100\",\r\n>         \"reduce_limit\": \"true\"\r\n>     },\r\n>     \"vendor\": {\r\n>         \"name\": \"The Apache Software Foundation\"\r\n>     },\r\n>     **\"chttpd_auth\": {\r\n>         \"authentication_db\": \"_users\",\r\n>         \"proxy_use_secret\": \"false\",\r\n>         \"secret\": \"secret\",\r\n>         \"x_auth_roles\": \"X-Auth-CouchDB-Roles\",\r\n>         \"x_auth_token\": \"X-Auth-CouchDB-Token\",\r\n>         \"x_auth_username\": \"X-Auth-CouchDB-UserName\"\r\n>     },**\r\n>     \"replicator\": {\r\n>         \"connection_timeout\": \"30000\",\r\n>         \"http_connections\": \"20\",\r\n>         \"interval\": \"60000\",\r\n>         \"max_churn\": \"20\",\r\n>         \"max_jobs\": \"500\",\r\n>         \"retries_per_request\": \"10\",\r\n>         \"socket_options\": \"[{keepalive, true}, {nodelay, false}]\",\r\n>         \"ssl_certificate_max_depth\": \"3\",\r\n>         \"startup_jitter\": \"5000\",\r\n>         \"verify_ssl_certificates\": \"false\",\r\n>         \"worker_batch_size\": \"500\",\r\n>         \"worker_processes\": \"4\"\r\n>     },\r\n>     \"ssl\": {\r\n>         \"port\": \"6984\"\r\n>     },\r\n>     \"log\": {\r\n>         \"file\": \"/Users/konstantin/Library/Logs/CouchDB2.log\",\r\n>         \"level\": \"info\",\r\n>         \"writer\": \"file\"\r\n>     },\r\n>     \"indexers\": {\r\n>         \"couch_mrview\": \"true\"\r\n>     },\r\n>     \"view_compaction\": {\r\n>         \"keyvalue_buffer_size\": \"2097152\"\r\n>     },\r\n>     \"query_servers\": {\r\n>         \"coffeescript\": \"./bin/couchjs ./share/server/main-coffee.js\",\r\n>         \"javascript\": \"./bin/couchjs ./share/server/main.js\"\r\n>     },\r\n>     \"features\": {\r\n>         \"scheduler\": \"true\"\r\n>     },\r\n>     \"daemons\": {\r\n>         \"auth_cache\": \"{couch_auth_cache, start_link, []}\",\r\n>         \"compaction_daemon\": \"{couch_compaction_daemon, start_link, []}\",\r\n>         \"couch_peruser\": \"{couch_peruser, start_link, []}\",\r\n>         \"external_manager\": \"{couch_external_manager, start_link, []}\",\r\n>         \"httpd\": \"{couch_httpd, start_link, []}\",\r\n>         \"index_server\": \"{couch_index_server, start_link, []}\",\r\n>         \"os_daemons\": \"{couch_os_daemons, start_link, []}\",\r\n>         \"query_servers\": \"{couch_proc_manager, start_link, []}\",\r\n>         \"uuids\": \"{couch_uuids, start, []}\",\r\n>         \"vhosts\": \"{couch_httpd_vhost, start_link, []}\"\r\n>     },\r\n>     \"couch_peruser\": {\r\n>         \"delete_dbs\": \"false\",\r\n>         \"enable\": \"false\"\r\n>     },\r\n>     \"httpd\": {\r\n>         \"allow_jsonp\": \"false\",\r\n>         **\"authentication_handlers\": \"{chttpd_auth, proxy_authentification_handler}, {chttpd_auth, default_authentication_handler}\",**\r\n>         \"bind_address\": \"127.0.0.1\",\r\n>         \"default_handler\": \"{couch_httpd_db, handle_request}\",\r\n>         \"enable_cors\": \"false\",\r\n>         \"enable_xframe_options\": \"false\",\r\n>         \"max_http_request_size\": \"67108864\",\r\n>         \"port\": \"5986\",\r\n>         \"secure_rewrites\": \"true\",\r\n>         \"socket_options\": \"[{recbuf, 262144}, {sndbuf, 262144}]\",\r\n>         \"vhost_global_handlers\": \"_utils, _uuids, _session, _users\"\r\n>     },\r\n>     \"httpd_db_handlers\": {\r\n>         \"_all_docs\": \"{couch_mrview_http, handle_all_docs_req}\",\r\n>         \"_changes\": \"{couch_httpd_db, handle_db_changes_req}\",\r\n>         \"_compact\": \"{couch_httpd_db, handle_compact_req}\",\r\n>         \"_design\": \"{couch_httpd_db, handle_design_req}\",\r\n>         \"_design_docs\": \"{couch_mrview_http, handle_design_docs_req}\",\r\n>         \"_local_docs\": \"{couch_mrview_http, handle_local_docs_req}\",\r\n>         \"_temp_view\": \"{couch_mrview_http, handle_temp_view_req}\",\r\n>         \"_view_cleanup\": \"{couch_mrview_http, handle_cleanup_req}\"\r\n>     },\r\n>     \"database_compaction\": {\r\n>         \"checkpoint_after\": \"5242880\",\r\n>         \"doc_buffer_size\": \"524288\"\r\n>     },\r\n>     \"csp\": {\r\n>         \"enable\": \"true\"\r\n>     },\r\n>     \"couch_httpd_auth\": {\r\n>         \"allow_persistent_cookies\": \"false\",\r\n>         \"auth_cache_size\": \"50\",\r\n>         \"authentication_db\": \"_users\",\r\n>         \"authentication_redirect\": \"/_utils/session.html\",\r\n>         \"iterations\": \"10\",\r\n>         \"require_valid_user\": \"true\",\r\n>         \"secret\": \"734b6574959bc80b2178a26ea227426b\",\r\n>         \"timeout\": \"600\"\r\n>     },\r\n>     \"couchdb\": {\r\n>         \"attachment_stream_buffer_size\": \"4096\",\r\n>         \"changes_doc_ids_optimization_threshold\": \"100\",\r\n>         \"database_dir\": \"/Users/konstantin/Library/Application Support/CouchDB2/var/lib/couchdb\",\r\n>         \"default_security\": \"admin_local\",\r\n>         \"delayed_commits\": \"false\",\r\n>         \"file_compression\": \"snappy\",\r\n>         \"max_dbs_open\": \"500\",\r\n>         \"os_process_timeout\": \"5000\",\r\n>         \"uri_file\": \"/Users/konstantin/Library/Application Support/CouchDB2/var/run/couchdb/couch.uri\",\r\n>         \"uuid\": \"58ec703a7dbd7c09602dd53365e74f00\",\r\n>         \"view_index_dir\": \"/Users/konstantin/Library/Application Support/CouchDB2/var/lib/couchdb\"\r\n>     },\r\n>     \"compactions\": {\r\n>         \"_default\": \"[{db_fragmentation, \\\"70%\\\"}, {view_fragmentation, \\\"60%\\\"}]\"\r\n>     },\r\n>     \"compaction_daemon\": {\r\n>         \"check_interval\": \"300\",\r\n>         \"min_file_size\": \"131072\"\r\n>     }\r\n> }\r\n\r\nThen I do this:\r\n`curl -X GET \\\r\n  http://localhost:5984/_session \\\r\n  -H 'accept: application/json' \\\r\n  -H 'content-type: application/json' \\\r\n  -H 'X-Auth-CouchDB-UserName: testuser'`\r\nresponse:\r\n>  {\r\n>     \"ok\": true,\r\n>     \"userCtx\": {\r\n>         \"name\": null,\r\n>         \"roles\": []\r\n>     },\r\n>     \"info\": {\r\n>         \"authentication_db\": \"_users\",\r\n>         \"authentication_handlers\": [\r\n>             \"cookie\",\r\n>             \"default\"\r\n>         ]\r\n>     }\r\n> }\r\n\r\nso there is no \"proxy\" in authentication_handlers\r\n\r\ngetting _security of test database with admin username and password\r\n`curl -X GET \\\r\n  http://localhost:5984/test/_security \\\r\n  -H 'authorization: Basic YWRtaW46Y291Y2hkYmFkbWlu'`\r\nresponse:\r\n\r\n> {\r\n>     \"admins\": {\r\n>         \"names\": [\r\n>             \"testuser\"\r\n>         ]\r\n>     },\r\n>     \"members\": {\r\n>         \"names\": [\r\n>             \"testuser\"\r\n>         ]\r\n>     }\r\n> }\r\n\r\ntrying to GET db with proxy header\r\n`curl -X GET \\\r\n  http://localhost:5984/test \\\r\n  -H 'accept: application/json' \\\r\n  -H 'content-type: application/json' \\\r\n  -H 'X-Auth-CouchDB-UserName: testuser'`\r\nresponse:\r\n\r\n> {\r\n>     \"error\": \"unauthorized\",\r\n>     \"reason\": \"You are not authorized to access this db.\"\r\n> }\r\n\r\nproxy not working...\r\n\r\nToday I've also tried the same operations on Windows 10 with postman and got exactly the same results.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322042279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322057875","html_url":"https://github.com/apache/couchdb/issues/749#issuecomment-322057875","issue_url":"https://api.github.com/repos/apache/couchdb/issues/749","id":322057875,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjA1Nzg3NQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-13T18:16:37Z","updated_at":"2017-08-13T18:16:37Z","author_association":"MEMBER","body":"This is not a bug with CouchDB, but your Docker setup.\r\n\r\nThe _users database must exist before couch_peruser can be enabled. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322057875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322063014","html_url":"https://github.com/apache/couchdb/issues/749#issuecomment-322063014","issue_url":"https://api.github.com/repos/apache/couchdb/issues/749","id":322063014,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjA2MzAxNA==","user":{"login":"iamdanthedev","id":24467138,"node_id":"MDQ6VXNlcjI0NDY3MTM4","avatar_url":"https://avatars.githubusercontent.com/u/24467138?v=4","gravatar_id":"","url":"https://api.github.com/users/iamdanthedev","html_url":"https://github.com/iamdanthedev","followers_url":"https://api.github.com/users/iamdanthedev/followers","following_url":"https://api.github.com/users/iamdanthedev/following{/other_user}","gists_url":"https://api.github.com/users/iamdanthedev/gists{/gist_id}","starred_url":"https://api.github.com/users/iamdanthedev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamdanthedev/subscriptions","organizations_url":"https://api.github.com/users/iamdanthedev/orgs","repos_url":"https://api.github.com/users/iamdanthedev/repos","events_url":"https://api.github.com/users/iamdanthedev/events{/privacy}","received_events_url":"https://api.github.com/users/iamdanthedev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-13T19:44:36Z","updated_at":"2017-08-13T19:44:36Z","author_association":"NONE","body":"Thanks for quick reply @wohali \r\nI've just double checked (done it again) - I'm creating the _users db before setting couch peruser enable = true.. So the db exists prior to setting the peruser setting and restarting the service\r\nI do this not in Dockerfile , but manually, committing changes to the image\r\n\r\nBut still the error exists\r\nError in process <0.325.0> with exit value: {database_does_not_exist,[{mem3_shards,load_shards_from_db,\"_users\",[{file,\"src/mem3_shards.erl\"},{line,403}]},{mem3_shards,load_shards_from_disk,1,[{file,\"src/mem3_shards.erl\"},{line,378}]},{mem3_shards,load_shards_from_disk... \r\n\r\nBtw!!, is there an option to create databases in the Dockerfile ?\r\n\r\nThanks \r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322063014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322064287","html_url":"https://github.com/apache/couchdb/issues/749#issuecomment-322064287","issue_url":"https://api.github.com/repos/apache/couchdb/issues/749","id":322064287,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjA2NDI4Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-13T20:07:42Z","updated_at":"2017-08-13T20:07:42Z","author_association":"MEMBER","body":"That error is saying you still didn't create the _users database.\r\n\r\nI know zero about the Docker setup. I can tell you that testing it locally I do not see these errors.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322064287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322117202","html_url":"https://github.com/apache/couchdb/issues/737#issuecomment-322117202","issue_url":"https://api.github.com/repos/apache/couchdb/issues/737","id":322117202,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjExNzIwMg==","user":{"login":"sureshsargar","id":30692026,"node_id":"MDQ6VXNlcjMwNjkyMDI2","avatar_url":"https://avatars.githubusercontent.com/u/30692026?v=4","gravatar_id":"","url":"https://api.github.com/users/sureshsargar","html_url":"https://github.com/sureshsargar","followers_url":"https://api.github.com/users/sureshsargar/followers","following_url":"https://api.github.com/users/sureshsargar/following{/other_user}","gists_url":"https://api.github.com/users/sureshsargar/gists{/gist_id}","starred_url":"https://api.github.com/users/sureshsargar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sureshsargar/subscriptions","organizations_url":"https://api.github.com/users/sureshsargar/orgs","repos_url":"https://api.github.com/users/sureshsargar/repos","events_url":"https://api.github.com/users/sureshsargar/events{/privacy}","received_events_url":"https://api.github.com/users/sureshsargar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-14T07:22:27Z","updated_at":"2017-08-14T07:22:27Z","author_association":"NONE","body":"@rnewson  we tried with fabric parameter,but no success. problem is when there is more than 100k records of similar type and if i want to create a view and access the same obvious indexing get triggered and it will almost make couchDB unresponsive.  i have to restart couchDB and then it will resume indexing from that point. restarting CouchDB is not feasible solution with above scenario.\r\n\r\nCan i get more document information about Fabric parameter which you suggested?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322117202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322118714","html_url":"https://github.com/apache/couchdb/issues/749#issuecomment-322118714","issue_url":"https://api.github.com/repos/apache/couchdb/issues/749","id":322118714,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjExODcxNA==","user":{"login":"iamdanthedev","id":24467138,"node_id":"MDQ6VXNlcjI0NDY3MTM4","avatar_url":"https://avatars.githubusercontent.com/u/24467138?v=4","gravatar_id":"","url":"https://api.github.com/users/iamdanthedev","html_url":"https://github.com/iamdanthedev","followers_url":"https://api.github.com/users/iamdanthedev/followers","following_url":"https://api.github.com/users/iamdanthedev/following{/other_user}","gists_url":"https://api.github.com/users/iamdanthedev/gists{/gist_id}","starred_url":"https://api.github.com/users/iamdanthedev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamdanthedev/subscriptions","organizations_url":"https://api.github.com/users/iamdanthedev/orgs","repos_url":"https://api.github.com/users/iamdanthedev/repos","events_url":"https://api.github.com/users/iamdanthedev/events{/privacy}","received_events_url":"https://api.github.com/users/iamdanthedev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-14T07:31:08Z","updated_at":"2017-08-14T07:31:18Z","author_association":"NONE","body":"You see, I checked sources, if the auth db does not exist, it should show error:\r\n`couch_peruser can't proceed as underlying database (name) is missing, disables itself.\r\n`\r\n\r\nNow if I change the auth db to a db which really doesn't exist like\r\n```\r\n[couch_httpd_auth]\r\nauthentication_db = i_dont_exist\r\n```\r\n\r\nthen I can see a proper error\r\n`[warning] 2017-08-14T07:27:10.966328Z nonode@nohost <0.231.0> -------- couch_peruser can't proceed as underlying database (i_dont_exist) is missing, disables itself.`\r\n\r\nNow if I either create the i_dont_exist db or switch auth db back to _users (which of course exists before settings peruser to true), in this case couch db doesn't show a proper error like above but _crashes_ with the error in the first message\r\n\r\nSo it's unfair to close the issue \r\n\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322118714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322121068","html_url":"https://github.com/apache/couchdb/issues/749#issuecomment-322121068","issue_url":"https://api.github.com/repos/apache/couchdb/issues/749","id":322121068,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjEyMTA2OA==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-14T07:42:12Z","updated_at":"2017-08-14T07:42:12Z","author_association":"MEMBER","body":"Can you recreate this issue outside of docker? If you cannot it is a docker issue.\n\nOn 14 Aug 2017, 9:31 AM +0200, Dan Goody <notifications@github.com>, wrote:\n> You see, I checked sources, if the auth db does not exist, it should show error:\n> couch_peruser can't proceed as underlying database (name) is missing, disables itself.\n> Now if I change the auth db to a db which really doesn't exist like\n> [couch_httpd_auth]\n> authentication_db = i_dont_exist\n> then I can see a proper error\n> [warning] 2017-08-14T07:27:10.966328Z nonode@nohost <0.231.0> -------- couch_peruser can't proceed as underlying database (i_dont_exist) is missing, disables itself.\n> Now if I either create the i_dont_exist db or switch auth db back to _users (which of course exists before settings peruser to true), in this case couch db doesn't show a proper error like above but crashes with the error in the first message\n> So it's unfair to close the issue\n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub, or mute the thread.\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322121068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322121445","html_url":"https://github.com/apache/couchdb/issues/749#issuecomment-322121445","issue_url":"https://api.github.com/repos/apache/couchdb/issues/749","id":322121445,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjEyMTQ0NQ==","user":{"login":"iamdanthedev","id":24467138,"node_id":"MDQ6VXNlcjI0NDY3MTM4","avatar_url":"https://avatars.githubusercontent.com/u/24467138?v=4","gravatar_id":"","url":"https://api.github.com/users/iamdanthedev","html_url":"https://github.com/iamdanthedev","followers_url":"https://api.github.com/users/iamdanthedev/followers","following_url":"https://api.github.com/users/iamdanthedev/following{/other_user}","gists_url":"https://api.github.com/users/iamdanthedev/gists{/gist_id}","starred_url":"https://api.github.com/users/iamdanthedev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamdanthedev/subscriptions","organizations_url":"https://api.github.com/users/iamdanthedev/orgs","repos_url":"https://api.github.com/users/iamdanthedev/repos","events_url":"https://api.github.com/users/iamdanthedev/events{/privacy}","received_events_url":"https://api.github.com/users/iamdanthedev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-14T07:44:18Z","updated_at":"2017-08-14T08:11:21Z","author_association":"NONE","body":"Yes alright, I'll give it a try\r\n\r\nOn 14 August 2017 at 10:42, garren smith <notifications@github.com> wrote:\r\n\r\n> Can you recreate this issue outside of docker? If you cannot it is a\r\n> docker issue.\r\n>\r\n> On 14 Aug 2017, 9:31 AM +0200, Dan Goody <notifications@github.com>,\r\n> wrote:\r\n> > You see, I checked sources, if the auth db does not exist, it should\r\n> show error:\r\n> > couch_peruser can't proceed as underlying database (name) is missing,\r\n> disables itself.\r\n> > Now if I change the auth db to a db which really doesn't exist like\r\n> > [couch_httpd_auth]\r\n> > authentication_db = i_dont_exist\r\n> > then I can see a proper error\r\n> > [warning] 2017-08-14T07:27:10.966328Z nonode@nohost <0.231.0> --------\r\n> couch_peruser can't proceed as underlying database (i_dont_exist) is\r\n> missing, disables itself.\r\n> > Now if I either create the i_dont_exist db or switch auth db back to\r\n> _users (which of course exists before settings peruser to true), in this\r\n> case couch db doesn't show a proper error like above but crashes with the\r\n> error in the first message\r\n> > So it's unfair to close the issue\r\n> > —\r\n> > You are receiving this because you are subscribed to this thread.\r\n>\r\n> > Reply to this email directly, view it on GitHub, or mute the thread.\r\n>\r\n> —\r\n> You are receiving this because you authored the thread.\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/apache/couchdb/issues/749#issuecomment-322121068>, or mute\r\n> the thread\r\n> <https://github.com/notifications/unsubscribe-auth/AXVWwlqtZVC-1ZMDjtG6yhnDctmfH5P4ks5sX_pagaJpZM4O1obs>\r\n> .\r\n>\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322121445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322127718","html_url":"https://github.com/apache/couchdb/issues/749#issuecomment-322127718","issue_url":"https://api.github.com/repos/apache/couchdb/issues/749","id":322127718,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjEyNzcxOA==","user":{"login":"iamdanthedev","id":24467138,"node_id":"MDQ6VXNlcjI0NDY3MTM4","avatar_url":"https://avatars.githubusercontent.com/u/24467138?v=4","gravatar_id":"","url":"https://api.github.com/users/iamdanthedev","html_url":"https://github.com/iamdanthedev","followers_url":"https://api.github.com/users/iamdanthedev/followers","following_url":"https://api.github.com/users/iamdanthedev/following{/other_user}","gists_url":"https://api.github.com/users/iamdanthedev/gists{/gist_id}","starred_url":"https://api.github.com/users/iamdanthedev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamdanthedev/subscriptions","organizations_url":"https://api.github.com/users/iamdanthedev/orgs","repos_url":"https://api.github.com/users/iamdanthedev/repos","events_url":"https://api.github.com/users/iamdanthedev/events{/privacy}","received_events_url":"https://api.github.com/users/iamdanthedev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-14T08:19:14Z","updated_at":"2017-08-14T13:23:44Z","author_association":"NONE","body":"Unfortunately,  after repeating the steps on my local ubuntu machine (without docker), the problem persists\r\nIf the auth db exists (_users or custom defined), couchdb then crashes on start\r\nThanks for your time\r\nDan\r\n\r\n```\r\ndanthedev@danthedevpc:~/Projects/github/couchdb/rel/couchdb$ bin/couchdb \r\n[info] 2017-08-14T08:15:09.581860Z couchdb@localhost <0.9.0> -------- Application couch_log started on node couchdb@localhost\r\n[info] 2017-08-14T08:15:09.588925Z couchdb@localhost <0.9.0> -------- Application folsom started on node couchdb@localhost\r\n[info] 2017-08-14T08:15:09.653730Z couchdb@localhost <0.9.0> -------- Application couch_stats started on node couchdb@localhost\r\n[info] 2017-08-14T08:15:09.653848Z couchdb@localhost <0.9.0> -------- Application khash started on node couchdb@localhost\r\n[info] 2017-08-14T08:15:09.667989Z couchdb@localhost <0.9.0> -------- Application couch_event started on node couchdb@localhost\r\n[info] 2017-08-14T08:15:09.675875Z couchdb@localhost <0.9.0> -------- Application ibrowse started on node couchdb@localhost\r\n[info] 2017-08-14T08:15:09.696017Z couchdb@localhost <0.9.0> -------- Application ioq started on node couchdb@localhost\r\n[info] 2017-08-14T08:15:09.696075Z couchdb@localhost <0.9.0> -------- Application mochiweb started on node couchdb@localhost\r\n[info] 2017-08-14T08:15:09.710956Z couchdb@localhost <0.204.0> -------- Apache CouchDB 2.1.0-f6156c3d1 is starting.\r\n\r\n[info] 2017-08-14T08:15:09.711073Z couchdb@localhost <0.205.0> -------- Starting couch_sup\r\n[error] 2017-08-14T08:15:09.863924Z couchdb@localhost <0.217.0> -------- CRASH REPORT Process  (<0.217.0>) with 0 neighbors exited with reason: bad argument in call to ets:member(mem3_openers, <<\"users\">>) at mem3_shards:maybe_spawn_shard_writer/3(line:486) <= mem3_shards:load_shards_from_db/2(line:389) <= mem3_shards:load_shards_from_disk/1(line:378) <= mem3_shards:for_db/2(line:59) <= mem3_shards:local/1(line:156) <= couch_peruser:init/0(line:58) <= couch_peruser:init/1(line:187); initial_call: {couch_peruser,init,['Argument__1']}, ancestors: [couch_secondary_services,couch_sup,<0.204.0>], messages: [], links: [<0.213.0>,<0.93.0>], dictionary: [], trap_exit: false, status: running, heap_size: 2586, stack_size: 27, reductions: 2273\r\n[error] 2017-08-14T08:15:09.865047Z couchdb@localhost <0.213.0> -------- Supervisor couch_secondary_services had child couch_peruser started with couch_peruser:start_link() at undefined exit with reason bad argument in call to ets:member(mem3_openers, <<\"users\">>) at mem3_shards:maybe_spawn_shard_writer/3(line:486) <= mem3_shards:load_shards_from_db/2(line:389) <= mem3_shards:load_shards_from_disk/1(line:378) <= mem3_shards:for_db/2(line:59) <= mem3_shards:local/1(line:156) <= couch_peruser:init/0(line:58) <= couch_peruser:init/1(line:187) in context start_error\r\n[error] 2017-08-14T08:15:09.866105Z couchdb@localhost <0.205.0> -------- Supervisor couch_sup had child couch_secondary_services started with couch_secondary_sup:start_link() at undefined exit with reason {shutdown,{failed_to_start_child,couch_peruser,{badarg,[{ets,member,[mem3_openers,<<\"users\">>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk,1,[{file,\"src/mem3_shards.erl\"},{line,378}]},{mem3_shards,for_db,2,[{file,\"src/mem3_shards.erl\"},{line,59}]},{mem3_shards,local,1,[{file,\"src/mem3_shards.erl\"},{line,156}]},{couch_peruser,init,0,[{file,...},...]},...]}}} in context start_error\r\n[error] 2017-08-14T08:15:09.866652Z couchdb@localhost <0.204.0> -------- Error starting Apache CouchDB:\r\n\r\n    {error,{shutdown,{failed_to_start_child,couch_secondary_services,{shutdown,{failed_to_start_child,couch_peruser,{badarg,[{ets,member,[mem3_openers,<<\"users\">>],[]},{mem3_shards,maybe_spawn_shard_writer,3,[{file,\"src/mem3_shards.erl\"},{line,486}]},{mem3_shards,load_shards_from_db,2,[{file,\"src/mem3_shards.erl\"},{line,389}]},{mem3_shards,load_shards_from_disk,1,[{file,\"src/mem3_shards.erl\"},{line,378}]},{mem3_shards,for_db,2,[{file,\"src/mem3_shards.erl\"},{line,59}]},{mem3_shards,local,1,[{file,\"src/mem3_shards.erl\"},{line,156}]},{couch_peruser,init,0,[{file,\"src/couch_peruser.erl\"},{line,58}]},{couch_peruser,init,1,[{file,\"src/couch_peruser.erl\"},{line,187}]}]}}}}}}\r\n\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322127718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322154988","html_url":"https://github.com/apache/couchdb/pull/740#issuecomment-322154988","issue_url":"https://api.github.com/repos/apache/couchdb/issues/740","id":322154988,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjE1NDk4OA==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-14T10:22:55Z","updated_at":"2017-08-14T10:22:55Z","author_association":"MEMBER","body":"@tonysun83 thanks for the review. I've make some fixes based on your feedback\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322154988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322267979","html_url":"https://github.com/apache/couchdb/pull/483#issuecomment-322267979","issue_url":"https://api.github.com/repos/apache/couchdb/issues/483","id":322267979,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjI2Nzk3OQ==","user":{"login":"jvabob","id":673834,"node_id":"MDQ6VXNlcjY3MzgzNA==","avatar_url":"https://avatars.githubusercontent.com/u/673834?v=4","gravatar_id":"","url":"https://api.github.com/users/jvabob","html_url":"https://github.com/jvabob","followers_url":"https://api.github.com/users/jvabob/followers","following_url":"https://api.github.com/users/jvabob/following{/other_user}","gists_url":"https://api.github.com/users/jvabob/gists{/gist_id}","starred_url":"https://api.github.com/users/jvabob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvabob/subscriptions","organizations_url":"https://api.github.com/users/jvabob/orgs","repos_url":"https://api.github.com/users/jvabob/repos","events_url":"https://api.github.com/users/jvabob/events{/privacy}","received_events_url":"https://api.github.com/users/jvabob/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-14T18:20:44Z","updated_at":"2017-08-14T18:20:44Z","author_association":"NONE","body":"Trying to use the replicate function to migrate my 686GB collection of databases...\r\n\r\nFirst 3-4 databases (about 5GB) work great... but now I get something like this when I try it\r\nfirst got it using the -a feature and now am trying individual db to see if I can find a pattern\r\n\r\n/usr/local/couchdb/bin/couchup replicate -l USER -p PASSWORD -t 3600 -f eridu\r\nStarting replication for eridu...\r\n{\"error\":\"not_found\",\"reason\":\"Could not open source database `http://127.0.0.1:5986/eridu/`: {db_not_found,<<\\\"http://127.0.0.1:5986/eridu/\\\">>}\"}\r\n\r\nif I curl http://127.0.0.1:5986/eridu/ ( and add the user and pass ) I get\r\n\r\n{\"db_name\":\"eridu\",\"doc_count\":7438871,\"doc_del_count\":511625,\"update_seq\":8168757,\"purge_seq\":0,\"compact_running\":false,\"disk_size\":81804304630,\"other\":{\"data_size\":109},\"data_size\":12273332816,\"sizes\":{\"file\":81804304630,\"active\":12273332816,\"external\":109},\"instance_start_time\":\"1502734780758722\",\"disk_format_version\":6,\"committed_update_seq\":8168757,\"compacted_seq\":0,\"uuid\":\"4a84be53b812cac9b71915eab09f3be9\"}\r\n\r\nSo the db sure seems to be there... I can go to 5986/_utils and see the db... can view data etc\r\n\r\nAny pointers?\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322267979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322287485","html_url":"https://github.com/apache/couchdb/pull/483#issuecomment-322287485","issue_url":"https://api.github.com/repos/apache/couchdb/issues/483","id":322287485,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjI4NzQ4NQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-14T19:36:48Z","updated_at":"2017-08-14T19:36:48Z","author_association":"MEMBER","body":"Please file this as a [new issue](https://github.com/apache/couchdb/issues/new) so we can properly follow this request, not as a comment on the pull request.\r\n\r\nPlease be sure to paste the exact results of the output. If possible please wrap your paste in triple-backticks, like this:\r\n\r\n```\r\n    ```\r\n    /usr/local/couchdb/bin/couchup replicate...\r\n    ```\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322287485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322288605","html_url":"https://github.com/apache/couchdb/pull/483#issuecomment-322288605","issue_url":"https://api.github.com/repos/apache/couchdb/issues/483","id":322288605,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjI4ODYwNQ==","user":{"login":"jvabob","id":673834,"node_id":"MDQ6VXNlcjY3MzgzNA==","avatar_url":"https://avatars.githubusercontent.com/u/673834?v=4","gravatar_id":"","url":"https://api.github.com/users/jvabob","html_url":"https://github.com/jvabob","followers_url":"https://api.github.com/users/jvabob/followers","following_url":"https://api.github.com/users/jvabob/following{/other_user}","gists_url":"https://api.github.com/users/jvabob/gists{/gist_id}","starred_url":"https://api.github.com/users/jvabob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvabob/subscriptions","organizations_url":"https://api.github.com/users/jvabob/orgs","repos_url":"https://api.github.com/users/jvabob/repos","events_url":"https://api.github.com/users/jvabob/events{/privacy}","received_events_url":"https://api.github.com/users/jvabob/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-14T19:41:46Z","updated_at":"2017-08-14T19:41:46Z","author_association":"NONE","body":"Sorry for the confusion on my part…\n\nI have submitted the new issue.\n\nThanks!\n\nBob Jones\n850.251.7485\n\n\n\n> On Aug 14, 2017, at 3:36:53:000PM, Joan Touzet <notifications@github.com> wrote:\n> \n> Please file this as a new issue <https://github.com/apache/couchdb/issues/new> so we can properly follow this request, not as a comment on the pull request.\n> \n> Please be sure to paste the exact results of the output. If possible please wrap your paste in triple-backticks, like this:\n> \n>     ```\n>     /usr/local/couchdb/bin/couchup replicate...\n>     ```\n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub <https://github.com/apache/couchdb/pull/483#issuecomment-322287485>, or mute the thread <https://github.com/notifications/unsubscribe-auth/AApIKoyAT5dwGmCTw6G8SnwuOgwFlZnCks5sYKHUgaJpZM4NCSOx>.\n> \n\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322288605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322327240","html_url":"https://github.com/apache/couchdb/pull/751#issuecomment-322327240","issue_url":"https://api.github.com/repos/apache/couchdb/issues/751","id":322327240,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjMyNzI0MA==","user":{"login":"chewbranca","id":5326,"node_id":"MDQ6VXNlcjUzMjY=","avatar_url":"https://avatars.githubusercontent.com/u/5326?v=4","gravatar_id":"","url":"https://api.github.com/users/chewbranca","html_url":"https://github.com/chewbranca","followers_url":"https://api.github.com/users/chewbranca/followers","following_url":"https://api.github.com/users/chewbranca/following{/other_user}","gists_url":"https://api.github.com/users/chewbranca/gists{/gist_id}","starred_url":"https://api.github.com/users/chewbranca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chewbranca/subscriptions","organizations_url":"https://api.github.com/users/chewbranca/orgs","repos_url":"https://api.github.com/users/chewbranca/repos","events_url":"https://api.github.com/users/chewbranca/events{/privacy}","received_events_url":"https://api.github.com/users/chewbranca/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-14T22:27:58Z","updated_at":"2017-08-14T22:27:58Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322327240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322336273","html_url":"https://github.com/apache/couchdb/pull/746#issuecomment-322336273","issue_url":"https://api.github.com/repos/apache/couchdb/issues/746","id":322336273,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjMzNjI3Mw==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-14T23:22:15Z","updated_at":"2017-08-14T23:22:15Z","author_association":"CONTRIBUTOR","body":"@chewbranca: You were right the Nonce shouldn't be part of a message. I just pushed the change which removes it. The nonce is added by `couch_log_writer_syslog.erl` to the syslog message. It can be accessed as `%msgid` from format pattern.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322336273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322506329","html_url":"https://github.com/apache/couchdb/pull/753#issuecomment-322506329","issue_url":"https://api.github.com/repos/apache/couchdb/issues/753","id":322506329,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjUwNjMyOQ==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-15T15:46:34Z","updated_at":"2017-08-15T15:46:34Z","author_association":"MEMBER","body":"@wohali could you take another look. My makefile skills are pretty lacking. I found this much easier to just create a script file to setup couchdb before running the tests.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322506329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322555239","html_url":"https://github.com/apache/couchdb/pull/740#issuecomment-322555239","issue_url":"https://api.github.com/repos/apache/couchdb/issues/740","id":322555239,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjU1NTIzOQ==","user":{"login":"tonysun83","id":6991573,"node_id":"MDQ6VXNlcjY5OTE1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6991573?v=4","gravatar_id":"","url":"https://api.github.com/users/tonysun83","html_url":"https://github.com/tonysun83","followers_url":"https://api.github.com/users/tonysun83/followers","following_url":"https://api.github.com/users/tonysun83/following{/other_user}","gists_url":"https://api.github.com/users/tonysun83/gists{/gist_id}","starred_url":"https://api.github.com/users/tonysun83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonysun83/subscriptions","organizations_url":"https://api.github.com/users/tonysun83/orgs","repos_url":"https://api.github.com/users/tonysun83/repos","events_url":"https://api.github.com/users/tonysun83/events{/privacy}","received_events_url":"https://api.github.com/users/tonysun83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-15T18:51:16Z","updated_at":"2017-08-15T18:51:16Z","author_association":"CONTRIBUTOR","body":"+1 after that fixing that weird end of line issue","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322555239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322613863","html_url":"https://github.com/apache/couchdb/pull/753#issuecomment-322613863","issue_url":"https://api.github.com/repos/apache/couchdb/issues/753","id":322613863,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjYxMzg2Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-15T23:09:40Z","updated_at":"2017-08-15T23:09:40Z","author_association":"MEMBER","body":"Much cleaner! Won't run on Windows but we can tackle that later.\r\n\r\nCan you look into the Mango failures on Travis before we merge this? I don't want us to get back into the habit of breaking the build. @tonysun83 are you able to help here?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322613863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322808874","html_url":"https://github.com/apache/couchdb/pull/753#issuecomment-322808874","issue_url":"https://api.github.com/repos/apache/couchdb/issues/753","id":322808874,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjgwODg3NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-16T15:27:41Z","updated_at":"2017-08-16T15:27:41Z","author_association":"MEMBER","body":"Thank you @garrensmith ! 💃 ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322808874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322821591","html_url":"https://github.com/apache/couchdb/issues/750#issuecomment-322821591","issue_url":"https://api.github.com/repos/apache/couchdb/issues/750","id":322821591,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjgyMTU5MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-16T16:10:09Z","updated_at":"2017-08-16T16:10:09Z","author_association":"MEMBER","body":"Does the problem persist when you leave off the `-f` option?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322821591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322882877","html_url":"https://github.com/apache/couchdb/issues/741#issuecomment-322882877","issue_url":"https://api.github.com/repos/apache/couchdb/issues/741","id":322882877,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjg4Mjg3Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-16T20:03:07Z","updated_at":"2017-08-16T20:03:07Z","author_association":"MEMBER","body":"This is a Fauxton bug, so I'm closing it out in apache/couchdb. See the other referenced issues for more info.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322882877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322883041","html_url":"https://github.com/apache/couchdb/issues/713#issuecomment-322883041","issue_url":"https://api.github.com/repos/apache/couchdb/issues/713","id":322883041,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjg4MzA0MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-16T20:03:38Z","updated_at":"2017-08-16T20:03:38Z","author_association":"MEMBER","body":"2.1.0 has been released, can you confirm it fixes your issues?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322883041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322884228","html_url":"https://github.com/apache/couchdb/issues/749#issuecomment-322884228","issue_url":"https://api.github.com/repos/apache/couchdb/issues/749","id":322884228,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjg4NDIyOA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-16T20:08:44Z","updated_at":"2017-08-16T20:08:44Z","author_association":"MEMBER","body":"We need more time to investigate this one. Reopening until we have time to do so.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322884228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322888251","html_url":"https://github.com/apache/couchdb/issues/749#issuecomment-322888251","issue_url":"https://api.github.com/repos/apache/couchdb/issues/749","id":322888251,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjg4ODI1MQ==","user":{"login":"realulim","id":17084846,"node_id":"MDQ6VXNlcjE3MDg0ODQ2","avatar_url":"https://avatars.githubusercontent.com/u/17084846?v=4","gravatar_id":"","url":"https://api.github.com/users/realulim","html_url":"https://github.com/realulim","followers_url":"https://api.github.com/users/realulim/followers","following_url":"https://api.github.com/users/realulim/following{/other_user}","gists_url":"https://api.github.com/users/realulim/gists{/gist_id}","starred_url":"https://api.github.com/users/realulim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/realulim/subscriptions","organizations_url":"https://api.github.com/users/realulim/orgs","repos_url":"https://api.github.com/users/realulim/repos","events_url":"https://api.github.com/users/realulim/events{/privacy}","received_events_url":"https://api.github.com/users/realulim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-16T20:24:31Z","updated_at":"2017-08-16T20:27:38Z","author_association":"NONE","body":"I'm having the same issue, but without docker. Compiled from sources, ensured that I have a working CouchDB (via an integration test suite) and can add and remove users. All that with the couch_peruser feature disabled. Once I enable it and restart CouchDB I get an error in the logfile (see attached file\r\n[log.txt](https://github.com/apache/couchdb/files/1229431/log.txt)\r\n).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322888251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322909158","html_url":"https://github.com/apache/couchdb/pull/746#issuecomment-322909158","issue_url":"https://api.github.com/repos/apache/couchdb/issues/746","id":322909158,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjkwOTE1OA==","user":{"login":"chewbranca","id":5326,"node_id":"MDQ6VXNlcjUzMjY=","avatar_url":"https://avatars.githubusercontent.com/u/5326?v=4","gravatar_id":"","url":"https://api.github.com/users/chewbranca","html_url":"https://github.com/chewbranca","followers_url":"https://api.github.com/users/chewbranca/followers","following_url":"https://api.github.com/users/chewbranca/following{/other_user}","gists_url":"https://api.github.com/users/chewbranca/gists{/gist_id}","starred_url":"https://api.github.com/users/chewbranca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chewbranca/subscriptions","organizations_url":"https://api.github.com/users/chewbranca/orgs","repos_url":"https://api.github.com/users/chewbranca/repos","events_url":"https://api.github.com/users/chewbranca/events{/privacy}","received_events_url":"https://api.github.com/users/chewbranca/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-16T21:47:51Z","updated_at":"2017-08-16T21:47:51Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322909158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322913763","html_url":"https://github.com/apache/couchdb/issues/749#issuecomment-322913763","issue_url":"https://api.github.com/repos/apache/couchdb/issues/749","id":322913763,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjkxMzc2Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-16T22:09:44Z","updated_at":"2017-08-16T22:09:44Z","author_association":"MEMBER","body":"We nave a possible workaround for @realulim @rasdaniil . Can you try removing this line from your `default.ini` file?\r\n\r\n```\r\ncouch_peruser={couch_peruser, start_link, []}\r\n```\r\n\r\nIt should be line 247.\r\n\r\nIf you remove that line and try again, does it work?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322913763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322961786","html_url":"https://github.com/apache/couchdb/issues/755#issuecomment-322961786","issue_url":"https://api.github.com/repos/apache/couchdb/issues/755","id":322961786,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjk2MTc4Ng==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-17T03:49:37Z","updated_at":"2017-08-17T03:49:37Z","author_association":"MEMBER","body":"This is not a bug with CouchDB. Please take your question to our users@couchdb.apache.org mailing list.\r\n\r\nYou can subscribe to the list by sending an email to user-subscribe@couchdb.apache.org.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322961786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322963527","html_url":"https://github.com/apache/couchdb/issues/755#issuecomment-322963527","issue_url":"https://api.github.com/repos/apache/couchdb/issues/755","id":322963527,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjk2MzUyNw==","user":{"login":"wonderfuljamesjin","id":30424680,"node_id":"MDQ6VXNlcjMwNDI0Njgw","avatar_url":"https://avatars.githubusercontent.com/u/30424680?v=4","gravatar_id":"","url":"https://api.github.com/users/wonderfuljamesjin","html_url":"https://github.com/wonderfuljamesjin","followers_url":"https://api.github.com/users/wonderfuljamesjin/followers","following_url":"https://api.github.com/users/wonderfuljamesjin/following{/other_user}","gists_url":"https://api.github.com/users/wonderfuljamesjin/gists{/gist_id}","starred_url":"https://api.github.com/users/wonderfuljamesjin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wonderfuljamesjin/subscriptions","organizations_url":"https://api.github.com/users/wonderfuljamesjin/orgs","repos_url":"https://api.github.com/users/wonderfuljamesjin/repos","events_url":"https://api.github.com/users/wonderfuljamesjin/events{/privacy}","received_events_url":"https://api.github.com/users/wonderfuljamesjin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-17T04:06:52Z","updated_at":"2017-08-17T04:06:52Z","author_association":"NONE","body":"hi @wohali\r\nthanks, and what do you mean it is not a bug with CouchDB?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322963527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322976258","html_url":"https://github.com/apache/couchdb/issues/749#issuecomment-322976258","issue_url":"https://api.github.com/repos/apache/couchdb/issues/749","id":322976258,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjk3NjI1OA==","user":{"login":"realulim","id":17084846,"node_id":"MDQ6VXNlcjE3MDg0ODQ2","avatar_url":"https://avatars.githubusercontent.com/u/17084846?v=4","gravatar_id":"","url":"https://api.github.com/users/realulim","html_url":"https://github.com/realulim","followers_url":"https://api.github.com/users/realulim/followers","following_url":"https://api.github.com/users/realulim/following{/other_user}","gists_url":"https://api.github.com/users/realulim/gists{/gist_id}","starred_url":"https://api.github.com/users/realulim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/realulim/subscriptions","organizations_url":"https://api.github.com/users/realulim/orgs","repos_url":"https://api.github.com/users/realulim/repos","events_url":"https://api.github.com/users/realulim/events{/privacy}","received_events_url":"https://api.github.com/users/realulim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-17T05:57:17Z","updated_at":"2017-08-17T05:57:17Z","author_association":"NONE","body":"It's line 236 in my default.ini, which is unchanged from the download. After commenting it out, CouchDB starts up and my test suite works. I haven't checked yet, whether the per user DB is actually created, will do that later and report back.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/322976258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323053581","html_url":"https://github.com/apache/couchdb/issues/750#issuecomment-323053581","issue_url":"https://api.github.com/repos/apache/couchdb/issues/750","id":323053581,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzA1MzU4MQ==","user":{"login":"jvabob","id":673834,"node_id":"MDQ6VXNlcjY3MzgzNA==","avatar_url":"https://avatars.githubusercontent.com/u/673834?v=4","gravatar_id":"","url":"https://api.github.com/users/jvabob","html_url":"https://github.com/jvabob","followers_url":"https://api.github.com/users/jvabob/followers","following_url":"https://api.github.com/users/jvabob/following{/other_user}","gists_url":"https://api.github.com/users/jvabob/gists{/gist_id}","starred_url":"https://api.github.com/users/jvabob/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvabob/subscriptions","organizations_url":"https://api.github.com/users/jvabob/orgs","repos_url":"https://api.github.com/users/jvabob/repos","events_url":"https://api.github.com/users/jvabob/events{/privacy}","received_events_url":"https://api.github.com/users/jvabob/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-17T12:09:55Z","updated_at":"2017-08-17T12:09:55Z","author_association":"NONE","body":"Yes my first attempts did not have the -f option","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323053581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323111712","html_url":"https://github.com/apache/couchdb/issues/749#issuecomment-323111712","issue_url":"https://api.github.com/repos/apache/couchdb/issues/749","id":323111712,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzExMTcxMg==","user":{"login":"realulim","id":17084846,"node_id":"MDQ6VXNlcjE3MDg0ODQ2","avatar_url":"https://avatars.githubusercontent.com/u/17084846?v=4","gravatar_id":"","url":"https://api.github.com/users/realulim","html_url":"https://github.com/realulim","followers_url":"https://api.github.com/users/realulim/followers","following_url":"https://api.github.com/users/realulim/following{/other_user}","gists_url":"https://api.github.com/users/realulim/gists{/gist_id}","starred_url":"https://api.github.com/users/realulim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/realulim/subscriptions","organizations_url":"https://api.github.com/users/realulim/orgs","repos_url":"https://api.github.com/users/realulim/repos","events_url":"https://api.github.com/users/realulim/events{/privacy}","received_events_url":"https://api.github.com/users/realulim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-17T15:41:52Z","updated_at":"2017-08-17T15:41:52Z","author_association":"NONE","body":"I created a user and saw in Fauxton that the user was actually contained in _users, but there was no additional database. So to me it appears that the workaround avoids the crash, but the per user DB feature does not work.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323111712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323174110","html_url":"https://github.com/apache/couchdb/pull/756#issuecomment-323174110","issue_url":"https://api.github.com/repos/apache/couchdb/issues/756","id":323174110,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzE3NDExMA==","user":{"login":"chewbranca","id":5326,"node_id":"MDQ6VXNlcjUzMjY=","avatar_url":"https://avatars.githubusercontent.com/u/5326?v=4","gravatar_id":"","url":"https://api.github.com/users/chewbranca","html_url":"https://github.com/chewbranca","followers_url":"https://api.github.com/users/chewbranca/followers","following_url":"https://api.github.com/users/chewbranca/following{/other_user}","gists_url":"https://api.github.com/users/chewbranca/gists{/gist_id}","starred_url":"https://api.github.com/users/chewbranca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chewbranca/subscriptions","organizations_url":"https://api.github.com/users/chewbranca/orgs","repos_url":"https://api.github.com/users/chewbranca/repos","events_url":"https://api.github.com/users/chewbranca/events{/privacy}","received_events_url":"https://api.github.com/users/chewbranca/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-17T19:42:29Z","updated_at":"2017-08-17T19:42:29Z","author_association":"CONTRIBUTOR","body":"Well the changes in 863e8fdd44804e8772972329a8b9f5338c21212a get the test suite a bit further, but for some reason it appears that https://github.com/apache/couchdb/blob/863e8fdd44804e8772972329a8b9f5338c21212a/src/couch_peruser/test/couch_peruser_test.erl#L98-L106 results in the couch_peruser pid disappearing.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323174110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323322278","html_url":"https://github.com/apache/couchdb/issues/758#issuecomment-323322278","issue_url":"https://api.github.com/repos/apache/couchdb/issues/758","id":323322278,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzMyMjI3OA==","user":{"login":"sajeeval","id":29610949,"node_id":"MDQ6VXNlcjI5NjEwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/29610949?v=4","gravatar_id":"","url":"https://api.github.com/users/sajeeval","html_url":"https://github.com/sajeeval","followers_url":"https://api.github.com/users/sajeeval/followers","following_url":"https://api.github.com/users/sajeeval/following{/other_user}","gists_url":"https://api.github.com/users/sajeeval/gists{/gist_id}","starred_url":"https://api.github.com/users/sajeeval/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sajeeval/subscriptions","organizations_url":"https://api.github.com/users/sajeeval/orgs","repos_url":"https://api.github.com/users/sajeeval/repos","events_url":"https://api.github.com/users/sajeeval/events{/privacy}","received_events_url":"https://api.github.com/users/sajeeval/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-18T10:46:28Z","updated_at":"2017-08-18T10:46:28Z","author_association":"NONE","body":"This issue is visible when\r\n1. Compaction is running\r\n2. Duplicate the database using _replicate\r\n3. When we use _bulk_docs to create a new database using the original\r\n\r\nHowever, \r\n1. We can see the document using curl commands. \r\n2. We can get all revisions using curl commands. \r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323322278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323323713","html_url":"https://github.com/apache/couchdb/issues/758#issuecomment-323323713","issue_url":"https://api.github.com/repos/apache/couchdb/issues/758","id":323323713,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzMyMzcxMw==","user":{"login":"sajeeval","id":29610949,"node_id":"MDQ6VXNlcjI5NjEwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/29610949?v=4","gravatar_id":"","url":"https://api.github.com/users/sajeeval","html_url":"https://github.com/sajeeval","followers_url":"https://api.github.com/users/sajeeval/followers","following_url":"https://api.github.com/users/sajeeval/following{/other_user}","gists_url":"https://api.github.com/users/sajeeval/gists{/gist_id}","starred_url":"https://api.github.com/users/sajeeval/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sajeeval/subscriptions","organizations_url":"https://api.github.com/users/sajeeval/orgs","repos_url":"https://api.github.com/users/sajeeval/repos","events_url":"https://api.github.com/users/sajeeval/events{/privacy}","received_events_url":"https://api.github.com/users/sajeeval/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-18T10:54:34Z","updated_at":"2017-08-18T10:54:34Z","author_association":"NONE","body":"Couch log is attached.\r\n[couch_error.txt](https://github.com/apache/couchdb/files/1234192/couch_error.txt)\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323323713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323323900","html_url":"https://github.com/apache/couchdb/issues/758#issuecomment-323323900","issue_url":"https://api.github.com/repos/apache/couchdb/issues/758","id":323323900,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzMyMzkwMA==","user":{"login":"sajeeval","id":29610949,"node_id":"MDQ6VXNlcjI5NjEwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/29610949?v=4","gravatar_id":"","url":"https://api.github.com/users/sajeeval","html_url":"https://github.com/sajeeval","followers_url":"https://api.github.com/users/sajeeval/followers","following_url":"https://api.github.com/users/sajeeval/following{/other_user}","gists_url":"https://api.github.com/users/sajeeval/gists{/gist_id}","starred_url":"https://api.github.com/users/sajeeval/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sajeeval/subscriptions","organizations_url":"https://api.github.com/users/sajeeval/orgs","repos_url":"https://api.github.com/users/sajeeval/repos","events_url":"https://api.github.com/users/sajeeval/events{/privacy}","received_events_url":"https://api.github.com/users/sajeeval/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-18T10:55:47Z","updated_at":"2017-08-18T10:55:47Z","author_association":"NONE","body":"Our primary concern is to find the root cause for this corruptions.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323323900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323396377","html_url":"https://github.com/apache/couchdb/issues/758#issuecomment-323396377","issue_url":"https://api.github.com/repos/apache/couchdb/issues/758","id":323396377,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzM5NjM3Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-18T16:14:02Z","updated_at":"2017-08-18T16:14:44Z","author_association":"MEMBER","body":"I'm sorry to hear you are experiencing this.\r\n\r\nDoes your server show any disk failure or error messages? You can find these in `/var/log/messages*` or `/var/log/syslog*` and in the output of the command `sudo dmesg`.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323396377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323474871","html_url":"https://github.com/apache/couchdb/pull/761#issuecomment-323474871","issue_url":"https://api.github.com/repos/apache/couchdb/issues/761","id":323474871,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzQ3NDg3MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-18T22:30:10Z","updated_at":"2017-08-18T22:30:10Z","author_association":"MEMBER","body":"Very nice. Any chance of some tests or documentation?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323474871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323478044","html_url":"https://github.com/apache/couchdb/pull/762#issuecomment-323478044","issue_url":"https://api.github.com/repos/apache/couchdb/issues/762","id":323478044,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzQ3ODA0NA==","user":{"login":"jaydoane","id":51209,"node_id":"MDQ6VXNlcjUxMjA5","avatar_url":"https://avatars.githubusercontent.com/u/51209?v=4","gravatar_id":"","url":"https://api.github.com/users/jaydoane","html_url":"https://github.com/jaydoane","followers_url":"https://api.github.com/users/jaydoane/followers","following_url":"https://api.github.com/users/jaydoane/following{/other_user}","gists_url":"https://api.github.com/users/jaydoane/gists{/gist_id}","starred_url":"https://api.github.com/users/jaydoane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaydoane/subscriptions","organizations_url":"https://api.github.com/users/jaydoane/orgs","repos_url":"https://api.github.com/users/jaydoane/repos","events_url":"https://api.github.com/users/jaydoane/events{/privacy}","received_events_url":"https://api.github.com/users/jaydoane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-18T22:54:03Z","updated_at":"2017-08-18T22:54:03Z","author_association":"CONTRIBUTOR","body":"Curiously, I'm not seeing the expected behavior described under **Testing recommendations**.\r\n\r\nI modified rexi_monitor.erl to export `wait_monitors/1`, and then ran the test:\r\n```erlang\r\n(node1@127.0.0.1)17> Self = self(), spawn(fun() -> rexi_monitor:wait_monitors(Self) end).\r\n<0.6576.228>\r\n(node1@127.0.0.1)18> code:soft_purge(rexi_monitor).\r\ntrue\r\n```\r\nNevertheless, this PR LGTM\r\n+1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323478044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323613817","html_url":"https://github.com/apache/couchdb/pull/763#issuecomment-323613817","issue_url":"https://api.github.com/repos/apache/couchdb/issues/763","id":323613817,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzYxMzgxNw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-20T21:41:14Z","updated_at":"2017-08-20T21:41:14Z","author_association":"MEMBER","body":"Note that tests are failing because a change in a separate repo, couchdb-config is required. See reference above.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323613817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323690436","html_url":"https://github.com/apache/couchdb/issues/758#issuecomment-323690436","issue_url":"https://api.github.com/repos/apache/couchdb/issues/758","id":323690436,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzY5MDQzNg==","user":{"login":"sajeeval","id":29610949,"node_id":"MDQ6VXNlcjI5NjEwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/29610949?v=4","gravatar_id":"","url":"https://api.github.com/users/sajeeval","html_url":"https://github.com/sajeeval","followers_url":"https://api.github.com/users/sajeeval/followers","following_url":"https://api.github.com/users/sajeeval/following{/other_user}","gists_url":"https://api.github.com/users/sajeeval/gists{/gist_id}","starred_url":"https://api.github.com/users/sajeeval/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sajeeval/subscriptions","organizations_url":"https://api.github.com/users/sajeeval/orgs","repos_url":"https://api.github.com/users/sajeeval/repos","events_url":"https://api.github.com/users/sajeeval/events{/privacy}","received_events_url":"https://api.github.com/users/sajeeval/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-21T09:12:22Z","updated_at":"2017-08-21T09:12:22Z","author_association":"NONE","body":"Hi, \r\nLet me get back to you on this.\r\nRegards,\r\nSajeeva.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323690436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323699605","html_url":"https://github.com/apache/couchdb/issues/758#issuecomment-323699605","issue_url":"https://api.github.com/repos/apache/couchdb/issues/758","id":323699605,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzY5OTYwNQ==","user":{"login":"sajeeval","id":29610949,"node_id":"MDQ6VXNlcjI5NjEwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/29610949?v=4","gravatar_id":"","url":"https://api.github.com/users/sajeeval","html_url":"https://github.com/sajeeval","followers_url":"https://api.github.com/users/sajeeval/followers","following_url":"https://api.github.com/users/sajeeval/following{/other_user}","gists_url":"https://api.github.com/users/sajeeval/gists{/gist_id}","starred_url":"https://api.github.com/users/sajeeval/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sajeeval/subscriptions","organizations_url":"https://api.github.com/users/sajeeval/orgs","repos_url":"https://api.github.com/users/sajeeval/repos","events_url":"https://api.github.com/users/sajeeval/events{/privacy}","received_events_url":"https://api.github.com/users/sajeeval/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-21T09:50:35Z","updated_at":"2017-08-21T09:50:35Z","author_association":"NONE","body":"Hi wohali, \r\nWe didn't experience any disk failures. dmesg log is attached. \r\n[dmesg.log.gz](https://github.com/apache/couchdb/files/1238450/dmesg.log.gz)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323699605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323702069","html_url":"https://github.com/apache/couchdb/issues/758#issuecomment-323702069","issue_url":"https://api.github.com/repos/apache/couchdb/issues/758","id":323702069,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzcwMjA2OQ==","user":{"login":"sajeeval","id":29610949,"node_id":"MDQ6VXNlcjI5NjEwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/29610949?v=4","gravatar_id":"","url":"https://api.github.com/users/sajeeval","html_url":"https://github.com/sajeeval","followers_url":"https://api.github.com/users/sajeeval/followers","following_url":"https://api.github.com/users/sajeeval/following{/other_user}","gists_url":"https://api.github.com/users/sajeeval/gists{/gist_id}","starred_url":"https://api.github.com/users/sajeeval/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sajeeval/subscriptions","organizations_url":"https://api.github.com/users/sajeeval/orgs","repos_url":"https://api.github.com/users/sajeeval/repos","events_url":"https://api.github.com/users/sajeeval/events{/privacy}","received_events_url":"https://api.github.com/users/sajeeval/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-21T10:00:40Z","updated_at":"2017-08-21T10:00:40Z","author_association":"NONE","body":"We experience the same issue in few other environments. I will update this ticket with those information soon.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323702069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323749074","html_url":"https://github.com/apache/couchdb/pull/761#issuecomment-323749074","issue_url":"https://api.github.com/repos/apache/couchdb/issues/761","id":323749074,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzc0OTA3NA==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-21T13:53:10Z","updated_at":"2017-08-21T13:53:10Z","author_association":"CONTRIBUTOR","body":" I wanted to see if there is an interest in this work first. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323749074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323760015","html_url":"https://github.com/apache/couchdb/pull/763#issuecomment-323760015","issue_url":"https://api.github.com/repos/apache/couchdb/issues/763","id":323760015,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzc2MDAxNQ==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-21T14:38:50Z","updated_at":"2017-08-21T14:38:50Z","author_association":"MEMBER","body":"For the failing tests I'd just add the dependency update in this PR as a separate commit.\r\n\r\nDid we just talk about a log message during startup that looked at the max file handle count and added a warning or did we actually add that. And/or is that just a hard thing to do portably for our target platforms? I seem to recall a similar discussion about this issue for the test suite.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323760015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323784282","html_url":"https://github.com/apache/couchdb/pull/761#issuecomment-323784282","issue_url":"https://api.github.com/repos/apache/couchdb/issues/761","id":323784282,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzc4NDI4Mg==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-21T15:59:55Z","updated_at":"2017-08-21T15:59:55Z","author_association":"CONTRIBUTOR","body":"I like the idea, would be useful to have the linked process output when debugging. See a few questions about mapfold and other things.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323784282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323807943","html_url":"https://github.com/apache/couchdb/issues/758#issuecomment-323807943","issue_url":"https://api.github.com/repos/apache/couchdb/issues/758","id":323807943,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzgwNzk0Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-21T17:45:51Z","updated_at":"2017-08-21T17:45:51Z","author_association":"MEMBER","body":"Did you ever run out of disk space on these hosts?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323807943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323815786","html_url":"https://github.com/apache/couchdb/pull/763#issuecomment-323815786","issue_url":"https://api.github.com/repos/apache/couchdb/issues/763","id":323815786,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzgxNTc4Ng==","user":{"login":"chewbranca","id":5326,"node_id":"MDQ6VXNlcjUzMjY=","avatar_url":"https://avatars.githubusercontent.com/u/5326?v=4","gravatar_id":"","url":"https://api.github.com/users/chewbranca","html_url":"https://github.com/chewbranca","followers_url":"https://api.github.com/users/chewbranca/followers","following_url":"https://api.github.com/users/chewbranca/following{/other_user}","gists_url":"https://api.github.com/users/chewbranca/gists{/gist_id}","starred_url":"https://api.github.com/users/chewbranca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chewbranca/subscriptions","organizations_url":"https://api.github.com/users/chewbranca/orgs","repos_url":"https://api.github.com/users/chewbranca/repos","events_url":"https://api.github.com/users/chewbranca/events{/privacy}","received_events_url":"https://api.github.com/users/chewbranca/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-21T18:19:03Z","updated_at":"2017-08-21T18:19:03Z","author_association":"CONTRIBUTOR","body":"The `max_dbs_open` field is a bit of a misnomer in that it would be more accurate to call it `max_shards_open` because it tracks the number of open shards, not the number of open dbs. You should not be hitting file open limits with `max_dbs_open=500` on a system with file limit of 1024 with just dbs. If we're letting views fall through the cracks then we should fix it so view shards are regulated as well.\r\n\r\nI don't think reducing this value to 100 is a good change, as 100 is quite low for a default. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323815786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323829640","html_url":"https://github.com/apache/couchdb/pull/763#issuecomment-323829640","issue_url":"https://api.github.com/repos/apache/couchdb/issues/763","id":323829640,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzgyOTY0MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-21T19:23:23Z","updated_at":"2017-08-21T19:23:23Z","author_association":"MEMBER","body":"I will close this PR, but before I do, I'll run some tests as to what we can do to fix this issue. Given recent issues filed I'm not sure what @chewbranca says is true in practice.\r\n\r\nThe especially difficult part is if the system wide `fs.file-max` setting is too low, we may never hit the couchdb process's file handle limit before hitting the kernel max limit, and we start getting emfile/enfile errors anyway. Again for reference on CentOS/RHEL the default `fs.file-max` is 4096, so if you're running 3-4 other fd-hungry daemons on the box, even with the default 1024 fd limit, you're going to run into this situation. Perhaps we need to do more probing on this front, os-dependent as much as possible...\r\n\r\nIf what we're running into is an issue with view shards not db shards, then yeah, we need more. @sagelywizard was working on this in https://github.com/apache/couchdb/pull/477 so perhaps we should close that out as well.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323829640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323829850","html_url":"https://github.com/apache/couchdb/pull/763#issuecomment-323829850","issue_url":"https://api.github.com/repos/apache/couchdb/issues/763","id":323829850,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzgyOTg1MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-21T19:24:22Z","updated_at":"2017-08-21T19:24:22Z","author_association":"MEMBER","body":"also @davisp even if I was to move forward with merging the other repo, it's a circular dependency problem: couchdb-config's test depends on the definition of MAX_DBS_OPEN which is in this repo, and the overall couchdb repo test suite depends on couchdb-config's test suite passing. What a pain.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323829850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323844831","html_url":"https://github.com/apache/couchdb/pull/763#issuecomment-323844831","issue_url":"https://api.github.com/repos/apache/couchdb/issues/763","id":323844831,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzg0NDgzMQ==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-21T20:29:54Z","updated_at":"2017-08-21T20:29:54Z","author_association":"MEMBER","body":"Best thing I can think of without thinking too hard is to just merge things that aren't this repo to master and then we gate that on the CI on this repo passing? Can always revert.\r\n\r\nSecond option is to pull the hash as a temporary bump here maybe?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323844831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323915279","html_url":"https://github.com/apache/couchdb/issues/758#issuecomment-323915279","issue_url":"https://api.github.com/repos/apache/couchdb/issues/758","id":323915279,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzkxNTI3OQ==","user":{"login":"sajeeval","id":29610949,"node_id":"MDQ6VXNlcjI5NjEwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/29610949?v=4","gravatar_id":"","url":"https://api.github.com/users/sajeeval","html_url":"https://github.com/sajeeval","followers_url":"https://api.github.com/users/sajeeval/followers","following_url":"https://api.github.com/users/sajeeval/following{/other_user}","gists_url":"https://api.github.com/users/sajeeval/gists{/gist_id}","starred_url":"https://api.github.com/users/sajeeval/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sajeeval/subscriptions","organizations_url":"https://api.github.com/users/sajeeval/orgs","repos_url":"https://api.github.com/users/sajeeval/repos","events_url":"https://api.github.com/users/sajeeval/events{/privacy}","received_events_url":"https://api.github.com/users/sajeeval/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-22T04:21:08Z","updated_at":"2017-08-22T05:12:00Z","author_association":"NONE","body":"Hi, \r\nWe do a lot of modifications and deletions on our databases, and those needs regular compactions and purging. \r\nWe have scheduled compaction process to be executed from 3.00 to 5.00 and we have scheduled purging process outside of that window. \r\n\r\nWhat normally happens is that since compaction fails due to the corruptions, database continues to grow and that leads to low disk space. \r\n\r\nI will share log files of other incidents too.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323915279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323922555","html_url":"https://github.com/apache/couchdb/issues/758#issuecomment-323922555","issue_url":"https://api.github.com/repos/apache/couchdb/issues/758","id":323922555,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzkyMjU1NQ==","user":{"login":"sajeeval","id":29610949,"node_id":"MDQ6VXNlcjI5NjEwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/29610949?v=4","gravatar_id":"","url":"https://api.github.com/users/sajeeval","html_url":"https://github.com/sajeeval","followers_url":"https://api.github.com/users/sajeeval/followers","following_url":"https://api.github.com/users/sajeeval/following{/other_user}","gists_url":"https://api.github.com/users/sajeeval/gists{/gist_id}","starred_url":"https://api.github.com/users/sajeeval/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sajeeval/subscriptions","organizations_url":"https://api.github.com/users/sajeeval/orgs","repos_url":"https://api.github.com/users/sajeeval/repos","events_url":"https://api.github.com/users/sajeeval/events{/privacy}","received_events_url":"https://api.github.com/users/sajeeval/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-22T05:25:28Z","updated_at":"2017-08-22T05:25:42Z","author_association":"NONE","body":"Hi,\r\nHere is another incident where compaction fails to run. \r\n[compaction_error.txt.gz](https://github.com/apache/couchdb/files/1240876/compaction_error.txt.gz)\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/323922555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324033678","html_url":"https://github.com/apache/couchdb/pull/764#issuecomment-324033678","issue_url":"https://api.github.com/repos/apache/couchdb/issues/764","id":324033678,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDAzMzY3OA==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-22T13:54:54Z","updated_at":"2017-08-22T13:54:54Z","author_association":"MEMBER","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324033678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324050386","html_url":"https://github.com/apache/couchdb/pull/767#issuecomment-324050386","issue_url":"https://api.github.com/repos/apache/couchdb/issues/767","id":324050386,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDA1MDM4Ng==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-22T14:49:29Z","updated_at":"2017-08-22T14:49:29Z","author_association":"CONTRIBUTOR","body":"+1\r\n\r\n```\r\n... (pr/767) $ grep authentication_db tmp/etc/*\r\ntmp/etc/default_eunit.ini:; authentication_db = _users\r\ntmp/etc/default_eunit.ini:authentication_db = _users\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324050386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324053447","html_url":"https://github.com/apache/couchdb/issues/734#issuecomment-324053447","issue_url":"https://api.github.com/repos/apache/couchdb/issues/734","id":324053447,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDA1MzQ0Nw==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-22T14:58:53Z","updated_at":"2017-08-22T14:58:53Z","author_association":"MEMBER","body":"I'm not 100% sure, but this might be a side effect of calls for `_design/_auth` going through the cache (and crashing, because of missing `_users` db).\r\n\r\nAlso noted that `make clean` and `make eunit apps=ddoc_cache suites=ddoc_cache_lru_test` _always_ crashing with timeout, but second run passes.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324053447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324092561","html_url":"https://github.com/apache/couchdb/pull/761#issuecomment-324092561","issue_url":"https://api.github.com/repos/apache/couchdb/issues/761","id":324092561,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDA5MjU2MQ==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-22T17:13:49Z","updated_at":"2017-08-23T16:52:53Z","author_association":"CONTRIBUTOR","body":"+1 but see the comments about maybe renaming some things and the repeated `link_tree` in help function\r\n\r\n```\r\n﻿﻿couch_debug:print_linked_processes(couch_server).\r\nname                                              | reductions | message_queue_len |  memory\r\ncouch_server[<0.263.0>]                           |   49101    |         0         |  68528\r\n  couch_db_updater:init/1[<0.351.0>]              |   27196    |         0         |  68072\r\n    couch_server[<0.263.0>]                       |   49101    |         0         |  68528\r\n  couch_db_updater:init/1[<0.571.0>]              |   13942    |         0         |  42488\r\n    couch_server[<0.263.0>]                       |   49101    |         0         |  68528\r\n  couch_db_updater:init/1[<0.1578.0>]             |   13475    |         0         |  101632\r\n    couch_server[<0.263.0>]                       |   49101    |         0         |  68528\r\n  couch_db_updater:init/1[<0.414.0>]              |    5858    |         0         |  34584\r\n    couch_server[<0.263.0>]                       |   49101    |         0         |  68528\r\n  couch_db_updater:init/1[<0.307.0>]              |   11234    |         0         |  21936\r\n    couch_server[<0.263.0>]                       |   49101    |         0         |  68528\r\n  couch_db_updater:init/1[<0.337.0>]              |   17870    |         0         |  26680\r\n    couch_server[<0.263.0>]                       |   49101    |         0         |  68528\r\n  couch_primary_services[<0.260.0>]               |    214     |         0         |   5960\r\nok\r\n(node1@127.0.0.1)4> couch_debug:print_linked_processes(couch_index_server).\r\nname                                              | reductions | message_queue_len |    memory    |id\r\ncouch_index_server[<0.271.0>]                     |   16763    |         0         |    29736     |\r\n  couch_secondary_services[<0.266.0>]             |   24456    |         0         |    55656     |\r\n  couch_event_listener:do_init/3[<0.273.0>]       |    3131    |         0         |    26592     |\r\n    couch_index_server[<0.271.0>]                 |   16763    |         0         |    29736     |\r\nok\r\n```\r\n\r\n```\r\n======================== EUnit ========================\r\nmodule 'couch_debug'\r\n  link_tree tests\r\n    couch_debug:505: should_have_same_shape...ok\r\n    couch_debug:513: should_include_extra_info...ok\r\n    [done in 0.011 s]\r\n  [done in 0.011 s]\r\n=======================================================\r\n  2 tests passed.\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324092561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324175447","html_url":"https://github.com/apache/couchdb/pull/768#issuecomment-324175447","issue_url":"https://api.github.com/repos/apache/couchdb/issues/768","id":324175447,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDE3NTQ0Nw==","user":{"login":"tonysun83","id":6991573,"node_id":"MDQ6VXNlcjY5OTE1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6991573?v=4","gravatar_id":"","url":"https://api.github.com/users/tonysun83","html_url":"https://github.com/tonysun83","followers_url":"https://api.github.com/users/tonysun83/followers","following_url":"https://api.github.com/users/tonysun83/following{/other_user}","gists_url":"https://api.github.com/users/tonysun83/gists{/gist_id}","starred_url":"https://api.github.com/users/tonysun83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonysun83/subscriptions","organizations_url":"https://api.github.com/users/tonysun83/orgs","repos_url":"https://api.github.com/users/tonysun83/repos","events_url":"https://api.github.com/users/tonysun83/events{/privacy}","received_events_url":"https://api.github.com/users/tonysun83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-22T23:03:54Z","updated_at":"2017-08-22T23:03:54Z","author_association":"CONTRIBUTOR","body":"overall looks pretty good with some minor nitpicks. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324175447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324231594","html_url":"https://github.com/apache/couchdb/pull/597#issuecomment-324231594","issue_url":"https://api.github.com/repos/apache/couchdb/issues/597","id":324231594,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDIzMTU5NA==","user":{"login":"cdlwjing","id":13113330,"node_id":"MDQ6VXNlcjEzMTEzMzMw","avatar_url":"https://avatars.githubusercontent.com/u/13113330?v=4","gravatar_id":"","url":"https://api.github.com/users/cdlwjing","html_url":"https://github.com/cdlwjing","followers_url":"https://api.github.com/users/cdlwjing/followers","following_url":"https://api.github.com/users/cdlwjing/following{/other_user}","gists_url":"https://api.github.com/users/cdlwjing/gists{/gist_id}","starred_url":"https://api.github.com/users/cdlwjing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdlwjing/subscriptions","organizations_url":"https://api.github.com/users/cdlwjing/orgs","repos_url":"https://api.github.com/users/cdlwjing/repos","events_url":"https://api.github.com/users/cdlwjing/events{/privacy}","received_events_url":"https://api.github.com/users/cdlwjing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-23T06:13:05Z","updated_at":"2017-08-23T06:13:05Z","author_association":"NONE","body":"According to the discussion with @jiangphcn, I tried to run some test cases to compare the performance difference between two designs(the current design and the new design in this PR). From the test result, I can see there are some perf improvement with new design. There is a report with all test details under: ```https://github.com/cloudant/couchdb/blob/index-delete-new-design-testreport/test_report/index_delete_comparision_report.ipynb```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324231594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324337291","html_url":"https://github.com/apache/couchdb/issues/757#issuecomment-324337291","issue_url":"https://api.github.com/repos/apache/couchdb/issues/757","id":324337291,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDMzNzI5MQ==","user":{"login":"mayya-sharipova","id":5738841,"node_id":"MDQ6VXNlcjU3Mzg4NDE=","avatar_url":"https://avatars.githubusercontent.com/u/5738841?v=4","gravatar_id":"","url":"https://api.github.com/users/mayya-sharipova","html_url":"https://github.com/mayya-sharipova","followers_url":"https://api.github.com/users/mayya-sharipova/followers","following_url":"https://api.github.com/users/mayya-sharipova/following{/other_user}","gists_url":"https://api.github.com/users/mayya-sharipova/gists{/gist_id}","starred_url":"https://api.github.com/users/mayya-sharipova/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayya-sharipova/subscriptions","organizations_url":"https://api.github.com/users/mayya-sharipova/orgs","repos_url":"https://api.github.com/users/mayya-sharipova/repos","events_url":"https://api.github.com/users/mayya-sharipova/events{/privacy}","received_events_url":"https://api.github.com/users/mayya-sharipova/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-23T13:47:32Z","updated_at":"2017-08-23T13:47:32Z","author_association":"CONTRIBUTOR","body":"PR for this issue was +1ed, but one mango test fails in Travis. This test will be fixed separately by @tonysun83 ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324337291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324354698","html_url":"https://github.com/apache/couchdb/pull/771#issuecomment-324354698","issue_url":"https://api.github.com/repos/apache/couchdb/issues/771","id":324354698,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDM1NDY5OA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-23T14:35:50Z","updated_at":"2017-08-23T14:35:50Z","author_association":"CONTRIBUTOR","body":"+1 \r\n\r\n```\r\nmodule 'chttpd_db_doc_size_tests'\r\n  chttpd db max_document_size tests\r\nApplication crypto was left running!\r\n    chttpd_db_doc_size_tests:84: post_single_doc...ok\r\n    chttpd_db_doc_size_tests:92: put_single_doc...ok\r\n    chttpd_db_doc_size_tests:101: bulk_doc...ok\r\n    chttpd_db_doc_size_tests:127: put_post_doc_attach_inline...ok\r\n    chttpd_db_doc_size_tests:128: put_post_doc_attach_inline...ok\r\n    chttpd_db_doc_size_tests:129: put_post_doc_attach_inline...ok\r\n    chttpd_db_doc_size_tests:130: put_post_doc_attach_inline...ok\r\n    chttpd_db_doc_size_tests:152: put_multi_part_related...ok\r\n    chttpd_db_doc_size_tests:153: put_multi_part_related...ok\r\n    chttpd_db_doc_size_tests:177: post_multi_part_form...ok\r\n    chttpd_db_doc_size_tests:178: post_multi_part_form...ok\r\n[os_mon] cpu supervisor port (cpu_sup): Erlang has closed\r\n    [done in 1.354 s]\r\n  [done in 2.583 s]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324354698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324368309","html_url":"https://github.com/apache/couchdb/issues/770#issuecomment-324368309","issue_url":"https://api.github.com/repos/apache/couchdb/issues/770","id":324368309,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDM2ODMwOQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-23T15:14:44Z","updated_at":"2017-08-23T15:14:44Z","author_association":"MEMBER","body":"You deleted most of the form for the issue so what we need to know is missing:\r\n\r\n1. Version of CouchDB on your and your colleague's machine\r\n2. What browser & version on your machines\r\n3. Did you replicate using Fauxton or cURL?\r\n4. Can you take a screenshot or provide the exact command you ran?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324368309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324400584","html_url":"https://github.com/apache/couchdb/issues/772#issuecomment-324400584","issue_url":"https://api.github.com/repos/apache/couchdb/issues/772","id":324400584,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDQwMDU4NA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-23T17:07:41Z","updated_at":"2017-08-23T17:07:41Z","author_association":"CONTRIBUTOR","body":"@heikomat curious, have you tried compacting the _dbs db itself?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324400584/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324400728","html_url":"https://github.com/apache/couchdb/issues/772#issuecomment-324400728","issue_url":"https://api.github.com/repos/apache/couchdb/issues/772","id":324400728,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDQwMDcyOA==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-23T17:08:12Z","updated_at":"2017-08-23T17:08:20Z","author_association":"MEMBER","body":"try `curl localhost:5986/_dbs/_compact -XPOST -Hcontent-type:application/json`","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324400728/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324401262","html_url":"https://github.com/apache/couchdb/issues/772#issuecomment-324401262","issue_url":"https://api.github.com/repos/apache/couchdb/issues/772","id":324401262,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDQwMTI2Mg==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-23T17:10:08Z","updated_at":"2017-08-23T17:10:08Z","author_association":"MEMBER","body":"For explanation, the _dbs database is a meta-database. It records the locations of all the shards of your clustered databases, so it needs compacting separately. You can enable the compaction daemon to do this for you, and we enable it by default in the recent 2.1.0 release.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324401262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324402203","html_url":"https://github.com/apache/couchdb/issues/772#issuecomment-324402203","issue_url":"https://api.github.com/repos/apache/couchdb/issues/772","id":324402203,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDQwMjIwMw==","user":{"login":"heikomat","id":20770029,"node_id":"MDQ6VXNlcjIwNzcwMDI5","avatar_url":"https://avatars.githubusercontent.com/u/20770029?v=4","gravatar_id":"","url":"https://api.github.com/users/heikomat","html_url":"https://github.com/heikomat","followers_url":"https://api.github.com/users/heikomat/followers","following_url":"https://api.github.com/users/heikomat/following{/other_user}","gists_url":"https://api.github.com/users/heikomat/gists{/gist_id}","starred_url":"https://api.github.com/users/heikomat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heikomat/subscriptions","organizations_url":"https://api.github.com/users/heikomat/orgs","repos_url":"https://api.github.com/users/heikomat/repos","events_url":"https://api.github.com/users/heikomat/events{/privacy}","received_events_url":"https://api.github.com/users/heikomat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-23T17:13:40Z","updated_at":"2017-08-23T17:13:40Z","author_association":"NONE","body":"@nickva @rnewson yeah! this did it! compacting the `_dbs` database and then restarting the docker container cleared up all the space! :)\r\n\r\n@rnewson i appreciate the info. I tried googleing what exactly that file is, without success. Knowing that it is an actual couch-database, and what it does is useful information!\r\n\r\nwhat config do i need to set, to enable the comaction-daemon in CouchDB 2.0.0?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324402203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324402633","html_url":"https://github.com/apache/couchdb/issues/772#issuecomment-324402633","issue_url":"https://api.github.com/repos/apache/couchdb/issues/772","id":324402633,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDQwMjYzMw==","user":{"login":"heikomat","id":20770029,"node_id":"MDQ6VXNlcjIwNzcwMDI5","avatar_url":"https://avatars.githubusercontent.com/u/20770029?v=4","gravatar_id":"","url":"https://api.github.com/users/heikomat","html_url":"https://github.com/heikomat","followers_url":"https://api.github.com/users/heikomat/followers","following_url":"https://api.github.com/users/heikomat/following{/other_user}","gists_url":"https://api.github.com/users/heikomat/gists{/gist_id}","starred_url":"https://api.github.com/users/heikomat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heikomat/subscriptions","organizations_url":"https://api.github.com/users/heikomat/orgs","repos_url":"https://api.github.com/users/heikomat/repos","events_url":"https://api.github.com/users/heikomat/events{/privacy}","received_events_url":"https://api.github.com/users/heikomat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-23T17:15:21Z","updated_at":"2017-08-23T17:15:21Z","author_association":"NONE","body":"@nickva @rnewson one of you may now claim the points on stackoverflow by answering the question, as i will accept it","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324402633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324403019","html_url":"https://github.com/apache/couchdb/issues/772#issuecomment-324403019","issue_url":"https://api.github.com/repos/apache/couchdb/issues/772","id":324403019,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDQwMzAxOQ==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-23T17:16:55Z","updated_at":"2017-08-23T17:16:55Z","author_association":"MEMBER","body":"add this to the end of your local.ini file and restart couchdb.\r\n\r\n```\r\n[compactions]\r\n_default = [{db_fragmentation, \"70%\"}, {view_fragmentation, \"60%\"}]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324403019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324404764","html_url":"https://github.com/apache/couchdb/issues/772#issuecomment-324404764","issue_url":"https://api.github.com/repos/apache/couchdb/issues/772","id":324404764,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDQwNDc2NA==","user":{"login":"heikomat","id":20770029,"node_id":"MDQ6VXNlcjIwNzcwMDI5","avatar_url":"https://avatars.githubusercontent.com/u/20770029?v=4","gravatar_id":"","url":"https://api.github.com/users/heikomat","html_url":"https://github.com/heikomat","followers_url":"https://api.github.com/users/heikomat/followers","following_url":"https://api.github.com/users/heikomat/following{/other_user}","gists_url":"https://api.github.com/users/heikomat/gists{/gist_id}","starred_url":"https://api.github.com/users/heikomat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heikomat/subscriptions","organizations_url":"https://api.github.com/users/heikomat/orgs","repos_url":"https://api.github.com/users/heikomat/repos","events_url":"https://api.github.com/users/heikomat/events{/privacy}","received_events_url":"https://api.github.com/users/heikomat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-23T17:23:43Z","updated_at":"2017-08-23T17:24:31Z","author_association":"NONE","body":"@rnewson i wanted to ask what exactly this config does, but then i found it here: http://docs.couchdb.org/en/2.0.0/config/compaction.html#compaction-daemon-rules\r\n\r\njust leaving this here for future visitors of this issue","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324404764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324404871","html_url":"https://github.com/apache/couchdb/issues/772#issuecomment-324404871","issue_url":"https://api.github.com/repos/apache/couchdb/issues/772","id":324404871,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDQwNDg3MQ==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-23T17:24:07Z","updated_at":"2017-08-23T17:24:07Z","author_association":"MEMBER","body":"cool, good thought.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324404871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324444429","html_url":"https://github.com/apache/couchdb/issues/758#issuecomment-324444429","issue_url":"https://api.github.com/repos/apache/couchdb/issues/758","id":324444429,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDQ0NDQyOQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-23T19:54:27Z","updated_at":"2017-08-23T19:54:27Z","author_association":"MEMBER","body":"Have you ever hit 100% disk space utilization (0 free space) on the nodes hosting these databases? This could have lead to database corruption.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324444429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324444572","html_url":"https://github.com/apache/couchdb/issues/749#issuecomment-324444572","issue_url":"https://api.github.com/repos/apache/couchdb/issues/749","id":324444572,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDQ0NDU3Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-23T19:55:03Z","updated_at":"2017-08-23T19:55:03Z","author_association":"MEMBER","body":"So it looks like couch_peruser in 2.1.0 is broken. Sorry, everyone. We'll get this fixed in the next release of CouchDB.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324444572/reactions","total_count":6,"+1":6,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324444730","html_url":"https://github.com/apache/couchdb/pull/756#issuecomment-324444730","issue_url":"https://api.github.com/repos/apache/couchdb/issues/756","id":324444730,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDQ0NDczMA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-23T19:55:41Z","updated_at":"2017-08-23T19:55:41Z","author_association":"MEMBER","body":"@chewbranca are we going to keep this PR open until the tests can be fixed, or does couch_peruser need a complete rework?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324444730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324478525","html_url":"https://github.com/apache/couchdb/issues/749#issuecomment-324478525","issue_url":"https://api.github.com/repos/apache/couchdb/issues/749","id":324478525,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDQ3ODUyNQ==","user":{"login":"realulim","id":17084846,"node_id":"MDQ6VXNlcjE3MDg0ODQ2","avatar_url":"https://avatars.githubusercontent.com/u/17084846?v=4","gravatar_id":"","url":"https://api.github.com/users/realulim","html_url":"https://github.com/realulim","followers_url":"https://api.github.com/users/realulim/followers","following_url":"https://api.github.com/users/realulim/following{/other_user}","gists_url":"https://api.github.com/users/realulim/gists{/gist_id}","starred_url":"https://api.github.com/users/realulim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/realulim/subscriptions","organizations_url":"https://api.github.com/users/realulim/orgs","repos_url":"https://api.github.com/users/realulim/repos","events_url":"https://api.github.com/users/realulim/events{/privacy}","received_events_url":"https://api.github.com/users/realulim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-23T22:17:37Z","updated_at":"2017-08-23T22:17:37Z","author_association":"NONE","body":"Thank you very much, that would be terrific.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324478525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324525403","html_url":"https://github.com/apache/couchdb/issues/774#issuecomment-324525403","issue_url":"https://api.github.com/repos/apache/couchdb/issues/774","id":324525403,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDUyNTQwMw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-24T03:49:50Z","updated_at":"2017-08-24T03:50:00Z","author_association":"MEMBER","body":"See your `{error,emfile}` in there? This means your ulimit for file handles isn't high enough, and/or your system-limit for file handles isn't large enough, either.\r\n\r\nNot a CouchDB bug. Up your container's max file handle limit (`ulimit -n` as root before launching the process, not sure what's required in Docker) or the OS's limit (`sysctl fs.file-max`) and try again.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324525403/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324548289","html_url":"https://github.com/apache/couchdb/issues/749#issuecomment-324548289","issue_url":"https://api.github.com/repos/apache/couchdb/issues/749","id":324548289,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDU0ODI4OQ==","user":{"login":"sirhoe","id":8551741,"node_id":"MDQ6VXNlcjg1NTE3NDE=","avatar_url":"https://avatars.githubusercontent.com/u/8551741?v=4","gravatar_id":"","url":"https://api.github.com/users/sirhoe","html_url":"https://github.com/sirhoe","followers_url":"https://api.github.com/users/sirhoe/followers","following_url":"https://api.github.com/users/sirhoe/following{/other_user}","gists_url":"https://api.github.com/users/sirhoe/gists{/gist_id}","starred_url":"https://api.github.com/users/sirhoe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sirhoe/subscriptions","organizations_url":"https://api.github.com/users/sirhoe/orgs","repos_url":"https://api.github.com/users/sirhoe/repos","events_url":"https://api.github.com/users/sirhoe/events{/privacy}","received_events_url":"https://api.github.com/users/sirhoe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-24T06:44:39Z","updated_at":"2017-08-24T06:44:39Z","author_association":"NONE","body":"Thanks for the confirmation. We really look forward to have this feature working. Adding my 2bits to the bug","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324548289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324596601","html_url":"https://github.com/apache/couchdb/issues/770#issuecomment-324596601","issue_url":"https://api.github.com/repos/apache/couchdb/issues/770","id":324596601,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDU5NjYwMQ==","user":{"login":"linoy13","id":31275163,"node_id":"MDQ6VXNlcjMxMjc1MTYz","avatar_url":"https://avatars.githubusercontent.com/u/31275163?v=4","gravatar_id":"","url":"https://api.github.com/users/linoy13","html_url":"https://github.com/linoy13","followers_url":"https://api.github.com/users/linoy13/followers","following_url":"https://api.github.com/users/linoy13/following{/other_user}","gists_url":"https://api.github.com/users/linoy13/gists{/gist_id}","starred_url":"https://api.github.com/users/linoy13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linoy13/subscriptions","organizations_url":"https://api.github.com/users/linoy13/orgs","repos_url":"https://api.github.com/users/linoy13/repos","events_url":"https://api.github.com/users/linoy13/events{/privacy}","received_events_url":"https://api.github.com/users/linoy13/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-24T10:24:32Z","updated_at":"2017-08-24T10:24:32Z","author_association":"NONE","body":"1. Version of CouchDB- 2.1.0\r\n2. Chrome\r\n3.Fauxton\r\n\r\nThanks","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324596601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324609550","html_url":"https://github.com/apache/couchdb/issues/758#issuecomment-324609550","issue_url":"https://api.github.com/repos/apache/couchdb/issues/758","id":324609550,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDYwOTU1MA==","user":{"login":"sajeeval","id":29610949,"node_id":"MDQ6VXNlcjI5NjEwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/29610949?v=4","gravatar_id":"","url":"https://api.github.com/users/sajeeval","html_url":"https://github.com/sajeeval","followers_url":"https://api.github.com/users/sajeeval/followers","following_url":"https://api.github.com/users/sajeeval/following{/other_user}","gists_url":"https://api.github.com/users/sajeeval/gists{/gist_id}","starred_url":"https://api.github.com/users/sajeeval/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sajeeval/subscriptions","organizations_url":"https://api.github.com/users/sajeeval/orgs","repos_url":"https://api.github.com/users/sajeeval/repos","events_url":"https://api.github.com/users/sajeeval/events{/privacy}","received_events_url":"https://api.github.com/users/sajeeval/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-24T11:31:04Z","updated_at":"2017-08-24T11:31:04Z","author_association":"NONE","body":"Nope, we haven't hit 100% in the history. We have alerts in place which send notifications whenever it reaches 80%. \r\nThanks.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324609550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324680501","html_url":"https://github.com/apache/couchdb/issues/770#issuecomment-324680501","issue_url":"https://api.github.com/repos/apache/couchdb/issues/770","id":324680501,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDY4MDUwMQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-24T16:03:31Z","updated_at":"2017-08-24T16:03:31Z","author_association":"MEMBER","body":"> Can you take a screenshot of your creation of the replication in Fauxton?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324680501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324727120","html_url":"https://github.com/apache/couchdb/pull/761#issuecomment-324727120","issue_url":"https://api.github.com/repos/apache/couchdb/issues/761","id":324727120,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDcyNzEyMA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-24T19:02:15Z","updated_at":"2017-08-24T19:02:15Z","author_association":"CONTRIBUTOR","body":"Retested with the latest fix:\r\n\r\n```\r\n======================== EUnit ========================\r\nmodule 'couch_debug'\r\n  link_tree tests\r\n    couch_debug:538: should_have_same_shape...ok\r\n    couch_debug:546: should_include_extra_info...[0.001 s] ok\r\n    [done in 0.033 s]\r\n  [done in 0.033 s]\r\n=======================================================\r\n  2 tests passed.\r\n==> rel (eunit)\r\n```\r\n\r\n```\r\nnode1@127.0.0.1)73> couch_debug:print_linked_processes(couch_index_server).\r\nname                                              | reductions | message_queue_len |    memory    |id\r\ncouch_index_server[<0.247.0>]                     |   60565    |         0         |    35792     |\r\n  couch_index:init/1[<0.13193.0>]                 |    3668    |         0         |    10992     |\r\n    couch_file:init/1[<0.13208.0>]                |    3651    |         0         |    55320     |135:#Port<0.26073>:/.shards/60000000-7fffffff/db1.1503601112_design/mrview/404080efa13546e83b7bc66d6e043531.view\r\n      couch_index:init/1[<0.13193.0>]             |    3668    |         0         |    10992     |\r\n    couch_index_updater:init/1[<0.13232.0>]       |    1668    |         0         |    21648     |\r\n      couch_index:init/1[<0.13193.0>]             |    3668    |         0         |    10992     |\r\n    couch_index_compactor:init/1[<0.13235.0>]     |     18     |         0         |     2832     |\r\n```\r\n\r\n```\r\ncouch_debug:print_linked_processes(couch_server).\r\nname                                              | reductions | message_queue_len |  memory\r\ncouch_server[<0.239.0>]                           |   246865   |         0         |  167936\r\n  couch_db_updater:init/1[<0.2289.0>]             |    3894    |         0         |  34656\r\n    couch_server[<0.239.0>]                       |   246865   |         0         |  167936\r\n  couch_db_updater:init/1[<0.2851.0>]             |    3894    |         0         |  34656\r\n```\r\n\r\n```\r\n(node1@127.0.0.1)81> couch_debug:help(print_linked_processes).\r\n\r\n        - print_linked_processes(Pid)\r\n        - print_linked_processes(RegisteredName)\r\n        - print_linked_processes(couch_index_server)\r\n\r\n        ---------------------------\r\n\r\n        Print cluster of linked processes. This function receives the\r\n        initial Pid to start from. The function doesn't recurse to pids\r\n        older than initial one. The output would look like similar to:\r\n        ```\r\ncouch_debug:print_linked_processes(whereis(couch_index_server)).\r\nname                                         | reductions | message_queue_len |  memory\r\ncouch_index_server[<0.288.0>]                |   478240   |         0         |  109696\r\n  couch_index:init/1[<0.3520.22>]            |    4899    |         0         |  109456\r\n    couch_file:init/1[<0.886.22>]            |   11973    |         0         |  67984\r\n      couch_index:init/1[<0.3520.22>]        |    4899    |         0         |  109456\r\n        ```\r\n\r\n        ---\r\n    ok\r\n```\r\n+1 for new changes","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324727120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324809949","html_url":"https://github.com/apache/couchdb/issues/777#issuecomment-324809949","issue_url":"https://api.github.com/repos/apache/couchdb/issues/777","id":324809949,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDgwOTk0OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-25T02:48:02Z","updated_at":"2017-08-25T02:48:02Z","author_association":"MEMBER","body":"CouchDB always writes to the _last_ file in the config chain, which draws file in the following order:\r\n\r\n```\r\netc/default.ini\r\netc/default.d/* (processed in alphanumeric order)\r\netc/local.ini\r\netc/local.d/* (same)\r\n```\r\n\r\nWhat you are observing is the current behaviour, if you have an `etc/local.d/whatever.ini` file the encrypted password will be written there, not into `etc/local.ini`.\r\n\r\nImproving this functionality is useful, and something that's been on the verbal backlog for a while, but will require a near-complete rewrite of the current config system. (Read: this won't happen very soon, nor is it strictly speaking a bug.)\r\n\r\nI will retitle this issue and leave it open to track future work.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324809949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324869773","html_url":"https://github.com/apache/couchdb/issues/747#issuecomment-324869773","issue_url":"https://api.github.com/repos/apache/couchdb/issues/747","id":324869773,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDg2OTc3Mw==","user":{"login":"S-Aggarwal","id":24316351,"node_id":"MDQ6VXNlcjI0MzE2MzUx","avatar_url":"https://avatars.githubusercontent.com/u/24316351?v=4","gravatar_id":"","url":"https://api.github.com/users/S-Aggarwal","html_url":"https://github.com/S-Aggarwal","followers_url":"https://api.github.com/users/S-Aggarwal/followers","following_url":"https://api.github.com/users/S-Aggarwal/following{/other_user}","gists_url":"https://api.github.com/users/S-Aggarwal/gists{/gist_id}","starred_url":"https://api.github.com/users/S-Aggarwal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/S-Aggarwal/subscriptions","organizations_url":"https://api.github.com/users/S-Aggarwal/orgs","repos_url":"https://api.github.com/users/S-Aggarwal/repos","events_url":"https://api.github.com/users/S-Aggarwal/events{/privacy}","received_events_url":"https://api.github.com/users/S-Aggarwal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-25T09:32:17Z","updated_at":"2017-08-25T09:32:17Z","author_association":"NONE","body":"> Our test passes, so this looks like you're missing the correct information (and our documentation is probably out of date).\r\n\r\nBut according to [this](https://github.com/apache/couchdb/blob/master/test/javascript/tests/proxyauth.js#L60), it doesn't look like Proxy authentication is implemented yet.\r\n\r\nIs that the case or am I doing something wrong?\r\n\r\nMy config:\r\n```ini\r\n[httpd]\r\nauthentication_handlers = {chttpd_auth, proxy_authentication_handler}, {chttpd_auth, default_authentication_handler}\r\n\r\n[chttpd_auth]\r\nx_auth_username = X-Auth-CouchDB-UserName\r\nx_auth_roles = X-Auth-CouchDB-Roles\r\nx_auth_token = X-Auth-CouchDB-Token\r\nauthentication_db = _users\r\nproxy_use_secret = false\r\nsecret = secret\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/324869773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325035560","html_url":"https://github.com/apache/couchdb/pull/754#issuecomment-325035560","issue_url":"https://api.github.com/repos/apache/couchdb/issues/754","id":325035560,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTAzNTU2MA==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-25T21:12:44Z","updated_at":"2017-08-25T21:12:44Z","author_association":"MEMBER","body":"Closing in favor of #778 ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325035560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325155101","html_url":"https://github.com/apache/couchdb/issues/770#issuecomment-325155101","issue_url":"https://api.github.com/repos/apache/couchdb/issues/770","id":325155101,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTE1NTEwMQ==","user":{"login":"linoy13","id":31275163,"node_id":"MDQ6VXNlcjMxMjc1MTYz","avatar_url":"https://avatars.githubusercontent.com/u/31275163?v=4","gravatar_id":"","url":"https://api.github.com/users/linoy13","html_url":"https://github.com/linoy13","followers_url":"https://api.github.com/users/linoy13/followers","following_url":"https://api.github.com/users/linoy13/following{/other_user}","gists_url":"https://api.github.com/users/linoy13/gists{/gist_id}","starred_url":"https://api.github.com/users/linoy13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linoy13/subscriptions","organizations_url":"https://api.github.com/users/linoy13/orgs","repos_url":"https://api.github.com/users/linoy13/repos","events_url":"https://api.github.com/users/linoy13/events{/privacy}","received_events_url":"https://api.github.com/users/linoy13/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-26T18:48:25Z","updated_at":"2017-08-26T18:48:25Z","author_association":"NONE","body":"![replication screenshot](https://user-images.githubusercontent.com/31275163/29744181-443b2328-8aa8-11e7-8aa1-15a63e26b25d.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325155101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325191179","html_url":"https://github.com/apache/couchdb/issues/749#issuecomment-325191179","issue_url":"https://api.github.com/repos/apache/couchdb/issues/749","id":325191179,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTE5MTE3OQ==","user":{"login":"orolle","id":1541570,"node_id":"MDQ6VXNlcjE1NDE1NzA=","avatar_url":"https://avatars.githubusercontent.com/u/1541570?v=4","gravatar_id":"","url":"https://api.github.com/users/orolle","html_url":"https://github.com/orolle","followers_url":"https://api.github.com/users/orolle/followers","following_url":"https://api.github.com/users/orolle/following{/other_user}","gists_url":"https://api.github.com/users/orolle/gists{/gist_id}","starred_url":"https://api.github.com/users/orolle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orolle/subscriptions","organizations_url":"https://api.github.com/users/orolle/orgs","repos_url":"https://api.github.com/users/orolle/repos","events_url":"https://api.github.com/users/orolle/events{/privacy}","received_events_url":"https://api.github.com/users/orolle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-27T10:54:58Z","updated_at":"2017-08-27T10:54:58Z","author_association":"NONE","body":"Thanks for the confirmation.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325191179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325277919","html_url":"https://github.com/apache/couchdb/issues/747#issuecomment-325277919","issue_url":"https://api.github.com/repos/apache/couchdb/issues/747","id":325277919,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTI3NzkxOQ==","user":{"login":"gbiellem","id":2351700,"node_id":"MDQ6VXNlcjIzNTE3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/2351700?v=4","gravatar_id":"","url":"https://api.github.com/users/gbiellem","html_url":"https://github.com/gbiellem","followers_url":"https://api.github.com/users/gbiellem/followers","following_url":"https://api.github.com/users/gbiellem/following{/other_user}","gists_url":"https://api.github.com/users/gbiellem/gists{/gist_id}","starred_url":"https://api.github.com/users/gbiellem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gbiellem/subscriptions","organizations_url":"https://api.github.com/users/gbiellem/orgs","repos_url":"https://api.github.com/users/gbiellem/repos","events_url":"https://api.github.com/users/gbiellem/events{/privacy}","received_events_url":"https://api.github.com/users/gbiellem/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-28T07:12:44Z","updated_at":"2017-08-28T12:46:15Z","author_association":"NONE","body":"I had the same issue and then  I moved  `authentication_handlers` from `[httpd]` into `[chttpd]` and now proxy auth works for me.  Perhaps the doco is wrong ( or it's a bug and it's looking in the wrong section )\r\n\r\nI have a copy of my config in a gist [here](https://gist.github.com/gbiellem/3d5616b56e6c4d1327352c4ebbf5ccde#file-local-ini) ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325277919/reactions","total_count":4,"+1":3,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325313770","html_url":"https://github.com/apache/couchdb/issues/770#issuecomment-325313770","issue_url":"https://api.github.com/repos/apache/couchdb/issues/770","id":325313770,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTMxMzc3MA==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-28T10:03:24Z","updated_at":"2017-08-28T10:03:24Z","author_association":"MEMBER","body":"Once you click start replication then click back on the replication link. You should have a list of replications. Does any errors appear? You should be able to click on the error to give you more details on what is happening.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325313770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325335826","html_url":"https://github.com/apache/couchdb/issues/770#issuecomment-325335826","issue_url":"https://api.github.com/repos/apache/couchdb/issues/770","id":325335826,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTMzNTgyNg==","user":{"login":"linoy13","id":31275163,"node_id":"MDQ6VXNlcjMxMjc1MTYz","avatar_url":"https://avatars.githubusercontent.com/u/31275163?v=4","gravatar_id":"","url":"https://api.github.com/users/linoy13","html_url":"https://github.com/linoy13","followers_url":"https://api.github.com/users/linoy13/followers","following_url":"https://api.github.com/users/linoy13/following{/other_user}","gists_url":"https://api.github.com/users/linoy13/gists{/gist_id}","starred_url":"https://api.github.com/users/linoy13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linoy13/subscriptions","organizations_url":"https://api.github.com/users/linoy13/orgs","repos_url":"https://api.github.com/users/linoy13/repos","events_url":"https://api.github.com/users/linoy13/events{/privacy}","received_events_url":"https://api.github.com/users/linoy13/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-28T12:08:06Z","updated_at":"2017-08-28T12:08:06Z","author_association":"NONE","body":"![1](https://user-images.githubusercontent.com/31275163/29772716-a627a682-8c02-11e7-9da5-23b54f10267e.PNG)\r\n![2](https://user-images.githubusercontent.com/31275163/29772727-b04fb744-8c02-11e7-9657-1dacf4bdbb33.PNG)\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325335826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325384922","html_url":"https://github.com/apache/couchdb/issues/770#issuecomment-325384922","issue_url":"https://api.github.com/repos/apache/couchdb/issues/770","id":325384922,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTM4NDkyMg==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-28T15:22:17Z","updated_at":"2017-08-28T15:22:17Z","author_association":"MEMBER","body":"Is the port correct on the target? It is using port 80?\n\nOn 28 Aug 2017, 2:08 PM +0200, linoy13 <notifications@github.com>, wrote:\n>\n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub, or mute the thread.\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325384922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325387823","html_url":"https://github.com/apache/couchdb/issues/770#issuecomment-325387823","issue_url":"https://api.github.com/repos/apache/couchdb/issues/770","id":325387823,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTM4NzgyMw==","user":{"login":"linoy13","id":31275163,"node_id":"MDQ6VXNlcjMxMjc1MTYz","avatar_url":"https://avatars.githubusercontent.com/u/31275163?v=4","gravatar_id":"","url":"https://api.github.com/users/linoy13","html_url":"https://github.com/linoy13","followers_url":"https://api.github.com/users/linoy13/followers","following_url":"https://api.github.com/users/linoy13/following{/other_user}","gists_url":"https://api.github.com/users/linoy13/gists{/gist_id}","starred_url":"https://api.github.com/users/linoy13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linoy13/subscriptions","organizations_url":"https://api.github.com/users/linoy13/orgs","repos_url":"https://api.github.com/users/linoy13/repos","events_url":"https://api.github.com/users/linoy13/events{/privacy}","received_events_url":"https://api.github.com/users/linoy13/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-28T15:32:21Z","updated_at":"2017-08-28T15:32:21Z","author_association":"NONE","body":"the port we using is 5984.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325387823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325388194","html_url":"https://github.com/apache/couchdb/issues/770#issuecomment-325388194","issue_url":"https://api.github.com/repos/apache/couchdb/issues/770","id":325388194,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTM4ODE5NA==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-28T15:33:35Z","updated_at":"2017-08-28T15:33:35Z","author_association":"MEMBER","body":"Ok, you need to specify it in the replication. So the remote url needs to be:\n\nhttp://USERNAME:PASSWORD@ip-address:5984/DB_NAME\n\nOn 28 Aug 2017, 5:32 PM +0200, linoy13 <notifications@github.com>, wrote:\n> the port we using is 5984.\n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub, or mute the thread.\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325388194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325389525","html_url":"https://github.com/apache/couchdb/issues/770#issuecomment-325389525","issue_url":"https://api.github.com/repos/apache/couchdb/issues/770","id":325389525,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTM4OTUyNQ==","user":{"login":"linoy13","id":31275163,"node_id":"MDQ6VXNlcjMxMjc1MTYz","avatar_url":"https://avatars.githubusercontent.com/u/31275163?v=4","gravatar_id":"","url":"https://api.github.com/users/linoy13","html_url":"https://github.com/linoy13","followers_url":"https://api.github.com/users/linoy13/followers","following_url":"https://api.github.com/users/linoy13/following{/other_user}","gists_url":"https://api.github.com/users/linoy13/gists{/gist_id}","starred_url":"https://api.github.com/users/linoy13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linoy13/subscriptions","organizations_url":"https://api.github.com/users/linoy13/orgs","repos_url":"https://api.github.com/users/linoy13/repos","events_url":"https://api.github.com/users/linoy13/events{/privacy}","received_events_url":"https://api.github.com/users/linoy13/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-28T15:38:11Z","updated_at":"2017-08-28T15:38:11Z","author_association":"NONE","body":"I tried it\r\nstill not working.\r\n![default](https://user-images.githubusercontent.com/31275163/29780873-0842cb40-8c20-11e7-8825-40036e4b3c05.PNG)\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325389525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325390145","html_url":"https://github.com/apache/couchdb/issues/770#issuecomment-325390145","issue_url":"https://api.github.com/repos/apache/couchdb/issues/770","id":325390145,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTM5MDE0NQ==","user":{"login":"linoy13","id":31275163,"node_id":"MDQ6VXNlcjMxMjc1MTYz","avatar_url":"https://avatars.githubusercontent.com/u/31275163?v=4","gravatar_id":"","url":"https://api.github.com/users/linoy13","html_url":"https://github.com/linoy13","followers_url":"https://api.github.com/users/linoy13/followers","following_url":"https://api.github.com/users/linoy13/following{/other_user}","gists_url":"https://api.github.com/users/linoy13/gists{/gist_id}","starred_url":"https://api.github.com/users/linoy13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linoy13/subscriptions","organizations_url":"https://api.github.com/users/linoy13/orgs","repos_url":"https://api.github.com/users/linoy13/repos","events_url":"https://api.github.com/users/linoy13/events{/privacy}","received_events_url":"https://api.github.com/users/linoy13/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-28T15:40:19Z","updated_at":"2017-08-28T15:40:19Z","author_association":"NONE","body":"I am on 192.168.1.10\r\nAnd my colleague on 192.168.1.18\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325390145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325553164","html_url":"https://github.com/apache/couchdb/issues/779#issuecomment-325553164","issue_url":"https://api.github.com/repos/apache/couchdb/issues/779","id":325553164,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTU1MzE2NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-29T04:39:21Z","updated_at":"2017-08-29T04:39:21Z","author_association":"MEMBER","body":"I believe this endpoing moved to the `/_node/<nodename>/_log` endpoint. Your nodename will depend on the `-name` setting in your `vm.args` file.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325553164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325601105","html_url":"https://github.com/apache/couchdb/issues/779#issuecomment-325601105","issue_url":"https://api.github.com/repos/apache/couchdb/issues/779","id":325601105,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTYwMTEwNQ==","user":{"login":"olivenvrac","id":31409996,"node_id":"MDQ6VXNlcjMxNDA5OTk2","avatar_url":"https://avatars.githubusercontent.com/u/31409996?v=4","gravatar_id":"","url":"https://api.github.com/users/olivenvrac","html_url":"https://github.com/olivenvrac","followers_url":"https://api.github.com/users/olivenvrac/followers","following_url":"https://api.github.com/users/olivenvrac/following{/other_user}","gists_url":"https://api.github.com/users/olivenvrac/gists{/gist_id}","starred_url":"https://api.github.com/users/olivenvrac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olivenvrac/subscriptions","organizations_url":"https://api.github.com/users/olivenvrac/orgs","repos_url":"https://api.github.com/users/olivenvrac/repos","events_url":"https://api.github.com/users/olivenvrac/events{/privacy}","received_events_url":"https://api.github.com/users/olivenvrac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-29T08:59:54Z","updated_at":"2017-08-29T08:59:54Z","author_association":"NONE","body":"Thank's for the reply wohali.\r\nI thought the same thing, but it doesn't work either with this path : \r\nhttp://user:mdp@serveur:port/_node/<nodename>/_log\r\ni got the nodename in the vm.args or the url http://user:mdp@serveur:port/_membership wich is the same thing.\r\nI don't understand why it doesn't work\r\ni verify the configuration to and restart CouchDB : \r\nsection [httpd_global_handlers] i'v got the option _log and the associate  value {couch_httpd_misc_handlers, handle_log_req}\r\nIt's sure that the documentation is not right or not sufficiently explicit.\r\nan other idea ?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325601105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325605290","html_url":"https://github.com/apache/couchdb/issues/779#issuecomment-325605290","issue_url":"https://api.github.com/repos/apache/couchdb/issues/779","id":325605290,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTYwNTI5MA==","user":{"login":"olivenvrac","id":31409996,"node_id":"MDQ6VXNlcjMxNDA5OTk2","avatar_url":"https://avatars.githubusercontent.com/u/31409996?v=4","gravatar_id":"","url":"https://api.github.com/users/olivenvrac","html_url":"https://github.com/olivenvrac","followers_url":"https://api.github.com/users/olivenvrac/followers","following_url":"https://api.github.com/users/olivenvrac/following{/other_user}","gists_url":"https://api.github.com/users/olivenvrac/gists{/gist_id}","starred_url":"https://api.github.com/users/olivenvrac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olivenvrac/subscriptions","organizations_url":"https://api.github.com/users/olivenvrac/orgs","repos_url":"https://api.github.com/users/olivenvrac/repos","events_url":"https://api.github.com/users/olivenvrac/events{/privacy}","received_events_url":"https://api.github.com/users/olivenvrac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-29T09:16:21Z","updated_at":"2017-08-29T09:16:21Z","author_association":"NONE","body":"I just checked  the documentation of the next version of Couchdb (2.1).\r\nthis httpd_global_handlers parameter does not exist anymore.\r\nis this a discontinued option ?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325605290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325612382","html_url":"https://github.com/apache/couchdb/issues/779#issuecomment-325612382","issue_url":"https://api.github.com/repos/apache/couchdb/issues/779","id":325612382,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTYxMjM4Mg==","user":{"login":"olivenvrac","id":31409996,"node_id":"MDQ6VXNlcjMxNDA5OTk2","avatar_url":"https://avatars.githubusercontent.com/u/31409996?v=4","gravatar_id":"","url":"https://api.github.com/users/olivenvrac","html_url":"https://github.com/olivenvrac","followers_url":"https://api.github.com/users/olivenvrac/followers","following_url":"https://api.github.com/users/olivenvrac/following{/other_user}","gists_url":"https://api.github.com/users/olivenvrac/gists{/gist_id}","starred_url":"https://api.github.com/users/olivenvrac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olivenvrac/subscriptions","organizations_url":"https://api.github.com/users/olivenvrac/orgs","repos_url":"https://api.github.com/users/olivenvrac/repos","events_url":"https://api.github.com/users/olivenvrac/events{/privacy}","received_events_url":"https://api.github.com/users/olivenvrac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-29T09:43:57Z","updated_at":"2017-08-29T09:43:57Z","author_association":"NONE","body":"précision : my request is correctly made with a admin user","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325612382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325693023","html_url":"https://github.com/apache/couchdb/issues/780#issuecomment-325693023","issue_url":"https://api.github.com/repos/apache/couchdb/issues/780","id":325693023,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNTY5MzAyMw==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-08-29T15:03:17Z","updated_at":"2017-08-29T15:03:17Z","author_association":"MEMBER","body":"@orolle I can't reproduce this locally on master. I tested your filter with `\"$gte\": 1000` and the document is not returned. Changing it to `\"$lte\": 1000`, the document is returned. Also note that the document above isn't valid JSON (duplicate invoices.field1).\r\n\r\nCan you post a full reproduction including `curl` commands to create/insert the document?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/325693023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]