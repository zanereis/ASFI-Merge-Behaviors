[{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2350096060","html_url":"https://github.com/apache/couchdb/pull/5243#issuecomment-2350096060","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5243","id":2350096060,"node_id":"IC_kwDOAAMmUc6ME568","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-13T20:22:13Z","updated_at":"2024-09-13T21:43:43Z","author_association":"CONTRIBUTOR","body":"```\r\n(couchdb@127.0.0.1)1> f(), P = couch_query_servers:get_os_process(\"javascript\").\r\n      {proc,<0.784.0>,<<\"javascript\">>,\r\n      #Ref<0.755959798.3700686850.66246>,undefined,#{},\r\n      {couch_os_process,prompt},\r\n      {couch_os_process,set_timeout},\r\n      {couch_os_process,stop},\r\n      -576460716757433944,-576460716757433604}\r\n(couchdb@127.0.0.1)2>  couch_query_servers:proc_prompt(P, [<<\"add_fun\">>, <<\"function(){}\">>]). \r\ntrue\r\n(couchdb@127.0.0.1)3> \r\n```\r\n\r\nMake sure a couchjs is running.\r\n\r\nBrutally killing the pid should also kill the couchjs process\r\n```\r\n(couchdb@127.0.0.1)3> exit(<0.784.0>, kill).   \r\n(couchdb@127.0.0.1)4> \r\n```\r\n\r\nNow it shouldn't be running","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2350096060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2350368713","html_url":"https://github.com/apache/couchdb/pull/5243#issuecomment-2350368713","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5243","id":2350368713,"node_id":"IC_kwDOAAMmUc6MF8fJ","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-13T21:48:36Z","updated_at":"2024-09-13T21:48:36Z","author_association":"CONTRIBUTOR","body":"On Windows 10 (in powershell)\r\n\r\n```\r\n .\\dev\\run --admin=adm:pass -n3\r\n```\r\n\r\nGet the cookie:\r\n\r\n```\r\n> cat ~\\.erlang.cookie\r\n$...cookie...\r\n```\r\n\r\n```\r\n> werl -hidden -name n@127.0.0.1 -remsh node1@127.0.0.1 -c $...cookie...\r\n```\r\n\r\n```\r\nErlang/OTP 25 [erts-13.2.2.9] [source] [64-bit] [smp:8:8] [ds:8:8:10] [async-threads:1] [jit:ns]\r\n\r\nEshell V13.2.2.9  (abort with ^G)\r\n(node1@127.0.0.1)1>  f(), P = couch_query_servers:get_os_process(\"javascript\").\r\n{proc,<0.5106.0>,<<\"javascript\">>,\r\n      #Ref<0.583164505.2910060547.127323>,undefined,#{},\r\n      {couch_os_process,prompt},\r\n      {couch_os_process,set_timeout},\r\n      {couch_os_process,stop},\r\n      -5764604785904640,-5764604785904640}\r\n(node1@127.0.0.1)2>  couch_query_servers:proc_prompt(P, [<<\"add_fun\">>, <<\"function(){}\">>]). \r\ntrue\r\n(node1@127.0.0.1)3>\r\n```\r\n\r\nEnsure a couchjs task is running\r\n```\r\n> ps -f *couch*\r\n\r\nProductVersion   FileVersion      FileName\r\n--------------   -----------      --------\r\n                                  C:\\Users\\vatam\\asf\\src\\couch\\priv\\couchjs.exe\r\n```\r\n\r\nKill the Erlang PID and that should kill the couchjs process\r\n\r\n```\r\n(node1@127.0.0.1)3> exit(<0.5106.0>, kill).   \r\ntrue\r\n(node1@127.0.0.1)4>   \r\n```\r\n\r\n```\r\n]> ps -f *couch*\r\n> \r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2350368713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2350910090","html_url":"https://github.com/apache/couchdb/pull/5243#issuecomment-2350910090","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5243","id":2350910090,"node_id":"IC_kwDOAAMmUc6MIAqK","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-14T08:21:39Z","updated_at":"2024-09-14T08:21:39Z","author_association":"CONTRIBUTOR","body":"I'm starting with\r\n```\r\n.\\dev\\run --admin=adm:pass -n3\r\n```\r\nand remsh into node1:\r\n```\r\nwerl -hidden -name n@127.0.0.1 -remsh node1@127.0.0.1 -c $ERLCOOKIE\r\n```\r\nend running your command:\r\n```\r\nErlang/OTP 25 [erts-13.2.2.10] [source] [64-bit] [smp:8:8] [ds:8:8:10] [async-threads:1] [jit:ns]\r\n\r\nEshell V13.2.2.10  (abort with ^G)\r\n(node1@127.0.0.1)1> f(), P = couch_query_servers:get_os_process(\"javascript\").\r\n{proc,<0.2718.0>,<<\"javascript\">>,\r\n      #Ref<0.1761014874.3545235457.188270>,undefined,#{},\r\n      {couch_os_process,prompt},\r\n      {couch_os_process,set_timeout},\r\n      {couch_os_process,stop},\r\n      -5764606319328256,-5764606319328256}\r\n(node1@127.0.0.1)2> couch_query_servers:proc_prompt(P, [<<\"add_fun\">>, <<\"function(){}\">>]).\r\ntrue\r\n(node1@127.0.0.1)3> \r\n```\r\nand get the following `couchjs` processes:\r\n```\r\nps -f *couch*\r\n\r\nProductVersion   FileVersion      FileName\r\n--------------   -----------      --------\r\n                                  C:\\Users\\couchdb\\Documents\\couchdb-otp25\\src\\couch\\priv\\couchjs.exe\r\n```\r\nkilling\r\n```\r\n(node1@127.0.0.1)3> exit(<0.2718.0>, kill).                                                 \r\ntrue\r\n(node1@127.0.0.1)4>\r\n```\r\nand the process is gone!\r\n\r\nWhat I then accidentally tested, was a \"Verify\" in Fauxton.\r\n![grafik](https://github.com/user-attachments/assets/f9f90d58-3b90-4e54-a7d1-225cf9ae08d8)\r\nThe error is not the problem, because the start script `dev/run` always sets a bind address to `0.0.0.0` during the cluster setup (we should make a separate PR for Windows to use `127.0.0.1`).\r\n\r\nThen I got those `couchjs` processes:\r\n```\r\nps -f *couch*\r\n\r\nProductVersion   FileVersion      FileName\r\n--------------   -----------      --------\r\n                                  C:\\Users\\couchdb\\Documents\\couchdb-otp25\\src\\couch\\priv\\couchjs.exe\r\n                                  C:\\Users\\couchdb\\Documents\\couchdb-otp25\\src\\couch\\priv\\couchjs.exe\r\n                                  C:\\Users\\couchdb\\Documents\\couchdb-otp25\\src\\couch\\priv\\couchjs.exe\r\n                                  C:\\Users\\couchdb\\Documents\\couchdb-otp25\\src\\couch\\priv\\couchjs.exe\r\n                                  C:\\Users\\couchdb\\Documents\\couchdb-otp25\\src\\couch\\priv\\couchjs.exe\r\n                                  C:\\Users\\couchdb\\Documents\\couchdb-otp25\\src\\couch\\priv\\couchjs.exe\r\n```\r\nIs this a problem, or are they reused when needed?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2350910090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2350927223","html_url":"https://github.com/apache/couchdb/pull/5243#issuecomment-2350927223","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5243","id":2350927223,"node_id":"IC_kwDOAAMmUc6MIE13","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-14T09:21:12Z","updated_at":"2024-09-14T09:21:12Z","author_association":"CONTRIBUTOR","body":"@big-r81 thanks for giving it a try. It looks as expected.\r\n\r\nWe keep a pool of couchjs processes around to reuse later.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2350927223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2350965655","html_url":"https://github.com/apache/couchdb/pull/5242#issuecomment-2350965655","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5242","id":2350965655,"node_id":"IC_kwDOAAMmUc6MIOOX","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-14T11:59:01Z","updated_at":"2024-09-14T12:01:11Z","author_association":"CONTRIBUTOR","body":"@JKDingwall thank you for your PR. It looks \r\n\r\nTo check it locally, `cd src/docs` and run `./setup/.sh`. That should setup a python venv with all dependencies. \r\n\r\nThen run `make check` to check for basic formatting issues (line lengths, empty lines), then run `make html` to build the html docs.\r\n\r\nTo view them locally ` open build/html/index.html` that opens the browser (on macos at least) to the built docs page.\r\n\r\nYour PR's result looks like this:\r\n\r\n![scr](https://github.com/user-attachments/assets/379d2964-fcc2-4bf8-a414-4ea6d515ca6c)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2350965655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2350975471","html_url":"https://github.com/apache/couchdb/pull/5242#issuecomment-2350975471","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5242","id":2350975471,"node_id":"IC_kwDOAAMmUc6MIQnv","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-14T12:34:04Z","updated_at":"2024-09-14T12:34:04Z","author_association":"CONTRIBUTOR","body":"The PR merged. Thank you for your contribution, @JKDingwall ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2350975471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2350986682","html_url":"https://github.com/apache/couchdb/pull/5244#issuecomment-2350986682","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5244","id":2350986682,"node_id":"IC_kwDOAAMmUc6MITW6","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-14T13:11:38Z","updated_at":"2024-09-14T13:11:38Z","author_association":"CONTRIBUTOR","body":"I had forgotten to update the tests. Now I fixed them to use open_port command just like couch_os_proc does, so the test is close to the code we ship. Also, instead of the tests looking through the output I look at the exit code.\r\n\r\nhttps://github.com/apache/couchdb/blob/902d973c3fc9d6c4ab1c3eb5743d517bfbfbb1a7/src/couch/src/couch_os_process.erl#L137","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2350986682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2352906388","html_url":"https://github.com/apache/couchdb/pull/5220#issuecomment-2352906388","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5220","id":2352906388,"node_id":"IC_kwDOAAMmUc6MPoCU","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-16T13:21:50Z","updated_at":"2024-09-16T13:21:50Z","author_association":"CONTRIBUTOR","body":"I am closing this PR for now.  The revisited approach shall be a different PR.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2352906388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2354961983","html_url":"https://github.com/apache/couchdb/issues/5246#issuecomment-2354961983","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5246","id":2354961983,"node_id":"IC_kwDOAAMmUc6MXd4_","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-17T09:05:41Z","updated_at":"2024-09-17T09:05:41Z","author_association":"CONTRIBUTOR","body":"While looking at that test in the couch_debug module. There is likely another issue with it, where it doesn't cleanup properly its process tree:\r\n\r\nhttps://github.com/apache/couchdb/blob/5d4f3a323dfc1127d50741eda565184a2e5d57c6/src/couch/src/couch_debug.erl#L1150\r\n\r\n`exit(Pid, normal)` is a no-op effectively, so that leaves a bunch of processes around","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2354961983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2356222279","html_url":"https://github.com/apache/couchdb/pull/5250#issuecomment-2356222279","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5250","id":2356222279,"node_id":"IC_kwDOAAMmUc6McRlH","user":{"login":"jaydoane","id":51209,"node_id":"MDQ6VXNlcjUxMjA5","avatar_url":"https://avatars.githubusercontent.com/u/51209?v=4","gravatar_id":"","url":"https://api.github.com/users/jaydoane","html_url":"https://github.com/jaydoane","followers_url":"https://api.github.com/users/jaydoane/followers","following_url":"https://api.github.com/users/jaydoane/following{/other_user}","gists_url":"https://api.github.com/users/jaydoane/gists{/gist_id}","starred_url":"https://api.github.com/users/jaydoane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaydoane/subscriptions","organizations_url":"https://api.github.com/users/jaydoane/orgs","repos_url":"https://api.github.com/users/jaydoane/repos","events_url":"https://api.github.com/users/jaydoane/events{/privacy}","received_events_url":"https://api.github.com/users/jaydoane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-17T15:21:37Z","updated_at":"2024-09-17T15:21:37Z","author_association":"CONTRIBUTOR","body":"Thanks for figuring out why this was failing and how to properly fix it Nick!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2356222279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2356293720","html_url":"https://github.com/apache/couchdb/pull/5250#issuecomment-2356293720","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5250","id":2356293720,"node_id":"IC_kwDOAAMmUc6McjBY","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-17T15:42:54Z","updated_at":"2024-09-17T15:42:54Z","author_association":"CONTRIBUTOR","body":"@jaydoane no problem at all. It was a tricky one as it was failing with dist tarball on my docker instance. I remember we tried to use the full CI build to validate this case and it passed there. But I think in the CI jenkins instance we have a mounted shared mix archive cache so it was finding the hex package but on my docker it couldn't.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2356293720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2358627535","html_url":"https://github.com/apache/couchdb/issues/4586#issuecomment-2358627535","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4586","id":2358627535,"node_id":"IC_kwDOAAMmUc6MlczP","user":{"login":"Horkyze","id":1040383,"node_id":"MDQ6VXNlcjEwNDAzODM=","avatar_url":"https://avatars.githubusercontent.com/u/1040383?v=4","gravatar_id":"","url":"https://api.github.com/users/Horkyze","html_url":"https://github.com/Horkyze","followers_url":"https://api.github.com/users/Horkyze/followers","following_url":"https://api.github.com/users/Horkyze/following{/other_user}","gists_url":"https://api.github.com/users/Horkyze/gists{/gist_id}","starred_url":"https://api.github.com/users/Horkyze/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Horkyze/subscriptions","organizations_url":"https://api.github.com/users/Horkyze/orgs","repos_url":"https://api.github.com/users/Horkyze/repos","events_url":"https://api.github.com/users/Horkyze/events{/privacy}","received_events_url":"https://api.github.com/users/Horkyze/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-18T14:26:06Z","updated_at":"2024-09-18T14:26:06Z","author_association":"NONE","body":"Im having similar issues, running Hyperledger Fabric inside k8s on `Fedora release 35 (Thirty Five)`.\r\nMemory sky rockets to multiple GBs, then gets OOM killed.\r\nZero traffic is send to service. \r\n\r\nAlso tried `latest` docker tag and `3.3.3`","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2358627535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2369135615","html_url":"https://github.com/apache/couchdb/issues/4398#issuecomment-2369135615","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4398","id":2369135615,"node_id":"IC_kwDOAAMmUc6NNiP_","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-23T19:06:14Z","updated_at":"2024-09-23T19:06:14Z","author_association":"CONTRIBUTOR","body":"Adding a failing test:\r\n\r\n```\r\nUsersDbSecurityTest [test/elixir/test/users_db_security_test.exs]\r\n  * test user db security [L#260]\r\n  * test user db security (3419.2ms) [L#260]\r\n\r\n  1) test user db security (UsersDbSecurityTest)\r\n     test/elixir/test/users_db_security_test.exs:260\r\n     Assertion with == failed\r\n     code:  assert doc[\"iterations\"] == 4\r\n     left:  3\r\n     right: 4\r\n     stacktrace:\r\n       (couchdbtest 0.1.0) test/elixir/lib/couch/dbtest.ex:444: Couch.DBTest.retry_until/5\r\n       test/elixir/test/users_db_security_test.exs:398: (test)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2369135615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2369136947","html_url":"https://github.com/apache/couchdb/issues/4398#issuecomment-2369136947","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4398","id":2369136947,"node_id":"IC_kwDOAAMmUc6NNikz","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-23T19:06:53Z","updated_at":"2024-09-23T19:06:53Z","author_association":"CONTRIBUTOR","body":"Linking a PR thread: https://github.com/apache/couchdb/pull/4406","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2369136947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2369258672","html_url":"https://github.com/apache/couchdb/issues/4398#issuecomment-2369258672","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4398","id":2369258672,"node_id":"IC_kwDOAAMmUc6NOASw","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-23T20:02:19Z","updated_at":"2024-09-23T20:02:19Z","author_association":"CONTRIBUTOR","body":"These ones have been plaguing us for years. I was looking at the wireshark capture of some of them and still couldn't quite figure out what was going on.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2369258672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2369362240","html_url":"https://github.com/apache/couchdb/issues/4398#issuecomment-2369362240","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4398","id":2369362240,"node_id":"IC_kwDOAAMmUc6NOZlA","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-23T20:53:40Z","updated_at":"2024-09-23T20:53:40Z","author_association":"CONTRIBUTOR","body":"Moved from #4406:\r\n\r\n```\r\nmodule 'smoosh_persist'\r\n  smoosh_persist:151: persist_unpersist_test_ (t_write_read_delete)...[0.015 s] ok\r\n  smoosh_persist:152: persist_unpersist_test_ (t_fail_write_read_delete)...[0.001 s] ok\r\n  smoosh_persist:153: persist_unpersist_test_ (t_corrupted_read)...[0.031 s] ok\r\n  smoosh_persist:154: persist_unpersist_test_ (t_check_setup)...*failed*\r\nin function smoosh_persist:t_check_setup/1 (src/smoosh_persist.erl, line 210)\r\nin call from eunit_test:run_testfun/1 (eunit_test.erl, line 71)\r\nin call from eunit_proc:run_test/1 (eunit_proc.erl, line 531)\r\nin call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 356)\r\nin call from eunit_proc:handle_test/2 (eunit_proc.erl, line 514)\r\nin call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 456)\r\nin call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 346)\r\nin call from eunit_proc:run_group/2 (eunit_proc.erl, line 570)\r\n**error:{assertEqual,[{module,smoosh_persist},\r\n              {line,210},\r\n              {expression,\"check_setup ( )\"},\r\n              {expected,{error,{\"write\",eacces}}},\r\n              {value,ok}]}\r\n  output:<<\"\">>\r\n  smoosh_persist:155: persist_unpersist_test_ (t_persist_unpersist_disabled)...ok\r\n  smoosh_persist:156: persist_unpersist_test_ (t_persist_unpersist_enabled)...[0.018 s] ok\r\n  smoosh_persist:157: persist_unpersist_test_ (t_persist_unpersist_errors)...*failed*\r\nin function smoosh_persist:t_persist_unpersist_errors/1 (src/smoosh_persist.erl, line 277)\r\nin call from eunit_test:run_testfun/1 (eunit_test.erl, line 71)\r\nin call from eunit_proc:run_test/1 (eunit_proc.erl, line 531)\r\nin call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 356)\r\nin call from eunit_proc:handle_test/2 (eunit_proc.erl, line 514)\r\nin call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 456)\r\nin call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 346)\r\nin call from eunit_proc:run_group/2 (eunit_proc.erl, line 570)\r\n**error:{assertEqual,[{module,smoosh_persist},\r\n              {line,277},\r\n              {expression,\"persist ( Q1 , # { } , # { } )\"},\r\n              {expected,{error,eacces}},\r\n              {value,ok}]}\r\n  output:<<\"\">>\r\n  [done in 1.579 s]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2369362240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2369377639","html_url":"https://github.com/apache/couchdb/issues/4398#issuecomment-2369377639","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4398","id":2369377639,"node_id":"IC_kwDOAAMmUc6NOdVn","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-23T21:02:20Z","updated_at":"2024-09-23T21:02:20Z","author_association":"CONTRIBUTOR","body":"I think, one problem is, that our test suites doesn't clean properly.\r\n\r\nAfter running `make elixir` we have many open `couchjs` processes on Windows. I expect this for the other test suites too:\r\n```\r\n...\r\nViewOffsetTest [test/elixir/test/view_offsets_test.exs]\r\n  * test basic view offsets (129.3ms) [L#34]\r\n  * test repeated view offsets (1431.8ms) [L#62]\r\n\r\nReshardHelpers [test/elixir/test/reshard_helpers.exs]\r\n\r\nPartitionHelpers [test/elixir/test/partition_helpers.exs]\r\n\r\nFinished in 98.5 seconds (0.00s async, 98.5s sync)\r\n542 tests, 0 failures, 8 excluded\r\n\r\nRandomized with seed 857316\r\nERROR: Access denied\r\nPS C:\\relax\\releases\\3.4.1\\apache-couchdb-3.4.1-RC1> Get-Process *      \r\n\r\nHandles  NPM(K)    PM(K)      WS(K)     CPU(s)     Id  SI ProcessName                                                                                          \r\n-------  ------    -----      -----     ------     --  -- -----------\r\n    114       8     2848       8216              4480   0 AggregatorHost\r\n    172      10     2128       9052              2964   0 blnsvr                                                                                               \r\n    141      10     6520      13300              4388   0 conhost\r\n    179       8     1356       6248       2,73   8616   0 conhost                                                                                              \r\n     77       9     8044      14000       0,16    876   0 couchjs\r\n     77       9     4684      11868       0,13   1056   0 couchjs\r\n     77       9     8448      13796       0,17   1380   0 couchjs\r\n     77       9     5800      11712       0,08   1764   0 couchjs                                                                                              \r\n     77       9     6232      12256       0,67   1800   0 couchjs\r\n     77       9     5796      11852       0,08   2156   0 couchjs\r\n     77       9     5868      11724       0,08   2608   0 couchjs                                                                                              \r\n     77       9     6644      12280       0,80   2860   0 couchjs\r\n     77       9     7048      12348       0,08   3256   0 couchjs\r\n     77      10     6260      13068       0,30   3296   0 couchjs\r\n     77      10     5476      11440       0,33   4148   0 couchjs                                                                                              \r\n     77       9     5860      11696       0,09   4948   0 couchjs\r\n     77       9     5776      11892       0,08   4976   0 couchjs\r\n     77       9     4760      11336       0,09   4988   0 couchjs                                                                                              \r\n     77       9     5796      11712       0,08   5628   0 couchjs\r\n     77       9     5728      11700       0,08   5660   0 couchjs\r\n     77      10     5880      11728       0,09   5788   0 couchjs\r\n     77       9     6616      11600       0,09   5920   0 couchjs\r\n     77       9     5792      11784       0,08   6252   0 couchjs\r\n     77       9     5832      11860       0,09   6376   0 couchjs\r\n     77       9     5048      11748       0,11   6564   0 couchjs                                                                                              \r\n     77       9     4952      11572       0,11   6748   0 couchjs\r\n     77      10     5892      11972       0,08   6876   0 couchjs\r\n     77      10     6384      13380       0,28   7052   0 couchjs                                                                                              \r\n     77       9     6440      11948       0,11   7944   0 couchjs\r\n     77      10     5976      11868       0,09   8108   0 couchjs\r\n     77      10     5968      12472       0,34   8240   0 couchjs\r\n     77       9     7512      13228       0,11   8244   0 couchjs                                                                                              \r\n     77       9     6800      12020       0,11   8344   0 couchjs\r\n     77       9     8080      13920       0,09   8380   0 couchjs                                                                                              \r\n     77       9     5772      11756       0,06   8428   0 couchjs\r\n     77       9     5772      11696       0,08   8444   0 couchjs                                                                                              \r\n     77       9     6280      12972       0,13   8488   0 couchjs\r\n     77       9     5828      11780       0,08   8996   0 couchjs\r\n     77       9     4416      11300       0,11   9028   0 couchjs\r\n     77      10     5856      11880       0,09   9036   0 couchjs                                                                                              \r\n     77       9     5796      11800       0,06   9252   0 couchjs\r\n     77       9     5756      11744       0,09   9460   0 couchjs\r\n     77      10     6160      11780       0,08   9512   0 couchjs\r\n     77       9     5888      11968       0,08   9640   0 couchjs                                                                                              \r\n     77       9     5860      11756       0,08   9876   0 couchjs\r\n     77       9     6608      11612       0,09  10008   0 couchjs\r\n     77       9     7076      13452       2,64  10028   0 couchjs\r\n     77       9     5784      11764       0,05  10124   0 couchjs                                                                                              \r\n     77       9     7468      13944       3,20  10304   0 couchjs\r\n     77       9     5780      11676       0,08  10600   0 couchjs\r\n     77       9     5904      12256       0,13  10648   0 couchjs\r\n     77       9     5780      11676       0,09  10808   0 couchjs                                                                                              \r\n     77       9     8004      13516       0,17  10992   0 couchjs\r\n     77       9     5124      11276       0,13  11484   0 couchjs\r\n     77      10     6292      13320       1,09  11492   0 couchjs\r\n     77       9     5828      11664       0,08  11556   0 couchjs                                                                                              \r\n     77       9     6068      13216       2,25  11584   0 couchjs\r\n     77       9     6368      13212       0,11  11932   0 couchjs\r\n     77       9     4624      11392       0,09  12116   0 couchjs\r\n     77       9     6036      11764       0,09  12184   0 couchjs                                                                                              \r\n```\r\nWhat is also strange are the following lines:\r\n```\r\nRandomized with seed 857316\r\nERROR: Access denied\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2369377639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2369394620","html_url":"https://github.com/apache/couchdb/issues/4398#issuecomment-2369394620","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4398","id":2369394620,"node_id":"IC_kwDOAAMmUc6NOhe8","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-23T21:10:11Z","updated_at":"2024-09-23T21:10:11Z","author_association":"CONTRIBUTOR","body":"Unless we restart the couch service we normally expect a pool couchjs processes to be started, we expect up to 100 of those while the server is running. I see that on Ubuntu as well.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2369394620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2369395557","html_url":"https://github.com/apache/couchdb/issues/4398#issuecomment-2369395557","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4398","id":2369395557,"node_id":"IC_kwDOAAMmUc6NOhtl","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-23T21:10:39Z","updated_at":"2024-09-23T21:10:39Z","author_association":"CONTRIBUTOR","body":"`Access denied` is interesting though. I wonder where that comes from...\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2369395557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2370270426","html_url":"https://github.com/apache/couchdb/issues/5246#issuecomment-2370270426","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5246","id":2370270426,"node_id":"IC_kwDOAAMmUc6NR3Ta","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-24T06:07:02Z","updated_at":"2024-09-24T06:07:02Z","author_association":"CONTRIBUTOR","body":"These should be fixed now","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2370270426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2379735021","html_url":"https://github.com/apache/couchdb/issues/5261#issuecomment-2379735021","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5261","id":2379735021,"node_id":"IC_kwDOAAMmUc6N19_t","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-27T17:19:00Z","updated_at":"2024-09-27T17:19:00Z","author_association":"MEMBER","body":"thank you, we are looking into this. This should not have changed.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2379735021/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2379755877","html_url":"https://github.com/apache/couchdb/issues/5261#issuecomment-2379755877","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5261","id":2379755877,"node_id":"IC_kwDOAAMmUc6N2DFl","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-27T17:33:02Z","updated_at":"2024-09-27T17:33:02Z","author_association":"MEMBER","body":"ok, so this was deliberate. https://github.com/apache/couchdb-pkg/commit/366942bb4ca42eafdf69b66471173686ef900631\r\n\r\n```\r\nIn addition, since we're updating the RPM package, remove some of\r\ndeprecated/redundant settings needed for old CentOS-es:\r\n\r\n  - Log to journald instead of a file\r\n```\r\n\r\nwe should have called this out in release notes.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2379755877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2379756654","html_url":"https://github.com/apache/couchdb/issues/5261#issuecomment-2379756654","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5261","id":2379756654,"node_id":"IC_kwDOAAMmUc6N2DRu","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-27T17:33:33Z","updated_at":"2024-09-27T17:33:33Z","author_association":"MEMBER","body":"```\r\n--- a/rpm/SOURCES/10-filelog.ini\r\n+++ /dev/null\r\n@@ -1,4 +0,0 @@\r\n-[log]\r\n-writer = file\r\n-file = /var/log/couchdb/couchdb.log\r\n-level = info\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2379756654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2379758001","html_url":"https://github.com/apache/couchdb/issues/5261#issuecomment-2379758001","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5261","id":2379758001,"node_id":"IC_kwDOAAMmUc6N2Dmx","user":{"login":"jefferbrecht","id":89024676,"node_id":"MDQ6VXNlcjg5MDI0Njc2","avatar_url":"https://avatars.githubusercontent.com/u/89024676?v=4","gravatar_id":"","url":"https://api.github.com/users/jefferbrecht","html_url":"https://github.com/jefferbrecht","followers_url":"https://api.github.com/users/jefferbrecht/followers","following_url":"https://api.github.com/users/jefferbrecht/following{/other_user}","gists_url":"https://api.github.com/users/jefferbrecht/gists{/gist_id}","starred_url":"https://api.github.com/users/jefferbrecht/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jefferbrecht/subscriptions","organizations_url":"https://api.github.com/users/jefferbrecht/orgs","repos_url":"https://api.github.com/users/jefferbrecht/repos","events_url":"https://api.github.com/users/jefferbrecht/events{/privacy}","received_events_url":"https://api.github.com/users/jefferbrecht/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-27T17:34:26Z","updated_at":"2024-09-27T17:34:26Z","author_association":"NONE","body":"Looks WAI then -- thanks for confirming!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2379758001/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2379889808","html_url":"https://github.com/apache/couchdb/issues/5261#issuecomment-2379889808","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5261","id":2379889808,"node_id":"IC_kwDOAAMmUc6N2jyQ","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-27T19:03:59Z","updated_at":"2024-09-27T19:03:59Z","author_association":"MEMBER","body":"Ive added this to the release blog post:\r\n\r\n> Heads up RHEL (and compatible) users: our .rpm convenience binaries have changed logging from /var/log/couchdb/couchdb.log to logging to journald directly.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2379889808/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2380707745","html_url":"https://github.com/apache/couchdb/issues/4790#issuecomment-2380707745","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4790","id":2380707745,"node_id":"IC_kwDOAAMmUc6N5reh","user":{"login":"sergey-safarov","id":2562241,"node_id":"MDQ6VXNlcjI1NjIyNDE=","avatar_url":"https://avatars.githubusercontent.com/u/2562241?v=4","gravatar_id":"","url":"https://api.github.com/users/sergey-safarov","html_url":"https://github.com/sergey-safarov","followers_url":"https://api.github.com/users/sergey-safarov/followers","following_url":"https://api.github.com/users/sergey-safarov/following{/other_user}","gists_url":"https://api.github.com/users/sergey-safarov/gists{/gist_id}","starred_url":"https://api.github.com/users/sergey-safarov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergey-safarov/subscriptions","organizations_url":"https://api.github.com/users/sergey-safarov/orgs","repos_url":"https://api.github.com/users/sergey-safarov/repos","events_url":"https://api.github.com/users/sergey-safarov/events{/privacy}","received_events_url":"https://api.github.com/users/sergey-safarov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-28T15:23:52Z","updated_at":"2024-09-28T15:23:52Z","author_association":"NONE","body":"We have cached the same issue on v3.3.3\r\nAlso on the one CouchDB node, I can see \"Node not responding\"\r\n```\r\nSep 28 01:47:07 db1a.wv.example.com couchdb[3128]: couchdb@db1a.wv.example.com <0.29864.2> -------- ** Node 'couchdb@db0b.wv.example.com' not responding **\r\nSep 28 01:47:07 db1a.wv.example.com couchdb[3128]: ** Removing (timedout) connection **\r\nSep 28 01:47:07 db1a.wv.example.com couchdb[3128]: couchdb@db1a.wv.example.com <0.29864.2> -------- ** Node 'couchdb@db0b.wv.example.com' not responding **\r\nSep 28 01:47:07 db1a.wv.example.com couchdb[3128]: ** Removing (timedout) connection **\r\nSep 28 01:47:07 db1a.wv.example.com couchdb[3128]: couchdb@db1a.wv.example.com <0.20680.5805> -------- 1 conflicted shard in cluster\r\nSep 28 01:47:08 db1a.wv.example.com couchdb[3128]: couchdb@db1a.wv.example.com <0.4340.5788> -------- 1 conflicted shard in cluster\r\nSep 28 01:48:29 db1a.wv.example.com couchdb[3128]: couchdb@db1a.wv.example.com <0.19100.5806> -------- fabric_worker_timeout get_all_security,'couchdb@db1a.wv.example.com',<<\"shards/c0000000-dfffffff/account/9f/f9/d07f1389d0360b4cff90710cc1fe-202409.1725148810\">>\r\nSep 28 01:48:29 db1a.wv.example.com couchdb[3128]: couchdb@db1a.wv.example.com <0.19100.5806> -------- fabric_worker_timeout get_all_security,'couchdb@db0b.wv.example.com',<<\"shards/c0000000-dfffffff/account/9f/f9/d07f1389d0360b4cff90710cc1fe-202409.1725148810\">>\r\nSep 28 01:48:29 db1a.wv.example.com couchdb[3128]: couchdb@db1a.wv.example.com <0.19100.5806> -------- Error checking security objects for account/9f/f9/d07f1389d0360b4cff90710cc1fe-202409 :: {error,timeout}\r\nSep 28 01:48:29 db1a.wv.example.com couchdb[3128]: couchdb@db1a.wv.example.com <0.11649.5811> -------- fabric_worker_timeout update_docs,'couchdb@db0b.wv.example.com',<<\"shards/40000000-5fffffff/_global_changes.1660293400\">>\r\nSep 28 01:48:29 db1a.wv.example.com couchdb[3128]: couchdb@db1a.wv.example.com <0.11649.5811> -------- fabric_worker_timeout update_docs,'couchdb@db1a.wv.example.com',<<\"shards/40000000-5fffffff/_global_changes.1660293400\">>\r\nSep 28 01:48:29 db1a.wv.example.com couchdb[3128]: couchdb@db1a.wv.example.com <0.30041.5810> -------- fabric_worker_timeout get_all_security,'couchdb@db1a.wv.example.com',<<\"shards/c0000000-dfffffff/account/9f/f9/d07f1389d0360b4cff90710cc1fe-202409.1725148810\">>\r\nSep 28 01:48:29 db1a.wv.example.com couchdb[3128]: couchdb@db1a.wv.example.com <0.30041.5810> -------- Error checking security objects for account/9f/f9/d07f1389d0360b4cff90710cc1fe-202409 :: {error,timeout}\r\nSep 28 01:48:29 db1a.wv.example.com couchdb[3128]: couchdb@db1a.wv.example.com <0.7850.5798> -------- fabric_worker_timeout open_doc,'couchdb@db1a.wv.example.com',<<\"shards/80000000-9fffffff/account/de/99/3bb20e6609f27b81bac3123eb833-202409.1725148811\">>\r\nSep 28 01:48:29 db1a.wv.example.com couchdb[3128]: couchdb@db1a.wv.example.com <0.7850.5798> -------- fabric_worker_timeout open_doc,'couchdb@db0b.wv.example.com',<<\"shards/80000000-9fffffff/account/de/99/3bb20e6609f27b81bac3123eb833-202409.1725148811\">>\r\nSep 28 01:48:29 db1a.wv.example.com couchdb[3128]: couchdb@db1a.wv.example.com <0.15964.5814> -------- fabric_worker_timeout open_doc,'couchdb@db1a.wv.example.com',<<\"shards/a0000000-bfffffff/account/de/99/3bb20e6609f27b81bac3123eb833-202409.1725148811\">>\r\nSep 28 01:48:29 db1a.wv.example.com couchdb[3128]: couchdb@db1a.wv.example.com <0.15964.5814> -------- fabric_worker_timeout open_doc,'couchdb@db0b.wv.example.com',<<\"shards/a0000000-bfffffff/account/de/99/3bb20e6609f27b81bac3123eb833-202409.1725148811\">>\r\nSep 28 01:48:29 db1a.wv.example.com couchdb[3128]: couchdb@db1a.wv.example.com <0.32403.5807> -------- fabric_worker_timeout open_doc,'couchdb@db1a.wv.example.com',<<\"shards/20000000-3fffffff/account/de/99/3bb20e6609f27b81bac3123eb833-202409.1725148811\">>\r\nSep 28 01:48:29 db1a.wv.example.com couchdb[3128]: couchdb@db1a.wv.example.com <0.32403.5807> -------- fabric_worker_timeout open_doc,'couchdb@db0b.wv.example.com',<<\"shards/20000000-3fffffff/account/de/99/3bb20e6609f27b81bac3123eb833-202409.1725148811\">>\r\nSep 28 01:48:29 db1a.wv.example.com couchdb[3128]: couchdb@db1a.wv.example.com <0.10430.5762> -------- fabric_worker_timeout open_doc,'couchdb@db1a.wv.example.com',<<\"shards/20000000-3fffffff/account/de/99/3bb20e6609f27b81bac3123eb833-202409.1725148811\">>\r\nSep 28 01:48:29 db1a.wv.example.com couchdb[3128]: couchdb@db1a.wv.example.com <0.10430.5762> -------- fabric_worker_timeout open_doc,'couchdb@db0b.wv.example.com',<<\"shards/20000000-3fffffff/account/de/99/3bb20e6609f27b81bac3123eb833-202409.1725148811\">>\r\nSep 28 01:48:29 db1a.wv.example.com couchdb[3128]: couchdb@db1a.wv.example.com <0.11019.5802> -------- fabric_worker_timeout open_doc,'couchdb@db1a.wv.example.com',<<\"shards/20000000-3fffffff/account/de/99/3bb20e6609f27b81bac3123eb833-202409.1725148811\">>\r\nSep 28 01:48:29 db1a.wv.example.com couchdb[3128]: couchdb@db1a.wv.example.com <0.11019.5802> -------- fabric_worker_timeout open_doc,'couchdb@db0b.wv.example.com',<<\"shards/20000000-3fffffff/account/de/99/3bb20e6609f27b81bac3123eb833-202409.1725148811\">>\r\nSep 28 01:48:29 db1a.wv.example.com couchdb[3128]: couchdb@db1a.wv.example.com <0.28862.5796> -------- fabric_worker_timeout open_doc,'couchdb@db1a.wv.example.com',<<\"shards/20000000-3fffffff/account/de/99/3bb20e6609f27b81bac3123eb833-202409.1725148811\">>\r\nSep 28 01:48:29 db1a.wv.example.com couchdb[3128]: couchdb@db1a.wv.example.com <0.28862.5796> -------- fabric_worker_timeout open_doc,'couchdb@db0b.wv.example.com',<<\"shards/20000000-3fffffff/account/de/99/3bb20e6609f27b81bac3123eb833-202409.1725148811\">>\r\nSep 28 01:48:29 db1a.wv.example.com couchdb[3128]: couchdb@db1a.wv.example.com <0.14078.5795> -------- fabric_worker_timeout open_doc,'couchdb@db1a.wv.example.com',<<\"shards/20000000-3fffffff/account/de/99/3bb20e6609f27b81bac3123eb833-202409.1725148811\">>\r\n```\r\n\r\nBut during troubleshooting when the issue was present I sent `/_membership` curl request and returned a response with all (three) nodes present online in the cluster. The request was sent to each CouchDB node in the cluster and returned the same results \"three nodes online in the cluster\".\r\n\r\nOn the other two nodes in the cluster, I can see error messages like \"fabric_worker_timeout open_doc\" and no messages like \"Node not responding\".\r\n\r\nAlso on the two nodes  CPU load increased to 100%.\r\n**db0a**\r\n![image](https://github.com/user-attachments/assets/4c285c4e-75ee-45c4-8571-fe6756dd621e)\r\n**db0b**\r\n![image](https://github.com/user-attachments/assets/8d7ea6e1-0219-4b66-96bb-487640c5ba9c)\r\n**db1a**\r\n![image](https://github.com/user-attachments/assets/7643ac29-2fe9-4e32-bb06-dcbf7cd6641f)\r\n\r\nI am sure network connectivity is present between CouchDB nodes. Also `/_membership` response responded with all nodes online on all CocuhDB instances.\r\nBut anyway we will adjust the recommended values and provide feedback if the issue is reproduced.\r\n```\r\n[cluster] reconnect_interval_sec = 37\r\n[fabric] request_timeout = 60000\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2380707745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2381378300","html_url":"https://github.com/apache/couchdb/issues/5262#issuecomment-2381378300","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5262","id":2381378300,"node_id":"IC_kwDOAAMmUc6N8PL8","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-29T14:25:50Z","updated_at":"2024-09-29T14:25:50Z","author_association":"MEMBER","body":"Thanks, looking into it. Thought that had been found and squashed a while back, should be easy.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2381378300/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2381386353","html_url":"https://github.com/apache/couchdb/issues/5262#issuecomment-2381386353","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5262","id":2381386353,"node_id":"IC_kwDOAAMmUc6N8RJx","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-29T14:49:51Z","updated_at":"2024-09-29T14:49:51Z","author_association":"MEMBER","body":"sidenote, as you're not putting spaces between those values when you add them, I'm not sure you'll get the search results you're hoping for.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2381386353/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2381391176","html_url":"https://github.com/apache/couchdb/issues/5262#issuecomment-2381391176","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5262","id":2381391176,"node_id":"IC_kwDOAAMmUc6N8SVI","user":{"login":"Dev-Owl","id":4507512,"node_id":"MDQ6VXNlcjQ1MDc1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/4507512?v=4","gravatar_id":"","url":"https://api.github.com/users/Dev-Owl","html_url":"https://github.com/Dev-Owl","followers_url":"https://api.github.com/users/Dev-Owl/followers","following_url":"https://api.github.com/users/Dev-Owl/following{/other_user}","gists_url":"https://api.github.com/users/Dev-Owl/gists{/gist_id}","starred_url":"https://api.github.com/users/Dev-Owl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Dev-Owl/subscriptions","organizations_url":"https://api.github.com/users/Dev-Owl/orgs","repos_url":"https://api.github.com/users/Dev-Owl/repos","events_url":"https://api.github.com/users/Dev-Owl/events{/privacy}","received_events_url":"https://api.github.com/users/Dev-Owl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-29T15:04:31Z","updated_at":"2024-09-29T15:04:31Z","author_association":"NONE","body":"Thanks for the swift response, i switched the search back to the \"search plugin\" but as this is a new product we are working on i thought i could directly start with the new feature.\r\n\r\nAlso thanks for the remarks, you are absolutely correct regarding the spaces in the terms.\r\n\r\nOut of curiosity why does this error happen? I checked the source and honestly dont understand how this relates to the data? ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2381391176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2381400487","html_url":"https://github.com/apache/couchdb/issues/5262#issuecomment-2381400487","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5262","id":2381400487,"node_id":"IC_kwDOAAMmUc6N8Umn","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-29T15:33:29Z","updated_at":"2024-09-29T15:33:29Z","author_association":"MEMBER","body":"because of this commit: https://github.com/apache/couchdb/commit/ab594435e5f9dac9b8438394dbbc9ec10bd6cf7b\r\n\r\nI can't induce this locally (and obviously the CI test suite doesn't tickle it).\r\n\r\nHowever, I think reverting the above is the answer. I will try a bit longer to repro locally first though\r\n\r\nand thank you for trying nouveau :)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2381400487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2381403409","html_url":"https://github.com/apache/couchdb/issues/5262#issuecomment-2381403409","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5262","id":2381403409,"node_id":"IC_kwDOAAMmUc6N8VUR","user":{"login":"Dev-Owl","id":4507512,"node_id":"MDQ6VXNlcjQ1MDc1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/4507512?v=4","gravatar_id":"","url":"https://api.github.com/users/Dev-Owl","html_url":"https://github.com/Dev-Owl","followers_url":"https://api.github.com/users/Dev-Owl/followers","following_url":"https://api.github.com/users/Dev-Owl/following{/other_user}","gists_url":"https://api.github.com/users/Dev-Owl/gists{/gist_id}","starred_url":"https://api.github.com/users/Dev-Owl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Dev-Owl/subscriptions","organizations_url":"https://api.github.com/users/Dev-Owl/orgs","repos_url":"https://api.github.com/users/Dev-Owl/repos","events_url":"https://api.github.com/users/Dev-Owl/events{/privacy}","received_events_url":"https://api.github.com/users/Dev-Owl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-29T15:42:55Z","updated_at":"2024-09-29T15:42:55Z","author_association":"NONE","body":"I was able to replicate it with a few documents and a very simple index. I'm currently traveling back home from a trade show, tomorrow i could include the test data that triggered it for me if this helps. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2381403409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2381404439","html_url":"https://github.com/apache/couchdb/issues/5262#issuecomment-2381404439","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5262","id":2381404439,"node_id":"IC_kwDOAAMmUc6N8VkX","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-29T15:46:04Z","updated_at":"2024-09-29T15:46:04Z","author_association":"MEMBER","body":"thanks, I'd appreciate that. it would be good to know the dbs `q` value also.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2381404439/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2381406036","html_url":"https://github.com/apache/couchdb/issues/5262#issuecomment-2381406036","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5262","id":2381406036,"node_id":"IC_kwDOAAMmUc6N8V9U","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-29T15:50:34Z","updated_at":"2024-09-29T15:50:34Z","author_association":"MEMBER","body":"repro'ed locally. dug into the Lucene code to figure out the trigger. Fix incoming.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2381406036/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2381407311","html_url":"https://github.com/apache/couchdb/issues/5262#issuecomment-2381407311","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5262","id":2381407311,"node_id":"IC_kwDOAAMmUc6N8WRP","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-29T15:54:52Z","updated_at":"2024-09-29T15:54:52Z","author_association":"MEMBER","body":"that should do it.  ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2381407311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2381413714","html_url":"https://github.com/apache/couchdb/issues/5262#issuecomment-2381413714","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5262","id":2381413714,"node_id":"IC_kwDOAAMmUc6N8X1S","user":{"login":"Dev-Owl","id":4507512,"node_id":"MDQ6VXNlcjQ1MDc1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/4507512?v=4","gravatar_id":"","url":"https://api.github.com/users/Dev-Owl","html_url":"https://github.com/Dev-Owl","followers_url":"https://api.github.com/users/Dev-Owl/followers","following_url":"https://api.github.com/users/Dev-Owl/following{/other_user}","gists_url":"https://api.github.com/users/Dev-Owl/gists{/gist_id}","starred_url":"https://api.github.com/users/Dev-Owl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Dev-Owl/subscriptions","organizations_url":"https://api.github.com/users/Dev-Owl/orgs","repos_url":"https://api.github.com/users/Dev-Owl/repos","events_url":"https://api.github.com/users/Dev-Owl/events{/privacy}","received_events_url":"https://api.github.com/users/Dev-Owl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-29T16:15:25Z","updated_at":"2024-09-29T16:15:25Z","author_association":"NONE","body":"Very nice, from your point of view is building a new application with the current search application still a \"good\" idea given Nouveau?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2381413714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2381426280","html_url":"https://github.com/apache/couchdb/issues/5262#issuecomment-2381426280","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5262","id":2381426280,"node_id":"IC_kwDOAAMmUc6N8a5o","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-29T16:58:17Z","updated_at":"2024-09-29T16:58:36Z","author_association":"MEMBER","body":"We've marked nouveau as experimental in 3.4.1 (though to flush out more obscure bugs than the embarrassing one we found here), so while I very much appreciate the feedback and any usage of nouveau I think you should be cautious.\r\n\r\n I will say that I feel nouveau is going to be a better foundation that the current system (dreyfus/clouseau) as that is built on a, in hindsight, unnecessary and shaky proposition, attempting to emulate Erlang semantics inside the JVM. Nouveau takes a simpler tack, http+json.\r\n\r\n If you are willing to keep going with nouveau we will certainly be prompt in investigating and fixing any issues you find. \r\n\r\nI'll try to get a point release out with this fix as soon as possible.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2381426280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2382452080","html_url":"https://github.com/apache/couchdb/issues/5262#issuecomment-2382452080","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5262","id":2382452080,"node_id":"IC_kwDOAAMmUc6OAVVw","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-30T08:31:28Z","updated_at":"2024-09-30T08:31:28Z","author_association":"MEMBER","body":"[nouveau-1.0-SNAPSHOT-4299acf4.jar.zip](https://github.com/user-attachments/files/17186496/nouveau-1.0-SNAPSHOT-4299acf4.jar.zip)\r\n\r\nIn anticipation of a proper release, @Dev-Owl, heres a Nouveau .jar that you can replace the one in your 3.4.1 installation with to try out the fix (and keep experimenting).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2382452080/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2382537345","html_url":"https://github.com/apache/couchdb/issues/5139#issuecomment-2382537345","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5139","id":2382537345,"node_id":"IC_kwDOAAMmUc6OAqKB","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-30T08:59:05Z","updated_at":"2024-09-30T08:59:05Z","author_association":"MEMBER","body":"The current stdio based protocol has been stable for over a decade, modulo adding commands, and probably will remain so.\r\n\r\nThere is some work in the aborted FoundationDB fork that introduces a new HTTP based protocol and thats something that we might adopt in mainline at some point, but there are no concrete plans for this at the moment.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2382537345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2382624579","html_url":"https://github.com/apache/couchdb/pull/5264#issuecomment-2382624579","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5264","id":2382624579,"node_id":"IC_kwDOAAMmUc6OA_dD","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-30T09:37:29Z","updated_at":"2024-09-30T09:37:29Z","author_association":"MEMBER","body":"This sounds wrong. We want a changes response with a limit=X parameter to end just after the Xth row is sent, regardless of whether heartbeat is set. What is the point in keeping the changes response open after that point?\r\n\r\nI confirmed locally that, without this change, `?feed=continuous&limit=5` and `?feed=continuous&limit=5&heartbeat=5000` both end after the 5th row is sent, and with the patch the first one still ends but `?feed=continuous&limit=5&heartbeat=5000` continues to send heartbeats after the 5th row is sent, but will never again send anything but heartbeats. Why would we want that?\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2382624579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2383150358","html_url":"https://github.com/apache/couchdb/pull/5264#issuecomment-2383150358","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5264","id":2383150358,"node_id":"IC_kwDOAAMmUc6OC_0W","user":{"login":"jiahuili430","id":54631519,"node_id":"MDQ6VXNlcjU0NjMxNTE5","avatar_url":"https://avatars.githubusercontent.com/u/54631519?v=4","gravatar_id":"","url":"https://api.github.com/users/jiahuili430","html_url":"https://github.com/jiahuili430","followers_url":"https://api.github.com/users/jiahuili430/followers","following_url":"https://api.github.com/users/jiahuili430/following{/other_user}","gists_url":"https://api.github.com/users/jiahuili430/gists{/gist_id}","starred_url":"https://api.github.com/users/jiahuili430/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiahuili430/subscriptions","organizations_url":"https://api.github.com/users/jiahuili430/orgs","repos_url":"https://api.github.com/users/jiahuili430/repos","events_url":"https://api.github.com/users/jiahuili430/events{/privacy}","received_events_url":"https://api.github.com/users/jiahuili430/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-30T13:10:13Z","updated_at":"2024-09-30T13:12:51Z","author_association":"CONTRIBUTOR","body":"> heartbeat (number)  Period in milliseconds after which an empty line is sent in the results. Only applicable for [longpoll](https://docs.couchdb.org/en/stable/api/database/changes.html#changes-longpoll), [continuous](https://docs.couchdb.org/en/stable/api/database/changes.html#changes-continuous), and [eventsource](https://docs.couchdb.org/en/stable/api/database/changes.html#changes-eventsource) feeds. Overrides any timeout to keep the feed alive indefinitely. Default is 60000. May be true to use default value.\r\n\r\nBefore changing `limit` to override `timeout`, if we set `heartbeat` it would override the `timeout`, and keep the request active indefinitely. After the change, `limit` has a higher priority. So wondering if we want to keep the old behavior and have `heartbeat` have the highest priority.\r\n- don't set `heartbeat`, `limit` overrides `timeout`\r\n- set `heartbeat`, keep the request alive indefinitely\r\n\r\nWhy do we need the `heartbeat` behavior before? Do you know any use cases? @rnewson","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2383150358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2383307353","html_url":"https://github.com/apache/couchdb/pull/5264#issuecomment-2383307353","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5264","id":2383307353,"node_id":"IC_kwDOAAMmUc6ODmJZ","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-30T14:05:02Z","updated_at":"2024-09-30T14:53:43Z","author_association":"CONTRIBUTOR","body":"`heartbeat` is used to send periodic newlines back to the client to avoid the connection from timing out when we're waiting for more lines to be emitted.\r\n\r\nThe key is `waiting for more lines`. With a `limit` parameter, once we fetched the `limit` number lines there is nothing to wait for; keeping the request alive indefinitely leaks resources which I consider a bug which should have now been fixed.\r\n\r\nIf we keep sending newlines even after limit lines have been emitted we should end the connection. We should also ensure that heartbeat overrides timeout.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2383307353/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2383317192","html_url":"https://github.com/apache/couchdb/issues/5265#issuecomment-2383317192","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5265","id":2383317192,"node_id":"IC_kwDOAAMmUc6ODojI","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-30T14:08:34Z","updated_at":"2024-09-30T14:08:34Z","author_association":"CONTRIBUTOR","body":"enospc from `no match of right hand value {error,enospc}` indicates we're probably running out of disk space [1]\r\n\r\nIt should be a more friendly message in the log, but at least first sight that's what's jumping out.\r\n\r\n[1] https://www.man7.org/linux/man-pages/man3/errno.3.html","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2383317192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2383365893","html_url":"https://github.com/apache/couchdb/issues/5265#issuecomment-2383365893","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5265","id":2383365893,"node_id":"IC_kwDOAAMmUc6OD0cF","user":{"login":"SourceR85","id":1261013,"node_id":"MDQ6VXNlcjEyNjEwMTM=","avatar_url":"https://avatars.githubusercontent.com/u/1261013?v=4","gravatar_id":"","url":"https://api.github.com/users/SourceR85","html_url":"https://github.com/SourceR85","followers_url":"https://api.github.com/users/SourceR85/followers","following_url":"https://api.github.com/users/SourceR85/following{/other_user}","gists_url":"https://api.github.com/users/SourceR85/gists{/gist_id}","starred_url":"https://api.github.com/users/SourceR85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SourceR85/subscriptions","organizations_url":"https://api.github.com/users/SourceR85/orgs","repos_url":"https://api.github.com/users/SourceR85/repos","events_url":"https://api.github.com/users/SourceR85/events{/privacy}","received_events_url":"https://api.github.com/users/SourceR85/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-30T14:26:09Z","updated_at":"2024-09-30T20:11:29Z","author_association":"CONTRIBUTOR","body":"> enospc from `no match of right hand value {error,enospc}` indicates we're probably running out of disk space\r\n\r\n~That's not a problem...~\r\nI have 799.7 GB of 2TB free (the DB I replicate is 86.1GB)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2383365893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2383422838","html_url":"https://github.com/apache/couchdb/issues/5265#issuecomment-2383422838","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5265","id":2383422838,"node_id":"IC_kwDOAAMmUc6OECV2","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-30T14:48:21Z","updated_at":"2024-09-30T14:48:21Z","author_association":"CONTRIBUTOR","body":"Is there any chance view directory is configured to write another disk or the disks may fail to mount and it ends up writting to  the root file system.  `enospc` is usually a transparent passthrough error from the FS layer.\r\n\r\nThe first instance in the logs seem to come from writting an attachments:\r\n\r\n```\r\ngen,do_call,4,[{file,\"gen.erl\"},{line,237}]},{gen_server,call,3,[{file,\"gen_server.erl\"},{line,381}]},\r\n{couch_att,write_streamed_attachment,3,\r\n```\r\n\r\nIs there a way to reconfigure the data directory or point it to another volume? Or tests if you can write to it manually? Verify that indeed the data directory is pointing the mounted large volume, sometimes misconfigurations happen and I've seen writes going to another directory than the indentded one.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2383422838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2383478107","html_url":"https://github.com/apache/couchdb/pull/5264#issuecomment-2383478107","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5264","id":2383478107,"node_id":"IC_kwDOAAMmUc6OEP1b","user":{"login":"jiahuili430","id":54631519,"node_id":"MDQ6VXNlcjU0NjMxNTE5","avatar_url":"https://avatars.githubusercontent.com/u/54631519?v=4","gravatar_id":"","url":"https://api.github.com/users/jiahuili430","html_url":"https://github.com/jiahuili430","followers_url":"https://api.github.com/users/jiahuili430/followers","following_url":"https://api.github.com/users/jiahuili430/following{/other_user}","gists_url":"https://api.github.com/users/jiahuili430/gists{/gist_id}","starred_url":"https://api.github.com/users/jiahuili430/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiahuili430/subscriptions","organizations_url":"https://api.github.com/users/jiahuili430/orgs","repos_url":"https://api.github.com/users/jiahuili430/repos","events_url":"https://api.github.com/users/jiahuili430/events{/privacy}","received_events_url":"https://api.github.com/users/jiahuili430/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-30T15:08:25Z","updated_at":"2024-09-30T15:08:25Z","author_association":"CONTRIBUTOR","body":"Verified `timeout` and `heartbeat` locally, `heartbeat` always overrides `timeout`.\r\nI will close this PR, thanks for the explanation, @nickva and @rnewson.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2383478107/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2383523554","html_url":"https://github.com/apache/couchdb/issues/5265#issuecomment-2383523554","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5265","id":2383523554,"node_id":"IC_kwDOAAMmUc6OEa7i","user":{"login":"SourceR85","id":1261013,"node_id":"MDQ6VXNlcjEyNjEwMTM=","avatar_url":"https://avatars.githubusercontent.com/u/1261013?v=4","gravatar_id":"","url":"https://api.github.com/users/SourceR85","html_url":"https://github.com/SourceR85","followers_url":"https://api.github.com/users/SourceR85/followers","following_url":"https://api.github.com/users/SourceR85/following{/other_user}","gists_url":"https://api.github.com/users/SourceR85/gists{/gist_id}","starred_url":"https://api.github.com/users/SourceR85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SourceR85/subscriptions","organizations_url":"https://api.github.com/users/SourceR85/orgs","repos_url":"https://api.github.com/users/SourceR85/repos","events_url":"https://api.github.com/users/SourceR85/events{/privacy}","received_events_url":"https://api.github.com/users/SourceR85/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-30T15:27:22Z","updated_at":"2024-09-30T15:38:50Z","author_association":"CONTRIBUTOR","body":"As you expect: the docker volume got stuck...\r\nCan't write content into data (just `touch file` works)\r\n\r\nThis is my docker deployment (secrets removed)\r\n[couchdb.tar.gz](https://github.com/user-attachments/files/17192039/couchdb.tar.gz)\r\nThere's nothing fancy in it, as far as I can say...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2383523554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2383620017","html_url":"https://github.com/apache/couchdb/issues/5265#issuecomment-2383620017","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5265","id":2383620017,"node_id":"IC_kwDOAAMmUc6OEyex","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-30T16:10:28Z","updated_at":"2024-09-30T16:10:28Z","author_association":"CONTRIBUTOR","body":"> Can't write content into data (just touch file works)\r\n\r\nThat would explain it, I think. Good find. It's sneaky that `touch` works though. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2383620017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2383642543","html_url":"https://github.com/apache/couchdb/issues/5265#issuecomment-2383642543","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5265","id":2383642543,"node_id":"IC_kwDOAAMmUc6OE3-v","user":{"login":"SourceR85","id":1261013,"node_id":"MDQ6VXNlcjEyNjEwMTM=","avatar_url":"https://avatars.githubusercontent.com/u/1261013?v=4","gravatar_id":"","url":"https://api.github.com/users/SourceR85","html_url":"https://github.com/SourceR85","followers_url":"https://api.github.com/users/SourceR85/followers","following_url":"https://api.github.com/users/SourceR85/following{/other_user}","gists_url":"https://api.github.com/users/SourceR85/gists{/gist_id}","starred_url":"https://api.github.com/users/SourceR85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SourceR85/subscriptions","organizations_url":"https://api.github.com/users/SourceR85/orgs","repos_url":"https://api.github.com/users/SourceR85/repos","events_url":"https://api.github.com/users/SourceR85/events{/privacy}","received_events_url":"https://api.github.com/users/SourceR85/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-30T16:19:44Z","updated_at":"2024-09-30T16:22:06Z","author_association":"CONTRIBUTOR","body":"Just for curiosity, I stopped the container, rm & created couchdb-data and started the replication again:\r\nsame result...\r\n\r\n```\r\n[notice] 2024-09-30T16:14:19.553744Z nonode@nohost <0.14636.101> -------- Retrying POST request to http://localhost:5984/hzd/_bulk_docs in 4.0 seconds due to error {code,500}\r\n[error] 2024-09-30T16:14:19.574327Z nonode@nohost <0.16657.101> d5dfe20e02 rexi_server: from: nonode@nohost(<0.19120.101>) mfa: fabric_rpc:update_docs/3 exit:{{badmatch,{error,enospc}},[{couch_bt_engine,write_doc_body,2,[{file,\"src/couch_bt_engine.erl\"},{line,439}]},{couch_db_updater,'-flush_trees/3-fun-0-',6,[{file,\"src/couch_db_updater.erl\"},{line,384}]},{couch_key_tree,mapfold_simple,4,[{file,\"src/couch_key_tree.erl\"},{line,464}]},{couch_key_tree,mapfold_simple,4,[{file,\"src/couch_key_tree.erl\"},{line,473}]},{couch_key_tree,mapfold,3,[{file,\"src/couch_key_tree.erl\"},{line,457}]},{couch_db_updater,flush_trees,3,[{file,\"src/couch_db_updater.erl\"},{line,373}]},{couch_db_updater,update_docs_int,4,[{file,\"src/couch_db_updater.erl\"},{line,718}]},{couch_db_updater,handle_info,2,[{file,\"src/couch_db_updater.erl\"},{line,183}]}]} [{couch_db,collect_results,3,[{file,\"src/couch_db.erl\"},{line,1457}]},{couch_db,collect_results_with_metrics,3,[{file,\"src/couch_db.erl\"},{line,1439}]},{couch_db,write_and_commit,4,[{file,\"src/couch_db.erl\"},{line,1471}]},{couch_db,update_docs,4,[{file,\"src/couch_db.erl\"},{line,1333}]},{fabric_rpc,with_db,3,[{file,\"src/fabric_rpc.erl\"},{line,360}]},{rexi_server,init_p,3,[{file,\"src/rexi_server.erl\"},{line,141}]}]\r\n[info] 2024-09-30T16:14:19.574423Z nonode@nohost <0.243.0> -------- db shards/e0000000-ffffffff/hzd.1727710380 died with reason {{badmatch,{error,enospc}},[{couch_bt_engine,write_doc_body,2,[{file,\"src/couch_bt_engine.erl\"},{line,439}]},{couch_db_updater,'-flush_trees/3-fun-0-',6,[{file,\"src/couch_db_updater.erl\"},{line,384}]},{couch_key_tree,mapfold_simple,4,[{file,\"src/couch_key_tree.erl\"},{line,464}]},{couch_key_tree,mapfold_simple,4,[{file,\"src/couch_key_tree.erl\"},{line,473}]},{couch_key_tree,mapfold,3,[{file,\"src/couch_key_tree.erl\"},{line,457}]},{couch_db_updater,flush_trees,3,[{file,\"src/couch_db_updater.erl\"},{line,373}]},{couch_db_updater,update_docs_int,4,[{file,\"src/couch_db_updater.erl\"},{line,718}]},{couch_db_updater,handle_info,2,[{file,\"src/couch_db_updater.erl\"},{line,183}]}]}\r\n[error] 2024-09-30T16:14:19.574887Z nonode@nohost <0.18010.101> -------- gen_server <0.18010.101> terminated with reason: no match of right hand value {error,enospc} at couch_bt_engine:write_doc_body/2(line:439) <= couch_db_updater:'-flush_trees/3-fun-0-'/6(line:384) <= couch_key_tree:mapfold_simple/4(line:464) <= couch_key_tree:mapfold_simple/4(line:473) <= couch_key_tree:mapfold/3(line:457) <= couch_db_updater:flush_trees/3(line:373) <= couch_db_updater:update_docs_int/4(line:718) <= couch_db_updater:handle_info/2(line:183)\r\n  last msg: redacted\r\n     state: {db,1,<<\"shards/e0000000-ffffffff/hzd.1727710380\">>,\"./data/shards/e0000000-ffffffff/hzd.1727710380.couch\",{couch_bt_engine,{st,\"./data/shards/e0000000-ffffffff/hzd.1727710380.couch\",<0.19406.101>,#Ref<0.3603940510.502005771.203208>,undefined,{db_header,8,30406,0,{9450247660,{29670,687,{size_info,9279630171,9278136634}},12600491},{9450249167,30357,11927090},{9448039553,[],2388},nil,nil,4251,1000,<<\"2719778795232e78e860e5e8ab70c794\">>,[{nonode@nohost,0}],0,1000,0},false,{btree,<0.19406.101>,{9450247660,{29670,687,{size_info,9279630171,9278136634}},12600491},fun couch_bt_engine:id_tree_split/1,fun couch_bt_engine:id_tree_join/2,undefined,fun couch_bt_engine:id_tree_reduce/2,snappy},{btree,<0.19406.101>,{9450249167,30357,11927090},fun couch_bt_engine:seq_tree_split/1,fun couch_bt_engine:seq_tree_join/2,undefined,fun couch_bt_engine:seq_tree_reduce/2,snappy},{btree,<0.19406.101>,{9448039553,[],2388},fun couch_bt_engine:local_tree_split/1,fun couch_bt_engine:local_tree_join/2,undefined,nil,snappy},snappy,{btree,<0.19406.101>,nil,fun couch_bt_engine:purge_tree_split/1,fun couch_bt_engine:purge_tree_join/2,undefined,fun couch_bt_engine:purge_tree_reduce/2,snappy},{btree,<0.19406.101>,nil,fun couch_bt_engine:purge_seq_tree_split/1,fun couch_bt_engine:purge_seq_tree_join/2,undefined,fun couch_bt_engine:purge_tree_reduce/2,snappy}}},<0.18010.101>,nil,30406,<<\"1727712856444764\">>,{user_ctx,null,[],undefined},[{<<\"members\">>,{[{<<\"roles\">>,[<<\"_admin\">>]}]}},{<<\"admins\">>,{[{<<\"roles\">>,[<<\"_admin\">>]}]}}],[#Fun<couch_doc.7.91987333>],nil,nil,undefined,[{default_security_object,[{<<\"members\">>,{[{<<\"roles\">>,[<<\"_admin\">>]}]}},{<<\"admins\">>,{[{<<\"roles\">>,[<<\"_admin\">>]}]}}]},replicated_changes,{user_ctx,{user_ctx,<<\"groot\">>,[<<\"_admin\">>],<<\"cookie\">>}},{w,\"1\"},{props,[{partitioned,true},{hash,[couch_partition,hash,[]]}]}],undefined}\r\n    extra: []\r\n[notice] 2024-09-30T16:14:19.574938Z nonode@nohost <0.19120.101> d5dfe20e02 localhost:5984 127.0.0.1 groot POST /hzd/_bulk_docs 500 ok 21\r\n[error] 2024-09-30T16:14:19.575102Z nonode@nohost <0.18010.101> -------- gen_server <0.18010.101> terminated with reason: no match of right hand value {error,enospc} at couch_bt_engine:write_doc_body/2(line:439) <= couch_db_updater:'-flush_trees/3-fun-0-'/6(line:384) <= couch_key_tree:mapfold_simple/4(line:464) <= couch_key_tree:mapfold_simple/4(line:473) <= couch_key_tree:mapfold/3(line:457) <= couch_db_updater:flush_trees/3(line:373) <= couch_db_updater:update_docs_int/4(line:718) <= couch_db_updater:handle_info/2(line:183)\r\n  last msg: redacted\r\n     state: {db,1,<<\"shards/e0000000-ffffffff/hzd.1727710380\">>,\"./data/shards/e0000000-ffffffff/hzd.1727710380.couch\",{couch_bt_engine,{st,\"./data/shards/e0000000-ffffffff/hzd.1727710380.couch\",<0.19406.101>,#Ref<0.3603940510.502005771.203208>,undefined,{db_header,8,30406,0,{9450247660,{29670,687,{size_info,9279630171,9278136634}},12600491},{9450249167,30357,11927090},{9448039553,[],2388},nil,nil,4251,1000,<<\"2719778795232e78e860e5e8ab70c794\">>,[{nonode@nohost,0}],0,1000,0},false,{btree,<0.19406.101>,{9450247660,{29670,687,{size_info,9279630171,9278136634}},12600491},fun couch_bt_engine:id_tree_split/1,fun couch_bt_engine:id_tree_join/2,undefined,fun couch_bt_engine:id_tree_reduce/2,snappy},{btree,<0.19406.101>,{9450249167,30357,11927090},fun couch_bt_engine:seq_tree_split/1,fun couch_bt_engine:seq_tree_join/2,undefined,fun couch_bt_engine:seq_tree_reduce/2,snappy},{btree,<0.19406.101>,{9448039553,[],2388},fun couch_bt_engine:local_tree_split/1,fun couch_bt_engine:local_tree_join/2,undefined,nil,snappy},snappy,{btree,<0.19406.101>,nil,fun couch_bt_engine:purge_tree_split/1,fun couch_bt_engine:purge_tree_join/2,undefined,fun couch_bt_engine:purge_tree_reduce/2,snappy},{btree,<0.19406.101>,nil,fun couch_bt_engine:purge_seq_tree_split/1,fun couch_bt_engine:purge_seq_tree_join/2,undefined,fun couch_bt_engine:purge_tree_reduce/2,snappy}}},<0.18010.101>,nil,30406,<<\"1727712856444764\">>,{user_ctx,null,[],undefined},[{<<\"members\">>,{[{<<\"roles\">>,[<<\"_admin\">>]}]}},{<<\"admins\">>,{[{<<\"roles\">>,[<<\"_admin\">>]}]}}],[#Fun<couch_doc.7.91987333>],nil,nil,undefined,[{default_security_object,[{<<\"members\">>,{[{<<\"roles\">>,[<<\"_admin\">>]}]}},{<<\"admins\">>,{[{<<\"roles\">>,[<<\"_admin\">>]}]}}]},replicated_changes,{user_ctx,{user_ctx,<<\"groot\">>,[<<\"_admin\">>],<<\"cookie\">>}},{w,\"1\"},{props,[{partitioned,true},{hash,[couch_partition,hash,[]]}]}],undefined}\r\n    extra: []\r\n[error] 2024-09-30T16:14:19.575128Z nonode@nohost <0.14636.101> -------- Replicator, request POST to \"http://localhost:5984/hzd/_bulk_docs\" failed due to error {code,500}\r\n[error] 2024-09-30T16:14:19.575198Z nonode@nohost <0.18010.101> -------- CRASH REPORT Process  (<0.18010.101>) with 0 neighbors crashed with reason: no match of right hand value {error,enospc} at couch_bt_engine:write_doc_body/2(line:439) <= couch_db_updater:'-flush_trees/3-fun-0-'/6(line:384) <= couch_key_tree:mapfold_simple/4(line:464) <= couch_key_tree:mapfold_simple/4(line:473)\r\n```\r\n\r\n![grafik](https://github.com/user-attachments/assets/27eae1c7-1df2-4e7c-90ca-af6484b128a1)\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2383642543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2383718303","html_url":"https://github.com/apache/couchdb/issues/5002#issuecomment-2383718303","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5002","id":2383718303,"node_id":"IC_kwDOAAMmUc6OFKef","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-30T16:59:31Z","updated_at":"2024-09-30T16:59:31Z","author_association":"MEMBER","body":"3.4.1 is out now with nouveau (marked `EXPERIMENTAL`).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2383718303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2383892141","html_url":"https://github.com/apache/couchdb/pull/5266#issuecomment-2383892141","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5266","id":2383892141,"node_id":"IC_kwDOAAMmUc6OF06t","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-30T18:29:39Z","updated_at":"2024-09-30T18:29:39Z","author_association":"CONTRIBUTOR","body":"Couchjs should actually be deleted and remain or?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2383892141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2383913970","html_url":"https://github.com/apache/couchdb/pull/5266#issuecomment-2383913970","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5266","id":2383913970,"node_id":"IC_kwDOAAMmUc6OF6Py","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-30T18:42:43Z","updated_at":"2024-09-30T18:42:43Z","author_association":"CONTRIBUTOR","body":"> Couchjs should actually be deleted and remain or?\r\n\r\nYes \r\n\r\n\r\nThat is cleaned by `rebar -r clean` since it's a proper build artifact of rebar ports. The copy in bin is cleaned a few lines above.\r\n\r\nBut as KGB used to say \"trust, but verify!\":\r\n\r\n```\r\n% ls src/couch/priv/couchjs\r\nsrc/couch/priv/couchjs*\r\n```\r\n\r\n```\r\n./bin/rebar -r clean\r\n```\r\n\r\n```\r\nls src/couch/priv/couchjs\r\nls: src/couch/priv/couchjs: No such file or directory\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2383913970/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2384072107","html_url":"https://github.com/apache/couchdb/issues/5265#issuecomment-2384072107","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5265","id":2384072107,"node_id":"IC_kwDOAAMmUc6OGg2r","user":{"login":"SourceR85","id":1261013,"node_id":"MDQ6VXNlcjEyNjEwMTM=","avatar_url":"https://avatars.githubusercontent.com/u/1261013?v=4","gravatar_id":"","url":"https://api.github.com/users/SourceR85","html_url":"https://github.com/SourceR85","followers_url":"https://api.github.com/users/SourceR85/followers","following_url":"https://api.github.com/users/SourceR85/following{/other_user}","gists_url":"https://api.github.com/users/SourceR85/gists{/gist_id}","starred_url":"https://api.github.com/users/SourceR85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SourceR85/subscriptions","organizations_url":"https://api.github.com/users/SourceR85/orgs","repos_url":"https://api.github.com/users/SourceR85/repos","events_url":"https://api.github.com/users/SourceR85/events{/privacy}","received_events_url":"https://api.github.com/users/SourceR85/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-30T20:18:35Z","updated_at":"2024-09-30T20:33:38Z","author_association":"CONTRIBUTOR","body":"My fault: I'm using Docker Desktop, the max. storage capacity was globally set to 100GB and the source (CouchDB 3.3.3) is running in parallel, so I can replicate from it...\r\nMy assumption was, that I'm running docker without limits.\r\n\r\nSo nickva spotted it right on his first comment:\r\n\r\n> enospc from `no match of right hand value {error,enospc}` indicates we're probably running out of disk space [1]\r\n> \r\n> It should be a more friendly message in the log, but at least first sight that's what's jumping out.\r\n> \r\n> [1] https://www.man7.org/linux/man-pages/man3/errno.3.html\r\n\r\nThere may be two ideas for improvement, that I can provide from my fault:\r\n1. A more user friendly error message than {error,enospc}.\r\n2. Quit CouchDB on that error (since health-checks run fine, as long as the endpoints are reachable) or report an unhealthy status in _up endpoint ([507 Insufficient Storage](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/507) may fit for this purpose).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2384072107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2384095566","html_url":"https://github.com/apache/couchdb/issues/5265#issuecomment-2384095566","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5265","id":2384095566,"node_id":"IC_kwDOAAMmUc6OGmlO","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-30T20:33:28Z","updated_at":"2024-09-30T20:33:28Z","author_association":"CONTRIBUTOR","body":"No worries at all, thanks for reaching out.\r\n\r\nYeah, agree a more friendly error would be nice in the logs.\r\n\r\nAnd it turns out we do have a disk monitor now in 3.4 (the work of @rnewson)!\r\n\r\nhttps://docs.couchdb.org/en/stable/config/disk-monitor.html if you configure it, it will stop indexing when approaching the limit and return a meaningful API error.\r\n\r\nSee https://github.com/apache/couchdb/pull/4681 for the PR comments and the implementation.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2384095566/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2388774254","html_url":"https://github.com/apache/couchdb/issues/5271#issuecomment-2388774254","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5271","id":2388774254,"node_id":"IC_kwDOAAMmUc6OYc1u","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-02T14:19:59Z","updated_at":"2024-10-02T14:19:59Z","author_association":"MEMBER","body":"Great catch, the legacy aliases `Infinity` and `-Infinity` were removed as part of b738ccbc14f082fa404c95510fa604f15f12f8a7 but I forgot to update the documentation to match.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2388774254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2388778430","html_url":"https://github.com/apache/couchdb/issues/5273#issuecomment-2388778430","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5273","id":2388778430,"node_id":"IC_kwDOAAMmUc6OYd2-","user":{"login":"espy","id":391124,"node_id":"MDQ6VXNlcjM5MTEyNA==","avatar_url":"https://avatars.githubusercontent.com/u/391124?v=4","gravatar_id":"","url":"https://api.github.com/users/espy","html_url":"https://github.com/espy","followers_url":"https://api.github.com/users/espy/followers","following_url":"https://api.github.com/users/espy/following{/other_user}","gists_url":"https://api.github.com/users/espy/gists{/gist_id}","starred_url":"https://api.github.com/users/espy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/espy/subscriptions","organizations_url":"https://api.github.com/users/espy/orgs","repos_url":"https://api.github.com/users/espy/repos","events_url":"https://api.github.com/users/espy/events{/privacy}","received_events_url":"https://api.github.com/users/espy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-02T14:21:36Z","updated_at":"2024-10-02T14:21:36Z","author_association":"NONE","body":"Just found this [Nouveau API docs page](https://docs.couchdb.org/en/latest/api/ddoc/nouveau.html#api-ddoc-nouveau) which has the correct syntax, so I suppose the docs on the [main Nouveau page](https://docs.couchdb.org/en/latest/ddocs/nouveau.html#ranges) are simply out of date. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2388778430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2388779927","html_url":"https://github.com/apache/couchdb/issues/5271#issuecomment-2388779927","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5271","id":2388779927,"node_id":"IC_kwDOAAMmUc6OYeOX","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-02T14:22:10Z","updated_at":"2024-10-02T14:22:19Z","author_association":"MEMBER","body":"also noting that the index function is actually\r\n\r\n```\r\nfunction(doc){ if (doc.votes) { index('double', 'votes', doc.votes) } }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2388779927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2388782475","html_url":"https://github.com/apache/couchdb/issues/5273#issuecomment-2388782475","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5273","id":2388782475,"node_id":"IC_kwDOAAMmUc6OYe2L","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-02T14:23:07Z","updated_at":"2024-10-02T14:23:07Z","author_association":"MEMBER","body":"I was just getting to this ticket. Yes, the nouveau syntax here is different. I will confirm it all works as documented now.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2388782475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2388785080","html_url":"https://github.com/apache/couchdb/issues/5273#issuecomment-2388785080","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5273","id":2388785080,"node_id":"IC_kwDOAAMmUc6OYfe4","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-02T14:24:10Z","updated_at":"2024-10-02T14:24:10Z","author_association":"MEMBER","body":"Thank you for the feedback btw, this is exactly the sort of thing I was hoping for in the first release. Hopefully it's all just little documentation oopsies...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2388785080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2389449195","html_url":"https://github.com/apache/couchdb/issues/4650#issuecomment-2389449195","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4650","id":2389449195,"node_id":"IC_kwDOAAMmUc6ObBnr","user":{"login":"tsloughter","id":36227,"node_id":"MDQ6VXNlcjM2MjI3","avatar_url":"https://avatars.githubusercontent.com/u/36227?v=4","gravatar_id":"","url":"https://api.github.com/users/tsloughter","html_url":"https://github.com/tsloughter","followers_url":"https://api.github.com/users/tsloughter/followers","following_url":"https://api.github.com/users/tsloughter/following{/other_user}","gists_url":"https://api.github.com/users/tsloughter/gists{/gist_id}","starred_url":"https://api.github.com/users/tsloughter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tsloughter/subscriptions","organizations_url":"https://api.github.com/users/tsloughter/orgs","repos_url":"https://api.github.com/users/tsloughter/repos","events_url":"https://api.github.com/users/tsloughter/events{/privacy}","received_events_url":"https://api.github.com/users/tsloughter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-02T18:45:17Z","updated_at":"2024-10-02T18:45:17Z","author_association":"NONE","body":"Is this an implementation of the OpenTelemetry exponential histogram? We don't have it yet in OpenTelemetry so great if we'd just be able to copy this.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2389449195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2389563586","html_url":"https://github.com/apache/couchdb/issues/4650#issuecomment-2389563586","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4650","id":2389563586,"node_id":"IC_kwDOAAMmUc6ObdjC","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-02T19:55:53Z","updated_at":"2024-10-02T19:55:53Z","author_association":"CONTRIBUTOR","body":"> Is this an implementation of the OpenTelemetry exponential histogram? \r\n\r\nI think so? I don't recall exactly. I just remember one I looked at was a base 2 and other base 10. I mainly focused on replacing the Folsom histogram type used in CouchDB, as opposed going for something more generally used. The main trick was to use the neat Erlang bitstring destructuring of the float value to get the bin index quickly: `<<0:1, BinIndex:?INDEX_BITS, _/bitstring>> = <<Val/float>>,` then a bunch of counters and persistent terms to store it all.\r\n\r\nThe main PR is https://github.com/apache/couchdb/pull/4672, but overall it's all contained in one main file: https://github.com/apache/couchdb/blob/main/src/couch_stats/src/couch_stats_histogram.erl and the sliding window \r\n\"cleaner\" server in https://github.com/apache/couchdb/blob/main/src/couch_stats/src/couch_stats_server.erl\r\n\r\n> We don't have it yet in OpenTelemetry so great if we'd just be able to copy this.\r\n\r\nYeah, definitely, feel free to copy and use any parts of it!\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2389563586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2389809696","html_url":"https://github.com/apache/couchdb/pull/5270#issuecomment-2389809696","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5270","id":2389809696,"node_id":"IC_kwDOAAMmUc6OcZog","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-02T22:43:15Z","updated_at":"2024-10-03T00:10:43Z","author_association":"CONTRIBUTOR","body":"Investigating this with @jaydoane we noticed that in some case we were still getting conflicts with n=3 node cluster.\r\n\r\nDebugging a bit more what it we found out was that the internal replicator and the read repair mechanism was also involved in reading the after_doc_read/2 bodies and trying to write them to other 2 copies. We'll need another update in the PR to: 1) ignore after_doc_read/2 if if it's the internal replicator 2) somehow avoid read repair for _replicator shards","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2389809696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2391056785","html_url":"https://github.com/apache/couchdb/issues/4650#issuecomment-2391056785","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4650","id":2391056785,"node_id":"IC_kwDOAAMmUc6OhKGR","user":{"login":"tsloughter","id":36227,"node_id":"MDQ6VXNlcjM2MjI3","avatar_url":"https://avatars.githubusercontent.com/u/36227?v=4","gravatar_id":"","url":"https://api.github.com/users/tsloughter","html_url":"https://github.com/tsloughter","followers_url":"https://api.github.com/users/tsloughter/followers","following_url":"https://api.github.com/users/tsloughter/following{/other_user}","gists_url":"https://api.github.com/users/tsloughter/gists{/gist_id}","starred_url":"https://api.github.com/users/tsloughter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tsloughter/subscriptions","organizations_url":"https://api.github.com/users/tsloughter/orgs","repos_url":"https://api.github.com/users/tsloughter/repos","events_url":"https://api.github.com/users/tsloughter/events{/privacy}","received_events_url":"https://api.github.com/users/tsloughter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-03T10:25:16Z","updated_at":"2024-10-03T10:25:16Z","author_association":"NONE","body":"Thanks. Hope to dig in more soon.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2391056785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2392303508","html_url":"https://github.com/apache/couchdb/issues/5279#issuecomment-2392303508","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5279","id":2392303508,"node_id":"IC_kwDOAAMmUc6Ol6eU","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-03T20:46:59Z","updated_at":"2024-10-03T20:46:59Z","author_association":"CONTRIBUTOR","body":"Hi,\r\n\r\nI think you are wrong here. CouchDB is not CockroachDB!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2392303508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2392732586","html_url":"https://github.com/apache/couchdb/issues/5279#issuecomment-2392732586","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5279","id":2392732586,"node_id":"IC_kwDOAAMmUc6OnjOq","user":{"login":"safaci2000","id":62894,"node_id":"MDQ6VXNlcjYyODk0","avatar_url":"https://avatars.githubusercontent.com/u/62894?v=4","gravatar_id":"","url":"https://api.github.com/users/safaci2000","html_url":"https://github.com/safaci2000","followers_url":"https://api.github.com/users/safaci2000/followers","following_url":"https://api.github.com/users/safaci2000/following{/other_user}","gists_url":"https://api.github.com/users/safaci2000/gists{/gist_id}","starred_url":"https://api.github.com/users/safaci2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/safaci2000/subscriptions","organizations_url":"https://api.github.com/users/safaci2000/orgs","repos_url":"https://api.github.com/users/safaci2000/repos","events_url":"https://api.github.com/users/safaci2000/events{/privacy}","received_events_url":"https://api.github.com/users/safaci2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-04T03:42:59Z","updated_at":"2024-10-04T03:42:59Z","author_association":"NONE","body":"Jeez, sorry.  Yeah, couchDB is very much not the same and far less gross sounding. :P Sorry everyone. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2392732586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2394534601","html_url":"https://github.com/apache/couchdb/pull/5281#issuecomment-2394534601","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5281","id":2394534601,"node_id":"IC_kwDOAAMmUc6OubLJ","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-04T20:40:18Z","updated_at":"2024-10-04T20:40:18Z","author_association":"CONTRIBUTOR","body":"Thanks to @big-r81 for pointing out the inconsistency!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2394534601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2395372416","html_url":"https://github.com/apache/couchdb/pull/5280#issuecomment-2395372416","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5280","id":2395372416,"node_id":"IC_kwDOAAMmUc6OxnuA","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-06T09:50:52Z","updated_at":"2024-10-06T09:50:52Z","author_association":"CONTRIBUTOR","body":"Thank you @nickva!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2395372416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2396794634","html_url":"https://github.com/apache/couchdb/issues/5284#issuecomment-2396794634","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5284","id":2396794634,"node_id":"IC_kwDOAAMmUc6O3C8K","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-07T12:29:11Z","updated_at":"2024-10-07T12:29:11Z","author_association":"MEMBER","body":"At the shard level we collect the top 10 results for a counts facet, this can be overridden in the http request body to nouveau. Unfortunately there is no way to ask couchdb to do so as yet, we need to add a query parameter to the `_nouveau` endpoint and ensure it gets passed to nouveau on the java side. Happily the hard bit is done, this is just plumbing (and some docs...)\r\n\r\nhttps://github.com/apache/couchdb/blob/main/nouveau/src/main/java/org/apache/couchdb/nouveau/api/SearchRequest.java#L59\r\n\r\nhttps://github.com/apache/couchdb/blob/main/nouveau/src/main/java/org/apache/couchdb/nouveau/api/SearchRequest.java#L162\r\n\r\nhttps://github.com/apache/couchdb/blob/main/nouveau/src/main/java/org/apache/couchdb/nouveau/lucene9/Lucene9Index.java#L306","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2396794634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2399507115","html_url":"https://github.com/apache/couchdb/pull/4792#issuecomment-2399507115","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4792","id":2399507115,"node_id":"IC_kwDOAAMmUc6PBZKr","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-08T10:47:59Z","updated_at":"2024-10-08T10:52:04Z","author_association":"MEMBER","body":"Hi,\r\n\r\n`_find` was briefly discussed in the last couchdb meeting. \r\n\r\nI've personally gone off the idea of yet more flags inside the `/dbname/_find` request body that intend to coerce it to make fewer bad decisions, I would not like to see it happen without a new developer vote.\r\n\r\nI see a fork in the road for `/dbname/_find`. It takes one of two forks as I see it;\r\n\r\n1) CouchDB's indexing will get richer, or mango will get smarter (capable of using multiple indexes for a query, using information from one to more efficiently skip through another). In other words, to become what it looks like it is on the outside, but is not on the inside.\r\n\r\n2) It continues to be just a naive selector between existing indexes, albeit indexes with the very significant benefit of not requiring a javascript callout.\r\n\r\nIf we take the first path, then neither the new allow_fallback parameter or the existing use_index parameter would be necessary, we'd gladly deprecate them.\r\n\r\nIf we take the second path, then we're making a bad idea worse.\r\n\r\nI would prefer to add `_find` at the same url places where index-specific queries were performed prior to Mango. i.e, `/dbname/_design/ddocname/_view/viewname` and `/dbname/_design/ddocname/_search/indexname`. Requests to those endpoints will take a json request body, treat it as a selector, and either reject with a 400 Bad Request if the index is unsuitable, or proceed with the query against the index in the URL. `use_index` in that request body would generate a 400 Bad Request.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2399507115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2399618410","html_url":"https://github.com/apache/couchdb/pull/4792#issuecomment-2399618410","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4792","id":2399618410,"node_id":"IC_kwDOAAMmUc6PB0Vq","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-08T11:45:14Z","updated_at":"2024-10-08T11:45:14Z","author_association":"CONTRIBUTOR","body":"I was under the impression that `allow_fallback` is a reasonable compromise to treat these problems, especially it was the one you proposed and there seem to be an agreement around it.  That said, I do not agree that it would make things worse.  I really like that it goes well with the previously established principles of the top-level `_find` endpoint.\r\n\r\nI believe that `_find` shall always be declarative in nature and as such, making it work like `_search` makes less sense.  If users need something that Search can do, they can always choose to use that instead.\r\n\r\nNow we have a tool at hand at least that can save users from running badly planned queries, which could be useful even after the enhancements you suggested in the first point above have been implemented.  We could always deprecate it later, once we have a better view at which one of the branches has been eventually taken or it is deemed to be unnecessary.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2399618410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2404438958","html_url":"https://github.com/apache/couchdb/issues/3517#issuecomment-2404438958","issue_url":"https://api.github.com/repos/apache/couchdb/issues/3517","id":2404438958,"node_id":"IC_kwDOAAMmUc6PUNOu","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-10T08:27:31Z","updated_at":"2024-10-10T08:27:31Z","author_association":"MEMBER","body":"Update: our QuickJS port has support for SM185-style functions and does not suffer from this. So if you need custom reduces, try out QuickJS: https://docs.couchdb.org/en/stable/best-practices/jsdevel.html#using-quickjs // bit more detail: https://neighbourhood.ie/blog/2024/09/23/couchdb-3-4-0-feature-quickjs","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2404438958/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2404991646","html_url":"https://github.com/apache/couchdb/issues/5291#issuecomment-2404991646","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5291","id":2404991646,"node_id":"IC_kwDOAAMmUc6PWUKe","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-10T12:45:23Z","updated_at":"2024-10-10T12:45:23Z","author_association":"MEMBER","body":"we had a brief look at [the index calculation](https://github.com/apache/couchdb/blob/main/src/nouveau/src/nouveau_util.erl#L63), but couldnt spot anything obviously wrong.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2404991646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2404994833","html_url":"https://github.com/apache/couchdb/issues/5291#issuecomment-2404994833","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5291","id":2404994833,"node_id":"IC_kwDOAAMmUc6PWU8R","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-10T12:46:52Z","updated_at":"2024-10-10T12:46:52Z","author_association":"MEMBER","body":"thanks, will find and fix. \r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2404994833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2405014518","html_url":"https://github.com/apache/couchdb/issues/5291#issuecomment-2405014518","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5291","id":2405014518,"node_id":"IC_kwDOAAMmUc6PWZv2","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-10T12:55:49Z","updated_at":"2024-10-10T12:55:49Z","author_association":"MEMBER","body":"I don't follow? How are you seeing a signature at all? ```curl 'http://foo:bar@localhost:15984/db1/_design/baz/_nouveau_info/foo?q=*:*' -s | jq\r\n{\r\n  \"name\": \"_design/baz/foo\",\r\n  \"search_index\": {\r\n    \"update_seq\": 23,\r\n    \"purge_seq\": 0,\r\n    \"num_docs\": 0,\r\n    \"disk_size\": 228\r\n  }\r\n}```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2405014518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2405037298","html_url":"https://github.com/apache/couchdb/issues/5291#issuecomment-2405037298","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5291","id":2405037298,"node_id":"IC_kwDOAAMmUc6PWfTy","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-10T13:03:23Z","updated_at":"2024-10-10T13:03:23Z","author_association":"MEMBER","body":"ah, we used `_info`, not `_nouveau_info`, we were looking how to match a Nouveau ddoc to the index(es) on disk.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2405037298/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2405059880","html_url":"https://github.com/apache/couchdb/issues/5291#issuecomment-2405059880","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5291","id":2405059880,"node_id":"IC_kwDOAAMmUc6PWk0o","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-10T13:13:09Z","updated_at":"2024-10-10T13:13:09Z","author_association":"MEMBER","body":"the one from _info is under `view_indexer` and relates only to the view group. it is correct that a nouveau blob doesn't change it.\r\n\r\nWill add 'signature' to _nouveau_info output in response to this issue though","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2405059880/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2405856064","html_url":"https://github.com/apache/couchdb/issues/5283#issuecomment-2405856064","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5283","id":2405856064,"node_id":"IC_kwDOAAMmUc6PZnNA","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-10T19:14:02Z","updated_at":"2024-10-10T19:14:02Z","author_association":"CONTRIBUTOR","body":"Good idea to stop writting and perhaps bump a metric.\r\n\r\nAnother way to handle it might be to use rsyslog or log to journald vs just a plain file.\r\n\r\nWe switched to using journald for RPM-based distros in 3.4.0, for instance.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2405856064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2407514450","html_url":"https://github.com/apache/couchdb/issues/1303#issuecomment-2407514450","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1303","id":2407514450,"node_id":"IC_kwDOAAMmUc6Pf8FS","user":{"login":"eight04","id":1324510,"node_id":"MDQ6VXNlcjEzMjQ1MTA=","avatar_url":"https://avatars.githubusercontent.com/u/1324510?v=4","gravatar_id":"","url":"https://api.github.com/users/eight04","html_url":"https://github.com/eight04","followers_url":"https://api.github.com/users/eight04/followers","following_url":"https://api.github.com/users/eight04/following{/other_user}","gists_url":"https://api.github.com/users/eight04/gists{/gist_id}","starred_url":"https://api.github.com/users/eight04/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eight04/subscriptions","organizations_url":"https://api.github.com/users/eight04/orgs","repos_url":"https://api.github.com/users/eight04/repos","events_url":"https://api.github.com/users/eight04/events{/privacy}","received_events_url":"https://api.github.com/users/eight04/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-11T14:17:51Z","updated_at":"2024-10-11T14:17:51Z","author_association":"NONE","body":"Today I downloaded couchdb-3.4.1 installer on Windows 10. Then the file was immediately removed by McAfee.\r\n\r\nAfter bringing it back, I verified sha256, installed, and now the service runs successfully. Though McAfee is still complaining about the installer.\r\n![image](https://github.com/user-attachments/assets/1644f39f-3e9f-4e80-a89d-c437842cd8df)\r\n![image](https://github.com/user-attachments/assets/dd21bb15-9d54-4cc8-8af1-c134193095b7)\r\n![image](https://github.com/user-attachments/assets/7868ead2-d6f4-4b75-a1f9-824f7654a3a8)\r\n\r\nMaybe this is a different issue?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2407514450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2408538390","html_url":"https://github.com/apache/couchdb/pull/5032#issuecomment-2408538390","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5032","id":2408538390,"node_id":"IC_kwDOAAMmUc6Pj2EW","user":{"login":"DarrenCook","id":880436,"node_id":"MDQ6VXNlcjg4MDQzNg==","avatar_url":"https://avatars.githubusercontent.com/u/880436?v=4","gravatar_id":"","url":"https://api.github.com/users/DarrenCook","html_url":"https://github.com/DarrenCook","followers_url":"https://api.github.com/users/DarrenCook/followers","following_url":"https://api.github.com/users/DarrenCook/following{/other_user}","gists_url":"https://api.github.com/users/DarrenCook/gists{/gist_id}","starred_url":"https://api.github.com/users/DarrenCook/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DarrenCook/subscriptions","organizations_url":"https://api.github.com/users/DarrenCook/orgs","repos_url":"https://api.github.com/users/DarrenCook/repos","events_url":"https://api.github.com/users/DarrenCook/events{/privacy}","received_events_url":"https://api.github.com/users/DarrenCook/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-12T12:01:12Z","updated_at":"2024-10-12T12:01:12Z","author_association":"NONE","body":"What is the config option to disable it? The 3.4 changelog only says:\r\n\r\n> [#5032](https://github.com/apache/couchdb/issues/5032): Temporarily block access by client IP for repeated authentication failures. Can be disabled in config.\r\n\r\nAnd I can't spot it in https://docs.couchdb.org/en/stable/config/http.html (or any other docs pages so far).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2408538390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2408542962","html_url":"https://github.com/apache/couchdb/pull/5032#issuecomment-2408542962","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5032","id":2408542962,"node_id":"IC_kwDOAAMmUc6Pj3Ly","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-12T12:15:41Z","updated_at":"2024-10-12T12:15:41Z","author_association":"CONTRIBUTOR","body":"@DarrenCook see https://docs.couchdb.org/en/stable/config/auth.html#chttpd_auth_lockout","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2408542962/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2408549958","html_url":"https://github.com/apache/couchdb/pull/5032#issuecomment-2408549958","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5032","id":2408549958,"node_id":"IC_kwDOAAMmUc6Pj45G","user":{"login":"DarrenCook","id":880436,"node_id":"MDQ6VXNlcjg4MDQzNg==","avatar_url":"https://avatars.githubusercontent.com/u/880436?v=4","gravatar_id":"","url":"https://api.github.com/users/DarrenCook","html_url":"https://github.com/DarrenCook","followers_url":"https://api.github.com/users/DarrenCook/followers","following_url":"https://api.github.com/users/DarrenCook/following{/other_user}","gists_url":"https://api.github.com/users/DarrenCook/gists{/gist_id}","starred_url":"https://api.github.com/users/DarrenCook/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DarrenCook/subscriptions","organizations_url":"https://api.github.com/users/DarrenCook/orgs","repos_url":"https://api.github.com/users/DarrenCook/repos","events_url":"https://api.github.com/users/DarrenCook/events{/privacy}","received_events_url":"https://api.github.com/users/DarrenCook/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-12T12:37:35Z","updated_at":"2024-10-12T12:37:35Z","author_association":"NONE","body":"Thanks. The changelog made it sound like it is on by default, but the docs say `off` is the default, which makes more sense.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2408549958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2408619545","html_url":"https://github.com/apache/couchdb/pull/5299#issuecomment-2408619545","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5299","id":2408619545,"node_id":"IC_kwDOAAMmUc6PkJ4Z","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-12T16:32:07Z","updated_at":"2024-10-12T16:32:07Z","author_association":"CONTRIBUTOR","body":"We could shrink the `couchjs_(mainjs|coffee).exe` even more, if we remove the '-g' compiler option ...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2408619545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2408660651","html_url":"https://github.com/apache/couchdb/pull/5299#issuecomment-2408660651","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5299","id":2408660651,"node_id":"IC_kwDOAAMmUc6PkT6r","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-12T18:56:26Z","updated_at":"2024-10-12T18:56:26Z","author_association":"CONTRIBUTOR","body":"> If `-g` helps shrink it further we can go for it. It would have to be worth it though, as `-g` could help if we get crash dump and there are some symbols in there.\r\n\r\nYeah youre completely right. Might be easier to read these crash dumps instead of memory addresses .\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2408660651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2417490155","html_url":"https://github.com/apache/couchdb/pull/4792#issuecomment-2417490155","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4792","id":2417490155,"node_id":"IC_kwDOAAMmUc6QF_jr","user":{"login":"jaydoane","id":51209,"node_id":"MDQ6VXNlcjUxMjA5","avatar_url":"https://avatars.githubusercontent.com/u/51209?v=4","gravatar_id":"","url":"https://api.github.com/users/jaydoane","html_url":"https://github.com/jaydoane","followers_url":"https://api.github.com/users/jaydoane/followers","following_url":"https://api.github.com/users/jaydoane/following{/other_user}","gists_url":"https://api.github.com/users/jaydoane/gists{/gist_id}","starred_url":"https://api.github.com/users/jaydoane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaydoane/subscriptions","organizations_url":"https://api.github.com/users/jaydoane/orgs","repos_url":"https://api.github.com/users/jaydoane/repos","events_url":"https://api.github.com/users/jaydoane/events{/privacy}","received_events_url":"https://api.github.com/users/jaydoane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-16T17:39:12Z","updated_at":"2024-10-16T17:39:12Z","author_association":"CONTRIBUTOR","body":"> This is a nice improvement that will improve the mango user experience.\r\n\r\n @garrensmith!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2417490155/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2418112383","html_url":"https://github.com/apache/couchdb/pull/4792#issuecomment-2418112383","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4792","id":2418112383,"node_id":"IC_kwDOAAMmUc6QIXd_","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-16T23:03:08Z","updated_at":"2024-10-17T02:13:22Z","author_association":"CONTRIBUTOR","body":"I liked @rnewson's idea of a very simple/predictable view that uses the selector syntax instead of javascript so tried this: https://github.com/apache/couchdb/pull/5310. It's even simpler than proposed, as it just uses the `_design/.../_view/...` pattern that we know (and love?).\r\n\r\nAs for this particular PR, I think it's fine. We already got `_find` with it's good/bad parts, so adding more control over index selection seem reasonable.\r\n\r\nAs for the future of `_find`, it's hard to say. Will we get a super-duper query planner like Postgres? Probably not any time soon. But I could see adding incremental improvements such as being able to merge two or more indexes to get the `$or` working properly (we already merge index results in fabric anyway!), so wouldn't like to preemptively neuter _find just yet.\r\n\r\nAnyway just my $0.02.\r\n\r\nAlso  to @garrensmith!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2418112383/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2420668218","html_url":"https://github.com/apache/couchdb/pull/5311#issuecomment-2420668218","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5311","id":2420668218,"node_id":"IC_kwDOAAMmUc6QSHc6","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-17T21:53:02Z","updated_at":"2024-10-17T21:53:02Z","author_association":"CONTRIBUTOR","body":"This is basically just undefined variables:\r\n\r\n```\r\n% qjs\r\nQuickJS - Type \"\\h\" for help\r\nqjs > x = y;\r\nReferenceError: 'y' is not defined\r\n    at <eval> (<evalScript>)\r\nqjs >\r\n```\r\n\r\n```\r\n% js\r\njs> x = y;\r\ntypein:1: ReferenceError: y is not defined\r\n```\r\n\r\n```\r\n% js91\r\njs> x = y;\r\ntypein:1:1 ReferenceError: y is not defined\r\nStack:\r\n  @typein:1:1\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2420668218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2422561550","html_url":"https://github.com/apache/couchdb/pull/4792#issuecomment-2422561550","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4792","id":2422561550,"node_id":"IC_kwDOAAMmUc6QZVsO","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-18T14:06:43Z","updated_at":"2024-10-18T14:06:43Z","author_association":"MEMBER","body":"@pgj had a chat just now to go over our differences. I'm happy to see allow_fallback:true|false merged, and will do when CI finishes successfully.\r\n\r\nI do want us to follow up with either the `/db/_design/foo/_find/bar` or `/db/_design/foo/_view/bar` that takes a selector, as I think those are easier to advocate for, and to see in logs and client libraries, to help users migrate to a safer place where they can't accidentally fall into seriously suboptimal query performance.\r\n\r\nI also think allow_fallback should default to `false` in a future CouchDB major release.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2422561550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2422731682","html_url":"https://github.com/apache/couchdb/pull/5309#issuecomment-2422731682","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5309","id":2422731682,"node_id":"IC_kwDOAAMmUc6QZ_Oi","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-18T15:27:54Z","updated_at":"2024-10-18T15:27:54Z","author_association":"CONTRIBUTOR","body":"> Very nice, @iilyak !\r\n> \r\n> I noticed it has one extra error now after the types were added.\r\n> \r\n> ```\r\n> src/dreyfus_index.erl:297:17: The variable Error can never match since previous clauses completely covered the type\r\n>           {'ok', non_neg_integer()}\r\n> ```\r\n> \r\n> I wonder why that is? It would be nice if adding more types would reduce the discrepancies and show less errors not more.\r\n\r\nThis has been fixed by changing return type.\r\n\r\n```diff\r\n-          {'ok', non_neg_integer()}\r\n+          {'ok', non_neg_integer()} | error()\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2422731682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2422745292","html_url":"https://github.com/apache/couchdb/pull/5309#issuecomment-2422745292","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5309","id":2422745292,"node_id":"IC_kwDOAAMmUc6QaCjM","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-18T15:35:05Z","updated_at":"2024-10-18T15:35:05Z","author_association":"CONTRIBUTOR","body":"> This has been fixed by changing return type.\r\n> \r\n> ```diff\r\n> -          {'ok', non_neg_integer()}\r\n> +          {'ok', non_neg_integer()} | error()\r\n> ```\r\n\r\nAh, very nice!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2422745292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2422977093","html_url":"https://github.com/apache/couchdb/pull/4710#issuecomment-2422977093","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4710","id":2422977093,"node_id":"IC_kwDOAAMmUc6Qa7JF","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-18T18:01:14Z","updated_at":"2024-10-18T18:01:14Z","author_association":"CONTRIBUTOR","body":"I am closing this in favor of #4792.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2422977093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2422979659","html_url":"https://github.com/apache/couchdb/pull/4792#issuecomment-2422979659","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4792","id":2422979659,"node_id":"IC_kwDOAAMmUc6Qa7xL","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-18T18:02:47Z","updated_at":"2024-10-18T18:02:47Z","author_association":"CONTRIBUTOR","body":"Thank everyone who participated in the discussion.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2422979659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2423193855","html_url":"https://github.com/apache/couchdb/issues/4511#issuecomment-2423193855","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4511","id":2423193855,"node_id":"IC_kwDOAAMmUc6QbwD_","user":{"login":"paultranvan","id":7010087,"node_id":"MDQ6VXNlcjcwMTAwODc=","avatar_url":"https://avatars.githubusercontent.com/u/7010087?v=4","gravatar_id":"","url":"https://api.github.com/users/paultranvan","html_url":"https://github.com/paultranvan","followers_url":"https://api.github.com/users/paultranvan/followers","following_url":"https://api.github.com/users/paultranvan/following{/other_user}","gists_url":"https://api.github.com/users/paultranvan/gists{/gist_id}","starred_url":"https://api.github.com/users/paultranvan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paultranvan/subscriptions","organizations_url":"https://api.github.com/users/paultranvan/orgs","repos_url":"https://api.github.com/users/paultranvan/repos","events_url":"https://api.github.com/users/paultranvan/events{/privacy}","received_events_url":"https://api.github.com/users/paultranvan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-18T20:35:02Z","updated_at":"2024-10-18T20:35:02Z","author_association":"NONE","body":"Thanks a lot @pgj !\r\nThis will definitely be useful ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2423193855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2423389202","html_url":"https://github.com/apache/couchdb/issues/5283#issuecomment-2423389202","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5283","id":2423389202,"node_id":"IC_kwDOAAMmUc6QcfwS","user":{"login":"mikkimichaelis","id":78762019,"node_id":"MDQ6VXNlcjc4NzYyMDE5","avatar_url":"https://avatars.githubusercontent.com/u/78762019?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkimichaelis","html_url":"https://github.com/mikkimichaelis","followers_url":"https://api.github.com/users/mikkimichaelis/followers","following_url":"https://api.github.com/users/mikkimichaelis/following{/other_user}","gists_url":"https://api.github.com/users/mikkimichaelis/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkimichaelis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkimichaelis/subscriptions","organizations_url":"https://api.github.com/users/mikkimichaelis/orgs","repos_url":"https://api.github.com/users/mikkimichaelis/repos","events_url":"https://api.github.com/users/mikkimichaelis/events{/privacy}","received_events_url":"https://api.github.com/users/mikkimichaelis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-19T00:02:51Z","updated_at":"2024-10-19T00:05:31Z","author_association":"NONE","body":"The very first thing I learned when administering a unix-like was to never let a fs fill.  Bad things happen!  Pretty straight forward stuff.\r\n\r\nIs not the solution here proper log management?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2423389202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2423622843","html_url":"https://github.com/apache/couchdb/issues/5312#issuecomment-2423622843","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5312","id":2423622843,"node_id":"IC_kwDOAAMmUc6QdYy7","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-19T06:49:02Z","updated_at":"2024-10-19T06:49:02Z","author_association":"CONTRIBUTOR","body":"Hi, did you do the steps from [1.1.1.1 Enabling the Apache CouchDB package repository](https://docs.couchdb.org/en/stable/install/unix.html#enabling-the-apache-couchdb-package-repository) before?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2423622843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2423625794","html_url":"https://github.com/apache/couchdb/issues/5313#issuecomment-2423625794","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5313","id":2423625794,"node_id":"IC_kwDOAAMmUc6QdZhC","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-19T07:00:37Z","updated_at":"2024-10-19T07:10:42Z","author_association":"CONTRIBUTOR","body":"For running from source, you need one of the listed spidermonkey libs from the section above. \r\nIn Ubuntu Jammy you could install `libmozjs-91-dev` or `libmozjs-78-dev` to get this working.\r\n\r\nSince you are trying to build CouchDB from source, the section with the [dependencies](https://docs.couchdb.org/en/stable/install/unix.html#dependencies) gives you information, what you need to install. The `apt` command or later the `make` script will tell you, whats eventually missing.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2423625794/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2423626556","html_url":"https://github.com/apache/couchdb/issues/5313#issuecomment-2423626556","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5313","id":2423626556,"node_id":"IC_kwDOAAMmUc6QdZs8","user":{"login":"mikkimichaelis","id":78762019,"node_id":"MDQ6VXNlcjc4NzYyMDE5","avatar_url":"https://avatars.githubusercontent.com/u/78762019?v=4","gravatar_id":"","url":"https://api.github.com/users/mikkimichaelis","html_url":"https://github.com/mikkimichaelis","followers_url":"https://api.github.com/users/mikkimichaelis/followers","following_url":"https://api.github.com/users/mikkimichaelis/following{/other_user}","gists_url":"https://api.github.com/users/mikkimichaelis/gists{/gist_id}","starred_url":"https://api.github.com/users/mikkimichaelis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikkimichaelis/subscriptions","organizations_url":"https://api.github.com/users/mikkimichaelis/orgs","repos_url":"https://api.github.com/users/mikkimichaelis/repos","events_url":"https://api.github.com/users/mikkimichaelis/events{/privacy}","received_events_url":"https://api.github.com/users/mikkimichaelis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-19T07:03:08Z","updated_at":"2024-10-19T07:03:08Z","author_association":"NONE","body":"so basically I can't run from source on 22.04.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2423626556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2423630914","html_url":"https://github.com/apache/couchdb/issues/5313#issuecomment-2423630914","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5313","id":2423630914,"node_id":"IC_kwDOAAMmUc6QdaxC","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-19T07:04:58Z","updated_at":"2024-10-19T07:04:58Z","author_association":"CONTRIBUTOR","body":"> so basically I can't run from source on 22.04.\r\n\r\nyou can, you need to install the necessary packages ...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2423630914/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2423808323","html_url":"https://github.com/apache/couchdb/pull/5146#issuecomment-2423808323","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5146","id":2423808323,"node_id":"IC_kwDOAAMmUc6QeGFD","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-19T12:28:09Z","updated_at":"2024-10-19T12:28:09Z","author_association":"MEMBER","body":"Closing in favour of https://github.com/apache/couchdb/pull/5314","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2423808323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2423808372","html_url":"https://github.com/apache/couchdb/pull/4305#issuecomment-2423808372","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4305","id":2423808372,"node_id":"IC_kwDOAAMmUc6QeGF0","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-19T12:28:18Z","updated_at":"2024-10-19T12:28:18Z","author_association":"MEMBER","body":"Closing in favour of https://github.com/apache/couchdb/pull/5314","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2423808372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2423808429","html_url":"https://github.com/apache/couchdb/pull/5306#issuecomment-2423808429","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5306","id":2423808429,"node_id":"IC_kwDOAAMmUc6QeGGt","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-19T12:28:29Z","updated_at":"2024-10-19T12:28:29Z","author_association":"MEMBER","body":"Closing in favour of https://github.com/apache/couchdb/pull/5314","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2423808429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2423948630","html_url":"https://github.com/apache/couchdb/pull/5314#issuecomment-2423948630","issue_url":"https://api.github.com/repos/apache/couchdb/issues/5314","id":2423948630,"node_id":"IC_kwDOAAMmUc6QeoVW","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-19T15:17:06Z","updated_at":"2024-10-19T15:17:06Z","author_association":"CONTRIBUTOR","body":"Hey,\r\n\r\nthat looks really great! \r\nI think we could merge 102 and 115 together like we did in 86 & 91. \r\n\r\nIn v115 I explicitly removed the `global_ops` var to not deal with the record members. This should be handled by the class `DefaultGlobalClassOps`  But need to deep dive into it again ...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/2423948630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]