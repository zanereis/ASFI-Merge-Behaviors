[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586070652","html_url":"https://github.com/apache/hudi/pull/1216#issuecomment-586070652","issue_url":"https://api.github.com/repos/apache/hudi/issues/1216","id":586070652,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjA3MDY1Mg==","user":{"login":"liujianhuiouc","id":13215934,"node_id":"MDQ6VXNlcjEzMjE1OTM0","avatar_url":"https://avatars.githubusercontent.com/u/13215934?v=4","gravatar_id":"","url":"https://api.github.com/users/liujianhuiouc","html_url":"https://github.com/liujianhuiouc","followers_url":"https://api.github.com/users/liujianhuiouc/followers","following_url":"https://api.github.com/users/liujianhuiouc/following{/other_user}","gists_url":"https://api.github.com/users/liujianhuiouc/gists{/gist_id}","starred_url":"https://api.github.com/users/liujianhuiouc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujianhuiouc/subscriptions","organizations_url":"https://api.github.com/users/liujianhuiouc/orgs","repos_url":"https://api.github.com/users/liujianhuiouc/repos","events_url":"https://api.github.com/users/liujianhuiouc/events{/privacy}","received_events_url":"https://api.github.com/users/liujianhuiouc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T02:42:29Z","updated_at":"2020-02-14T02:42:29Z","author_association":"NONE","body":"@n3nash I dont have any definate case , in that case, the fields related to updates already in the metadata, so i think the inserts info should also in that metadat","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586070652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586071634","html_url":"https://github.com/apache/hudi/pull/1100#issuecomment-586071634","issue_url":"https://api.github.com/repos/apache/hudi/issues/1100","id":586071634,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjA3MTYzNA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T02:46:57Z","updated_at":"2020-02-14T02:46:57Z","author_association":"MEMBER","body":">About real tests, do you mean how to validate all the functions of hudi via this test suite?\r\n\r\nyes.. not all.. but a good amount .. The real value is in the actual tests.. right","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586071634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586071719","html_url":"https://github.com/apache/hudi/issues/1328#issuecomment-586071719","issue_url":"https://api.github.com/repos/apache/hudi/issues/1328","id":586071719,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjA3MTcxOQ==","user":{"login":"bwu2","id":14202231,"node_id":"MDQ6VXNlcjE0MjAyMjMx","avatar_url":"https://avatars.githubusercontent.com/u/14202231?v=4","gravatar_id":"","url":"https://api.github.com/users/bwu2","html_url":"https://github.com/bwu2","followers_url":"https://api.github.com/users/bwu2/followers","following_url":"https://api.github.com/users/bwu2/following{/other_user}","gists_url":"https://api.github.com/users/bwu2/gists{/gist_id}","starred_url":"https://api.github.com/users/bwu2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bwu2/subscriptions","organizations_url":"https://api.github.com/users/bwu2/orgs","repos_url":"https://api.github.com/users/bwu2/repos","events_url":"https://api.github.com/users/bwu2/events{/privacy}","received_events_url":"https://api.github.com/users/bwu2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T02:47:18Z","updated_at":"2020-02-14T02:51:25Z","author_association":"NONE","body":"Ok, thanks for this. \r\n\r\nI have run the jobs again. First, insert 4m records, then upsert 3m of them, then upsert 4m, then upsert 4m. The two jobs upserting 3m records work fine and quickly, but the one where upsert 4m takes >200 times as long. There is no partitioning and only one (small) output file. \r\n\r\nMy results (from a synthetic dataset) are:\r\n```bash\r\nhudi:json_data->commits show --limit 4\r\n╔════════════════╤═════════════════════╤═══════════════════╤═════════════════════╤══════════════════════════╤═══════════════════════╤══════════════════════════════╤══════════════╗\r\n║ CommitTime     │ Total Bytes Written │ Total Files Added │ Total Files Updated │ Total Partitions Written │ Total Records Written │ Total Update Records Written │ Total Errors ║\r\n╠════════════════╪═════════════════════╪═══════════════════╪═════════════════════╪══════════════════════════╪═══════════════════════╪══════════════════════════════╪══════════════╣\r\n║ 20200214013937 │ 25.5 MB             │ 0                 │ 1                   │ 1                        │ 4000000               │ 3000000                      │ 0            ║\r\n╟────────────────┼─────────────────────┼───────────────────┼─────────────────────┼──────────────────────────┼───────────────────────┼──────────────────────────────┼──────────────╢\r\n║ 20200213224532 │ 25.5 MB             │ 0                 │ 1                   │ 1                        │ 4000000               │ 4000000                      │ 0            ║\r\n╟────────────────┼─────────────────────┼───────────────────┼─────────────────────┼──────────────────────────┼───────────────────────┼──────────────────────────────┼──────────────╢\r\n║ 20200213224325 │ 25.6 MB             │ 0                 │ 1                   │ 1                        │ 4000000               │ 3000000                      │ 0            ║\r\n╟────────────────┼─────────────────────┼───────────────────┼─────────────────────┼──────────────────────────┼───────────────────────┼──────────────────────────────┼──────────────╢\r\n║ 20200213224218 │ 25.5 MB             │ 1                 │ 0                   │ 1                        │ 4000000               │ 0                            │ 0            ║\r\n╚════════════════╧═════════════════════╧═══════════════════╧═════════════════════╧══════════════════════════╧═══════════════════════╧══════════════════════════════╧══════════════╝\r\n```\r\n\r\nand the times:\r\n```bash\r\ngrep -n -e totalCreateTime -e totalUpsertTime  *.commit\r\n20200213224218.commit:36:  \"totalCreateTime\" : 30012,\r\n20200213224218.commit:37:  \"totalUpsertTime\" : 0,\r\n20200213224325.commit:36:  \"totalCreateTime\" : 0,\r\n20200213224325.commit:37:  \"totalUpsertTime\" : 46879,\r\n20200213224532.commit:36:  \"totalCreateTime\" : 0,\r\n20200213224532.commit:37:  \"totalUpsertTime\" : 10347280,\r\n20200214013937.commit:36:  \"totalCreateTime\" : 0,\r\n20200214013937.commit:37:  \"totalUpsertTime\" : 44598,\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586071719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586108720","html_url":"https://github.com/apache/hudi/issues/1328#issuecomment-586108720","issue_url":"https://api.github.com/repos/apache/hudi/issues/1328","id":586108720,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjEwODcyMA==","user":{"login":"bwu2","id":14202231,"node_id":"MDQ6VXNlcjE0MjAyMjMx","avatar_url":"https://avatars.githubusercontent.com/u/14202231?v=4","gravatar_id":"","url":"https://api.github.com/users/bwu2","html_url":"https://github.com/bwu2","followers_url":"https://api.github.com/users/bwu2/followers","following_url":"https://api.github.com/users/bwu2/following{/other_user}","gists_url":"https://api.github.com/users/bwu2/gists{/gist_id}","starred_url":"https://api.github.com/users/bwu2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bwu2/subscriptions","organizations_url":"https://api.github.com/users/bwu2/orgs","repos_url":"https://api.github.com/users/bwu2/repos","events_url":"https://api.github.com/users/bwu2/events{/privacy}","received_events_url":"https://api.github.com/users/bwu2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T05:48:41Z","updated_at":"2020-02-14T05:48:59Z","author_association":"NONE","body":"Ok, after reading https://github.com/apache/incubator-hudi/issues/800 (which is similar), I think this is a memory issue (even though GC seems to be a small proportion of the total time, according to the Spark history server & we're not getting any OOME).\r\n\r\nWhen I double the `spark.executor.memory` the job runs much faster. I'm sure there are maybe other optimizations and/or tuning I can consider also.\r\n\r\nIs it normal/expected that an upsert with mostly updates would require more memory than an upsert with mostly inserts?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586108720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586133592","html_url":"https://github.com/apache/hudi/pull/1334#issuecomment-586133592","issue_url":"https://api.github.com/repos/apache/hudi/issues/1334","id":586133592,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjEzMzU5Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T07:29:25Z","updated_at":"2020-02-14T07:29:25Z","author_association":"MEMBER","body":"can we also close the JIRA? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586133592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586135378","html_url":"https://github.com/apache/hudi/pull/1334#issuecomment-586135378","issue_url":"https://api.github.com/repos/apache/hudi/issues/1334","id":586135378,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjEzNTM3OA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T07:35:10Z","updated_at":"2020-02-14T07:35:10Z","author_association":"MEMBER","body":"Right,  I understand the \"incremental\" in a wrong way. \r\nBTW, how does user query data when specify a specific time instant, like \r\n```\r\nspark.\r\n    read.\r\n    format(\"org.apache.hudi\").\r\n    option(\"hoodie.datasource.query.type\", \"incremental\").\r\n    option(\"hoodie.datasource.read.begin.instanttime\", \"20200214083611\").\r\n    option(\"hoodie.datasource.read.end.instanttime\", \"20200214083611\").\r\n    load(basePath).\r\n    createOrReplaceTempView(\"hudi_trips_incremental\")\r\n\r\nspark.sql(\"select * from hudi_trips_incremental\").show(50)\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586135378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586136740","html_url":"https://github.com/apache/hudi/pull/1334#issuecomment-586136740","issue_url":"https://api.github.com/repos/apache/hudi/issues/1334","id":586136740,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjEzNjc0MA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T07:39:56Z","updated_at":"2020-02-14T07:39:56Z","author_association":"MEMBER","body":"hi @vinothchandar, we met this problem in our staging env, we want to know the \"incremental\" data when specify a specific time instant.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586136740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586154037","html_url":"https://github.com/apache/hudi/pull/1165#issuecomment-586154037","issue_url":"https://api.github.com/repos/apache/hudi/issues/1165","id":586154037,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjE1NDAzNw==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T08:36:02Z","updated_at":"2020-02-14T08:36:02Z","author_association":"CONTRIBUTOR","body":"@vinothchandar will review it by EOD today. :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586154037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586161952","html_url":"https://github.com/apache/hudi/issues/954#issuecomment-586161952","issue_url":"https://api.github.com/repos/apache/hudi/issues/954","id":586161952,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjE2MTk1Mg==","user":{"login":"jinshuangxian","id":9390698,"node_id":"MDQ6VXNlcjkzOTA2OTg=","avatar_url":"https://avatars.githubusercontent.com/u/9390698?v=4","gravatar_id":"","url":"https://api.github.com/users/jinshuangxian","html_url":"https://github.com/jinshuangxian","followers_url":"https://api.github.com/users/jinshuangxian/followers","following_url":"https://api.github.com/users/jinshuangxian/following{/other_user}","gists_url":"https://api.github.com/users/jinshuangxian/gists{/gist_id}","starred_url":"https://api.github.com/users/jinshuangxian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jinshuangxian/subscriptions","organizations_url":"https://api.github.com/users/jinshuangxian/orgs","repos_url":"https://api.github.com/users/jinshuangxian/repos","events_url":"https://api.github.com/users/jinshuangxian/events{/privacy}","received_events_url":"https://api.github.com/users/jinshuangxian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T08:56:18Z","updated_at":"2020-02-14T08:56:18Z","author_association":"NONE","body":"> @gfn9cho you are right Glue Catalog does not support Primary Key. Its not actually a problem with Glue service, but its EMR's glue client implementation that returns a null because primary key is not supported. Hive is not able to deal with it correctly.\r\n> Hi, is there a new version of aws-glue-data-catalog-client-for-apache-hive-metastore\r\n> At this point, we cannot just give you something that would make it work. Please not, at this point Hudi is not an officially support application on EMR. It should be supported by mid/end of November, which is when this issue will be fixed in EMRs side as well.\r\n> \r\n> If you cannot wait until then, here is one way to unblock yourself:\r\n> \r\n> * Checkout glue catalog client package which is open sourced, and modify this line to return an empty list instead: https://github.com/awslabs/aws-glue-data-catalog-client-for-apache-hive-metastore/blob/master/aws-glue-datacatalog-hive2-client/src/main/java/com/amazonaws/glue/catalog/metastore/AWSCatalogMetastoreClient.java#L1630\r\n> * SSH to EMR master and replace the jar under `/usr/share/aws/hmclient/lib/`\r\n> * Restart hive-server2 to pick up new library: `sudo stop hive-server2` `sudo start hive-server2`\r\n\r\n\r\n\r\n> @gfn9cho you are right Glue Catalog does not support Primary Key. Its not actually a problem with Glue service, but its EMR's glue client implementation that returns a null because primary key is not supported. Hive is not able to deal with it correctly.\r\n> \r\n> At this point, we cannot just give you something that would make it work. Please not, at this point Hudi is not an officially support application on EMR. It should be supported by mid/end of November, which is when this issue will be fixed in EMRs side as well.\r\n> \r\n> If you cannot wait until then, here is one way to unblock yourself:\r\n> \r\n> * Checkout glue catalog client package which is open sourced, and modify this line to return an empty list instead: https://github.com/awslabs/aws-glue-data-catalog-client-for-apache-hive-metastore/blob/master/aws-glue-datacatalog-hive2-client/src/main/java/com/amazonaws/glue/catalog/metastore/AWSCatalogMetastoreClient.java#L1630\r\n> * SSH to EMR master and replace the jar under `/usr/share/aws/hmclient/lib/`\r\n> * Restart hive-server2 to pick up new library: `sudo stop hive-server2` `sudo start hive-server2`\r\n\r\nHi, is there a new version of aws-glue-data-catalog-client-for-apache-hive-metastore？","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586161952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586170746","html_url":"https://github.com/apache/hudi/issues/1335#issuecomment-586170746","issue_url":"https://api.github.com/repos/apache/hudi/issues/1335","id":586170746,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjE3MDc0Ng==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T09:18:12Z","updated_at":"2020-02-14T09:18:12Z","author_association":"MEMBER","body":"hi @amitsingh-10, `0.5.1-incubating` built with spark-2.4.4, as you reported, `KafkaUtils#fixKafkaParams` will overried these properties. \r\n\r\nIMO, you can use `0.5.0-incubating` which built with spark-2.1.0. `KafkaUtils` does not overried these properties.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586170746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586213714","html_url":"https://github.com/apache/hudi/issues/1335#issuecomment-586213714","issue_url":"https://api.github.com/repos/apache/hudi/issues/1335","id":586213714,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjIxMzcxNA==","user":{"login":"amitsingh-10","id":51735639,"node_id":"MDQ6VXNlcjUxNzM1NjM5","avatar_url":"https://avatars.githubusercontent.com/u/51735639?v=4","gravatar_id":"","url":"https://api.github.com/users/amitsingh-10","html_url":"https://github.com/amitsingh-10","followers_url":"https://api.github.com/users/amitsingh-10/followers","following_url":"https://api.github.com/users/amitsingh-10/following{/other_user}","gists_url":"https://api.github.com/users/amitsingh-10/gists{/gist_id}","starred_url":"https://api.github.com/users/amitsingh-10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amitsingh-10/subscriptions","organizations_url":"https://api.github.com/users/amitsingh-10/orgs","repos_url":"https://api.github.com/users/amitsingh-10/repos","events_url":"https://api.github.com/users/amitsingh-10/events{/privacy}","received_events_url":"https://api.github.com/users/amitsingh-10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T11:07:19Z","updated_at":"2020-02-14T11:07:19Z","author_association":"CONTRIBUTOR","body":"Thanks for the reply @lamber-ken. I tried working with `0.5.0-incubating` however I am getting the following error now :\r\n```\r\nUser class threw exception: org.apache.spark.SparkException: Offsets not available on leader\r\n```\r\n\r\nThe stacktrace for the same is :\r\n```\r\nUser class threw exception: org.apache.spark.SparkException: Offsets not available on leader: OffsetRange(topic: 'test-topic', partition: 0, range: [0 -> 6667]),OffsetRange(topic: 'test-topic', partition: 1, range: [0 -> 6667]),OffsetRange(topic: 'test-topic', partition: 2, range: [0 -> 6666])\r\norg.apache.spark.SparkException: Offsets not available on leader: OffsetRange(topic: 'test-topic', partition: 0, range: [0 -> 6667]),OffsetRange(topic: 'test-topic', partition: 1, range: [0 -> 6667]),OffsetRange(topic: 'test-topic', partition: 2, range: [0 -> 6666])\r\n\tat org.apache.spark.streaming.kafka.KafkaUtils$.org$apache$spark$streaming$kafka$KafkaUtils$$checkOffsets(KafkaUtils.scala:200)\r\n\tat org.apache.spark.streaming.kafka.KafkaUtils$$anonfun$createRDD$1.apply(KafkaUtils.scala:253)\r\n\tat org.apache.spark.streaming.kafka.KafkaUtils$$anonfun$createRDD$1.apply(KafkaUtils.scala:249)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\r\n\tat org.apache.spark.SparkContext.withScope(SparkContext.scala:699)\r\n\tat org.apache.spark.streaming.kafka.KafkaUtils$.createRDD(KafkaUtils.scala:249)\r\n\tat org.apache.spark.streaming.kafka.KafkaUtils$$anonfun$createRDD$3.apply(KafkaUtils.scala:338)\r\n\tat org.apache.spark.streaming.kafka.KafkaUtils$$anonfun$createRDD$3.apply(KafkaUtils.scala:333)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\r\n\tat org.apache.spark.SparkContext.withScope(SparkContext.scala:699)\r\n\tat org.apache.spark.streaming.kafka.KafkaUtils$.createRDD(KafkaUtils.scala:333)\r\n\tat org.apache.spark.streaming.kafka.KafkaUtils.createRDD(KafkaUtils.scala)\r\n\tat org.apache.hudi.utilities.sources.AvroKafkaSource.toRDD(AvroKafkaSource.java:67)\r\n\tat org.apache.hudi.utilities.sources.AvroKafkaSource.fetchNewData(AvroKafkaSource.java:61)\r\n\tat org.apache.hudi.utilities.sources.Source.fetchNext(Source.java:71)\r\n\tat org.apache.hudi.utilities.deltastreamer.SourceFormatAdapter.fetchNewDataInAvroFormat(SourceFormatAdapter.java:61)\r\n\tat org.apache.hudi.utilities.deltastreamer.DeltaSync.readFromSource(DeltaSync.java:292)\r\n\tat org.apache.hudi.utilities.deltastreamer.DeltaSync.syncOnce(DeltaSync.java:214)\r\n\tat org.apache.hudi.utilities.deltastreamer.HoodieDeltaStreamer.sync(HoodieDeltaStreamer.java:120)\r\n\tat org.apache.hudi.utilities.deltastreamer.HoodieDeltaStreamer.main(HoodieDeltaStreamer.java:292)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$2.run(ApplicationMaster.scala:678)\r\n```\r\n\r\nThis was fixed by following [pull request](https://github.com/apache/incubator-hudi/pull/650) and is available in the `0.5.0-incubating` version of Hudi. Correct me, if I am wrong. I have changed the `auto.offset.reset=smallest` in the properties if this is relevant.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586213714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586284798","html_url":"https://github.com/apache/hudi/issues/1325#issuecomment-586284798","issue_url":"https://api.github.com/repos/apache/hudi/issues/1325","id":586284798,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjI4NDc5OA==","user":{"login":"adamjoneill","id":2063136,"node_id":"MDQ6VXNlcjIwNjMxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/2063136?v=4","gravatar_id":"","url":"https://api.github.com/users/adamjoneill","html_url":"https://github.com/adamjoneill","followers_url":"https://api.github.com/users/adamjoneill/followers","following_url":"https://api.github.com/users/adamjoneill/following{/other_user}","gists_url":"https://api.github.com/users/adamjoneill/gists{/gist_id}","starred_url":"https://api.github.com/users/adamjoneill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamjoneill/subscriptions","organizations_url":"https://api.github.com/users/adamjoneill/orgs","repos_url":"https://api.github.com/users/adamjoneill/repos","events_url":"https://api.github.com/users/adamjoneill/events{/privacy}","received_events_url":"https://api.github.com/users/adamjoneill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T13:20:28Z","updated_at":"2020-02-14T14:55:57Z","author_association":"NONE","body":"@vinothchandar I've managed to reproduce with a simple spark.parallelize() example.\r\n\r\ntest.scala\r\n```\r\nimport org.apache.spark._\r\nimport org.apache.spark.sql._\r\nimport org.apache.spark.sql.functions.{month, year, col, dayofmonth}\r\nimport org.apache.spark.storage.StorageLevel\r\nimport org.apache.spark.streaming.{Milliseconds, StreamingContext}\r\nimport org.apache.spark.streaming.Duration\r\nimport org.apache.spark.streaming.kinesis._\r\nimport org.apache.spark.streaming.kinesis.KinesisInputDStream\r\nimport org.apache.spark.streaming.kinesis.KinesisInitialPositions.Latest\r\nimport org.apache.hudi.DataSourceWriteOptions\r\nimport org.apache.hudi.config.HoodieWriteConfig\r\nimport org.apache.hudi.hive.MultiPartKeysValueExtractor\r\n\r\nimport org.apache.spark.sql.types._\r\nimport org.apache.spark.sql.DataFrame\r\n\r\ncase class Bar(id: Int, name: String)\r\n\r\n// choose one of the following\r\ncase class Foo(id: Int, bar: Bar) // with simple\r\n// case class Foo(bar: Bar) // withOUT simple\r\n\r\ncase class Root(id: Int, foos: Array[Foo])\r\n\r\nobject HudiScalaStreamHelloWorld {\r\n    \r\n    def main(args: Array[String]): Unit = {  \r\n        val appName = \"ScalaStreamExample\"\r\n        val batchInterval = Milliseconds(2000)\r\n        val spark = SparkSession\r\n            .builder()\r\n            .appName(appName)\r\n            .getOrCreate()\r\n\r\n        val sparkContext = spark.sparkContext\r\n        val streamingContext = new StreamingContext(sparkContext, batchInterval)\r\n\r\n        import spark.implicits._\r\n        val sc = sparkContext\r\n        \r\n\r\n        // choose one of the following\r\n        val dataFrame = sc.parallelize(Seq(Root(1, Array(Foo(1, Bar(1, \"OneBar\")))))).toDF() // with simple\r\n        // val dataFrame = sc.parallelize(Seq(Root(1, Array(Foo(Bar(1, \"OneBar\")))))).toDF() // withOUT simple\r\n\r\n        dataFrame.printSchema()\r\n\r\n        val hudiTableName = \"order\"\r\n        val hudiTablePath = \"s3://xxxxxxx/path/\" + hudiTableName\r\n\r\n        // Set up our Hudi Data Source Options\r\n        val hudiOptions = Map[String,String](\r\n            DataSourceWriteOptions.RECORDKEY_FIELD_OPT_KEY -> \"id\",\r\n            HoodieWriteConfig.TABLE_NAME -> hudiTableName, \r\n            DataSourceWriteOptions.OPERATION_OPT_KEY ->\r\n                DataSourceWriteOptions.INSERT_OPERATION_OPT_VAL, \r\n            DataSourceWriteOptions.PRECOMBINE_FIELD_OPT_KEY -> \"id\")\r\n            \r\n        dataFrame.write.format(\"org.apache.hudi\").options(hudiOptions).mode(SaveMode.Overwrite).save(hudiTablePath)\r\n    }\r\n}\r\n    \r\n```\r\n\r\ndeploy.sh\r\n```\r\nsbt clean\r\nsbt package\r\n\r\naws s3 cp ./target/scala-2.11/simple-project_2.11-1.0.jar s3://xxxx.xxxx/simple-project_2.11-1.0.jar\r\n\r\naws emr add-steps --cluster-id j-AZQBZK81NAFT --steps Type=spark,Name=SimpleHudiTest,Args=[\\\r\n--deploy-mode,cluster,\\\r\n--master,yarn,\\\r\n--packages,\\'org.apache.hudi:hudi-spark-bundle:0.5.0-incubating,org.apache.spark:spark-avro_2.11:2.4.4\\',\\\r\n--conf,spark.yarn.submit.waitAppCompletion=false,\\\r\n--conf,yarn.log-aggregation-enable=true,\\\r\n--conf,spark.dynamicAllocation.enabled=true,\\\r\n--conf,spark.cores.max=4,\\\r\n--conf,spark.network.timeout=300,\\\r\n--conf,spark.serializer=org.apache.spark.serializer.KryoSerializer,\\\r\n--conf,spark.sql.hive.convertMetastoreParquet=false,\\\r\n--class,HudiScalaStreamHelloWorld,\\\r\ns3://xxxx.xxx/simple-project_2.11-1.0.jar\\\r\n],ActionOnFailure=CONTINUE\r\n```\r\n\r\nbuild.sbt\r\n```\r\nname := \"Simple Project\"\r\n\r\nversion := \"1.0\"\r\n\r\nscalaVersion := \"2.11.12\"\r\n\r\nlibraryDependencies += \"org.apache.spark\" %% \"spark-sql\" % \"2.4.4\"\r\nlibraryDependencies += \"org.apache.spark\" %% \"spark-streaming\" % \"2.4.4\"\r\nlibraryDependencies += \"org.apache.spark\" %% \"spark-streaming-kinesis-asl\" % \"2.4.4\"\r\nlibraryDependencies += \"org.apache.hudi\" % \"hudi-spark-bundle\" % \"0.5.0-incubating\"\r\n\r\n\r\nscalacOptions := Seq(\"-unchecked\", \"-deprecation\")\r\n\r\n```\r\n\r\nAWS glue job runs over the output s3 directory. \r\n\r\nFrom the presto EMR instance the result when simple object included on the array item:\r\n```\r\npresto:schema> select * from default;\r\n _hoodie_commit_time | _hoodie_commit_seqno | _hoodie_record_key | _hoodie_partition_path |                          _hoodie_file_name                          | id |               foos                \r\n---------------------+----------------------+--------------------+------------------------+---------------------------------------------------------------------+----+-----------------------------------\r\n 20200214112552      | 20200214112552_0_1   | 1                  | default                | 90190f46-d064-4c8b-ab6a-89ecc9b3ced4-0_0-5-8_20200214112552.parquet |  1 | [{id=1, bar={id=1, name=OneBar}}] \r\n(1 row)\r\n\r\nQuery 20200214_130009_00002_hej8h, FINISHED, 1 node\r\nhttp://xx-xx-xxx-xx-xxx.x-xxxxx.compute.amazonaws.com:8889/ui/query.html?20200214_130009_00002_hej8h\r\nSplits: 17 total, 17 done (100.00%)\r\nCPU Time: 0.0s total,    23 rows/s, 25.6KB/s, 16% active\r\nPer Node: 0.1 parallelism,     1 rows/s, 2.09KB/s\r\nParallelism: 0.1\r\nPeak Memory: 0B\r\n0:01 [1 rows, 1.1KB] [1 rows/s, 2.09KB/s]\r\n```\r\n\r\nerror message when running query on the example code without a simple property on the array item\r\n```\r\npresto:schema> select * from default;\r\n\r\nQuery 20200214_131047_00005_hej8h, FAILED, 1 node\r\nhttp://xxx-xx-xxx-xx-xxx.xx-xxxx.compute.amazonaws.com:8889/ui/query.html?20200214_131047_00005_hej8h\r\nSplits: 17 total, 0 done (0.00%)\r\nCPU Time: 0.0s total,     0 rows/s,     0B/s, 0% active\r\nPer Node: 0.0 parallelism,     0 rows/s,     0B/s\r\nParallelism: 0.0\r\nPeak Memory: 0B\r\n0:01 [0 rows, 0B] [0 rows/s, 0B/s]\r\n\r\nQuery 20200214_131047_00005_hej8h failed: No value present\r\njava.util.NoSuchElementException: No value present\r\n\tat java.util.Optional.get(Optional.java:135)\r\n\tat com.facebook.presto.parquet.reader.ParquetReader.readArray(ParquetReader.java:156)\r\n\tat com.facebook.presto.parquet.reader.ParquetReader.readColumnChunk(ParquetReader.java:282)\r\n\tat com.facebook.presto.parquet.reader.ParquetReader.readBlock(ParquetReader.java:268)\r\n\tat com.facebook.presto.hive.parquet.ParquetPageSource$ParquetBlockLoader.load(ParquetPageSource.java:247)\r\n\tat com.facebook.presto.hive.parquet.ParquetPageSource$ParquetBlockLoader.load(ParquetPageSource.java:225)\r\n\tat com.facebook.presto.spi.block.LazyBlock.assureLoaded(LazyBlock.java:283)\r\n\tat com.facebook.presto.spi.block.LazyBlock.getLoadedBlock(LazyBlock.java:274)\r\n\tat com.facebook.presto.spi.Page.getLoadedPage(Page.java:261)\r\n\tat com.facebook.presto.operator.TableScanOperator.getOutput(TableScanOperator.java:254)\r\n\tat com.facebook.presto.operator.Driver.processInternal(Driver.java:379)\r\n\tat com.facebook.presto.operator.Driver.lambda$processFor$8(Driver.java:283)\r\n\tat com.facebook.presto.operator.Driver.tryWithLock(Driver.java:675)\r\n\tat com.facebook.presto.operator.Driver.processFor(Driver.java:276)\r\n\tat com.facebook.presto.execution.SqlTaskExecution$DriverSplitRunner.processFor(SqlTaskExecution.java:1077)\r\n\tat com.facebook.presto.execution.executor.PrioritizedSplitRunner.process(PrioritizedSplitRunner.java:162)\r\n\tat com.facebook.presto.execution.executor.TaskExecutor$TaskRunner.run(TaskExecutor.java:483)\r\n\tat com.facebook.presto.$gen.Presto_0_227____20200211_134743_1.run(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nThe difference between the 2 records can be highlighted in the following JSON\r\n\r\nSuccess:\r\n```\r\n{\r\n  \"id\": 1,\r\n  \"foos\": [\r\n    {\r\n      \"id\": 1, // <-- simple value on the array item\r\n      \"bar\": {\r\n        \"id\": 1,\r\n        \"name\": \"OneBar\"\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\nfails\r\n```\r\n{\r\n  \"id\": 1,\r\n  \"foos\": [\r\n    {\r\n      // missing simple property --> \"id\": 1,\r\n      \"bar\": {\r\n        \"id\": 1,\r\n        \"name\": \"OneBar\"\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586284798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586285604","html_url":"https://github.com/apache/hudi/issues/1335#issuecomment-586285604","issue_url":"https://api.github.com/repos/apache/hudi/issues/1335","id":586285604,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjI4NTYwNA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T13:22:48Z","updated_at":"2020-02-14T13:38:15Z","author_association":"MEMBER","body":"That pr is used to check up checkpoint offsets is valid or not. Bad to see use `0.5.0-incubating` version didn't work. BTW, what's your kafka server version?\r\n\r\nif use `0.5.0-incubating` can't solve your problem quickly, so we may need to back to `0.5.1-incubating` version, then try to find a valid way to solve it. : )","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586285604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586330008","html_url":"https://github.com/apache/hudi/issues/1335#issuecomment-586330008","issue_url":"https://api.github.com/repos/apache/hudi/issues/1335","id":586330008,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjMzMDAwOA==","user":{"login":"amitsingh-10","id":51735639,"node_id":"MDQ6VXNlcjUxNzM1NjM5","avatar_url":"https://avatars.githubusercontent.com/u/51735639?v=4","gravatar_id":"","url":"https://api.github.com/users/amitsingh-10","html_url":"https://github.com/amitsingh-10","followers_url":"https://api.github.com/users/amitsingh-10/followers","following_url":"https://api.github.com/users/amitsingh-10/following{/other_user}","gists_url":"https://api.github.com/users/amitsingh-10/gists{/gist_id}","starred_url":"https://api.github.com/users/amitsingh-10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amitsingh-10/subscriptions","organizations_url":"https://api.github.com/users/amitsingh-10/orgs","repos_url":"https://api.github.com/users/amitsingh-10/repos","events_url":"https://api.github.com/users/amitsingh-10/events{/privacy}","received_events_url":"https://api.github.com/users/amitsingh-10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T15:13:35Z","updated_at":"2020-02-14T15:14:02Z","author_association":"CONTRIBUTOR","body":"The Kafka version is `2.1.0-cp2`. Also is there any PR/issue where I can better understand why `KafkaUtils#fixKafkaParams` is being called in `0.5.1-incubating` even when I am providing all the necessary parameters?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586330008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586335056","html_url":"https://github.com/apache/hudi/issues/1335#issuecomment-586335056","issue_url":"https://api.github.com/repos/apache/hudi/issues/1335","id":586335056,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjMzNTA1Ng==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T15:25:19Z","updated_at":"2020-02-14T15:29:32Z","author_association":"MEMBER","body":"The `KafkaUtils#fixKafkaParams` method in `spark-streaming-kafka-0-10_2.11-2.4.4`, and KafkaUtil being experimental in spark-streaming-kafka-2.4.4. Can you try use an new consumer group and set auto.offset.reset=earliest ?\r\n\r\n![image](https://user-images.githubusercontent.com/20113411/74543766-f00ccb80-4f80-11ea-8ace-6fa08b69069e.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586335056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586394357","html_url":"https://github.com/apache/hudi/pull/1242#issuecomment-586394357","issue_url":"https://api.github.com/repos/apache/hudi/issues/1242","id":586394357,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjM5NDM1Nw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T17:44:15Z","updated_at":"2020-02-14T17:44:43Z","author_association":"CONTRIBUTOR","body":"@hddong please take a look at the last comment and squash all your commits please","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586394357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586408479","html_url":"https://github.com/apache/hudi/issues/1335#issuecomment-586408479","issue_url":"https://api.github.com/repos/apache/hudi/issues/1335","id":586408479,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjQwODQ3OQ==","user":{"login":"amitsingh-10","id":51735639,"node_id":"MDQ6VXNlcjUxNzM1NjM5","avatar_url":"https://avatars.githubusercontent.com/u/51735639?v=4","gravatar_id":"","url":"https://api.github.com/users/amitsingh-10","html_url":"https://github.com/amitsingh-10","followers_url":"https://api.github.com/users/amitsingh-10/followers","following_url":"https://api.github.com/users/amitsingh-10/following{/other_user}","gists_url":"https://api.github.com/users/amitsingh-10/gists{/gist_id}","starred_url":"https://api.github.com/users/amitsingh-10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amitsingh-10/subscriptions","organizations_url":"https://api.github.com/users/amitsingh-10/orgs","repos_url":"https://api.github.com/users/amitsingh-10/repos","events_url":"https://api.github.com/users/amitsingh-10/events{/privacy}","received_events_url":"https://api.github.com/users/amitsingh-10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T18:18:51Z","updated_at":"2020-02-14T18:18:51Z","author_association":"CONTRIBUTOR","body":"Didn't help. I had already tried, but I tried it again with the `0.5.1-incubating` version. However, still getting the same error as mentioned in the original stack trace.\r\n\r\n Is this a problem because of my Spark version mismatch with the Hudi's spark version? Should I try building Hudi with my spark version?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586408479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586450568","html_url":"https://github.com/apache/hudi/issues/1325#issuecomment-586450568","issue_url":"https://api.github.com/repos/apache/hudi/issues/1325","id":586450568,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjQ1MDU2OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T19:59:40Z","updated_at":"2020-02-14T19:59:40Z","author_association":"MEMBER","body":"Thanks @adamjoneill let me try to reproduce as well and see whats going on tonight.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586450568/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586451527","html_url":"https://github.com/apache/hudi/issues/1328#issuecomment-586451527","issue_url":"https://api.github.com/repos/apache/hudi/issues/1328","id":586451527,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjQ1MTUyNw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T20:02:29Z","updated_at":"2020-02-14T20:02:29Z","author_association":"MEMBER","body":"Even #800 is a reasonable workload.. I don't understand what's going on here .. Its just a single file being versioned.. same as the next two commits, which seems to be faster.. Is there a way you can give me a reproducible snippet of code? (I think you mentioned this is synthetic data) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586451527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586453479","html_url":"https://github.com/apache/hudi/issues/1325#issuecomment-586453479","issue_url":"https://api.github.com/repos/apache/hudi/issues/1325","id":586453479,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjQ1MzQ3OQ==","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T20:08:28Z","updated_at":"2020-02-14T20:08:28Z","author_association":"CONTRIBUTOR","body":"@adamjoneill  apologies for the delayed response. Havent gotten a  chance to look at  this thread. Let me also try and reproduce this and get back soon. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586453479/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586457085","html_url":"https://github.com/apache/hudi/issues/1328#issuecomment-586457085","issue_url":"https://api.github.com/repos/apache/hudi/issues/1328","id":586457085,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjQ1NzA4NQ==","user":{"login":"bwu2","id":14202231,"node_id":"MDQ6VXNlcjE0MjAyMjMx","avatar_url":"https://avatars.githubusercontent.com/u/14202231?v=4","gravatar_id":"","url":"https://api.github.com/users/bwu2","html_url":"https://github.com/bwu2","followers_url":"https://api.github.com/users/bwu2/followers","following_url":"https://api.github.com/users/bwu2/following{/other_user}","gists_url":"https://api.github.com/users/bwu2/gists{/gist_id}","starred_url":"https://api.github.com/users/bwu2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bwu2/subscriptions","organizations_url":"https://api.github.com/users/bwu2/orgs","repos_url":"https://api.github.com/users/bwu2/repos","events_url":"https://api.github.com/users/bwu2/events{/privacy}","received_events_url":"https://api.github.com/users/bwu2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T20:19:14Z","updated_at":"2020-02-14T20:19:14Z","author_association":"NONE","body":"See: https://gist.github.com/bwu2/e432a42f51519f27197f4785af3e1abf","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586457085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586509050","html_url":"https://github.com/apache/hudi/issues/1329#issuecomment-586509050","issue_url":"https://api.github.com/repos/apache/hudi/issues/1329","id":586509050,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjUwOTA1MA==","user":{"login":"popart","id":928091,"node_id":"MDQ6VXNlcjkyODA5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/928091?v=4","gravatar_id":"","url":"https://api.github.com/users/popart","html_url":"https://github.com/popart","followers_url":"https://api.github.com/users/popart/followers","following_url":"https://api.github.com/users/popart/following{/other_user}","gists_url":"https://api.github.com/users/popart/gists{/gist_id}","starred_url":"https://api.github.com/users/popart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/popart/subscriptions","organizations_url":"https://api.github.com/users/popart/orgs","repos_url":"https://api.github.com/users/popart/repos","events_url":"https://api.github.com/users/popart/events{/privacy}","received_events_url":"https://api.github.com/users/popart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T22:49:29Z","updated_at":"2020-02-14T22:54:07Z","author_association":"NONE","body":"HI Bhavani! Thank you for taking a look. I filed https://issues.apache.org/jira/browse/HUDI-614. \r\n\r\nCorrect the Presto version is .227. \r\n\r\nI tried running the spark-shell with both the Hudi 0.5.0 and the 0.5.1 jars, but got the same result. The EMR version has Hudi 0.5.0 installed, and I didn't specify anything different when running presto-cli, so I'd assume Presto is using the 0.5.0 version.\r\n\r\nI do see the .hoodie_partition_metadata file in my S3 table path.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586509050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586520820","html_url":"https://github.com/apache/hudi/issues/1335#issuecomment-586520820","issue_url":"https://api.github.com/repos/apache/hudi/issues/1335","id":586520820,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjUyMDgyMA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-14T23:40:27Z","updated_at":"2020-02-14T23:40:27Z","author_association":"MEMBER","body":"I test `0.5.1-incubating` and set auto.offset.reset=earliest, it works well in my local env.\r\nSpark: spark-2.4.4-bin-hadoop2.7\r\nKafka: kafka_2.11-0.10.2.1","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586520820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586525355","html_url":"https://github.com/apache/hudi/issues/1335#issuecomment-586525355","issue_url":"https://api.github.com/repos/apache/hudi/issues/1335","id":586525355,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjUyNTM1NQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-15T00:00:33Z","updated_at":"2020-02-15T00:00:33Z","author_association":"MEMBER","body":"From the stackstrace, the application will read three partition, can you check the range is availabel in kafka?\r\n```\r\ntopic: 'test-topic'\r\npartition: 0, [0 -> 6667]\r\npartition: 1, [0 -> 6667]\r\npartition: 2, [0 -> 6666]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586525355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586545073","html_url":"https://github.com/apache/hudi/pull/1165#issuecomment-586545073","issue_url":"https://api.github.com/repos/apache/hudi/issues/1165","id":586545073,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjU0NTA3Mw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-15T02:34:04Z","updated_at":"2020-02-15T02:34:04Z","author_association":"CONTRIBUTOR","body":"Sure. go ahead. I also plan to review it sometime. but will let you be the primary reviewer. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586545073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586573685","html_url":"https://github.com/apache/hudi/issues/1335#issuecomment-586573685","issue_url":"https://api.github.com/repos/apache/hudi/issues/1335","id":586573685,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjU3MzY4NQ==","user":{"login":"amitsingh-10","id":51735639,"node_id":"MDQ6VXNlcjUxNzM1NjM5","avatar_url":"https://avatars.githubusercontent.com/u/51735639?v=4","gravatar_id":"","url":"https://api.github.com/users/amitsingh-10","html_url":"https://github.com/amitsingh-10","followers_url":"https://api.github.com/users/amitsingh-10/followers","following_url":"https://api.github.com/users/amitsingh-10/following{/other_user}","gists_url":"https://api.github.com/users/amitsingh-10/gists{/gist_id}","starred_url":"https://api.github.com/users/amitsingh-10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amitsingh-10/subscriptions","organizations_url":"https://api.github.com/users/amitsingh-10/orgs","repos_url":"https://api.github.com/users/amitsingh-10/repos","events_url":"https://api.github.com/users/amitsingh-10/events{/privacy}","received_events_url":"https://api.github.com/users/amitsingh-10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-15T09:52:57Z","updated_at":"2020-02-15T09:52:57Z","author_association":"CONTRIBUTOR","body":"Those offsets are not available in the topic. So, I had set the parameter `auto.offset.reset=earliest` for it to pick up from the last offset available.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586573685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586576332","html_url":"https://github.com/apache/hudi/issues/1335#issuecomment-586576332","issue_url":"https://api.github.com/repos/apache/hudi/issues/1335","id":586576332,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjU3NjMzMg==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-15T10:29:31Z","updated_at":"2020-02-15T10:29:31Z","author_association":"MEMBER","body":"If so, to figure out it we may need more debug log. esp in `org.apache.hudi.utilities.sources.helpers.KafkaOffsetGen#getNextOffsetRanges` method.\r\n\r\nbuild the hudi source\r\n```\r\nmvn clean package -DskipTests -DskipITs -Dcheckstyle.skip=true -Drat.skip=true\r\n```\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586576332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586588828","html_url":"https://github.com/apache/hudi/pull/1337#issuecomment-586588828","issue_url":"https://api.github.com/repos/apache/hudi/issues/1337","id":586588828,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjU4ODgyOA==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-15T13:09:13Z","updated_at":"2020-02-15T13:09:13Z","author_association":"CONTRIBUTOR","body":"> LGTM overall, thanks for the cleanup @smarthi . This is a trivial change, do you think it is a MINOR? @yanghua\r\n\r\nIt would be better to file a Jira issue for this type of changes if we can.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586588828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586588934","html_url":"https://github.com/apache/hudi/issues/1335#issuecomment-586588934","issue_url":"https://api.github.com/repos/apache/hudi/issues/1335","id":586588934,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjU4ODkzNA==","user":{"login":"amitsingh-10","id":51735639,"node_id":"MDQ6VXNlcjUxNzM1NjM5","avatar_url":"https://avatars.githubusercontent.com/u/51735639?v=4","gravatar_id":"","url":"https://api.github.com/users/amitsingh-10","html_url":"https://github.com/amitsingh-10","followers_url":"https://api.github.com/users/amitsingh-10/followers","following_url":"https://api.github.com/users/amitsingh-10/following{/other_user}","gists_url":"https://api.github.com/users/amitsingh-10/gists{/gist_id}","starred_url":"https://api.github.com/users/amitsingh-10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amitsingh-10/subscriptions","organizations_url":"https://api.github.com/users/amitsingh-10/orgs","repos_url":"https://api.github.com/users/amitsingh-10/repos","events_url":"https://api.github.com/users/amitsingh-10/events{/privacy}","received_events_url":"https://api.github.com/users/amitsingh-10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-15T13:10:42Z","updated_at":"2020-02-15T13:10:42Z","author_association":"CONTRIBUTOR","body":"Okay, so I put in some log debugs in the `KafkaOffsetGen#getNextOffsetRanges` function. What I found was that Hudi had a previous checkpoint registered with it. However, I am working on understanding why it was restarting the sync with starting offset as 0 after checking valid offset because the offset. What was also interesting is when I ran the following code piece :\r\n```\r\nfromOffsets.entrySet().forEach(entry -> {\r\n        LOG.debug(entry.getKey().topic() + \"-\" + entry.getKey().partition() + \" -> \" + entry.getValue());\r\n      });\r\n```\r\nIt printed nothing which as far as I understand means that the fromOffsets map was empty.\r\n\r\nI am still trying to understand if the registering of checkpoint was due to a previous `spark-submit` running successfully when I was experimenting with other properties and Hudi registering the information or Hudi somehow registering the checkpoint in spite of failed run.\r\n\r\nFor now, upon deleting the entire folder in S3 bucket which deleted the metadata, it worked.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586588934/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586590815","html_url":"https://github.com/apache/hudi/issues/1335#issuecomment-586590815","issue_url":"https://api.github.com/repos/apache/hudi/issues/1335","id":586590815,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjU5MDgxNQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-15T13:33:53Z","updated_at":"2020-02-15T13:33:53Z","author_association":"MEMBER","body":"Good job !","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586590815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586737738","html_url":"https://github.com/apache/hudi/pull/1165#issuecomment-586737738","issue_url":"https://api.github.com/repos/apache/hudi/issues/1165","id":586737738,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjczNzczOA==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-16T18:34:10Z","updated_at":"2020-02-16T18:34:10Z","author_association":"CONTRIBUTOR","body":"@yihua Thank you for raising this PR. Have left few comments. \r\n\r\n@nsivabalan Please take a pass once my comments are addressed :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586737738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586791047","html_url":"https://github.com/apache/hudi/pull/1242#issuecomment-586791047","issue_url":"https://api.github.com/repos/apache/hudi/issues/1242","id":586791047,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Njc5MTA0Nw==","user":{"login":"hddong","id":17537134,"node_id":"MDQ6VXNlcjE3NTM3MTM0","avatar_url":"https://avatars.githubusercontent.com/u/17537134?v=4","gravatar_id":"","url":"https://api.github.com/users/hddong","html_url":"https://github.com/hddong","followers_url":"https://api.github.com/users/hddong/followers","following_url":"https://api.github.com/users/hddong/following{/other_user}","gists_url":"https://api.github.com/users/hddong/gists{/gist_id}","starred_url":"https://api.github.com/users/hddong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hddong/subscriptions","organizations_url":"https://api.github.com/users/hddong/orgs","repos_url":"https://api.github.com/users/hddong/repos","events_url":"https://api.github.com/users/hddong/events{/privacy}","received_events_url":"https://api.github.com/users/hddong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-17T02:23:43Z","updated_at":"2020-02-17T02:23:43Z","author_association":"CONTRIBUTOR","body":"@n3nash Sorry to feedback late. Have renamed this PR. BTW, I think ` new Path(basePath + \"/.hoodie/.commits_.archive*\")` will cause some bug like [HUDI-540](https://issues.apache.org/jira/browse/HUDI-540). ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586791047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586835214","html_url":"https://github.com/apache/hudi/issues/1335#issuecomment-586835214","issue_url":"https://api.github.com/repos/apache/hudi/issues/1335","id":586835214,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjgzNTIxNA==","user":{"login":"amitsingh-10","id":51735639,"node_id":"MDQ6VXNlcjUxNzM1NjM5","avatar_url":"https://avatars.githubusercontent.com/u/51735639?v=4","gravatar_id":"","url":"https://api.github.com/users/amitsingh-10","html_url":"https://github.com/amitsingh-10","followers_url":"https://api.github.com/users/amitsingh-10/followers","following_url":"https://api.github.com/users/amitsingh-10/following{/other_user}","gists_url":"https://api.github.com/users/amitsingh-10/gists{/gist_id}","starred_url":"https://api.github.com/users/amitsingh-10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amitsingh-10/subscriptions","organizations_url":"https://api.github.com/users/amitsingh-10/orgs","repos_url":"https://api.github.com/users/amitsingh-10/repos","events_url":"https://api.github.com/users/amitsingh-10/events{/privacy}","received_events_url":"https://api.github.com/users/amitsingh-10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-17T06:18:52Z","updated_at":"2020-02-17T06:18:52Z","author_association":"CONTRIBUTOR","body":"Closing this issue since I could not find so far anything wrong from Hoodie's end. Thanks for all the help!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586835214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586849583","html_url":"https://github.com/apache/hudi/pull/1150#issuecomment-586849583","issue_url":"https://api.github.com/repos/apache/hudi/issues/1150","id":586849583,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Njg0OTU4Mw==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-17T07:16:39Z","updated_at":"2020-02-17T07:16:39Z","author_association":"CONTRIBUTOR","body":"Working on it, @vinothchandar ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/586849583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587113088","html_url":"https://github.com/apache/hudi/pull/1150#issuecomment-587113088","issue_url":"https://api.github.com/repos/apache/hudi/issues/1150","id":587113088,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzExMzA4OA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-17T18:28:23Z","updated_at":"2020-02-17T18:28:23Z","author_association":"CONTRIBUTOR","body":"@pratyakshsharma : Let me know if you need any clarification.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587113088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587272207","html_url":"https://github.com/apache/hudi/pull/1176#issuecomment-587272207","issue_url":"https://api.github.com/repos/apache/hudi/issues/1176","id":587272207,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzI3MjIwNw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T04:26:13Z","updated_at":"2020-02-18T04:26:13Z","author_association":"CONTRIBUTOR","body":"@vinothchandar : Have fixed the build failures. Patch is good to review. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587272207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587413861","html_url":"https://github.com/apache/hudi/pull/1339#issuecomment-587413861","issue_url":"https://api.github.com/repos/apache/hudi/issues/1339","id":587413861,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzQxMzg2MQ==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T11:22:39Z","updated_at":"2020-02-18T11:22:39Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587413861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587608958","html_url":"https://github.com/apache/hudi/pull/1315#issuecomment-587608958","issue_url":"https://api.github.com/repos/apache/hudi/issues/1315","id":587608958,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzYwODk1OA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T18:23:34Z","updated_at":"2020-02-18T18:23:34Z","author_association":"CONTRIBUTOR","body":"@vinothchandar / @leesf : PR is good to merge. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587608958/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587659536","html_url":"https://github.com/apache/hudi/pull/1334#issuecomment-587659536","issue_url":"https://api.github.com/repos/apache/hudi/issues/1334","id":587659536,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzY1OTUzNg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T18:56:57Z","updated_at":"2020-02-18T18:56:57Z","author_association":"MEMBER","body":"@lamber-ken there is `HoodieDataSourceHelpers` has has some helps to figure out the new commits.. what are you trying to accomplish? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587659536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587661582","html_url":"https://github.com/apache/hudi/issues/954#issuecomment-587661582","issue_url":"https://api.github.com/repos/apache/hudi/issues/954","id":587661582,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzY2MTU4Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T18:58:19Z","updated_at":"2020-02-18T18:58:19Z","author_association":"MEMBER","body":"@umehrot2 Looks like glue integration keeps coming up :).. Do you want to chime in here? May be we good to also track some follow up from these issues (if any) towards the next release? Let me know if you are interested in driving this","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587661582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587663160","html_url":"https://github.com/apache/hudi/issues/1328#issuecomment-587663160","issue_url":"https://api.github.com/repos/apache/hudi/issues/1328","id":587663160,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzY2MzE2MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T18:59:25Z","updated_at":"2020-02-18T18:59:25Z","author_association":"MEMBER","body":"Started on this.. Was trying to port to scala, since I am not super familiar with pySpark. Will resume today and circle back. :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587663160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587701211","html_url":"https://github.com/apache/hudi/pull/1289#issuecomment-587701211","issue_url":"https://api.github.com/repos/apache/hudi/issues/1289","id":587701211,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzcwMTIxMQ==","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T19:25:04Z","updated_at":"2020-02-18T19:25:04Z","author_association":"MEMBER","body":"> 1. It seems like you are only covering cases where an RDD is getting created? Is it possible to change the job group between stages?\r\n\r\nThe setJobGroup() description applies to the Thread and is used until either it is updated or removed. So we need to label each stage and they should show up correctly.\r\n\r\nWe can label RDD creations as well as operations on them.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587701211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587712891","html_url":"https://github.com/apache/hudi/pull/1289#issuecomment-587712891","issue_url":"https://api.github.com/repos/apache/hudi/issues/1289","id":587712891,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzcxMjg5MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T19:32:44Z","updated_at":"2020-02-18T19:32:44Z","author_association":"MEMBER","body":">So we need to label each stage and they should show up correctly.\r\n\r\nif we could do that, and if you can post the `upsert()` dag for example, that would be great.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587712891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587730864","html_url":"https://github.com/apache/hudi/pull/1176#issuecomment-587730864","issue_url":"https://api.github.com/repos/apache/hudi/issues/1176","id":587730864,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzczMDg2NA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T19:45:19Z","updated_at":"2020-02-18T19:45:19Z","author_association":"MEMBER","body":"@nsivabalan awesome. will do.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587730864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587941167","html_url":"https://github.com/apache/hudi/issues/954#issuecomment-587941167","issue_url":"https://api.github.com/repos/apache/hudi/issues/954","id":587941167,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Nzk0MTE2Nw==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T22:42:13Z","updated_at":"2020-02-18T22:42:13Z","author_association":"CONTRIBUTOR","body":"@jinshuangxian This particular issue has been fixed since our first release of Hudi on emr-5.28.0. So, you can use either `emr-5.28.0` or `emr-5.29.0` without this issue. Let me know if you are running into an actual issue.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587941167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587942358","html_url":"https://github.com/apache/hudi/issues/954#issuecomment-587942358","issue_url":"https://api.github.com/repos/apache/hudi/issues/954","id":587942358,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Nzk0MjM1OA==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T22:45:40Z","updated_at":"2020-02-18T22:45:40Z","author_association":"CONTRIBUTOR","body":"@vinothchandar I am happy to take up this integration piece. I have been keeping a close track on all the discussions around hive/glue catalog sync issues, and most of them have been around misconfigurations. One issue that is relevant is that schema evolution does now work against Glue catalog and I will create a JIRA for that.\r\n\r\nI also think we can add some questions related to glue in the FAQ regarding misconfigurations. I can add it there, but would like to know the process for doing that.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587942358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587992448","html_url":"https://github.com/apache/hudi/pull/1320#issuecomment-587992448","issue_url":"https://api.github.com/repos/apache/hudi/issues/1320","id":587992448,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Nzk5MjQ0OA==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T01:44:05Z","updated_at":"2020-02-19T01:44:05Z","author_association":"MEMBER","body":"@n3nash  please take one more look. might be easier to discuss this in person.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/587992448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/588341138","html_url":"https://github.com/apache/hudi/issues/1328#issuecomment-588341138","issue_url":"https://api.github.com/repos/apache/hudi/issues/1328","id":588341138,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODM0MTEzOA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T17:25:54Z","updated_at":"2020-02-19T17:25:54Z","author_association":"MEMBER","body":"I ported your code to scala and looking into the issue now.. Will keep you posted. \r\n\r\n```\r\nval HUDI_FORMAT = \"org.apache.hudi\"\r\nval TABLE_NAME = \"hoodie.table.name\"\r\nval RECORDKEY_FIELD_OPT_KEY = \"hoodie.datasource.write.recordkey.field\"\r\nval PRECOMBINE_FIELD_OPT_KEY = \"hoodie.datasource.write.precombine.field\"\r\nval OPERATION_OPT_KEY = \"hoodie.datasource.write.operation\"\r\nval BULK_INSERT_OPERATION_OPT_VAL = \"bulk_insert\"\r\nval UPSERT_OPERATION_OPT_VAL = \"upsert\"\r\nval BULK_INSERT_PARALLELISM = \"hoodie.bulkinsert.shuffle.parallelism\"\r\nval UPSERT_PARALLELISM = \"hoodie.upsert.shuffle.parallelism\"\r\nval config = Map(\r\n\"table_name\" -> \"example_table\",\r\n\"target\" -> \"file:///tmp/example_table/\",\r\n\"primary_key\" ->  \"id\",\r\n\"sort_key\" -> \"id\"\r\n)\r\nval readPath = config(\"target\") + \"/*\"\r\n\r\nval json_data = (1 to 4000000).map(i => \"{\\\"id\\\":\" + i + \"}\")\r\nval jsonRDD = spark.sparkContext.parallelize(json_data, 2)\r\nval df1 = spark.read.json(jsonRDD)\r\nprintln(s\"${df1.count()} records in source 1\")\r\n\r\ndf1.printSchema\r\n\r\n// Runs quick\r\ndf1.write.format(HUDI_FORMAT)\r\n      .option(PRECOMBINE_FIELD_OPT_KEY, config(\"sort_key\"))\r\n      .option(RECORDKEY_FIELD_OPT_KEY, config(\"primary_key\"))\r\n      .option(TABLE_NAME, config(\"table_name\"))\r\n      .option(OPERATION_OPT_KEY, BULK_INSERT_OPERATION_OPT_VAL)\r\n      .option(BULK_INSERT_PARALLELISM, 1)\r\n      .mode(\"Overwrite\")\r\n      .save(config(\"target\"))\r\n\r\n\r\nprintln(s\"${spark.read.format(HUDI_FORMAT).load(readPath).count()} records in Hudi table\")\r\n\r\n// Runs quick\r\ndf1.limit(3000000).write.format(HUDI_FORMAT)\r\n    .option(PRECOMBINE_FIELD_OPT_KEY, config(\"sort_key\"))\r\n    .option(RECORDKEY_FIELD_OPT_KEY, config(\"primary_key\"))\r\n    .option(TABLE_NAME, config(\"table_name\"))\r\n    .option(OPERATION_OPT_KEY, UPSERT_OPERATION_OPT_VAL)\r\n    .option(UPSERT_PARALLELISM, 20)\r\n    .mode(\"Append\")\r\n    .save(config(\"target\"))\r\n\r\nprintln(s\"${spark.read.format(HUDI_FORMAT).load(readPath).count()} records in Hudi table\")\r\n\r\n// Runs very slow\r\ndf1.write.format(HUDI_FORMAT)\r\n  .option(PRECOMBINE_FIELD_OPT_KEY, config(\"sort_key\"))\r\n  .option(RECORDKEY_FIELD_OPT_KEY, config(\"primary_key\"))\r\n  .option(TABLE_NAME, config(\"table_name\"))\r\n  .option(OPERATION_OPT_KEY, UPSERT_OPERATION_OPT_VAL)\r\n  .option(UPSERT_PARALLELISM, 20)\r\n  .mode(\"Append\")\r\n  .save(config(\"target\"))\r\n\r\nprintln(s\"${spark.read.format(HUDI_FORMAT).load(readPath).count()} records in Hudi table\")\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/588341138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/588425612","html_url":"https://github.com/apache/hudi/pull/1159#issuecomment-588425612","issue_url":"https://api.github.com/repos/apache/hudi/issues/1159","id":588425612,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODQyNTYxMg==","user":{"login":"smarthi","id":3137442,"node_id":"MDQ6VXNlcjMxMzc0NDI=","avatar_url":"https://avatars.githubusercontent.com/u/3137442?v=4","gravatar_id":"","url":"https://api.github.com/users/smarthi","html_url":"https://github.com/smarthi","followers_url":"https://api.github.com/users/smarthi/followers","following_url":"https://api.github.com/users/smarthi/following{/other_user}","gists_url":"https://api.github.com/users/smarthi/gists{/gist_id}","starred_url":"https://api.github.com/users/smarthi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smarthi/subscriptions","organizations_url":"https://api.github.com/users/smarthi/orgs","repos_url":"https://api.github.com/users/smarthi/repos","events_url":"https://api.github.com/users/smarthi/events{/privacy}","received_events_url":"https://api.github.com/users/smarthi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T20:12:00Z","updated_at":"2020-02-19T20:12:00Z","author_association":"MEMBER","body":"> @smarthi when you reach the bottom of the barrel, can we also add a rule here to disallow guava?\r\n> \r\n> https://github.com/apache/incubator-hudi/blob/master/style/checkstyle.xml#L266\r\n> \r\n> I can then do a final review and merge.. (Looks like there is one clean up pending before this one)\r\n\r\nIts done now - PR is ready for review and feedback.  I would merge this post-0.5.2 release though.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/588425612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/588563459","html_url":"https://github.com/apache/hudi/issues/1325#issuecomment-588563459","issue_url":"https://api.github.com/repos/apache/hudi/issues/1325","id":588563459,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODU2MzQ1OQ==","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-20T01:30:33Z","updated_at":"2020-02-20T01:30:33Z","author_association":"CONTRIBUTOR","body":"@adamjoneill I found some related issues to querying nested parquet fields in Presto - https://github.com/prestodb/presto/pull/10852, https://github.com/prestodb/presto/pull/9156, https://github.com/prestodb/presto/pull/10849 . I am wondering if your use case might be one of those backward compatibility cases. I am yet to reproduce this. Have you already looked into these threads to see if there are any leads ? \r\n\r\nMy guess at the moment - there is some expectation with complex nested type schema that Presto parquet reader expects that mismatches with the actual data. Need to dig this further to check if its a bug or a schema issue. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/588563459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/588567557","html_url":"https://github.com/apache/hudi/issues/1342#issuecomment-588567557","issue_url":"https://api.github.com/repos/apache/hudi/issues/1342","id":588567557,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODU2NzU1Nw==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-20T01:47:27Z","updated_at":"2020-02-24T02:11:13Z","author_association":"MEMBER","body":"hi @tooptoop4, I test it in my local env. No need to run any convert utility.\r\n\r\n**Notice:**\r\n- Change `com.uber.hoodie` to `org.apache.hudi`\r\n- Better to improve spark to 2.4.4 version\r\n- Add `org.apache.spark:spark-avro_2.11:2.4.4` to start command\r\n```\r\nbin/spark-shell \\\r\n  --packages org.apache.hudi:hudi-spark-bundle_2.11:0.5.1-incubating,org.apache.spark:spark-avro_2.11:2.4.4 \\\r\n  --conf 'spark.serializer=org.apache.spark.serializer.KryoSerializer'\r\n```\r\n\r\n<br>\r\n\r\nMore, from `0.4.6` to `0.5.1` is a big version change, I suggest that you'd better test it with some old cow tables in your environment too. If you meet some issue, you can ask us at any time.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/588567557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/588568408","html_url":"https://github.com/apache/hudi/issues/1342#issuecomment-588568408","issue_url":"https://api.github.com/repos/apache/hudi/issues/1342","id":588568408,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODU2ODQwOA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-20T01:51:00Z","updated_at":"2020-02-20T01:51:00Z","author_association":"MEMBER","body":"Thanks for confirming @lamber-ken ! ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/588568408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/588587943","html_url":"https://github.com/apache/hudi/pull/1100#issuecomment-588587943","issue_url":"https://api.github.com/repos/apache/hudi/issues/1100","id":588587943,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODU4Nzk0Mw==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-20T03:14:15Z","updated_at":"2020-02-20T03:15:53Z","author_association":"CONTRIBUTOR","body":"@n3nash  I report the current state to you, the whole project can be compiled successfully, I can run the whole test cases locally in `hudi-test-suite` module. But the Travis always reports `The job exceeded the maximum log length, and has been terminated.`.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/588587943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/588634226","html_url":"https://github.com/apache/hudi/pull/1343#issuecomment-588634226","issue_url":"https://api.github.com/repos/apache/hudi/issues/1343","id":588634226,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODYzNDIyNg==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-20T06:36:35Z","updated_at":"2020-02-20T06:36:35Z","author_association":"CONTRIBUTOR","body":"@smarthi Travis is red. Can you check the reason?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/588634226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/588636142","html_url":"https://github.com/apache/hudi/pull/1343#issuecomment-588636142","issue_url":"https://api.github.com/repos/apache/hudi/issues/1343","id":588636142,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODYzNjE0Mg==","user":{"login":"smarthi","id":3137442,"node_id":"MDQ6VXNlcjMxMzc0NDI=","avatar_url":"https://avatars.githubusercontent.com/u/3137442?v=4","gravatar_id":"","url":"https://api.github.com/users/smarthi","html_url":"https://github.com/smarthi","followers_url":"https://api.github.com/users/smarthi/followers","following_url":"https://api.github.com/users/smarthi/following{/other_user}","gists_url":"https://api.github.com/users/smarthi/gists{/gist_id}","starred_url":"https://api.github.com/users/smarthi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smarthi/subscriptions","organizations_url":"https://api.github.com/users/smarthi/orgs","repos_url":"https://api.github.com/users/smarthi/repos","events_url":"https://api.github.com/users/smarthi/events{/privacy}","received_events_url":"https://api.github.com/users/smarthi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-20T06:43:30Z","updated_at":"2020-02-20T06:43:30Z","author_association":"MEMBER","body":"> @smarthi Travis is red. Can you check the reason?\r\n\r\nFound the issue and fixed it... wait for next Travis CI run to be green before merging.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/588636142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/588969473","html_url":"https://github.com/apache/hudi/issues/1328#issuecomment-588969473","issue_url":"https://api.github.com/repos/apache/hudi/issues/1328","id":588969473,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODk2OTQ3Mw==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-20T11:17:13Z","updated_at":"2020-02-20T11:17:13Z","author_association":"MEMBER","body":"Hi @vinothchandar, follow your steps\r\n\r\n**Analysis**:\r\n\r\nUpsert (4000000 entries)\r\n```\r\nWARN HoodieMergeHandle: \r\nNumber of entries in MemoryBasedMap => 150875 \r\nTotal size in bytes of MemoryBasedMap => 83886580 \r\nNumber of entries in DiskBasedMap => 3849125 \r\nSize of file spilled to disk => 1443046132\r\n```\r\n\r\nHang stackstrace (DiskBasedMap#get)\r\n```\r\n\"pool-21-thread-2\" Id=696 cpuUsage=98% RUNNABLE\r\n    at java.util.zip.ZipFile.getEntry(Native Method)\r\n    at java.util.zip.ZipFile.getEntry(ZipFile.java:310)\r\n    -  locked java.util.jar.JarFile@1fc27ed4\r\n    at java.util.jar.JarFile.getEntry(JarFile.java:240)\r\n    at java.util.jar.JarFile.getJarEntry(JarFile.java:223)\r\n    at sun.misc.URLClassPath$JarLoader.getResource(URLClassPath.java:1005)\r\n    at sun.misc.URLClassPath.getResource(URLClassPath.java:212)\r\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:365)\r\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:362)\r\n    at java.security.AccessController.doPrivileged(Native Method)\r\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:361)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    -  locked java.lang.Object@28f65251\r\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:411)\r\n    -  locked scala.reflect.internal.util.ScalaClassLoader$URLClassLoader@a353dff\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:411)\r\n    -  locked com.esotericsoftware.reflectasm.AccessClassLoader@2c7122e2\r\n    at com.esotericsoftware.reflectasm.AccessClassLoader.loadClass(AccessClassLoader.java:92)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    at com.esotericsoftware.reflectasm.ConstructorAccess.get(ConstructorAccess.java:59)\r\n    -  locked com.esotericsoftware.reflectasm.AccessClassLoader@2c7122e2\r\n    at org.apache.hudi.common.util.SerializationUtils$KryoInstantiator$KryoBase.lambda$newInstantiator$0(SerializationUtils.java:151)\r\n    at org.apache.hudi.common.util.SerializationUtils$KryoInstantiator$KryoBase$$Lambda$265/1458915834.newInstance(Unknown Source)\r\n    at com.esotericsoftware.kryo.Kryo.newInstance(Kryo.java:1139)\r\n    at com.esotericsoftware.kryo.serializers.FieldSerializer.create(FieldSerializer.java:562)\r\n    at com.esotericsoftware.kryo.serializers.FieldSerializer.read(FieldSerializer.java:538)\r\n    at com.esotericsoftware.kryo.Kryo.readObject(Kryo.java:731)\r\n    at com.esotericsoftware.kryo.serializers.ObjectField.read(ObjectField.java:125)\r\n    at com.esotericsoftware.kryo.serializers.FieldSerializer.read(FieldSerializer.java:543)\r\n    at com.esotericsoftware.kryo.Kryo.readClassAndObject(Kryo.java:813)\r\n    at org.apache.hudi.common.util.SerializationUtils$KryoSerializerInstance.deserialize(SerializationUtils.java:112)\r\n    at org.apache.hudi.common.util.SerializationUtils.deserialize(SerializationUtils.java:86)\r\n    at org.apache.hudi.common.util.collection.DiskBasedMap.get(DiskBasedMap.java:217)\r\n    at org.apache.hudi.common.util.collection.DiskBasedMap.get(DiskBasedMap.java:211)\r\n    at org.apache.hudi.common.util.collection.DiskBasedMap.get(DiskBasedMap.java:207)\r\n    at org.apache.hudi.common.util.collection.ExternalSpillableMap.get(ExternalSpillableMap.java:173)\r\n    at org.apache.hudi.common.util.collection.ExternalSpillableMap.get(ExternalSpillableMap.java:55)\r\n    at org.apache.hudi.io.HoodieMergeHandle.write(HoodieMergeHandle.java:280)\r\n    at org.apache.hudi.table.HoodieCopyOnWriteTable$UpdateHandler.consumeOneRecord(HoodieCopyOnWriteTable.java:434)\r\n    at org.apache.hudi.table.HoodieCopyOnWriteTable$UpdateHandler.consumeOneRecord(HoodieCopyOnWriteTable.java:424)\r\n    at org.apache.hudi.common.util.queue.BoundedInMemoryQueueConsumer.consume(BoundedInMemoryQueueConsumer.java:37)\r\n    at org.apache.hudi.common.util.queue.BoundedInMemoryExecutor.lambda$null$2(BoundedInMemoryExecutor.java:121)\r\n    at org.apache.hudi.common.util.queue.BoundedInMemoryExecutor$$Lambda$76/1412692041.call(Unknown Source)\r\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    at java.lang.Thread.run(Thread.java:745)\r\n```\r\n\r\nAverage time of `DiskBasedMap#get`\r\n```\r\n$ monitor *DiskBasedMap get -c 12\r\n\r\nAffect(class-cnt:1 , method-cnt:4) cost in 221 ms.\r\n timestamp            class         method  total  success  fail  avg-rt(ms)  fail-rate\r\n----------------------------------------------------------------------------------------\r\n 2020-02-20 18:13:36  DiskBasedMap  get     5814   5814     0     6.12        0.00%\r\n\r\n\r\n timestamp            class         method  total  success  fail  avg-rt(ms)  fail-rate\r\n----------------------------------------------------------------------------------------\r\n2020-02-20 18:13:48  DiskBasedMap   get     9117   9117     0     3.89        0.00%\r\n\r\n\r\n timestamp            class         method  total  success  fail  avg-rt(ms)  fail-rate\r\n----------------------------------------------------------------------------------------\r\n 2020-02-20 18:14:16  DiskBasedMap  get     8490   8490     0     4.10        0.00%\r\n```\r\n\r\nSo, when write data to parquet file, needs 3849125(entries) * 4ms(avg) = 15396s. \r\nIt takes a long time.\r\n\r\nMore, add option `option(\"hoodie.memory.merge.max.size\", \"2004857600000\")`, just need about 2.7min\r\n![image](https://user-images.githubusercontent.com/20113411/74928995-8fb0da80-5415-11ea-9161-0a80e15f0504.png)\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/588969473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/588971355","html_url":"https://github.com/apache/hudi/issues/1328#issuecomment-588971355","issue_url":"https://api.github.com/repos/apache/hudi/issues/1328","id":588971355,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODk3MTM1NQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-20T11:21:33Z","updated_at":"2020-02-20T11:21:33Z","author_association":"MEMBER","body":"Hi @bwu2, add option when upsert `option(\"hoodie.memory.merge.max.size\", \"2004857600000\")`, let's try again : )","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/588971355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/589152895","html_url":"https://github.com/apache/hudi/issues/1328#issuecomment-589152895","issue_url":"https://api.github.com/repos/apache/hudi/issues/1328","id":589152895,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTE1Mjg5NQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-20T15:58:34Z","updated_at":"2020-02-20T15:58:34Z","author_association":"MEMBER","body":"@lamber-ken is right.. I am looking into why the DiskBasedMap is so slow (there was a recent change.. wondering if its a regression.. ) Will raise a JIRA nonetheless..  \r\n\r\n\r\nSo bit more explanation..The big difference is that all 4M entries go to one file and its a degenerate workload (i.e a single field record) where the metadata to data overhead is lot.. We have a spilling mechanism to handle large number keys merging into a single file (like the spill map you will see in spark shuffle) and that seems to be performing poorly.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/589152895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/589195840","html_url":"https://github.com/apache/hudi/issues/1328#issuecomment-589195840","issue_url":"https://api.github.com/repos/apache/hudi/issues/1328","id":589195840,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTE5NTg0MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-20T17:08:17Z","updated_at":"2020-02-20T17:08:17Z","author_association":"MEMBER","body":"https://issues.apache.org/jira/browse/HUDI-625 filed this to look into this scenario.. \r\n\r\n@bwu2 In the meantime, could you run your benchmark against a real dataset with more fields so number of files spread out and record sizes are larger. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/589195840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/589242784","html_url":"https://github.com/apache/hudi/issues/954#issuecomment-589242784","issue_url":"https://api.github.com/repos/apache/hudi/issues/954","id":589242784,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTI0Mjc4NA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-20T18:35:13Z","updated_at":"2020-02-20T18:35:13Z","author_association":"MEMBER","body":"@umehrot2 For some of the misconfigs, we could add it to the troubleshooting guide that @pratyakshsharma is putting together.. This will reduce our support cost significantly ..\r\n\r\n\r\n>> One issue that is relevant is that schema evolution does now work against Glue catalog and I will create a JIRA for that.\r\n+1. thanks @umehrot2 for being so awesome ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/589242784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/589252115","html_url":"https://github.com/apache/hudi/pull/1341#issuecomment-589252115","issue_url":"https://api.github.com/repos/apache/hudi/issues/1341","id":589252115,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTI1MjExNQ==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-20T18:56:40Z","updated_at":"2020-02-20T18:56:40Z","author_association":"MEMBER","body":"> Please first create a JIRA for the PR.\r\n\r\n@smarthi My bad. Added. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/589252115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/589446887","html_url":"https://github.com/apache/hudi/issues/1328#issuecomment-589446887","issue_url":"https://api.github.com/repos/apache/hudi/issues/1328","id":589446887,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTQ0Njg4Nw==","user":{"login":"bwu2","id":14202231,"node_id":"MDQ6VXNlcjE0MjAyMjMx","avatar_url":"https://avatars.githubusercontent.com/u/14202231?v=4","gravatar_id":"","url":"https://api.github.com/users/bwu2","html_url":"https://github.com/bwu2","followers_url":"https://api.github.com/users/bwu2/followers","following_url":"https://api.github.com/users/bwu2/following{/other_user}","gists_url":"https://api.github.com/users/bwu2/gists{/gist_id}","starred_url":"https://api.github.com/users/bwu2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bwu2/subscriptions","organizations_url":"https://api.github.com/users/bwu2/orgs","repos_url":"https://api.github.com/users/bwu2/repos","events_url":"https://api.github.com/users/bwu2/events{/privacy}","received_events_url":"https://api.github.com/users/bwu2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-21T00:58:41Z","updated_at":"2020-02-21T00:58:41Z","author_association":"NONE","body":"Thanks for your replies!\r\n\r\n @lamber-ken I will try again with that setting. Does increasing the memory available by setting `option(\"hoodie.memory.merge.max.size\", \"2004857600000\")` work better than increasing executor memory or`hoodie.memory.merge.fraction`? Will it not result in an OOME? \r\n\r\n@vinothchandar Yes, we are re-running against real datasets in the next couple of days. I will report back. But do note that the original problem actually arose on a real dataset not a degenerate or artificial workload: it was not a particularly wide table (with 6 or 7 fields), with about 4m rows bulk inserted and then another 4m upserted (of which most were the same rows).\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/589446887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/589452198","html_url":"https://github.com/apache/hudi/issues/1328#issuecomment-589452198","issue_url":"https://api.github.com/repos/apache/hudi/issues/1328","id":589452198,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTQ1MjE5OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-21T01:16:41Z","updated_at":"2020-02-21T01:16:41Z","author_association":"MEMBER","body":"@bwu2 Got it.. I think the root issue is that the map is spilling more than needed. I am trying to understand why.. Will update the JIRA as I uncover stuff. if its easy, we can target a fix in the next 0.5.2 release itself. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/589452198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/589546842","html_url":"https://github.com/apache/hudi/pull/1278#issuecomment-589546842","issue_url":"https://api.github.com/repos/apache/hudi/issues/1278","id":589546842,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTU0Njg0Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-21T08:15:23Z","updated_at":"2020-02-21T08:15:23Z","author_association":"MEMBER","body":"@bvaradar please check prior to merging if the commit message will retain the JIRA number :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/589546842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/589581238","html_url":"https://github.com/apache/hudi/pull/1346#issuecomment-589581238","issue_url":"https://api.github.com/repos/apache/hudi/issues/1346","id":589581238,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTU4MTIzOA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-21T09:52:47Z","updated_at":"2020-02-21T09:52:47Z","author_association":"MEMBER","body":"cc @yanghua ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/589581238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/589883370","html_url":"https://github.com/apache/hudi/pull/1347#issuecomment-589883370","issue_url":"https://api.github.com/repos/apache/hudi/issues/1347","id":589883370,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTg4MzM3MA==","user":{"login":"ramachandranms","id":2144396,"node_id":"MDQ6VXNlcjIxNDQzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/2144396?v=4","gravatar_id":"","url":"https://api.github.com/users/ramachandranms","html_url":"https://github.com/ramachandranms","followers_url":"https://api.github.com/users/ramachandranms/followers","following_url":"https://api.github.com/users/ramachandranms/following{/other_user}","gists_url":"https://api.github.com/users/ramachandranms/gists{/gist_id}","starred_url":"https://api.github.com/users/ramachandranms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ramachandranms/subscriptions","organizations_url":"https://api.github.com/users/ramachandranms/orgs","repos_url":"https://api.github.com/users/ramachandranms/repos","events_url":"https://api.github.com/users/ramachandranms/events{/privacy}","received_events_url":"https://api.github.com/users/ramachandranms/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-21T23:44:49Z","updated_at":"2020-02-21T23:44:49Z","author_association":"CONTRIBUTOR","body":"we have a code coverage report already in [codecov.io](https://codecov.io/gh/apache/incubator-hudi) through this PR","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/589883370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/589914835","html_url":"https://github.com/apache/hudi/pull/1165#issuecomment-589914835","issue_url":"https://api.github.com/repos/apache/hudi/issues/1165","id":589914835,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTkxNDgzNQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-22T03:53:23Z","updated_at":"2020-02-22T03:53:23Z","author_association":"MEMBER","body":"@nsivabalan Please shepherd this across the finish line :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/589914835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/589914890","html_url":"https://github.com/apache/hudi/pull/1308#issuecomment-589914890","issue_url":"https://api.github.com/repos/apache/hudi/issues/1308","id":589914890,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTkxNDg5MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-22T03:54:15Z","updated_at":"2020-02-22T03:54:15Z","author_association":"MEMBER","body":"Closing based on previous discussion. Please feel free to reopen if you think I am missing something","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/589914890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/589975941","html_url":"https://github.com/apache/hudi/pull/1165#issuecomment-589975941","issue_url":"https://api.github.com/repos/apache/hudi/issues/1165","id":589975941,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTk3NTk0MQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-22T17:00:39Z","updated_at":"2020-02-22T17:00:39Z","author_association":"CONTRIBUTOR","body":"Sure. Will take care.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/589975941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590139655","html_url":"https://github.com/apache/hudi/pull/1341#issuecomment-590139655","issue_url":"https://api.github.com/repos/apache/hudi/issues/1341","id":590139655,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDEzOTY1NQ==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T01:09:02Z","updated_at":"2020-02-24T01:09:02Z","author_association":"MEMBER","body":"@smarthi could you review this when you get a chance?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590139655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590142768","html_url":"https://github.com/apache/hudi/pull/1351#issuecomment-590142768","issue_url":"https://api.github.com/repos/apache/hudi/issues/1351","id":590142768,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDE0Mjc2OA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T01:35:46Z","updated_at":"2020-02-24T02:19:17Z","author_association":"MEMBER","body":"This is a great start. 👍 \r\n\r\nIMO, because we already set InstantiatorStrategy, so we needn't register class agian.\r\n`kryo.setInstantiatorStrategy(new org.objenesis.strategy.StdInstantiatorStrategy());`\r\n\r\nFrom kryo guide[1], we also modify this:\r\n```\r\nkryo.setInstantiatorStrategy(new Kryo.DefaultInstantiatorStrategy(new StdInstantiatorStrategy()));\r\n```\r\n\r\nSo, we do bellow changes will be ok\r\n\r\n- Change `Kryo kryo = new KryoBase();` to `Kryo kryo = new Kryo();`\r\n- `kryo.setInstantiatorStrategy(new Kryo.DefaultInstantiatorStrategy(new StdInstantiatorStrategy()));`\r\n\r\n[1] https://github.com/EsotericSoftware/kryo#object-creation","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590142768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590172680","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-590172680","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":590172680,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDE3MjY4MA==","user":{"login":"apoorva007","id":6999662,"node_id":"MDQ6VXNlcjY5OTk2NjI=","avatar_url":"https://avatars.githubusercontent.com/u/6999662?v=4","gravatar_id":"","url":"https://api.github.com/users/apoorva007","html_url":"https://github.com/apoorva007","followers_url":"https://api.github.com/users/apoorva007/followers","following_url":"https://api.github.com/users/apoorva007/following{/other_user}","gists_url":"https://api.github.com/users/apoorva007/gists{/gist_id}","starred_url":"https://api.github.com/users/apoorva007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apoorva007/subscriptions","organizations_url":"https://api.github.com/users/apoorva007/orgs","repos_url":"https://api.github.com/users/apoorva007/repos","events_url":"https://api.github.com/users/apoorva007/events{/privacy}","received_events_url":"https://api.github.com/users/apoorva007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T05:29:23Z","updated_at":"2020-02-24T05:29:23Z","author_association":"NONE","body":"Please add me : apoorva.aggarwal@grofers.com","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590172680/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590229950","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-590229950","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":590229950,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDIyOTk1MA==","user":{"login":"pushpavanthar","id":8515997,"node_id":"MDQ6VXNlcjg1MTU5OTc=","avatar_url":"https://avatars.githubusercontent.com/u/8515997?v=4","gravatar_id":"","url":"https://api.github.com/users/pushpavanthar","html_url":"https://github.com/pushpavanthar","followers_url":"https://api.github.com/users/pushpavanthar/followers","following_url":"https://api.github.com/users/pushpavanthar/following{/other_user}","gists_url":"https://api.github.com/users/pushpavanthar/gists{/gist_id}","starred_url":"https://api.github.com/users/pushpavanthar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pushpavanthar/subscriptions","organizations_url":"https://api.github.com/users/pushpavanthar/orgs","repos_url":"https://api.github.com/users/pushpavanthar/repos","events_url":"https://api.github.com/users/pushpavanthar/events{/privacy}","received_events_url":"https://api.github.com/users/pushpavanthar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T09:21:07Z","updated_at":"2020-02-24T09:21:07Z","author_association":"NONE","body":"please add me pushpavanthar@gmail.com","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590229950/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590475157","html_url":"https://github.com/apache/hudi/issues/1329#issuecomment-590475157","issue_url":"https://api.github.com/repos/apache/hudi/issues/1329","id":590475157,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDQ3NTE1Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T18:18:29Z","updated_at":"2020-02-24T18:18:29Z","author_association":"MEMBER","body":"@bhasudha let's look at this more closely and confirm whats going on here? This stack trace indicates, just ipf.getSplits() being called.. and thus its general code. We do have tests around querying non-partitioned tables.. So need to reproduce this in docker setup or sth and go from therE?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590475157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590504340","html_url":"https://github.com/apache/hudi/pull/1351#issuecomment-590504340","issue_url":"https://api.github.com/repos/apache/hudi/issues/1351","id":590504340,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDUwNDM0MA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T19:22:58Z","updated_at":"2020-02-24T19:24:09Z","author_association":"CONTRIBUTOR","body":"@vinothchandar this is interesting, why does Kryo need serializer implementations ? Ohh, just saw @lamber-ken's response -> the StdInstantiatorStrategy will allow kryo to fall back to Java Serde, is that what we want ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590504340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590505752","html_url":"https://github.com/apache/hudi/pull/1346#issuecomment-590505752","issue_url":"https://api.github.com/repos/apache/hudi/issues/1346","id":590505752,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDUwNTc1Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T19:26:03Z","updated_at":"2020-02-24T19:26:03Z","author_association":"MEMBER","body":"Will create a new ticket to accumulate the breaking changes for next releases.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590505752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590506849","html_url":"https://github.com/apache/hudi/pull/1351#issuecomment-590506849","issue_url":"https://api.github.com/repos/apache/hudi/issues/1351","id":590506849,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDUwNjg0OQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T19:28:12Z","updated_at":"2020-02-24T19:28:12Z","author_association":"MEMBER","body":"Hi @n3nash, we talked about this issue in [HUDI-625](https://issues.apache.org/jira/browse/HUDI-625) . ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590506849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590508114","html_url":"https://github.com/apache/hudi/pull/1351#issuecomment-590508114","issue_url":"https://api.github.com/repos/apache/hudi/issues/1351","id":590508114,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDUwODExNA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T19:30:52Z","updated_at":"2020-02-24T19:30:52Z","author_association":"MEMBER","body":"@lamber-ken has a smaller fix that probably does not involve explicit serializers. but the way we implemented kryo Serialization is definitely problematic. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590508114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590509005","html_url":"https://github.com/apache/hudi/pull/1351#issuecomment-590509005","issue_url":"https://api.github.com/repos/apache/hudi/issues/1351","id":590509005,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDUwOTAwNQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T19:32:52Z","updated_at":"2020-02-24T19:32:52Z","author_association":"MEMBER","body":"@lamber-ken Please assign HUDI-625 to yourself, when aapche issues site comes back online.. I will take the `DiskBasedMap` related changes from here in a separae JIRA..\r\n\r\n@n3nash wdyt ?  I think the per-record overhead of HoodieRecord need not be persisted to the DiskBasedMap i.e just have `<RecordKey, Payload>`, others we can dynamically add when reading the map.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590509005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590512271","html_url":"https://github.com/apache/hudi/pull/1289#issuecomment-590512271","issue_url":"https://api.github.com/repos/apache/hudi/issues/1289","id":590512271,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDUxMjI3MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T19:39:53Z","updated_at":"2020-02-24T19:39:53Z","author_association":"MEMBER","body":"@prashantwason Wondering if you have some screenshots for the upsert dag.. (I can try running tjhe PR locally if not) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590512271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590515904","html_url":"https://github.com/apache/hudi/pull/1289#issuecomment-590515904","issue_url":"https://api.github.com/repos/apache/hudi/issues/1289","id":590515904,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDUxNTkwNA==","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T19:48:10Z","updated_at":"2020-02-24T19:48:10Z","author_association":"MEMBER","body":"I dont have them yet. I can run any specific Hudi test already committed\nand quickly get the screenshot if that helps.\n\nOn Mon, Feb 24, 2020 at 11:39 AM vinoth chandar <notifications@github.com>\nwrote:\n\n> @prashantwason\n> <https://urldefense.proofpoint.com/v2/url?u=https-3A__github.com_prashantwason&d=DwMCaQ&c=r2dcLCtU9q6n0vrtnDw9vg&r=c89AU9T1AVhM4r2Xi3ctZA&m=krc72Vl8fn-BAV9Uw7bypYN5QdpKdBETNBLTRmB0Lxg&s=GjZTgUvDI4lH7V_gFYBDEoTDzLa1ymVz_0l4ErWsUqk&e=>\n> Wondering if you have some screenshots for the upsert dag.. (I can try\n> running tjhe PR locally if not)\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://urldefense.proofpoint.com/v2/url?u=https-3A__github.com_apache_incubator-2Dhudi_pull_1289-3Femail-5Fsource-3Dnotifications-26email-5Ftoken-3DAN55SS53LAOGY63I2KHAEFTREQPAXA5CNFSM4KM4XRH2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEMZIBDY-23issuecomment-2D590512271&d=DwMCaQ&c=r2dcLCtU9q6n0vrtnDw9vg&r=c89AU9T1AVhM4r2Xi3ctZA&m=krc72Vl8fn-BAV9Uw7bypYN5QdpKdBETNBLTRmB0Lxg&s=j_VwpAFSuK81XDMj5bLlrsR-alMRwPkTRoVwEwLiDwE&e=>,\n> or unsubscribe\n> <https://urldefense.proofpoint.com/v2/url?u=https-3A__github.com_notifications_unsubscribe-2Dauth_AN55SSZKYZC4UBXW474KUALREQPAXANCNFSM4KM4XRHQ&d=DwMCaQ&c=r2dcLCtU9q6n0vrtnDw9vg&r=c89AU9T1AVhM4r2Xi3ctZA&m=krc72Vl8fn-BAV9Uw7bypYN5QdpKdBETNBLTRmB0Lxg&s=jAfj9t0L3_KFQ1dOdg7Djlcv5tUbbUe0ootOGzMuBjo&e=>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590515904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590516727","html_url":"https://github.com/apache/hudi/pull/1352#issuecomment-590516727","issue_url":"https://api.github.com/repos/apache/hudi/issues/1352","id":590516727,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDUxNjcyNw==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T19:49:52Z","updated_at":"2020-02-24T19:49:52Z","author_association":"MEMBER","body":"The (4000000 enties) upsert time improve from ~hours to ~5min.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590516727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590518177","html_url":"https://github.com/apache/hudi/pull/1348#issuecomment-590518177","issue_url":"https://api.github.com/repos/apache/hudi/issues/1348","id":590518177,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDUxODE3Nw==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T19:53:11Z","updated_at":"2020-02-24T19:53:11Z","author_association":"MEMBER","body":"@vinothchandar Thanks for reviewing! I will add an example to the webpage after 0.5.2 released.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590518177/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590527180","html_url":"https://github.com/apache/hudi/issues/143#issuecomment-590527180","issue_url":"https://api.github.com/repos/apache/hudi/issues/143","id":590527180,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDUyNzE4MA==","user":{"login":"selvarajperiyasamy","id":61427616,"node_id":"MDQ6VXNlcjYxNDI3NjE2","avatar_url":"https://avatars.githubusercontent.com/u/61427616?v=4","gravatar_id":"","url":"https://api.github.com/users/selvarajperiyasamy","html_url":"https://github.com/selvarajperiyasamy","followers_url":"https://api.github.com/users/selvarajperiyasamy/followers","following_url":"https://api.github.com/users/selvarajperiyasamy/following{/other_user}","gists_url":"https://api.github.com/users/selvarajperiyasamy/gists{/gist_id}","starred_url":"https://api.github.com/users/selvarajperiyasamy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/selvarajperiyasamy/subscriptions","organizations_url":"https://api.github.com/users/selvarajperiyasamy/orgs","repos_url":"https://api.github.com/users/selvarajperiyasamy/repos","events_url":"https://api.github.com/users/selvarajperiyasamy/events{/privacy}","received_events_url":"https://api.github.com/users/selvarajperiyasamy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T20:14:22Z","updated_at":"2020-02-24T20:14:22Z","author_association":"NONE","body":"Please add me selvaraj.periyasamy1983@gmail.com\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590527180/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590553111","html_url":"https://github.com/apache/hudi/issues/1325#issuecomment-590553111","issue_url":"https://api.github.com/repos/apache/hudi/issues/1325","id":590553111,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDU1MzExMQ==","user":{"login":"adamjoneill","id":2063136,"node_id":"MDQ6VXNlcjIwNjMxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/2063136?v=4","gravatar_id":"","url":"https://api.github.com/users/adamjoneill","html_url":"https://github.com/adamjoneill","followers_url":"https://api.github.com/users/adamjoneill/followers","following_url":"https://api.github.com/users/adamjoneill/following{/other_user}","gists_url":"https://api.github.com/users/adamjoneill/gists{/gist_id}","starred_url":"https://api.github.com/users/adamjoneill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamjoneill/subscriptions","organizations_url":"https://api.github.com/users/adamjoneill/orgs","repos_url":"https://api.github.com/users/adamjoneill/repos","events_url":"https://api.github.com/users/adamjoneill/events{/privacy}","received_events_url":"https://api.github.com/users/adamjoneill/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T21:17:59Z","updated_at":"2020-02-24T21:17:59Z","author_association":"NONE","body":"@bhasudha thanks for the links. I think i'd need to learn how to debug the hudi application to get a better understanding of what's happening. Is this something you could point me in the direction of?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590553111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590578619","html_url":"https://github.com/apache/hudi/issues/1329#issuecomment-590578619","issue_url":"https://api.github.com/repos/apache/hudi/issues/1329","id":590578619,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDU3ODYxOQ==","user":{"login":"popart","id":928091,"node_id":"MDQ6VXNlcjkyODA5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/928091?v=4","gravatar_id":"","url":"https://api.github.com/users/popart","html_url":"https://github.com/popart","followers_url":"https://api.github.com/users/popart/followers","following_url":"https://api.github.com/users/popart/following{/other_user}","gists_url":"https://api.github.com/users/popart/gists{/gist_id}","starred_url":"https://api.github.com/users/popart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/popart/subscriptions","organizations_url":"https://api.github.com/users/popart/orgs","repos_url":"https://api.github.com/users/popart/repos","events_url":"https://api.github.com/users/popart/events{/privacy}","received_events_url":"https://api.github.com/users/popart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T22:20:52Z","updated_at":"2020-02-24T22:20:52Z","author_association":"NONE","body":"Update: This problem does not occur in the docker environment. In the docker demo env, I was able to create a non-partitioned table in Spark (saved to hdfs), use run_sync_tool.sh to sync it to hive, and then query it successfully from presto. (It still made the .hoodie_partition_metadata file though).","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590578619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590583224","html_url":"https://github.com/apache/hudi/pull/1347#issuecomment-590583224","issue_url":"https://api.github.com/repos/apache/hudi/issues/1347","id":590583224,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDU4MzIyNA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T22:33:06Z","updated_at":"2020-02-27T19:46:53Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1347?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@078d482`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `0%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1347/graphs/tree.svg?width=650&token=VTTXabwbs2&height=150&src=pr)](https://codecov.io/gh/apache/incubator-hudi/pull/1347?src=pr&el=tree)\n\n```diff\n@@           Coverage Diff            @@\n##             master   #1347   +/-   ##\n========================================\n  Coverage          ?   0.64%           \n  Complexity        ?       2           \n========================================\n  Files             ?     287           \n  Lines             ?   14310           \n  Branches          ?    1463           \n========================================\n  Hits              ?      92           \n  Misses            ?   14215           \n  Partials          ?       3\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1347?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...main/scala/org/apache/hudi/DataSourceOptions.scala](https://codecov.io/gh/apache/incubator-hudi/pull/1347/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvRGF0YVNvdXJjZU9wdGlvbnMuc2NhbGE=) | `67.04% <0%> (ø)` | `0 <0> (?)` | |\n| [...in/scala/org/apache/hudi/IncrementalRelation.scala](https://codecov.io/gh/apache/incubator-hudi/pull/1347/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvSW5jcmVtZW50YWxSZWxhdGlvbi5zY2FsYQ==) | `0% <0%> (ø)` | `0 <0> (?)` | |\n| [...on/table/view/RemoteHoodieTableFileSystemView.java](https://codecov.io/gh/apache/incubator-hudi/pull/1347/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3ZpZXcvUmVtb3RlSG9vZGllVGFibGVGaWxlU3lzdGVtVmlldy5qYXZh) | `0% <0%> (ø)` | `0 <0> (?)` | |\n| [...rg/apache/hudi/common/util/SerializationUtils.java](https://codecov.io/gh/apache/incubator-hudi/pull/1347/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvU2VyaWFsaXphdGlvblV0aWxzLmphdmE=) | `0% <0%> (ø)` | `0 <0> (?)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1347?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1347?src=pr&el=footer). Last update [078d482...f348038](https://codecov.io/gh/apache/incubator-hudi/pull/1347?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590583224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590618074","html_url":"https://github.com/apache/hudi/pull/1351#issuecomment-590618074","issue_url":"https://api.github.com/repos/apache/hudi/issues/1351","id":590618074,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDYxODA3NA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T00:27:34Z","updated_at":"2020-02-25T00:27:34Z","author_association":"MEMBER","body":"Thanks @vinothchandar, had opend a new pr https://github.com/apache/incubator-hudi/pull/1352  : )","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590618074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590622878","html_url":"https://github.com/apache/hudi/pull/1353#issuecomment-590622878","issue_url":"https://api.github.com/repos/apache/hudi/issues/1353","id":590622878,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDYyMjg3OA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T00:45:11Z","updated_at":"2020-02-25T00:45:11Z","author_association":"MEMBER","body":"Hi @vikrantgoel, the *.html files are generated by jekyll. The right way is modify *.md files.\r\nhttps://github.com/apache/incubator-hudi/blob/asf-site/docs/_docs/0_4_docker_demo.md","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590622878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590626006","html_url":"https://github.com/apache/hudi/pull/1352#issuecomment-590626006","issue_url":"https://api.github.com/repos/apache/hudi/issues/1352","id":590626006,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDYyNjAwNg==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T00:57:14Z","updated_at":"2020-02-25T00:57:14Z","author_association":"MEMBER","body":"> WOW! @lamber-ken Thanks for investigating this! Your finding make a lot of sense to me. This change definitely gonna boost the upsert performance a lot.\r\n\r\nThanks, we are all having fun here : )  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590626006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590634434","html_url":"https://github.com/apache/hudi/pull/1351#issuecomment-590634434","issue_url":"https://api.github.com/repos/apache/hudi/issues/1351","id":590634434,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDYzNDQzNA==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T01:27:59Z","updated_at":"2020-02-25T02:13:36Z","author_association":"MEMBER","body":"> response -> the StdInstantiatorStrategy will allow kryo to fall back to Java Serde, is that what we want ?\r\n\r\nHi @n3nash, By default, an instantiator is returned that uses reflection if the class has a zero argument constructor, an exception is thrown. If a `setInstantiatorStrategy(InstantiatorStrategy)` is set, it will be used instead of throwing an exception.\r\n\r\nMore, the key point is the previous KryoBase in `org.apache.hudi.common.util.SerializationUtils` was used in a wrong way.\r\n\r\nThe \"super.getInstantiatorStrategy().newInstantiatorOf(type).newInstance();\", this will cause call it each time\r\n\r\n![image](https://user-images.githubusercontent.com/20113411/75208580-1ae3f480-57b7-11ea-8f1e-3439f369d92b.png)\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590634434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590700972","html_url":"https://github.com/apache/hudi/pull/1352#issuecomment-590700972","issue_url":"https://api.github.com/repos/apache/hudi/issues/1352","id":590700972,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDcwMDk3Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T06:08:51Z","updated_at":"2020-02-25T06:08:51Z","author_association":"MEMBER","body":">>The (4000000 enties) upsert time improve from ~hours to ~5min.\r\n\r\n@lamber-ken this is for each upsert or the entire sequence of 1 insert + 2 upserts? I ask because, I got ~2 minutes on my mac with the custom serializers ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590700972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590702201","html_url":"https://github.com/apache/hudi/pull/1352#issuecomment-590702201","issue_url":"https://api.github.com/repos/apache/hudi/issues/1352","id":590702201,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDcwMjIwMQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T06:13:38Z","updated_at":"2020-02-25T06:32:20Z","author_association":"MEMBER","body":"> > > The (4000000 enties) upsert time improve from ~hours to ~5min.\r\n> \r\n> @lamber-ken this is for each upsert or the entire sequence of 1 insert + 2 upserts? I ask because, I got ~2 minutes on my mac with the custom serializers\r\n\r\nthe last upsert operation, range 2min~5min. I placed the max cost time here.\r\n\r\nstep1 insert fast\r\nstep2 upsert 300000 (1 ~ 3min)\r\nstep3 upsert 400000 (2 ~ 5min)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590702201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590706623","html_url":"https://github.com/apache/hudi/pull/1352#issuecomment-590706623","issue_url":"https://api.github.com/repos/apache/hudi/issues/1352","id":590706623,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDcwNjYyMw==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T06:30:37Z","updated_at":"2020-02-25T06:30:37Z","author_association":"MEMBER","body":"> classes extending BaseAvroPayload may be okay. but we allow users to implement their own payload classes.. if they don't have data converted as byte[], do we need to register them etc?\r\n\r\nIt's right way to register the class to kryo, but if the custom payload doesn't have a no-arg constructor, it will not work.\r\n\r\nAnd, we already set the instantiator strategy, kryo built-in serializers have high performance.\r\n```\r\nkryo.setInstantiatorStrategy(new DefaultInstantiatorStrategy(new StdInstantiatorStrategy()));\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590706623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590725355","html_url":"https://github.com/apache/hudi/pull/1100#issuecomment-590725355","issue_url":"https://api.github.com/repos/apache/hudi/issues/1100","id":590725355,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDcyNTM1NQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T07:34:03Z","updated_at":"2020-02-25T07:34:03Z","author_association":"CONTRIBUTOR","body":"@n3nash Can you verify all the test cases in your local. I have verified them. Everything is OK. The Travis can not finish the full verification.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/590725355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591009814","html_url":"https://github.com/apache/hudi/pull/1347#issuecomment-591009814","issue_url":"https://api.github.com/repos/apache/hudi/issues/1347","id":591009814,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTAwOTgxNA==","user":{"login":"ramachandranms","id":2144396,"node_id":"MDQ6VXNlcjIxNDQzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/2144396?v=4","gravatar_id":"","url":"https://api.github.com/users/ramachandranms","html_url":"https://github.com/ramachandranms","followers_url":"https://api.github.com/users/ramachandranms/followers","following_url":"https://api.github.com/users/ramachandranms/following{/other_user}","gists_url":"https://api.github.com/users/ramachandranms/gists{/gist_id}","starred_url":"https://api.github.com/users/ramachandranms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ramachandranms/subscriptions","organizations_url":"https://api.github.com/users/ramachandranms/orgs","repos_url":"https://api.github.com/users/ramachandranms/repos","events_url":"https://api.github.com/users/ramachandranms/events{/privacy}","received_events_url":"https://api.github.com/users/ramachandranms/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T18:53:05Z","updated_at":"2020-02-25T18:53:05Z","author_association":"CONTRIBUTOR","body":"@vinothchandar codecov lets us just upload reports without ownership. here is a screenshot of the admin page. it says that anyone with github permissions will be able to modify the codecov settings for that repo.\r\n\r\n![image](https://user-images.githubusercontent.com/2144396/75277426-d6f3ee00-57bc-11ea-9e1f-0973c6e8d73a.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591009814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591175742","html_url":"https://github.com/apache/hudi/pull/1341#issuecomment-591175742","issue_url":"https://api.github.com/repos/apache/hudi/issues/1341","id":591175742,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTE3NTc0Mg==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T00:53:39Z","updated_at":"2020-02-26T00:53:39Z","author_association":"MEMBER","body":"@smarthi could you review this when you get a chance?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591175742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591183992","html_url":"https://github.com/apache/hudi/pull/1242#issuecomment-591183992","issue_url":"https://api.github.com/repos/apache/hudi/issues/1242","id":591183992,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTE4Mzk5Mg==","user":{"login":"hddong","id":17537134,"node_id":"MDQ6VXNlcjE3NTM3MTM0","avatar_url":"https://avatars.githubusercontent.com/u/17537134?v=4","gravatar_id":"","url":"https://api.github.com/users/hddong","html_url":"https://github.com/hddong","followers_url":"https://api.github.com/users/hddong/followers","following_url":"https://api.github.com/users/hddong/following{/other_user}","gists_url":"https://api.github.com/users/hddong/gists{/gist_id}","starred_url":"https://api.github.com/users/hddong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hddong/subscriptions","organizations_url":"https://api.github.com/users/hddong/orgs","repos_url":"https://api.github.com/users/hddong/repos","events_url":"https://api.github.com/users/hddong/events{/privacy}","received_events_url":"https://api.github.com/users/hddong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T01:14:57Z","updated_at":"2020-02-26T01:15:15Z","author_association":"CONTRIBUTOR","body":"@n3nash @vinothchandar please review this agian.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591183992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591204425","html_url":"https://github.com/apache/hudi/pull/1355#issuecomment-591204425","issue_url":"https://api.github.com/repos/apache/hudi/issues/1355","id":591204425,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTIwNDQyNQ==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T02:24:42Z","updated_at":"2020-02-26T02:24:54Z","author_association":"MEMBER","body":"> @satishkotha left some comments, I'm also assuming you will address the sizeToRead in a later PR ?\r\nyes, that one is more challenging and requires more elaborate change. If we can find a way to make these .clean files not get too large, that would be ideal. @nbalajee made some suggestions too. This will likely be another change.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591204425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591243675","html_url":"https://github.com/apache/hudi/pull/1351#issuecomment-591243675","issue_url":"https://api.github.com/repos/apache/hudi/issues/1351","id":591243675,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTI0MzY3NQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T05:16:55Z","updated_at":"2020-02-26T05:16:55Z","author_association":"MEMBER","body":"Clo","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/591243675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]