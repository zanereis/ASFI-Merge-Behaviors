[{"url":"https://api.github.com/repos/apache/celix/issues/comments/1437987203","html_url":"https://github.com/apache/celix/pull/480#issuecomment-1437987203","issue_url":"https://api.github.com/repos/apache/celix/issues/480","id":1437987203,"node_id":"IC_kwDOAVuczs5VtfGD","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-21T07:43:01Z","updated_at":"2023-02-21T07:46:44Z","author_association":"CONTRIBUTOR","body":"> 2\\. celix calls dlclose(first_library.so) <- bug\r\n\r\nThis is indeed a bug. Because `celix_module_loadLibrary` has already add first_library's handle to `module->libraryHandles`, which will be closed again in `celix_module_closeLibraries`. Double-close happens.\r\n\r\nThanks for taking time debugging this.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1437987203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1438030599","html_url":"https://github.com/apache/celix/pull/480#issuecomment-1438030599","issue_url":"https://api.github.com/repos/apache/celix/issues/480","id":1438030599,"node_id":"IC_kwDOAVuczs5VtpsH","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-21T08:22:04Z","updated_at":"2023-02-21T08:29:25Z","author_association":"CONTRIBUTOR","body":"Since the corresponding part of code have been dramatically refactored in #476, I think we'd better fix it there.\r\nI'll leave it open for @pnoltes  to have a look.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1438030599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1438046114","html_url":"https://github.com/apache/celix/pull/480#issuecomment-1438046114","issue_url":"https://api.github.com/repos/apache/celix/issues/480","id":1438046114,"node_id":"IC_kwDOAVuczs5Vttei","user":{"login":"tira-misu","id":6527395,"node_id":"MDQ6VXNlcjY1MjczOTU=","avatar_url":"https://avatars.githubusercontent.com/u/6527395?v=4","gravatar_id":"","url":"https://api.github.com/users/tira-misu","html_url":"https://github.com/tira-misu","followers_url":"https://api.github.com/users/tira-misu/followers","following_url":"https://api.github.com/users/tira-misu/following{/other_user}","gists_url":"https://api.github.com/users/tira-misu/gists{/gist_id}","starred_url":"https://api.github.com/users/tira-misu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tira-misu/subscriptions","organizations_url":"https://api.github.com/users/tira-misu/orgs","repos_url":"https://api.github.com/users/tira-misu/repos","events_url":"https://api.github.com/users/tira-misu/events{/privacy}","received_events_url":"https://api.github.com/users/tira-misu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-21T08:34:47Z","updated_at":"2023-02-21T08:34:47Z","author_association":"CONTRIBUTOR","body":"Thanks a lot. Error is still present in #476 in framework.c celix_module_loadLibrariesInManifestEntry line 456.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1438046114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1438171093","html_url":"https://github.com/apache/celix/issues/479#issuecomment-1438171093","issue_url":"https://api.github.com/repos/apache/celix/issues/479","id":1438171093,"node_id":"IC_kwDOAVuczs5VuL_V","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-21T09:48:26Z","updated_at":"2023-02-21T09:50:57Z","author_association":"CONTRIBUTOR","body":"I just noticed that I raised this issue once: https://github.com/apache/celix/pull/301/files\r\n\r\nI forgot this because I strictly avoid using import/export and private library in my day-time job and thus never trigger it.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1438171093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1438893049","html_url":"https://github.com/apache/celix/pull/480#issuecomment-1438893049","issue_url":"https://api.github.com/repos/apache/celix/issues/480","id":1438893049,"node_id":"IC_kwDOAVuczs5Vw8P5","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-21T18:01:38Z","updated_at":"2023-02-21T18:01:38Z","author_association":"CONTRIBUTOR","body":"> LGTM. But let's fix it in #476 .\r\n\r\nAgree LGTM and @tira-misu indeed thanks for finding the issue and providing a fix. \r\n\r\nAlso agree that we can better fix this in #476, because the lib loading is moved to module.c.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1438893049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1438942075","html_url":"https://github.com/apache/celix/pull/480#issuecomment-1438942075","issue_url":"https://api.github.com/repos/apache/celix/issues/480","id":1438942075,"node_id":"IC_kwDOAVuczs5VxIN7","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-21T18:46:15Z","updated_at":"2023-02-21T18:46:15Z","author_association":"CONTRIBUTOR","body":"@tira-misu Applied the fix in PR #476, feel free to review/check this.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1438942075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1445109733","html_url":"https://github.com/apache/celix/pull/476#issuecomment-1445109733","issue_url":"https://api.github.com/repos/apache/celix/issues/476","id":1445109733,"node_id":"IC_kwDOAVuczs5WIp_l","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-25T12:37:48Z","updated_at":"2023-02-25T12:37:48Z","author_association":"CONTRIBUTOR","body":"> Add support for `--create-bundle-cache` option in the celix launcher to create a bundle cache and exit (i.e. prepare a application to startup more quickly).\r\n\r\nShall we advertise this (and other command line arguments) in API documentation or launcher's README.md?  ","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1445109733/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1447992969","html_url":"https://github.com/apache/celix/pull/476#issuecomment-1447992969","issue_url":"https://api.github.com/repos/apache/celix/issues/476","id":1447992969,"node_id":"IC_kwDOAVuczs5WTp6J","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-28T11:10:42Z","updated_at":"2023-02-28T11:10:42Z","author_association":"CONTRIBUTOR","body":"I have a few days off, so I will pick up the rest of the change requests for this PR next week. ","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1447992969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1447999963","html_url":"https://github.com/apache/celix/pull/476#issuecomment-1447999963","issue_url":"https://api.github.com/repos/apache/celix/issues/476","id":1447999963,"node_id":"IC_kwDOAVuczs5WTrnb","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-28T11:15:37Z","updated_at":"2023-02-28T11:15:37Z","author_association":"CONTRIBUTOR","body":"> I have a few days off, so I will pick up the rest of the change requests for this PR next week.\r\n\r\nNo problem. I'll work harder to finish reviewing this PR this week.\r\nA wonderful chance to get myself familiar with module layer.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1447999963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1451829207","html_url":"https://github.com/apache/celix/issues/232#issuecomment-1451829207","issue_url":"https://api.github.com/repos/apache/celix/issues/232","id":1451829207,"node_id":"IC_kwDOAVuczs5WiSfX","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-02T12:59:11Z","updated_at":"2023-03-02T13:02:59Z","author_association":"CONTRIBUTOR","body":"Zhenbao reproduced it successfully with address sanitizer off, and will make a PR fixing this.\r\nWith ASAN on, it's hard to reproduce.\r\n\r\nThe root cause is that we have not allocated enough storage for return value.\r\nAccording to `man ffi_call`\r\n\r\n```\r\nrvalue must point to storage that is sizeof(ffi_arg) or larger for non-floating point types. For smaller-sized return value types, the ffi_arg or ffi_sarg integral type must be used to hold the return value.\r\n```\r\n@pnoltes ","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1451829207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1452912109","html_url":"https://github.com/apache/celix/pull/493#issuecomment-1452912109","issue_url":"https://api.github.com/repos/apache/celix/issues/493","id":1452912109,"node_id":"IC_kwDOAVuczs5Wma3t","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-03T03:33:53Z","updated_at":"2023-03-03T03:33:53Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/celix/pull/493?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#493](https://codecov.io/gh/apache/celix/pull/493?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (9fd0c4b) into [master](https://codecov.io/gh/apache/celix/commit/62480b15af141854e552c652ffe5281d038b6495?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (62480b1) will **not change** coverage.\n> The diff coverage is `n/a`.\n\n> :exclamation: Current head 9fd0c4b differs from pull request most recent head 2275fd4. Consider uploading reports for the commit 2275fd4 to get more accurate results\n\n```diff\n@@           Coverage Diff           @@\n##           master     #493   +/-   ##\n=======================================\n  Coverage   75.65%   75.65%           \n=======================================\n  Files         223      223           \n  Lines       33381    33381           \n=======================================\n  Hits        25255    25255           \n  Misses       8126     8126           \n```\n\n\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1452912109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1456648250","html_url":"https://github.com/apache/celix/pull/494#issuecomment-1456648250","issue_url":"https://api.github.com/repos/apache/celix/issues/494","id":1456648250,"node_id":"IC_kwDOAVuczs5W0rA6","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-06T17:55:22Z","updated_at":"2023-03-11T12:09:04Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/celix/pull/494?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#494](https://codecov.io/gh/apache/celix/pull/494?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (504dc6e) into [master](https://codecov.io/gh/apache/celix/commit/62480b15af141854e552c652ffe5281d038b6495?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (62480b1) will **increase** coverage by `0.00%`.\n> The diff coverage is `85.71%`.\n\n> :exclamation: Current head 504dc6e differs from pull request most recent head aada149. Consider uploading reports for the commit aada149 to get more accurate results\n\n```diff\n@@           Coverage Diff           @@\n##           master     #494   +/-   ##\n=======================================\n  Coverage   75.65%   75.66%           \n=======================================\n  Files         223      223           \n  Lines       33381    33362   -19     \n=======================================\n- Hits        25255    25242   -13     \n+ Misses       8126     8120    -6     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/celix/pull/494?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [libs/utils/src/celix\\_file\\_utils.c](https://codecov.io/gh/apache/celix/pull/494?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy91dGlscy9zcmMvY2VsaXhfZmlsZV91dGlscy5j) | `80.55% <50.00%> (-0.44%)` | :arrow_down: |\n| [...in\\_websocket/src/pubsub\\_websocket\\_topic\\_receiver.c](https://codecov.io/gh/apache/celix/pull/494?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9wdWJzdWIvcHVic3ViX2FkbWluX3dlYnNvY2tldC9zcmMvcHVic3ViX3dlYnNvY2tldF90b3BpY19yZWNlaXZlci5j) | `68.36% <100.00%> (-0.68%)` | :arrow_down: |\n\n... and [1 file with indirect coverage changes](https://codecov.io/gh/apache/celix/pull/494/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1456648250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1458039221","html_url":"https://github.com/apache/celix/pull/494#issuecomment-1458039221","issue_url":"https://api.github.com/repos/apache/celix/issues/494","id":1458039221,"node_id":"IC_kwDOAVuczs5W5-m1","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-07T11:57:25Z","updated_at":"2023-03-07T13:05:08Z","author_association":"CONTRIBUTOR","body":"> I think the `psa_websocket_recvThread` is not needed anymore, because received data is provided through civetweb to the `psa_websocketTopicReceiver_data`.\r\n> So IMO the `psa_websocket_recvThread` can be removed if the `psa_websocketTopicReceiver_data` function also checks the allConnected and allInitialized.\r\n\r\nWhat if `mg_connect_websocket_client` could block arbitrarily long? Then data processing will be blocked, which makes thread priority adjustment completely meaningless.\r\n\r\n>  so that subscriber providers can tweak thread prio for receiving data.\r\n\r\nRSA over http also has this problem, while RSA over shm does not (we have our own thread pool).\r\n\r\n>  I am not sure if the psa_websocketTopicReceiver_data is always called - by civetweb - on the same thread.\r\n\r\nIt seems so (please correct me if I were wrong), but this is really a implementation detail of civetweb:\r\n\r\nhttps://github.com/civetweb/civetweb/blob/146058d6af36f85976b8bcd80106be3bc9c89201/src/civetweb.c#L19096-L19123\r\n\r\nIn this case, thread priority is really a per-connection attribute instead of per-subscriber attribute.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1458039221/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1458296226","html_url":"https://github.com/apache/celix/pull/495#issuecomment-1458296226","issue_url":"https://api.github.com/repos/apache/celix/issues/495","id":1458296226,"node_id":"IC_kwDOAVuczs5W69Wi","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-07T14:43:41Z","updated_at":"2023-03-07T14:43:41Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/celix/pull/495?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#495](https://codecov.io/gh/apache/celix/pull/495?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (aeba43b) into [master](https://codecov.io/gh/apache/celix/commit/399785e453bb3d9a37f6f2eb9cb9ac4e0552f77b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (399785e) will **increase** coverage by `0.39%`.\n> The diff coverage is `91.12%`.\n\n> :exclamation: Current head aeba43b differs from pull request most recent head a4cc25a. Consider uploading reports for the commit a4cc25a to get more accurate results\n\n```diff\n@@            Coverage Diff             @@\n##           master     #495      +/-   ##\n==========================================\n+ Coverage   75.65%   76.05%   +0.39%     \n==========================================\n  Files         223      226       +3     \n  Lines       33381    34102     +721     \n==========================================\n+ Hits        25255    25936     +681     \n- Misses       8126     8166      +40     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/celix/pull/495?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...e\\_service\\_admin\\_dfi/src/remote\\_service\\_admin\\_dfi.c](https://codecov.io/gh/apache/celix/pull/495?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcmVtb3RlX3NlcnZpY2VfYWRtaW5fZGZpL3NyYy9yZW1vdGVfc2VydmljZV9hZG1pbl9kZmkuYw==) | `83.88% <16.66%> (-2.19%)` | :arrow_down: |\n| [...iscovery\\_zeroconf/src/discovery\\_zeroconf\\_watcher.c](https://codecov.io/gh/apache/celix/pull/495?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvZGlzY292ZXJ5X3plcm9jb25mL3NyYy9kaXNjb3ZlcnlfemVyb2NvbmZfd2F0Y2hlci5j) | `91.47% <91.47%> (ø)` | |\n| [...covery\\_zeroconf/src/discovery\\_zeroconf\\_announcer.c](https://codecov.io/gh/apache/celix/pull/495?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvZGlzY292ZXJ5X3plcm9jb25mL3NyYy9kaXNjb3ZlcnlfemVyb2NvbmZfYW5ub3VuY2VyLmM=) | `94.22% <94.22%> (ø)` | |\n| [...covery\\_zeroconf/src/discovery\\_zeroconf\\_activator.c](https://codecov.io/gh/apache/celix/pull/495?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvZGlzY292ZXJ5X3plcm9jb25mL3NyYy9kaXNjb3ZlcnlfemVyb2NvbmZfYWN0aXZhdG9yLmM=) | `100.00% <100.00%> (ø)` | |\n| [libs/utils/src/hash\\_map.c](https://codecov.io/gh/apache/celix/pull/495?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy91dGlscy9zcmMvaGFzaF9tYXAuYw==) | `96.64% <0.00%> (+0.27%)` | :arrow_up: |\n| [...sub/pubsub\\_admin\\_tcp/src/pubsub\\_tcp\\_topic\\_sender.c](https://codecov.io/gh/apache/celix/pull/495?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9wdWJzdWIvcHVic3ViX2FkbWluX3RjcC9zcmMvcHVic3ViX3RjcF90b3BpY19zZW5kZXIuYw==) | `85.58% <0.00%> (+1.35%)` | :arrow_up: |\n| [...sub\\_topology\\_manager/src/pubsub\\_topology\\_manager.c](https://codecov.io/gh/apache/celix/pull/495?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9wdWJzdWIvcHVic3ViX3RvcG9sb2d5X21hbmFnZXIvc3JjL3B1YnN1Yl90b3BvbG9neV9tYW5hZ2VyLmM=) | `54.79% <0.00%> (+2.20%)` | :arrow_up: |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1458296226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1462087199","html_url":"https://github.com/apache/celix/pull/497#issuecomment-1462087199","issue_url":"https://api.github.com/repos/apache/celix/issues/497","id":1462087199,"node_id":"IC_kwDOAVuczs5XJa4f","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-09T13:39:32Z","updated_at":"2023-03-09T13:39:32Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/celix/pull/497?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#497](https://codecov.io/gh/apache/celix/pull/497?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (91b1602) into [master](https://codecov.io/gh/apache/celix/commit/399785e453bb3d9a37f6f2eb9cb9ac4e0552f77b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (399785e) will **increase** coverage by `0.00%`.\n> The diff coverage is `50.00%`.\n\n> :exclamation: Current head 91b1602 differs from pull request most recent head fd4a5b4. Consider uploading reports for the commit fd4a5b4 to get more accurate results\n\n```diff\n@@           Coverage Diff           @@\n##           master     #497   +/-   ##\n=======================================\n  Coverage   75.65%   75.65%           \n=======================================\n  Files         223      223           \n  Lines       33381    33383    +2     \n=======================================\n+ Hits        25255    25257    +2     \n  Misses       8126     8126           \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/celix/pull/497?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [libs/utils/src/celix\\_file\\_utils.c](https://codecov.io/gh/apache/celix/pull/497?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy91dGlscy9zcmMvY2VsaXhfZmlsZV91dGlscy5j) | `80.55% <50.00%> (-0.44%)` | :arrow_down: |\n| [libs/utils/src/hash\\_map.c](https://codecov.io/gh/apache/celix/pull/497?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy91dGlscy9zcmMvaGFzaF9tYXAuYw==) | `96.64% <0.00%> (+0.27%)` | :arrow_up: |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1462087199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1464876478","html_url":"https://github.com/apache/celix/pull/494#issuecomment-1464876478","issue_url":"https://api.github.com/repos/apache/celix/issues/494","id":1464876478,"node_id":"IC_kwDOAVuczs5XUD2-","user":{"login":"Troepje","id":7634354,"node_id":"MDQ6VXNlcjc2MzQzNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/7634354?v=4","gravatar_id":"","url":"https://api.github.com/users/Troepje","html_url":"https://github.com/Troepje","followers_url":"https://api.github.com/users/Troepje/followers","following_url":"https://api.github.com/users/Troepje/following{/other_user}","gists_url":"https://api.github.com/users/Troepje/gists{/gist_id}","starred_url":"https://api.github.com/users/Troepje/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Troepje/subscriptions","organizations_url":"https://api.github.com/users/Troepje/orgs","repos_url":"https://api.github.com/users/Troepje/repos","events_url":"https://api.github.com/users/Troepje/events{/privacy}","received_events_url":"https://api.github.com/users/Troepje/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-11T10:04:24Z","updated_at":"2023-03-11T10:04:24Z","author_association":"CONTRIBUTOR","body":"Thanks for the quick and in depth replies! In my first attempt I found that I did a complete rewrite without understanding why/how it worked and what the principle is behind the mentioned init function. The strategy in this fix is making it similar to the tcp admin. Im very willing to help improve the design, but lets do that in another Issue/PR.\r\n\r\n@PengZheng Ill make the update with the timeout as you suggested! Should I also update the property name? Now its similar to tcp admin, but your suggestion will make it more clear.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1464876478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1464881395","html_url":"https://github.com/apache/celix/pull/494#issuecomment-1464881395","issue_url":"https://api.github.com/repos/apache/celix/issues/494","id":1464881395,"node_id":"IC_kwDOAVuczs5XUFDz","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-11T10:33:46Z","updated_at":"2023-03-11T11:02:35Z","author_association":"CONTRIBUTOR","body":"> The strategy in this fix is making it similar to the tcp admin. \r\n\r\nI just noticed psa-tcp has similar problems.  Then I'm OK merging this PR in its current form.\r\n\r\nBut let's hear what @pnoltes  says about `pubsub_subscriber_t`'s `init`, which can not be used to tweak receiver thread attributes any more. psa-tcp has already broken this design.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1464881395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1464886268","html_url":"https://github.com/apache/celix/pull/494#issuecomment-1464886268","issue_url":"https://api.github.com/repos/apache/celix/issues/494","id":1464886268,"node_id":"IC_kwDOAVuczs5XUGP8","user":{"login":"Troepje","id":7634354,"node_id":"MDQ6VXNlcjc2MzQzNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/7634354?v=4","gravatar_id":"","url":"https://api.github.com/users/Troepje","html_url":"https://github.com/Troepje","followers_url":"https://api.github.com/users/Troepje/followers","following_url":"https://api.github.com/users/Troepje/following{/other_user}","gists_url":"https://api.github.com/users/Troepje/gists{/gist_id}","starred_url":"https://api.github.com/users/Troepje/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Troepje/subscriptions","organizations_url":"https://api.github.com/users/Troepje/orgs","repos_url":"https://api.github.com/users/Troepje/repos","events_url":"https://api.github.com/users/Troepje/events{/privacy}","received_events_url":"https://api.github.com/users/Troepje/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-11T11:02:55Z","updated_at":"2023-03-11T11:02:55Z","author_association":"CONTRIBUTOR","body":"The point you made about the timeout is significant Im working on an update now to make the types clean and prevent under/overflows. I also was looking into the init, but its not trivial to fix in the current form. Its also a bit ambiguous that the last registered topic receiver controls the thread settings. When I have a good idea about how to fix it, Ill share it.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1464886268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1468659092","html_url":"https://github.com/apache/celix/pull/494#issuecomment-1468659092","issue_url":"https://api.github.com/repos/apache/celix/issues/494","id":1468659092,"node_id":"IC_kwDOAVuczs5XifWU","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-14T18:57:09Z","updated_at":"2023-03-14T18:57:09Z","author_association":"CONTRIBUTOR","body":"> > The strategy in this fix is making it similar to the tcp admin.\r\n> \r\n> I just noticed psa-tcp has similar problems. Then I'm OK merging this PR in its current form.\r\n> \r\n> But let's hear what @pnoltes says about `pubsub_subscriber_t`'s `init`, which can not be used to tweak receiver thread attributes any more. psa-tcp has already broken this design.\r\n\r\nI agree, this is already broken so out of scope for this PR.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1468659092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1469442605","html_url":"https://github.com/apache/celix/pull/500#issuecomment-1469442605","issue_url":"https://api.github.com/repos/apache/celix/issues/500","id":1469442605,"node_id":"IC_kwDOAVuczs5Xleot","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-15T06:52:03Z","updated_at":"2023-03-15T06:52:03Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/celix/pull/500?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#500](https://codecov.io/gh/apache/celix/pull/500?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (f71c0de) into [master](https://codecov.io/gh/apache/celix/commit/62480b15af141854e552c652ffe5281d038b6495?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (62480b1) will **decrease** coverage by `0.01%`.\n> The diff coverage is `72.22%`.\n\n> :exclamation: Current head f71c0de differs from pull request most recent head bfddc04. Consider uploading reports for the commit bfddc04 to get more accurate results\n\n```diff\n@@            Coverage Diff             @@\n##           master     #500      +/-   ##\n==========================================\n- Coverage   75.65%   75.65%   -0.01%     \n==========================================\n  Files         223      223              \n  Lines       33381    33371      -10     \n==========================================\n- Hits        25255    25247       -8     \n+ Misses       8126     8124       -2     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/celix/pull/500?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [libs/utils/src/celix\\_file\\_utils.c](https://codecov.io/gh/apache/celix/pull/500?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy91dGlscy9zcmMvY2VsaXhfZmlsZV91dGlscy5j) | `80.55% <50.00%> (-0.44%)` | :arrow_down: |\n| [...b/pubsub\\_admin\\_tcp/src/pubsub\\_tcp\\_topic\\_receiver.c](https://codecov.io/gh/apache/celix/pull/500?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9wdWJzdWIvcHVic3ViX2FkbWluX3RjcC9zcmMvcHVic3ViX3RjcF90b3BpY19yZWNlaXZlci5j) | `71.50% <70.21%> (+0.43%)` | :arrow_up: |\n| [...in\\_websocket/src/pubsub\\_websocket\\_topic\\_receiver.c](https://codecov.io/gh/apache/celix/pull/500?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9wdWJzdWIvcHVic3ViX2FkbWluX3dlYnNvY2tldC9zcmMvcHVic3ViX3dlYnNvY2tldF90b3BpY19yZWNlaXZlci5j) | `68.36% <100.00%> (-0.68%)` | :arrow_down: |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1469442605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1490007686","html_url":"https://github.com/apache/celix/issues/503#issuecomment-1490007686","issue_url":"https://api.github.com/repos/apache/celix/issues/503","id":1490007686,"node_id":"IC_kwDOAVuczs5Yz7aG","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T09:44:41Z","updated_at":"2023-03-30T09:44:58Z","author_association":"CONTRIBUTOR","body":"Yes, we need a general design for logging without bundle context.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1490007686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1490008192","html_url":"https://github.com/apache/celix/issues/503#issuecomment-1490008192","issue_url":"https://api.github.com/repos/apache/celix/issues/503","id":1490008192,"node_id":"IC_kwDOAVuczs5Yz7iA","user":{"login":"xuzhenbao","id":43104033,"node_id":"MDQ6VXNlcjQzMTA0MDMz","avatar_url":"https://avatars.githubusercontent.com/u/43104033?v=4","gravatar_id":"","url":"https://api.github.com/users/xuzhenbao","html_url":"https://github.com/xuzhenbao","followers_url":"https://api.github.com/users/xuzhenbao/followers","following_url":"https://api.github.com/users/xuzhenbao/following{/other_user}","gists_url":"https://api.github.com/users/xuzhenbao/gists{/gist_id}","starred_url":"https://api.github.com/users/xuzhenbao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xuzhenbao/subscriptions","organizations_url":"https://api.github.com/users/xuzhenbao/orgs","repos_url":"https://api.github.com/users/xuzhenbao/repos","events_url":"https://api.github.com/users/xuzhenbao/events{/privacy}","received_events_url":"https://api.github.com/users/xuzhenbao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T09:45:02Z","updated_at":"2023-03-30T09:45:02Z","author_association":"CONTRIBUTOR","body":"Other libraries(like \"utils\") use `fprintf` for logging. Maybe we should design a logging style that works for the base library.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1490008192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1490043541","html_url":"https://github.com/apache/celix/issues/503#issuecomment-1490043541","issue_url":"https://api.github.com/repos/apache/celix/issues/503","id":1490043541,"node_id":"IC_kwDOAVuczs5Y0EKV","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T10:10:53Z","updated_at":"2023-03-30T11:00:40Z","author_association":"CONTRIBUTOR","body":"One way of solving this is to make libdfi a static library, thus we have separate copies of logger for each bundle.\r\nWe may need to solve #442 to mitigate code bloat caused by multiple copies of libdfi.\r\n\r\nBut this is not a general solution. What about a shared library without bundle context? Logging callback may be a correct design, but when and where shall we do the initialization when there exists multiple bundle users? @pnoltes \r\n\r\nAnother issue regarding dfi is dynamic memory allocation:\r\n\r\n```C\r\nstatic void dfi_log(void *handle, int level, const char *file, int line, const char *msg, ...) {\r\n    va_list ap;\r\n    celix_log_helper_t *log = handle;\r\n    char *logStr = NULL;\r\n    va_start(ap, msg);\r\n    vasprintf(&logStr, msg, ap); //this is too bad\r\n    va_end(ap);\r\n    celix_logHelper_log(log, level, \"FILE:%s, LINE:%i, MSG:%s\", file, line, logStr);\r\n    free(logStr);\r\n}\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1490043541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1490127335","html_url":"https://github.com/apache/celix/issues/503#issuecomment-1490127335","issue_url":"https://api.github.com/repos/apache/celix/issues/503","id":1490127335,"node_id":"IC_kwDOAVuczs5Y0Ynn","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T11:19:21Z","updated_at":"2023-03-30T11:26:38Z","author_association":"CONTRIBUTOR","body":"OpenSSL's error queue [ERR](https://www.openssl.org/docs/man3.1/man3/ERR_get_error.html), which is a per thread queue, seems like another plausible solution: it collects logging in each level of the call stack into the queue. \r\n\r\nIn the shared library, we just put messages into the queue. At the top level (i.e. the calling thread's task function, presumably in a bundle), we have access to a bundle context, therefore can fetch stacked logging messages and feed them into the log helper.\r\n\r\nWe don't need either logging callback or bundle context using this approach. ","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1490127335/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1491842260","html_url":"https://github.com/apache/celix/pull/476#issuecomment-1491842260","issue_url":"https://api.github.com/repos/apache/celix/issues/476","id":1491842260,"node_id":"IC_kwDOAVuczs5Y67TU","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T12:17:49Z","updated_at":"2023-03-31T12:17:49Z","author_association":"CONTRIBUTOR","body":"> The caller of `bundleArchive_getLocation`, say `lbCommand_listBundles`, could access memory freed by `bundleArchive_revise`, which is called by `celix_framework_bundleEntry_refreshBundleEntry` on a non-event-loop thread.\r\n> \r\n> Similar consideration applies to `bundleArchive_getCurrentRevision`. But I'm not sure that usage of `bundleArchive_getCurrentRevision` in current code base is unsafe.\r\n\r\nI refactored the lbCommand to use celix_bundleContext_useBundles. \r\nThe non celix prefix api (bundle.h, bundleArchive.h, etc) are indeed not always thread safe. My goal is to make the celix prefixed api in combination with the celix_bundleContext_useBundles (or trackBundles, useServices, etc) thread safe. \r\n\r\nThe refactored lbCommand should be thread safe, because it use the celix_bundleContext_useBundles and only accesses the celix_bundle.h api during the useBundles callback. \r\n\r\nAfter this PR I think we should do a minor Celix release and then prepare for a Celix 3.0.0 release. The primairy goal of the first Celix 3.0.0 release should be to remove all not celix prefixed headers for the users. This gives us more room to refactor older code and remove unsafe parts.\r\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1491842260/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1492025873","html_url":"https://github.com/apache/celix/pull/505#issuecomment-1492025873","issue_url":"https://api.github.com/repos/apache/celix/issues/505","id":1492025873,"node_id":"IC_kwDOAVuczs5Y7oIR","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T14:37:36Z","updated_at":"2023-04-10T17:16:56Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/celix/pull/505?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#505](https://codecov.io/gh/apache/celix/pull/505?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (9c82796) into [master](https://codecov.io/gh/apache/celix/commit/3ea1617f19bec479e69b1e3b60c43f7d49263adf?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (3ea1617) will **decrease** coverage by `0.02%`.\n> The diff coverage is `93.15%`.\n\n> :exclamation: Current head 9c82796 differs from pull request most recent head 3b83803. Consider uploading reports for the commit 3b83803 to get more accurate results\n\n```diff\n@@            Coverage Diff             @@\n##           master     #505      +/-   ##\n==========================================\n- Coverage   75.64%   75.63%   -0.02%     \n==========================================\n  Files         225      225              \n  Lines       34382    34445      +63     \n==========================================\n+ Hits        26009    26051      +42     \n- Misses       8373     8394      +21     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/celix/pull/505?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [libs/utils/src/filter.c](https://codecov.io/gh/apache/celix/pull/505?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy91dGlscy9zcmMvZmlsdGVyLmM=) | `90.94% <93.15%> (-3.75%)` | :arrow_down: |\n\n... and [2 files with indirect coverage changes](https://codecov.io/gh/apache/celix/pull/505/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1492025873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1494575195","html_url":"https://github.com/apache/celix/issues/503#issuecomment-1494575195","issue_url":"https://api.github.com/repos/apache/celix/issues/503","id":1494575195,"node_id":"IC_kwDOAVuczs5ZFWhb","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T15:53:21Z","updated_at":"2023-04-03T15:53:21Z","author_association":"CONTRIBUTOR","body":"An per thread error queue sound like a good solution for non-celix-framework libs.\r\n\r\nI am curious has the memory cleanup can be done, given the OpenSSL's error queue documentation: \"An application MUST NOT free the *data pointer (or any other pointers returned by these functions) with OPENSSL_free() as freeing is handled automatically by the error library.\" \r\n\r\nI assume this is done using thread local storage? ","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1494575195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1494581122","html_url":"https://github.com/apache/celix/issues/499#issuecomment-1494581122","issue_url":"https://api.github.com/repos/apache/celix/issues/499","id":1494581122,"node_id":"IC_kwDOAVuczs5ZFX-C","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T15:57:16Z","updated_at":"2023-04-03T15:57:16Z","author_association":"CONTRIBUTOR","body":"I think this can be done by introducing a new shell command interface (v2) based on the current one:\r\nhttps://github.com/apache/celix/blob/rel/celix-2.3.0/bundles/shell/shell/api/celix_shell_command.h\r\n\r\nWe currently already support 2 shell commands version and if we remove the current deprecated version (\r\nhttps://github.com/apache/celix/blob/rel/celix-2.3.0/bundles/shell/shell/deprecated_api/command.h) when preparing for a Apache Celix 3.0.0 we could introduce a argc/argv variant and deprecated celix_shell_command.h.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1494581122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1494601516","html_url":"https://github.com/apache/celix/issues/82#issuecomment-1494601516","issue_url":"https://api.github.com/repos/apache/celix/issues/82","id":1494601516,"node_id":"IC_kwDOAVuczs5ZFc8s","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T16:08:11Z","updated_at":"2023-04-03T16:08:11Z","author_association":"CONTRIBUTOR","body":"already done with config property \"CELIX_BUNDLES_PATH\"","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1494601516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1495288639","html_url":"https://github.com/apache/celix/issues/503#issuecomment-1495288639","issue_url":"https://api.github.com/repos/apache/celix/issues/503","id":1495288639,"node_id":"IC_kwDOAVuczs5ZIEs_","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-04T03:18:41Z","updated_at":"2023-04-04T03:18:41Z","author_association":"CONTRIBUTOR","body":"> I assume this is done using thread local storage?\r\n\r\nYes. \r\n\r\nIt is a fair complex subsystem and is not easy to extend (i.e. add new error codes) outside of OpenSSL in its current form.\r\nSee https://github.com/openssl/openssl/tree/master/crypto/err\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1495288639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1495322259","html_url":"https://github.com/apache/celix/issues/509#issuecomment-1495322259","issue_url":"https://api.github.com/repos/apache/celix/issues/509","id":1495322259,"node_id":"IC_kwDOAVuczs5ZIM6T","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-04T04:15:04Z","updated_at":"2023-04-04T04:28:38Z","author_association":"CONTRIBUTOR","body":"> - [ ] Change bundle cache dir scheme in v3\r\n\r\nIt reminds me of the brainstorm we had in https://github.com/apache/celix/pull/441#issuecomment-1236383556\r\n\r\nNow that #476 splits the cache and storage, the most straightforward way of supporting efficient sharing of bundles between multiple Celix instances is to add support for uncompressed bundle. This way, each framework instance has its own bundle cache like before, but for shared bundles, we extract them to someplace outside of bundle cache (maybe make them read-only), and then make symbolic links within the bundle cache to uncompressed shared bundles.\r\n\r\nFor containered/sandboxed APPs, we can mount folder containing uncompressed bundles read-only into the container/sandbox, and include the mount point into the bundle path, so that the framework within the container/sandbox can find them.\r\n\r\nOur new `celix_utils_deleteDirectory` deals with symbolic links correctly, see `TEST_F(FileUtilsTestSuite, DeleteSymbolicLinkToDirectory)` in #476.\r\n\r\n> - [ ] Remove FRAMEWORK_EXPORT (only needed for windows) \r\n\r\nIt's needed to perform binary footprint optimization for shared object. See #442 \r\nIt's especially important for C++ bundles if they were to be deployed in devices with limited storage.\r\nIMHO, we should use it universally in the whole Celix project, and encourage (and facilitate) our users to do the same.\r\n\r\n> - [ ] Maybe (TBD) remove pubsub admins from celix (pubsub is not part of the OSGi specifications)\r\n\r\nBut OSGi does have Event Admin. The only problem I see with PSA is that it does not support zero-overhead in process communication like RSA: one socket per subscriber is too expensive for communication within the same process. \r\n\r\nPSA(Event Admin)/RSA represent two typical inter-component communication styles. We could add support for Event Admin, which both support zero overhead in-process and efficient inter-process communication, or we add support of zero-overhead in-process communication to PSA and rename it to Event Admin.\r\n\r\nAlso it's worth noting that now service discovery for RSA/PSA(Event Admin) can be unified easily using dns-sd. ","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1495322259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1499038067","html_url":"https://github.com/apache/celix/pull/476#issuecomment-1499038067","issue_url":"https://api.github.com/repos/apache/celix/issues/476","id":1499038067,"node_id":"IC_kwDOAVuczs5ZWYFz","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-06T13:07:09Z","updated_at":"2023-04-06T13:07:09Z","author_association":"CONTRIBUTOR","body":"I would like to move towards merging this PR.\r\n\r\nI am quite happy with the overall changes this PR introduces. This includes the bundle cache changes, but certainly also the error handling and file utils improvements and I think it is good to merge this in master.\r\n\r\n@PengZheng and @stegemr: Are there any other changes that needs to be done and if so, can this be done in a separate PR? I prefer a separate PR also to keep overview of the changes more manageable. ","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1499038067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1499099103","html_url":"https://github.com/apache/celix/pull/476#issuecomment-1499099103","issue_url":"https://api.github.com/repos/apache/celix/issues/476","id":1499099103,"node_id":"IC_kwDOAVuczs5ZWm_f","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-06T13:52:08Z","updated_at":"2023-04-06T13:52:08Z","author_association":"CONTRIBUTOR","body":"> I apologize for the terribly slow review.\r\n> We can merge it now, but please wait a week or two before making a new release.\r\n\r\nNo worries, as said I am quite happy with the - joined effort - changes. But I think is time now to merge this and move forward in - if possible - smaller PRs.\r\n\r\nAlso no problem to wait a a week (or longer) for a new release. ","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1499099103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1500199358","html_url":"https://github.com/apache/celix/pull/505#issuecomment-1500199358","issue_url":"https://api.github.com/repos/apache/celix/issues/505","id":1500199358,"node_id":"IC_kwDOAVuczs5Zazm-","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-07T11:20:51Z","updated_at":"2023-04-07T11:20:51Z","author_association":"CONTRIBUTOR","body":"It seems that some corner cases remain unresolved, e.g. `man 3 strtod`\r\n\r\n>  An infinity is either \"INF\" or \"INFINITY\", disregarding case.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1500199358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1500802760","html_url":"https://github.com/apache/celix/issues/511#issuecomment-1500802760","issue_url":"https://api.github.com/repos/apache/celix/issues/511","id":1500802760,"node_id":"IC_kwDOAVuczs5ZdG7I","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-08T06:10:14Z","updated_at":"2023-04-08T06:15:40Z","author_association":"CONTRIBUTOR","body":"I think we'd better give a precise specification of the Celix component model before doing this work.\r\nWe shall take the fundamental differences between C/C++ and JAVA into account when specifying Celix component model.\r\nAt least, a reinterpretation of OSGi within C/C++ context is necessary.\r\n\r\n### Java Class Loader\r\n\r\nBy letting each bundle have its own class loader, the OSGi modularization layer supports a model where multiple versions of the same class are loaded in the same VM (but in different class spaces). \r\nSpecifically, the framework can have precise control of where a specific class is loaded from (Wiring/Export-Package/Import-Package). \r\nAs made clear in #441, we don't have such super power in C/C++, and the closest we have is `rtld-audit`.\r\nLet's admit that C/C++  runtime linker is not designed to work that way.\r\n\r\nIf we step back a bit by giving up Export-Library / Import-Library and focusing on services instead, we can easily make Wiring/Export-Service/Import-Service work. \r\nThat is, if the requirement of a specific service Foo in bundle A is wired to the provider in bundle B, then any service tracker for Foo created in bundle A will only receive Foo service instances from bundle B.\r\nIn Celix, we don't have class spaces, but we can have service spaces.\r\n\r\nWhat if a bundle wants to use OpenSSL of a different version from the installed ?\r\nWe can embed the OpenSSL static library in a separate bundle, wrap the interface (such as Encryption) we want to use in a service and export the service. \r\nThis way, multiple versions of OpenSSL coexist but live in different service spaces.\r\nOr we can embed the OpenSSL static library in the user bundle as a private copy.\r\nNote for the latter approach to work,  we should use `-Wl,-Bsymbolic` linker option to make the bundle self-contained.\r\n\r\n### Garbage Collection\r\n\r\nEven if a bundle is stopped, its resource may still be used by other bundles. \r\nI think that's why the bundle update procedure is so complicated with multiple coexisting bundle revisions.\r\nIf we can guarantee that when a bundle is stopped, its resource will NOT be available to the outside world, we can have a much simpler overall design. If a bundle's resource must be accessed through its service, then we are done.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1500802760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1500804688","html_url":"https://github.com/apache/celix/issues/509#issuecomment-1500804688","issue_url":"https://api.github.com/repos/apache/celix/issues/509","id":1500804688,"node_id":"IC_kwDOAVuczs5ZdHZQ","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-08T06:24:55Z","updated_at":"2023-04-08T06:24:55Z","author_association":"CONTRIBUTOR","body":"As mentioned in #511, a crystal clear specification of the Celix component model or a reinterpretation of OSGi in the Celix context is very desirable.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1500804688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1501091750","html_url":"https://github.com/apache/celix/issues/511#issuecomment-1501091750","issue_url":"https://api.github.com/repos/apache/celix/issues/511","id":1501091750,"node_id":"IC_kwDOAVuczs5ZeNem","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-09T10:01:34Z","updated_at":"2023-04-09T10:01:34Z","author_association":"CONTRIBUTOR","body":"I agree that services is a more safe way to approach this and if we document this approach / pattern that would be helpful. \r\n\r\nI also think we still can look into a export/import library feature based on manipulating  SONAME/NEEDED  (akka nOSGi) or maybe look into rtld-audit concept, but this is a long term goal. \r\n\r\nStill I think it is good to improve the current Requirement-Capability Model implementation and ensure that this is not the bottleneck to implement a future export/import libraries feature. ","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1501091750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1501096409","html_url":"https://github.com/apache/celix/issues/511#issuecomment-1501096409","issue_url":"https://api.github.com/repos/apache/celix/issues/511","id":1501096409,"node_id":"IC_kwDOAVuczs5ZeOnZ","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-09T10:30:46Z","updated_at":"2023-04-09T10:30:46Z","author_association":"CONTRIBUTOR","body":"> I also think we still can look into a export/import library feature based on manipulating SONAME/NEEDED (akka nOSGi) or maybe look into rtld-audit concept, but this is a long term goal.\r\n\r\nI agree that export/import library could be left for future consideration. I suggest we remove it from 3.0 and add it back if we could work out a solution in the future.\r\n\r\nWhat do you think about bundle update, bundle revision, and gc? Shall we make it clear that when a bundle is stopped, its resource will not be available? ","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1501096409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1501135924","html_url":"https://github.com/apache/celix/issues/511#issuecomment-1501135924","issue_url":"https://api.github.com/repos/apache/celix/issues/511","id":1501135924,"node_id":"IC_kwDOAVuczs5ZeYQ0","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-09T14:00:47Z","updated_at":"2023-04-09T14:01:08Z","author_association":"CONTRIBUTOR","body":"> > I also think we still can look into a export/import library feature based on manipulating SONAME/NEEDED (akka nOSGi) or maybe look into rtld-audit concept, but this is a long term goal.\r\n> \r\n> I agree that export/import library could be left for future consideration. I suggest we remove it from 3.0 and add it back if we could work out a solution in the future.\r\n\r\n:+1: \r\n\r\n> \r\n> What do you think about bundle update, bundle revision, and gc? Shall we make it clear that when a bundle is stopped, its resource will not be available?\r\n\r\nYes and I agree this is easier (and already in place) for services. I think the only place where a bit more clarification is needed is the bundle trackers. So to make it clear bundle resource cannot be access after the onStopped event is handled. \r\n\r\n\r\nIf we move requirement-capability model more back to the future, I think the only think left is to remove the current resolver from celix framework. The handling of  private bundle  libraries (through dlopen) already functions as a resolver for the bundle and is IMO good enough until we have a more clear vision/goal for export/import libraries. \r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1501135924/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1501149664","html_url":"https://github.com/apache/celix/pull/470#issuecomment-1501149664","issue_url":"https://api.github.com/repos/apache/celix/issues/470","id":1501149664,"node_id":"IC_kwDOAVuczs5Zebng","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-09T15:04:15Z","updated_at":"2023-10-23T17:34:40Z","author_association":"CONTRIBUTOR","body":"Note because this will be merged when Celix 3.0.0 is prepared also:\r\n\r\n- [x] Update the put functions for celix string/long hash map with a celix_status_t return so that the return value can be used to indicate a CELIX_ENOMEN error. Note that currently the previous stored value is returned.\r\n- [x] Update the celix properties set functions with a celix_status_t return so that the return value can be used to indicate a CELIX_ENOMEM error\r\n- [x] Add celix ei functions for celix string/long hash map put functions and celix properties set functions","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1501149664/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1501150739","html_url":"https://github.com/apache/celix/issues/509#issuecomment-1501150739","issue_url":"https://api.github.com/repos/apache/celix/issues/509","id":1501150739,"node_id":"IC_kwDOAVuczs5Zeb4T","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-09T15:09:52Z","updated_at":"2023-04-09T15:09:52Z","author_association":"CONTRIBUTOR","body":"I agree with adding a Celix EventAdmin. The event admin is part of the OSGi spec and I also think a remote event admin makes sense and is easier to use for users. \r\n\r\nThe main reason is that the current PubSub (and also the Remote Service Admin) needs extra manual work or codegen to be able to function. This manual work/codegen is needed to create DFI descriptors for serialization / remote invocation. \r\nThe event admin is based on properties and for properties serialization should be straightforward and can be done - for example - with reuse of the netstring implementation used in pubsub wire protocol. \r\n\r\nI will add a separate issue for the event admin.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1501150739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1501156375","html_url":"https://github.com/apache/celix/pull/517#issuecomment-1501156375","issue_url":"https://api.github.com/repos/apache/celix/issues/517","id":1501156375,"node_id":"IC_kwDOAVuczs5ZedQX","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-09T15:40:52Z","updated_at":"2023-04-09T15:40:52Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/celix/pull/517?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#517](https://codecov.io/gh/apache/celix/pull/517?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4f90c63) into [master](https://codecov.io/gh/apache/celix/commit/b7c42cd81520ebf5449cfa5bf64d6111adfcbaab?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (b7c42cd) will **decrease** coverage by `0.01%`.\n> The diff coverage is `91.89%`.\n\n> :exclamation: Current head 4f90c63 differs from pull request most recent head 80d0820. Consider uploading reports for the commit 80d0820 to get more accurate results\n\n```diff\n@@            Coverage Diff             @@\n##           master     #517      +/-   ##\n==========================================\n- Coverage   75.55%   75.55%   -0.01%     \n==========================================\n  Files         225      225              \n  Lines       34446    34438       -8     \n==========================================\n- Hits        26027    26019       -8     \n  Misses       8419     8419              \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/celix/pull/517?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [bundles/http\\_admin/http\\_admin/src/activator.c](https://codecov.io/gh/apache/celix/pull/517?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9odHRwX2FkbWluL2h0dHBfYWRtaW4vc3JjL2FjdGl2YXRvci5j) | `82.60% <ø> (ø)` | |\n| [bundles/http\\_admin/http\\_admin/src/http\\_admin.c](https://codecov.io/gh/apache/celix/pull/517?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9odHRwX2FkbWluL2h0dHBfYWRtaW4vc3JjL2h0dHBfYWRtaW4uYw==) | `64.88% <ø> (ø)` | |\n| [...undles/http\\_admin/http\\_admin/src/websocket\\_admin.c](https://codecov.io/gh/apache/celix/pull/517?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9odHRwX2FkbWluL2h0dHBfYWRtaW4vc3JjL3dlYnNvY2tldF9hZG1pbi5j) | `91.86% <ø> (ø)` | |\n| [...undles/pubsub/pubsub\\_admin\\_tcp/src/psa\\_activator.c](https://codecov.io/gh/apache/celix/pull/517?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9wdWJzdWIvcHVic3ViX2FkbWluX3RjcC9zcmMvcHNhX2FjdGl2YXRvci5j) | `100.00% <ø> (ø)` | |\n| [...les/pubsub/pubsub\\_admin\\_tcp/src/pubsub\\_tcp\\_admin.c](https://codecov.io/gh/apache/celix/pull/517?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9wdWJzdWIvcHVic3ViX2FkbWluX3RjcC9zcmMvcHVic3ViX3RjcF9hZG1pbi5j) | `50.50% <ø> (ø)` | |\n| [...undles/pubsub/pubsub\\_admin\\_zmq/src/psa\\_activator.c](https://codecov.io/gh/apache/celix/pull/517?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9wdWJzdWIvcHVic3ViX2FkbWluX3ptcS9zcmMvcHNhX2FjdGl2YXRvci5j) | `100.00% <ø> (ø)` | |\n| [...serializer\\_json/src/ps\\_json\\_serializer\\_activator.c](https://codecov.io/gh/apache/celix/pull/517?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9wdWJzdWIvcHVic3ViX3NlcmlhbGl6ZXJfanNvbi9zcmMvcHNfanNvbl9zZXJpYWxpemVyX2FjdGl2YXRvci5j) | `100.00% <ø> (ø)` | |\n| [...ubsub\\_serializer\\_json/src/pubsub\\_serializer\\_impl.c](https://codecov.io/gh/apache/celix/pull/517?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9wdWJzdWIvcHVic3ViX3NlcmlhbGl6ZXJfanNvbi9zcmMvcHVic3ViX3NlcmlhbGl6ZXJfaW1wbC5j) | `35.63% <ø> (ø)` | |\n| [...ubsub/pubsub\\_topology\\_manager/src/pstm\\_activator.c](https://codecov.io/gh/apache/celix/pull/517?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9wdWJzdWIvcHVic3ViX3RvcG9sb2d5X21hbmFnZXIvc3JjL3BzdG1fYWN0aXZhdG9yLmM=) | `100.00% <ø> (ø)` | |\n| [...b/pubsub\\_utils/src/pubsub\\_serialization\\_provider.c](https://codecov.io/gh/apache/celix/pull/517?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9wdWJzdWIvcHVic3ViX3V0aWxzL3NyYy9wdWJzdWJfc2VyaWFsaXphdGlvbl9wcm92aWRlci5j) | `67.08% <ø> (ø)` | |\n| ... and [11 more](https://codecov.io/gh/apache/celix/pull/517?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n... and [2 files with indirect coverage changes](https://codecov.io/gh/apache/celix/pull/517/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1501156375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1501179630","html_url":"https://github.com/apache/celix/pull/518#issuecomment-1501179630","issue_url":"https://api.github.com/repos/apache/celix/issues/518","id":1501179630,"node_id":"IC_kwDOAVuczs5Zei7u","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-09T17:49:03Z","updated_at":"2023-04-11T17:54:11Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/celix/pull/518?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#518](https://codecov.io/gh/apache/celix/pull/518?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d0d1ab3) into [master](https://codecov.io/gh/apache/celix/commit/94d06c4b742d3568ecae89aa5d6b0bd61a8c2bba?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (94d06c4) will **increase** coverage by `0.39%`.\n> The diff coverage is `98.82%`.\n\n> :exclamation: Current head d0d1ab3 differs from pull request most recent head bf4fbc2. Consider uploading reports for the commit bf4fbc2 to get more accurate results\n\n```diff\n@@            Coverage Diff             @@\n##           master     #518      +/-   ##\n==========================================\n+ Coverage   75.57%   75.97%   +0.39%     \n==========================================\n  Files         225      229       +4     \n  Lines       34445    34760     +315     \n==========================================\n+ Hits        26033    26408     +375     \n+ Misses       8412     8352      -60     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/celix/pull/518?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [libs/utils/src/array\\_list.c](https://codecov.io/gh/apache/celix/pull/518?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy91dGlscy9zcmMvYXJyYXlfbGlzdC5j) | `89.45% <93.33%> (+0.18%)` | :arrow_up: |\n| [libs/rcm/src/celix\\_rcm\\_err.c](https://codecov.io/gh/apache/celix/pull/518?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9yY20vc3JjL2NlbGl4X3JjbV9lcnIuYw==) | `96.66% <96.66%> (ø)` | |\n| [libs/rcm/src/celix\\_capability.c](https://codecov.io/gh/apache/celix/pull/518?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9yY20vc3JjL2NlbGl4X2NhcGFiaWxpdHkuYw==) | `100.00% <100.00%> (ø)` | |\n| [libs/rcm/src/celix\\_requirement.c](https://codecov.io/gh/apache/celix/pull/518?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9yY20vc3JjL2NlbGl4X3JlcXVpcmVtZW50LmM=) | `100.00% <100.00%> (ø)` | |\n| [libs/rcm/src/celix\\_resource.c](https://codecov.io/gh/apache/celix/pull/518?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9yY20vc3JjL2NlbGl4X3Jlc291cmNlLmM=) | `100.00% <100.00%> (ø)` | |\n\n... and [4 files with indirect coverage changes](https://codecov.io/gh/apache/celix/pull/518/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1501179630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1501568591","html_url":"https://github.com/apache/celix/issues/515#issuecomment-1501568591","issue_url":"https://api.github.com/repos/apache/celix/issues/515","id":1501568591,"node_id":"IC_kwDOAVuczs5ZgB5P","user":{"login":"xuzhenbao","id":43104033,"node_id":"MDQ6VXNlcjQzMTA0MDMz","avatar_url":"https://avatars.githubusercontent.com/u/43104033?v=4","gravatar_id":"","url":"https://api.github.com/users/xuzhenbao","html_url":"https://github.com/xuzhenbao","followers_url":"https://api.github.com/users/xuzhenbao/followers","following_url":"https://api.github.com/users/xuzhenbao/following{/other_user}","gists_url":"https://api.github.com/users/xuzhenbao/gists{/gist_id}","starred_url":"https://api.github.com/users/xuzhenbao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xuzhenbao/subscriptions","organizations_url":"https://api.github.com/users/xuzhenbao/orgs","repos_url":"https://api.github.com/users/xuzhenbao/repos","events_url":"https://api.github.com/users/xuzhenbao/events{/privacy}","received_events_url":"https://api.github.com/users/xuzhenbao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T08:51:41Z","updated_at":"2023-04-10T08:51:41Z","author_association":"CONTRIBUTOR","body":"@pnoltes  Do you have a development plan for EventAdmin？ If no, I'd like do it.\r\n\r\nAnd I have a question about netstring serialization.\r\nIf we use netstring to serialize celix_properties, it may lose type information about the property value. I think TLV(type-length-value) serialization may be better.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1501568591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1501665110","html_url":"https://github.com/apache/celix/issues/515#issuecomment-1501665110","issue_url":"https://api.github.com/repos/apache/celix/issues/515","id":1501665110,"node_id":"IC_kwDOAVuczs5ZgZdW","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T10:41:32Z","updated_at":"2023-04-10T10:41:32Z","author_association":"CONTRIBUTOR","body":"\r\n\r\n> @pnoltes Do you have a development plan for EventAdmin？ If no, I'd like do it.\r\n\r\nI had no concrete plans for this yet, so please feel free to pick this up :smile:.\r\n \r\n> And I have a question about netstring serialization. If we use netstring to serialize celix_properties, it may lose type information about the property value. I think TLV(type-length-value) serialization may be better.\r\n\r\nYes you are correct, if #470 is merged, properties will support property value type. So I agree an other option would be better.\r\n\r\nNote that there is a old and experimental implementation of the event admin at: https://github.com/apache/celix/tree/rel/celix-2.3.0/misc/experimental/bundles/event_admin/event_admin\r\nBut I think this can be ignored and maybe only used for inspiration.\r\n\r\nWhat I remember from the experimental event admin impl is that we struggled with when a Event object could be destroyed and who should destroy it.\r\n\r\nAn option to solve this (IMO) more elegant is to drop the Event type and just reuse a string and celix properties. So a event admin interface like:\r\n\r\n```c\r\ntypedef struct celix_event_admin {\r\n  void* handle;\r\n\r\n  /**\r\n   * @brief async post event call. Event admin will take ownership of the eventProperties and destroy it when no longer needed (events are handled)\r\n   */\r\n  celix_status_t postEvent(void* handle, const char* eventTopic, celix_properties_t* eventProperties); \r\n\r\n  /**\r\n   * @brief sync send event call. Caller keeps ownership of eventProperties and eventProperties can safely be destroyed after the call returns\r\n   */\r\n   celix_status_t sendEvent(void* handle, const char* eventTopic, const celix_properties_t* eventProperties);\r\n} celix_event_admin_t;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1501665110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1501682839","html_url":"https://github.com/apache/celix/pull/519#issuecomment-1501682839","issue_url":"https://api.github.com/repos/apache/celix/issues/519","id":1501682839,"node_id":"IC_kwDOAVuczs5ZgdyX","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T11:03:35Z","updated_at":"2023-04-10T11:29:14Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/celix/pull/519?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#519](https://codecov.io/gh/apache/celix/pull/519?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (c8f495b) into [master](https://codecov.io/gh/apache/celix/commit/b7c42cd81520ebf5449cfa5bf64d6111adfcbaab?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (b7c42cd) will **increase** coverage by `0.06%`.\n> The diff coverage is `47.00%`.\n\n> :exclamation: Current head c8f495b differs from pull request most recent head 3b23527. Consider uploading reports for the commit 3b23527 to get more accurate results\n\n```diff\n@@            Coverage Diff             @@\n##           master     #519      +/-   ##\n==========================================\n+ Coverage   75.55%   75.62%   +0.06%     \n==========================================\n  Files         225      225              \n  Lines       34446    34382      -64     \n==========================================\n- Hits        26027    26000      -27     \n+ Misses       8419     8382      -37     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/celix/pull/519?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...dmin\\_websocket/src/pubsub\\_websocket\\_topic\\_sender.c](https://codecov.io/gh/apache/celix/pull/519?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9wdWJzdWIvcHVic3ViX2FkbWluX3dlYnNvY2tldC9zcmMvcHVic3ViX3dlYnNvY2tldF90b3BpY19zZW5kZXIuYw==) | `83.89% <0.00%> (ø)` | |\n| [libs/framework/src/celix\\_bundle\\_cache.c](https://codecov.io/gh/apache/celix/pull/519?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvc3JjL2NlbGl4X2J1bmRsZV9jYWNoZS5j) | `88.95% <0.00%> (-0.50%)` | :arrow_down: |\n| [libs/framework/src/service\\_reference.c](https://codecov.io/gh/apache/celix/pull/519?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvc3JjL3NlcnZpY2VfcmVmZXJlbmNlLmM=) | `56.64% <0.00%> (-0.33%)` | :arrow_down: |\n| [libs/framework/src/framework.c](https://codecov.io/gh/apache/celix/pull/519?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvc3JjL2ZyYW1ld29yay5j) | `77.82% <28.57%> (+0.13%)` | :arrow_up: |\n| [libs/framework/src/bundle\\_context.c](https://codecov.io/gh/apache/celix/pull/519?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvc3JjL2J1bmRsZV9jb250ZXh0LmM=) | `80.99% <29.41%> (+2.62%)` | :arrow_up: |\n| [libs/framework/src/bundle.c](https://codecov.io/gh/apache/celix/pull/519?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvc3JjL2J1bmRsZS5j) | `69.65% <66.66%> (-0.08%)` | :arrow_down: |\n| [...ramework/include/celix/dm/DependencyManager\\_Impl.h](https://codecov.io/gh/apache/celix/pull/519?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvaW5jbHVkZS9jZWxpeC9kbS9EZXBlbmRlbmN5TWFuYWdlcl9JbXBsLmg=) | `98.43% <83.33%> (-0.77%)` | :arrow_down: |\n| [...ramework/include/celix/dm/ServiceDependency\\_Impl.h](https://codecov.io/gh/apache/celix/pull/519?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvaW5jbHVkZS9jZWxpeC9kbS9TZXJ2aWNlRGVwZW5kZW5jeV9JbXBsLmg=) | `93.75% <100.00%> (-0.10%)` | :arrow_down: |\n| [libs/framework/src/dm\\_dependency\\_manager\\_impl.c](https://codecov.io/gh/apache/celix/pull/519?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvc3JjL2RtX2RlcGVuZGVuY3lfbWFuYWdlcl9pbXBsLmM=) | `79.73% <100.00%> (ø)` | |\n\n... and [1 file with indirect coverage changes](https://codecov.io/gh/apache/celix/pull/519/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1501682839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1501742199","html_url":"https://github.com/apache/celix/pull/519#issuecomment-1501742199","issue_url":"https://api.github.com/repos/apache/celix/issues/519","id":1501742199,"node_id":"IC_kwDOAVuczs5ZgsR3","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T12:05:04Z","updated_at":"2023-04-10T12:05:04Z","author_association":"CONTRIBUTOR","body":"Wow that is a lot of coverity issue fixes, nice work :+1: ","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1501742199/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1501894521","html_url":"https://github.com/apache/celix/issues/515#issuecomment-1501894521","issue_url":"https://api.github.com/repos/apache/celix/issues/515","id":1501894521,"node_id":"IC_kwDOAVuczs5ZhRd5","user":{"login":"xuzhenbao","id":43104033,"node_id":"MDQ6VXNlcjQzMTA0MDMz","avatar_url":"https://avatars.githubusercontent.com/u/43104033?v=4","gravatar_id":"","url":"https://api.github.com/users/xuzhenbao","html_url":"https://github.com/xuzhenbao","followers_url":"https://api.github.com/users/xuzhenbao/followers","following_url":"https://api.github.com/users/xuzhenbao/following{/other_user}","gists_url":"https://api.github.com/users/xuzhenbao/gists{/gist_id}","starred_url":"https://api.github.com/users/xuzhenbao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xuzhenbao/subscriptions","organizations_url":"https://api.github.com/users/xuzhenbao/orgs","repos_url":"https://api.github.com/users/xuzhenbao/repos","events_url":"https://api.github.com/users/xuzhenbao/events{/privacy}","received_events_url":"https://api.github.com/users/xuzhenbao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T14:35:58Z","updated_at":"2023-04-10T14:41:13Z","author_association":"CONTRIBUTOR","body":"> What I remember from the experimental event admin impl is that we struggled with when a Event object could be destroyed and who should destroy it.\r\n\r\nHow about define a event object like ：\r\n~~~ C\r\ntypedef struct celix_event_private {\r\n    \tconst char *topic;\r\n\tcelix_properties_t *properties;\r\n        struct celix_ref ref;\r\n}celix_event_private_t;\r\n\r\ntypedef struct celix_event {\r\n   /**\r\n    * @brief event private data\r\n    */\r\n    celix_event_private_t privateData;\r\n   \r\n    celix_status_t (*getTopic)(celix_event_t *event, const char **topic);\r\n    celix_status_t (*matches)( celix_event_t *event);\r\n    celix_status_t (*getProperty)(celix_event_t *event, char *propertyKey, celix_properties_entry_t **propertyEntry);\r\n    ...\r\n}celix_event_t;\r\n\r\n/**\r\n *@brief Create event\r\n */\r\ncelix_event_t *celix_event_create(const char *topic,  celix_properties_t* eventProperties);\r\n\r\n/**\r\n *@brief Retains（increases the ref count） the event\r\n */\r\nvoid celix_event_retain(celix_event_t *event);\r\n\r\n/**\r\n *@brief Release（decreases the ref count） the event\r\n */\r\nvoid celix_event_release(celix_event_t *event);\r\n\r\n~~~\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1501894521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1502048601","html_url":"https://github.com/apache/celix/issues/515#issuecomment-1502048601","issue_url":"https://api.github.com/repos/apache/celix/issues/515","id":1502048601,"node_id":"IC_kwDOAVuczs5Zh3FZ","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T16:49:34Z","updated_at":"2023-04-10T16:49:34Z","author_association":"CONTRIBUTOR","body":"> > What I remember from the experimental event admin impl is that we struggled with when a Event object could be destroyed and who should destroy it.\r\n> \r\n> How about define a event object like ：\r\n> \r\n> ```c\r\n> typedef struct celix_event_private {\r\n>     \tconst char *topic;\r\n> \tcelix_properties_t *properties;\r\n>         struct celix_ref ref;\r\n> }celix_event_private_t;\r\n> \r\n> typedef struct celix_event {\r\n>    /**\r\n>     * @brief event private data\r\n>     */\r\n>     celix_event_private_t privateData;\r\n>    \r\n>     celix_status_t (*getTopic)(celix_event_t *event, const char **topic);\r\n>     celix_status_t (*matches)( celix_event_t *event);\r\n>     celix_status_t (*getProperty)(celix_event_t *event, char *propertyKey, celix_properties_entry_t **propertyEntry);\r\n>     ...\r\n> }celix_event_t;\r\n> \r\n> /**\r\n>  *@brief Create event\r\n>  */\r\n> celix_event_t *celix_event_create(const char *topic,  celix_properties_t* eventProperties);\r\n> \r\n> /**\r\n>  *@brief Retains（increases the ref count） the event\r\n>  */\r\n> void celix_event_retain(celix_event_t *event);\r\n> \r\n> /**\r\n>  *@brief Release（decreases the ref count） the event\r\n>  */\r\n> void celix_event_release(celix_event_t *event);\r\n> ```\r\n\r\nYes, that will also work. I think the function pointers are not needed (unless we would like a polymorphism event object) and maybe a the event object should own the topic string. ","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1502048601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1502101250","html_url":"https://github.com/apache/celix/issues/442#issuecomment-1502101250","issue_url":"https://api.github.com/repos/apache/celix/issues/442","id":1502101250,"node_id":"IC_kwDOAVuczs5ZiD8C","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-10T17:40:04Z","updated_at":"2023-04-10T17:40:04Z","author_association":"CONTRIBUTOR","body":"I think it would be good to reintroduce FRAMEWORK_EXPORT using new set of marcros and some documentation.\r\n\r\nFor marcro, I was thinking about:\r\n```C\r\n//celix_export.h (part of celix_utils lib)\r\n#define CELIX_EXPORT __attribute__((visibility (\"default\")))\r\n#define CELIX_LOCAL __attribute__((visibility (\"hidden\")))\r\n```\r\nAnd applying the marcros to all C/C++ utils, dfi and framework headers.\r\n\r\nTo be honest I am not sure how this needs to be applied to bundle libraries. \r\nWith the linking script example, only the bundle activator symbols are global and I think this is default what we want for bundles.\r\n\r\n@PengZheng Does this means that all C++ - note header only - methods needs to be declared as \"CELIX_LOCAL\" , with an exception for the C++ exceptions?\r\n\r\nIs an other option to let the `add_celix_bundle` cmake function default produce a linker script, so that only the bundle activator functions are global?\r\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1502101250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1502663715","html_url":"https://github.com/apache/celix/pull/521#issuecomment-1502663715","issue_url":"https://api.github.com/repos/apache/celix/issues/521","id":1502663715,"node_id":"IC_kwDOAVuczs5ZkNQj","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T04:15:02Z","updated_at":"2023-04-11T04:15:02Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/celix/pull/521?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#521](https://codecov.io/gh/apache/celix/pull/521?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (85c1c49) into [master](https://codecov.io/gh/apache/celix/commit/3ea1617f19bec479e69b1e3b60c43f7d49263adf?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (3ea1617) will **increase** coverage by `0.00%`.\n> The diff coverage is `n/a`.\n\n> :exclamation: Current head 85c1c49 differs from pull request most recent head b525f3e. Consider uploading reports for the commit b525f3e to get more accurate results\n\n```diff\n@@           Coverage Diff           @@\n##           master     #521   +/-   ##\n=======================================\n  Coverage   75.64%   75.65%           \n=======================================\n  Files         225      225           \n  Lines       34382    34382           \n=======================================\n+ Hits        26009    26010    +1     \n+ Misses       8373     8372    -1     \n```\n\n\n[see 3 files with indirect coverage changes](https://codecov.io/gh/apache/celix/pull/521/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1502663715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1502720996","html_url":"https://github.com/apache/celix/issues/442#issuecomment-1502720996","issue_url":"https://api.github.com/repos/apache/celix/issues/442","id":1502720996,"node_id":"IC_kwDOAVuczs5ZkbPk","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T05:49:37Z","updated_at":"2023-04-11T06:03:59Z","author_association":"CONTRIBUTOR","body":"> To be honest I am not sure how this needs to be applied to bundle libraries.\r\n\r\nBundles are also shared libraries, so we only have to deal with shared objects. \r\nAs you have noted, bundles are simpler, since they export a fixed set of symbols, i.e. activator symbols.\r\n\r\nFor shared library (and bundle) target, we set `C_VISIBILITY_PRESET` and `CXX_VISIBILITY_PRESET` to be `hidden` and `VISIBILITY_INLINES_HIDDEN` to be `ON`. Then for a given shared library, we add `CELIX_EXPORT` to its public API.\r\nFor bundles, we can set these target properties in `add_celix_bundle`, and add `CELIX_EXPORT` to `celix_bundle_activator.h`, and then we're done.  \r\n\r\nI think `CELIX_LOCAL` is not really necessary.\r\n\r\n> Does this means that all C++ - note header only - methods needs to be declared as \"CELIX_LOCAL\" , with an exception for the C++ exceptions?\r\n\r\nNo, these C++ headers does NOT form public API of any shared object. Users can use it to write static/shared library, executable, or whatever they want. They should take care of the symbol visibility themselves. With the help of CMake (GenerateExportHeader), it should not be burdensome.\r\n\r\nC++ ABI is notoriously hard to maintain, I'm happy we don't have it (please correct me if I were wrong). But [CppMicroServices](https://github.com/CppMicroServices/CppMicroServices) does have C++ API, and they control their class's visibility using similar approach.\r\n\r\nAs for exception, since we only have C API (bundle activator) and they are nothrow by nature, any C++ exception should be catched and translated into error code before returning to the C framework. Currently we don't do it that way, a C++ exception will lead to crash.\r\n\r\n> Is an other option to let the add_celix_bundle cmake function default produce a linker script, so that only the bundle activator functions are global?\r\n\r\nI use version script (-Wl,--version-script=) as a last resort. It works like charm, especially when I can not modify the upstream. For example, when doing footprint optimization of OpenSSL, I use it to only export the used symbols (approximately 300) instead of 3000+. But it leads to less optimized code, see Section 2.2 of Ulrich Drepper's definitive [How To Write Shared Libraries](https://www.akkadia.org/drepper/dsohowto.pdf) .\r\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1502720996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1502754145","html_url":"https://github.com/apache/celix/issues/515#issuecomment-1502754145","issue_url":"https://api.github.com/repos/apache/celix/issues/515","id":1502754145,"node_id":"IC_kwDOAVuczs5ZkjVh","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T06:30:37Z","updated_at":"2023-04-11T06:30:37Z","author_association":"CONTRIBUTOR","body":"> How about define a event object like ：\r\n\r\nI agree with @pnoltes that function pointers are not needed unless polymorphism is involved.\r\n\r\nEven if it's absolutely necessary, please note that any object passing through a dynamic interface (like Celix service) must be managed some way by the interface provider so that when the interface goes away, the object is not available to the outsider any more.\r\n\r\nOf course, the above consideration does not apply if event is used only within EventAdmin.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1502754145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1502788991","html_url":"https://github.com/apache/celix/issues/442#issuecomment-1502788991","issue_url":"https://api.github.com/repos/apache/celix/issues/442","id":1502788991,"node_id":"IC_kwDOAVuczs5Zkr1_","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-11T07:07:11Z","updated_at":"2023-04-11T07:07:11Z","author_association":"CONTRIBUTOR","body":"@PengZheng I would like to try and tackle this. \r\nI do not have a lot of experience with symbol visibility, but that is also a good reason to dive into this.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1502788991/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1508393584","html_url":"https://github.com/apache/celix/issues/522#issuecomment-1508393584","issue_url":"https://api.github.com/repos/apache/celix/issues/522","id":1508393584,"node_id":"IC_kwDOAVuczs5Z6EJw","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-14T11:57:08Z","updated_at":"2023-04-14T11:57:08Z","author_association":"CONTRIBUTOR","body":"Yes, this has become more straightforward. \r\n\r\nWhat about adding support in the `install_celix_bundle` cmake function to install bundles zip uncompressed (as dir) instead of zip. Maybe with an option `INSTALL_AS_DIR`. \r\n\r\nThis can also be used to prep a bundles directory structure as mount entry, but I think this can also function to supported bundles installed as dir in `/use/share/<project>/bundles/a_bundle_dir","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1508393584/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1509794760","html_url":"https://github.com/apache/celix/pull/245#issuecomment-1509794760","issue_url":"https://api.github.com/repos/apache/celix/issues/245","id":1509794760,"node_id":"IC_kwDOAVuczs5Z_aPI","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-15T12:53:06Z","updated_at":"2023-04-15T12:53:06Z","author_association":"CONTRIBUTOR","body":"We no longer maintain Civetweb.  ","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1509794760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1509800495","html_url":"https://github.com/apache/celix/pull/441#issuecomment-1509800495","issue_url":"https://api.github.com/repos/apache/celix/issues/441","id":1509800495,"node_id":"IC_kwDOAVuczs5Z_bov","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-15T12:55:40Z","updated_at":"2023-04-15T12:55:40Z","author_association":"CONTRIBUTOR","body":"This has already been implemented in #476.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1509800495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1511885438","html_url":"https://github.com/apache/celix/issues/442#issuecomment-1511885438","issue_url":"https://api.github.com/repos/apache/celix/issues/442","id":1511885438,"node_id":"IC_kwDOAVuczs5aHYp-","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-17T18:34:28Z","updated_at":"2023-06-11T13:13:02Z","author_association":"CONTRIBUTOR","body":"I will try to solve this issue in 4 steps:\r\n\r\n- [x] Apply export header configuration and export macro usage to the libraries in the libs dir.\r\n- [x] Add way to configure bundle symbol visibility and apply this or configured bundle symbol visibility using export header.\r\n- [x] Add Apache Celix developer and user documentation for symbol visiblity.\r\n- [ ] Apply export header configuration for libs in the bundles directories if needed.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1511885438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1525418573","html_url":"https://github.com/apache/celix/pull/524#issuecomment-1525418573","issue_url":"https://api.github.com/repos/apache/celix/issues/524","id":1525418573,"node_id":"IC_kwDOAVuczs5a7ApN","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T10:32:30Z","updated_at":"2023-04-27T10:32:30Z","author_association":"CONTRIBUTOR","body":"the last days I was not able to update this PR, but the changes LGTM.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1525418573/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1525422882","html_url":"https://github.com/apache/celix/pull/518#issuecomment-1525422882","issue_url":"https://api.github.com/repos/apache/celix/issues/518","id":1525422882,"node_id":"IC_kwDOAVuczs5a7Bsi","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T10:33:56Z","updated_at":"2023-04-27T10:33:56Z","author_association":"CONTRIBUTOR","body":"> Nice use of error injector! My experience tells that 95% coverage usually implies high quality. Hopefully we can gradually achieve that level for the whole project.\r\n> \r\n> I have not finished reviewing this PR, but I do have some remarks. Given that work has not been finished, what about we merge Err first and use it to solve #503?\r\n\r\nSure. Give me some time to spit the err in a separate lib or add it to utils. ","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1525422882/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1526919362","html_url":"https://github.com/apache/celix/pull/529#issuecomment-1526919362","issue_url":"https://api.github.com/repos/apache/celix/issues/529","id":1526919362,"node_id":"IC_kwDOAVuczs5bAvDC","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T03:08:32Z","updated_at":"2023-05-01T09:23:58Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/celix/pull/529?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#529](https://codecov.io/gh/apache/celix/pull/529?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (036f8cb) into [master](https://codecov.io/gh/apache/celix/commit/335935c31473311906d62599c62dbd7f2f787ef8?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (335935c) will **increase** coverage by `0.00%`.\n> The diff coverage is `91.66%`.\n\n```diff\n@@           Coverage Diff           @@\n##           master     #529   +/-   ##\n=======================================\n  Coverage   75.64%   75.65%           \n=======================================\n  Files         225      225           \n  Lines       34451    34432   -19     \n=======================================\n- Hits        26060    26049   -11     \n+ Misses       8391     8383    -8     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/celix/pull/529?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [libs/framework/src/manifest\\_parser.c](https://codecov.io/gh/apache/celix/pull/529?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvc3JjL21hbmlmZXN0X3BhcnNlci5j) | `32.06% <ø> (-0.03%)` | :arrow_down: |\n| [libs/framework/src/framework.c](https://codecov.io/gh/apache/celix/pull/529?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvc3JjL2ZyYW1ld29yay5j) | `77.63% <90.90%> (+0.07%)` | :arrow_up: |\n| [libs/framework/src/module.c](https://codecov.io/gh/apache/celix/pull/529?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvc3JjL21vZHVsZS5j) | `73.64% <90.90%> (+0.24%)` | :arrow_up: |\n| [libs/framework/src/celix\\_libloader.c](https://codecov.io/gh/apache/celix/pull/529?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvc3JjL2NlbGl4X2xpYmxvYWRlci5j) | `94.73% <100.00%> (ø)` | |\n\n... and [4 files with indirect coverage changes](https://codecov.io/gh/apache/celix/pull/529/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1526919362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1527026749","html_url":"https://github.com/apache/celix/issues/299#issuecomment-1527026749","issue_url":"https://api.github.com/repos/apache/celix/issues/299","id":1527026749,"node_id":"IC_kwDOAVuczs5bBJQ9","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T05:54:55Z","updated_at":"2023-04-28T05:54:55Z","author_association":"CONTRIBUTOR","body":"Fixed by #476 ","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1527026749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1529472962","html_url":"https://github.com/apache/celix/pull/518#issuecomment-1529472962","issue_url":"https://api.github.com/repos/apache/celix/issues/518","id":1529472962,"node_id":"IC_kwDOAVuczs5bKefC","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-01T08:16:10Z","updated_at":"2023-05-01T08:18:19Z","author_association":"CONTRIBUTOR","body":"Please note that #531 raised the issue of sharing the same set of directives and attributes between multiple capabilities.\r\nWe may need to address it in our new implementation.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1529472962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1529948510","html_url":"https://github.com/apache/celix/pull/529#issuecomment-1529948510","issue_url":"https://api.github.com/repos/apache/celix/issues/529","id":1529948510,"node_id":"IC_kwDOAVuczs5bMSle","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-01T16:57:53Z","updated_at":"2023-05-01T16:57:53Z","author_association":"CONTRIBUTOR","body":"LGTM. \r\n\r\nNote that the new requirement-capability model will take some time before this is introduced. So if a quicker fix is needed, an other option should be looked into. ","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1529948510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1529963024","html_url":"https://github.com/apache/celix/pull/518#issuecomment-1529963024","issue_url":"https://api.github.com/repos/apache/celix/issues/518","id":1529963024,"node_id":"IC_kwDOAVuczs5bMWIQ","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-01T17:08:37Z","updated_at":"2023-05-01T17:08:37Z","author_association":"CONTRIBUTOR","body":"I will extract the celix_err.c and error injection changes to a separate PR.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1529963024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1529975028","html_url":"https://github.com/apache/celix/pull/532#issuecomment-1529975028","issue_url":"https://api.github.com/repos/apache/celix/issues/532","id":1529975028,"node_id":"IC_kwDOAVuczs5bMZD0","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-01T17:20:10Z","updated_at":"2023-05-01T17:20:10Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/celix/pull/532?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#532](https://codecov.io/gh/apache/celix/pull/532?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (68f68e3) into [master](https://codecov.io/gh/apache/celix/commit/d07ee87f519156dce42314d5f37a5b985faabecc?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d07ee87) will **decrease** coverage by `0.01%`.\n> The diff coverage is `80.00%`.\n\n> :exclamation: Current head 68f68e3 differs from pull request most recent head 1128583. Consider uploading reports for the commit 1128583 to get more accurate results\n\n```diff\n@@            Coverage Diff             @@\n##           master     #532      +/-   ##\n==========================================\n- Coverage   75.64%   75.63%   -0.01%     \n==========================================\n  Files         225      225              \n  Lines       34451    34451              \n==========================================\n- Hits        26059    26056       -3     \n- Misses       8392     8395       +3     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/celix/pull/532?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [libs/framework/include/celix/BundleActivator.h](https://codecov.io/gh/apache/celix/pull/532?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvaW5jbHVkZS9jZWxpeC9CdW5kbGVBY3RpdmF0b3IuaA==) | `73.68% <ø> (ø)` | |\n| [...s/remote\\_services/topology\\_manager/src/activator.c](https://codecov.io/gh/apache/celix/pull/532?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvdG9wb2xvZ3lfbWFuYWdlci9zcmMvYWN0aXZhdG9yLmM=) | `93.22% <80.00%> (ø)` | |\n\n... and [4 files with indirect coverage changes](https://codecov.io/gh/apache/celix/pull/532/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1529975028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1529977375","html_url":"https://github.com/apache/celix/pull/533#issuecomment-1529977375","issue_url":"https://api.github.com/repos/apache/celix/issues/533","id":1529977375,"node_id":"IC_kwDOAVuczs5bMZof","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-01T17:22:45Z","updated_at":"2023-05-01T17:22:45Z","author_association":"NONE","body":"## [Codecov](https://codecov.io/gh/apache/celix/pull/533?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#533](https://codecov.io/gh/apache/celix/pull/533?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (6f202f6) into [master](https://codecov.io/gh/apache/celix/commit/d07ee87f519156dce42314d5f37a5b985faabecc?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d07ee87) will **increase** coverage by `0.47%`.\n> The diff coverage is `84.61%`.\n\n> :exclamation: Current head 6f202f6 differs from pull request most recent head 9761046. Consider uploading reports for the commit 9761046 to get more accurate results\n\n```diff\n@@            Coverage Diff             @@\n##           master     #533      +/-   ##\n==========================================\n+ Coverage   75.64%   76.11%   +0.47%     \n==========================================\n  Files         225      225              \n  Lines       34451    34458       +7     \n==========================================\n+ Hits        26059    26228     +169     \n+ Misses       8392     8230     -162     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/celix/pull/533?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [bundles/shell/shell/src/lb\\_command.c](https://codecov.io/gh/apache/celix/pull/533?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9zaGVsbC9zaGVsbC9zcmMvbGJfY29tbWFuZC5j) | `89.47% <75.00%> (+0.83%)` | :arrow_up: |\n| [libs/utils/src/array\\_list.c](https://codecov.io/gh/apache/celix/pull/533?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy91dGlscy9zcmMvYXJyYXlfbGlzdC5j) | `89.27% <100.00%> (ø)` | |\n\n... and [6 files with indirect coverage changes](https://codecov.io/gh/apache/celix/pull/533/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1529977375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1531940815","html_url":"https://github.com/apache/celix/pull/535#issuecomment-1531940815","issue_url":"https://api.github.com/repos/apache/celix/issues/535","id":1531940815,"node_id":"IC_kwDOAVuczs5bT4_P","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-02T18:20:47Z","updated_at":"2023-05-02T18:20:47Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/celix/pull/535?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#535](https://app.codecov.io/gh/apache/celix/pull/535?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (26db310) into [master](https://app.codecov.io/gh/apache/celix/commit/c63c63531c38dd54feecdf6fb6439beb19db8074?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (c63c635) will **decrease** coverage by `0.02%`.\n> The diff coverage is `n/a`.\n\n> :exclamation: Current head 26db310 differs from pull request most recent head 8718b9f. Consider uploading reports for the commit 8718b9f to get more accurate results\n\n```diff\n@@            Coverage Diff             @@\n##           master     #535      +/-   ##\n==========================================\n- Coverage   75.65%   75.64%   -0.02%     \n==========================================\n  Files         225      225              \n  Lines       34439    34439              \n==========================================\n- Hits        26056    26051       -5     \n- Misses       8383     8388       +5     \n```\n\n\n[see 4 files with indirect coverage changes](https://app.codecov.io/gh/apache/celix/pull/535/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1531940815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1532203766","html_url":"https://github.com/apache/celix/pull/536#issuecomment-1532203766","issue_url":"https://api.github.com/repos/apache/celix/issues/536","id":1532203766,"node_id":"IC_kwDOAVuczs5bU5L2","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-02T21:54:20Z","updated_at":"2023-05-05T12:24:23Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/celix/pull/536?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#536](https://app.codecov.io/gh/apache/celix/pull/536?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (2ba2bc2) into [master](https://app.codecov.io/gh/apache/celix/commit/a06675382b27f1902df14d0f2ba3db979d076f05?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (a066753) will **increase** coverage by `0.12%`.\n> The diff coverage is `89.65%`.\n\n> :exclamation: Current head 2ba2bc2 differs from pull request most recent head 8dab662. Consider uploading reports for the commit 8dab662 to get more accurate results\n\n```diff\n@@            Coverage Diff             @@\n##           master     #536      +/-   ##\n==========================================\n+ Coverage   77.39%   77.51%   +0.12%     \n==========================================\n  Files         225      226       +1     \n  Lines       34532    34642     +110     \n==========================================\n+ Hits        26727    26854     +127     \n+ Misses       7805     7788      -17     \n```\n\n\n| [Impacted Files](https://app.codecov.io/gh/apache/celix/pull/536?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [libs/utils/src/celix\\_err.c](https://app.codecov.io/gh/apache/celix/pull/536?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy91dGlscy9zcmMvY2VsaXhfZXJyLmM=) | `87.50% <87.50%> (ø)` | |\n| [libs/utils/src/celix\\_errno.c](https://app.codecov.io/gh/apache/celix/pull/536?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy91dGlscy9zcmMvY2VsaXhfZXJybm8uYw==) | `95.65% <92.59%> (ø)` | |\n| [libs/utils/src/celix\\_threads.c](https://app.codecov.io/gh/apache/celix/pull/536?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy91dGlscy9zcmMvY2VsaXhfdGhyZWFkcy5j) | `77.06% <100.00%> (+1.81%)` | :arrow_up: |\n\n... and [3 files with indirect coverage changes](https://app.codecov.io/gh/apache/celix/pull/536/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1532203766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1533986155","html_url":"https://github.com/apache/celix/pull/537#issuecomment-1533986155","issue_url":"https://api.github.com/repos/apache/celix/issues/537","id":1533986155,"node_id":"IC_kwDOAVuczs5bbsVr","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-04T02:12:54Z","updated_at":"2023-05-04T02:12:54Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/celix/pull/537?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#537](https://app.codecov.io/gh/apache/celix/pull/537?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d541809) into [master](https://app.codecov.io/gh/apache/celix/commit/19529d7af266d857012b63a4796f477af70bd730?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (19529d7) will **increase** coverage by `1.74%`.\n> The diff coverage is `95.53%`.\n\n> :exclamation: Current head d541809 differs from pull request most recent head 8f1f2e2. Consider uploading reports for the commit 8f1f2e2 to get more accurate results\n\n```diff\n@@            Coverage Diff             @@\n##           master     #537      +/-   ##\n==========================================\n+ Coverage   75.65%   77.39%   +1.74%     \n==========================================\n  Files         225      225              \n  Lines       34445    34532      +87     \n==========================================\n+ Hits        26059    26727     +668     \n+ Misses       8386     7805     -581     \n```\n\n\n| [Impacted Files](https://app.codecov.io/gh/apache/celix/pull/537?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ervices/rsa\\_rpc\\_json/src/rsa\\_json\\_rpc\\_proxy\\_impl.c](https://app.codecov.io/gh/apache/celix/pull/537?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcnNhX3JwY19qc29uL3NyYy9yc2FfanNvbl9ycGNfcHJveHlfaW1wbC5j) | `96.75% <78.94%> (+22.11%)` | :arrow_up: |\n| [...n\\_shm\\_v2/rsa\\_shm/src/rsa\\_shm\\_import\\_registration.c](https://app.codecov.io/gh/apache/celix/pull/537?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcmVtb3RlX3NlcnZpY2VfYWRtaW5fc2htX3YyL3JzYV9zaG0vc3JjL3JzYV9zaG1faW1wb3J0X3JlZ2lzdHJhdGlvbi5j) | `98.24% <85.71%> (+31.86%)` | :arrow_up: |\n| [...\\_service\\_admin\\_shm\\_v2/rsa\\_shm/src/rsa\\_shm\\_client.c](https://app.codecov.io/gh/apache/celix/pull/537?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcmVtb3RlX3NlcnZpY2VfYWRtaW5fc2htX3YyL3JzYV9zaG0vc3JjL3JzYV9zaG1fY2xpZW50LmM=) | `92.03% <90.19%> (+31.94%)` | :arrow_up: |\n| [...te\\_service\\_admin\\_shm\\_v2/rsa\\_shm/src/rsa\\_shm\\_impl.c](https://app.codecov.io/gh/apache/celix/pull/537?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcmVtb3RlX3NlcnZpY2VfYWRtaW5fc2htX3YyL3JzYV9zaG0vc3JjL3JzYV9zaG1faW1wbC5j) | `96.89% <97.35%> (+21.76%)` | :arrow_up: |\n| [...rvice\\_admin\\_shm\\_v2/rsa\\_shm/src/rsa\\_shm\\_activator.c](https://app.codecov.io/gh/apache/celix/pull/537?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcmVtb3RlX3NlcnZpY2VfYWRtaW5fc2htX3YyL3JzYV9zaG0vc3JjL3JzYV9zaG1fYWN0aXZhdG9yLmM=) | `100.00% <100.00%> (+22.03%)` | :arrow_up: |\n| [...n\\_shm\\_v2/rsa\\_shm/src/rsa\\_shm\\_export\\_registration.c](https://app.codecov.io/gh/apache/celix/pull/537?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcmVtb3RlX3NlcnZpY2VfYWRtaW5fc2htX3YyL3JzYV9zaG0vc3JjL3JzYV9zaG1fZXhwb3J0X3JlZ2lzdHJhdGlvbi5j) | `100.00% <100.00%> (+23.42%)` | :arrow_up: |\n| [...\\_service\\_admin\\_shm\\_v2/rsa\\_shm/src/rsa\\_shm\\_server.c](https://app.codecov.io/gh/apache/celix/pull/537?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcmVtb3RlX3NlcnZpY2VfYWRtaW5fc2htX3YyL3JzYV9zaG0vc3JjL3JzYV9zaG1fc2VydmVyLmM=) | `92.57% <100.00%> (+33.07%)` | :arrow_up: |\n| [...mote\\_service\\_admin\\_shm\\_v2/shm\\_pool/src/shm\\_cache.c](https://app.codecov.io/gh/apache/celix/pull/537?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcmVtb3RlX3NlcnZpY2VfYWRtaW5fc2htX3YyL3NobV9wb29sL3NyYy9zaG1fY2FjaGUuYw==) | `98.63% <100.00%> (+12.92%)` | :arrow_up: |\n| [...emote\\_service\\_admin\\_shm\\_v2/shm\\_pool/src/shm\\_pool.c](https://app.codecov.io/gh/apache/celix/pull/537?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcmVtb3RlX3NlcnZpY2VfYWRtaW5fc2htX3YyL3NobV9wb29sL3NyYy9zaG1fcG9vbC5j) | `97.22% <100.00%> (+21.75%)` | :arrow_up: |\n| [...services/rsa\\_rpc\\_json/src/rsa\\_json\\_rpc\\_activator.c](https://app.codecov.io/gh/apache/celix/pull/537?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcnNhX3JwY19qc29uL3NyYy9yc2FfanNvbl9ycGNfYWN0aXZhdG9yLmM=) | `100.00% <100.00%> (+21.73%)` | :arrow_up: |\n| ... and [3 more](https://app.codecov.io/gh/apache/celix/pull/537?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n... and [4 files with indirect coverage changes](https://app.codecov.io/gh/apache/celix/pull/537/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1533986155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1535792499","html_url":"https://github.com/apache/celix/pull/542#issuecomment-1535792499","issue_url":"https://api.github.com/repos/apache/celix/issues/542","id":1535792499,"node_id":"IC_kwDOAVuczs5bilVz","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-05T06:45:08Z","updated_at":"2023-05-05T13:05:30Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/celix/pull/542?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#542](https://app.codecov.io/gh/apache/celix/pull/542?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d84bf74) into [master](https://app.codecov.io/gh/apache/celix/commit/c0666d0ec501c54852198a18cf46eda69552ee50?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (c0666d0) will **decrease** coverage by `0.03%`.\n> The diff coverage is `33.33%`.\n\n> :exclamation: Current head d84bf74 differs from pull request most recent head cdc77e0. Consider uploading reports for the commit cdc77e0 to get more accurate results\n\n```diff\n@@            Coverage Diff             @@\n##           master     #542      +/-   ##\n==========================================\n- Coverage   77.43%   77.41%   -0.03%     \n==========================================\n  Files         225      225              \n  Lines       34532    34523       -9     \n==========================================\n- Hits        26739    26725      -14     \n- Misses       7793     7798       +5     \n```\n\n\n| [Impacted Files](https://app.codecov.io/gh/apache/celix/pull/542?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...bsub/pubsub\\_admin\\_udp\\_mc/src/pubsub\\_udpmc\\_common.c](https://app.codecov.io/gh/apache/celix/pull/542?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9wdWJzdWIvcHVic3ViX2FkbWluX3VkcF9tYy9zcmMvcHVic3ViX3VkcG1jX2NvbW1vbi5j) | `0.00% <0.00%> (ø)` | |\n| [...sub\\_admin\\_udp\\_mc/src/pubsub\\_udpmc\\_topic\\_receiver.c](https://app.codecov.io/gh/apache/celix/pull/542?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9wdWJzdWIvcHVic3ViX2FkbWluX3VkcF9tYy9zcmMvcHVic3ViX3VkcG1jX3RvcGljX3JlY2VpdmVyLmM=) | `0.00% <0.00%> (ø)` | |\n| [...lizer\\_avrobin/src/pubsub\\_avrobin\\_serializer\\_impl.c](https://app.codecov.io/gh/apache/celix/pull/542?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9wdWJzdWIvcHVic3ViX3NlcmlhbGl6ZXJfYXZyb2Jpbi9zcmMvcHVic3ViX2F2cm9iaW5fc2VyaWFsaXplcl9pbXBsLmM=) | `5.65% <0.00%> (+0.01%)` | :arrow_up: |\n| [...b/pubsub\\_utils/src/pubsub\\_serialization\\_provider.c](https://app.codecov.io/gh/apache/celix/pull/542?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9wdWJzdWIvcHVic3ViX3V0aWxzL3NyYy9wdWJzdWJfc2VyaWFsaXphdGlvbl9wcm92aWRlci5j) | `67.08% <ø> (ø)` | |\n| [...ubsub/pubsub\\_utils/src/pubsub\\_serializer\\_handler.c](https://app.codecov.io/gh/apache/celix/pull/542?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9wdWJzdWIvcHVic3ViX3V0aWxzL3NyYy9wdWJzdWJfc2VyaWFsaXplcl9oYW5kbGVyLmM=) | `93.47% <ø> (ø)` | |\n| [...te\\_service\\_admin\\_shm\\_v2/rsa\\_shm/src/rsa\\_shm\\_impl.c](https://app.codecov.io/gh/apache/celix/pull/542?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcmVtb3RlX3NlcnZpY2VfYWRtaW5fc2htX3YyL3JzYV9zaG0vc3JjL3JzYV9zaG1faW1wbC5j) | `96.89% <ø> (ø)` | |\n| [...ubsub\\_admin\\_udp\\_mc/src/pubsub\\_udpmc\\_topic\\_sender.c](https://app.codecov.io/gh/apache/celix/pull/542?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9wdWJzdWIvcHVic3ViX2FkbWluX3VkcF9tYy9zcmMvcHVic3ViX3VkcG1jX3RvcGljX3NlbmRlci5j) | `57.31% <20.00%> (+0.76%)` | :arrow_up: |\n| [...ubsub\\_serializer\\_json/src/pubsub\\_serializer\\_impl.c](https://app.codecov.io/gh/apache/celix/pull/542?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9wdWJzdWIvcHVic3ViX3NlcmlhbGl6ZXJfanNvbi9zcmMvcHVic3ViX3NlcmlhbGl6ZXJfaW1wbC5j) | `35.53% <46.66%> (-0.11%)` | :arrow_down: |\n| [...ervices/rsa\\_rpc\\_json/src/rsa\\_json\\_rpc\\_proxy\\_impl.c](https://app.codecov.io/gh/apache/celix/pull/542?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcnNhX3JwY19qc29uL3NyYy9yc2FfanNvbl9ycGNfcHJveHlfaW1wbC5j) | `96.75% <100.00%> (ø)` | |\n| [libs/framework/src/module.c](https://app.codecov.io/gh/apache/celix/pull/542?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvc3JjL21vZHVsZS5j) | `74.36% <100.00%> (+0.72%)` | :arrow_up: |\n\n... and [4 files with indirect coverage changes](https://app.codecov.io/gh/apache/celix/pull/542/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1535792499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1535804739","html_url":"https://github.com/apache/celix/issues/488#issuecomment-1535804739","issue_url":"https://api.github.com/repos/apache/celix/issues/488","id":1535804739,"node_id":"IC_kwDOAVuczs5bioVD","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-05T06:59:07Z","updated_at":"2023-05-05T06:59:07Z","author_association":"CONTRIBUTOR","body":"Duplicate of #215 ","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1535804739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1536193693","html_url":"https://github.com/apache/celix/pull/542#issuecomment-1536193693","issue_url":"https://api.github.com/repos/apache/celix/issues/542","id":1536193693,"node_id":"IC_kwDOAVuczs5bkHSd","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-05T12:31:59Z","updated_at":"2023-05-05T12:31:59Z","author_association":"CONTRIBUTOR","body":"I agree with @pnoltes. Let's merge it for 3.0.0.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1536193693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1536194245","html_url":"https://github.com/apache/celix/pull/537#issuecomment-1536194245","issue_url":"https://api.github.com/repos/apache/celix/issues/537","id":1536194245,"node_id":"IC_kwDOAVuczs5bkHbF","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-05T12:32:29Z","updated_at":"2023-05-05T12:32:29Z","author_association":"CONTRIBUTOR","body":"> Great job! Thanks to the hard working, our test coverage sets a new record. tada\r\n> \r\n> For large PR like this, I strongly suggest waiting for at least one LGTM before merging it.\r\n> \r\n> The deprecation of `utils_stringTrim` is worrysome. @pnoltes The lack of synchronization between shm client and server is also worth noting.\r\n\r\nIndeed great job and good to see a new coverage record :+1: \r\n\r\nConcerning the deprecation of `utils_stringTrim`. I deprecated that function purely because it does not have a `celix_` prefix. \r\nIf we need a `celix_utils_trimInPlace` next to `celix_utils_trim` I see no issue with that.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1536194245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1536277901","html_url":"https://github.com/apache/celix/pull/537#issuecomment-1536277901","issue_url":"https://api.github.com/repos/apache/celix/issues/537","id":1536277901,"node_id":"IC_kwDOAVuczs5bkb2N","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-05T13:39:04Z","updated_at":"2023-05-05T13:39:04Z","author_association":"CONTRIBUTOR","body":">  If we need a celix_utils_trimInPlace next to celix_utils_trim I see no issue with that.\r\n\r\nI'll do that.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1536277901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1537102487","html_url":"https://github.com/apache/celix/pull/544#issuecomment-1537102487","issue_url":"https://api.github.com/repos/apache/celix/issues/544","id":1537102487,"node_id":"IC_kwDOAVuczs5bnlKX","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-06T09:39:08Z","updated_at":"2023-06-10T11:02:51Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/celix/pull/544?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#544](https://app.codecov.io/gh/apache/celix/pull/544?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (3a0661c) into [master](https://app.codecov.io/gh/apache/celix/commit/f9ada53f1923c991a4f73b52880c0808a6e0bfbb?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (f9ada53) will **decrease** coverage by `0.01%`.\n> The diff coverage is `n/a`.\n\n> :exclamation: Current head 3a0661c differs from pull request most recent head 546490e. Consider uploading reports for the commit 546490e to get more accurate results\n\n```diff\n@@            Coverage Diff             @@\n##           master     #544      +/-   ##\n==========================================\n- Coverage   78.03%   78.02%   -0.01%     \n==========================================\n  Files         229      229              \n  Lines       35016    35016              \n==========================================\n- Hits        27324    27322       -2     \n- Misses       7692     7694       +2     \n```\n\n\n| [Impacted Files](https://app.codecov.io/gh/apache/celix/pull/544?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [...xx\\_remote\\_services/admin/src/RemoteServiceAdmin.cc](https://app.codecov.io/gh/apache/celix/pull/544?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-YnVuZGxlcy9jeHhfcmVtb3RlX3NlcnZpY2VzL2FkbWluL3NyYy9SZW1vdGVTZXJ2aWNlQWRtaW4uY2M=) | `78.70% <ø> (ø)` | |\n| [libs/framework/include/celix/Bundle.h](https://app.codecov.io/gh/apache/celix/pull/544?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-bGlicy9mcmFtZXdvcmsvaW5jbHVkZS9jZWxpeC9CdW5kbGUuaA==) | `100.00% <ø> (ø)` | |\n| [libs/framework/include/celix/ServiceRegistration.h](https://app.codecov.io/gh/apache/celix/pull/544?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-bGlicy9mcmFtZXdvcmsvaW5jbHVkZS9jZWxpeC9TZXJ2aWNlUmVnaXN0cmF0aW9uLmg=) | `96.63% <ø> (ø)` | |\n| [libs/framework/include/celix/Trackers.h](https://app.codecov.io/gh/apache/celix/pull/544?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-bGlicy9mcmFtZXdvcmsvaW5jbHVkZS9jZWxpeC9UcmFja2Vycy5o) | `92.00% <ø> (ø)` | |\n| [libs/framework/include/celix/dm/Component.h](https://app.codecov.io/gh/apache/celix/pull/544?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-bGlicy9mcmFtZXdvcmsvaW5jbHVkZS9jZWxpeC9kbS9Db21wb25lbnQuaA==) | `94.44% <ø> (ø)` | |\n| [libs/pushstreams/api/celix/PushEvent.h](https://app.codecov.io/gh/apache/celix/pull/544?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-bGlicy9wdXNoc3RyZWFtcy9hcGkvY2VsaXgvUHVzaEV2ZW50Lmg=) | `75.00% <ø> (ø)` | |\n| [libs/pushstreams/api/celix/PushStream.h](https://app.codecov.io/gh/apache/celix/pull/544?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-bGlicy9wdXNoc3RyZWFtcy9hcGkvY2VsaXgvUHVzaFN0cmVhbS5o) | `95.12% <ø> (ø)` | |\n| [libs/utils/include/celix/Filter.h](https://app.codecov.io/gh/apache/celix/pull/544?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-bGlicy91dGlscy9pbmNsdWRlL2NlbGl4L0ZpbHRlci5o) | `100.00% <ø> (ø)` | |\n\n... and [1 file with indirect coverage changes](https://app.codecov.io/gh/apache/celix/pull/544/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1537102487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1537113946","html_url":"https://github.com/apache/celix/pull/545#issuecomment-1537113946","issue_url":"https://api.github.com/repos/apache/celix/issues/545","id":1537113946,"node_id":"IC_kwDOAVuczs5bnn9a","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-06T10:43:36Z","updated_at":"2023-05-06T12:16:37Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/celix/pull/545?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#545](https://app.codecov.io/gh/apache/celix/pull/545?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (b479055) into [master](https://app.codecov.io/gh/apache/celix/commit/4281d76581bb6c4ea9c869c02c1cef732f1e055b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4281d76) will **decrease** coverage by `0.06%`.\n> The diff coverage is `92.00%`.\n\n> :exclamation: Current head b479055 differs from pull request most recent head d04b2c1. Consider uploading reports for the commit d04b2c1 to get more accurate results\n\n```diff\n@@            Coverage Diff             @@\n##           master     #545      +/-   ##\n==========================================\n- Coverage   77.48%   77.43%   -0.06%     \n==========================================\n  Files         226      226              \n  Lines       34642    34622      -20     \n==========================================\n- Hits        26841    26808      -33     \n- Misses       7801     7814      +13     \n```\n\n\n| [Impacted Files](https://app.codecov.io/gh/apache/celix/pull/545?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...es/pubsub/pubsub\\_admin\\_tcp/src/pubsub\\_tcp\\_common.c](https://app.codecov.io/gh/apache/celix/pull/545?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9wdWJzdWIvcHVic3ViX2FkbWluX3RjcC9zcmMvcHVic3ViX3RjcF9jb21tb24uYw==) | `0.00% <0.00%> (ø)` | |\n| [libs/framework/src/manifest\\_parser.c](https://app.codecov.io/gh/apache/celix/pull/545?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvc3JjL21hbmlmZXN0X3BhcnNlci5j) | `32.06% <0.00%> (ø)` | |\n| [...e\\_service\\_admin\\_dfi/src/remote\\_service\\_admin\\_dfi.c](https://app.codecov.io/gh/apache/celix/pull/545?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcmVtb3RlX3NlcnZpY2VfYWRtaW5fZGZpL3NyYy9yZW1vdGVfc2VydmljZV9hZG1pbl9kZmkuYw==) | `84.82% <100.00%> (ø)` | |\n| [...n\\_shm\\_v2/rsa\\_shm/src/rsa\\_shm\\_export\\_registration.c](https://app.codecov.io/gh/apache/celix/pull/545?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcmVtb3RlX3NlcnZpY2VfYWRtaW5fc2htX3YyL3JzYV9zaG0vc3JjL3JzYV9zaG1fZXhwb3J0X3JlZ2lzdHJhdGlvbi5j) | `100.00% <100.00%> (ø)` | |\n| [...te\\_service\\_admin\\_shm\\_v2/rsa\\_shm/src/rsa\\_shm\\_impl.c](https://app.codecov.io/gh/apache/celix/pull/545?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcmVtb3RlX3NlcnZpY2VfYWRtaW5fc2htX3YyL3JzYV9zaG0vc3JjL3JzYV9zaG1faW1wbC5j) | `96.78% <100.00%> (-0.12%)` | :arrow_down: |\n| [...n\\_shm\\_v2/rsa\\_shm/src/rsa\\_shm\\_import\\_registration.c](https://app.codecov.io/gh/apache/celix/pull/545?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcmVtb3RlX3NlcnZpY2VfYWRtaW5fc2htX3YyL3JzYV9zaG0vc3JjL3JzYV9zaG1faW1wb3J0X3JlZ2lzdHJhdGlvbi5j) | `98.19% <100.00%> (-0.05%)` | :arrow_down: |\n| [bundles/shell/shell\\_tui/src/shell\\_tui.c](https://app.codecov.io/gh/apache/celix/pull/545?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9zaGVsbC9zaGVsbF90dWkvc3JjL3NoZWxsX3R1aS5j) | `79.29% <100.00%> (ø)` | |\n| [libs/framework/src/module.c](https://app.codecov.io/gh/apache/celix/pull/545?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvc3JjL21vZHVsZS5j) | `74.36% <100.00%> (ø)` | |\n| [libs/utils/src/celix\\_convert\\_utils.c](https://app.codecov.io/gh/apache/celix/pull/545?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy91dGlscy9zcmMvY2VsaXhfY29udmVydF91dGlscy5j) | `100.00% <100.00%> (ø)` | |\n| [libs/utils/src/properties.c](https://app.codecov.io/gh/apache/celix/pull/545?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy91dGlscy9zcmMvcHJvcGVydGllcy5j) | `80.90% <100.00%> (ø)` | |\n| ... and [1 more](https://app.codecov.io/gh/apache/celix/pull/545?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n... and [7 files with indirect coverage changes](https://app.codecov.io/gh/apache/celix/pull/545/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1537113946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1537121392","html_url":"https://github.com/apache/celix/issues/152#issuecomment-1537121392","issue_url":"https://api.github.com/repos/apache/celix/issues/152","id":1537121392,"node_id":"IC_kwDOAVuczs5bnpxw","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-06T11:28:25Z","updated_at":"2023-05-06T11:28:25Z","author_association":"CONTRIBUTOR","body":"Both the `utils` and `framework` libraries now contain an include_deprecated directory, and the functions within those headers are marked as deprecated using the corresponding DEPRECATED_EXPORT export header definition.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1537121392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1537285532","html_url":"https://github.com/apache/celix/pull/546#issuecomment-1537285532","issue_url":"https://api.github.com/repos/apache/celix/issues/546","id":1537285532,"node_id":"IC_kwDOAVuczs5boR2c","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-07T04:21:54Z","updated_at":"2023-05-07T04:48:14Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/celix/pull/546?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#546](https://app.codecov.io/gh/apache/celix/pull/546?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (b3bf5bd) into [master](https://app.codecov.io/gh/apache/celix/commit/4281d76581bb6c4ea9c869c02c1cef732f1e055b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4281d76) will **decrease** coverage by `0.01%`.\n> The diff coverage is `94.73%`.\n\n> :exclamation: Current head b3bf5bd differs from pull request most recent head 2f9a8ab. Consider uploading reports for the commit 2f9a8ab to get more accurate results\n\n```diff\n@@            Coverage Diff             @@\n##           master     #546      +/-   ##\n==========================================\n- Coverage   77.48%   77.47%   -0.01%     \n==========================================\n  Files         226      226              \n  Lines       34642    34642              \n==========================================\n- Hits        26841    26838       -3     \n- Misses       7801     7804       +3     \n```\n\n\n| [Impacted Files](https://app.codecov.io/gh/apache/celix/pull/546?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [libs/framework/src/service\\_tracker.c](https://app.codecov.io/gh/apache/celix/pull/546?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvc3JjL3NlcnZpY2VfdHJhY2tlci5j) | `78.12% <87.50%> (ø)` | |\n| [bundles/shell/shell/src/c\\_shell\\_activator.c](https://app.codecov.io/gh/apache/celix/pull/546?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9zaGVsbC9zaGVsbC9zcmMvY19zaGVsbF9hY3RpdmF0b3IuYw==) | `90.32% <100.00%> (ø)` | |\n\n... and [5 files with indirect coverage changes](https://app.codecov.io/gh/apache/celix/pull/546/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1537285532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1537428479","html_url":"https://github.com/apache/celix/pull/547#issuecomment-1537428479","issue_url":"https://api.github.com/repos/apache/celix/issues/547","id":1537428479,"node_id":"IC_kwDOAVuczs5bo0v_","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-07T12:22:59Z","updated_at":"2023-05-11T20:18:40Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/celix/pull/547?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#547](https://app.codecov.io/gh/apache/celix/pull/547?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (2e8c27d) into [master](https://app.codecov.io/gh/apache/celix/commit/63a008d8dc398cbcc6fa9e67e9aac7afb919b6bd?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (63a008d) will **increase** coverage by `0.14%`.\n> The diff coverage is `98.13%`.\n\n> :exclamation: Current head 2e8c27d differs from pull request most recent head de6ec07. Consider uploading reports for the commit de6ec07 to get more accurate results\n\n```diff\n@@            Coverage Diff             @@\n##           master     #547      +/-   ##\n==========================================\n+ Coverage   77.45%   77.59%   +0.14%     \n==========================================\n  Files         226      229       +3     \n  Lines       34642    34892     +250     \n==========================================\n+ Hits        26832    27075     +243     \n- Misses       7810     7817       +7     \n```\n\n\n| [Impacted Files](https://app.codecov.io/gh/apache/celix/pull/547?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...es/pubsub/pubsub\\_admin\\_tcp/src/pubsub\\_tcp\\_common.c](https://app.codecov.io/gh/apache/celix/pull/547?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9wdWJzdWIvcHVic3ViX2FkbWluX3RjcC9zcmMvcHVic3ViX3RjcF9jb21tb24uYw==) | `0.00% <0.00%> (ø)` | |\n| [libs/framework/src/manifest\\_parser.c](https://app.codecov.io/gh/apache/celix/pull/547?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvc3JjL21hbmlmZXN0X3BhcnNlci5j) | `32.06% <0.00%> (ø)` | |\n| [libs/framework/src/celix\\_libloader.c](https://app.codecov.io/gh/apache/celix/pull/547?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvc3JjL2NlbGl4X2xpYmxvYWRlci5j) | `85.10% <85.71%> (-9.64%)` | :arrow_down: |\n| [...e\\_service\\_admin\\_dfi/src/remote\\_service\\_admin\\_dfi.c](https://app.codecov.io/gh/apache/celix/pull/547?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcmVtb3RlX3NlcnZpY2VfYWRtaW5fZGZpL3NyYy9yZW1vdGVfc2VydmljZV9hZG1pbl9kZmkuYw==) | `84.82% <100.00%> (ø)` | |\n| [...n\\_shm\\_v2/rsa\\_shm/src/rsa\\_shm\\_export\\_registration.c](https://app.codecov.io/gh/apache/celix/pull/547?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcmVtb3RlX3NlcnZpY2VfYWRtaW5fc2htX3YyL3JzYV9zaG0vc3JjL3JzYV9zaG1fZXhwb3J0X3JlZ2lzdHJhdGlvbi5j) | `100.00% <100.00%> (ø)` | |\n| [...te\\_service\\_admin\\_shm\\_v2/rsa\\_shm/src/rsa\\_shm\\_impl.c](https://app.codecov.io/gh/apache/celix/pull/547?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcmVtb3RlX3NlcnZpY2VfYWRtaW5fc2htX3YyL3JzYV9zaG0vc3JjL3JzYV9zaG1faW1wbC5j) | `96.78% <100.00%> (-0.12%)` | :arrow_down: |\n| [...n\\_shm\\_v2/rsa\\_shm/src/rsa\\_shm\\_import\\_registration.c](https://app.codecov.io/gh/apache/celix/pull/547?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcmVtb3RlX3NlcnZpY2VfYWRtaW5fc2htX3YyL3JzYV9zaG0vc3JjL3JzYV9zaG1faW1wb3J0X3JlZ2lzdHJhdGlvbi5j) | `98.19% <100.00%> (-0.05%)` | :arrow_down: |\n| [bundles/shell/shell\\_tui/src/shell\\_tui.c](https://app.codecov.io/gh/apache/celix/pull/547?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9zaGVsbC9zaGVsbF90dWkvc3JjL3NoZWxsX3R1aS5j) | `79.29% <100.00%> (ø)` | |\n| [libs/framework/src/framework.c](https://app.codecov.io/gh/apache/celix/pull/547?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvc3JjL2ZyYW1ld29yay5j) | `77.46% <100.00%> (+0.10%)` | :arrow_up: |\n| [libs/framework/src/module.c](https://app.codecov.io/gh/apache/celix/pull/547?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvc3JjL21vZHVsZS5j) | `74.36% <100.00%> (ø)` | |\n| ... and [6 more](https://app.codecov.io/gh/apache/celix/pull/547?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n... and [2 files with indirect coverage changes](https://app.codecov.io/gh/apache/celix/pull/547/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1537428479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1537507382","html_url":"https://github.com/apache/celix/pull/548#issuecomment-1537507382","issue_url":"https://api.github.com/repos/apache/celix/issues/548","id":1537507382,"node_id":"IC_kwDOAVuczs5bpIA2","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-07T18:08:42Z","updated_at":"2023-05-07T18:13:27Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/celix/pull/548?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#548](https://app.codecov.io/gh/apache/celix/pull/548?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d1fc8d4) into [master](https://app.codecov.io/gh/apache/celix/commit/63a008d8dc398cbcc6fa9e67e9aac7afb919b6bd?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (63a008d) will **increase** coverage by `0.01%`.\n> The diff coverage is `90.69%`.\n\n> :exclamation: Current head d1fc8d4 differs from pull request most recent head 90ffe52. Consider uploading reports for the commit 90ffe52 to get more accurate results\n\n```diff\n@@            Coverage Diff             @@\n##           master     #548      +/-   ##\n==========================================\n+ Coverage   77.45%   77.46%   +0.01%     \n==========================================\n  Files         226      226              \n  Lines       34642    34659      +17     \n==========================================\n+ Hits        26832    26850      +18     \n+ Misses       7810     7809       -1     \n```\n\n\n| [Impacted Files](https://app.codecov.io/gh/apache/celix/pull/548?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [libs/framework/src/celix\\_libloader.c](https://app.codecov.io/gh/apache/celix/pull/548?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvc3JjL2NlbGl4X2xpYmxvYWRlci5j) | `85.10% <85.71%> (-9.64%)` | :arrow_down: |\n| [libs/framework/src/framework.c](https://app.codecov.io/gh/apache/celix/pull/548?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvc3JjL2ZyYW1ld29yay5j) | `77.46% <100.00%> (+0.10%)` | :arrow_up: |\n\n... and [4 files with indirect coverage changes](https://app.codecov.io/gh/apache/celix/pull/548/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1537507382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1538023846","html_url":"https://github.com/apache/celix/pull/306#issuecomment-1538023846","issue_url":"https://api.github.com/repos/apache/celix/issues/306","id":1538023846,"node_id":"IC_kwDOAVuczs5brGGm","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-08T09:07:13Z","updated_at":"2023-05-08T09:07:13Z","author_association":"CONTRIBUTOR","body":"Advanced mechanism is needed to support export/import library in C/C++.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1538023846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1538031685","html_url":"https://github.com/apache/celix/pull/301#issuecomment-1538031685","issue_url":"https://api.github.com/repos/apache/celix/issues/301","id":1538031685,"node_id":"IC_kwDOAVuczs5brIBF","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-08T09:12:16Z","updated_at":"2023-05-08T09:12:16Z","author_association":"CONTRIBUTOR","body":"It should have been fixed by #476 ","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1538031685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1539266517","html_url":"https://github.com/apache/celix/issues/503#issuecomment-1539266517","issue_url":"https://api.github.com/repos/apache/celix/issues/503","id":1539266517,"node_id":"IC_kwDOAVuczs5bv1fV","user":{"login":"xuzhenbao","id":43104033,"node_id":"MDQ6VXNlcjQzMTA0MDMz","avatar_url":"https://avatars.githubusercontent.com/u/43104033?v=4","gravatar_id":"","url":"https://api.github.com/users/xuzhenbao","html_url":"https://github.com/xuzhenbao","followers_url":"https://api.github.com/users/xuzhenbao/followers","following_url":"https://api.github.com/users/xuzhenbao/following{/other_user}","gists_url":"https://api.github.com/users/xuzhenbao/gists{/gist_id}","starred_url":"https://api.github.com/users/xuzhenbao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xuzhenbao/subscriptions","organizations_url":"https://api.github.com/users/xuzhenbao/orgs","repos_url":"https://api.github.com/users/xuzhenbao/repos","events_url":"https://api.github.com/users/xuzhenbao/events{/privacy}","received_events_url":"https://api.github.com/users/xuzhenbao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-09T01:32:27Z","updated_at":"2023-05-09T01:32:27Z","author_association":"CONTRIBUTOR","body":"Now，we have celix_err, but how do we feed its error messages to the logHelper?\r\nHow about do it in function `celix_logHelper_vlogDetails`, as follows:\r\n~~~\r\nvoid celix_logHelper_vlogDetails(celix_log_helper_t* logHelper, celix_log_level_e level, const char* file, const char* function, int line, const char *format, va_list formatArgs) {\r\n    if (level == CELIX_LOG_LEVEL_DISABLED) {\r\n        //silently ignore\r\n        celix_err_resetErrors();\r\n        return;\r\n    }\r\n    if (level >= logHelper->activeLogLevel) {\r\n        celixThreadMutex_lock(&logHelper->mutex);\r\n        celix_log_service_t* ls = logHelper->logService;\r\n        if (ls != NULL) {\r\n            ls->vlog(ls->handle, level, format, formatArgs);\r\n            for (const char *errMsg = celix_err_popLastError(); errMsg != NULL; errMsg = celix_err_popLastError()) {\r\n                ls->log(ls->handle, level, \"%s\", errMsg);\r\n            }\r\n        } else {\r\n            //falling back on stdout/stderr\r\n            celix_logUtils_vLogToStdout(logHelper->logServiceName, level, format, formatArgs);\r\n            for (const char *errMsg = celix_err_popLastError(); errMsg != NULL; errMsg = celix_err_popLastError()) {\r\n                celix_logUtils_logToStdout(logHelper->logServiceName, level, \"%s\", errMsg);\r\n            }\r\n        }\r\n        logHelper->logCount += 1;\r\n        celixThreadMutex_unlock(&logHelper->mutex);\r\n    }\r\n    celix_err_resetErrors();\r\n}\r\n~~~","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1539266517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1540160676","html_url":"https://github.com/apache/celix/issues/503#issuecomment-1540160676","issue_url":"https://api.github.com/repos/apache/celix/issues/503","id":1540160676,"node_id":"IC_kwDOAVuczs5bzPyk","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-09T13:47:34Z","updated_at":"2023-05-09T13:58:31Z","author_association":"CONTRIBUTOR","body":"I see several issues with this prototype:\r\n\r\n1. Weird semantics. Why  trying to log a trace message will dump the err?\r\n2. Inefficiency. Try `celix_err_popLastError` will allocation the err per-thread-storage, even if there is no user of err in this thread.\r\n3. Reduced usefulness of stacked error message. The current implementation output err messages one by one, which will be interleaved by other log messages in multi-threaded application.\r\n\r\nThe last issue may be solved by collecting err messages into array of predefined size, e.g. 16 (which means we only output 16 levels of the whole err hierarchy), then outputting the array at once by \"%s\\n%s\\n%s...%s\".\r\n\r\nDesigning a easy to use interface with the correct semantics is more important IMHO. \r\nMaybe @pnoltes could provide us some suggestion.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1540160676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1543852685","html_url":"https://github.com/apache/celix/pull/550#issuecomment-1543852685","issue_url":"https://api.github.com/repos/apache/celix/issues/550","id":1543852685,"node_id":"IC_kwDOAVuczs5cBVKN","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-11T11:49:48Z","updated_at":"2023-05-11T11:49:48Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/celix/pull/550?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#550](https://app.codecov.io/gh/apache/celix/pull/550?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (748f0c6) into [master](https://app.codecov.io/gh/apache/celix/commit/fc18c65d66918b8223e85944b910f9c15776947b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (fc18c65) will **increase** coverage by `0.06%`.\n> The diff coverage is `100.00%`.\n\n> :exclamation: Current head 748f0c6 differs from pull request most recent head b2be044. Consider uploading reports for the commit b2be044 to get more accurate results\n\n```diff\n@@            Coverage Diff             @@\n##           master     #550      +/-   ##\n==========================================\n+ Coverage   77.43%   77.50%   +0.06%     \n==========================================\n  Files         226      226              \n  Lines       34639    34688      +49     \n==========================================\n+ Hits        26824    26884      +60     \n+ Misses       7815     7804      -11     \n```\n\n\n| [Impacted Files](https://app.codecov.io/gh/apache/celix/pull/550?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [bundles/logging/log\\_admin/src/celix\\_log\\_admin.c](https://app.codecov.io/gh/apache/celix/pull/550?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9sb2dnaW5nL2xvZ19hZG1pbi9zcmMvY2VsaXhfbG9nX2FkbWluLmM=) | `99.76% <100.00%> (+0.02%)` | :arrow_up: |\n| [bundles/logging/log\\_helper/src/celix\\_log\\_helper.c](https://app.codecov.io/gh/apache/celix/pull/550?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9sb2dnaW5nL2xvZ19oZWxwZXIvc3JjL2NlbGl4X2xvZ19oZWxwZXIuYw==) | `100.00% <100.00%> (ø)` | |\n\n... and [3 files with indirect coverage changes](https://app.codecov.io/gh/apache/celix/pull/550/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1543852685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1544536573","html_url":"https://github.com/apache/celix/pull/544#issuecomment-1544536573","issue_url":"https://api.github.com/repos/apache/celix/issues/544","id":1544536573,"node_id":"IC_kwDOAVuczs5cD8H9","user":{"login":"rlenferink","id":10008950,"node_id":"MDQ6VXNlcjEwMDA4OTUw","avatar_url":"https://avatars.githubusercontent.com/u/10008950?v=4","gravatar_id":"","url":"https://api.github.com/users/rlenferink","html_url":"https://github.com/rlenferink","followers_url":"https://api.github.com/users/rlenferink/followers","following_url":"https://api.github.com/users/rlenferink/following{/other_user}","gists_url":"https://api.github.com/users/rlenferink/gists{/gist_id}","starred_url":"https://api.github.com/users/rlenferink/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rlenferink/subscriptions","organizations_url":"https://api.github.com/users/rlenferink/orgs","repos_url":"https://api.github.com/users/rlenferink/repos","events_url":"https://api.github.com/users/rlenferink/events{/privacy}","received_events_url":"https://api.github.com/users/rlenferink/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-11T19:07:15Z","updated_at":"2023-05-11T19:07:15Z","author_association":"MEMBER","body":"/cc @WopsS maybe you will find this an interesting PR as well ;)","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1544536573/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1545028839","html_url":"https://github.com/apache/celix/pull/551#issuecomment-1545028839","issue_url":"https://api.github.com/repos/apache/celix/issues/551","id":1545028839,"node_id":"IC_kwDOAVuczs5cF0Tn","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-12T02:46:55Z","updated_at":"2023-05-12T11:49:57Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/celix/pull/551?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#551](https://app.codecov.io/gh/apache/celix/pull/551?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (977a5b3) into [master](https://app.codecov.io/gh/apache/celix/commit/fc18c65d66918b8223e85944b910f9c15776947b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (fc18c65) will **increase** coverage by `0.53%`.\n> The diff coverage is `99.76%`.\n\n> :exclamation: Current head 977a5b3 differs from pull request most recent head 3c90372. Consider uploading reports for the commit 3c90372 to get more accurate results\n\n```diff\n@@            Coverage Diff             @@\n##           master     #551      +/-   ##\n==========================================\n+ Coverage   77.43%   77.96%   +0.53%     \n==========================================\n  Files         226      230       +4     \n  Lines       34639    35014     +375     \n==========================================\n+ Hits        26824    27300     +476     \n+ Misses       7815     7714     -101     \n```\n\n\n| [Impacted Files](https://app.codecov.io/gh/apache/celix/pull/551?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...mote\\_service\\_admin\\_shm\\_v2/shm\\_pool/src/shm\\_cache.c](https://app.codecov.io/gh/apache/celix/pull/551?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcmVtb3RlX3NlcnZpY2VfYWRtaW5fc2htX3YyL3NobV9wb29sL3NyYy9zaG1fY2FjaGUuYw==) | `98.63% <ø> (ø)` | |\n| [...emote\\_service\\_admin\\_shm\\_v2/shm\\_pool/src/shm\\_pool.c](https://app.codecov.io/gh/apache/celix/pull/551?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcmVtb3RlX3NlcnZpY2VfYWRtaW5fc2htX3YyL3NobV9wb29sL3NyYy9zaG1fcG9vbC5j) | `97.22% <ø> (ø)` | |\n| [libs/framework/src/dm\\_dependency\\_manager\\_impl.c](https://app.codecov.io/gh/apache/celix/pull/551?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvc3JjL2RtX2RlcGVuZGVuY3lfbWFuYWdlcl9pbXBsLmM=) | `79.47% <93.33%> (-0.26%)` | :arrow_down: |\n| [bundles/logging/log\\_admin/src/celix\\_log\\_admin.c](https://app.codecov.io/gh/apache/celix/pull/551?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9sb2dnaW5nL2xvZ19hZG1pbi9zcmMvY2VsaXhfbG9nX2FkbWluLmM=) | `99.76% <100.00%> (+0.02%)` | :arrow_up: |\n| [bundles/logging/log\\_helper/src/celix\\_log\\_helper.c](https://app.codecov.io/gh/apache/celix/pull/551?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9sb2dnaW5nL2xvZ19oZWxwZXIvc3JjL2NlbGl4X2xvZ19oZWxwZXIuYw==) | `100.00% <100.00%> (ø)` | |\n| [...\\_service\\_admin\\_shm\\_v2/rsa\\_shm/src/rsa\\_shm\\_client.c](https://app.codecov.io/gh/apache/celix/pull/551?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcmVtb3RlX3NlcnZpY2VfYWRtaW5fc2htX3YyL3JzYV9zaG0vc3JjL3JzYV9zaG1fY2xpZW50LmM=) | `94.81% <100.00%> (+2.36%)` | :arrow_up: |\n| [...n\\_shm\\_v2/rsa\\_shm/src/rsa\\_shm\\_export\\_registration.c](https://app.codecov.io/gh/apache/celix/pull/551?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcmVtb3RlX3NlcnZpY2VfYWRtaW5fc2htX3YyL3JzYV9zaG0vc3JjL3JzYV9zaG1fZXhwb3J0X3JlZ2lzdHJhdGlvbi5j) | `100.00% <100.00%> (ø)` | |\n| [...te\\_service\\_admin\\_shm\\_v2/rsa\\_shm/src/rsa\\_shm\\_impl.c](https://app.codecov.io/gh/apache/celix/pull/551?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcmVtb3RlX3NlcnZpY2VfYWRtaW5fc2htX3YyL3JzYV9zaG0vc3JjL3JzYV9zaG1faW1wbC5j) | `96.81% <100.00%> (+0.03%)` | :arrow_up: |\n| [...\\_service\\_admin\\_shm\\_v2/rsa\\_shm/src/rsa\\_shm\\_server.c](https://app.codecov.io/gh/apache/celix/pull/551?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcmVtb3RlX3NlcnZpY2VfYWRtaW5fc2htX3YyL3JzYV9zaG0vc3JjL3JzYV9zaG1fc2VydmVyLmM=) | `92.57% <100.00%> (ø)` | |\n| [...ote\\_services/rsa\\_common/src/endpoint\\_description.c](https://app.codecov.io/gh/apache/celix/pull/551?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9yZW1vdGVfc2VydmljZXMvcnNhX2NvbW1vbi9zcmMvZW5kcG9pbnRfZGVzY3JpcHRpb24uYw==) | `100.00% <100.00%> (ø)` | |\n| ... and [7 more](https://app.codecov.io/gh/apache/celix/pull/551?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n... and [8 files with indirect coverage changes](https://app.codecov.io/gh/apache/celix/pull/551/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1545028839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1545334940","html_url":"https://github.com/apache/celix/pull/553#issuecomment-1545334940","issue_url":"https://api.github.com/repos/apache/celix/issues/553","id":1545334940,"node_id":"IC_kwDOAVuczs5cG_Cc","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-12T07:57:15Z","updated_at":"2023-05-12T07:57:15Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/celix/pull/553?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#553](https://app.codecov.io/gh/apache/celix/pull/553?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e7b53f5) into [master](https://app.codecov.io/gh/apache/celix/commit/fc18c65d66918b8223e85944b910f9c15776947b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (fc18c65) will **increase** coverage by `0.22%`.\n> The diff coverage is `99.70%`.\n\n> :exclamation: Current head e7b53f5 differs from pull request most recent head c907d6a. Consider uploading reports for the commit c907d6a to get more accurate results\n\n```diff\n@@            Coverage Diff             @@\n##           master     #553      +/-   ##\n==========================================\n+ Coverage   77.43%   77.66%   +0.22%     \n==========================================\n  Files         226      229       +3     \n  Lines       34639    34928     +289     \n==========================================\n+ Hits        26824    27126     +302     \n+ Misses       7815     7802      -13     \n```\n\n\n| [Impacted Files](https://app.codecov.io/gh/apache/celix/pull/553?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [libs/framework/src/dm\\_dependency\\_manager\\_impl.c](https://app.codecov.io/gh/apache/celix/pull/553?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvc3JjL2RtX2RlcGVuZGVuY3lfbWFuYWdlcl9pbXBsLmM=) | `79.47% <93.33%> (-0.26%)` | :arrow_down: |\n| [bundles/logging/log\\_admin/src/celix\\_log\\_admin.c](https://app.codecov.io/gh/apache/celix/pull/553?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9sb2dnaW5nL2xvZ19hZG1pbi9zcmMvY2VsaXhfbG9nX2FkbWluLmM=) | `99.76% <100.00%> (+0.02%)` | :arrow_up: |\n| [bundles/logging/log\\_helper/src/celix\\_log\\_helper.c](https://app.codecov.io/gh/apache/celix/pull/553?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnVuZGxlcy9sb2dnaW5nL2xvZ19oZWxwZXIvc3JjL2NlbGl4X2xvZ19oZWxwZXIuYw==) | `100.00% <100.00%> (ø)` | |\n| [libs/framework/src/framework.c](https://app.codecov.io/gh/apache/celix/pull/553?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9mcmFtZXdvcmsvc3JjL2ZyYW1ld29yay5j) | `77.71% <100.00%> (+0.24%)` | :arrow_up: |\n| [libs/rcm/src/celix\\_capability.c](https://app.codecov.io/gh/apache/celix/pull/553?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9yY20vc3JjL2NlbGl4X2NhcGFiaWxpdHkuYw==) | `100.00% <100.00%> (ø)` | |\n| [libs/rcm/src/celix\\_requirement.c](https://app.codecov.io/gh/apache/celix/pull/553?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9yY20vc3JjL2NlbGl4X3JlcXVpcmVtZW50LmM=) | `100.00% <100.00%> (ø)` | |\n| [libs/rcm/src/celix\\_resource.c](https://app.codecov.io/gh/apache/celix/pull/553?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGlicy9yY20vc3JjL2NlbGl4X3Jlc291cmNlLmM=) | `100.00% <100.00%> (ø)` | |\n\n... and [3 files with indirect coverage changes](https://app.codecov.io/gh/apache/celix/pull/553/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1545334940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1545854591","html_url":"https://github.com/apache/celix/pull/554#issuecomment-1545854591","issue_url":"https://api.github.com/repos/apache/celix/issues/554","id":1545854591,"node_id":"IC_kwDOAVuczs5cI95_","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-12T14:41:58Z","updated_at":"2023-05-13T04:04:26Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/celix/pull/554?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#554](https://app.codecov.io/gh/apache/celix/pull/554?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (24587e0) into [master](https://app.codecov.io/gh/apache/celix/commit/29cb4a3b0fb7064aa1546efaa9b4a05e38cf1144?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (29cb4a3) will **increase** coverage by `0.06%`.\n> The diff coverage is `100.00%`.\n\n> :exclamation: Current head 24587e0 differs from pull request most recent head b1ab9ca. Consider uploading reports for the commit b1ab9ca to get more accurate results\n\n```diff\n@@            Coverage Diff             @@\n##           master     #554      +/-   ##\n==========================================\n+ Coverage   77.65%   77.72%   +0.06%     \n==========================================\n  Files         229      229              \n  Lines       34928    34928              \n==========================================\n+ Hits        27125    27149      +24     \n+ Misses       7803     7779      -24     \n```\n\n\n| [Impacted Files](https://app.codecov.io/gh/apache/celix/pull/554?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [libs/framework/src/framework.c](https://app.codecov.io/gh/apache/celix/pull/554?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-bGlicy9mcmFtZXdvcmsvc3JjL2ZyYW1ld29yay5j) | `77.71% <100.00%> (ø)` | |\n| [...framework/src/framework\\_bundle\\_lifecycle\\_handler.c](https://app.codecov.io/gh/apache/celix/pull/554?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-bGlicy9mcmFtZXdvcmsvc3JjL2ZyYW1ld29ya19idW5kbGVfbGlmZWN5Y2xlX2hhbmRsZXIuYw==) | `55.67% <100.00%> (ø)` | |\n\n... and [5 files with indirect coverage changes](https://app.codecov.io/gh/apache/celix/pull/554/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1545854591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1546111509","html_url":"https://github.com/apache/celix/pull/544#issuecomment-1546111509","issue_url":"https://api.github.com/repos/apache/celix/issues/544","id":1546111509,"node_id":"IC_kwDOAVuczs5cJ8oV","user":{"login":"wopss","id":3403191,"node_id":"MDQ6VXNlcjM0MDMxOTE=","avatar_url":"https://avatars.githubusercontent.com/u/3403191?v=4","gravatar_id":"","url":"https://api.github.com/users/wopss","html_url":"https://github.com/wopss","followers_url":"https://api.github.com/users/wopss/followers","following_url":"https://api.github.com/users/wopss/following{/other_user}","gists_url":"https://api.github.com/users/wopss/gists{/gist_id}","starred_url":"https://api.github.com/users/wopss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wopss/subscriptions","organizations_url":"https://api.github.com/users/wopss/orgs","repos_url":"https://api.github.com/users/wopss/repos","events_url":"https://api.github.com/users/wopss/events{/privacy}","received_events_url":"https://api.github.com/users/wopss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-12T18:15:00Z","updated_at":"2023-05-12T18:15:00Z","author_association":"NONE","body":"Good job for writing all of these!\r\n\r\nSince some things can be overseen in reviews I suggest to setup a workflow to check the formatting of new C++ code. If this is a good idea I can submit a PR for it.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1546111509/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1546591538","html_url":"https://github.com/apache/celix/pull/551#issuecomment-1546591538","issue_url":"https://api.github.com/repos/apache/celix/issues/551","id":1546591538,"node_id":"IC_kwDOAVuczs5cLx0y","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-13T08:03:15Z","updated_at":"2023-05-13T08:03:15Z","author_association":"CONTRIBUTOR","body":"I also would like to review this, so please keep this PR open for at least a few more days","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1546591538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1546617041","html_url":"https://github.com/apache/celix/issues/540#issuecomment-1546617041","issue_url":"https://api.github.com/repos/apache/celix/issues/540","id":1546617041,"node_id":"IC_kwDOAVuczs5cL4DR","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-13T10:29:30Z","updated_at":"2023-05-13T10:30:35Z","author_association":"CONTRIBUTOR","body":"If there are no resources allocated by the client are passing to the server, there is no need to sync before the client stops so that it can release these resources.\r\n\r\nNote that `pthread_cond_destroy` and `pthread_cond_destroy` does not essentially release anything. We can forget and go at the client side.\r\n\r\nhttps://github.com/bminor/glibc/blob/ae612c45efb5e34713859a5facf92368307efb6e/nptl/pthread_cond_destroy.c\r\nhttps://github.com/bminor/glibc/blob/ae612c45efb5e34713859a5facf92368307efb6e/nptl/pthread_mutex_destroy.c","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1546617041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1549392565","html_url":"https://github.com/apache/celix/pull/544#issuecomment-1549392565","issue_url":"https://api.github.com/repos/apache/celix/issues/544","id":1549392565,"node_id":"IC_kwDOAVuczs5cWdq1","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-16T10:19:12Z","updated_at":"2023-05-16T10:19:12Z","author_association":"CONTRIBUTOR","body":"> Good job\r\n\r\nThanks. \r\nYes I think that is a good idea, ideally this only applies for adjusted code and new source files but I would be interested in workflow that can help us with ensuring consistent formatting. ","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1549392565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1552300595","html_url":"https://github.com/apache/celix/pull/558#issuecomment-1552300595","issue_url":"https://api.github.com/repos/apache/celix/issues/558","id":1552300595,"node_id":"IC_kwDOAVuczs5chjoz","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-18T01:56:21Z","updated_at":"2023-05-18T02:01:26Z","author_association":"NONE","body":"## [Codecov](https://app.codecov.io/gh/apache/celix/pull/558?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) Report\n> Merging [#558](https://app.codecov.io/gh/apache/celix/pull/558?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (db07a06) into [master](https://app.codecov.io/gh/apache/celix/commit/eaa79e00dd3fb999bcd4c221657eb88e2fe837cf?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) (eaa79e0) will **increase** coverage by `0.13%`.\n> The diff coverage is `98.01%`.\n\n> :exclamation: Current head db07a06 differs from pull request most recent head 821ab60. Consider uploading reports for the commit 821ab60 to get more accurate results\n\n```diff\n@@            Coverage Diff             @@\n##           master     #558      +/-   ##\n==========================================\n+ Coverage   77.65%   77.79%   +0.13%     \n==========================================\n  Files         229      229              \n  Lines       34928    34943      +15     \n==========================================\n+ Hits        27125    27185      +60     \n+ Misses       7803     7758      -45     \n```\n\n\n| [Impacted Files](https://app.codecov.io/gh/apache/celix/pull/558?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache) | Coverage Δ | |\n|---|---|---|\n| [libs/framework/src/celix\\_bundle\\_cache.c](https://app.codecov.io/gh/apache/celix/pull/558?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-bGlicy9mcmFtZXdvcmsvc3JjL2NlbGl4X2J1bmRsZV9jYWNoZS5j) | `98.02% <97.75%> (+9.07%)` | :arrow_up: |\n| [libs/framework/src/bundle\\_archive.c](https://app.codecov.io/gh/apache/celix/pull/558?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-bGlicy9mcmFtZXdvcmsvc3JjL2J1bmRsZV9hcmNoaXZlLmM=) | `73.27% <100.00%> (+5.15%)` | :arrow_up: |\n| [libs/framework/src/framework.c](https://app.codecov.io/gh/apache/celix/pull/558?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache#diff-bGlicy9mcmFtZXdvcmsvc3JjL2ZyYW1ld29yay5j) | `77.66% <100.00%> (-0.05%)` | :arrow_down: |\n\n... and [3 files with indirect coverage changes](https://app.codecov.io/gh/apache/celix/pull/558/indirect-changes?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=apache)\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1552300595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1560412037","html_url":"https://github.com/apache/celix/pull/551#issuecomment-1560412037","issue_url":"https://api.github.com/repos/apache/celix/issues/551","id":1560412037,"node_id":"IC_kwDOAVuczs5dAf-F","user":{"login":"xuzhenbao","id":43104033,"node_id":"MDQ6VXNlcjQzMTA0MDMz","avatar_url":"https://avatars.githubusercontent.com/u/43104033?v=4","gravatar_id":"","url":"https://api.github.com/users/xuzhenbao","html_url":"https://github.com/xuzhenbao","followers_url":"https://api.github.com/users/xuzhenbao/followers","following_url":"https://api.github.com/users/xuzhenbao/following{/other_user}","gists_url":"https://api.github.com/users/xuzhenbao/gists{/gist_id}","starred_url":"https://api.github.com/users/xuzhenbao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xuzhenbao/subscriptions","organizations_url":"https://api.github.com/users/xuzhenbao/orgs","repos_url":"https://api.github.com/users/xuzhenbao/repos","events_url":"https://api.github.com/users/xuzhenbao/events{/privacy}","received_events_url":"https://api.github.com/users/xuzhenbao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-24T03:35:09Z","updated_at":"2023-05-24T03:35:09Z","author_association":"CONTRIBUTOR","body":"> One thing I also would like to improve is the usage of service references and service registrations in the remote service admin interfaces.\r\n\r\nHi @pnoltes \r\nCan we remove `export_reference_t` and `import_reference_t` from `remote_service_admin_service_t`, and use `serviceProperties` instead of `serviceId` or add a new framework interface that can get service properties by `serviceId`, as follows:\r\n~~~\r\nstruct remote_service_admin_service_v2 {\r\n\tvoid *handle;\r\n\tcelix_status_t (*exportService)(void *handle,  celix_properties_t *serviceProperties, celix_properties_t *additionalProperties, celix_array_list_pt *registrations);\r\n\tcelix_status_t (*importService)(void *handle, endpoint_description_t *endpoint, import_registration_t **registration);\r\n\r\n\tcelix_status_t (*exportRegistration_getEndpointDescription)(export_registration_t *registration, endpoint_description_t **endpoint);\r\n\r\n\tcelix_status_t (*exportRegistration_close)(void *handle, export_registration_t *registration);\r\n\r\n\tcelix_status_t (*importRegistration_close)(void *handle, import_registration_t *registration);\r\n};\r\n~~~","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1560412037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1560624197","html_url":"https://github.com/apache/celix/issues/561#issuecomment-1560624197","issue_url":"https://api.github.com/repos/apache/celix/issues/561","id":1560624197,"node_id":"IC_kwDOAVuczs5dBTxF","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-24T07:52:52Z","updated_at":"2023-05-24T08:13:28Z","author_association":"CONTRIBUTOR","body":"Or we can fix `celix_framework_useBundle` with `onlyActive == true`. Maybe we could solve #557 and this one together.\r\nPer-bundle recursive lock protecting the state transition seems plausible.\r\nBy state transition, only getState/getNextState/setState need to be made \"atomic\" so that no heavy locking is involved.\r\n~~We need a recursive lock since it should be held when bundle use callback is invoked.~~\r\nNo, we don't need recursive lock. \r\nLet me call it the bundle state lock, which make it clear that it is impossible to change a bundle's state within a bundle use callback synchronously.\r\nBut it is still allowed to change bundle state asynchronously.\r\n","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1560624197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1561687561","html_url":"https://github.com/apache/celix/issues/561#issuecomment-1561687561","issue_url":"https://api.github.com/repos/apache/celix/issues/561","id":1561687561,"node_id":"IC_kwDOAVuczs5dFXYJ","user":{"login":"pnoltes","id":1766397,"node_id":"MDQ6VXNlcjE3NjYzOTc=","avatar_url":"https://avatars.githubusercontent.com/u/1766397?v=4","gravatar_id":"","url":"https://api.github.com/users/pnoltes","html_url":"https://github.com/pnoltes","followers_url":"https://api.github.com/users/pnoltes/followers","following_url":"https://api.github.com/users/pnoltes/following{/other_user}","gists_url":"https://api.github.com/users/pnoltes/gists{/gist_id}","starred_url":"https://api.github.com/users/pnoltes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnoltes/subscriptions","organizations_url":"https://api.github.com/users/pnoltes/orgs","repos_url":"https://api.github.com/users/pnoltes/repos","events_url":"https://api.github.com/users/pnoltes/events{/privacy}","received_events_url":"https://api.github.com/users/pnoltes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-24T17:45:44Z","updated_at":"2023-05-24T17:45:44Z","author_association":"CONTRIBUTOR","body":"Good point.\r\n\r\nMaybe adding a \"lifecycle\" read-write lock per celix_framework_bundle_entry_t and only allow bundle lifecycle changes if you have a write lock and use a read lock when useBundle callbacks are processed. In this situation the bundle lifecycle cannot change within a use bundle callback, and only 1 bundle lifecycle change can happen per bundle.\r\n\r\nI also think that the usage of an other bundle context is not clean, but this is lower prio issue. ","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1561687561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1568268999","html_url":"https://github.com/apache/celix/issues/562#issuecomment-1568268999","issue_url":"https://api.github.com/repos/apache/celix/issues/562","id":1568268999,"node_id":"IC_kwDOAVuczs5deeLH","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-30T11:28:42Z","updated_at":"2023-05-30T11:28:42Z","author_association":"CONTRIBUTOR","body":"Corrupt cache is recoverable. Such improvement is unnecessary.","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1568268999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/celix/issues/comments/1568275072","html_url":"https://github.com/apache/celix/issues/563#issuecomment-1568275072","issue_url":"https://api.github.com/repos/apache/celix/issues/563","id":1568275072,"node_id":"IC_kwDOAVuczs5defqA","user":{"login":"PengZheng","id":5362947,"node_id":"MDQ6VXNlcjUzNjI5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5362947?v=4","gravatar_id":"","url":"https://api.github.com/users/PengZheng","html_url":"https://github.com/PengZheng","followers_url":"https://api.github.com/users/PengZheng/followers","following_url":"https://api.github.com/users/PengZheng/following{/other_user}","gists_url":"https://api.github.com/users/PengZheng/gists{/gist_id}","starred_url":"https://api.github.com/users/PengZheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PengZheng/subscriptions","organizations_url":"https://api.github.com/users/PengZheng/orgs","repos_url":"https://api.github.com/users/PengZheng/repos","events_url":"https://api.github.com/users/PengZheng/events{/privacy}","received_events_url":"https://api.github.com/users/PengZheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-05-30T11:33:36Z","updated_at":"2023-05-31T07:10:42Z","author_association":"CONTRIBUTOR","body":"Once #556 is resolved, the current implementation of uninstall can be renamed to \"unload\".\r\nThen update can be implemented as `unload` followed by `install`.\r\nThis way, a refresh bundle is loaded from storage without any state inconsistency issues. \r\n\r\nAdditional benefits include:\r\n\r\n- No need of `bundleArchive_revise`.\r\n- Archive is read-only, thus thread-safety issues (e.g  #526) go away.\r\n- String copy in `celix_bundleArchive_getLocation` is unnecessary.\r\n- Lots of redundancies can be eliminated. For example, each bundle will only have one module and one revision. ","reactions":{"url":"https://api.github.com/repos/apache/celix/issues/comments/1568275072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]