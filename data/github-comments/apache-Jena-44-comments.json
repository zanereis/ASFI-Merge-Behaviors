[{"url":"https://api.github.com/repos/apache/jena/issues/comments/1833893011","html_url":"https://github.com/apache/jena/issues/2094#issuecomment-1833893011","issue_url":"https://api.github.com/repos/apache/jena/issues/2094","id":1833893011,"node_id":"IC_kwDOAHF7Ec5tTvyT","user":{"login":"filak","id":1353748,"node_id":"MDQ6VXNlcjEzNTM3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/1353748?v=4","gravatar_id":"","url":"https://api.github.com/users/filak","html_url":"https://github.com/filak","followers_url":"https://api.github.com/users/filak/followers","following_url":"https://api.github.com/users/filak/following{/other_user}","gists_url":"https://api.github.com/users/filak/gists{/gist_id}","starred_url":"https://api.github.com/users/filak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/filak/subscriptions","organizations_url":"https://api.github.com/users/filak/orgs","repos_url":"https://api.github.com/users/filak/repos","events_url":"https://api.github.com/users/filak/events{/privacy}","received_events_url":"https://api.github.com/users/filak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-30T14:33:22Z","updated_at":"2023-11-30T14:33:22Z","author_association":"NONE","body":"OK, I started Fuseki jar with --debug option and here is the log after running the query:\r\n\r\n```\r\n15:29:37 INFO  Fuseki          :: [5] Query =\r\nPREFIX rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\nPREFIX xsd:  <http://www.w3.org/2001/XMLSchema#>\r\nPREFIX owl:  <http://www.w3.org/2002/07/owl#>\r\nPREFIX text: <http://jena.apache.org/text#>\r\nPREFIX mt:   <http://id.example.test/vocab/#>\r\n\r\nselect * where {\r\n?s text:query (mt:includeNotes \"red booze\")\r\n}\r\n15:29:37 TRACE TextQueryPF     :: exec: ?s text:query (<http://id.example.test/vocab/#includeNotes> \"red booze\")\r\n15:29:37 TRACE TextQueryPF     :: objectToStruct: x.isURI(), prop: http://id.example.test/vocab/#includeNotes at idx: 0\r\n15:29:37 TRACE TextQueryPF     :: objectToStruct: PROPERTY at 0 IS http://id.example.test/vocab/#includeNotes WITH pList: [http://www.w3.org/2000/01/rdf-schema#label, http://id.example.test/vocab/#altLabel, http://id.example.test/vocab/#alt_label, http://id.example.test/mx/#alt_label, http://id.example.test/vocab/#note]\r\n15:29:37 TRACE TextQueryPF     :: prepareQuery with subject: ?s; params: ( properties: [http://www.w3.org/2000/01/rdf-schema#label, http://id.example.test/vocab/#altLabel, http://id.example.test/vocab/#alt_label, http://id.example.test/mx/#alt_label, http://id.example.test/vocab/#note]; query: red booze; limit: -1; lang: null; highlight: null )\r\n15:29:37 DEBUG TextQueryPF     :: Text query: red booze <urn:x-arq:DefaultGraphNode> (-1)\r\n15:29:37 TRACE TextQueryPF     :: Caching Text query: red booze with key: >>?s -1 [http://www.w3.org/2000/01/rdf-schema#label, http://id.example.test/vocab/#altLabel, http://id.example.test/vocab/#alt_label, http://id.example.test/mx/#alt_label, http://id.example.test/vocab/#note] red booze null urn:x-arq:DefaultGraphNode<< in cache: org.apache.jena.atlas.lib.cache.CacheCaffeine@2a457ab1\r\n15:29:37 TRACE TextIndexLucene :: query$ PROCESSING LIST of properties: [http://www.w3.org/2000/01/rdf-schema#label, http://id.example.test/vocab/#altLabel, http://id.example.test/vocab/#alt_label, http://id.example.test/mx/#alt_label, http://id.example.test/vocab/#note]; Lucene queryString: ; textFields: [ftext, ftext, ftext, ftext, note]\r\n15:29:37 TRACE TextIndexLucene :: query$ PROCESSED LIST of properties: [http://www.w3.org/2000/01/rdf-schema#label, http://id.example.test/vocab/#altLabel, http://id.example.test/vocab/#alt_label, http://id.example.test/mx/#alt_label, http://id.example.test/vocab/#note] with resulting qString: ftext:red booze ftext:red booze ftext:red booze ftext:red booze note:red booze\r\n15:29:37 WARN  TextIndexLucene :: Deprecated query parser type 'AnalyzingQueryParser'. Defaulting to standard QueryParser\r\n15:29:37 DEBUG TextIndexLucene :: query$ with LIST: [http://www.w3.org/2000/01/rdf-schema#label, http://id.example.test/vocab/#altLabel, http://id.example.test/vocab/#alt_label, http://id.example.test/mx/#alt_label, http://id.example.test/vocab/#note]; INPUT qString: (ftext:red booze ftext:red booze ftext:red booze ftext:red booze note:red booze ) AND graph:urn\\:x\\-arq\\:DefaultGraphNode; with queryParserType: AnalyzingQueryParser; parseQuery with PerFieldAnalyzerWrapper({lang=org.apache.lucene.analysis.core.KeywordAnalyzer@5e0c4f21, uri=org.apache.lucene.analysis.core.KeywordAnalyzer@2c18a3ea, graph=org.apache.lucene.analysis.core.KeywordAnalyzer@166c2c17}, default=MultilingualAnalyzer(default=org.apache.jena.query.text.analyzer.ConfigurableAnalyzer@1df5c7e3)) YIELDS: +(ftext:red ftext:booze ftext:red ftext:booze ftext:red ftext:booze ftext:red ftext:booze note:red ftext:booze) +graph:urn:x-arq:DefaultGraphNode; parsed query: +(ftext:red ftext:booze ftext:red ftext:booze ftext:red ftext:booze ftext:red ftext:booze note:red ftext:booze) +graph:urn:x-arq:DefaultGraphNode; limit: 10000\r\n15:29:37 TRACE TextIndexLucene :: simpleResults[8]: fields: [ftext, ftext, ftext, ftext, note] doc: Document<stored,indexed,tokenized,indexOptions=DOCS<uri:http://id.example.test/2> stored,indexed,tokenized,indexOptions=DOCS<graph:urn:x-arq:DefaultGraphNode> stored,indexed,tokenized<note:Red or white> stored,indexed,tokenized,omitNorms,indexOptions=DOCS<lang:en> stored,indexed,tokenized,omitNorms,indexOptions=DOCS<uid:48bc17f6921b4efff3f082a027a3e2c11037e9262ab743ed174587619543f767>>\r\n15:29:37 TRACE TextQueryPF     :: resultsToQueryIterator CALLED with results: [TextHit{node=http://id.example.test/2 literal=\"Red or white\"@en score=0.58286893 graph=urn:x-arq:DefaultGraphNode prop=http://id.example.test/vocab/#note}]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1833893011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1833948728","html_url":"https://github.com/apache/jena/issues/2094#issuecomment-1833948728","issue_url":"https://api.github.com/repos/apache/jena/issues/2094","id":1833948728,"node_id":"IC_kwDOAHF7Ec5tT9Y4","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-30T14:59:43Z","updated_at":"2023-11-30T14:59:43Z","author_association":"MEMBER","body":"> ftext:red booze ftext:red booze ftext:red booze ftext:red booze note:red booze\r\n\r\nSo that looks like a bug to me.\r\n\r\nThe generated Lucene query is not properly quoting the search string when applying it to each field.  Per https://lucene.apache.org/core/9_8_0/queryparser/org/apache/lucene/queryparser/classic/package-summary.html#Fields this means the query is only searching for `red` in the `ftext` field and `booze` in the default field, which does however happen to be `ftext` judging by the parsed query:\r\n\r\n> parsed query: +(ftext:red ftext:booze ftext:red ftext:booze ftext:red ftext:booze ftext:red ftext:booze note:red ftext:booze) +graph:urn:x-arq:DefaultGraphNode; limit: 10000\r\n\r\nThis means that only the first word in your query gets queried in the `note` field which is why the order of the terms in the query affects the results.\r\n\r\n@OyvindLGjesdal does that look like a valid analysis to you?\r\n\r\nIt also looks like we generate duplicate query clauses when multiple properties map to the same Lucene field which might be unnecessary?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1833948728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1833956652","html_url":"https://github.com/apache/jena/issues/2094#issuecomment-1833956652","issue_url":"https://api.github.com/repos/apache/jena/issues/2094","id":1833956652,"node_id":"IC_kwDOAHF7Ec5tT_Us","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-30T15:04:04Z","updated_at":"2023-11-30T15:04:04Z","author_association":"MEMBER","body":"Although I'm not sure the fix is to just quote the search string because it could itself already be a complex query e.g. `\"red wine\" OR \"white beer\"` which wouldn't work if we blindly surround with `\"`\r\n\r\nMaybe [Field Grouping](https://lucene.apache.org/core/9_8_0/queryparser/org/apache/lucene/queryparser/classic/package-summary.html#Field_Grouping) is the solution i.e.\r\n\r\n```\r\nftext:(Red booze) note:(Red booze)\r\n```\r\n\r\n??","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1833956652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1834366175","html_url":"https://github.com/apache/jena/issues/2106#issuecomment-1834366175","issue_url":"https://api.github.com/repos/apache/jena/issues/2106","id":1834366175,"node_id":"IC_kwDOAHF7Ec5tVjTf","user":{"login":"Hamilton-dfp","id":65266157,"node_id":"MDQ6VXNlcjY1MjY2MTU3","avatar_url":"https://avatars.githubusercontent.com/u/65266157?v=4","gravatar_id":"","url":"https://api.github.com/users/Hamilton-dfp","html_url":"https://github.com/Hamilton-dfp","followers_url":"https://api.github.com/users/Hamilton-dfp/followers","following_url":"https://api.github.com/users/Hamilton-dfp/following{/other_user}","gists_url":"https://api.github.com/users/Hamilton-dfp/gists{/gist_id}","starred_url":"https://api.github.com/users/Hamilton-dfp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hamilton-dfp/subscriptions","organizations_url":"https://api.github.com/users/Hamilton-dfp/orgs","repos_url":"https://api.github.com/users/Hamilton-dfp/repos","events_url":"https://api.github.com/users/Hamilton-dfp/events{/privacy}","received_events_url":"https://api.github.com/users/Hamilton-dfp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-30T18:50:08Z","updated_at":"2023-11-30T18:50:08Z","author_association":"NONE","body":"@rvesse, @afs, thank you for taking the time to respond.\r\n\r\nThis issue did turn out to be that I was using the UI webapp.\r\n\r\nDownloading the `jena-fuseki-server` jar and following the fuseki-main documentation (both linked above), I was able to get the expected output.\r\n\r\nThe only gotcha that I will note here for posterity is that adding the `--modules=true` flag is required to get it to load the module. This threw me for a loop because I think in the [next iteration it will be on by default](https://github.com/apache/jena/blob/cb37a5657756bdadf37a1832d307e134b30669c5/jena-fuseki2/jena-fuseki-main/src/main/java/org/apache/jena/fuseki/main/cmds/FusekiMain.java#L108)?\r\n\r\n```\r\njava -cp jena-fuseki-server-4.10.0.jar:helloFuseki-0.0.1.jar org.apache.jena.fuseki.main.cmds.FusekiMainCmd --modules=true --loc=/Users/user/jena/apache-jena-fuseki-4.10.0/run/configuration /my-test\r\n```\r\n\r\nNote that I just pointed this instance to the TDB that the UI webapp had created for me.\r\n\r\n```\r\n[2023-11-30 11:36:23] Server     INFO  Module: HelloFuseki (unknown)\r\n[2023-11-30 11:36:23] Server     INFO  Apache Jena Fuseki 4.10.0\r\n[2023-11-30 11:36:23] Server     INFO  Database: TDB2 dataset: location=/Users/user/jena/apache-jena-fuseki-4.10.0/run/configuration\r\n[2023-11-30 11:36:23] Server     INFO  Path = /my-test\r\n[2023-11-30 11:36:23] Server     INFO    Memory: 8.0 GiB\r\n[2023-11-30 11:36:23] Server     INFO    Java:   17.0.8\r\n[2023-11-30 11:36:23] Server     INFO    OS:     Mac OS X 13.2.1 aarch64\r\n[2023-11-30 11:36:23] Server     INFO    PID:    11407\r\n*********************************** Hello Fuseki\r\n[2023-11-30 11:36:23] Server     INFO  Start Fuseki (http=3030)\r\n```\r\n\r\nThanks again, folks!\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1834366175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1835715730","html_url":"https://github.com/apache/jena/issues/2094#issuecomment-1835715730","issue_url":"https://api.github.com/repos/apache/jena/issues/2094","id":1835715730,"node_id":"IC_kwDOAHF7Ec5tasyS","user":{"login":"OyvindLGjesdal","id":5328572,"node_id":"MDQ6VXNlcjUzMjg1NzI=","avatar_url":"https://avatars.githubusercontent.com/u/5328572?v=4","gravatar_id":"","url":"https://api.github.com/users/OyvindLGjesdal","html_url":"https://github.com/OyvindLGjesdal","followers_url":"https://api.github.com/users/OyvindLGjesdal/followers","following_url":"https://api.github.com/users/OyvindLGjesdal/following{/other_user}","gists_url":"https://api.github.com/users/OyvindLGjesdal/gists{/gist_id}","starred_url":"https://api.github.com/users/OyvindLGjesdal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OyvindLGjesdal/subscriptions","organizations_url":"https://api.github.com/users/OyvindLGjesdal/orgs","repos_url":"https://api.github.com/users/OyvindLGjesdal/repos","events_url":"https://api.github.com/users/OyvindLGjesdal/events{/privacy}","received_events_url":"https://api.github.com/users/OyvindLGjesdal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T08:57:54Z","updated_at":"2023-12-01T08:57:54Z","author_association":"CONTRIBUTOR","body":"> > ftext:red booze ftext:red booze ftext:red booze ftext:red booze note:red booze\r\n> \r\n> So that looks like a bug to me.\r\n> \r\n> The generated Lucene query is not properly quoting the search string when applying it to each field. Per https://lucene.apache.org/core/9_8_0/queryparser/org/apache/lucene/queryparser/classic/package-summary.html#Fields this means the query is only searching for `red` in the `ftext` field and `booze` in the default field, which does however happen to be `ftext` judging by the parsed query:\r\n> \r\n> > parsed query: +(ftext:red ftext:booze ftext:red ftext:booze ftext:red ftext:booze ftext:red ftext:booze note:red ftext:booze) +graph:urn:x-arq:DefaultGraphNode; limit: 10000\r\n> \r\n> This means that only the first word in your query gets queried in the `note` field which is why the order of the terms in the query affects the results.\r\n> \r\n> @OyvindLGjesdal does that look like a valid analysis to you?\r\n> \r\n> It also looks like we generate duplicate query clauses when multiple properties map to the same Lucene field which might be unnecessary?\r\n\r\n@rvesse  This looks like a valid analysis to me, but this is also unknown parts to me and based on reading the links you posted. But it does it does line up perfectly with the bug, and the solution looks good. I guess it would also just handle inner logic in  inner parens. \r\n\r\nThanks for the verbose output and experimenting @filak\r\n\r\nI can try to create a test for this during the weekend.\r\n\r\nThis is probably only a bug in the propList, and not with the use of normal properties? I guess it would have been reported and noticed and caught by tests if this was also in `rdfs:label red booze`.\r\n\r\nOn a second note, we should probably update the examples in the docs to remove the examples of setting a custom queryParser that no longer is present in Apache Lucene ` text:queryParser text:AnalyzingQueryParser ;`\r\n\r\n```\r\n15:29:37 WARN  TextIndexLucene :: Deprecated query parser type 'AnalyzingQueryParser'. Defaulting to standard QueryParser\r\n```\r\n\r\nWhen searching the web, the AnalyzingQueryParser is only present in lower versions of the javadocs.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1835715730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1835792795","html_url":"https://github.com/apache/jena/issues/2094#issuecomment-1835792795","issue_url":"https://api.github.com/repos/apache/jena/issues/2094","id":1835792795,"node_id":"IC_kwDOAHF7Ec5ta_mb","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T09:51:49Z","updated_at":"2023-12-01T09:51:49Z","author_association":"MEMBER","body":"> This is probably only a bug in the propList, and not with the use of normal properties? I guess it would have been reported and noticed and caught by tests if this was also in `rdfs:label red booze`.\r\n\r\nNot sure, like yourself I'm not too familiar with these parts of the codebase, probably also worth concocting a test case to validate","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1835792795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1835922116","html_url":"https://github.com/apache/jena/pull/2118#issuecomment-1835922116","issue_url":"https://api.github.com/repos/apache/jena/issues/2118","id":1835922116,"node_id":"IC_kwDOAHF7Ec5tbfLE","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T11:23:19Z","updated_at":"2023-12-01T11:23:19Z","author_association":"MEMBER","body":"Best reviewed in the Github UI with \"hide whitepace\".","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1835922116/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1836093717","html_url":"https://github.com/apache/jena/issues/2083#issuecomment-1836093717","issue_url":"https://api.github.com/repos/apache/jena/issues/2083","id":1836093717,"node_id":"IC_kwDOAHF7Ec5tcJEV","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T13:09:06Z","updated_at":"2023-12-01T13:09:06Z","author_association":"MEMBER","body":"Ping @mpro7","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1836093717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1836162250","html_url":"https://github.com/apache/jena/pull/2118#issuecomment-1836162250","issue_url":"https://api.github.com/repos/apache/jena/issues/2118","id":1836162250,"node_id":"IC_kwDOAHF7Ec5tcZzK","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T13:57:42Z","updated_at":"2023-12-01T13:57:42Z","author_association":"MEMBER","body":"Tests added because \"why not?\"\r\n\r\n`{`, `}` and space fail for a different reason to `[` and `]` - the parser grammar does not accept them.\r\n\r\nThe way the SPARQL grammar is written is to have a token rule that excludes impossible characters, then expect detailed checking.\r\n\r\n`[` and `]` are possible as IPv6 address in the host part. They incorrectly turn up when people put XSLT predicates in the path/query/fragment parts.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1836162250/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1836453455","html_url":"https://github.com/apache/jena/pull/2119#issuecomment-1836453455","issue_url":"https://api.github.com/repos/apache/jena/issues/2119","id":1836453455,"node_id":"IC_kwDOAHF7Ec5tdg5P","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-01T16:52:10Z","updated_at":"2023-12-01T20:24:59Z","author_association":"MEMBER","body":"Jena is a little light on output format tests - adding a framework for doing that is beyond, and is somewhat larger than, this fix for a reported issue.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1836453455/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1837613920","html_url":"https://github.com/apache/jena/issues/2094#issuecomment-1837613920","issue_url":"https://api.github.com/repos/apache/jena/issues/2094","id":1837613920,"node_id":"IC_kwDOAHF7Ec5th8Ng","user":{"login":"OyvindLGjesdal","id":5328572,"node_id":"MDQ6VXNlcjUzMjg1NzI=","avatar_url":"https://avatars.githubusercontent.com/u/5328572?v=4","gravatar_id":"","url":"https://api.github.com/users/OyvindLGjesdal","html_url":"https://github.com/OyvindLGjesdal","followers_url":"https://api.github.com/users/OyvindLGjesdal/followers","following_url":"https://api.github.com/users/OyvindLGjesdal/following{/other_user}","gists_url":"https://api.github.com/users/OyvindLGjesdal/gists{/gist_id}","starred_url":"https://api.github.com/users/OyvindLGjesdal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OyvindLGjesdal/subscriptions","organizations_url":"https://api.github.com/users/OyvindLGjesdal/orgs","repos_url":"https://api.github.com/users/OyvindLGjesdal/repos","events_url":"https://api.github.com/users/OyvindLGjesdal/events{/privacy}","received_events_url":"https://api.github.com/users/OyvindLGjesdal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-03T22:03:57Z","updated_at":"2023-12-03T22:18:05Z","author_association":"CONTRIBUTOR","body":"I think I can confirm your analysis @rvesse \r\n\r\nIf I change default field to `  \"    text:defaultField     \\\"comment\\\" ` \r\n\r\nthe verbose output expression falls back to using `comment`(default field), for `booze` and only the first word `red`is paired with its text field.\r\n \r\n+(ftext:red comment:booze ftext:red comment:booze ftext:red comment:booze ftext:red comment:booze note:red comment:booze)\r\n\r\n@filak a workaround fo could be to put () around the text query `red booze`, I seem to get the expected result from the query, using that.\r\n```\r\n \"SELECT ?s\",\r\n                \"WHERE {\",\r\n                \"  ?s text:query ( mt:includeNotes \\\"(red booze)\\\" ) . \",\r\n                \"}\"\r\n```\r\n\r\nThis is the output \r\n```\r\n22:14:28 DEBUG TextIndexLucene :: query$ with LIST: [http://www.w3.org/2000/01/rdf-schema#label, http://id.example.test/vocab/#altLabel, http://id.example.test/vocab/#alt_label, http://id.example.test/mx/#alt_label, http://id.example.test/vocab/#note]; INPUT qString: (ftext:(red booze) ftext:(red booze) ftext:(red booze) ftext:(red booze) note:(red booze) ) AND graph:urn\\:x\\-arq\\:DefaultGraphNode; with queryParserType: AnalyzingQueryParser; parseQuery with PerFieldAnalyzerWrapper({lang=org.apache.lucene.analysis.core.KeywordAnalyzer@59532566, uri=org.apache.lucene.analysis.core.KeywordAnalyzer@dca2615, graph=org.apache.lucene.analysis.core.KeywordAnalyzer@421a4ee1}, default=MultilingualAnalyzer(default=org.apache.jena.query.text.analyzer.ConfigurableAnalyzer@4f63e3c7)) YIELDS: +((ftext:red ftext:booze) (ftext:red ftext:booze) (ftext:red ftext:booze) (ftext:red ftext:booze) (note:red note:booze)) +graph:urn:x-arq:DefaultGraphNode; parsed query: +((ftext:red ftext:booze) (ftext:red ftext:booze) (ftext:red ftext:booze) (ftext:red ftext:booze) (note:red note:booze)) +graph:urn:x-arq:DefaultGraphNode; limit: 10000\r\n22:14:28 TRACE TextIndexLucene :: simpleResults[10]: fields: [ftext, ftext, ftext, ftext, note] doc: Document<stored,indexed,tokenized,indexOptions=DOCS<uri:http://id.example.test/2> stored,indexed,tokenized,indexOptions=DOCS<graph:urn:x-arq:DefaultGraphNode> stored,indexed,tokenized<note:Red or white> stored,indexed,tokenized,omitNorms,indexOptions=DOCS<lang:en> stored,indexed,tokenized,omitNorms,indexOptions=DOCS<uid:48bc17f6921b4efff3f082a027a3e2c11037e9262ab743ed174587619543f767>>\r\n22:14:28 TRACE TextIndexLucene :: simpleResults[3]: fields: [ftext, ftext, ftext, ftext, note] doc: Document<stored,indexed,tokenized,indexOptions=DOCS<uri:http://id.example.test/1> stored,indexed,tokenized,indexOptions=DOCS<graph:urn:x-arq:DefaultGraphNode> stored,indexed,tokenized<note:Booze is a pleasure> stored,indexed,tokenized,omitNorms,indexOptions=DOCS<lang:en> stored,indexed,tokenized,omitNorms,indexOptions=DOCS<uid:8df507c91a27f4bb554f97c7b5c6b980c48012ab2e23132a879189bbce05fc18>>\r\n22:14:28 TRACE TextQueryPF :: resultsToQueryIterator CALLED with results: [TextHit{node=http://id.example.test/2 literal=\"Red or white\"@en score=0.58286893 graph=urn:x-arq:DefaultGraphNode prop=http://id.example.test/vocab/#note}, TextHit{node=http://id.example.test/1 literal=\"Booze is a pleasure\"@en score=0.51788014 graph=urn:x-arq:DefaultGraphNode prop=http://id.example.test/vocab/#note}]\r\n```\r\n\r\nHowever this looks like a bug, the intent seems clear that the propList is applied to the entire quoted expression and not the just the first word, also from the examples in the docs.\r\n\r\nSame bug happens  when using a single property:\r\n\r\n```\r\nSELECT ?s\",\r\n                \"WHERE {\",\r\n                \"  ?s text:query ( mt:note \\\"booze red\\\" ) . \",\r\n                \"}\"\r\n\r\n```\r\n```\r\nINPUT qString: (note:booze red ) AND graph:urn\\:x\\-arq\\:DefaultGraphNode; with queryParserType: AnalyzingQueryParser; parseQuery with PerFieldAnalyzerWrapper({lang=org.apache.lucene.analysis.core.KeywordAnalyzer@59532566, uri=org.apache.lucene.analysis.core.KeywordAnalyzer@dca2615, graph=org.apache.lucene.analysis.core.KeywordAnalyzer@421a4ee1}, default=MultilingualAnalyzer(default=org.apache.jena.query.text.analyzer.ConfigurableAnalyzer@4f63e3c7)) YIELDS: +(note:booze comment:red) +graph:urn:x-arq:DefaultGraphNode; parsed query: +(note:booze comment:red) +graph:urn:x-arq:DefaultGraphNode; limit: 10000\r\n```\r\n\r\nand just one hit:\r\n```\r\n [TextHit{node=http://id.example.test/1 literal=\"Booze is a pleasure\"@en score=0.51788014 graph=urn:x-arq:DefaultGraphNode prop=http://id.example.test/vocab/#note}]\r\n```\r\n\r\nThe bug remains also if the assembler config is minimized and just use all text default configs.\r\n\r\nhttps://github.com/apache/jena/compare/main...OyvindLGjesdal:debug-text-prop-not-working-in-some-cases?expand=1","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1837613920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1838474312","html_url":"https://github.com/apache/jena/issues/2120#issuecomment-1838474312","issue_url":"https://api.github.com/repos/apache/jena/issues/2120","id":1838474312,"node_id":"IC_kwDOAHF7Ec5tlORI","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-04T11:50:12Z","updated_at":"2023-12-04T11:52:20Z","author_association":"MEMBER","body":"This looks like a dependency conflict between different versions of the Servlet API and Jetty\r\n\r\nYou will need to look at your full `mvn dependency:tree` output to see what versions are being referenced (both directly and indirectly).  Remember that closest dependency wins in Maven if you have multiple paths to the same dependency.\r\n\r\nOnce you've figured out where the multiple sources of Servlet API and/or Jetty dependencies are coming from you'll need to adjust your dependencies and/or exclusions appropriately.\r\n\r\nThe fact this this occurred when upgrading the `wiremock` dependency suggests that the major version bump changes those transitive dependencies in some way.  Bear in mind that Servlet 4 -> Servlet 5 was a breaking change with the package changing from `javax.servlet` to `jakarta.servlet` so if you have mixed versions of this in your dependency tree you'll run into errors like these.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1838474312/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1840457816","html_url":"https://github.com/apache/jena/pull/2121#issuecomment-1840457816","issue_url":"https://api.github.com/repos/apache/jena/issues/2121","id":1840457816,"node_id":"IC_kwDOAHF7Ec5tsyhY","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T10:22:27Z","updated_at":"2023-12-05T10:22:27Z","author_association":"MEMBER","body":"> I'm not familiar with writing java tests, so not sure why the jena-text doesn't pick up the example. However when running a single test from intellij, it passes. The test could also be better named. Could I get some guiding on this?\r\n\r\nJena uses JUnit suite classes so I think you need to add an entry for this new test class into https://github.com/apache/jena/blob/main/jena-text/src/test/java/org/apache/jena/query/text/TS_Text.java\r\n\r\nJena is historically fairly lazy about test naming so the current name is ok.  If the test comes out of a specific issue we generally leave a comment to that effect in the source code e.g. `// GH-2094` or for the test so future developers can understand the context of the test","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1840457816/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1841615597","html_url":"https://github.com/apache/jena/issues/2120#issuecomment-1841615597","issue_url":"https://api.github.com/repos/apache/jena/issues/2120","id":1841615597,"node_id":"IC_kwDOAHF7Ec5txNLt","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T21:10:06Z","updated_at":"2023-12-05T21:10:06Z","author_association":"MEMBER","body":"org.wiremock:wiremock version 3.3.1 depends on Jetty11 which uses `jakarta.servlet`.\r\n\r\nWiremock switched from Jetty 9 (package space `javax.servlet`) to Jetty 11 (`jakarta.servlet`) at 3.0.0.\r\n\r\n\r\n> The changelog below represents key changes between 2.35.0 and 3.0.0.\r\n...\r\n> ðŸ’¥ Breaking changes\r\n...\r\n> Upgrade from Jetty 9 to Jetty 11 (Changelog)\r\n \r\n\r\nApache Jena Fuseki 4.6.1 uses Jetty 10 (`javax.servlet`).\r\n\r\nJena is switching to `jakarta.servlet` with Jena 5.0.0.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1841615597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1842394691","html_url":"https://github.com/apache/jena/issues/2120#issuecomment-1842394691","issue_url":"https://api.github.com/repos/apache/jena/issues/2120","id":1842394691,"node_id":"IC_kwDOAHF7Ec5t0LZD","user":{"login":"AronBuzogany","id":108480125,"node_id":"U_kgDOBndGfQ","avatar_url":"https://avatars.githubusercontent.com/u/108480125?v=4","gravatar_id":"","url":"https://api.github.com/users/AronBuzogany","html_url":"https://github.com/AronBuzogany","followers_url":"https://api.github.com/users/AronBuzogany/followers","following_url":"https://api.github.com/users/AronBuzogany/following{/other_user}","gists_url":"https://api.github.com/users/AronBuzogany/gists{/gist_id}","starred_url":"https://api.github.com/users/AronBuzogany/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AronBuzogany/subscriptions","organizations_url":"https://api.github.com/users/AronBuzogany/orgs","repos_url":"https://api.github.com/users/AronBuzogany/repos","events_url":"https://api.github.com/users/AronBuzogany/events{/privacy}","received_events_url":"https://api.github.com/users/AronBuzogany/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T08:17:46Z","updated_at":"2023-12-06T08:24:32Z","author_association":"NONE","body":"Thank you for the detailed explanation! Is there a way to make the 2 dependencies work with each other in this case? I tried looking at the dependency tree as suggested, but as the dependencies go under different names I do not know how to handle this.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1842394691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1842489454","html_url":"https://github.com/apache/jena/issues/2120#issuecomment-1842489454","issue_url":"https://api.github.com/repos/apache/jena/issues/2120","id":1842489454,"node_id":"IC_kwDOAHF7Ec5t0ihu","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T09:18:44Z","updated_at":"2023-12-06T09:18:44Z","author_association":"MEMBER","body":"The way the `javax.servlet` => `jakarta.servlet` happens means they can't be mixed.\r\n\r\nAnything else is modify and recompile one or other of the systems.\r\nIn a non-production setting, you can try Jena 5 development (with all the consequences of running a development snapshot).\r\n\r\nwiremock 3.0.0 was August this year.\r\n\r\nCan you use wiremock 2 for now?\r\n\r\n(And before you ask :smile: Jena5 is \"sometime hopefully soon\" - the project is all volunteer time.)\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1842489454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1843062025","html_url":"https://github.com/apache/jena/pull/2123#issuecomment-1843062025","issue_url":"https://api.github.com/repos/apache/jena/issues/2123","id":1843062025,"node_id":"IC_kwDOAHF7Ec5t2uUJ","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T14:59:41Z","updated_at":"2023-12-06T14:59:41Z","author_association":"MEMBER","body":"Hi @neumarcx ,\r\n\r\nWhat do you think of this first prototype?\r\n\r\n![image](https://github.com/apache/jena/assets/304786/ca1f7655-3920-4d53-8f5f-1ca370fce004)\r\n\r\n![image](https://github.com/apache/jena/assets/304786/9bba7012-593c-4602-a2a4-c54b763da8d4)\r\n\r\n(I used the JS console to both confirm there are no errors, and to hide some uploads so we can see what it would look like -- also developing for mobile/smaller viewport by default.)\r\n\r\nNot fully functional as I have to hook another reactive field to compute the number of successes and failures. Any other metric we should include?\r\n\r\nOnce we have agreed on the UI prototype and how it should behave, I will make it work correctly, add a test, and a changelog entry.\r\n\r\nThanks!\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1843062025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1843416195","html_url":"https://github.com/apache/jena/pull/2123#issuecomment-1843416195","issue_url":"https://api.github.com/repos/apache/jena/issues/2123","id":1843416195,"node_id":"IC_kwDOAHF7Ec5t4EyD","user":{"login":"neumarcx","id":10403482,"node_id":"MDQ6VXNlcjEwNDAzNDgy","avatar_url":"https://avatars.githubusercontent.com/u/10403482?v=4","gravatar_id":"","url":"https://api.github.com/users/neumarcx","html_url":"https://github.com/neumarcx","followers_url":"https://api.github.com/users/neumarcx/followers","following_url":"https://api.github.com/users/neumarcx/following{/other_user}","gists_url":"https://api.github.com/users/neumarcx/gists{/gist_id}","starred_url":"https://api.github.com/users/neumarcx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neumarcx/subscriptions","organizations_url":"https://api.github.com/users/neumarcx/orgs","repos_url":"https://api.github.com/users/neumarcx/repos","events_url":"https://api.github.com/users/neumarcx/events{/privacy}","received_events_url":"https://api.github.com/users/neumarcx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T18:09:40Z","updated_at":"2023-12-06T18:09:40Z","author_association":"CONTRIBUTOR","body":"very nice Bruno, yes I think that's all we need. Not sure that we need them to be multi functional value boxes though.\r\n\r\nhow about the following mockup. \"Success\" and / or \"Failure\"  may actually not need to be shown prior to the upload.\r\n\r\njust an additional idea.\r\n\r\n![Jena](https://github.com/apache/jena/assets/10403482/9e1cd8ba-4da9-487a-a0cf-3c8cbcf069ee)\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1843416195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1843426418","html_url":"https://github.com/apache/jena/pull/2123#issuecomment-1843426418","issue_url":"https://api.github.com/repos/apache/jena/issues/2123","id":1843426418,"node_id":"IC_kwDOAHF7Ec5t4HRy","user":{"login":"neumarcx","id":10403482,"node_id":"MDQ6VXNlcjEwNDAzNDgy","avatar_url":"https://avatars.githubusercontent.com/u/10403482?v=4","gravatar_id":"","url":"https://api.github.com/users/neumarcx","html_url":"https://github.com/neumarcx","followers_url":"https://api.github.com/users/neumarcx/followers","following_url":"https://api.github.com/users/neumarcx/following{/other_user}","gists_url":"https://api.github.com/users/neumarcx/gists{/gist_id}","starred_url":"https://api.github.com/users/neumarcx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neumarcx/subscriptions","organizations_url":"https://api.github.com/users/neumarcx/orgs","repos_url":"https://api.github.com/users/neumarcx/repos","events_url":"https://api.github.com/users/neumarcx/events{/privacy}","received_events_url":"https://api.github.com/users/neumarcx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T18:14:58Z","updated_at":"2023-12-06T18:14:58Z","author_association":"CONTRIBUTOR","body":"also \"Upload Status\" might be sufficient as there is only one status.\r\n\r\n![Jena](https://github.com/apache/jena/assets/10403482/70a0f59f-a685-482e-a897-c176151d14e7)\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1843426418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1843807809","html_url":"https://github.com/apache/jena/pull/2123#issuecomment-1843807809","issue_url":"https://api.github.com/repos/apache/jena/issues/2123","id":1843807809,"node_id":"IC_kwDOAHF7Ec5t5kZB","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T22:43:58Z","updated_at":"2023-12-06T22:46:41Z","author_association":"MEMBER","body":"Hi @neumarcx !\r\n\r\n+1 for \"Upload status\"!\r\n\r\n>how about the following mockup. \"Success\" and / or \"Failure\" may actually not need to be shown prior to the upload.\r\n\r\nMy first prototype didn't show the status by default, then I realized it would \"move things in the UI\". That's considered bad for UX [^1], but more importantly can impact performance negatively [^2], so it'd be nice if we could find a permanent place that doesn't move things too much.\r\n\r\nAnd I didn't use colors because the red would attract your eyes (at least it does to me when I open a page like that), even if it says 0 (imagine Twitter with the notification symbol enabled by default showing 0, or GitHub's notification icon). So instead of users slowly reading the page, their first eye scanning would be to look at the red, and then proceed to use the page[^3]. Green would have the same effect, and it has also color-blindness issues [^4].\r\n\r\nI tried to place each number in a fixed location using table columns so users would know where to find them, once they learn it. But a single line without a table could work too.\r\n\r\nWhat do you think? Maybe something like your prototype but with the text only?  Any thoughts @afs, @rvesse  ?\r\n\r\n[^1]: that's CLS, and I hate it because some sites (Twitter, DeviantArt, ...) and apps (Zoom, Discord) have this, that when you have your mouse over a button and something happens and the DOM elements shift, and you end up clicking on something else: https://javascript.plainenglish.io/3-ways-to-fix-cumulative-layout-shift-53df8bea1e0f?gi=e99977032785\r\n[^2]: because it moves other HTML DOM elements, which might cause JS to have to re-render code like Vue.js components, and redraw things\r\n[^3]: related to visual weight & visual direction: https://www.smashingmagazine.com/2014/12/design-principles-visual-weight-direction/#visual-weight\r\n[^4]: https://www.smashingmagazine.com/2016/06/improving-color-accessibility-for-color-blind-users/#6-color-combinations","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1843807809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1845022372","html_url":"https://github.com/apache/jena/pull/2123#issuecomment-1845022372","issue_url":"https://api.github.com/repos/apache/jena/issues/2123","id":1845022372,"node_id":"IC_kwDOAHF7Ec5t-M6k","user":{"login":"neumarcx","id":10403482,"node_id":"MDQ6VXNlcjEwNDAzNDgy","avatar_url":"https://avatars.githubusercontent.com/u/10403482?v=4","gravatar_id":"","url":"https://api.github.com/users/neumarcx","html_url":"https://github.com/neumarcx","followers_url":"https://api.github.com/users/neumarcx/followers","following_url":"https://api.github.com/users/neumarcx/following{/other_user}","gists_url":"https://api.github.com/users/neumarcx/gists{/gist_id}","starred_url":"https://api.github.com/users/neumarcx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neumarcx/subscriptions","organizations_url":"https://api.github.com/users/neumarcx/orgs","repos_url":"https://api.github.com/users/neumarcx/repos","events_url":"https://api.github.com/users/neumarcx/events{/privacy}","received_events_url":"https://api.github.com/users/neumarcx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T09:49:42Z","updated_at":"2023-12-07T11:38:14Z","author_association":"CONTRIBUTOR","body":"Thank you @kinow for the comprehensive motivation for your design choices and I can follow your position on my idea with the references you have provided.\r\n\r\nI also see your point with regards to the Cumulative Layout Shift. I don't have an immediate opinion on it but can intuitively sense the issue. The UI might even feel broken as the user might misread the design.\r\n\r\nCould you please elaborate the one liner idea? May main concern with the multi functional  table columns was that they indicate more functionality than is never used (sortable). \r\nI may have miss interpreted how the status table works. Will the table expand with multiple errors or always it always be juts one line? One table header row and one table value row?\r\n\r\nIf it is just one line / row and we remove the sortable function we might already be done as the table outline looks neat and in place with the remain page elements.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1845022372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1845971755","html_url":"https://github.com/apache/jena/issues/1874#issuecomment-1845971755","issue_url":"https://api.github.com/repos/apache/jena/issues/1874","id":1845971755,"node_id":"IC_kwDOAHF7Ec5uB0sr","user":{"login":"Claudenw","id":2439838,"node_id":"MDQ6VXNlcjI0Mzk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2439838?v=4","gravatar_id":"","url":"https://api.github.com/users/Claudenw","html_url":"https://github.com/Claudenw","followers_url":"https://api.github.com/users/Claudenw/followers","following_url":"https://api.github.com/users/Claudenw/following{/other_user}","gists_url":"https://api.github.com/users/Claudenw/gists{/gist_id}","starred_url":"https://api.github.com/users/Claudenw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Claudenw/subscriptions","organizations_url":"https://api.github.com/users/Claudenw/orgs","repos_url":"https://api.github.com/users/Claudenw/repos","events_url":"https://api.github.com/users/Claudenw/events{/privacy}","received_events_url":"https://api.github.com/users/Claudenw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T19:25:41Z","updated_at":"2023-12-07T19:25:41Z","author_association":"CONTRIBUTOR","body":"The UpdateBuilder is missing the Node_Triple check.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1845971755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1848670796","html_url":"https://github.com/apache/jena/issues/2083#issuecomment-1848670796","issue_url":"https://api.github.com/repos/apache/jena/issues/2083","id":1848670796,"node_id":"IC_kwDOAHF7Ec5uMHpM","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-09T20:20:16Z","updated_at":"2023-12-09T20:20:16Z","author_association":"MEMBER","body":"We haven't heard back on this and can't reproduce it.\r\n\r\n@mpro7 Please do reopen this issue if there is new information.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1848670796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1848683281","html_url":"https://github.com/apache/jena/issues/2125#issuecomment-1848683281","issue_url":"https://api.github.com/repos/apache/jena/issues/2125","id":1848683281,"node_id":"IC_kwDOAHF7Ec5uMKsR","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-09T21:06:48Z","updated_at":"2023-12-09T21:06:48Z","author_association":"MEMBER","body":"Mistake - this is a duplicate of #2039.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1848683281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1850683780","html_url":"https://github.com/apache/jena/issues/2127#issuecomment-1850683780","issue_url":"https://api.github.com/repos/apache/jena/issues/2127","id":1850683780,"node_id":"IC_kwDOAHF7Ec5uTzGE","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-11T18:48:47Z","updated_at":"2023-12-11T18:48:47Z","author_association":"MEMBER","body":"I am quite sure there was a similar comment either in GitHub issue/discussions, or in the mailing list. And I think at that time the answer was that it was by designâ€¦ but I couldn't find the issue or email. ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1850683780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1850853537","html_url":"https://github.com/apache/jena/issues/2127#issuecomment-1850853537","issue_url":"https://api.github.com/repos/apache/jena/issues/2127","id":1850853537,"node_id":"IC_kwDOAHF7Ec5uUcih","user":{"login":"andreasnef","id":217082,"node_id":"MDQ6VXNlcjIxNzA4Mg==","avatar_url":"https://avatars.githubusercontent.com/u/217082?v=4","gravatar_id":"","url":"https://api.github.com/users/andreasnef","html_url":"https://github.com/andreasnef","followers_url":"https://api.github.com/users/andreasnef/followers","following_url":"https://api.github.com/users/andreasnef/following{/other_user}","gists_url":"https://api.github.com/users/andreasnef/gists{/gist_id}","starred_url":"https://api.github.com/users/andreasnef/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreasnef/subscriptions","organizations_url":"https://api.github.com/users/andreasnef/orgs","repos_url":"https://api.github.com/users/andreasnef/repos","events_url":"https://api.github.com/users/andreasnef/events{/privacy}","received_events_url":"https://api.github.com/users/andreasnef/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-11T20:39:59Z","updated_at":"2023-12-11T20:39:59Z","author_association":"NONE","body":"Hm. I've read https://github.com/apache/jena/issues/1252, but that was before 4.8.0.\r\n\r\n- It would be strange to me that this should be by design when having a property of the name \"deleteOld\".\r\n- Also, https://github.com/apache/jena/blob/198e6950c7652ffe68c9171bc5ed92c69210c60a/jena-tdb2/src/main/java/org/apache/jena/tdb2/sys/DatabaseOps.java#L281 should really delete as I see it.\r\n- On Linux we don't seem to have this issue.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1850853537/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1851629952","html_url":"https://github.com/apache/jena/issues/2127#issuecomment-1851629952","issue_url":"https://api.github.com/repos/apache/jena/issues/2127","id":1851629952,"node_id":"IC_kwDOAHF7Ec5uXaGA","user":{"login":"andreasnef","id":217082,"node_id":"MDQ6VXNlcjIxNzA4Mg==","avatar_url":"https://avatars.githubusercontent.com/u/217082?v=4","gravatar_id":"","url":"https://api.github.com/users/andreasnef","html_url":"https://github.com/andreasnef","followers_url":"https://api.github.com/users/andreasnef/followers","following_url":"https://api.github.com/users/andreasnef/following{/other_user}","gists_url":"https://api.github.com/users/andreasnef/gists{/gist_id}","starred_url":"https://api.github.com/users/andreasnef/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreasnef/subscriptions","organizations_url":"https://api.github.com/users/andreasnef/orgs","repos_url":"https://api.github.com/users/andreasnef/repos","events_url":"https://api.github.com/users/andreasnef/events{/privacy}","received_events_url":"https://api.github.com/users/andreasnef/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-12T09:28:49Z","updated_at":"2023-12-12T09:30:03Z","author_association":"NONE","body":"Adapted `org.apache.jena.tdb2.sys.DatabaseOps` to use `java.nio.Files.delete()` (currently the us of `java.io.File.delete()` doesn't check if delete is successful) and extended logging a bit, seems that on Windows we have other processes accessing these files:\r\n\r\n```\r\n10:16:20 DEBUG DatabaseOps     :: Deleting old database after successful compaction (old db path='D:\\data\\fuseki\\repository\\Data-0009')...\r\n10:16:20 DEBUG DatabaseOps     :: deleting path D:\\data\\fuseki\\repository\\Data-0009\\tdb.lock\r\n10:16:20 DEBUG DatabaseOps     :: deleting path D:\\data\\fuseki\\repository\\Data-0009\\SPOG.idn\r\n10:16:20 ERROR DatabaseOps     :: --> failed\r\njava.nio.file.FileSystemException: D:\\data\\fuseki\\repository\\Data-0009\\SPOG.idn: The process cannot access the file because it is being used by another process.\r\n\r\n\tat sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:92) ~[?:?]\r\n\tat sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103) ~[?:?]\r\n\tat sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108) ~[?:?]\r\n\tat sun.nio.fs.WindowsFileSystemProvider.implDelete(WindowsFileSystemProvider.java:274) ~[?:?]\r\n\tat sun.nio.fs.AbstractFileSystemProvider.delete(AbstractFileSystemProvider.java:105) ~[?:?]\r\n\tat java.nio.file.Files.delete(Files.java:1142) ~[?:?]\r\n\tat org.apache.jena.tdb2.sys.DatabaseOps.lambda$deleteDatabase$1(DatabaseOps.java:297) ~[fuseki-server.jar:4.8.0]\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[?:?]\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1541) ~[?:?]\r\n\tat java.util.stream.SortedOps$RefSortingSink.end(SortedOps.java:395) ~[?:?]\r\n\tat java.util.stream.Sink$ChainedReference.end(Sink.java:258) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[?:?]\r\n\tat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[?:?]\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:?]\r\n\tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497) ~[?:?]\r\n\tat org.apache.jena.tdb2.sys.DatabaseOps.deleteDatabase(DatabaseOps.java:294) ~[fuseki-server.jar:4.8.0]\r\n\tat org.apache.jena.tdb2.sys.DatabaseOps.compact(DatabaseOps.java:286) ~[fuseki-server.jar:4.8.0]\r\n\tat org.apache.jena.tdb2.DatabaseMgr.compact(DatabaseMgr.java:81) ~[fuseki-server.jar:4.8.0]\r\n\tat org.apache.jena.fuseki.ctl.ActionCompact$CompactTask.run(ActionCompact.java:109) ~[fuseki-server.jar:4.8.0]\r\n\tat org.apache.jena.fuseki.async.AsyncPool.lambda$submit$0(AsyncPool.java:66) ~[fuseki-server.jar:4.8.0]\r\n\tat org.apache.jena.fuseki.async.AsyncTask.call(AsyncTask.java:100) [fuseki-server.jar:4.8.0]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:264) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]\r\n\tat java.lang.Thread.run(Thread.java:829) [?:?]\r\n10:16:20 WARN  Compact         :: [9] **** Exception in compact\r\norg.apache.jena.atlas.RuntimeIOException: java.nio.file.FileSystemException: D:\\data\\fuseki\\repository\\Data-0009\\SPOG.idn: The process cannot access the file because it is being used by another process.\r\n\r\n\tat org.apache.jena.atlas.io.IOX.exception(IOX.java:52) ~[fuseki-server.jar:4.8.0]\r\n\tat org.apache.jena.tdb2.sys.DatabaseOps.lambda$deleteDatabase$1(DatabaseOps.java:300) ~[fuseki-server.jar:4.8.0]\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[?:?]\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1541) ~[?:?]\r\n\tat java.util.stream.SortedOps$RefSortingSink.end(SortedOps.java:395) ~[?:?]\r\n\tat java.util.stream.Sink$ChainedReference.end(Sink.java:258) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[?:?]\r\n\tat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[?:?]\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:?]\r\n\tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497) ~[?:?]\r\n\tat org.apache.jena.tdb2.sys.DatabaseOps.deleteDatabase(DatabaseOps.java:294) ~[fuseki-server.jar:4.8.0]\r\n\tat org.apache.jena.tdb2.sys.DatabaseOps.compact(DatabaseOps.java:286) ~[fuseki-server.jar:4.8.0]\r\n\tat org.apache.jena.tdb2.DatabaseMgr.compact(DatabaseMgr.java:81) ~[fuseki-server.jar:4.8.0]\r\n\tat org.apache.jena.fuseki.ctl.ActionCompact$CompactTask.run(ActionCompact.java:109) ~[fuseki-server.jar:4.8.0]\r\n\tat org.apache.jena.fuseki.async.AsyncPool.lambda$submit$0(AsyncPool.java:66) ~[fuseki-server.jar:4.8.0]\r\n\tat org.apache.jena.fuseki.async.AsyncTask.call(AsyncTask.java:100) [fuseki-server.jar:4.8.0]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:264) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]\r\n\tat java.lang.Thread.run(Thread.java:829) [?:?]\r\nCaused by: java.nio.file.FileSystemException: D:\\data\\fuseki\\repository\\Data-0009\\SPOG.idn: The process cannot access the file because it is being used by another process.\r\n\r\n\tat sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:92) ~[?:?]\r\n\tat sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103) ~[?:?]\r\n\tat sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108) ~[?:?]\r\n\tat sun.nio.fs.WindowsFileSystemProvider.implDelete(WindowsFileSystemProvider.java:274) ~[?:?]\r\n\tat sun.nio.fs.AbstractFileSystemProvider.delete(AbstractFileSystemProvider.java:105) ~[?:?]\r\n\tat java.nio.file.Files.delete(Files.java:1142) ~[?:?]\r\n\tat org.apache.jena.tdb2.sys.DatabaseOps.lambda$deleteDatabase$1(DatabaseOps.java:297) ~[fuseki-server.jar:4.8.0]\r\n\t... 20 more\r\n10:16:20 ERROR Server          :: Exception in task 1 execution\r\norg.apache.jena.atlas.RuntimeIOException: java.nio.file.FileSystemException: D:\\data\\fuseki\\repository\\Data-0009\\SPOG.idn: The process cannot access the file because it is being used by another process.\r\n\r\n\tat org.apache.jena.atlas.io.IOX.exception(IOX.java:52) ~[fuseki-server.jar:4.8.0]\r\n\tat org.apache.jena.tdb2.sys.DatabaseOps.lambda$deleteDatabase$1(DatabaseOps.java:300) ~[fuseki-server.jar:4.8.0]\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[?:?]\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1541) ~[?:?]\r\n\tat java.util.stream.SortedOps$RefSortingSink.end(SortedOps.java:395) ~[?:?]\r\n\tat java.util.stream.Sink$ChainedReference.end(Sink.java:258) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[?:?]\r\n\tat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[?:?]\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:?]\r\n\tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497) ~[?:?]\r\n\tat org.apache.jena.tdb2.sys.DatabaseOps.deleteDatabase(DatabaseOps.java:294) ~[fuseki-server.jar:4.8.0]\r\n\tat org.apache.jena.tdb2.sys.DatabaseOps.compact(DatabaseOps.java:286) ~[fuseki-server.jar:4.8.0]\r\n\tat org.apache.jena.tdb2.DatabaseMgr.compact(DatabaseMgr.java:81) ~[fuseki-server.jar:4.8.0]\r\n\tat org.apache.jena.fuseki.ctl.ActionCompact$CompactTask.run(ActionCompact.java:109) ~[fuseki-server.jar:4.8.0]\r\n\tat org.apache.jena.fuseki.async.AsyncPool.lambda$submit$0(AsyncPool.java:66) ~[fuseki-server.jar:4.8.0]\r\n\tat org.apache.jena.fuseki.async.AsyncTask.call(AsyncTask.java:100) [fuseki-server.jar:4.8.0]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:264) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]\r\n\tat java.lang.Thread.run(Thread.java:829) [?:?]\r\nCaused by: java.nio.file.FileSystemException: D:\\data\\fuseki\\repository\\Data-0009\\SPOG.idn: The process cannot access the file because it is being used by another process.\r\n\r\n\tat sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:92) ~[?:?]\r\n\tat sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103) ~[?:?]\r\n\tat sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108) ~[?:?]\r\n\tat sun.nio.fs.WindowsFileSystemProvider.implDelete(WindowsFileSystemProvider.java:274) ~[?:?]\r\n\tat sun.nio.fs.AbstractFileSystemProvider.delete(AbstractFileSystemProvider.java:105) ~[?:?]\r\n\tat java.nio.file.Files.delete(Files.java:1142) ~[?:?]\r\n\tat org.apache.jena.tdb2.sys.DatabaseOps.lambda$deleteDatabase$1(DatabaseOps.java:297) ~[fuseki-server.jar:4.8.0]\r\n\t... 20 more\r\n10:16:20 INFO  Server          :: [Task 1] finishes : Compact\r\n```","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1851629952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1851808992","html_url":"https://github.com/apache/jena/issues/2127#issuecomment-1851808992","issue_url":"https://api.github.com/repos/apache/jena/issues/2127","id":1851808992,"node_id":"IC_kwDOAHF7Ec5uYFzg","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-12T10:58:07Z","updated_at":"2023-12-12T10:58:07Z","author_association":"MEMBER","body":"Same root cause as https://github.com/apache/jena/issues/2092#issuecomment-1810362743 - longstanding JDK on Windows bug.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1851808992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1852034806","html_url":"https://github.com/apache/jena/issues/2127#issuecomment-1852034806","issue_url":"https://api.github.com/repos/apache/jena/issues/2127","id":1852034806,"node_id":"IC_kwDOAHF7Ec5uY872","user":{"login":"andreasnef","id":217082,"node_id":"MDQ6VXNlcjIxNzA4Mg==","avatar_url":"https://avatars.githubusercontent.com/u/217082?v=4","gravatar_id":"","url":"https://api.github.com/users/andreasnef","html_url":"https://github.com/andreasnef","followers_url":"https://api.github.com/users/andreasnef/followers","following_url":"https://api.github.com/users/andreasnef/following{/other_user}","gists_url":"https://api.github.com/users/andreasnef/gists{/gist_id}","starred_url":"https://api.github.com/users/andreasnef/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreasnef/subscriptions","organizations_url":"https://api.github.com/users/andreasnef/orgs","repos_url":"https://api.github.com/users/andreasnef/repos","events_url":"https://api.github.com/users/andreasnef/events{/privacy}","received_events_url":"https://api.github.com/users/andreasnef/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-12T13:28:02Z","updated_at":"2023-12-12T13:28:29Z","author_association":"NONE","body":"Hi @rvesse \r\n\r\nThanks for putting this into context! That sounds a bit discouraging, though, meaning that the `deleteOld` parameter is not supported on Windows.\r\n\r\nNot familiar with the code here, but I wonder if it wouldn't be possible to properly cleanup the mapped files then for the old \"database\"? I notice that the Windows file handles disappear after a while, and then it is possible to delete the folder. Is that connected to the GC settings as well?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1852034806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1852177820","html_url":"https://github.com/apache/jena/issues/2128#issuecomment-1852177820","issue_url":"https://api.github.com/repos/apache/jena/issues/2128","id":1852177820,"node_id":"IC_kwDOAHF7Ec5uZf2c","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-12T14:45:50Z","updated_at":"2023-12-12T14:46:21Z","author_association":"MEMBER","body":">would it be possible to somehow allocate some resources to its development\r\n\r\nI am not sure if we have resources to allocate here. We are all volunteers, some contributors work actively with Jena, so they may have some extra $time to work on features required by employers.\r\n\r\n>There are issues (https://github.com/filip26/titanium-json-ld/issues/292, https://github.com/filip26/titanium-json-ld/issues/248 and others) preventing proper use of JSON-LD 1.1 in our use cases, and therefore, the use of Apache Jena itself, and it seems that these issues have no priority, probably due to lack of resources.\r\n\r\nIf you need that for a project, or for your $work, the best option here could be to hire someone to work on those issues, or maybe try to improve titanium-json-ld.\r\n\r\nFor me my main use cases involve the Fuseki UI, loading and querying simple ontologies, so I use my spare/volunteer time to focus on these areas. At $work I have very little use of Jena, so my bandwidth to work on Jena is limited -- other contributors/volunteers here might have similar situations, preventing them from working on those issues.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1852177820/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1855260425","html_url":"https://github.com/apache/jena/issues/2083#issuecomment-1855260425","issue_url":"https://api.github.com/repos/apache/jena/issues/2083","id":1855260425,"node_id":"IC_kwDOAHF7Ec5ulQcJ","user":{"login":"mpro7","id":29251288,"node_id":"MDQ6VXNlcjI5MjUxMjg4","avatar_url":"https://avatars.githubusercontent.com/u/29251288?v=4","gravatar_id":"","url":"https://api.github.com/users/mpro7","html_url":"https://github.com/mpro7","followers_url":"https://api.github.com/users/mpro7/followers","following_url":"https://api.github.com/users/mpro7/following{/other_user}","gists_url":"https://api.github.com/users/mpro7/gists{/gist_id}","starred_url":"https://api.github.com/users/mpro7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mpro7/subscriptions","organizations_url":"https://api.github.com/users/mpro7/orgs","repos_url":"https://api.github.com/users/mpro7/repos","events_url":"https://api.github.com/users/mpro7/events{/privacy}","received_events_url":"https://api.github.com/users/mpro7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T07:04:55Z","updated_at":"2023-12-14T07:04:55Z","author_association":"NONE","body":"@afs sorry for coming back late, we solved the issue which was on our side. Our code did some additional transformations which started to fail after upgrading to Jena v4.9.0. Once we cleaned up the code and started calling Jena functions more directly, the problem was gone. However it shows that some functionalities on Jena side changed.\r\n\r\nIf you still would like to have more detailed information, please let me know.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1855260425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1855559578","html_url":"https://github.com/apache/jena/issues/2083#issuecomment-1855559578","issue_url":"https://api.github.com/repos/apache/jena/issues/2083","id":1855559578,"node_id":"IC_kwDOAHF7Ec5umZea","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T10:13:01Z","updated_at":"2023-12-14T10:13:01Z","author_association":"MEMBER","body":"@mpro7 - Yes, I'd like to know more. \r\n\r\nVery little has changed between 4.8.0 (several versions before that) to 4.9.0 in this area.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1855559578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1855853204","html_url":"https://github.com/apache/jena/pull/2123#issuecomment-1855853204","issue_url":"https://api.github.com/repos/apache/jena/issues/2123","id":1855853204,"node_id":"IC_kwDOAHF7Ec5unhKU","user":{"login":"neumarcx","id":10403482,"node_id":"MDQ6VXNlcjEwNDAzNDgy","avatar_url":"https://avatars.githubusercontent.com/u/10403482?v=4","gravatar_id":"","url":"https://api.github.com/users/neumarcx","html_url":"https://github.com/neumarcx","followers_url":"https://api.github.com/users/neumarcx/followers","following_url":"https://api.github.com/users/neumarcx/following{/other_user}","gists_url":"https://api.github.com/users/neumarcx/gists{/gist_id}","starred_url":"https://api.github.com/users/neumarcx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neumarcx/subscriptions","organizations_url":"https://api.github.com/users/neumarcx/orgs","repos_url":"https://api.github.com/users/neumarcx/repos","events_url":"https://api.github.com/users/neumarcx/events{/privacy}","received_events_url":"https://api.github.com/users/neumarcx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T13:27:15Z","updated_at":"2023-12-14T13:27:15Z","author_association":"CONTRIBUTOR","body":"what's the next step here? I can see the changes in your repo but they are not approved yet.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1855853204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1855863708","html_url":"https://github.com/apache/jena/pull/2123#issuecomment-1855863708","issue_url":"https://api.github.com/repos/apache/jena/issues/2123","id":1855863708,"node_id":"IC_kwDOAHF7Ec5unjuc","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T13:33:53Z","updated_at":"2023-12-14T13:33:53Z","author_association":"MEMBER","body":"Sorry, I haven't had time to look at your previous comment, @neumarcx . I'd say we continue discussing to get a good prototype, then I hook up the JS code to make the prototype into actual working code, add unit tests, and then mark as ready for review.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1855863708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1855871702","html_url":"https://github.com/apache/jena/pull/2123#issuecomment-1855871702","issue_url":"https://api.github.com/repos/apache/jena/issues/2123","id":1855871702,"node_id":"IC_kwDOAHF7Ec5unlrW","user":{"login":"neumarcx","id":10403482,"node_id":"MDQ6VXNlcjEwNDAzNDgy","avatar_url":"https://avatars.githubusercontent.com/u/10403482?v=4","gravatar_id":"","url":"https://api.github.com/users/neumarcx","html_url":"https://github.com/neumarcx","followers_url":"https://api.github.com/users/neumarcx/followers","following_url":"https://api.github.com/users/neumarcx/following{/other_user}","gists_url":"https://api.github.com/users/neumarcx/gists{/gist_id}","starred_url":"https://api.github.com/users/neumarcx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neumarcx/subscriptions","organizations_url":"https://api.github.com/users/neumarcx/orgs","repos_url":"https://api.github.com/users/neumarcx/repos","events_url":"https://api.github.com/users/neumarcx/events{/privacy}","received_events_url":"https://api.github.com/users/neumarcx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T13:38:49Z","updated_at":"2023-12-14T13:38:49Z","author_association":"CONTRIBUTOR","body":"Ok good @kinow keep me in the loop. I guess I have to close the issue at some point.\r\n\r\nWhere do I check out your current version of the work? The current jena github repo is already tagged for Jena 5. I presume that's not the version it will be available for but it will be available for version Jena 4.10.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1855871702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1855880632","html_url":"https://github.com/apache/jena/pull/2123#issuecomment-1855880632","issue_url":"https://api.github.com/repos/apache/jena/issues/2123","id":1855880632,"node_id":"IC_kwDOAHF7Ec5unn24","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T13:44:30Z","updated_at":"2023-12-14T13:44:57Z","author_association":"MEMBER","body":"I think this might go into Jena 5, unless we finish it soon and want to backport it to jena4 (`main` is jena5 now, https://github.com/apache/jena/blob/cb23ddcd974df1c110332326a116ba88bc90d475/pom.xml#L29, see jena4 branch for Jena4 related work). The changes are in the branch of this repo, better-upload-ux.\r\n\r\nI will keep updating this PR as I have time, and you should get some GitHub notifications and/or maybe emails. Once we merge this PR it should close the issue automatically (because of the â€œGitHub issue resolved #2107â€ at the issue description).","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1855880632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1857794349","html_url":"https://github.com/apache/jena/issues/2128#issuecomment-1857794349","issue_url":"https://api.github.com/repos/apache/jena/issues/2128","id":1857794349,"node_id":"IC_kwDOAHF7Ec5uu7Et","user":{"login":"filip26","id":340018,"node_id":"MDQ6VXNlcjM0MDAxOA==","avatar_url":"https://avatars.githubusercontent.com/u/340018?v=4","gravatar_id":"","url":"https://api.github.com/users/filip26","html_url":"https://github.com/filip26","followers_url":"https://api.github.com/users/filip26/followers","following_url":"https://api.github.com/users/filip26/following{/other_user}","gists_url":"https://api.github.com/users/filip26/gists{/gist_id}","starred_url":"https://api.github.com/users/filip26/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/filip26/subscriptions","organizations_url":"https://api.github.com/users/filip26/orgs","repos_url":"https://api.github.com/users/filip26/repos","events_url":"https://api.github.com/users/filip26/events{/privacy}","received_events_url":"https://api.github.com/users/filip26/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-15T12:17:37Z","updated_at":"2023-12-15T12:17:37Z","author_association":"NONE","body":"@jakubklimek Thank you for seeking support for Titanium! I was not aware of this.\r\n\r\nThe fastest way to speed up development is to contribute, to spend your own time. Or if it is not an option for you, then you can become a sponsor or hire some as has been mentionedÂ above.\r\n\r\nAs for any other open-source project,  contribution is voluntary, and this applies to developers as well as to [commercial]users.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1857794349/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1857957065","html_url":"https://github.com/apache/jena/issues/2131#issuecomment-1857957065","issue_url":"https://api.github.com/repos/apache/jena/issues/2131","id":1857957065,"node_id":"IC_kwDOAHF7Ec5uvizJ","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-15T14:17:07Z","updated_at":"2023-12-15T14:17:07Z","author_association":"MEMBER","body":"> Is there a reason why it couldn't support quads as well?\r\n\r\nNo reason.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1857957065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1863474980","html_url":"https://github.com/apache/jena/issues/2132#issuecomment-1863474980","issue_url":"https://api.github.com/repos/apache/jena/issues/2132","id":1863474980,"node_id":"IC_kwDOAHF7Ec5vEl8k","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-19T21:09:13Z","updated_at":"2023-12-19T21:09:13Z","author_association":"MEMBER","body":"Hi @rjrudin - I take it you recompiled parts of the source code. Jena4 as released is compiled for Java11.\r\n\r\nThe project policy is \"last two LTS versions\". Jena5 will require Java17.\r\n\r\nThe project has to find a balance with the limited resources available. It also has to remain interesting for the contributors. \r\n\r\nIt isn't a matter of simply creating a branch because security issues must be dealt with across all active artifacts that the project produces. Some of the dependencies no longer support Java8. Remaining on old versions of dependencies isn't sustainable because of addressing vulnerabilities reported in CVEs.\r\n\r\nI don't remember that having been a lot of activity to convert existing code to use any Java11 language features.\r\nJena4 jena-arq does use Java11 `java.net.http`. Jena4 uses Eclipse Jetty10 which requires Java11.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1863474980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1863484548","html_url":"https://github.com/apache/jena/issues/2132#issuecomment-1863484548","issue_url":"https://api.github.com/repos/apache/jena/issues/2132","id":1863484548,"node_id":"IC_kwDOAHF7Ec5vEoSE","user":{"login":"rjrudin","id":5026193,"node_id":"MDQ6VXNlcjUwMjYxOTM=","avatar_url":"https://avatars.githubusercontent.com/u/5026193?v=4","gravatar_id":"","url":"https://api.github.com/users/rjrudin","html_url":"https://github.com/rjrudin","followers_url":"https://api.github.com/users/rjrudin/followers","following_url":"https://api.github.com/users/rjrudin/following{/other_user}","gists_url":"https://api.github.com/users/rjrudin/gists{/gist_id}","starred_url":"https://api.github.com/users/rjrudin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjrudin/subscriptions","organizations_url":"https://api.github.com/users/rjrudin/orgs","repos_url":"https://api.github.com/users/rjrudin/repos","events_url":"https://api.github.com/users/rjrudin/events{/privacy}","received_events_url":"https://api.github.com/users/rjrudin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-19T21:17:10Z","updated_at":"2023-12-19T21:17:10Z","author_association":"NONE","body":"Thanks @afs  - my mistake too as while I had changed the Gradle settings, I was still testing with Java 11 and thus everything worked fine. Totally understand about requiring Java 11 or higher. I'll close this as my question was based on my error. ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1863484548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1863504422","html_url":"https://github.com/apache/jena/pull/2121#issuecomment-1863504422","issue_url":"https://api.github.com/repos/apache/jena/issues/2121","id":1863504422,"node_id":"IC_kwDOAHF7Ec5vEtIm","user":{"login":"OyvindLGjesdal","id":5328572,"node_id":"MDQ6VXNlcjUzMjg1NzI=","avatar_url":"https://avatars.githubusercontent.com/u/5328572?v=4","gravatar_id":"","url":"https://api.github.com/users/OyvindLGjesdal","html_url":"https://github.com/OyvindLGjesdal","followers_url":"https://api.github.com/users/OyvindLGjesdal/followers","following_url":"https://api.github.com/users/OyvindLGjesdal/following{/other_user}","gists_url":"https://api.github.com/users/OyvindLGjesdal/gists{/gist_id}","starred_url":"https://api.github.com/users/OyvindLGjesdal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OyvindLGjesdal/subscriptions","organizations_url":"https://api.github.com/users/OyvindLGjesdal/orgs","repos_url":"https://api.github.com/users/OyvindLGjesdal/repos","events_url":"https://api.github.com/users/OyvindLGjesdal/events{/privacy}","received_events_url":"https://api.github.com/users/OyvindLGjesdal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-19T21:35:13Z","updated_at":"2023-12-20T08:18:47Z","author_association":"CONTRIBUTOR","body":"same bug applies also for **usingSearchFor**, see debug output for lucene on second test that is now added:\r\n\r\nbefore fix\r\n\r\n```\r\nYIELDS: +(ftext_en-01:red comment:booze ftext_en-02:red comment:booze ftext_en-01:red comment:booze ftext_en-02:red comment:booze ftext_en-01:red comment:booze ftext_en-02:red comment:booze ftext_en-01:red comment:booze ftext_en-02:red comment:booze note_en-01:red comment:booze note_en-02:red comment:booze)\r\n\r\nparsed query: +(ftext_en-01:red comment:booze ftext_en-02:red comment:booze ftext_en-01:red comment:booze ftext_en-02:red comment:booze ftext_en-01:red comment:booze ftext_en-02:red comment:booze ftext_en-01:red comment:booze ftext_en-02:red comment:booze note_en-01:red comment:booze note_en-02:red comment:booze) +graph:urn:x-arq:DefaultGraphNode; limit: 10000\r\n\r\n```\r\nafter fix:\r\n\r\n```\r\nYIELDS: +((note_en-01:red note_en-01:booze) (note_en-02:red note_en-02:booze)) +graph:urn:x-arq:DefaultGraphNode; \r\nparsed query: +((ftext_en-01:red ftext_en-01:booze) (ftext_en-02:red ftext_en-02:booze) (ftext_en-01:red ftext_en-01:booze) (ftext_en-02:red ftext_en-02:booze) (ftext_en-01:red ftext_en-01:booze) (ftext_en-02:red ftext_en-02:booze) (ftext_en-01:red ftext_en-01:booze) (ftext_en-02:red ftext_en-02:booze) (note_en-01:red note_en-01:booze) (note_en-02:red note_en-02:booze))\r\n\r\n```\r\nThe issue with possible duplicate expressions is there (from before), but I don't think that changes the correctness or necessarily is an issue?\r\n\r\nIf we'd want to discard possible duplicates, would adding the resulting individual expressions in a HashSet before using them, make sense?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1863504422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1865168372","html_url":"https://github.com/apache/jena/pull/2121#issuecomment-1865168372","issue_url":"https://api.github.com/repos/apache/jena/issues/2121","id":1865168372,"node_id":"IC_kwDOAHF7Ec5vLDX0","user":{"login":"OyvindLGjesdal","id":5328572,"node_id":"MDQ6VXNlcjUzMjg1NzI=","avatar_url":"https://avatars.githubusercontent.com/u/5328572?v=4","gravatar_id":"","url":"https://api.github.com/users/OyvindLGjesdal","html_url":"https://github.com/OyvindLGjesdal","followers_url":"https://api.github.com/users/OyvindLGjesdal/followers","following_url":"https://api.github.com/users/OyvindLGjesdal/following{/other_user}","gists_url":"https://api.github.com/users/OyvindLGjesdal/gists{/gist_id}","starred_url":"https://api.github.com/users/OyvindLGjesdal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OyvindLGjesdal/subscriptions","organizations_url":"https://api.github.com/users/OyvindLGjesdal/orgs","repos_url":"https://api.github.com/users/OyvindLGjesdal/repos","events_url":"https://api.github.com/users/OyvindLGjesdal/events{/privacy}","received_events_url":"https://api.github.com/users/OyvindLGjesdal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-20T21:30:50Z","updated_at":"2023-12-20T21:31:16Z","author_association":"CONTRIBUTOR","body":"I've attempted a fix for the duplicate lucene expressions where the debug output looks good.\r\n\r\ndebug output:\r\n*test01TextPropNotWorkingInSomeCases*, query 1:\r\nbefore:\r\n```\r\nparsed query: +((ftext:red ftext:booze) (ftext:red ftext:booze) (ftext:red ftext:booze)\r\n(ftext:red ftext:booze) (note:red note:booze)) +graph:urn:x-arq:DefaultGraphNode; \r\nlimit: 10000\r\n```\r\nafter:\r\n```\r\nparsed query: +((ftext:red ftext:booze) (note:red note:booze)) +graph:urn:x-arq:DefaultGraphNode; limit: 10000\r\n```\r\n\r\n*test02TextPropNotWorkingInSomeCases* query 1\r\nbefore: \r\n\r\n```\r\nparsed query: +((ftext_en-01:red ftext_en-01:booze) (ftext_en-02:red ftext_en-02:booze) (ftext_en-01:red ftext_en-01:booze) \r\n(ftext_en-02:red ftext_en-02:booze) (ftext_en-01:red ftext_en-01:booze) (ftext_en-02:red ftext_en-02:booze) \r\n(ftext_en-01:red ftext_en-01:booze) (ftext_en-02:red ftext_en-02:booze) (note_en-01:red note_en-01:booze)\r\n(note_en-02:red note_en-02:booze)) +graph:urn:x-arq:DefaultGraphNode; limit: 10000\r\n```\r\nafter:\r\n```\r\nparsed query: +((ftext_en-01:red ftext_en-01:booze) (ftext_en-02:red ftext_en-02:booze) (note_en-01:red note_en-01:booze) \r\n(note_en-02:red note_en-02:booze)) +graph:urn:x-arq:DefaultGraphNode; limit: 10000\r\n```","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1865168372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1866277134","html_url":"https://github.com/apache/jena/issues/2083#issuecomment-1866277134","issue_url":"https://api.github.com/repos/apache/jena/issues/2083","id":1866277134,"node_id":"IC_kwDOAHF7Ec5vPSEO","user":{"login":"BalduinLandolt","id":33053745,"node_id":"MDQ6VXNlcjMzMDUzNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/33053745?v=4","gravatar_id":"","url":"https://api.github.com/users/BalduinLandolt","html_url":"https://github.com/BalduinLandolt","followers_url":"https://api.github.com/users/BalduinLandolt/followers","following_url":"https://api.github.com/users/BalduinLandolt/following{/other_user}","gists_url":"https://api.github.com/users/BalduinLandolt/gists{/gist_id}","starred_url":"https://api.github.com/users/BalduinLandolt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BalduinLandolt/subscriptions","organizations_url":"https://api.github.com/users/BalduinLandolt/orgs","repos_url":"https://api.github.com/users/BalduinLandolt/repos","events_url":"https://api.github.com/users/BalduinLandolt/events{/privacy}","received_events_url":"https://api.github.com/users/BalduinLandolt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-21T13:46:24Z","updated_at":"2023-12-21T13:46:24Z","author_association":"CONTRIBUTOR","body":"Hi, since I worked with @mpro7 on this, and I had some spare time to reproduce it, let me provide additional information:\r\n\r\nThe following (admittedly nonsensical!) Scala code:\r\n\r\n```scala\r\nimport org.apache.jena\r\n\r\nimport java.io.{ByteArrayInputStream, ByteArrayOutputStream, InputStream, OutputStream}\r\nimport java.nio.charset.StandardCharsets\r\nimport scala.util.Try\r\n\r\nobject Run extends App {\r\n  val ttl =\r\n    \"\"\"|\r\n       |@prefix xsd:        <http://www.w3.org/2001/XMLSchema#> .\r\n       |@prefix rdf:        <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\r\n       |@prefix rdfs:       <http://www.w3.org/2000/01/rdf-schema#> .\r\n       |@prefix owl:        <http://www.w3.org/2002/07/owl#> .\r\n       |@prefix knora-base: <http://www.knora.org/ontology/knora-base#> .\r\n       |\r\n       |<http://www.knora.org/ontology/0001/anything>\r\n       |    rdf:type                        owl:Ontology ;\r\n       |    rdfs:label                      \"The anything ontology\" ;\r\n       |    knora-base:attachedToProject    <http://rdfh.ch/projects/0001> ;\r\n       |    knora-base:lastModificationDate \"2017-12-19T15:23:42.166Z\"^^xsd:dateTime .\r\n       |\r\n       |\"\"\".stripMargin\r\n\r\n  val is = new ByteArrayInputStream(ttl.getBytes(StandardCharsets.UTF_8))\r\n  val os = new ByteArrayOutputStream()\r\n\r\n  StreamParser.parse(is, os)\r\n  val res = os.toString\r\n\r\n  println(res)\r\n}\r\n\r\nobject StreamParser {\r\n\r\n  def parse(inputStream: InputStream, outputStream: OutputStream): Unit = {\r\n\r\n    val streamRDF = new jena.riot.system.StreamRDF {\r\n      val inner = jena.riot.system.StreamRDFWriter.getWriterStream(outputStream, jena.riot.RDFLanguages.TURTLE)\r\n\r\n      override def start(): Unit                             = inner.start()\r\n      override def finish(): Unit                            = inner.finish()\r\n      override def base(base: String): Unit                  = {}\r\n      override def prefix(prefix: String, iri: String): Unit = inner.prefix(prefix, iri)\r\n      override def quad(quad: jena.sparql.core.Quad): Unit   = inner.quad(quad)\r\n      // ----- !!! here !!! -----\r\n      override def triple(triple: jena.graph.Triple): Unit =\r\n        inner.quad(jena.sparql.core.Quad.create(jena.sparql.core.Quad.defaultGraphIRI, triple))\r\n    }\r\n    val parser = jena.riot.RDFParser.create()\r\n    parser.source(inputStream)\r\n\r\n    val parseTry: Try[Unit] = Try {\r\n      parser\r\n        .lang(jena.riot.RDFLanguages.TURTLE)\r\n        .errorHandler(jena.riot.system.ErrorHandlerFactory.errorHandlerStrictNoLogging)\r\n        .parse(streamRDF)\r\n    }\r\n    inputStream.close()\r\n    outputStream.close()\r\n    parseTry.get\r\n  }\r\n\r\n}\r\n\r\n```\r\n\r\nwhen executed with Jena 4.8.0, produces\r\n\r\n```\r\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\r\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\r\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\r\n@prefix owl: <http://www.w3.org/2002/07/owl#> .\r\n@prefix knora-base: <http://www.knora.org/ontology/knora-base#> .\r\n\r\n<http://www.knora.org/ontology/0001/anything>\r\n        rdf:type                      owl:Ontology ;\r\n        rdfs:label                    \"The anything ontology\" ;\r\n        knora-base:attachedToProject  <http://rdfh.ch/projects/0001> ;\r\n        knora-base:lastModificationDate  \"2017-12-19T15:23:42.166Z\"^^xsd:dateTime .\r\n\r\n```\r\n\r\nbut with Jena 4.9.0 it outputs\r\n\r\n```\r\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\r\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\r\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\r\n@prefix owl: <http://www.w3.org/2002/07/owl#> .\r\n@prefix knora-base: <http://www.knora.org/ontology/knora-base#> .\r\n\r\n<urn:x-arq:DefaultGraph> {\r\n    <http://www.knora.org/ontology/0001/anything>\r\n            rdf:type                      owl:Ontology ;\r\n            rdfs:label                    \"The anything ontology\" ;\r\n            knora-base:attachedToProject  <http://rdfh.ch/projects/0001> ;\r\n            knora-base:lastModificationDate  \"2017-12-19T15:23:42.166Z\"^^xsd:dateTime .\r\n}\r\n\r\n```\r\n\r\nthe interesting part is probably where the implementation of `StreamRDF` implements `triple()` as `quad()` with default graph.  \r\nFrom the looks of it, in Jena 4.8 this produced TTL, while in Jena 4.9 it seems to produce TRIG output.\r\n\r\nI hope this information helps, and I apologise for providing Scala rather than Java code (but it was painful enough to get to this reproduction of the issue).\r\n\r\nIf you have any questions, please feel free to ask!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1866277134/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1866536408","html_url":"https://github.com/apache/jena/issues/2083#issuecomment-1866536408","issue_url":"https://api.github.com/repos/apache/jena/issues/2083","id":1866536408,"node_id":"IC_kwDOAHF7Ec5vQRXY","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-21T15:49:28Z","updated_at":"2023-12-21T15:49:28Z","author_association":"MEMBER","body":"@BalduinLandolt -- thank you for the information.\r\n\r\n```scala\r\n      override def triple(triple: jena.graph.Triple): Unit =\r\n        inner.quad(jena.sparql.core.Quad.create(jena.sparql.core.Quad.defaultGraphIRI, triple))\r\n```\r\n\r\nCould I ask what the code is trying to achieve by converting a triple to a quad if the intended output is Turtle (triples only)?\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1866536408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1867813102","html_url":"https://github.com/apache/jena/issues/2083#issuecomment-1867813102","issue_url":"https://api.github.com/repos/apache/jena/issues/2083","id":1867813102,"node_id":"IC_kwDOAHF7Ec5vVJDu","user":{"login":"BalduinLandolt","id":33053745,"node_id":"MDQ6VXNlcjMzMDUzNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/33053745?v=4","gravatar_id":"","url":"https://api.github.com/users/BalduinLandolt","html_url":"https://github.com/BalduinLandolt","followers_url":"https://api.github.com/users/BalduinLandolt/followers","following_url":"https://api.github.com/users/BalduinLandolt/following{/other_user}","gists_url":"https://api.github.com/users/BalduinLandolt/gists{/gist_id}","starred_url":"https://api.github.com/users/BalduinLandolt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BalduinLandolt/subscriptions","organizations_url":"https://api.github.com/users/BalduinLandolt/orgs","repos_url":"https://api.github.com/users/BalduinLandolt/repos","events_url":"https://api.github.com/users/BalduinLandolt/events{/privacy}","received_events_url":"https://api.github.com/users/BalduinLandolt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-22T15:27:03Z","updated_at":"2023-12-22T15:27:03Z","author_association":"CONTRIBUTOR","body":"> Could I ask what the code is trying to achieve by converting a triple to a quad if the intended output is Turtle (triples only)?\r\n\r\nNot really, sorry... we're dealing with some rather gnarly legacy code, and in this part of the code base there were tons of abstractions and wrappers, because historically this was designed to work both with a Jena or an RDF4J model underneath. But RDF4J had been removed long ago, so the abstractions had become rather pointless. When I inlined all that was going on, I ended up with something similar to the sample code I pasted above - and that's when it became obvious that the implementation does not make sense.  \r\nWe ended up removing some of the redundant abstractions, calling functionality on the Jena models directly, and that had already fixed our problem (as @mpro7 had pointed out).  \r\nIn the real code base, the function would also take in an RDFLanguage as a param; and then it would be used to transform a stram of RDF statements from one language to another - but that doesn't make `inner.quad(jena.sparql.core.Quad.create(jena.sparql.core.Quad.defaultGraphIRI, triple))` more sensible, of course.\r\n\r\nIn any case, our issue is fixed, no need to worry about that. But my example proves that the behaviour from Jena 4.8 to 4.9 has changed somewhat (and arguable a TTL-Parser should probably not return TRIG, even if it gets quads for triples), so if you want to investigate that, I hope my example helps.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1867813102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1867929317","html_url":"https://github.com/apache/jena/issues/2083#issuecomment-1867929317","issue_url":"https://api.github.com/repos/apache/jena/issues/2083","id":1867929317,"node_id":"IC_kwDOAHF7Ec5vVlbl","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-22T17:38:20Z","updated_at":"2023-12-22T17:38:20Z","author_association":"MEMBER","body":"#2133 puts back the behavior. The streaming format (it's common code to quads and triples formats) can#'t knwo ahead of time whether there quads (it's streaming!). Any non default graph is an error or (in `riot` at the command line) ignored.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1867929317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1867958630","html_url":"https://github.com/apache/jena/issues/2083#issuecomment-1867958630","issue_url":"https://api.github.com/repos/apache/jena/issues/2083","id":1867958630,"node_id":"IC_kwDOAHF7Ec5vVslm","user":{"login":"BalduinLandolt","id":33053745,"node_id":"MDQ6VXNlcjMzMDUzNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/33053745?v=4","gravatar_id":"","url":"https://api.github.com/users/BalduinLandolt","html_url":"https://github.com/BalduinLandolt","followers_url":"https://api.github.com/users/BalduinLandolt/followers","following_url":"https://api.github.com/users/BalduinLandolt/following{/other_user}","gists_url":"https://api.github.com/users/BalduinLandolt/gists{/gist_id}","starred_url":"https://api.github.com/users/BalduinLandolt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BalduinLandolt/subscriptions","organizations_url":"https://api.github.com/users/BalduinLandolt/orgs","repos_url":"https://api.github.com/users/BalduinLandolt/repos","events_url":"https://api.github.com/users/BalduinLandolt/events{/privacy}","received_events_url":"https://api.github.com/users/BalduinLandolt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-22T18:19:28Z","updated_at":"2023-12-22T18:19:28Z","author_association":"CONTRIBUTOR","body":"cool, thanks!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1867958630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1868550424","html_url":"https://github.com/apache/jena/pull/2134#issuecomment-1868550424","issue_url":"https://api.github.com/repos/apache/jena/issues/2134","id":1868550424,"node_id":"IC_kwDOAHF7Ec5vX9EY","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-24T16:12:29Z","updated_at":"2023-12-24T16:12:58Z","author_association":"MEMBER","body":"This PR is my last planned change with Jena4/Jena5 incompatibility.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1868550424/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1868550958","html_url":"https://github.com/apache/jena/pull/2134#issuecomment-1868550958","issue_url":"https://api.github.com/repos/apache/jena/issues/2134","id":1868550958,"node_id":"IC_kwDOAHF7Ec5vX9Mu","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-24T16:15:40Z","updated_at":"2023-12-24T16:15:40Z","author_association":"CONTRIBUTOR","body":"Merry Christmas :)\r\n\r\nOn Sun, 24 Dec 2023 at 17.12, Andy Seaborne ***@***.***>\r\nwrote:\r\n\r\n> This PR is my last planned Jena4/Jena5 incompatible change.\r\n>\r\n> â€”\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/apache/jena/pull/2134#issuecomment-1868550424>, or\r\n> unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/AAGPM5USZZZXJ3DSANBXJQ3YLBH7RAVCNFSM6AAAAABBBTZU7OVHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMYTQNRYGU2TANBSGQ>\r\n> .\r\n> You are receiving this because you are subscribed to this thread.Message\r\n> ID: ***@***.***>\r\n>\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1868550958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1869520094","html_url":"https://github.com/apache/jena/pull/2134#issuecomment-1869520094","issue_url":"https://api.github.com/repos/apache/jena/issues/2134","id":1869520094,"node_id":"IC_kwDOAHF7Ec5vbpze","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-26T12:40:23Z","updated_at":"2023-12-26T12:40:23Z","author_association":"MEMBER","body":"Replace uses of `toLoweCase(Locale.ROOT)` with calls to a common library functions for \"system \" uses. This is common in the language tag related code. Ditto `toUpperCase`.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1869520094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1870473242","html_url":"https://github.com/apache/jena/issues/2129#issuecomment-1870473242","issue_url":"https://api.github.com/repos/apache/jena/issues/2129","id":1870473242,"node_id":"IC_kwDOAHF7Ec5vfSga","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-27T16:55:02Z","updated_at":"2023-12-27T16:55:02Z","author_association":"MEMBER","body":"https://www.w3.org/TR/shacl/#property-shapes\r\n\r\n>A property shape is a [shape](https://www.w3.org/TR/shacl/#dfn-shape) in the [shapes graph](https://www.w3.org/TR/shacl/#dfn-shapes-graph) that is the [subject](https://www.w3.org/TR/shacl/#dfn-subject) of a [triple](https://www.w3.org/TR/shacl/#dfn-rdf-triple) that has sh:path as its [predicate](https://www.w3.org/TR/shacl/#dfn-predicate). \r\n\r\nA property shape must have an `sh:path`. \r\n\r\nThe stacktrace is at parse time. Line 25 (which should be indented?) has sh:property with no sh:path. The `sh:or`, each with a `sh:path` does not fulfil the definition. \r\n\r\nMaybe `sh:or` should be on the node shape by removing the sh:property (line 25) and its closing `]`?\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1870473242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1870524889","html_url":"https://github.com/apache/jena/issues/2129#issuecomment-1870524889","issue_url":"https://api.github.com/repos/apache/jena/issues/2129","id":1870524889,"node_id":"IC_kwDOAHF7Ec5vffHZ","user":{"login":"tpluscode","id":588128,"node_id":"MDQ6VXNlcjU4ODEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/588128?v=4","gravatar_id":"","url":"https://api.github.com/users/tpluscode","html_url":"https://github.com/tpluscode","followers_url":"https://api.github.com/users/tpluscode/followers","following_url":"https://api.github.com/users/tpluscode/following{/other_user}","gists_url":"https://api.github.com/users/tpluscode/gists{/gist_id}","starred_url":"https://api.github.com/users/tpluscode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tpluscode/subscriptions","organizations_url":"https://api.github.com/users/tpluscode/orgs","repos_url":"https://api.github.com/users/tpluscode/repos","events_url":"https://api.github.com/users/tpluscode/events{/privacy}","received_events_url":"https://api.github.com/users/tpluscode/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-27T18:12:15Z","updated_at":"2023-12-27T18:12:15Z","author_association":"NONE","body":"From that same paragraph, the next sentence:\r\n\r\n> A shape has at most one [value](https://www.w3.org/TR/shacl/#dfn-value) for sh:path\r\n\r\nI thought this meant that it's fine without `sh:path`. For comparison, here's the same example running Top Quadrant's engine: https://s.zazuko.com/2KuNiJa\r\n\r\nI would like to hear @holgerknublauch's opinon. From what I understand, the shapes from the `sh:or` are merged in runtime, forming a valid property shape effectively. Parse time would too early to determine correctness of such a shape\r\n\r\n> Maybe `sh:or` should be on the node shape by removing the sh:property (line 25) and its closing `]`?\r\n\r\nThis my actually work. I always forget that skipping `sh:property` altogether is also valid in some scenarios","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1870524889/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1871026650","html_url":"https://github.com/apache/jena/issues/2129#issuecomment-1871026650","issue_url":"https://api.github.com/repos/apache/jena/issues/2129","id":1871026650,"node_id":"IC_kwDOAHF7Ec5vhZna","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-28T10:18:00Z","updated_at":"2024-01-01T13:53:51Z","author_association":"MEMBER","body":"That text isn't wrong but it does not override or modify the previous text. \"Exactly one\" would be better. Elsewhere it says \r\n\r\n>Each value of sh:property in a shape must be a [well-formed](https://www.w3.org/TR/shacl/#dfn-well-formed) [property shape](https://www.w3.org/TR/shacl/#dfn-property-shape).\r\n\r\nIf the code walks from the target start point it is encountered as a node shape. I can't see text that then makes the `sh:or` apply because it is not attached to the node shape (obviously, the code is interpreting sh:property with no `sh:path` as having no path step).\r\n\r\nJena parses all the shapes, not just reachable ones from targets, or ones encountered while validating the data.of the data.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1871026650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1872609689","html_url":"https://github.com/apache/jena/pull/2121#issuecomment-1872609689","issue_url":"https://api.github.com/repos/apache/jena/issues/2121","id":1872609689,"node_id":"IC_kwDOAHF7Ec5vncGZ","user":{"login":"OyvindLGjesdal","id":5328572,"node_id":"MDQ6VXNlcjUzMjg1NzI=","avatar_url":"https://avatars.githubusercontent.com/u/5328572?v=4","gravatar_id":"","url":"https://api.github.com/users/OyvindLGjesdal","html_url":"https://github.com/OyvindLGjesdal","followers_url":"https://api.github.com/users/OyvindLGjesdal/followers","following_url":"https://api.github.com/users/OyvindLGjesdal/following{/other_user}","gists_url":"https://api.github.com/users/OyvindLGjesdal/gists{/gist_id}","starred_url":"https://api.github.com/users/OyvindLGjesdal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OyvindLGjesdal/subscriptions","organizations_url":"https://api.github.com/users/OyvindLGjesdal/orgs","repos_url":"https://api.github.com/users/OyvindLGjesdal/repos","events_url":"https://api.github.com/users/OyvindLGjesdal/events{/privacy}","received_events_url":"https://api.github.com/users/OyvindLGjesdal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-30T21:23:12Z","updated_at":"2023-12-30T21:50:44Z","author_association":"CONTRIBUTOR","body":"When trying this branch in the manual actions job the PR breaks something (https://github.com/OyvindLGjesdal/jena/actions/runs/7324927309/job/19948943751)\r\n\r\nit returns 114 errors.\r\n\r\nIt no longer handles the condition where props.isEmpty() due to always replacing qString, instead of appending to it.\r\n\r\n```\r\n23:21:45 WARN  TextIndexLuceneAssembler :: Multilingual support implicitly enabled by text:defineAnalyzers\r\nError:  Tests run: 303, Failures: 0, Errors: 114, Skipped: 8, Time elapsed: 4.547 s <<< FAILURE! - in org.apache.jena.query.text.TS_Text\r\nError:  org.apache.jena.query.text.TestDatasetWithLuceneTextIndex.propertyFunctionText_8  Time elapsed: 0.023 s  <<< ERROR!\r\norg.apache.jena.query.text.TextIndexParseException: \r\nText search parse error:\r\nCannot parse '': Encountered \"<EOF>\" at line 1, column 0.\r\nWas expecting one of:\r\n    <NOT> ...\r\n    \"+\" ...\r\n    \"-\" ...\r\n    <BAREOPER> ...\r\n    \"(\" ...\r\n    \"*\" ...\r\n    <QUOTED> ...\r\n    <TERM> ...\r\n    <PREFIXTERM> ...\r\n    <WILDTERM> ...\r\n    <REGEXPTERM> ...\r\n    \"[\" ...\r\n    \"{\" ...\r\n    <NUMBER> ...\r\n    <TERM> ...\r\n    \r\n\tat org.apache.jena.query.text.TextIndexLucene.query(TextIndexLucene.java:503)\r\n\tat org.apache.jena.query.text.TextIndexLucene.query(TextIndexLucene.java:494)\r\n\tat org.apache.jena.query.text.TextQueryPF.performQuery(TextQueryPF.java:350)\r\n\tat org.apache.jena.query.text.TextQueryPF.lambda$query$1(TextQueryPF.java:303)\r\n\tat com.github.benmanes.caffeine.cache.BoundedLocalCache.lambda$doComputeIfAbsent$14(BoundedLocalCache.java:2688)\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.compute(ConcurrentHashMap.java:1916)\r\n\tat com.github.benmanes.caffeine.cache.BoundedLocalCache.doComputeIfAbsent(BoundedLocalCache.java:2686)\r\n\tat com.github.benmanes.caffeine.cache.BoundedLocalCache.computeIfAbsent(BoundedLocalCache.java:2669)\r\n\tat com.github.benmanes.caffeine.cache.LocalCache.computeIfAbsent(LocalCache.java:112)\r\n\tat com.github.benmanes.caffeine.cache.LocalManualCache.get(LocalManualCache.java:62)\r\n\tat org.apache.jena.atlas.lib.cache.CacheCaffeine.get(CacheCaffeine.java:89)\r\n\tat org.apache.jena.query.text.TextQueryPF.query(TextQueryPF.java:303)\r\n\tat org.apache.jena.query.text.TextQueryPF.prepareQuery(TextQueryPF.java:271)\r\n\tat org.apache.jena.query.text.TextQueryPF.exec(TextQueryPF.java:226)\r\n\tat org.apache.jena.sparql.pfunction.PropertyFunctionBase$RepeatApplyIteratorPF.nextStage(PropertyFunctionBase.java:104)\r\n\tat org.apache.jena.sparql.engine.iterator.QueryIterRepeatApply.makeNextStage(QueryIterRepeatApply.java:100)\r\n\tat org.apache.jena.sparql.engine.iterator.QueryIterRepeatApply.hasNextBinding(QueryIterRepeatApply.java:60)\r\n\tat org.apache.jena.sparql.engine.iterator.QueryIteratorBase.hasNext(QueryIteratorBase.java:116)\r\n\tat org.apache.jena.sparql.engine.iterator.QueryIterProcedure.hasNextBinding(QueryIterProcedure.java:73)\r\n\tat org.apache.jena.sparql.engine.iterator.QueryIteratorBase.hasNext(QueryIteratorBase.java:116)\r\n\tat org.apache.jena.sparql.engine.main.StageGeneratorGeneric.execute(StageGeneratorGeneric.java:56)\r\n\tat org.apache.jena.sparql.engine.main.StageGeneratorGeneric.execute(StageGeneratorGeneric.java:49)\r\n\tat org.apache.jena.tdb1.solver.StageGeneratorDirectTDB.execute(StageGeneratorDirectTDB.java:53)\r\n\tat org.apache.jena.tdb2.solver.StageGeneratorDirectTDB.execute(StageGeneratorDirectTDB.java:54)\r\n\tat org.apache.jena.sparql.engine.main.OpExecutor.execute(OpExecutor.java:126)\r\n\tat org.apache.jena.sparql.engine.main.ExecutionDispatch.visit(ExecutionDispatch.java:54)\r\n\tat org.apache.jena.sparql.algebra.op.OpBGP.visit(OpBGP.java:49)\r\n\tat org.apache.jena.sparql.engine.main.ExecutionDispatch.exec(ExecutionDispatch.java:43)\r\n\tat org.apache.jena.sparql.engine.main.OpExecutor.exec(OpExecutor.java:115)\r\n\tat org.apache.jena.sparql.engine.main.OpExecutor.execute(OpExecutor.java:225)\r\n\tat org.apache.jena.sparql.engine.main.ExecutionDispatch.visit(ExecutionDispatch.java:117)\r\n\tat org.apache.jena.sparql.algebra.op.OpSequence.visit(OpSequence.java:74)\r\n\tat org.apache.jena.sparql.engine.main.ExecutionDispatch.exec(ExecutionDispatch.java:43)\r\n\tat org.apache.jena.sparql.engine.main.OpExecutor.exec(OpExecutor.java:115)\r\n\tat org.apache.jena.sparql.engine.main.OpExecutor.execute(OpExecutor.java:393)\r\n\tat org.apache.jena.sparql.engine.main.ExecutionDispatch.visit(ExecutionDispatch.java:243)\r\n\tat org.apache.jena.sparql.algebra.op.OpProject.visit(OpProject.java:46)\r\n\tat org.apache.jena.sparql.engine.main.ExecutionDispatch.exec(ExecutionDispatch.java:43)\r\n\tat org.apache.jena.sparql.engine.main.OpExecutor.exec(OpExecutor.java:115)\r\n\tat org.apache.jena.sparql.engine.main.OpExecutor.execute(OpExecutor.java:87)\r\n\tat org.apache.jena.sparql.engine.main.QC.execute(QC.java:53)\r\n\tat org.apache.jena.sparql.engine.main.QueryEngineMain.eval(QueryEngineMain.java:55)\r\n\tat org.apache.jena.sparql.engine.QueryEngineBase.evaluate(QueryEngineBase.java:164)\r\n\tat org.apache.jena.sparql.engine.QueryEngineBase.createPlan(QueryEngineBase.java:128)\r\n\tat org.apache.jena.sparql.engine.QueryEngineBase.getPlan(QueryEngineBase.java:110)\r\n\tat org.apache.jena.sparql.engine.main.QueryEngineMain$QueryEngineMainFactory.create(QueryEngineMain.java:90)\r\n\tat org.apache.jena.sparql.engine.QueryEngineFactoryWrapper.create(QueryEngineFactoryWrapper.java:49)\r\n\tat org.apache.jena.sparql.exec.QueryExecDataset.getPlan(QueryExecDataset.java:514)\r\n\tat org.apache.jena.sparql.exec.QueryExecDataset.startQueryIterator(QueryExecDataset.java:455)\r\n\tat org.apache.jena.sparql.exec.QueryExecDataset.execute(QueryExecDataset.java:170)\r\n\tat org.apache.jena.sparql.exec.QueryExecDataset.select(QueryExecDataset.java:164)\r\n\tat org.apache.jena.sparql.exec.QueryExecutionAdapter.execSelect(QueryExecutionAdapter.java:106)\r\n\tat org.apache.jena.sparql.exec.QueryExecutionCompat.execSelect(QueryExecutionCompat.java:90)\r\n\tat org.apache.jena.query.text.AbstractTestDatasetWithTextIndexBase.doTestQuery(AbstractTestDatasetWithTextIndexBase.java:100)\r\n\tat org.apache.jena.query.text.AbstractTestDatasetWithTextIndexBase.doTestSearch(AbstractTestDatasetWithTextIndexBase.java:71)\r\n\tat org.apache.jena.query.text.AbstractTestDatasetWithTextIndexBase.doTestSearch(AbstractTestDatasetWithTextIndexBase.java:66)\r\n\tat org.apache.jena.query.text.AbstractTestDatasetWithTextIndexBase.doTestSearch(AbstractTestDatasetWithTextIndexBase.java:62)\r\n\tat org.apache.jena.query.text.AbstractTestDatasetWithTextIndex.propertyFunctionText_8(AbstractTestDatasetWithTextIndex.java:294)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.junit.runners.Suite.runChild(Suite.java:128)\r\n\tat org.junit.runners.Suite.runChild(Suite.java:27)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:316)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:240)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:214)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:155)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)\r\n\r\nError:  org.apache.jena.query.text.TestDatasetWithLuceneTextIndex.propertyFunctionText_1_score  Time elapsed: 0.017 s  <<< ERROR!\r\norg.apache.jena.query.text.TextIndexParseException: \r\nText search parse error:\r\nCannot parse '': Encountered \"<EOF>\" at line 1, column 0.\r\nWas expecting one of:\r\n    <NOT> ...\r\n    \"+\" ...\r\n    \"-\" ...\r\n    <BAREOPER> ...\r\n    \"(\" ...\r\n    \"*\" ...\r\n    <QUOTED> ...\r\n    <TERM> ...\r\n    <PREFIXTERM> ...\r\n    <WILDTERM> ...\r\n    <REGEXPTERM> ...\r\n    \"[\" ...\r\n    \"{\" ...\r\n    <NUMBER> ...\r\n    <TERM> ...\r\n    \r\n\tat org.apache.jena.query.text.TextIndexLucene.query(TextIndexLucene.java:503)\r\n\tat org.apache.jena.query.text.TextIndexLucene.query(TextIndexLucene.java:494)\r\n\tat org.apache.jena.query.text.TextQueryPF.performQuery(TextQueryPF.java:350)\r\n\tat org.apache.jena.query.text.TextQueryPF.lambda$query$1(TextQueryPF.java:303)\r\n\tat com.github.benmanes.caffeine.cache.BoundedLocalCache.lambda$doComputeIfAbsent$14(BoundedLocalCache.java:2688)\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.compute(ConcurrentHashMap.java:1916)\r\n\tat com.github.benmanes.caffeine.cache.BoundedLocalCache.doComputeIfAbsent(BoundedLocalCache.java:2686)\r\n\tat com.github.benmanes.caffeine.cache.BoundedLocalCache.computeIfAbsent(BoundedLocalCache.java:2669)\r\n\tat com.github.benmanes.caffeine.cache.LocalCache.computeIfAbsent(LocalCache.java:112)\r\n\tat com.github.benmanes.caffeine.cache.LocalManualCache.get(LocalManualCache.java:62)\r\n\tat org.apache.jena.atlas.lib.cache.CacheCaffeine.get(CacheCaffeine.java:89)\r\n\tat org.apache.jena.query.text.TextQueryPF.query(TextQueryPF.java:303)\r\n\tat org.apache.jena.query.text.TextQueryPF.prepareQuery(TextQueryPF.java:271)\r\n\tat org.apache.jena.query.text.TextQueryPF.exec(TextQueryPF.java:226)\r\n\tat org.apache.jena.sparql.pfunction.PropertyFunctionBase$RepeatApplyIteratorPF.nextStage(PropertyFunctionBase.java:104)\r\n\tat org.apache.jena.sparql.engine.iterator.QueryIterRepeatApply.makeNextStage(QueryIterRepeatApply.java:100)\r\n\tat org.apache.jena.sparql.engine.iterator.QueryIterRepeatApply.hasNextBinding(QueryIterRepeatApply.java:60)\r\n\tat org.apache.jena.sparql.engine.iterator.QueryIteratorBase.hasNext(QueryIteratorBase.java:116)\r\n\tat org.apache.jena.sparql.engine.iterator.QueryIterProcedure.hasNextBinding(QueryIterProcedure.java:73)\r\n\tat org.apache.jena.sparql.engine.iterator.QueryIteratorBase.hasNext(QueryIteratorBase.java:116)\r\n\tat org.apache.jena.sparql.engine.iterator.QueryIterConvert.hasNextBinding(QueryIterConvert.java:58)\r\n\tat org.apache.jena.sparql.engine.iterator.QueryIteratorBase.hasNext(QueryIteratorBase.java:116)\r\n\tat org.apache.jena.sparql.engine.iterator.QueryIteratorWrapper.hasNextBinding(QueryIteratorWrapper.java:38)\r\n\tat org.apache.jena.sparql.engine.iterator.QueryIteratorBase.hasNext(QueryIteratorBase.java:116)\r\n\tat org.apache.jena.sparql.engine.iterator.QueryIteratorWrapper.hasNextBinding(QueryIteratorWrapper.java:38)\r\n\tat org.apache.jena.sparql.engine.iterator.QueryIteratorBase.hasNext(QueryIteratorBase.java:116)\r\n\tat org.apache.jena.sparql.exec.RowSetStream.hasNext(RowSetStream.java:47)\r\n\tat org.apache.jena.sparql.engine.ResultSetStream.hasNext(ResultSetStream.java:75)\r\n\tat org.apache.jena.query.text.AbstractTestDatasetWithTextIndexBase.doTestQueryWithScores(AbstractTestDatasetWithTextIndexBase.java:125)\r\n\tat org.apache.jena.query.text.AbstractTestDatasetWithTextIndexBase.doTestSearchWithScores(AbstractTestDatasetWithTextIndexBase.java:76)\r\n\tat org.apache.jena.query.text.AbstractTestDatasetWithTextIndex.propertyFunctionText_1_score(AbstractTestDatasetWithTextIndex.java:113)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.junit.runners.Suite.runChild(Suite.java:128)\r\n\tat org.junit.runners.Suite.runChild(Suite.java:27)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:316)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:240)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:214)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:155)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)\r\n\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1872609689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1872620422","html_url":"https://github.com/apache/jena/pull/2121#issuecomment-1872620422","issue_url":"https://api.github.com/repos/apache/jena/issues/2121","id":1872620422,"node_id":"IC_kwDOAHF7Ec5vneuG","user":{"login":"OyvindLGjesdal","id":5328572,"node_id":"MDQ6VXNlcjUzMjg1NzI=","avatar_url":"https://avatars.githubusercontent.com/u/5328572?v=4","gravatar_id":"","url":"https://api.github.com/users/OyvindLGjesdal","html_url":"https://github.com/OyvindLGjesdal","followers_url":"https://api.github.com/users/OyvindLGjesdal/followers","following_url":"https://api.github.com/users/OyvindLGjesdal/following{/other_user}","gists_url":"https://api.github.com/users/OyvindLGjesdal/gists{/gist_id}","starred_url":"https://api.github.com/users/OyvindLGjesdal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OyvindLGjesdal/subscriptions","organizations_url":"https://api.github.com/users/OyvindLGjesdal/orgs","repos_url":"https://api.github.com/users/OyvindLGjesdal/repos","events_url":"https://api.github.com/users/OyvindLGjesdal/events{/privacy}","received_events_url":"https://api.github.com/users/OyvindLGjesdal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-30T22:46:31Z","updated_at":"2023-12-30T22:46:31Z","author_association":"CONTRIBUTOR","body":"The PR is ready for review again, sorry for the noise.\r\n\r\nthe normal condition where propList isn't used failed, due to the *Remove duplicate Query expressions* commit overwriting qString, instead of appending.\r\n\r\n```diff\r\n+        qString += String.join(\"\", uniquePropListQueryStrings);\r\n-         qString = String.join(\"\", uniquePropListQueryStrings);\r\n```\r\n\r\nUpdated some variable names, forced updated to reasonable number of commits and CI job passed.\r\n\r\nhttps://github.com/OyvindLGjesdal/jena/actions/runs/7366703795/job/20049203950\r\n\r\nAlso updated the PR description","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1872620422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1873264370","html_url":"https://github.com/apache/jena/pull/2137#issuecomment-1873264370","issue_url":"https://api.github.com/repos/apache/jena/issues/2137","id":1873264370,"node_id":"IC_kwDOAHF7Ec5vp77y","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-01T10:26:12Z","updated_at":"2024-01-01T10:26:12Z","author_association":"MEMBER","body":"Lucene upgrades need further checking and discussion.\r\n\r\nJena 5.0.0 is a good time to bump dependencies that have more impact.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1873264370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1873266191","html_url":"https://github.com/apache/jena/issues/2148#issuecomment-1873266191","issue_url":"https://api.github.com/repos/apache/jena/issues/2148","id":1873266191,"node_id":"IC_kwDOAHF7Ec5vp8YP","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-01T10:31:11Z","updated_at":"2024-01-01T10:31:11Z","author_association":"MEMBER","body":"\r\n9.7.0 -> 9.8.0\r\nhttps://lucene.apache.org/core/9_8_0/changes/Changes.html\r\n\r\n9.8.0 -> 9.9.0\r\nhttps://lucene.apache.org/core/9_9_0/changes/Changes.html","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1873266191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1873274299","html_url":"https://github.com/apache/jena/issues/2148#issuecomment-1873274299","issue_url":"https://api.github.com/repos/apache/jena/issues/2148","id":1873274299,"node_id":"IC_kwDOAHF7Ec5vp-W7","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-01T10:53:54Z","updated_at":"2024-01-01T10:53:54Z","author_association":"MEMBER","body":"Note:\r\nAn issue with 9.8.0 was that 21-EA could cause problems. Java21 final has been available for several months now.\r\nhttps://github.com/apache/jena/issues/2045\r\n\r\nWith 9.9.1, the build, run with Java21  outputs:\r\n```\r\nINFO: Using MemorySegmentIndexInput with Java 21; \r\n     to disable start with -Dorg.apache.lucene.store.MMapDirectory.enableMemorySegments=false\r\n```\r\n\r\nLooks good for the update.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1873274299/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1873274591","html_url":"https://github.com/apache/jena/pull/2137#issuecomment-1873274591","issue_url":"https://api.github.com/repos/apache/jena/issues/2137","id":1873274591,"node_id":"IC_kwDOAHF7Ec5vp-bf","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-01T10:54:45Z","updated_at":"2024-01-01T10:54:45Z","author_association":"MEMBER","body":"See the tracking issue #2148.\r\n\r\nLooks good for the update.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1873274591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1873336578","html_url":"https://github.com/apache/jena/pull/2147#issuecomment-1873336578","issue_url":"https://api.github.com/repos/apache/jena/issues/2147","id":1873336578,"node_id":"IC_kwDOAHF7Ec5vqNkC","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-01T13:50:40Z","updated_at":"2024-01-01T13:50:40Z","author_association":"MEMBER","body":"Happy 2024 indeed!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1873336578/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1873337253","html_url":"https://github.com/apache/jena/issues/2148#issuecomment-1873337253","issue_url":"https://api.github.com/repos/apache/jena/issues/2148","id":1873337253,"node_id":"IC_kwDOAHF7Ec5vqNul","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-01T13:52:38Z","updated_at":"2024-01-01T13:52:38Z","author_association":"MEMBER","body":"Closed by #2137.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1873337253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1874398269","html_url":"https://github.com/apache/jena/issues/2149#issuecomment-1874398269","issue_url":"https://api.github.com/repos/apache/jena/issues/2149","id":1874398269,"node_id":"IC_kwDOAHF7Ec5vuQw9","user":{"login":"vChavezB","id":47216966,"node_id":"MDQ6VXNlcjQ3MjE2OTY2","avatar_url":"https://avatars.githubusercontent.com/u/47216966?v=4","gravatar_id":"","url":"https://api.github.com/users/vChavezB","html_url":"https://github.com/vChavezB","followers_url":"https://api.github.com/users/vChavezB/followers","following_url":"https://api.github.com/users/vChavezB/following{/other_user}","gists_url":"https://api.github.com/users/vChavezB/gists{/gist_id}","starred_url":"https://api.github.com/users/vChavezB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vChavezB/subscriptions","organizations_url":"https://api.github.com/users/vChavezB/orgs","repos_url":"https://api.github.com/users/vChavezB/repos","events_url":"https://api.github.com/users/vChavezB/events{/privacy}","received_events_url":"https://api.github.com/users/vChavezB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-02T18:35:23Z","updated_at":"2024-01-02T18:35:23Z","author_association":"NONE","body":"After some searching I found this\r\n\r\nhttps://jena.apache.org/documentation/notes/jena-repack.html","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1874398269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1875898955","html_url":"https://github.com/apache/jena/issues/2127#issuecomment-1875898955","issue_url":"https://api.github.com/repos/apache/jena/issues/2127","id":1875898955,"node_id":"IC_kwDOAHF7Ec5vz_JL","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-03T20:01:33Z","updated_at":"2024-01-03T20:01:33Z","author_association":"MEMBER","body":"> I notice that the Windows file handles disappear after a while, and then it is possible to delete the folder. Is that connected to the GC settings as well?\r\n\r\nCould be - there have been proposed workarounds, some of which forced a GC. But they seemed to be GC-specific and also had reports they didn't always work.\r\n\r\nThe best Jena can do is to detech it is running on Windows and log that deleteOld is being ignores(I don't know if that works if the host is linux, that is, a container, running on a Windows host with mounted host files)","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1875898955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1876978148","html_url":"https://github.com/apache/jena/issues/2151#issuecomment-1876978148","issue_url":"https://api.github.com/repos/apache/jena/issues/2151","id":1876978148,"node_id":"IC_kwDOAHF7Ec5v4Gnk","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-04T11:57:35Z","updated_at":"2024-01-04T11:57:35Z","author_association":"MEMBER","body":"Primarily because none of the developers who originally wrote the reasoner code are actively involved in the project anymore.  None of our remaining active developers understand that portion of the code base to do anything more than fix the occasional obvious bug (e.g. NPE) that might be reported.\r\n\r\nExpanding the capabilities of the current reasoners would require sufficiently knowledgeable developer(s) to develop and contribute those new features/enhancements to the project.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1876978148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1877000561","html_url":"https://github.com/apache/jena/issues/2151#issuecomment-1877000561","issue_url":"https://api.github.com/repos/apache/jena/issues/2151","id":1877000561,"node_id":"IC_kwDOAHF7Ec5v4MFx","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-04T12:14:38Z","updated_at":"2024-01-04T12:14:38Z","author_association":"MEMBER","body":"`owl:AllDisjointClasses` is from OWL2, together with `owl:AllDisjointProperties`.\r\n\r\nOWL1, which Jena provides, has only `owl:AllDifferent`.\r\n\r\nSee coverage: https://jena.apache.org/documentation/inference/index.html#OWLcoverage","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1877000561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1878391109","html_url":"https://github.com/apache/jena/issues/2151#issuecomment-1878391109","issue_url":"https://api.github.com/repos/apache/jena/issues/2151","id":1878391109,"node_id":"IC_kwDOAHF7Ec5v9flF","user":{"login":"tobiaswjohn","id":34936267,"node_id":"MDQ6VXNlcjM0OTM2MjY3","avatar_url":"https://avatars.githubusercontent.com/u/34936267?v=4","gravatar_id":"","url":"https://api.github.com/users/tobiaswjohn","html_url":"https://github.com/tobiaswjohn","followers_url":"https://api.github.com/users/tobiaswjohn/followers","following_url":"https://api.github.com/users/tobiaswjohn/following{/other_user}","gists_url":"https://api.github.com/users/tobiaswjohn/gists{/gist_id}","starred_url":"https://api.github.com/users/tobiaswjohn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tobiaswjohn/subscriptions","organizations_url":"https://api.github.com/users/tobiaswjohn/orgs","repos_url":"https://api.github.com/users/tobiaswjohn/repos","events_url":"https://api.github.com/users/tobiaswjohn/events{/privacy}","received_events_url":"https://api.github.com/users/tobiaswjohn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-05T09:45:13Z","updated_at":"2024-01-05T09:45:13Z","author_association":"NONE","body":"Thank you for the clarification. I wrongly assumed that \"OWL\" also meant \"OWL 2\". ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1878391109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1878516020","html_url":"https://github.com/apache/jena/pull/2155#issuecomment-1878516020","issue_url":"https://api.github.com/repos/apache/jena/issues/2155","id":1878516020,"node_id":"IC_kwDOAHF7Ec5v9-E0","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-05T11:24:30Z","updated_at":"2024-01-05T11:24:42Z","author_association":"MEMBER","body":"This PR also converts the uses of `instanceof` to use pattern variables.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1878516020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1878545572","html_url":"https://github.com/apache/jena/pull/2155#issuecomment-1878545572","issue_url":"https://api.github.com/repos/apache/jena/issues/2155","id":1878545572,"node_id":"IC_kwDOAHF7Ec5v-FSk","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-05T11:50:09Z","updated_at":"2024-01-05T11:50:09Z","author_association":"MEMBER","body":"Related to #2152.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1878545572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1878561357","html_url":"https://github.com/apache/jena/issues/2153#issuecomment-1878561357","issue_url":"https://api.github.com/repos/apache/jena/issues/2153","id":1878561357,"node_id":"IC_kwDOAHF7Ec5v-JJN","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-05T12:03:49Z","updated_at":"2024-01-05T14:19:50Z","author_association":"MEMBER","body":"There are two sub-issues here:\r\n\r\n* The algebra generator does not cope with the non-parser AST generated by querybuilder\r\n  #2155\r\n* What should the querybuilder create? \r\n  #2156\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1878561357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1880021462","html_url":"https://github.com/apache/jena/issues/1968#issuecomment-1880021462","issue_url":"https://api.github.com/repos/apache/jena/issues/1968","id":1880021462,"node_id":"IC_kwDOAHF7Ec5wDtnW","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-07T10:44:15Z","updated_at":"2024-01-07T10:44:15Z","author_association":"MEMBER","body":"General issue for OWL2 support: #2160","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1880021462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1880021587","html_url":"https://github.com/apache/jena/issues/2151#issuecomment-1880021587","issue_url":"https://api.github.com/repos/apache/jena/issues/2151","id":1880021587,"node_id":"IC_kwDOAHF7Ec5wDtpT","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-07T10:44:49Z","updated_at":"2024-01-07T10:44:49Z","author_association":"MEMBER","body":"I've created an issue for OWL2 support: #2160\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1880021587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1880022274","html_url":"https://github.com/apache/jena/issues/2160#issuecomment-1880022274","issue_url":"https://api.github.com/repos/apache/jena/issues/2160","id":1880022274,"node_id":"IC_kwDOAHF7Ec5wDt0C","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-07T10:48:15Z","updated_at":"2024-01-07T10:48:15Z","author_association":"MEMBER","body":"Related issues:\r\n* #2151\r\n* #1968\r\n* [JENA-2346](https://issues.apache.org/jira/browse/JENA-2346)","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1880022274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1880822222","html_url":"https://github.com/apache/jena/issues/2161#issuecomment-1880822222","issue_url":"https://api.github.com/repos/apache/jena/issues/2161","id":1880822222,"node_id":"IC_kwDOAHF7Ec5wGxHO","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-08T11:26:42Z","updated_at":"2024-01-08T11:26:42Z","author_association":"MEMBER","body":">  I see guava was added for use not that long ago, would it make sense to add the dependency to the service-enhancer pom.xml? to ensure that it is loaded, or could it be that it is my user error?\r\n\r\nI thought actually the opposite was true, Guava was removed in favour of [ben-manes/caffeine](https://github.com/ben-manes/caffeine) since we were only really using Guava for caching and the lack of stability in Guava APIs meant we were having to mess around with shading which we no longer wanted to do.\r\n\r\nSo this might be a side-effect of that, the service enhancer plugin previously assumed that it would get Guava transitively from elsewhere in Jena which is no longer true.\r\n\r\nSo yes probably two options:\r\n\r\n- Short term - explicitly add Guava as a local dependency to your Fuseki Classpath\r\n- Long term - create a new issue and PR to migrate the plugin to using the new preferred cache APIs","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1880822222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1881068064","html_url":"https://github.com/apache/jena/issues/2162#issuecomment-1881068064","issue_url":"https://api.github.com/repos/apache/jena/issues/2162","id":1881068064,"node_id":"IC_kwDOAHF7Ec5wHtIg","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-08T14:00:45Z","updated_at":"2024-01-08T14:00:45Z","author_association":"MEMBER","body":"Sounds useful to me. Cannot recall if there was a reason for not logging, and it is also necessary to confirm if the error happened in the backend (e.g. if the UI validation fails, there may not have a request to the server).","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1881068064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1883026770","html_url":"https://github.com/apache/jena/issues/2161#issuecomment-1883026770","issue_url":"https://api.github.com/repos/apache/jena/issues/2161","id":1883026770,"node_id":"IC_kwDOAHF7Ec5wPLVS","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-09T13:01:45Z","updated_at":"2024-01-09T13:01:45Z","author_association":"MEMBER","body":"Google Guava also has dependencies:\r\n```\r\n[INFO] +- com.google.guava:guava:jar:32.1.3-jre:compile\r\n[INFO] |  +- com.google.guava:failureaccess:jar:1.0.1:compile\r\n[INFO] |  +- com.google.guava:listenablefuture:jar:9999.0-empty-to-avoid-conflict-with-guava:compile\r\n[INFO] |  +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\r\n[INFO] |  \\- com.google.j2objc:j2objc-annotations:jar:2.8:compile\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1883026770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1883034176","html_url":"https://github.com/apache/jena/issues/2128#issuecomment-1883034176","issue_url":"https://api.github.com/repos/apache/jena/issues/2128","id":1883034176,"node_id":"IC_kwDOAHF7Ec5wPNJA","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-09T13:08:58Z","updated_at":"2024-01-09T13:08:58Z","author_association":"MEMBER","body":"Closing question.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1883034176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1883034776","html_url":"https://github.com/apache/jena/issues/2120#issuecomment-1883034776","issue_url":"https://api.github.com/repos/apache/jena/issues/2120","id":1883034776,"node_id":"IC_kwDOAHF7Ec5wPNSY","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-09T13:09:33Z","updated_at":"2024-01-09T13:09:33Z","author_association":"MEMBER","body":"Closing question.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1883034776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1883780573","html_url":"https://github.com/apache/jena/issues/2161#issuecomment-1883780573","issue_url":"https://api.github.com/repos/apache/jena/issues/2161","id":1883780573,"node_id":"IC_kwDOAHF7Ec5wSDXd","user":{"login":"OyvindLGjesdal","id":5328572,"node_id":"MDQ6VXNlcjUzMjg1NzI=","avatar_url":"https://avatars.githubusercontent.com/u/5328572?v=4","gravatar_id":"","url":"https://api.github.com/users/OyvindLGjesdal","html_url":"https://github.com/OyvindLGjesdal","followers_url":"https://api.github.com/users/OyvindLGjesdal/followers","following_url":"https://api.github.com/users/OyvindLGjesdal/following{/other_user}","gists_url":"https://api.github.com/users/OyvindLGjesdal/gists{/gist_id}","starred_url":"https://api.github.com/users/OyvindLGjesdal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OyvindLGjesdal/subscriptions","organizations_url":"https://api.github.com/users/OyvindLGjesdal/orgs","repos_url":"https://api.github.com/users/OyvindLGjesdal/repos","events_url":"https://api.github.com/users/OyvindLGjesdal/events{/privacy}","received_events_url":"https://api.github.com/users/OyvindLGjesdal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-09T20:57:17Z","updated_at":"2024-01-09T21:00:38Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/jena/blob/jena-4.10.0/jena-extras/jena-serviceenhancer/pom.xml#L103\r\nIt looks like the artefact published isn't built using the profile *bundle*, which runs shading.\r\n\r\n```\r\n  <!-- Profile to build a \"plugin jar bundle\" that can be loaded with fuseki or any other jena-based app -->\r\n  <profiles>\r\n    <profile>\r\n      <id>bundle</id>\r\n      <dependencies>\r\n        <dependency>\r\n          <groupId>org.apache.jena</groupId>\r\n          <artifactId>jena-arq</artifactId>\r\n          <version>4.10.0</version>\r\n          <scope>provided</scope>\r\n        </dependency>\r\n      </dependencies>\r\n```\r\n\r\nWhen I actived the profile (by setting activeByDefault true) and built the outputs, the jar is a 3 MB vs 207 KB. Will check if it launches tomorrow.\r\n\r\nOutputs of build at 4.10 with profile active:\r\n```\r\ndrwxr-xr-x@ 14    448B Jan  9 21:40 .\r\ndrwxr-xr-x@  7    224B Jan  9 21:41 ..\r\n-rw-r--r--@  1     30B Jan  9 21:39 .plxarc\r\ndrwxr-xr-x@  4    128B Jan  9 21:39 classes\r\ndrwxr-xr-x@  3     96B Jan  9 21:39 generated-sources\r\ndrwxr-xr-x@  3     96B Jan  9 21:39 generated-test-sources\r\n-rw-r--r--@  1    165K Jan  9 21:40 jena-serviceenhancer-4.10.0-sources.jar\r\n-rw-r--r--@  1    3.1M Jan  9 21:40 jena-serviceenhancer-4.10.0.jar\r\ndrwxr-xr-x@  3     96B Jan  9 21:40 maven-archiver\r\ndrwxr-xr-x@  3     96B Jan  9 21:39 maven-shared-archive-resources\r\ndrwxr-xr-x@  3     96B Jan  9 21:39 maven-status\r\n-rw-r--r--@  1    207K Jan  9 21:40 original-jena-serviceenhancer-4.10.0.jar\r\ndrwxr-xr-x@ 16    512B Jan  9 21:40 surefire-reports\r\ndrwxr-xr-x@  6    192B Jan  9 21:39 test-classes\r\n```","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1883780573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1884485655","html_url":"https://github.com/apache/jena/issues/2161#issuecomment-1884485655","issue_url":"https://api.github.com/repos/apache/jena/issues/2161","id":1884485655,"node_id":"IC_kwDOAHF7Ec5wUvgX","user":{"login":"OyvindLGjesdal","id":5328572,"node_id":"MDQ6VXNlcjUzMjg1NzI=","avatar_url":"https://avatars.githubusercontent.com/u/5328572?v=4","gravatar_id":"","url":"https://api.github.com/users/OyvindLGjesdal","html_url":"https://github.com/OyvindLGjesdal","followers_url":"https://api.github.com/users/OyvindLGjesdal/followers","following_url":"https://api.github.com/users/OyvindLGjesdal/following{/other_user}","gists_url":"https://api.github.com/users/OyvindLGjesdal/gists{/gist_id}","starred_url":"https://api.github.com/users/OyvindLGjesdal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OyvindLGjesdal/subscriptions","organizations_url":"https://api.github.com/users/OyvindLGjesdal/orgs","repos_url":"https://api.github.com/users/OyvindLGjesdal/repos","events_url":"https://api.github.com/users/OyvindLGjesdal/events{/privacy}","received_events_url":"https://api.github.com/users/OyvindLGjesdal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-10T09:30:59Z","updated_at":"2024-01-10T14:43:00Z","author_association":"CONTRIBUTOR","body":"It starts up when dropped in, but the first example in the docs using wikidata fails with a timeout.\r\n\r\nIt looks like a different bug, either in the example, or in the rewriting, where the ?s values aren't injected. \r\n\r\nIf the VALUES clause are moved into the service, there is a cache result.\r\n\r\nThe example from the docs:\r\n\r\n```\r\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\nPREFIX wd: <http://www.wikidata.org/entity/>\r\nSELECT ?s ?l {\r\n  # The ids below correspond in order to: Apache Jena, Semantic Web, RDF, SPARQL, Andy Seaborne\r\n  VALUES ?s { wd:Q1686799 wd:Q54837 wd:Q54872 wd:Q54871 wd:Q108379795 }\r\n \r\n  SERVICE <cache:loop:bulk+5:https://query.wikidata.org/sparql> {\r\n    SELECT ?l {\r\n      ?s rdfs:label ?l\r\n      FILTER(langMatches(lang(?l), 'en'))\r\n    } ORDER BY ?l LIMIT 1\r\n  }\r\n}\r\n```\r\nConfiguration of endpoint in **/var/fuseki/configuration/sparql.ttl**\r\n```\r\n@prefix fuseki:  <http://jena.apache.org/fuseki#> .\r\n@prefix rdf:     <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\r\n@prefix rdfs:    <http://www.w3.org/2000/01/rdf-schema#> .\r\n@prefix tdb:     <http://jena.hpl.hp.com/2008/tdb#> .\r\n@prefix tdb2:    <http://jena.apache.org/2016/tdb#> .\r\n@prefix text:    <http://jena.apache.org/text#> .\r\n@prefix ja:      <http://jena.hpl.hp.com/2005/11/Assembler#> .\r\n@prefix spatial: <http://jena.apache.org/spatial#> .\r\n@prefix se: <http://jena.apache.org/service-enhancer#> .\r\n@prefix :        <#> .\r\n\r\n\r\n<#service> rdf:type fuseki:Service ;\r\n    rdf:type se:DatasetServiceEnhancer ;\r\n    fuseki:name \"sparql\" ;\r\n    fuseki:serviceQuery \"query\" ;\r\n    ja:context [ ja:cxtName \"arq:logExec\" ;  ja:cxtValue \"info\" ], [ja:cxtName \"arq:optReorderBGP\" ; ja:cxtValue \"info\"];\r\n\r\n    fuseki:endpoint [ fuseki:operation fuseki:shacl ;\r\n        fuseki:name \"shacl\" ];\r\n    fuseki:dataset <#dataset> ;\r\n\r\n    fuseki:serviceReadGraphStore \"data\" ;\r\n    .\r\n\r\n<#dataset> rdf:type tdb:DatasetTDB ;    tdb:location \"/var/fuseki/databases/sparql\" ;\r\n    tdb:unionDefaultGraph true ;\r\n\r\n```\r\n\r\nfrom the logs:\r\n\r\n```10:18:10 INFO  Fuseki          :: [3] Query =\r\nJan 10 10:18:10 server fuseki-server[98423]: PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\nJan 10 10:18:10 server fuseki-server[98423]: PREFIX wd: <http://www.wikidata.org/entity/>\r\nJan 10 10:18:10 server fuseki-server[98423]: SELECT ?s ?l {\r\nJan 10 10:18:10 server fuseki-server[98423]:   # The ids below correspond in order to: Apache Jena, Semantic Web, RDF, SPARQL, Andy Seaborne\r\nJan 10 10:18:10 server fuseki-server[98423]:   VALUES ?s { wd:Q1686799 wd:Q54837 wd:Q54872 wd:Q54871 wd:Q108379795 }\r\nJan 10 10:18:10 server fuseki-server[98423]:\r\nJan 10 10:18:10 server fuseki-server[98423]:   SERVICE <cache:loop:bulk+5:https://query.wikidata.org/sparql> {\r\nJan 10 10:18:10 server fuseki-server[98423]:     SELECT ?l {\r\nJan 10 10:18:10 server fuseki-server[98423]:       ?s rdfs:label ?l\r\nJan 10 10:18:10 server fuseki-server[98423]:       FILTER(langMatches(lang(?l), 'en'))\r\nJan 10 10:18:10 server fuseki-server[98423]:     } ORDER BY ?l LIMIT 1\r\nJan 10 10:18:10 server fuseki-server[98423]:   }\r\nJan 10 10:18:10 server fuseki-server[98423]: }\r\nJan 10 10:18:10 server fuseki-server[98423]: 10:18:10 INFO  QueryIterServiceBulk :: Schedule for current batch:\r\nJan 10 10:18:10 server fuseki-server[98423]: 10:18:10 INFO  QueryIterServiceBulk :: input 0: [[0..1)=fetch]\r\nJan 10 10:18:10 server fuseki-server[98423]: 10:18:10 INFO  BatchQueryRewriter :: Rewritten bulk query: SELECT  *\r\nJan 10 10:18:10 server fuseki-server[98423]: WHERE\r\nJan 10 10:18:10 server fuseki-server[98423]:   {   { { SELECT  ?l\r\nJan 10 10:18:10 server fuseki-server[98423]:           WHERE\r\nJan 10 10:18:10 server fuseki-server[98423]:             { ?s  <http://www.w3.org/2000/01/rdf-schema#label>  ?l\r\nJan 10 10:18:10 server fuseki-server[98423]:               FILTER langMatches(lang(?l), \"en\")\r\nJan 10 10:18:10 server fuseki-server[98423]:             }\r\nJan 10 10:18:10 server fuseki-server[98423]:           ORDER BY ?l\r\nJan 10 10:18:10 server fuseki-server[98423]:           LIMIT   1\r\nJan 10 10:18:10 server fuseki-server[98423]:         }\r\nJan 10 10:18:10 server fuseki-server[98423]:         BIND(0 AS ?__idx__)\r\nJan 10 10:18:10 server fuseki-server[98423]:       }\r\nJan 10 10:18:10 server fuseki-server[98423]:     UNION\r\nJan 10 10:18:10 server fuseki-server[98423]:       { BIND(1000000000 AS ?__idx__) }\r\nJan 10 10:19:10 server fuseki-server[98423]: 10:19:10 WARN  Fuseki          :: [3] RC = 500 : Prefetching data failed. Reason: Server Error\r\nJan 10 10:19:10 server fuseki-server[98423]: java.lang.RuntimeException: Prefetching data failed. Reason: Server Error\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.service.enhancer.impl.util.SinglePrefetchIterator._prefetch(SinglePrefetchIterator.java:68) ~[jena-serviceenhancer-4.10.0.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.service.enhancer.impl.util.SinglePrefetchIterator.hasNext(SinglePrefetchIterator.java:77) ~[jena-serviceenhancer-4.10.0.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.atlas.iterator.IteratorWrapper.hasNext(IteratorWrapper.java:37) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.atlas.iterator.IteratorOnClose.hasNext(IteratorOnClose.java:45) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.iterator.QueryIterPlainWrapper.hasNextBinding(QueryIterPlainWrapper.java:59) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.iterator.QueryIteratorBase.hasNext(QueryIteratorBase.java:116) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.iterator.QueryIterPeek.hasNextBinding(QueryIterPeek.java:57) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.iterator.QueryIteratorBase.hasNext(QueryIteratorBase.java:116) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.service.enhancer.impl.QueryIterServiceBulk.moveToNext(QueryIterServiceBulk.java:201) ~[jena-serviceenhancer-4.10.0.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.service.enhancer.impl.QueryIterServiceBulk.moveToNext(QueryIterServiceBulk.java:82) ~[jena-serviceenhancer-4.10.0.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.atlas.iterator.IteratorSlotted.hasNext(IteratorSlotted.java:63) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.iterator.QueryIterConvert.hasNextBinding(QueryIterConvert.java:58) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.iterator.QueryIteratorBase.hasNext(QueryIteratorBase.java:116) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.iterator.QueryIterPeek.hasNextBinding(QueryIterPeek.java:57) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.iterator.QueryIteratorBase.hasNext(QueryIteratorBase.java:116) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.service.enhancer.impl.RequestExecutor.moveToNext(RequestExecutor.java:112) ~[jena-serviceenhancer-4.10.0.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.service.enhancer.impl.RequestExecutor.moveToNext(RequestExecutor.java:53) ~[jena-serviceenhancer-4.10.0.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.atlas.iterator.IteratorSlotted.hasNext(IteratorSlotted.java:63) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.join.QueryIterHashJoin.create(QueryIterHashJoin.java:47) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.join.QueryIterHashJoin.create(QueryIterHashJoin.java:66) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.join.Join.hashJoin(Join.java:115) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.join.Join.join(Join.java:58) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.main.OpExecutor.execute(OpExecutor.java:216) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.main.ExecutionDispatch.visit(ExecutionDispatch.java:110) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.algebra.op.OpJoin.visit(OpJoin.java:75) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.main.ExecutionDispatch.exec(ExecutionDispatch.java:43) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.main.OpExecutor.exec(OpExecutor.java:115) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.tdb.solver.OpExecutorTDB1.exec(OpExecutorTDB1.java:87) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.main.OpExecutor.execute(OpExecutor.java:393) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.main.ExecutionDispatch.visit(ExecutionDispatch.java:243) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.algebra.op.OpProject.visit(OpProject.java:46) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.main.ExecutionDispatch.exec(ExecutionDispatch.java:43) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.main.OpExecutor.exec(OpExecutor.java:115) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.tdb.solver.OpExecutorTDB1.exec(OpExecutorTDB1.java:87) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.main.OpExecutor.execute(OpExecutor.java:87) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.main.QC.execute(QC.java:53) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.main.QueryEngineMain.eval(QueryEngineMain.java:55) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.tdb.solver.QueryEngineTDB.eval(QueryEngineTDB.java:102) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.QueryEngineBase.evaluate(QueryEngineBase.java:164) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.QueryEngineBase.createPlan(QueryEngineBase.java:128) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.QueryEngineBase.getPlan(QueryEngineBase.java:110) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.tdb.solver.QueryEngineTDB$QueryEngineFactoryTDB.create(QueryEngineTDB.java:136) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.exec.QueryExecDataset.getPlan(QueryExecDataset.java:514) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.exec.QueryExecDataset.startQueryIterator(QueryExecDataset.java:477) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.exec.QueryExecDataset.execute(QueryExecDataset.java:170) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.exec.QueryExecDataset.select(QueryExecDataset.java:164) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.exec.QueryExecutionAdapter.execSelect(QueryExecutionAdapter.java:115) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.fuseki.servlets.SPARQLQueryProcessor.executeQuery(SPARQLQueryProcessor.java:374) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.fuseki.servlets.SPARQLQueryProcessor.execute(SPARQLQueryProcessor.java:279) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.fuseki.servlets.SPARQLQueryProcessor.executeWithParameter(SPARQLQueryProcessor.java:224) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.fuseki.servlets.SPARQLQueryProcessor.execute(SPARQLQueryProcessor.java:209) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.fuseki.servlets.ActionService.executeLifecycle(ActionService.java:58) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.fuseki.servlets.SPARQLQueryProcessor.execPost(SPARQLQueryProcessor.java:84) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.fuseki.servlets.ActionProcessor.process(ActionProcessor.java:34) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.fuseki.servlets.ActionBase.process(ActionBase.java:54) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.fuseki.servlets.ActionExecLib.execActionSub(ActionExecLib.java:127) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.fuseki.servlets.ActionExecLib.execAction(ActionExecLib.java:101) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.fuseki.server.Dispatcher.dispatchAction(Dispatcher.java:231) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.fuseki.server.Dispatcher.process(Dispatcher.java:221) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.fuseki.server.Dispatcher.dispatch(Dispatcher.java:148) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.fuseki.servlets.FusekiFilter.doFilter(FusekiFilter.java:49) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:154) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:154) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:458) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:373) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:387) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:370) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:154) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:202) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.fuseki.servlets.CrossOriginFilter.handle(CrossOriginFilter.java:334) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.fuseki.servlets.CrossOriginFilter.doFilter(CrossOriginFilter.java:288) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:210) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1635) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:527) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:131) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:598) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:223) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1570) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:221) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1384) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:176) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:484) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1543) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:174) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1306) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:129) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:822) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:122) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.server.Server.handle(Server.java:563) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.server.HttpChannel$RequestDispatchable.dispatch(HttpChannel.java:1598) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:753) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:501) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:287) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:314) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:421) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:390) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:277) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.run(AdaptiveExecutionStrategy.java:199) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:411) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:969) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.doRunJob(QueuedThreadPool.java:1194) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1149) [fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at java.base/java.lang.Thread.run(Thread.java:829) [?:?]\r\nJan 10 10:19:10 server fuseki-server[98423]: Caused by: org.apache.jena.sparql.engine.http.QueryExceptionHTTP: Server Error\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.http.QueryExceptionHTTP.rewrap(QueryExceptionHTTP.java:49) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.exec.http.QueryExecHTTP.executeQuery(QueryExecHTTP.java:551) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.exec.http.QueryExecHTTP.execRowSet(QueryExecHTTP.java:172) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.exec.http.QueryExecHTTP.select(QueryExecHTTP.java:163) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.exec.http.Service.exec(Service.java:242) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.service.single.ServiceExecutorHttp.createExecution(ServiceExecutorHttp.java:45) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.service.single.ChainingServiceExecutorWrapper.createExecution(ChainingServiceExecutorWrapper.java:51) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.service.single.ServiceExecutorOverRegistry.createExecution(ServiceExecutorOverRegistry.java:65) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.service.enhancer.init.ServiceEnhancerInit.lambda$registerServiceExecutorSelf$0(ServiceEnhancerInit.java:150) ~[jena-serviceenhancer-4.10.0.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.service.single.ServiceExecutorOverRegistry.createExecution(ServiceExecutorOverRegistry.java:65) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.service.bulk.ServiceExecutorBulkToSingle$1.nextStage(ServiceExecutorBulkToSingle.java:48) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.iterator.QueryIterRepeatApply.makeNextStage(QueryIterRepeatApply.java:100) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.iterator.QueryIterRepeatApply.hasNextBinding(QueryIterRepeatApply.java:60) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.iterator.QueryIteratorBase.hasNext(QueryIteratorBase.java:116) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.iterator.QueryIteratorWrapper.hasNextBinding(QueryIteratorWrapper.java:38) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.service.enhancer.impl.util.QueryIterDefer.hasNextBinding(QueryIterDefer.java:50) ~[jena-serviceenhancer-4.10.0.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.iterator.QueryIteratorBase.hasNext(QueryIteratorBase.java:116) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.atlas.iterator.Iter$IterMap.hasNext(Iter.java:422) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.service.enhancer.impl.util.PeekIteratorLazy.computeNext(PeekIteratorLazy.java:48) ~[jena-serviceenhancer-4.10.0.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at com.google.common.collect.AbstractIterator.tryToComputeNext(AbstractIterator.java:145) ~[jena-serviceenhancer-4.10.0.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at com.google.common.collect.AbstractIterator.hasNext(AbstractIterator.java:140) ~[jena-serviceenhancer-4.10.0.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.service.enhancer.impl.util.IteratorUtils$1.computeNext(IteratorUtils.java:72) ~[jena-serviceenhancer-4.10.0.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.service.enhancer.impl.util.IteratorUtils$1.computeNext(IteratorUtils.java:58) ~[jena-serviceenhancer-4.10.0.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at com.google.common.collect.AbstractIterator.tryToComputeNext(AbstractIterator.java:145) ~[jena-serviceenhancer-4.10.0.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at com.google.common.collect.AbstractIterator.hasNext(AbstractIterator.java:140) ~[jena-serviceenhancer-4.10.0.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.service.enhancer.impl.QueryIterWrapperCache.setupForNextLhsBinding(QueryIterWrapperCache.java:133) ~[jena-serviceenhancer-4.10.0.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.service.enhancer.impl.QueryIterWrapperCache.moveToNext(QueryIterWrapperCache.java:106) ~[jena-serviceenhancer-4.10.0.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.service.enhancer.impl.QueryIterWrapperCache.moveToNext(QueryIterWrapperCache.java:45) ~[jena-serviceenhancer-4.10.0.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.atlas.iterator.IteratorSlotted.hasNext(IteratorSlotted.java:63) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.iterator.QueryIteratorWrapper.hasNextBinding(QueryIteratorWrapper.java:38) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.engine.iterator.QueryIteratorBase.hasNext(QueryIteratorBase.java:116) ~[fuseki-server.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.service.enhancer.impl.IteratorFactoryWithBuffer$SubIteratorImpl.prefetch(IteratorFactoryWithBuffer.java:181) ~[jena-serviceenhancer-4.10.0.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         at org.apache.jena.sparql.service.enhancer.impl.util.SinglePrefetchIterator._prefetch(SinglePrefetchIterator.java:64) ~[jena-serviceenhancer-4.10.0.jar:4.10.0]\r\nJan 10 10:19:10 server fuseki-server[98423]:         ... 118 more\r\n\r\n\r\n\r\n```\r\n\r\n<img width=\"1915\" alt=\"fetching-data-failed\" src=\"https://github.com/apache/jena/assets/5328572/c49efd80-0f35-4ace-b3b1-cc4bc4f3ef6b\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1884485655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1884529588","html_url":"https://github.com/apache/jena/pull/2152#issuecomment-1884529588","issue_url":"https://api.github.com/repos/apache/jena/issues/2152","id":1884529588,"node_id":"IC_kwDOAHF7Ec5wU6O0","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-10T09:57:45Z","updated_at":"2024-01-10T09:57:45Z","author_association":"MEMBER","body":"Closing in favour of PR #2155 which improves the `AlgebraGenerator` to handle these non-parser ASTs that the Query Builder (or other programmatic query construction) may create","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1884529588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1885040042","html_url":"https://github.com/apache/jena/issues/2161#issuecomment-1885040042","issue_url":"https://api.github.com/repos/apache/jena/issues/2161","id":1885040042,"node_id":"IC_kwDOAHF7Ec5wW22q","user":{"login":"OyvindLGjesdal","id":5328572,"node_id":"MDQ6VXNlcjUzMjg1NzI=","avatar_url":"https://avatars.githubusercontent.com/u/5328572?v=4","gravatar_id":"","url":"https://api.github.com/users/OyvindLGjesdal","html_url":"https://github.com/OyvindLGjesdal","followers_url":"https://api.github.com/users/OyvindLGjesdal/followers","following_url":"https://api.github.com/users/OyvindLGjesdal/following{/other_user}","gists_url":"https://api.github.com/users/OyvindLGjesdal/gists{/gist_id}","starred_url":"https://api.github.com/users/OyvindLGjesdal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OyvindLGjesdal/subscriptions","organizations_url":"https://api.github.com/users/OyvindLGjesdal/orgs","repos_url":"https://api.github.com/users/OyvindLGjesdal/repos","events_url":"https://api.github.com/users/OyvindLGjesdal/events{/privacy}","received_events_url":"https://api.github.com/users/OyvindLGjesdal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-10T15:14:57Z","updated_at":"2024-01-10T15:15:18Z","author_association":"CONTRIBUTOR","body":"The second problem is just a misconfigured assembler on my part and is now solved.\r\n\r\ncorrelated joins are enabled and working, when it is placed in between the service and the dataset.\r\n\r\nFixed assembler \r\n\r\n```\r\n@prefix fuseki:  <http://jena.apache.org/fuseki#> .\r\n@prefix rdf:     <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\r\n@prefix rdfs:    <http://www.w3.org/2000/01/rdf-schema#> .\r\n@prefix tdb:     <http://jena.hpl.hp.com/2008/tdb#> .\r\n@prefix tdb2:    <http://jena.apache.org/2016/tdb#> .\r\n@prefix text:    <http://jena.apache.org/text#> .\r\n@prefix ja:      <http://jena.hpl.hp.com/2005/11/Assembler#> .\r\n@prefix spatial: <http://jena.apache.org/spatial#> .\r\n@prefix se: <http://jena.apache.org/service-enhancer#> .\r\n@prefix :        <#> .\r\n\r\n\r\n<#service>\r\n    rdf:type fuseki:Service  ;\r\n    fuseki:name \"sparql\" ;\r\n    fuseki:serviceQuery \"query\" ;\r\n    ja:context [ ja:cxtName \"arq:logExec\" ;  ja:cxtValue \"info\" ], [ja:cxtName \"arq:optReorderBGP\" ; ja:cxtValue \"info\"];\r\n\r\n    fuseki:endpoint [ fuseki:operation fuseki:shacl ;\r\n        fuseki:name \"shacl\" ];\r\n    fuseki:dataset <#serviceenhancer> ;\r\n\r\n    fuseki:serviceReadGraphStore \"data\" ;\r\n    .\r\n\r\n<#serviceenhancer>  a se:DatasetServiceEnhancer ;\r\n ja:baseDataset <#dataset>.\r\n\r\n\r\n<#dataset> rdf:type tdb:DatasetTDB ;    tdb:location \"/var/fuseki/databases/sparql\" ;\r\n    tdb:unionDefaultGraph true ;\r\n    .\r\n```","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1885040042/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1885469067","html_url":"https://github.com/apache/jena/pull/2164#issuecomment-1885469067","issue_url":"https://api.github.com/repos/apache/jena/issues/2164","id":1885469067,"node_id":"IC_kwDOAHF7Ec5wYfmL","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-10T19:08:38Z","updated_at":"2024-01-10T19:08:38Z","author_association":"MEMBER","body":"The files  ARQParser.java and ARQParserTokenManager.java are automatically generated - same for all the pairs like that.\r\n\r\n```\r\n/* Generated By:JavaCC: Do not edit this line. ARQParser.java */\r\n```\r\nJavaCC isn't run in the build. In each directory there a shell script that does several things - clear up old stuff, generate the parser, generate the txt file that can be used to produce complete HTML (jjdoc does not), then some patching up such as adding _SuppressWarnings (\"unused\")_.\r\n\r\n1. People can build Jena without needing to have javacc\r\n1. The source is available when debugging\r\n1. The files do not change every often.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1885469067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1887128520","html_url":"https://github.com/apache/jena/pull/2164#issuecomment-1887128520","issue_url":"https://api.github.com/repos/apache/jena/issues/2164","id":1887128520,"node_id":"IC_kwDOAHF7Ec5we0vI","user":{"login":"TelicentPaul","id":132362215,"node_id":"U_kgDOB-Ov5w","avatar_url":"https://avatars.githubusercontent.com/u/132362215?v=4","gravatar_id":"","url":"https://api.github.com/users/TelicentPaul","html_url":"https://github.com/TelicentPaul","followers_url":"https://api.github.com/users/TelicentPaul/followers","following_url":"https://api.github.com/users/TelicentPaul/following{/other_user}","gists_url":"https://api.github.com/users/TelicentPaul/gists{/gist_id}","starred_url":"https://api.github.com/users/TelicentPaul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TelicentPaul/subscriptions","organizations_url":"https://api.github.com/users/TelicentPaul/orgs","repos_url":"https://api.github.com/users/TelicentPaul/repos","events_url":"https://api.github.com/users/TelicentPaul/events{/privacy}","received_events_url":"https://api.github.com/users/TelicentPaul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-11T13:07:08Z","updated_at":"2024-01-11T13:07:08Z","author_association":"CONTRIBUTOR","body":"I'm happy to rollback the changes in the auto-generated files since (a) it's only imports (b) it'll presumably be overridden next time the process runs. Just let me know. \r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1887128520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1887266216","html_url":"https://github.com/apache/jena/pull/2164#issuecomment-1887266216","issue_url":"https://api.github.com/repos/apache/jena/issues/2164","id":1887266216,"node_id":"IC_kwDOAHF7Ec5wfWWo","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-11T14:16:50Z","updated_at":"2024-01-11T14:16:50Z","author_association":"MEMBER","body":"We might as well leave the PR as is. Yes, they get overwritten. Not a lot we can do about that short of an amount more of hackery. \"Mostly harmless\". ðŸ¤·ðŸ» It is as the comment in the source files says!\r\n\r\nLooks like the class level _SuppressWarnings (\"unused\")_ is added manually at least sometimes. IIRC it is too fragile to script exact fixes like unused imports always - javacc has changed its output across versions in the past or if the javacc setup changes (which is very rare).","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1887266216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1887287600","html_url":"https://github.com/apache/jena/pull/2164#issuecomment-1887287600","issue_url":"https://api.github.com/repos/apache/jena/issues/2164","id":1887287600,"node_id":"IC_kwDOAHF7Ec5wfbkw","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-11T14:22:34Z","updated_at":"2024-01-11T14:23:29Z","author_association":"MEMBER","body":"What is odd is that this PR fixes a couple of things that Eclipse does not pick up and there doesn't seem to be an preference option for.\r\n\r\n- some unused static imports\r\n- unnecessary import of static inner class\r\n\r\nBad news is that I tried some other warning settings and found a real issue. Another PR ...","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1887287600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1887329546","html_url":"https://github.com/apache/jena/pull/2164#issuecomment-1887329546","issue_url":"https://api.github.com/repos/apache/jena/issues/2164","id":1887329546,"node_id":"IC_kwDOAHF7Ec5wfl0K","user":{"login":"TelicentPaul","id":132362215,"node_id":"U_kgDOB-Ov5w","avatar_url":"https://avatars.githubusercontent.com/u/132362215?v=4","gravatar_id":"","url":"https://api.github.com/users/TelicentPaul","html_url":"https://github.com/TelicentPaul","followers_url":"https://api.github.com/users/TelicentPaul/followers","following_url":"https://api.github.com/users/TelicentPaul/following{/other_user}","gists_url":"https://api.github.com/users/TelicentPaul/gists{/gist_id}","starred_url":"https://api.github.com/users/TelicentPaul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TelicentPaul/subscriptions","organizations_url":"https://api.github.com/users/TelicentPaul/orgs","repos_url":"https://api.github.com/users/TelicentPaul/repos","events_url":"https://api.github.com/users/TelicentPaul/events{/privacy}","received_events_url":"https://api.github.com/users/TelicentPaul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-11T14:41:25Z","updated_at":"2024-01-11T14:41:25Z","author_association":"CONTRIBUTOR","body":"Can I ask that as part of your PR you fix the \"configutation\" typo in FusekiMain.java?\r\nIt caught my eye but doesn't merit it's own PR. ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1887329546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1887724347","html_url":"https://github.com/apache/jena/pull/2164#issuecomment-1887724347","issue_url":"https://api.github.com/repos/apache/jena/issues/2164","id":1887724347,"node_id":"IC_kwDOAHF7Ec5whGM7","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-11T18:24:34Z","updated_at":"2024-01-11T18:24:34Z","author_association":"MEMBER","body":"> Can I ask that as part of your PR you fix the \"configutation\" typo in FusekiMain.java?\r\n> It caught my eye but doesn't merit it's own PR.\r\n\r\n#2166 is just changes in jena-core.\r\n\r\nI've changed my local working copy on an on-going branch (about TDB commands) that is close-ish to jena-fuseki-main. OK?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1887724347/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1889033145","html_url":"https://github.com/apache/jena/pull/2165#issuecomment-1889033145","issue_url":"https://api.github.com/repos/apache/jena/issues/2165","id":1889033145,"node_id":"IC_kwDOAHF7Ec5wmFu5","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-12T12:18:41Z","updated_at":"2024-01-12T12:18:41Z","author_association":"MEMBER","body":"Resolved : CVE-2023-26159","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1889033145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1889048534","html_url":"https://github.com/apache/jena/pull/2124#issuecomment-1889048534","issue_url":"https://api.github.com/repos/apache/jena/issues/2124","id":1889048534,"node_id":"IC_kwDOAHF7Ec5wmJfW","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-12T12:25:33Z","updated_at":"2024-01-12T12:25:33Z","author_association":"MEMBER","body":"(Edited description so the issue is linked and will be automatically closed)","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1889048534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1890698221","html_url":"https://github.com/apache/jena/issues/1968#issuecomment-1890698221","issue_url":"https://api.github.com/repos/apache/jena/issues/1968","id":1890698221,"node_id":"IC_kwDOAHF7Ec5wscPt","user":{"login":"sszuev","id":17473366,"node_id":"MDQ6VXNlcjE3NDczMzY2","avatar_url":"https://avatars.githubusercontent.com/u/17473366?v=4","gravatar_id":"","url":"https://api.github.com/users/sszuev","html_url":"https://github.com/sszuev","followers_url":"https://api.github.com/users/sszuev/followers","following_url":"https://api.github.com/users/sszuev/following{/other_user}","gists_url":"https://api.github.com/users/sszuev/gists{/gist_id}","starred_url":"https://api.github.com/users/sszuev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sszuev/subscriptions","organizations_url":"https://api.github.com/users/sszuev/orgs","repos_url":"https://api.github.com/users/sszuev/repos","events_url":"https://api.github.com/users/sszuev/events{/privacy}","received_events_url":"https://api.github.com/users/sszuev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-13T18:48:14Z","updated_at":"2024-01-19T16:21:00Z","author_association":"CONTRIBUTOR","body":"The first version of jena-owl2 library is ready: https://github.com/sszuev/jena-owl2\r\nIt supports all the features of the legacy OntModel.\r\nModel's level support for QL, RL, EL will be added later.\r\nAny feedback is welcome.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1890698221/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1890770500","html_url":"https://github.com/apache/jena/issues/1961#issuecomment-1890770500","issue_url":"https://api.github.com/repos/apache/jena/issues/1961","id":1890770500,"node_id":"IC_kwDOAHF7Ec5wst5E","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-13T21:14:12Z","updated_at":"2024-01-13T21:14:12Z","author_association":"CONTRIBUTOR","body":"@sszuev, I would greatly appreciate it if you could include my implementation in your benchmarking tests.\r\n\r\nMy own benchmarks and tests suggest that this implementation of a SWMR+ graph will soon be viable for deployment with our clients. However, it's important to note that testing and documentation are still works in progress, and some refactoring is anticipated. Despite these ongoing developments, the implementation is functioning as intended and meets our speed requirements.\r\n\r\nIn our use case, we manage a graph with approximately 600,000 triples. We face a demanding scenario where 375,000 triples are updated every three seconds, alongside smaller updates involving about 100 triples every second. This occurs concurrently with eight threads, each reading all triples once per second. On my new notebook, which has sufficient processing power, I've been able to simulate this scenario in a single unit test. You can find these tests here:\r\n\r\n- [testOneThreadUpdatingWithSeveralThreadsReading](https://github.com/arne-bdt/jena/blob/5c230d1697b3a2a14cff7ee6328d599cf8699feb/jena-benchmarks/jena-benchmarks-jmh/src/test/java/org/apache/jena/mem/graph/TestMEASTransactional2.java#L316)\r\n\r\n- [testMultipleThreadsUpdatingWithSeveralThreadsReading](https://github.com/arne-bdt/jena/blob/5c230d1697b3a2a14cff7ee6328d599cf8699feb/jena-benchmarks/jena-benchmarks-jmh/src/test/java/org/apache/jena/mem/graph/TestMEASTransactional2.java#L187)\r\n\r\nTo run these tests, you'll need to check out my [SMMR_Dataset branch ](https://github.com/arne-bdt/jena/tree/SWMR_Dataset) to get it running.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1890770500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1890975847","html_url":"https://github.com/apache/jena/issues/2172#issuecomment-1890975847","issue_url":"https://api.github.com/repos/apache/jena/issues/2172","id":1890975847,"node_id":"IC_kwDOAHF7Ec5wtgBn","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-14T14:59:36Z","updated_at":"2024-01-14T14:59:36Z","author_association":"MEMBER","body":"@kinow - that was quick! Glad you like it.\r\n\r\nWe can see how this turns out. It may be overwhelming.\r\n\r\n(For the general reader - we already get security dependabot sent to the project.)","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1890975847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1890976421","html_url":"https://github.com/apache/jena/pull/2173#issuecomment-1890976421","issue_url":"https://api.github.com/repos/apache/jena/issues/2173","id":1890976421,"node_id":"IC_kwDOAHF7Ec5wtgKl","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-14T15:01:49Z","updated_at":"2024-01-14T15:01:49Z","author_association":"MEMBER","body":"Also changes the maven ecosystem to : \"weekly\".  We are getting a big wave of updates every so often. Hopefully \"weekly\" smooths this out.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1890976421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1890977507","html_url":"https://github.com/apache/jena/issues/1961#issuecomment-1890977507","issue_url":"https://api.github.com/repos/apache/jena/issues/1961","id":1890977507,"node_id":"IC_kwDOAHF7Ec5wtgbj","user":{"login":"sszuev","id":17473366,"node_id":"MDQ6VXNlcjE3NDczMzY2","avatar_url":"https://avatars.githubusercontent.com/u/17473366?v=4","gravatar_id":"","url":"https://api.github.com/users/sszuev","html_url":"https://github.com/sszuev","followers_url":"https://api.github.com/users/sszuev/followers","following_url":"https://api.github.com/users/sszuev/following{/other_user}","gists_url":"https://api.github.com/users/sszuev/gists{/gist_id}","starred_url":"https://api.github.com/users/sszuev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sszuev/subscriptions","organizations_url":"https://api.github.com/users/sszuev/orgs","repos_url":"https://api.github.com/users/sszuev/repos","events_url":"https://api.github.com/users/sszuev/events{/privacy}","received_events_url":"https://api.github.com/users/sszuev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-14T15:05:43Z","updated_at":"2024-01-14T15:05:43Z","author_association":"CONTRIBUTOR","body":"@afs \r\nafter switching 4.10.0 -> 5.0.0-SNAPSHOT I see that `GraphTxn` no longer works properly. Perhaps we now need to explicitly use the transaction mechanism even for simple reads like `Graph#find` ?\r\n\r\n@arne-bdt \r\nThe same question about `GraphWrapperTransactional2`.\r\n\r\nIn my tests I can overcome this limitation by wrapping txn-graph with `find = openTxn(); delegate.find().toList().iterator(); closeTxn()`\r\n\r\n![image](https://github.com/apache/jena/assets/17473366/0f22a527-2fea-47a5-a090-1699ececcf64)\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1890977507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1890977798","html_url":"https://github.com/apache/jena/issues/2172#issuecomment-1890977798","issue_url":"https://api.github.com/repos/apache/jena/issues/2172","id":1890977798,"node_id":"IC_kwDOAHF7Ec5wtggG","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-14T15:06:54Z","updated_at":"2024-01-14T15:06:54Z","author_association":"MEMBER","body":"I just added that to another project and thought about doing that for Jena later!!!\r\n\r\nA few minutes after doing that I received a few dependabot pull requests (I had received others to that repository, but somehow having the npm & github-actions packages seem to have helped).\r\n\r\nhttps://github.com/tupilabs/vue-lumino/commit/e76ab43add3269a6e93bee1597380656dd958066","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1890977798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1890977906","html_url":"https://github.com/apache/jena/pull/2173#issuecomment-1890977906","issue_url":"https://api.github.com/repos/apache/jena/issues/2173","id":1890977906,"node_id":"IC_kwDOAHF7Ec5wtghy","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-14T15:07:24Z","updated_at":"2024-01-14T15:07:24Z","author_association":"MEMBER","body":"Thanks!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1890977906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1890981479","html_url":"https://github.com/apache/jena/issues/1961#issuecomment-1890981479","issue_url":"https://api.github.com/repos/apache/jena/issues/1961","id":1890981479,"node_id":"IC_kwDOAHF7Ec5wthZn","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-14T15:21:45Z","updated_at":"2024-01-14T15:21:45Z","author_association":"MEMBER","body":"> I see that GraphTxn no longer works properly\r\n\r\nIs that stacktrace for the GraphTxn case? I can't see where the \"find\" step is.\r\n\r\nWhy is the code writing inside a `find()`? Even if it worked, it can be inconsistent because the changes can be before or after where the iterator has got to.\r\n\r\nThe most robust solution is to isolate the find. It adds cost only if iterators are opened and not fully used (e.g. implementations of \"contains\" would need checking).\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1890981479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1890981843","html_url":"https://github.com/apache/jena/issues/1961#issuecomment-1890981843","issue_url":"https://api.github.com/repos/apache/jena/issues/1961","id":1890981843,"node_id":"IC_kwDOAHF7Ec5wthfT","user":{"login":"arne-bdt","id":53625519,"node_id":"MDQ6VXNlcjUzNjI1NTE5","avatar_url":"https://avatars.githubusercontent.com/u/53625519?v=4","gravatar_id":"","url":"https://api.github.com/users/arne-bdt","html_url":"https://github.com/arne-bdt","followers_url":"https://api.github.com/users/arne-bdt/followers","following_url":"https://api.github.com/users/arne-bdt/following{/other_user}","gists_url":"https://api.github.com/users/arne-bdt/gists{/gist_id}","starred_url":"https://api.github.com/users/arne-bdt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arne-bdt/subscriptions","organizations_url":"https://api.github.com/users/arne-bdt/orgs","repos_url":"https://api.github.com/users/arne-bdt/repos","events_url":"https://api.github.com/users/arne-bdt/events{/privacy}","received_events_url":"https://api.github.com/users/arne-bdt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-14T15:23:20Z","updated_at":"2024-01-14T15:36:37Z","author_association":"CONTRIBUTOR","body":"@sszuev: `GraphWrapperTransactional2` is designed to track all write and read transactions. Additionally, opening a transaction explicitly is crucial for ensuring data consistency when multiple calls to the graph are required.\r\n\r\nYou would also need to consume the iterator within the transaction, Just Like you did with the .toList() call. After the transaction is closed, the iterator is no longer valid. I wanted to mention this, because it is not true for GraphTxn, as far as I know.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1890981843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1890999254","html_url":"https://github.com/apache/jena/issues/1961#issuecomment-1890999254","issue_url":"https://api.github.com/repos/apache/jena/issues/1961","id":1890999254,"node_id":"IC_kwDOAHF7Ec5wtlvW","user":{"login":"sszuev","id":17473366,"node_id":"MDQ6VXNlcjE3NDczMzY2","avatar_url":"https://avatars.githubusercontent.com/u/17473366?v=4","gravatar_id":"","url":"https://api.github.com/users/sszuev","html_url":"https://github.com/sszuev","followers_url":"https://api.github.com/users/sszuev/followers","following_url":"https://api.github.com/users/sszuev/following{/other_user}","gists_url":"https://api.github.com/users/sszuev/gists{/gist_id}","starred_url":"https://api.github.com/users/sszuev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sszuev/subscriptions","organizations_url":"https://api.github.com/users/sszuev/orgs","repos_url":"https://api.github.com/users/sszuev/repos","events_url":"https://api.github.com/users/sszuev/events{/privacy}","received_events_url":"https://api.github.com/users/sszuev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-14T16:34:05Z","updated_at":"2024-01-14T16:34:05Z","author_association":"CONTRIBUTOR","body":"@afs \r\n\r\n> Is that stacktrace for the GraphTxn case? I can't see where the \"find\" step is.\r\n\r\nyes. you can find code here: https://github.com/sszuev/concurrent-rdf-graph \r\nand run tests against 4.10.0 and 5.0.0-SNAPSHOT.\r\nUsually if some functionality worked well in a previous version and no longer works in the next version, it may be a regression.\r\n\r\nThe stacktrace above is from single-thread test in a scenario where read operations followed by write one\r\nhttps://github.com/sszuev/concurrent-rdf-graph/blob/main/src/test/kotlin/scenarious/CommonScenarios.kt#L98 \r\nThere is no transactional blocks in tests, no explicit closing iterator, but every read operation is closing implicitly by terminal operations like `toList`.\r\n\r\n@arne-bdt \r\nI can try to adapt tests and benchmarks to use transactional mechanism and `ExtendedIterator#close`. \r\nProvided by  concurrent-rdf-graph  project concurrent implementations do not require such mechanisms (more precisely, `close` is still required for \"short-circuiting terminal operations\" like `findFirst`).\r\nFor adapting I can use some kind of graph-wrapper with no-opt transactional mechanism for my implementations. \r\n\r\n__________\r\nLet me remind that I have neither implementations nor tests of a full-fledged ACID. \r\nThe goal of the project is to provide thread-safe implementations, but any transaction graph must also be thread-safe. \r\nTherefore, comparison of such graphs is quite correct.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1890999254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1891019732","html_url":"https://github.com/apache/jena/issues/2153#issuecomment-1891019732","issue_url":"https://api.github.com/repos/apache/jena/issues/2153","id":1891019732,"node_id":"IC_kwDOAHF7Ec5wtqvU","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-14T18:02:19Z","updated_at":"2024-01-14T18:02:19Z","author_association":"MEMBER","body":"* Fixed by #2153\r\n* Further possible work: #2156 ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1891019732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]