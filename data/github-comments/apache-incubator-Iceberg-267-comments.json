[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1646300592","html_url":"https://github.com/apache/iceberg/issues/873#issuecomment-1646300592","issue_url":"https://api.github.com/repos/apache/iceberg/issues/873","id":1646300592,"node_id":"IC_kwDOCW7NX85iII2w","user":{"login":"ahmedriza","id":2463311,"node_id":"MDQ6VXNlcjI0NjMzMTE=","avatar_url":"https://avatars.githubusercontent.com/u/2463311?v=4","gravatar_id":"","url":"https://api.github.com/users/ahmedriza","html_url":"https://github.com/ahmedriza","followers_url":"https://api.github.com/users/ahmedriza/followers","following_url":"https://api.github.com/users/ahmedriza/following{/other_user}","gists_url":"https://api.github.com/users/ahmedriza/gists{/gist_id}","starred_url":"https://api.github.com/users/ahmedriza/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahmedriza/subscriptions","organizations_url":"https://api.github.com/users/ahmedriza/orgs","repos_url":"https://api.github.com/users/ahmedriza/repos","events_url":"https://api.github.com/users/ahmedriza/events{/privacy}","received_events_url":"https://api.github.com/users/ahmedriza/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-21T22:31:19Z","updated_at":"2023-07-21T22:35:36Z","author_association":"NONE","body":"> The right behavior here is to make a FileIO delete call to clean up a file if a write failed. In addition, tasks are responsible for deleting other completed data files that will not be committed because of task failure.\r\n\r\nOut of interest, how does Spark deal with this, i.e. if a writer fails before data has been committed to Iceberg, how do they handle the clean up of the orphan writes?\r\n\r\nAh, I see the documentation mentions this: [Delete orphan files](https://iceberg.apache.org/docs/latest/maintenance/#delete-orphan-files)\r\n\r\n> In Spark and other distributed processing engines, task or job failures can leave files that are not referenced by table metadata, and in some cases normal snapshot expiration may not be able to determine a file is no longer needed and delete it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1646300592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1646330095","html_url":"https://github.com/apache/iceberg/pull/8132#issuecomment-1646330095","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8132","id":1646330095,"node_id":"IC_kwDOCW7NX85iIQDv","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-21T23:17:40Z","updated_at":"2023-07-21T23:17:40Z","author_association":"COLLABORATOR","body":"@rdblue @aokolnychyi @RussellSpitzer @flyrain fyi.  \r\n\r\n@flyrain Also let me know if there are some other case you are aware this may affect, for reading delete files","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1646330095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1646516048","html_url":"https://github.com/apache/iceberg/pull/8122#issuecomment-1646516048","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8122","id":1646516048,"node_id":"IC_kwDOCW7NX85iI9dQ","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-22T07:32:21Z","updated_at":"2023-07-22T07:32:21Z","author_association":"CONTRIBUTOR","body":"I'll review this early next week","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1646516048/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1646519200","html_url":"https://github.com/apache/iceberg/pull/7886#issuecomment-1646519200","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7886","id":1646519200,"node_id":"IC_kwDOCW7NX85iI-Og","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-22T07:51:07Z","updated_at":"2023-07-22T07:51:07Z","author_association":"CONTRIBUTOR","body":"Hi @rdblue do you have further time to review this again and make this progress forward? Thanks a lot.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1646519200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1646538242","html_url":"https://github.com/apache/iceberg/pull/8072#issuecomment-1646538242","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8072","id":1646538242,"node_id":"IC_kwDOCW7NX85iJC4C","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-22T09:14:13Z","updated_at":"2023-07-22T09:14:13Z","author_association":"CONTRIBUTOR","body":"@nastra would you mind taking a look at this again? Thanks a lot.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1646538242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1646560968","html_url":"https://github.com/apache/iceberg/issues/7344#issuecomment-1646560968","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7344","id":1646560968,"node_id":"IC_kwDOCW7NX85iJIbI","user":{"login":"MarquisC","id":73242797,"node_id":"MDQ6VXNlcjczMjQyNzk3","avatar_url":"https://avatars.githubusercontent.com/u/73242797?v=4","gravatar_id":"","url":"https://api.github.com/users/MarquisC","html_url":"https://github.com/MarquisC","followers_url":"https://api.github.com/users/MarquisC/followers","following_url":"https://api.github.com/users/MarquisC/following{/other_user}","gists_url":"https://api.github.com/users/MarquisC/gists{/gist_id}","starred_url":"https://api.github.com/users/MarquisC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MarquisC/subscriptions","organizations_url":"https://api.github.com/users/MarquisC/orgs","repos_url":"https://api.github.com/users/MarquisC/repos","events_url":"https://api.github.com/users/MarquisC/events{/privacy}","received_events_url":"https://api.github.com/users/MarquisC/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-22T11:20:19Z","updated_at":"2023-07-22T11:51:35Z","author_association":"NONE","body":"hey @raviranak @stevenzwu what we're seeing something similar EKS as well via the Iceberg Flink path (wanted to get your thoughts):\r\n\r\n- We're using the aws sdk bundle jar [tested against 2.17.257 and 2.20.99]\r\n\r\n[The default credential provider ](https://github.com/aws/aws-sdk-java-v2/blob/2.17.257/core/auth/src/main/java/software/amazon/awssdk/auth/credentials/DefaultCredentialsProvider.java) _should_ have by precedent attempted to leverage the WebIdentity path right (before it defaults to the EC2 instance role)?\r\n\r\nIf I kubectl exec in and install the aws-cli within the container, the the result of `aws sts get-caller-identity` correctly identifies the hierarchy and selects the kubernetes service account -> IAM role (WebIdentity Path)\r\n\r\nI couldn't find an easy way in the time that I looked to directly influence/configure the Glue client within the Iceberg lib (probably user error on my part).\r\n\r\nWhat I ended up doing was just letting the EC2 instance role assume the role it needs via:\r\n\r\n```\r\nCreate Catalog ...\r\n'catalog-impl'='org.apache.iceberg.aws.glue.GlueCatalog',  'io-impl'='org.apache.iceberg.aws.s3.S3FileIO', 'client.assume-role.region' = 'us-east-1', 'client.factory' = 'org.apache.iceberg.aws.AssumeRoleAwsClientFactory', 'client.assume-role.arn' = 'arn:aws:iam::${aws account number}:role/${the role that should of worked from web identity perms')\"}\"\r\n```\r\n\r\nThe particular use case where it wasn't working was enabling Flink Session clusters on kubernetes/eks and the Flink SQL Gateway to chat with the Glue Data Catalog correctly. \r\n\r\nOur fat jar Flink jobs successfully leverage the WebIdentity path (we allow our jobs to dynamically create the tables and databases in glue if they don't exist) where the deps include the normal aws sdk and the url-connection-client. \r\n\r\nHopefully this is helpful for you @raviranak\r\n\r\n-- Edit --\r\n\r\n@raviranak you can't include the url connection lib jar and the aws sdk bundle (that also includes the third party dep this would satisfy) when they're both on the classpath they conflict.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1646560968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1646600225","html_url":"https://github.com/apache/iceberg/pull/8123#issuecomment-1646600225","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8123","id":1646600225,"node_id":"IC_kwDOCW7NX85iJSAh","user":{"login":"zinking","id":118241,"node_id":"MDQ6VXNlcjExODI0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/118241?v=4","gravatar_id":"","url":"https://api.github.com/users/zinking","html_url":"https://github.com/zinking","followers_url":"https://api.github.com/users/zinking/followers","following_url":"https://api.github.com/users/zinking/following{/other_user}","gists_url":"https://api.github.com/users/zinking/gists{/gist_id}","starred_url":"https://api.github.com/users/zinking/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zinking/subscriptions","organizations_url":"https://api.github.com/users/zinking/orgs","repos_url":"https://api.github.com/users/zinking/repos","events_url":"https://api.github.com/users/zinking/events{/privacy}","received_events_url":"https://api.github.com/users/zinking/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-22T14:50:40Z","updated_at":"2023-07-22T14:50:40Z","author_association":"CONTRIBUTOR","body":"> one benefit of BigQuery is that it does not have to bring back the results while doing this distributed planning but that's on Spark side to provide that functionality\r\n\r\nthat is exactly what I am talking about. \r\n\r\nI am ok with status quo.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1646600225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1646995336","html_url":"https://github.com/apache/iceberg/pull/8141#issuecomment-1646995336","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8141","id":1646995336,"node_id":"IC_kwDOCW7NX85iKyeI","user":{"login":"MaxNevermind","id":4653936,"node_id":"MDQ6VXNlcjQ2NTM5MzY=","avatar_url":"https://avatars.githubusercontent.com/u/4653936?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxNevermind","html_url":"https://github.com/MaxNevermind","followers_url":"https://api.github.com/users/MaxNevermind/followers","following_url":"https://api.github.com/users/MaxNevermind/following{/other_user}","gists_url":"https://api.github.com/users/MaxNevermind/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxNevermind/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxNevermind/subscriptions","organizations_url":"https://api.github.com/users/MaxNevermind/orgs","repos_url":"https://api.github.com/users/MaxNevermind/repos","events_url":"https://api.github.com/users/MaxNevermind/events{/privacy}","received_events_url":"https://api.github.com/users/MaxNevermind/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-23T23:57:23Z","updated_at":"2023-07-23T23:57:23Z","author_association":"CONTRIBUTOR","body":"opened by mistake","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1646995336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1647003454","html_url":"https://github.com/apache/iceberg/pull/7694#issuecomment-1647003454","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7694","id":1647003454,"node_id":"IC_kwDOCW7NX85iK0c-","user":{"login":"MaxNevermind","id":4653936,"node_id":"MDQ6VXNlcjQ2NTM5MzY=","avatar_url":"https://avatars.githubusercontent.com/u/4653936?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxNevermind","html_url":"https://github.com/MaxNevermind","followers_url":"https://api.github.com/users/MaxNevermind/followers","following_url":"https://api.github.com/users/MaxNevermind/following{/other_user}","gists_url":"https://api.github.com/users/MaxNevermind/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxNevermind/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxNevermind/subscriptions","organizations_url":"https://api.github.com/users/MaxNevermind/orgs","repos_url":"https://api.github.com/users/MaxNevermind/repos","events_url":"https://api.github.com/users/MaxNevermind/events{/privacy}","received_events_url":"https://api.github.com/users/MaxNevermind/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T00:12:35Z","updated_at":"2023-07-24T00:17:11Z","author_association":"CONTRIBUTOR","body":"@nastra \r\nI've squashed all commits and resolve all the conflicts, versions.pros still shows up in PR for some reason though 🤷 \r\n\r\nI also ran dependabot in my cloned Iceberg repo and it created a bunch of [PR with version upgrades](https://github.com/MaxNevermind/iceberg/pulls) to a new toml file, it looks as expected. Rich version declarations like jackson211 were not touched while other jackson-bom were bumped to a newer version. Just FYI I merged some them, that the list of PR was actually bigger at the beginning.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1647003454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1647003617","html_url":"https://github.com/apache/iceberg/issues/6658#issuecomment-1647003617","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6658","id":1647003617,"node_id":"IC_kwDOCW7NX85iK0fh","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T00:12:44Z","updated_at":"2023-07-24T00:12:44Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1647003617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1647003680","html_url":"https://github.com/apache/iceberg/issues/6415#issuecomment-1647003680","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6415","id":1647003680,"node_id":"IC_kwDOCW7NX85iK0gg","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T00:12:53Z","updated_at":"2023-07-24T00:12:53Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1647003680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1647133379","html_url":"https://github.com/apache/iceberg/pull/8133#issuecomment-1647133379","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8133","id":1647133379,"node_id":"IC_kwDOCW7NX85iLULD","user":{"login":"manuzhang","id":1191767,"node_id":"MDQ6VXNlcjExOTE3Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1191767?v=4","gravatar_id":"","url":"https://api.github.com/users/manuzhang","html_url":"https://github.com/manuzhang","followers_url":"https://api.github.com/users/manuzhang/followers","following_url":"https://api.github.com/users/manuzhang/following{/other_user}","gists_url":"https://api.github.com/users/manuzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/manuzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manuzhang/subscriptions","organizations_url":"https://api.github.com/users/manuzhang/orgs","repos_url":"https://api.github.com/users/manuzhang/repos","events_url":"https://api.github.com/users/manuzhang/events{/privacy}","received_events_url":"https://api.github.com/users/manuzhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T03:10:28Z","updated_at":"2023-07-24T03:10:28Z","author_association":"COLLABORATOR","body":"@aokolnychyi @flyrain Please kindly review and suggest.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1647133379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1647189146","html_url":"https://github.com/apache/iceberg/pull/8091#issuecomment-1647189146","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8091","id":1647189146,"node_id":"IC_kwDOCW7NX85iLhya","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T04:29:06Z","updated_at":"2023-07-24T04:29:06Z","author_association":"CONTRIBUTOR","body":"@jackye1995 I think we can avoid having to refactor the HTTPClient by just exposing an `ExecChainHandler` that forwards the call to the lambda.  The way this works is to just have the HTTPClient add this as the last step in the execution chain:\r\n\r\n```\r\nclientBuilder.addExecInterceptorLast(\"aws-lambda\", execChainHandler);\r\n```\r\n\r\nThe handler just needs to return as opposed to forward on to the rest of the chain:\r\n\r\n```\r\n@Override\r\npublic ClassicHttpResponse execute(ClassicHttpRequest request, ExecChain.Scope scope, ExecChain chain) throws IOException, HttpException {\r\n  <make call to lambda and get resulting body>\r\n\r\n  BasicClassicHttpResponse response = new BasicClassicHttpResponse(statusCode);\r\n  response.setEntity(lambdaEntity);\r\n  return response;\r\n}\r\n```\r\n\r\nThis interrupts the execution chain and returns the result.  We can dynamically load the logic for the lambda execution in the same was that we do for the SigV4 signer, which keeps all the logic out of the core module.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1647189146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1647231352","html_url":"https://github.com/apache/iceberg/issues/6658#issuecomment-1647231352","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6658","id":1647231352,"node_id":"IC_kwDOCW7NX85iLsF4","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T05:26:47Z","updated_at":"2023-07-24T05:26:47Z","author_association":"COLLABORATOR","body":"This issue may still exist.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1647231352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1647269941","html_url":"https://github.com/apache/iceberg/issues/6415#issuecomment-1647269941","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6415","id":1647269941,"node_id":"IC_kwDOCW7NX85iL1g1","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T06:05:49Z","updated_at":"2023-07-24T06:05:49Z","author_association":"CONTRIBUTOR","body":"Just to circle back, this issue was fixed by https://github.com/apache/iceberg/pull/3024.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1647269941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1647313261","html_url":"https://github.com/apache/iceberg/pull/7628#issuecomment-1647313261","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7628","id":1647313261,"node_id":"IC_kwDOCW7NX85iMAFt","user":{"login":"linyanghao","id":51444992,"node_id":"MDQ6VXNlcjUxNDQ0OTky","avatar_url":"https://avatars.githubusercontent.com/u/51444992?v=4","gravatar_id":"","url":"https://api.github.com/users/linyanghao","html_url":"https://github.com/linyanghao","followers_url":"https://api.github.com/users/linyanghao/followers","following_url":"https://api.github.com/users/linyanghao/following{/other_user}","gists_url":"https://api.github.com/users/linyanghao/gists{/gist_id}","starred_url":"https://api.github.com/users/linyanghao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linyanghao/subscriptions","organizations_url":"https://api.github.com/users/linyanghao/orgs","repos_url":"https://api.github.com/users/linyanghao/repos","events_url":"https://api.github.com/users/linyanghao/events{/privacy}","received_events_url":"https://api.github.com/users/linyanghao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T06:48:43Z","updated_at":"2023-07-24T06:48:43Z","author_association":"CONTRIBUTOR","body":"@stevenzwu @hililiwei Thanks for reviewing! I added a few patches. Could you take a look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1647313261/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1647322774","html_url":"https://github.com/apache/iceberg/pull/8141#issuecomment-1647322774","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8141","id":1647322774,"node_id":"IC_kwDOCW7NX85iMCaW","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T06:57:15Z","updated_at":"2023-07-24T06:57:15Z","author_association":"CONTRIBUTOR","body":"@MaxNevermind No problem. I'm open to raise this limit though","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1647322774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1647323009","html_url":"https://github.com/apache/iceberg/pull/8141#issuecomment-1647323009","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8141","id":1647323009,"node_id":"IC_kwDOCW7NX85iMCeB","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T06:57:27Z","updated_at":"2023-07-24T06:57:27Z","author_association":"CONTRIBUTOR","body":"Or we could run it daily","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1647323009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1647787089","html_url":"https://github.com/apache/iceberg/pull/8140#issuecomment-1647787089","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8140","id":1647787089,"node_id":"IC_kwDOCW7NX85iNzxR","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T12:09:38Z","updated_at":"2023-07-24T12:09:38Z","author_association":"CONTRIBUTOR","body":"Thank you @nastra ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1647787089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1647985363","html_url":"https://github.com/apache/iceberg/issues/7766#issuecomment-1647985363","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7766","id":1647985363,"node_id":"IC_kwDOCW7NX85iOkLT","user":{"login":"jhchee","id":33974196,"node_id":"MDQ6VXNlcjMzOTc0MTk2","avatar_url":"https://avatars.githubusercontent.com/u/33974196?v=4","gravatar_id":"","url":"https://api.github.com/users/jhchee","html_url":"https://github.com/jhchee","followers_url":"https://api.github.com/users/jhchee/followers","following_url":"https://api.github.com/users/jhchee/following{/other_user}","gists_url":"https://api.github.com/users/jhchee/gists{/gist_id}","starred_url":"https://api.github.com/users/jhchee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhchee/subscriptions","organizations_url":"https://api.github.com/users/jhchee/orgs","repos_url":"https://api.github.com/users/jhchee/repos","events_url":"https://api.github.com/users/jhchee/events{/privacy}","received_events_url":"https://api.github.com/users/jhchee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T14:04:39Z","updated_at":"2023-07-24T14:04:39Z","author_association":"NONE","body":"@abhik183 AWS has just released a newer version of EMR. It comes with Spark 3.4. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1647985363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1648089514","html_url":"https://github.com/apache/iceberg/pull/7097#issuecomment-1648089514","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7097","id":1648089514,"node_id":"IC_kwDOCW7NX85iO9mq","user":{"login":"manuzhang","id":1191767,"node_id":"MDQ6VXNlcjExOTE3Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1191767?v=4","gravatar_id":"","url":"https://api.github.com/users/manuzhang","html_url":"https://github.com/manuzhang","followers_url":"https://api.github.com/users/manuzhang/followers","following_url":"https://api.github.com/users/manuzhang/following{/other_user}","gists_url":"https://api.github.com/users/manuzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/manuzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manuzhang/subscriptions","organizations_url":"https://api.github.com/users/manuzhang/orgs","repos_url":"https://api.github.com/users/manuzhang/repos","events_url":"https://api.github.com/users/manuzhang/events{/privacy}","received_events_url":"https://api.github.com/users/manuzhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T15:05:23Z","updated_at":"2023-07-24T15:05:32Z","author_association":"COLLABORATOR","body":"@hililiwei #7662 only backported Tag DDL to Spark 3.2. Can we continue the work for Spark 3.1?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1648089514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1648269573","html_url":"https://github.com/apache/iceberg/pull/8141#issuecomment-1648269573","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8141","id":1648269573,"node_id":"IC_kwDOCW7NX85iPpkF","user":{"login":"MaxNevermind","id":4653936,"node_id":"MDQ6VXNlcjQ2NTM5MzY=","avatar_url":"https://avatars.githubusercontent.com/u/4653936?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxNevermind","html_url":"https://github.com/MaxNevermind","followers_url":"https://api.github.com/users/MaxNevermind/followers","following_url":"https://api.github.com/users/MaxNevermind/following{/other_user}","gists_url":"https://api.github.com/users/MaxNevermind/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxNevermind/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxNevermind/subscriptions","organizations_url":"https://api.github.com/users/MaxNevermind/orgs","repos_url":"https://api.github.com/users/MaxNevermind/repos","events_url":"https://api.github.com/users/MaxNevermind/events{/privacy}","received_events_url":"https://api.github.com/users/MaxNevermind/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T16:54:52Z","updated_at":"2023-07-24T16:54:52Z","author_association":"CONTRIBUTOR","body":"@Fokko \r\nI opened this PR by mistake, actually wanted to do that for my cloned repo so I can see all the PRs dependabot forms not just 5\r\nIt does form [a couple of dozens of PRs](https://github.com/MaxNevermind/iceberg/pulls) if not limited as you can see in my cloned repo after similar PR merged to master there \r\nnot sure if we want to make it a default behaivour","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1648269573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1648276496","html_url":"https://github.com/apache/iceberg/pull/8141#issuecomment-1648276496","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8141","id":1648276496,"node_id":"IC_kwDOCW7NX85iPrQQ","user":{"login":"MaxNevermind","id":4653936,"node_id":"MDQ6VXNlcjQ2NTM5MzY=","avatar_url":"https://avatars.githubusercontent.com/u/4653936?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxNevermind","html_url":"https://github.com/MaxNevermind","followers_url":"https://api.github.com/users/MaxNevermind/followers","following_url":"https://api.github.com/users/MaxNevermind/following{/other_user}","gists_url":"https://api.github.com/users/MaxNevermind/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxNevermind/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxNevermind/subscriptions","organizations_url":"https://api.github.com/users/MaxNevermind/orgs","repos_url":"https://api.github.com/users/MaxNevermind/repos","events_url":"https://api.github.com/users/MaxNevermind/events{/privacy}","received_events_url":"https://api.github.com/users/MaxNevermind/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T17:00:18Z","updated_at":"2023-07-24T17:00:18Z","author_association":"CONTRIBUTOR","body":"fyi\r\nthis is related to this [PR](https://github.com/apache/iceberg/pull/7694) and this [comment](https://github.com/apache/iceberg/pull/7694#issuecomment-1645508546) in particular.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1648276496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1648372793","html_url":"https://github.com/apache/iceberg/pull/8142#issuecomment-1648372793","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8142","id":1648372793,"node_id":"IC_kwDOCW7NX85iQCw5","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-24T18:10:17Z","updated_at":"2023-07-24T18:10:17Z","author_association":"COLLABORATOR","body":"Yea I think this fixes:  https://github.com/apache/iceberg/issues/7774","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1648372793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1648785683","html_url":"https://github.com/apache/iceberg/issues/6669#issuecomment-1648785683","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6669","id":1648785683,"node_id":"IC_kwDOCW7NX85iRnkT","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T00:13:05Z","updated_at":"2023-07-25T00:13:05Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1648785683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1648785700","html_url":"https://github.com/apache/iceberg/issues/6662#issuecomment-1648785700","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6662","id":1648785700,"node_id":"IC_kwDOCW7NX85iRnkk","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T00:13:07Z","updated_at":"2023-07-25T00:13:07Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1648785700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1648785722","html_url":"https://github.com/apache/iceberg/issues/6625#issuecomment-1648785722","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6625","id":1648785722,"node_id":"IC_kwDOCW7NX85iRnk6","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T00:13:09Z","updated_at":"2023-07-25T00:13:09Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1648785722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1649107160","html_url":"https://github.com/apache/iceberg/pull/7694#issuecomment-1649107160","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7694","id":1649107160,"node_id":"IC_kwDOCW7NX85iS2DY","user":{"login":"MaxNevermind","id":4653936,"node_id":"MDQ6VXNlcjQ2NTM5MzY=","avatar_url":"https://avatars.githubusercontent.com/u/4653936?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxNevermind","html_url":"https://github.com/MaxNevermind","followers_url":"https://api.github.com/users/MaxNevermind/followers","following_url":"https://api.github.com/users/MaxNevermind/following{/other_user}","gists_url":"https://api.github.com/users/MaxNevermind/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxNevermind/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxNevermind/subscriptions","organizations_url":"https://api.github.com/users/MaxNevermind/orgs","repos_url":"https://api.github.com/users/MaxNevermind/repos","events_url":"https://api.github.com/users/MaxNevermind/events{/privacy}","received_events_url":"https://api.github.com/users/MaxNevermind/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T04:29:16Z","updated_at":"2023-07-25T04:29:16Z","author_association":"CONTRIBUTOR","body":"@nastra \r\nMaybe let's wait until we are ready to merge and I squash commits again? It just it takes sometime so I would better wait until we are ready.\r\n\r\n> @MaxNevermind what is the impact of Gradle version catalog and people running older Intellij Versions?\r\n\r\nI added some details and screens to PR description in \"IDE support\" section. Let me know if that is enough\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1649107160/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1649205809","html_url":"https://github.com/apache/iceberg/pull/8084#issuecomment-1649205809","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8084","id":1649205809,"node_id":"IC_kwDOCW7NX85iTOIx","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T06:34:08Z","updated_at":"2023-07-25T06:34:08Z","author_association":"CONTRIBUTOR","body":"Thanks again for working on this @rustyconover Much appreciated","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1649205809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1649238941","html_url":"https://github.com/apache/iceberg/pull/8145#issuecomment-1649238941","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8145","id":1649238941,"node_id":"IC_kwDOCW7NX85iTWOd","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T07:00:47Z","updated_at":"2023-07-25T07:00:47Z","author_association":"MEMBER","body":"cc: @nastra ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1649238941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1649247910","html_url":"https://github.com/apache/iceberg/pull/7694#issuecomment-1649247910","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7694","id":1649247910,"node_id":"IC_kwDOCW7NX85iTYam","user":{"login":"MaxNevermind","id":4653936,"node_id":"MDQ6VXNlcjQ2NTM5MzY=","avatar_url":"https://avatars.githubusercontent.com/u/4653936?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxNevermind","html_url":"https://github.com/MaxNevermind","followers_url":"https://api.github.com/users/MaxNevermind/followers","following_url":"https://api.github.com/users/MaxNevermind/following{/other_user}","gists_url":"https://api.github.com/users/MaxNevermind/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxNevermind/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxNevermind/subscriptions","organizations_url":"https://api.github.com/users/MaxNevermind/orgs","repos_url":"https://api.github.com/users/MaxNevermind/repos","events_url":"https://api.github.com/users/MaxNevermind/events{/privacy}","received_events_url":"https://api.github.com/users/MaxNevermind/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T07:08:41Z","updated_at":"2023-07-25T07:08:41Z","author_association":"CONTRIBUTOR","body":"@nastra \r\n> Nonetheless, it would be great to get some additional 👀 on this.\r\n\r\nDo you think we can openly tag somebody to check it out?\r\n\r\nbtw I will be offline July 29 - Aug 12\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1649247910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1649402838","html_url":"https://github.com/apache/iceberg/issues/8112#issuecomment-1649402838","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8112","id":1649402838,"node_id":"IC_kwDOCW7NX85iT-PW","user":{"login":"SourabhBadhya","id":42867455,"node_id":"MDQ6VXNlcjQyODY3NDU1","avatar_url":"https://avatars.githubusercontent.com/u/42867455?v=4","gravatar_id":"","url":"https://api.github.com/users/SourabhBadhya","html_url":"https://github.com/SourabhBadhya","followers_url":"https://api.github.com/users/SourabhBadhya/followers","following_url":"https://api.github.com/users/SourabhBadhya/following{/other_user}","gists_url":"https://api.github.com/users/SourabhBadhya/gists{/gist_id}","starred_url":"https://api.github.com/users/SourabhBadhya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SourabhBadhya/subscriptions","organizations_url":"https://api.github.com/users/SourabhBadhya/orgs","repos_url":"https://api.github.com/users/SourabhBadhya/repos","events_url":"https://api.github.com/users/SourabhBadhya/events{/privacy}","received_events_url":"https://api.github.com/users/SourabhBadhya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T08:50:57Z","updated_at":"2023-07-25T08:50:57Z","author_association":"CONTRIBUTOR","body":"The corresponding Hive fix is merged. Can someone please review the Iceberg fix - #8113 \r\ncc @pvary @Fokko @RussellSpitzer @szehon-ho @nastra @stevenzwu @rdblue","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1649402838/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1649492418","html_url":"https://github.com/apache/iceberg/pull/8146#issuecomment-1649492418","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8146","id":1649492418,"node_id":"IC_kwDOCW7NX85iUUHC","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T09:49:00Z","updated_at":"2023-07-25T09:49:00Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing @Fokko ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1649492418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1649555725","html_url":"https://github.com/apache/iceberg/issues/4997#issuecomment-1649555725","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4997","id":1649555725,"node_id":"IC_kwDOCW7NX85iUjkN","user":{"login":"lirui-apache","id":5210788,"node_id":"MDQ6VXNlcjUyMTA3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/5210788?v=4","gravatar_id":"","url":"https://api.github.com/users/lirui-apache","html_url":"https://github.com/lirui-apache","followers_url":"https://api.github.com/users/lirui-apache/followers","following_url":"https://api.github.com/users/lirui-apache/following{/other_user}","gists_url":"https://api.github.com/users/lirui-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/lirui-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lirui-apache/subscriptions","organizations_url":"https://api.github.com/users/lirui-apache/orgs","repos_url":"https://api.github.com/users/lirui-apache/repos","events_url":"https://api.github.com/users/lirui-apache/events{/privacy}","received_events_url":"https://api.github.com/users/lirui-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T10:26:58Z","updated_at":"2023-07-25T10:26:58Z","author_association":"CONTRIBUTOR","body":"Hey guys, we're facing a similar issue where our table is also partitioned by `dt string`, and our user sometimes writes filters like `dt = 20230725` by mistake. The filter is translated into `cast(dt as int) = 20230725` and can't be pushed down to iceberg and the query ends up as a full table scan.\r\nI wonder whether there's a solution for this. We're considering disallowing full table scan in `SparkBatchQueryScan`, but that seems unfair because there's indeed a partition filter in the query. Trino handles such cases by evaluating the filter expression on split level, because the partition column is a known literal for each split. So perhaps we can do the same in spark?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1649555725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1649680773","html_url":"https://github.com/apache/iceberg/issues/7948#issuecomment-1649680773","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7948","id":1649680773,"node_id":"IC_kwDOCW7NX85iVCGF","user":{"login":"mhmohona","id":14244685,"node_id":"MDQ6VXNlcjE0MjQ0Njg1","avatar_url":"https://avatars.githubusercontent.com/u/14244685?v=4","gravatar_id":"","url":"https://api.github.com/users/mhmohona","html_url":"https://github.com/mhmohona","followers_url":"https://api.github.com/users/mhmohona/followers","following_url":"https://api.github.com/users/mhmohona/following{/other_user}","gists_url":"https://api.github.com/users/mhmohona/gists{/gist_id}","starred_url":"https://api.github.com/users/mhmohona/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhmohona/subscriptions","organizations_url":"https://api.github.com/users/mhmohona/orgs","repos_url":"https://api.github.com/users/mhmohona/repos","events_url":"https://api.github.com/users/mhmohona/events{/privacy}","received_events_url":"https://api.github.com/users/mhmohona/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T11:50:05Z","updated_at":"2023-07-25T11:50:05Z","author_association":"NONE","body":"May I work on this @bitsondatadev? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1649680773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650035076","html_url":"https://github.com/apache/iceberg/issues/4997#issuecomment-1650035076","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4997","id":1650035076,"node_id":"IC_kwDOCW7NX85iWYmE","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T15:13:47Z","updated_at":"2023-07-25T15:13:47Z","author_association":"MEMBER","body":"Yeah it's still a Spark issue and could be fixed in Spark. A rule like \"never cast a column when you could cast a literal\"","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650035076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650082595","html_url":"https://github.com/apache/iceberg/issues/4997#issuecomment-1650082595","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4997","id":1650082595,"node_id":"IC_kwDOCW7NX85iWkMj","user":{"login":"puchengy","id":8072956,"node_id":"MDQ6VXNlcjgwNzI5NTY=","avatar_url":"https://avatars.githubusercontent.com/u/8072956?v=4","gravatar_id":"","url":"https://api.github.com/users/puchengy","html_url":"https://github.com/puchengy","followers_url":"https://api.github.com/users/puchengy/followers","following_url":"https://api.github.com/users/puchengy/following{/other_user}","gists_url":"https://api.github.com/users/puchengy/gists{/gist_id}","starred_url":"https://api.github.com/users/puchengy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/puchengy/subscriptions","organizations_url":"https://api.github.com/users/puchengy/orgs","repos_url":"https://api.github.com/users/puchengy/repos","events_url":"https://api.github.com/users/puchengy/events{/privacy}","received_events_url":"https://api.github.com/users/puchengy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T15:41:35Z","updated_at":"2023-07-25T15:41:35Z","author_association":"CONTRIBUTOR","body":"My organization ends up doing something internally, even hacky but we think it will fit our cases (we haven't get any feedback on this yet). What we did is we implemented a custom iceberg spark extension, where we inspect the query plan and reject any query that has such filter: (1) such filter has a child that is a scan operator on iceberg table; (2) the filter has a filtering on string partition column and comparing with date literal.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650082595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650088214","html_url":"https://github.com/apache/iceberg/issues/7830#issuecomment-1650088214","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7830","id":1650088214,"node_id":"IC_kwDOCW7NX85iWlkW","user":{"login":"rakesh-das08","id":16017562,"node_id":"MDQ6VXNlcjE2MDE3NTYy","avatar_url":"https://avatars.githubusercontent.com/u/16017562?v=4","gravatar_id":"","url":"https://api.github.com/users/rakesh-das08","html_url":"https://github.com/rakesh-das08","followers_url":"https://api.github.com/users/rakesh-das08/followers","following_url":"https://api.github.com/users/rakesh-das08/following{/other_user}","gists_url":"https://api.github.com/users/rakesh-das08/gists{/gist_id}","starred_url":"https://api.github.com/users/rakesh-das08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rakesh-das08/subscriptions","organizations_url":"https://api.github.com/users/rakesh-das08/orgs","repos_url":"https://api.github.com/users/rakesh-das08/repos","events_url":"https://api.github.com/users/rakesh-das08/events{/privacy}","received_events_url":"https://api.github.com/users/rakesh-das08/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T15:44:08Z","updated_at":"2023-07-25T15:44:08Z","author_association":"CONTRIBUTOR","body":"Adding a little more background:\r\nLets say we are working on a branch (wap) where we have ran some operations like `rewrite_data_files`.\r\nNow we want to fast forward the `main` or `some_other_branch` to `wap_branch`.\r\nCurrently we do not have a procedure that does this. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650088214/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650089773","html_url":"https://github.com/apache/iceberg/pull/8081#issuecomment-1650089773","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8081","id":1650089773,"node_id":"IC_kwDOCW7NX85iWl8t","user":{"login":"rakesh-das08","id":16017562,"node_id":"MDQ6VXNlcjE2MDE3NTYy","avatar_url":"https://avatars.githubusercontent.com/u/16017562?v=4","gravatar_id":"","url":"https://api.github.com/users/rakesh-das08","html_url":"https://github.com/rakesh-das08","followers_url":"https://api.github.com/users/rakesh-das08/followers","following_url":"https://api.github.com/users/rakesh-das08/following{/other_user}","gists_url":"https://api.github.com/users/rakesh-das08/gists{/gist_id}","starred_url":"https://api.github.com/users/rakesh-das08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rakesh-das08/subscriptions","organizations_url":"https://api.github.com/users/rakesh-das08/orgs","repos_url":"https://api.github.com/users/rakesh-das08/repos","events_url":"https://api.github.com/users/rakesh-das08/events{/privacy}","received_events_url":"https://api.github.com/users/rakesh-das08/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T15:44:51Z","updated_at":"2023-07-25T15:44:51Z","author_association":"CONTRIBUTOR","body":"@zinking  added the summary of slack discussion on the issue.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650089773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650091854","html_url":"https://github.com/apache/iceberg/pull/8081#issuecomment-1650091854","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8081","id":1650091854,"node_id":"IC_kwDOCW7NX85iWmdO","user":{"login":"rakesh-das08","id":16017562,"node_id":"MDQ6VXNlcjE2MDE3NTYy","avatar_url":"https://avatars.githubusercontent.com/u/16017562?v=4","gravatar_id":"","url":"https://api.github.com/users/rakesh-das08","html_url":"https://github.com/rakesh-das08","followers_url":"https://api.github.com/users/rakesh-das08/followers","following_url":"https://api.github.com/users/rakesh-das08/following{/other_user}","gists_url":"https://api.github.com/users/rakesh-das08/gists{/gist_id}","starred_url":"https://api.github.com/users/rakesh-das08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rakesh-das08/subscriptions","organizations_url":"https://api.github.com/users/rakesh-das08/orgs","repos_url":"https://api.github.com/users/rakesh-das08/repos","events_url":"https://api.github.com/users/rakesh-das08/events{/privacy}","received_events_url":"https://api.github.com/users/rakesh-das08/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T15:46:15Z","updated_at":"2023-07-25T15:46:15Z","author_association":"CONTRIBUTOR","body":"@rdblue @amogh-jahagirdar @jackye1995 could you please review this PR. Also could you please comment on the review made by @nastra .","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650091854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650320267","html_url":"https://github.com/apache/iceberg/pull/8142#issuecomment-1650320267","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8142","id":1650320267,"node_id":"IC_kwDOCW7NX85iXeOL","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T18:19:08Z","updated_at":"2023-07-25T18:19:08Z","author_association":"COLLABORATOR","body":"Merged, thanks @ConeyLiu .  Do you think we need to do the same for other Spark versions like 3.3?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650320267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650473011","html_url":"https://github.com/apache/iceberg/pull/7997#issuecomment-1650473011","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7997","id":1650473011,"node_id":"IC_kwDOCW7NX85iYDgz","user":{"login":"LuigiCerone","id":24299345,"node_id":"MDQ6VXNlcjI0Mjk5MzQ1","avatar_url":"https://avatars.githubusercontent.com/u/24299345?v=4","gravatar_id":"","url":"https://api.github.com/users/LuigiCerone","html_url":"https://github.com/LuigiCerone","followers_url":"https://api.github.com/users/LuigiCerone/followers","following_url":"https://api.github.com/users/LuigiCerone/following{/other_user}","gists_url":"https://api.github.com/users/LuigiCerone/gists{/gist_id}","starred_url":"https://api.github.com/users/LuigiCerone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LuigiCerone/subscriptions","organizations_url":"https://api.github.com/users/LuigiCerone/orgs","repos_url":"https://api.github.com/users/LuigiCerone/repos","events_url":"https://api.github.com/users/LuigiCerone/events{/privacy}","received_events_url":"https://api.github.com/users/LuigiCerone/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T20:02:59Z","updated_at":"2023-07-25T20:05:11Z","author_association":"CONTRIBUTOR","body":"I tested this locally in a Docker environment, the metadata JSON file is one generated by the [docker-spark-iceberg quickstart](https://github.com/tabular-io/docker-spark-iceberg/blob/main/spark/notebooks/Iceberg%20-%20Getting%20Started.ipynb).\r\n\r\nHDFS setup created [with this repo](https://github.com/big-data-europe/docker-hadoop):\r\n```bash\r\nroot@579a35817003:/# hdfs dfs -ls /user/luigi\r\nFound 1 items\r\n-rw-r--r--   3 root supergroup       5153 2023-07-25 09:58 /user/luigi/00000-3ee52bcd-ba94-4a7e-a0c0-60ce14d5397b.metadata.json\r\n```\r\n\r\nIn another container (after env vars setup [according to pyarrow docs](https://arrow.apache.org/docs/python/filesystems.html#hadoop-distributed-file-system-hdfs)):\r\n\r\n```bash\r\nroot@341c4b757a72:/opt/spark/work-dir# pip install \"git+https://github.com/LuigiCerone/iceberg.git@feat/hdfs_support#subdirectory=python&egg=pyiceberg[pyarrow]\"\r\nroot@341c4b757a72:/opt/spark/work-dir# export HADOOP_HOME=/usr/local/hadoop\r\nroot@341c4b757a72:/opt/spark/work-dir# export CLASSPATH=`$HADOOP_HOME/bin/hadoop classpath --glob`\r\nroot@341c4b757a72:/opt/spark/work-dir# python\r\nPython 3.8.13 (default, Mar 28 2022, 11:38:47)\r\n[GCC 7.5.0] :: Anaconda, Inc. on linux\r\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\r\n>>> from pyiceberg.table import StaticTable\r\n>>> table = StaticTable.from_metadata(\"hdfs:///user/luigi/00000-3ee52bcd-ba94-4a7e-a0c0-60ce14d5397b.metadata.json\", properties={\"hdfs.host\": \"namenode\", \"hdfs.port\": 9000, \"hdfs.user\": \"luigi\"})\r\n>>> table.metadata\r\nTableMetadataV1(location='s3://warehouse/nyc/taxis', table_uuid=UUID('a4f97eac-3793-4f17-99ad-7079b6ce408a'), last_updated_ms=1690277912736, last_column_id=19, schemas=[Schema(NestedField(field_id=1, name='VendorID', field_type=LongType(), required=False), NestedField(field_id=2, name='tpep_pickup_datetime', field_type=TimestamptzType(), required=False), NestedField(field_id=3, name='tpep_dropoff_datetime', field_type=TimestamptzType(), required=False), NestedField(field_id=4, name='passenger_count', field_type=DoubleType(), required=False), NestedField(field_id=5, name='trip_distance', field_type=DoubleType(), required=False), NestedField(field_id=6, name='RatecodeID', field_type=DoubleType(), required=False), NestedField(field_id=7, name='store_and_fwd_flag', field_type=StringType(), required=False), NestedField(field_id=8, name='PULocationID', field_type=LongType(), required=False), NestedField(field_id=9, name='DOLocationID', field_type=LongType(), required=False), NestedField(field_id=10, name='payment_type', field_type=LongType(), required=False), NestedField(field_id=11, name='fare_amount', field_type=DoubleType(), required=False), NestedField(field_id=12, name='extra', field_type=DoubleType(), required=False), NestedField(field_id=13, name='mta_tax', field_type=DoubleType(), required=False), NestedField(field_id=14, name='tip_amount', field_type=DoubleType(), required=False), NestedField(field_id=15, name='tolls_amount', field_type=DoubleType(), required=False), NestedField(field_id=16, name='improvement_surcharge', field_type=DoubleType(), required=False), NestedField(field_id=17, name='total_amount', field_type=DoubleType(), required=False), NestedField(field_id=18, name='congestion_surcharge', field_type=DoubleType(), required=False), NestedField(field_id=19, name='airport_fee', field_type=DoubleType(), required=False), schema_id=0, identifier_field_ids=[])], current_schema_id=0, partition_specs=[PartitionSpec(PartitionField(source_id=2, field_id=1000, transform=DayTransform(), name='tpep_pickup_datetime_day'), spec_id=0)], default_spec_id=0, last_partition_id=1000, properties={'owner': 'root'}, current_snapshot_id=None, snapshots=[], snapshot_log=[], metadata_log=[], sort_orders=[SortOrder(order_id=0)], default_sort_order_id=0, refs={}, format_version=1, schema_=Schema(NestedField(field_id=1, name='VendorID', field_type=LongType(), required=False), NestedField(field_id=2, name='tpep_pickup_datetime', field_type=TimestamptzType(), required=False), NestedField(field_id=3, name='tpep_dropoff_datetime', field_type=TimestamptzType(), required=False), NestedField(field_id=4, name='passenger_count', field_type=DoubleType(), required=False), NestedField(field_id=5, name='trip_distance', field_type=DoubleType(), required=False), NestedField(field_id=6, name='RatecodeID', field_type=DoubleType(), required=False), NestedField(field_id=7, name='store_and_fwd_flag', field_type=StringType(), required=False), NestedField(field_id=8, name='PULocationID', field_type=LongType(), required=False), NestedField(field_id=9, name='DOLocationID', field_type=LongType(), required=False), NestedField(field_id=10, name='payment_type', field_type=LongType(), required=False), NestedField(field_id=11, name='fare_amount', field_type=DoubleType(), required=False), NestedField(field_id=12, name='extra', field_type=DoubleType(), required=False), NestedField(field_id=13, name='mta_tax', field_type=DoubleType(), required=False), NestedField(field_id=14, name='tip_amount', field_type=DoubleType(), required=False), NestedField(field_id=15, name='tolls_amount', field_type=DoubleType(), required=False), NestedField(field_id=16, name='improvement_surcharge', field_type=DoubleType(), required=False), NestedField(field_id=17, name='total_amount', field_type=DoubleType(), required=False), NestedField(field_id=18, name='congestion_surcharge', field_type=DoubleType(), required=False), NestedField(field_id=19, name='airport_fee', field_type=DoubleType(), required=False), schema_id=0, identifier_field_ids=[]), partition_spec=[{'name': 'tpep_pickup_datetime_day', 'transform': 'day', 'source-id': 2, 'field-id': 1000}])\r\n>>> table.metadata_location\r\n'hdfs:///user/luigi/00000-3ee52bcd-ba94-4a7e-a0c0-60ce14d5397b.metadata.json'\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650473011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650560379","html_url":"https://github.com/apache/iceberg/issues/7948#issuecomment-1650560379","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7948","id":1650560379,"node_id":"IC_kwDOCW7NX85iYY17","user":{"login":"bitsondatadev","id":8547669,"node_id":"MDQ6VXNlcjg1NDc2Njk=","avatar_url":"https://avatars.githubusercontent.com/u/8547669?v=4","gravatar_id":"","url":"https://api.github.com/users/bitsondatadev","html_url":"https://github.com/bitsondatadev","followers_url":"https://api.github.com/users/bitsondatadev/followers","following_url":"https://api.github.com/users/bitsondatadev/following{/other_user}","gists_url":"https://api.github.com/users/bitsondatadev/gists{/gist_id}","starred_url":"https://api.github.com/users/bitsondatadev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitsondatadev/subscriptions","organizations_url":"https://api.github.com/users/bitsondatadev/orgs","repos_url":"https://api.github.com/users/bitsondatadev/repos","events_url":"https://api.github.com/users/bitsondatadev/events{/privacy}","received_events_url":"https://api.github.com/users/bitsondatadev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T21:06:39Z","updated_at":"2023-07-25T21:06:39Z","author_association":"COLLABORATOR","body":"@mhmohona please go right ahead :) I haven't started on this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650560379/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650676760","html_url":"https://github.com/apache/iceberg/pull/7992#issuecomment-1650676760","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7992","id":1650676760,"node_id":"IC_kwDOCW7NX85iY1QY","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T22:58:04Z","updated_at":"2023-07-25T22:58:04Z","author_association":"CONTRIBUTOR","body":"> Once both PRs are merged, I'll add a follow-up and mention in the docs that @Value.Immutable usage is discouraged on iceberg-api (with a checkstyle rule that enforces it) and will also remove the Immutable dependency\r\n\r\nI think we should disallow it, not just discourage it. A checkstyle rule sounds like the right approach though, so maybe we're saying the same thing.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650676760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650693714","html_url":"https://github.com/apache/iceberg/pull/7992#issuecomment-1650693714","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7992","id":1650693714,"node_id":"IC_kwDOCW7NX85iY5ZS","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T23:19:02Z","updated_at":"2023-07-25T23:19:02Z","author_association":"CONTRIBUTOR","body":"I had a few comments on the spec that I added as changes and committed. +1 now, so I'll merge when tests are passing.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650693714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650694604","html_url":"https://github.com/apache/iceberg/pull/7992#issuecomment-1650694604","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7992","id":1650694604,"node_id":"IC_kwDOCW7NX85iY5nM","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T23:20:19Z","updated_at":"2023-07-25T23:20:19Z","author_association":"CONTRIBUTOR","body":"Thanks, @nastra!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650694604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650732375","html_url":"https://github.com/apache/iceberg/issues/6519#issuecomment-1650732375","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6519","id":1650732375,"node_id":"IC_kwDOCW7NX85iZC1X","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T00:12:13Z","updated_at":"2023-07-26T00:12:13Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650732375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650732401","html_url":"https://github.com/apache/iceberg/issues/6502#issuecomment-1650732401","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6502","id":1650732401,"node_id":"IC_kwDOCW7NX85iZC1x","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T00:12:15Z","updated_at":"2023-07-26T00:12:15Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650732401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650744996","html_url":"https://github.com/apache/iceberg/issues/8151#issuecomment-1650744996","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8151","id":1650744996,"node_id":"IC_kwDOCW7NX85iZF6k","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T00:24:56Z","updated_at":"2023-07-26T00:24:56Z","author_association":"COLLABORATOR","body":"@nastra would you know  who to bother , to see if we can improve this part of the release process?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650744996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650790503","html_url":"https://github.com/apache/iceberg/pull/8132#issuecomment-1650790503","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8132","id":1650790503,"node_id":"IC_kwDOCW7NX85iZRBn","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T00:46:53Z","updated_at":"2023-07-26T00:46:53Z","author_association":"CONTRIBUTOR","body":"IIUC, this is due to missing of resource cleanup for `iterable`(here are class `PositionStreamDeleteFilter` and `PositionStreamDeleteMarker`). We add the `deletePosIterator` to close group [here](https://github.com/apache/iceberg/blob/master/core/src/main/java/org/apache/iceberg/deletes/Deletes.java#L233-L233), but when we use the iterable, we return its iterator by doing this:\r\n```\r\n    return deleteFilter.filter(open(task, requiredSchema, idToConstant)).iterator();\r\n```\r\n\r\nThere are more places we need to change. For example, we didn't close the iterable [here](https://github.com/apache/iceberg/blob/master/spark/v3.2/spark/src/main/java/org/apache/iceberg/spark/source/ChangelogRowReader.java#L96-L96), and this [place](https://github.com/apache/iceberg/blob/master/mr/src/main/java/org/apache/iceberg/mr/mapreduce/IcebergInputFormat.java#L340-L340).\r\n\r\nOther than your PR, one of options is to close the iterable explicitly in the reader. Each reader extends the `CloseableGroup`, and every time there are a new iterable. We add it to the group by doing this:\r\n```\r\naddCloseable(iterable);\r\n```\r\nBut I still does't feel comfortable about it. A developer can easily get an iterator from an iterable, and forget to close the iterable. I'm also not sure what's the best way for this. Open to suggestions.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650790503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650809793","html_url":"https://github.com/apache/iceberg/pull/8132#issuecomment-1650809793","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8132","id":1650809793,"node_id":"IC_kwDOCW7NX85iZVvB","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T01:02:25Z","updated_at":"2023-07-26T01:02:25Z","author_association":"COLLABORATOR","body":"I'll have to take a look at those places.  Yea the problem is, I think traditionally we can't rely on reader closing the iterator , much less literable.  In Spark for example, we dont return the iterable, and even the iterator does not have any close method.\r\n\r\nhttps://github.com/apache/spark/blob/bdeae87067452bb41f4776c4ab444a9d9645fdfc/sql/core/src/main/scala/org/apache/spark/sql/execution/datasources/v2/DataSourceRDD.scala#L110  So hence Iceberg implementing auto-close iterators.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650809793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650898733","html_url":"https://github.com/apache/iceberg/pull/8142#issuecomment-1650898733","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8142","id":1650898733,"node_id":"IC_kwDOCW7NX85iZrct","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T02:56:45Z","updated_at":"2023-07-26T02:56:45Z","author_association":"CONTRIBUTOR","body":"Thanks @szehon-ho. I submitted backport for Spark 3.3. The warning only occurs in Spark 3.3/3.4. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650898733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650899109","html_url":"https://github.com/apache/iceberg/pull/8152#issuecomment-1650899109","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8152","id":1650899109,"node_id":"IC_kwDOCW7NX85iZril","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T02:57:13Z","updated_at":"2023-07-26T02:57:13Z","author_association":"CONTRIBUTOR","body":"cc @szehon-ho, pls take a look. Thanks a lot.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650899109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650900433","html_url":"https://github.com/apache/iceberg/pull/7447#issuecomment-1650900433","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7447","id":1650900433,"node_id":"IC_kwDOCW7NX85iZr3R","user":{"login":"frankliee","id":10219731,"node_id":"MDQ6VXNlcjEwMjE5NzMx","avatar_url":"https://avatars.githubusercontent.com/u/10219731?v=4","gravatar_id":"","url":"https://api.github.com/users/frankliee","html_url":"https://github.com/frankliee","followers_url":"https://api.github.com/users/frankliee/followers","following_url":"https://api.github.com/users/frankliee/following{/other_user}","gists_url":"https://api.github.com/users/frankliee/gists{/gist_id}","starred_url":"https://api.github.com/users/frankliee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/frankliee/subscriptions","organizations_url":"https://api.github.com/users/frankliee/orgs","repos_url":"https://api.github.com/users/frankliee/repos","events_url":"https://api.github.com/users/frankliee/events{/privacy}","received_events_url":"https://api.github.com/users/frankliee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T02:58:41Z","updated_at":"2023-07-26T02:58:41Z","author_association":"CONTRIBUTOR","body":"Thanks for this pr. Could I backport this to Spark 3.3. @karuppayya","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650900433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650919553","html_url":"https://github.com/apache/iceberg/pull/8154#issuecomment-1650919553","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8154","id":1650919553,"node_id":"IC_kwDOCW7NX85iZwiB","user":{"login":"gegef2009","id":5651777,"node_id":"MDQ6VXNlcjU2NTE3Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5651777?v=4","gravatar_id":"","url":"https://api.github.com/users/gegef2009","html_url":"https://github.com/gegef2009","followers_url":"https://api.github.com/users/gegef2009/followers","following_url":"https://api.github.com/users/gegef2009/following{/other_user}","gists_url":"https://api.github.com/users/gegef2009/gists{/gist_id}","starred_url":"https://api.github.com/users/gegef2009/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gegef2009/subscriptions","organizations_url":"https://api.github.com/users/gegef2009/orgs","repos_url":"https://api.github.com/users/gegef2009/repos","events_url":"https://api.github.com/users/gegef2009/events{/privacy}","received_events_url":"https://api.github.com/users/gegef2009/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T03:24:37Z","updated_at":"2023-07-26T03:24:37Z","author_association":"CONTRIBUTOR","body":"@nastra please help review ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650919553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650966712","html_url":"https://github.com/apache/iceberg/pull/6335#issuecomment-1650966712","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6335","id":1650966712,"node_id":"IC_kwDOCW7NX85iZ8C4","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T04:35:37Z","updated_at":"2023-07-26T04:35:37Z","author_association":"CONTRIBUTOR","body":"I will take a look with fresh eyes by the end of tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650966712/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650970214","html_url":"https://github.com/apache/iceberg/issues/4997#issuecomment-1650970214","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4997","id":1650970214,"node_id":"IC_kwDOCW7NX85iZ85m","user":{"login":"lirui-apache","id":5210788,"node_id":"MDQ6VXNlcjUyMTA3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/5210788?v=4","gravatar_id":"","url":"https://api.github.com/users/lirui-apache","html_url":"https://github.com/lirui-apache","followers_url":"https://api.github.com/users/lirui-apache/followers","following_url":"https://api.github.com/users/lirui-apache/following{/other_user}","gists_url":"https://api.github.com/users/lirui-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/lirui-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lirui-apache/subscriptions","organizations_url":"https://api.github.com/users/lirui-apache/orgs","repos_url":"https://api.github.com/users/lirui-apache/repos","events_url":"https://api.github.com/users/lirui-apache/events{/privacy}","received_events_url":"https://api.github.com/users/lirui-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T04:40:58Z","updated_at":"2023-07-26T04:40:58Z","author_association":"CONTRIBUTOR","body":"Thanks @RussellSpitzer and @puchengy for your inputs. In my above example, I guess casting the column or the literal have different semantics, e.g. both `cast('123' as int) = 123` and `cast('0123' as int) = 123` yield true, but `'0123' = cast(123 as string)` is false. We can educate users not to write such filters, but sometimes the query is generated by BI tools and users may not have control over that. So I suppose we'll have to implement split level filtering in spark like what trino does.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650970214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650983153","html_url":"https://github.com/apache/iceberg/issues/4997#issuecomment-1650983153","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4997","id":1650983153,"node_id":"IC_kwDOCW7NX85iaADx","user":{"login":"puchengy","id":8072956,"node_id":"MDQ6VXNlcjgwNzI5NTY=","avatar_url":"https://avatars.githubusercontent.com/u/8072956?v=4","gravatar_id":"","url":"https://api.github.com/users/puchengy","html_url":"https://github.com/puchengy","followers_url":"https://api.github.com/users/puchengy/followers","following_url":"https://api.github.com/users/puchengy/following{/other_user}","gists_url":"https://api.github.com/users/puchengy/gists{/gist_id}","starred_url":"https://api.github.com/users/puchengy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/puchengy/subscriptions","organizations_url":"https://api.github.com/users/puchengy/orgs","repos_url":"https://api.github.com/users/puchengy/repos","events_url":"https://api.github.com/users/puchengy/events{/privacy}","received_events_url":"https://api.github.com/users/puchengy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T05:00:39Z","updated_at":"2023-07-26T05:06:24Z","author_association":"CONTRIBUTOR","body":"> Trino handles such cases by evaluating the filter expression on split level, because the partition column is a known literal for each split. So perhaps we can do the same in spark?\r\n\r\nI have a feeling that it might not be possible, but I hope I am wrong. It will be great if you can contribute back once this is working.\r\n\r\nAnother option as https://github.com/apache/spark/pull/40294 mentioned, is to restore the legacy configuration \r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1650983153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1651039473","html_url":"https://github.com/apache/iceberg/pull/7992#issuecomment-1651039473","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7992","id":1651039473,"node_id":"IC_kwDOCW7NX85iaNzx","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T06:11:33Z","updated_at":"2023-07-26T06:11:33Z","author_association":"CONTRIBUTOR","body":"> > Once both PRs are merged, I'll add a follow-up and mention in the docs that @Value.Immutable usage is discouraged on iceberg-api (with a checkstyle rule that enforces it) and will also remove the Immutable dependency\r\n> \r\n> I think we should disallow it, not just discourage it. A checkstyle rule sounds like the right approach though, so maybe we're saying the same thing.\r\n\r\nYes we are saying the same thing here. The goal with the docs part was mainly to describe why `@Value.Immutable` should not be in `iceberg-api` and show 1-2 examples of how to apply `@Value.Immutable` to an API that is defined in `iceberg-api`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1651039473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1651107411","html_url":"https://github.com/apache/iceberg/issues/6367#issuecomment-1651107411","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6367","id":1651107411,"node_id":"IC_kwDOCW7NX85iaeZT","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T07:11:17Z","updated_at":"2023-07-26T07:11:41Z","author_association":"CONTRIBUTOR","body":"Hi @RussellSpitzer @nastra @singhpk234 , to address the above problem, #6539 changes the committing from a single thread to multiple threads. However, in our production, we notice this increased the probability of the commit failing due to concurrent committing. I have submitted a follow-up #8001 to address the problem. Please take a look when you are free. Thanks a lot.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1651107411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1651116674","html_url":"https://github.com/apache/iceberg/issues/7840#issuecomment-1651116674","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7840","id":1651116674,"node_id":"IC_kwDOCW7NX85iagqC","user":{"login":"lurnagao-dahua","id":91278331,"node_id":"MDQ6VXNlcjkxMjc4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/91278331?v=4","gravatar_id":"","url":"https://api.github.com/users/lurnagao-dahua","html_url":"https://github.com/lurnagao-dahua","followers_url":"https://api.github.com/users/lurnagao-dahua/followers","following_url":"https://api.github.com/users/lurnagao-dahua/following{/other_user}","gists_url":"https://api.github.com/users/lurnagao-dahua/gists{/gist_id}","starred_url":"https://api.github.com/users/lurnagao-dahua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lurnagao-dahua/subscriptions","organizations_url":"https://api.github.com/users/lurnagao-dahua/orgs","repos_url":"https://api.github.com/users/lurnagao-dahua/repos","events_url":"https://api.github.com/users/lurnagao-dahua/events{/privacy}","received_events_url":"https://api.github.com/users/lurnagao-dahua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T07:16:53Z","updated_at":"2023-07-26T07:17:30Z","author_association":"CONTRIBUTOR","body":"Hi, I have the same problem and sloved in https://issues.apache.org/jira/browse/HIVE-24498","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1651116674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1651312676","html_url":"https://github.com/apache/iceberg/issues/5846#issuecomment-1651312676","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5846","id":1651312676,"node_id":"IC_kwDOCW7NX85ibQgk","user":{"login":"lirui-apache","id":5210788,"node_id":"MDQ6VXNlcjUyMTA3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/5210788?v=4","gravatar_id":"","url":"https://api.github.com/users/lirui-apache","html_url":"https://github.com/lirui-apache","followers_url":"https://api.github.com/users/lirui-apache/followers","following_url":"https://api.github.com/users/lirui-apache/following{/other_user}","gists_url":"https://api.github.com/users/lirui-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/lirui-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lirui-apache/subscriptions","organizations_url":"https://api.github.com/users/lirui-apache/orgs","repos_url":"https://api.github.com/users/lirui-apache/repos","events_url":"https://api.github.com/users/lirui-apache/events{/privacy}","received_events_url":"https://api.github.com/users/lirui-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T09:12:20Z","updated_at":"2023-07-26T09:12:20Z","author_association":"CONTRIBUTOR","body":"We had a similar issue here. `IcebergFilesCommitter` commits data files when a checkpoint completes, and stores the checkpoint ID in iceberg snapshot summary, and removes the committed manifest. When restoring from state, it tries to restore the [max committed checkpoint id](https://github.com/apache/iceberg/blob/apache-iceberg-0.13.2/flink/v1.14/flink/src/main/java/org/apache/iceberg/flink/sink/IcebergFilesCommitter.java#L147) from table history. But this seems to be just best efforts because the snapshot might have been expired. And when that happens, IcebergFilesCommitter considers all files in the state as \"uncommitted\" and tris to [commit them again](https://github.com/apache/iceberg/blob/apache-iceberg-0.13.2/flink/v1.14/flink/src/main/java/org/apache/iceberg/flink/sink/IcebergFilesCommitter.java#L154), which can fail because the committed manifest has already been removed. @openinx is this a known limitation, so that we should be more careful with snapshot expiration?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1651312676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1651366929","html_url":"https://github.com/apache/iceberg/pull/8144#issuecomment-1651366929","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8144","id":1651366929,"node_id":"IC_kwDOCW7NX85ibdwR","user":{"login":"moriyoshi","id":18755,"node_id":"MDQ6VXNlcjE4NzU1","avatar_url":"https://avatars.githubusercontent.com/u/18755?v=4","gravatar_id":"","url":"https://api.github.com/users/moriyoshi","html_url":"https://github.com/moriyoshi","followers_url":"https://api.github.com/users/moriyoshi/followers","following_url":"https://api.github.com/users/moriyoshi/following{/other_user}","gists_url":"https://api.github.com/users/moriyoshi/gists{/gist_id}","starred_url":"https://api.github.com/users/moriyoshi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/moriyoshi/subscriptions","organizations_url":"https://api.github.com/users/moriyoshi/orgs","repos_url":"https://api.github.com/users/moriyoshi/repos","events_url":"https://api.github.com/users/moriyoshi/events{/privacy}","received_events_url":"https://api.github.com/users/moriyoshi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T09:35:05Z","updated_at":"2023-07-26T09:35:05Z","author_association":"NONE","body":"Tests ready, mypy checks fail due to the existing oddities.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1651366929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1651378211","html_url":"https://github.com/apache/iceberg/issues/4997#issuecomment-1651378211","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4997","id":1651378211,"node_id":"IC_kwDOCW7NX85ibggj","user":{"login":"lirui-apache","id":5210788,"node_id":"MDQ6VXNlcjUyMTA3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/5210788?v=4","gravatar_id":"","url":"https://api.github.com/users/lirui-apache","html_url":"https://github.com/lirui-apache","followers_url":"https://api.github.com/users/lirui-apache/followers","following_url":"https://api.github.com/users/lirui-apache/following{/other_user}","gists_url":"https://api.github.com/users/lirui-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/lirui-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lirui-apache/subscriptions","organizations_url":"https://api.github.com/users/lirui-apache/orgs","repos_url":"https://api.github.com/users/lirui-apache/repos","events_url":"https://api.github.com/users/lirui-apache/events{/privacy}","received_events_url":"https://api.github.com/users/lirui-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T09:37:34Z","updated_at":"2023-07-26T09:37:34Z","author_association":"CONTRIBUTOR","body":"I haven't checked whether it's possible with spark. I'll give it a try.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1651378211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1651484835","html_url":"https://github.com/apache/iceberg/issues/8151#issuecomment-1651484835","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8151","id":1651484835,"node_id":"IC_kwDOCW7NX85ib6ij","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T10:19:31Z","updated_at":"2023-07-26T10:23:59Z","author_association":"CONTRIBUTOR","body":"> Instructions are to cut Iceberg-docs 1.3.1 branch (presumably from main branch). We then manually copy over /docs and /javadocs from Iceberg 1.3.1 and then make pr for Iceberg-docs 1.3.1 branch. The pr is un-readable, as it does a diff of whatever the iceberg-docs 1.3.1 base (from main) and the actual iceberg-1.3.1 docs.\r\n\r\nI think one of the issue is that **Patch versions** aren't really handled in the `how-to-release` page because we don't do them so often, which causes confusion. \r\nFor a patch version the base branch should always be the respective branch of the minor version (e.g. 1.3.0) instead of main/master.\r\n\r\n\r\n> So my thought is, should we specify to cut the iceberg-docs 1.3.1 branch from a branch that makes sense as a diff base, say 1.3.1 cuts from 1.3.0, and 1.3.0 diffs against 1.2.0?\r\n\r\nYes, that's how it should be done IMO\r\n\r\n\r\nI think we should update the docs to reflect how to do all of those steps for a patch version (since that isn't really handled).\r\n\r\nI know that @bitsondatadev is planned to re-work how multi-version docs are maintained and released, so @bitsondatadev just an FYI that this is a good area for improvement.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1651484835/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1651865786","html_url":"https://github.com/apache/iceberg/pull/8001#issuecomment-1651865786","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8001","id":1651865786,"node_id":"IC_kwDOCW7NX85idXi6","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T13:58:36Z","updated_at":"2023-07-26T13:58:36Z","author_association":"MEMBER","body":"I'm not sure I agree with the approach here, for users who are using \"inherit snapshot id\" which maybe we should make the default here, this would be a big slowdown wouldn't it?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1651865786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652024988","html_url":"https://github.com/apache/iceberg/pull/7694#issuecomment-1652024988","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7694","id":1652024988,"node_id":"IC_kwDOCW7NX85id-ac","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T15:21:39Z","updated_at":"2023-07-26T15:21:39Z","author_association":"CONTRIBUTOR","body":"This just needs one final rebase before merging, but otherwise looks ready. @RussellSpitzer @aokolnychyi @jackye1995 @amogh-jahagirdar do you guys have any feedback on this PR?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652024988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652180047","html_url":"https://github.com/apache/iceberg/issues/6841#issuecomment-1652180047","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6841","id":1652180047,"node_id":"IC_kwDOCW7NX85iekRP","user":{"login":"alvsanand","id":734567,"node_id":"MDQ6VXNlcjczNDU2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/734567?v=4","gravatar_id":"","url":"https://api.github.com/users/alvsanand","html_url":"https://github.com/alvsanand","followers_url":"https://api.github.com/users/alvsanand/followers","following_url":"https://api.github.com/users/alvsanand/following{/other_user}","gists_url":"https://api.github.com/users/alvsanand/gists{/gist_id}","starred_url":"https://api.github.com/users/alvsanand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alvsanand/subscriptions","organizations_url":"https://api.github.com/users/alvsanand/orgs","repos_url":"https://api.github.com/users/alvsanand/repos","events_url":"https://api.github.com/users/alvsanand/events{/privacy}","received_events_url":"https://api.github.com/users/alvsanand/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T16:54:14Z","updated_at":"2023-07-26T16:54:14Z","author_association":"NONE","body":"Iceberg via Spectrum is in preview as of today https://aws.amazon.com/about-aws/whats-new/2023/07/amazon-redshift-querying-apache-iceberg-tables/","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652180047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652283041","html_url":"https://github.com/apache/iceberg/pull/8150#issuecomment-1652283041","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8150","id":1652283041,"node_id":"IC_kwDOCW7NX85ie9ah","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T18:15:37Z","updated_at":"2023-07-26T18:15:37Z","author_association":"COLLABORATOR","body":"Thanks @ConeyLiu and @nastra for review","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652283041/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652296436","html_url":"https://github.com/apache/iceberg/issues/8151#issuecomment-1652296436","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8151","id":1652296436,"node_id":"IC_kwDOCW7NX85ifAr0","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T18:26:43Z","updated_at":"2023-07-26T18:27:42Z","author_association":"COLLABORATOR","body":"That's great, thanks guys for looking!  Yea for keeping main branch up to date, I saw this fix:  https://github.com/apache/iceberg-docs/pull/210 has better instructions, I hope it fixes some of the issue, but definitely as you said it is not written with patch release in mind.\r\n\r\nI still think it would be great if 'latest' can be soft redirect somewhere.  If it needs to be a git branch, we can consider changing it to a git tag?  That way , release manager does have to stress about making that branch same as the release branch , as sometimes force-push is necessary depending on how messed up the 'latest' branch history , which is a bit risky","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652296436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652325335","html_url":"https://github.com/apache/iceberg/pull/8111#issuecomment-1652325335","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8111","id":1652325335,"node_id":"IC_kwDOCW7NX85ifHvX","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T18:51:23Z","updated_at":"2023-07-26T18:51:23Z","author_association":"COLLABORATOR","body":"Merged, thanks @lintingbin2009 !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652325335/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652327911","html_url":"https://github.com/apache/iceberg/pull/8152#issuecomment-1652327911","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8152","id":1652327911,"node_id":"IC_kwDOCW7NX85ifIXn","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T18:53:37Z","updated_at":"2023-07-26T18:53:37Z","author_association":"COLLABORATOR","body":"Merged, thanks @ConeyLiu !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652327911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652711567","html_url":"https://github.com/apache/iceberg/issues/6681#issuecomment-1652711567","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6681","id":1652711567,"node_id":"IC_kwDOCW7NX85igmCP","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T00:11:24Z","updated_at":"2023-07-27T00:11:24Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652711567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652713512","html_url":"https://github.com/apache/iceberg/pull/8158#issuecomment-1652713512","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8158","id":1652713512,"node_id":"IC_kwDOCW7NX85igmgo","user":{"login":"dbtsai","id":1134574,"node_id":"MDQ6VXNlcjExMzQ1NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1134574?v=4","gravatar_id":"","url":"https://api.github.com/users/dbtsai","html_url":"https://github.com/dbtsai","followers_url":"https://api.github.com/users/dbtsai/followers","following_url":"https://api.github.com/users/dbtsai/following{/other_user}","gists_url":"https://api.github.com/users/dbtsai/gists{/gist_id}","starred_url":"https://api.github.com/users/dbtsai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbtsai/subscriptions","organizations_url":"https://api.github.com/users/dbtsai/orgs","repos_url":"https://api.github.com/users/dbtsai/repos","events_url":"https://api.github.com/users/dbtsai/events{/privacy}","received_events_url":"https://api.github.com/users/dbtsai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T00:14:07Z","updated_at":"2023-07-27T00:14:07Z","author_association":"MEMBER","body":"Look like there are issues in using Zstd with nested data in both Flink and Spark. This can be reproduced by \r\n\r\n```\r\n./gradlew -DsparkVersions=3.4 -DscalaVersion=2.13 -DhiveVersions= -DflinkVersions= \\\r\n    :iceberg-spark:iceberg-spark-3.4_2.13:test \\\r\n    --tests \"org.apache.iceberg.spark.source.TestMetadataTableReadableMetrics\" \\\r\n    -Pquick=true -x javadoc\r\n```\r\nfor Spark, and \r\n```\r\n./gradlew -DsparkVersions= -DhiveVersions= -DflinkVersions=1.15 \\\r\n    :iceberg-flink:iceberg-flink-1.15:test \\\r\n    --tests \"org.apache.iceberg.flink.source.TestMetadataTableReadableMetrics\" \\\r\n    -Pquick=true -x javadoc\r\n```\r\nfor Flink.\r\n\r\nWill look into the issue soon.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652713512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652798355","html_url":"https://github.com/apache/iceberg/pull/8152#issuecomment-1652798355","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8152","id":1652798355,"node_id":"IC_kwDOCW7NX85ig7OT","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T01:52:35Z","updated_at":"2023-07-27T01:52:35Z","author_association":"CONTRIBUTOR","body":"Thanks @szehon-ho ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652798355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652798612","html_url":"https://github.com/apache/iceberg/pull/8157#issuecomment-1652798612","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8157","id":1652798612,"node_id":"IC_kwDOCW7NX85ig7SU","user":{"login":"zinking","id":118241,"node_id":"MDQ6VXNlcjExODI0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/118241?v=4","gravatar_id":"","url":"https://api.github.com/users/zinking","html_url":"https://github.com/zinking","followers_url":"https://api.github.com/users/zinking/followers","following_url":"https://api.github.com/users/zinking/following{/other_user}","gists_url":"https://api.github.com/users/zinking/gists{/gist_id}","starred_url":"https://api.github.com/users/zinking/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zinking/subscriptions","organizations_url":"https://api.github.com/users/zinking/orgs","repos_url":"https://api.github.com/users/zinking/repos","events_url":"https://api.github.com/users/zinking/events{/privacy}","received_events_url":"https://api.github.com/users/zinking/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T01:52:56Z","updated_at":"2023-07-27T03:09:14Z","author_association":"CONTRIBUTOR","body":"@rdblue  @aokolnychyi  you might be interested in revisit  this PR again https://github.com/apache/iceberg/pull/5760 . \r\nas it helps further reduce timing of `canContainDeleteFile`","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652798612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652804685","html_url":"https://github.com/apache/iceberg/issues/8155#issuecomment-1652804685","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8155","id":1652804685,"node_id":"IC_kwDOCW7NX85ig8xN","user":{"login":"fernandocast","id":73617305,"node_id":"MDQ6VXNlcjczNjE3MzA1","avatar_url":"https://avatars.githubusercontent.com/u/73617305?v=4","gravatar_id":"","url":"https://api.github.com/users/fernandocast","html_url":"https://github.com/fernandocast","followers_url":"https://api.github.com/users/fernandocast/followers","following_url":"https://api.github.com/users/fernandocast/following{/other_user}","gists_url":"https://api.github.com/users/fernandocast/gists{/gist_id}","starred_url":"https://api.github.com/users/fernandocast/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fernandocast/subscriptions","organizations_url":"https://api.github.com/users/fernandocast/orgs","repos_url":"https://api.github.com/users/fernandocast/repos","events_url":"https://api.github.com/users/fernandocast/events{/privacy}","received_events_url":"https://api.github.com/users/fernandocast/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T02:03:11Z","updated_at":"2023-07-27T02:03:11Z","author_association":"NONE","body":"Hello @bitsondatadev, could you please assign me this issue?\r\nI would like to contribute on this project","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652804685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652805542","html_url":"https://github.com/apache/iceberg/issues/8155#issuecomment-1652805542","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8155","id":1652805542,"node_id":"IC_kwDOCW7NX85ig8-m","user":{"login":"bitsondatadev","id":8547669,"node_id":"MDQ6VXNlcjg1NDc2Njk=","avatar_url":"https://avatars.githubusercontent.com/u/8547669?v=4","gravatar_id":"","url":"https://api.github.com/users/bitsondatadev","html_url":"https://github.com/bitsondatadev","followers_url":"https://api.github.com/users/bitsondatadev/followers","following_url":"https://api.github.com/users/bitsondatadev/following{/other_user}","gists_url":"https://api.github.com/users/bitsondatadev/gists{/gist_id}","starred_url":"https://api.github.com/users/bitsondatadev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitsondatadev/subscriptions","organizations_url":"https://api.github.com/users/bitsondatadev/orgs","repos_url":"https://api.github.com/users/bitsondatadev/repos","events_url":"https://api.github.com/users/bitsondatadev/events{/privacy}","received_events_url":"https://api.github.com/users/bitsondatadev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T02:04:03Z","updated_at":"2023-07-27T02:04:03Z","author_association":"COLLABORATOR","body":"Done!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652805542/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652836121","html_url":"https://github.com/apache/iceberg/issues/8151#issuecomment-1652836121","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8151","id":1652836121,"node_id":"IC_kwDOCW7NX85ihEcZ","user":{"login":"bitsondatadev","id":8547669,"node_id":"MDQ6VXNlcjg1NDc2Njk=","avatar_url":"https://avatars.githubusercontent.com/u/8547669?v=4","gravatar_id":"","url":"https://api.github.com/users/bitsondatadev","html_url":"https://github.com/bitsondatadev","followers_url":"https://api.github.com/users/bitsondatadev/followers","following_url":"https://api.github.com/users/bitsondatadev/following{/other_user}","gists_url":"https://api.github.com/users/bitsondatadev/gists{/gist_id}","starred_url":"https://api.github.com/users/bitsondatadev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitsondatadev/subscriptions","organizations_url":"https://api.github.com/users/bitsondatadev/orgs","repos_url":"https://api.github.com/users/bitsondatadev/repos","events_url":"https://api.github.com/users/bitsondatadev/events{/privacy}","received_events_url":"https://api.github.com/users/bitsondatadev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T02:53:03Z","updated_at":"2023-07-27T02:53:03Z","author_association":"COLLABORATOR","body":"@szehon-ho / @nastra PTAL at this and let me know if it this proposal makes sense: https://lists.apache.org/thread/nq283g83p9cgx518jwo7dg85fm5gjrvv\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652836121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652884537","html_url":"https://github.com/apache/iceberg/pull/8001#issuecomment-1652884537","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8001","id":1652884537,"node_id":"IC_kwDOCW7NX85ihQQ5","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T04:15:34Z","updated_at":"2023-07-27T04:15:34Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer. Consider two file groups. If there are no committing conflicts, then the performance should same as the existing one. If there are conflicts existed, in the previous implementation there should be one retry happens, so the total time should be at least two times committing. However, it should be two times committing under the lock.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652884537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652916047","html_url":"https://github.com/apache/iceberg/pull/8157#issuecomment-1652916047","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8157","id":1652916047,"node_id":"IC_kwDOCW7NX85ihX9P","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T04:59:31Z","updated_at":"2023-07-27T04:59:31Z","author_association":"CONTRIBUTOR","body":"@zinking, we have discussed it a bit during one of the community syncs. I'll take another look over the weekend.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652916047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652944464","html_url":"https://github.com/apache/iceberg/pull/8163#issuecomment-1652944464","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8163","id":1652944464,"node_id":"IC_kwDOCW7NX85ihe5Q","user":{"login":"manuzhang","id":1191767,"node_id":"MDQ6VXNlcjExOTE3Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1191767?v=4","gravatar_id":"","url":"https://api.github.com/users/manuzhang","html_url":"https://github.com/manuzhang","followers_url":"https://api.github.com/users/manuzhang/followers","following_url":"https://api.github.com/users/manuzhang/following{/other_user}","gists_url":"https://api.github.com/users/manuzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/manuzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manuzhang/subscriptions","organizations_url":"https://api.github.com/users/manuzhang/orgs","repos_url":"https://api.github.com/users/manuzhang/repos","events_url":"https://api.github.com/users/manuzhang/events{/privacy}","received_events_url":"https://api.github.com/users/manuzhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T05:39:42Z","updated_at":"2023-07-27T05:47:13Z","author_association":"COLLABORATOR","body":"@jackye1995 @hililiwei please help review this idea.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652944464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652964309","html_url":"https://github.com/apache/iceberg/issues/1750#issuecomment-1652964309","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1750","id":1652964309,"node_id":"IC_kwDOCW7NX85ihjvV","user":{"login":"jzhuge","id":1883812,"node_id":"MDQ6VXNlcjE4ODM4MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1883812?v=4","gravatar_id":"","url":"https://api.github.com/users/jzhuge","html_url":"https://github.com/jzhuge","followers_url":"https://api.github.com/users/jzhuge/followers","following_url":"https://api.github.com/users/jzhuge/following{/other_user}","gists_url":"https://api.github.com/users/jzhuge/gists{/gist_id}","starred_url":"https://api.github.com/users/jzhuge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzhuge/subscriptions","organizations_url":"https://api.github.com/users/jzhuge/orgs","repos_url":"https://api.github.com/users/jzhuge/repos","events_url":"https://api.github.com/users/jzhuge/events{/privacy}","received_events_url":"https://api.github.com/users/jzhuge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T06:04:41Z","updated_at":"2023-07-27T06:04:41Z","author_association":"MEMBER","body":"Noticed the same issue","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652964309/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652968669","html_url":"https://github.com/apache/iceberg/pull/8157#issuecomment-1652968669","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8157","id":1652968669,"node_id":"IC_kwDOCW7NX85ihkzd","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T06:09:33Z","updated_at":"2023-07-27T06:09:50Z","author_association":"CONTRIBUTOR","body":"I'll merge this one to unblock the distributed planning effort. Thanks everyone for reviewing!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1652968669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1653003388","html_url":"https://github.com/apache/iceberg/issues/8159#issuecomment-1653003388","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8159","id":1653003388,"node_id":"IC_kwDOCW7NX85ihtR8","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T06:44:10Z","updated_at":"2023-07-27T06:44:10Z","author_association":"CONTRIBUTOR","body":"This is most likely the same issue as https://github.com/apache/iceberg/issues/7879, indicating that there's a classpath issue. Are you creating your own uber jar?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1653003388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1653122326","html_url":"https://github.com/apache/iceberg/pull/8164#issuecomment-1653122326","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8164","id":1653122326,"node_id":"IC_kwDOCW7NX85iiKUW","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T08:16:38Z","updated_at":"2023-07-28T10:17:16Z","author_association":"COLLABORATOR","body":"This closes https://github.com/apache/iceberg/issues/5853. @aokolnychyi Could you please take a look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1653122326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1653340665","html_url":"https://github.com/apache/iceberg/pull/8120#issuecomment-1653340665","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8120","id":1653340665,"node_id":"IC_kwDOCW7NX85ii_n5","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T10:29:24Z","updated_at":"2023-07-27T10:29:24Z","author_association":"CONTRIBUTOR","body":"@pvary Do you have time to dig into this one?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1653340665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1653404609","html_url":"https://github.com/apache/iceberg/pull/8001#issuecomment-1653404609","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8001","id":1653404609,"node_id":"IC_kwDOCW7NX85ijPPB","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T11:11:09Z","updated_at":"2023-07-27T11:11:09Z","author_association":"MEMBER","body":"The issue is that writing manifests does not occur until the commit is called. If you are using inherit snapshot id the retry just rewrites the metadata.json.\n\nSo you have these two timelines\n\nConcurrent commit \nWrite manifests for group A\nWrite manifests for group B\nGroup A writes metadata \nGroup B writes metadata \nGroup A commits \nGroup B rewrites metadata\nGroup B commits \n\n\nSerial commit\nWrite manifests for group a\nGroups A writes metadata\nGroup A commits\n...\n\n\nSo if writing manifests is slow and writing metadata is fast, process two takes much much longer\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1653404609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1653429923","html_url":"https://github.com/apache/iceberg/issues/3142#issuecomment-1653429923","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3142","id":1653429923,"node_id":"IC_kwDOCW7NX85ijVaj","user":{"login":"meicanhong","id":46861680,"node_id":"MDQ6VXNlcjQ2ODYxNjgw","avatar_url":"https://avatars.githubusercontent.com/u/46861680?v=4","gravatar_id":"","url":"https://api.github.com/users/meicanhong","html_url":"https://github.com/meicanhong","followers_url":"https://api.github.com/users/meicanhong/followers","following_url":"https://api.github.com/users/meicanhong/following{/other_user}","gists_url":"https://api.github.com/users/meicanhong/gists{/gist_id}","starred_url":"https://api.github.com/users/meicanhong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/meicanhong/subscriptions","organizations_url":"https://api.github.com/users/meicanhong/orgs","repos_url":"https://api.github.com/users/meicanhong/repos","events_url":"https://api.github.com/users/meicanhong/events{/privacy}","received_events_url":"https://api.github.com/users/meicanhong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T11:29:42Z","updated_at":"2023-07-27T11:29:42Z","author_association":"NONE","body":"@anuragmantri hi, I would like to know how to rewrite the path in the metadata file? We are now migrating the iceberg table to another cloud, and we have encountered the same problem.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1653429923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1653477069","html_url":"https://github.com/apache/iceberg/pull/8001#issuecomment-1653477069","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8001","id":1653477069,"node_id":"IC_kwDOCW7NX85ijg7N","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T12:03:14Z","updated_at":"2023-07-27T12:07:20Z","author_association":"CONTRIBUTOR","body":"> If you are using inherit snapshot id the retry just rewrites the metadata.json.\r\n\r\nI see the inherent snapshot id is only used for adding manifest files. https://github.com/apache/iceberg/blob/5cad65ad1fbbf214675de6a19f068e5672cb25a7/core/src/main/java/org/apache/iceberg/MergingSnapshotProducer.java#L284\r\n\r\n> So if writing manifests is slow and writing metadata is fast, process two takes much much longer\r\n\r\nI got your point. So the performance could be decreased if the new manifest writing is slow. Previously, I implemented as adding the failed file groups to a failed queue and doing a retry with the `committerService` in the end. Is that reasonable? Or we may need to narrow the lock scope to the committing of table operations if the direction is the current implementation.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1653477069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1653680725","html_url":"https://github.com/apache/iceberg/issues/7584#issuecomment-1653680725","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7584","id":1653680725,"node_id":"IC_kwDOCW7NX85ikSpV","user":{"login":"pdehaansbp","id":132578075,"node_id":"U_kgDOB-b7Gw","avatar_url":"https://avatars.githubusercontent.com/u/132578075?v=4","gravatar_id":"","url":"https://api.github.com/users/pdehaansbp","html_url":"https://github.com/pdehaansbp","followers_url":"https://api.github.com/users/pdehaansbp/followers","following_url":"https://api.github.com/users/pdehaansbp/following{/other_user}","gists_url":"https://api.github.com/users/pdehaansbp/gists{/gist_id}","starred_url":"https://api.github.com/users/pdehaansbp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdehaansbp/subscriptions","organizations_url":"https://api.github.com/users/pdehaansbp/orgs","repos_url":"https://api.github.com/users/pdehaansbp/repos","events_url":"https://api.github.com/users/pdehaansbp/events{/privacy}","received_events_url":"https://api.github.com/users/pdehaansbp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T13:57:08Z","updated_at":"2023-07-27T13:57:08Z","author_association":"NONE","body":"Same issue. Curious to read what @jackye1995 and @yyanyy think about it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1653680725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1653695333","html_url":"https://github.com/apache/iceberg/pull/8001#issuecomment-1653695333","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8001","id":1653695333,"node_id":"IC_kwDOCW7NX85ikWNl","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T14:05:20Z","updated_at":"2023-07-27T14:05:20Z","author_association":"MEMBER","body":"Yes this is why we made it concurrent. Previously for very large rewrites we would get timeouts and poor perf because although all the groups would be complete, we had to wait for commits 1 at a timeSent from my iPhoneOn Jul 27, 2023, at 7:03 AM, Xianyang Liu ***@***.***> wrote:﻿\r\n\r\nIf you are using inherit snapshot id the retry just rewrites the metadata.json.\r\n\r\nI see the inherent snapshot id is only used for adding manifest files. https://github.com/apache/iceberg/blob/5cad65ad1fbbf214675de6a19f068e5672cb25a7/core/src/main/java/org/apache/iceberg/MergingSnapshotProducer.java#L284\r\n\r\nSo if writing manifests is slow and writing metadata is fast, process two takes much much longer\r\n\r\nI got your point. So the performance could be decreased if the new manifest writing is slow. Previously, I implemented as adding the failed file groups to a failed queue and doing a retry with the committerService in the end.\r\n\r\n—Reply to this email directly, view it on GitHub, or unsubscribe.You are receiving this because you were mentioned.Message ID: ***@***.***>","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1653695333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1653938687","html_url":"https://github.com/apache/iceberg/issues/8010#issuecomment-1653938687","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8010","id":1653938687,"node_id":"IC_kwDOCW7NX85ilRn_","user":{"login":"padraic00","id":25886922,"node_id":"MDQ6VXNlcjI1ODg2OTIy","avatar_url":"https://avatars.githubusercontent.com/u/25886922?v=4","gravatar_id":"","url":"https://api.github.com/users/padraic00","html_url":"https://github.com/padraic00","followers_url":"https://api.github.com/users/padraic00/followers","following_url":"https://api.github.com/users/padraic00/following{/other_user}","gists_url":"https://api.github.com/users/padraic00/gists{/gist_id}","starred_url":"https://api.github.com/users/padraic00/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/padraic00/subscriptions","organizations_url":"https://api.github.com/users/padraic00/orgs","repos_url":"https://api.github.com/users/padraic00/repos","events_url":"https://api.github.com/users/padraic00/events{/privacy}","received_events_url":"https://api.github.com/users/padraic00/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T16:18:50Z","updated_at":"2023-07-27T16:18:50Z","author_association":"NONE","body":"> Follow up: looks like this is set in Spark 3.4 w/Iceberg so it's probably fine already and a problem from using Spark 3.3.\r\n\r\nWish I found this thread a week ago. Fixed by bumping to EMR 6.12 (Spark 3.4)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1653938687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1654259501","html_url":"https://github.com/apache/iceberg/pull/8132#issuecomment-1654259501","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8132","id":1654259501,"node_id":"IC_kwDOCW7NX85imf8t","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T19:05:30Z","updated_at":"2023-07-27T19:05:30Z","author_association":"COLLABORATOR","body":"@flyrain i checked, it works today because the end iterator is always FilterIterator:  https://github.com/apache/iceberg/blob/master/data/src/main/java/org/apache/iceberg/data/DeleteFilter.java#L154\r\n\r\nwhich does auto-close (as i mentioned in description):\r\nhttps://github.com/apache/iceberg/blob/master/api/src/main/java/org/apache/iceberg/io/FilterIterator.java\r\n\r\nThe only problem is that close() does not close secondary iterators (deleteFileIterator), which is only in those places I showed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1654259501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1654478163","html_url":"https://github.com/apache/iceberg/pull/7987#issuecomment-1654478163","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7987","id":1654478163,"node_id":"IC_kwDOCW7NX85inVVT","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T20:03:01Z","updated_at":"2023-07-27T20:03:01Z","author_association":"CONTRIBUTOR","body":"Looks like this includes changes from other PRs, so I'll hold off on reviewing until it's rebased. Just ping me when this is unblocked.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1654478163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1654520074","html_url":"https://github.com/apache/iceberg/pull/8042#issuecomment-1654520074","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8042","id":1654520074,"node_id":"IC_kwDOCW7NX85infkK","user":{"login":"namrathamyske","id":17932873,"node_id":"MDQ6VXNlcjE3OTMyODcz","avatar_url":"https://avatars.githubusercontent.com/u/17932873?v=4","gravatar_id":"","url":"https://api.github.com/users/namrathamyske","html_url":"https://github.com/namrathamyske","followers_url":"https://api.github.com/users/namrathamyske/followers","following_url":"https://api.github.com/users/namrathamyske/following{/other_user}","gists_url":"https://api.github.com/users/namrathamyske/gists{/gist_id}","starred_url":"https://api.github.com/users/namrathamyske/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namrathamyske/subscriptions","organizations_url":"https://api.github.com/users/namrathamyske/orgs","repos_url":"https://api.github.com/users/namrathamyske/repos","events_url":"https://api.github.com/users/namrathamyske/events{/privacy}","received_events_url":"https://api.github.com/users/namrathamyske/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T20:24:45Z","updated_at":"2023-07-27T20:24:45Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer Addressed all review comments! Please take another look.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1654520074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1654626170","html_url":"https://github.com/apache/iceberg/pull/6335#issuecomment-1654626170","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6335","id":1654626170,"node_id":"IC_kwDOCW7NX85in5d6","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T21:44:48Z","updated_at":"2023-07-27T21:44:48Z","author_association":"CONTRIBUTOR","body":"I feel like this would be super valuable for CTAS kind of use cases where a large chunk of data is being added at the same time. I had a few suggestions on how to simplify the rolling writer.\r\n\r\nNice work, @ConeyLiu!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1654626170/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1654628637","html_url":"https://github.com/apache/iceberg/pull/8042#issuecomment-1654628637","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8042","id":1654628637,"node_id":"IC_kwDOCW7NX85in6Ed","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T21:47:27Z","updated_at":"2023-07-27T21:47:27Z","author_association":"CONTRIBUTOR","body":"I will have some time today/tomorrow to take a look as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1654628637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1654636801","html_url":"https://github.com/apache/iceberg/pull/7691#issuecomment-1654636801","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7691","id":1654636801,"node_id":"IC_kwDOCW7NX85in8EB","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T21:56:15Z","updated_at":"2023-07-27T21:56:15Z","author_association":"CONTRIBUTOR","body":"I will change this approach in a bit.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1654636801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1654706961","html_url":"https://github.com/apache/iceberg/pull/8167#issuecomment-1654706961","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8167","id":1654706961,"node_id":"IC_kwDOCW7NX85ioNMR","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-27T23:06:08Z","updated_at":"2023-07-27T23:06:08Z","author_association":"CONTRIBUTOR","body":"Fixed in Spark3.3. and 3.2 as well. No need to fix in 3.1 since SparkChangelogScan isn't there.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1654706961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]