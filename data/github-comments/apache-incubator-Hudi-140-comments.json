[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884006684","html_url":"https://github.com/apache/hudi/pull/3318#issuecomment-884006684","issue_url":"https://api.github.com/repos/apache/hudi/issues/3318","id":884006684,"node_id":"IC_kwDOBI7nWM40sN8c","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-21T08:42:30Z","updated_at":"2021-07-28T00:33:44Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"ac05c5b12e684b878bcb43a46a88d1fb468128f7\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1073\",\n    \"triggerID\" : \"ac05c5b12e684b878bcb43a46a88d1fb468128f7\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"9c810f152b2504659f0559f4f68d732911198811\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1083\",\n    \"triggerID\" : \"9c810f152b2504659f0559f4f68d732911198811\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"7a127f223d36925b4e400f8ef3b98bafee5b5544\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1205\",\n    \"triggerID\" : \"7a127f223d36925b4e400f8ef3b98bafee5b5544\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 7a127f223d36925b4e400f8ef3b98bafee5b5544 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1205) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884006684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884017457","html_url":"https://github.com/apache/hudi/pull/3319#issuecomment-884017457","issue_url":"https://api.github.com/repos/apache/hudi/issues/3319","id":884017457,"node_id":"IC_kwDOBI7nWM40sQkx","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-21T08:58:14Z","updated_at":"2021-07-21T10:19:08Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"bb17e873a4e87dfc0b1465597926f875b90d91e7\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1075\",\n    \"triggerID\" : \"bb17e873a4e87dfc0b1465597926f875b90d91e7\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* bb17e873a4e87dfc0b1465597926f875b90d91e7 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1075) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884017457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884049354","html_url":"https://github.com/apache/hudi/pull/3319#issuecomment-884049354","issue_url":"https://api.github.com/repos/apache/hudi/issues/3319","id":884049354,"node_id":"IC_kwDOBI7nWM40sYXK","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-21T09:43:31Z","updated_at":"2021-07-21T09:43:31Z","author_association":"CONTRIBUTOR","body":"@leoluan2009 Thanks for the contribution, +1 from my side, let's wait for the CI pass.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884049354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884051312","html_url":"https://github.com/apache/hudi/pull/3317#issuecomment-884051312","issue_url":"https://api.github.com/repos/apache/hudi/issues/3317","id":884051312,"node_id":"IC_kwDOBI7nWM40sY1w","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-21T09:46:31Z","updated_at":"2021-07-21T09:46:31Z","author_association":"CONTRIBUTOR","body":"I actually have a similar PR https://github.com/apache/hudi/pull/3267 but have no time to finish it yet, you can take it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884051312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884063606","html_url":"https://github.com/apache/hudi/pull/3316#issuecomment-884063606","issue_url":"https://api.github.com/repos/apache/hudi/issues/3316","id":884063606,"node_id":"IC_kwDOBI7nWM40sb12","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-21T10:04:37Z","updated_at":"2021-07-21T13:58:00Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/3316?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3316](https://codecov.io/gh/apache/hudi/pull/3316?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (af1208b) into [master](https://codecov.io/gh/apache/hudi/commit/858e84b5b2f1c5fbd4266922b494ad0d16f5b92a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (858e84b) will **decrease** coverage by `2.15%`.\n> The diff coverage is `7.14%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/3316/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/3316?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #3316      +/-   ##\n============================================\n- Coverage     47.76%   45.61%   -2.16%     \n+ Complexity     5596     5593       -3     \n============================================\n  Files           938      999      +61     \n  Lines         41828    43782    +1954     \n  Branches       4212     4400     +188     \n============================================\n- Hits          19980    19971       -9     \n- Misses        20065    22028    +1963     \n  Partials       1783     1783              \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| hudicli | `39.97% <ø> (ø)` | |\n| hudiclient | `34.50% <7.14%> (-0.06%)` | :arrow_down: |\n| hudicommon | `48.63% <ø> (-0.02%)` | :arrow_down: |\n| hudiflink | `59.65% <ø> (ø)` | |\n| hudihadoopmr | `52.02% <ø> (ø)` | |\n| hudiintegtest | `0.00% <ø> (?)` | |\n| hudisparkdatasource | `67.04% <ø> (ø)` | |\n| hudisync | `55.97% <ø> (ø)` | |\n| huditimelineservice | `64.07% <ø> (ø)` | |\n| hudiutilities | `59.87% <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/3316?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ain/java/org/apache/hudi/io/FlinkCreateHandle.java](https://codecov.io/gh/apache/hudi/pull/3316/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1mbGluay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW8vRmxpbmtDcmVhdGVIYW5kbGUuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...org/apache/hudi/io/FlinkMergeAndReplaceHandle.java](https://codecov.io/gh/apache/hudi/pull/3316/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1mbGluay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW8vRmxpbmtNZXJnZUFuZFJlcGxhY2VIYW5kbGUuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...main/java/org/apache/hudi/io/FlinkMergeHandle.java](https://codecov.io/gh/apache/hudi/pull/3316/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1mbGluay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW8vRmxpbmtNZXJnZUhhbmRsZS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...apache/hudi/table/HoodieFlinkCopyOnWriteTable.java](https://codecov.io/gh/apache/hudi/pull/3316/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1mbGluay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvSG9vZGllRmxpbmtDb3B5T25Xcml0ZVRhYmxlLmphdmE=) | `6.52% <ø> (+0.63%)` | :arrow_up: |\n| [...i/table/action/clean/FlinkCleanActionExecutor.java](https://codecov.io/gh/apache/hudi/pull/3316/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1mbGluay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL2NsZWFuL0ZsaW5rQ2xlYW5BY3Rpb25FeGVjdXRvci5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...e/hudi/client/common/HoodieFlinkEngineContext.java](https://codecov.io/gh/apache/hudi/pull/3316/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1mbGluay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L2NvbW1vbi9Ib29kaWVGbGlua0VuZ2luZUNvbnRleHQuamF2YQ==) | `78.57% <100.00%> (ø)` | |\n| [...a/org/apache/hudi/metrics/DistributedRegistry.java](https://codecov.io/gh/apache/hudi/pull/3316/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0cmljcy9EaXN0cmlidXRlZFJlZ2lzdHJ5LmphdmE=) | `36.66% <0.00%> (-23.34%)` | :arrow_down: |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/3316/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `78.12% <0.00%> (-1.57%)` | :arrow_down: |\n| [...udi/integ/testsuite/converter/DeleteConverter.java](https://codecov.io/gh/apache/hudi/pull/3316/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1pbnRlZy10ZXN0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2ludGVnL3Rlc3RzdWl0ZS9jb252ZXJ0ZXIvRGVsZXRlQ29udmVydGVyLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../testsuite/dag/nodes/InsertOverwriteTableNode.java](https://codecov.io/gh/apache/hudi/pull/3316/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1pbnRlZy10ZXN0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2ludGVnL3Rlc3RzdWl0ZS9kYWcvbm9kZXMvSW5zZXJ0T3ZlcndyaXRlVGFibGVOb2RlLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| ... and [59 more](https://codecov.io/gh/apache/hudi/pull/3316/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/hudi/pull/3316?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/hudi/pull/3316?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [858e84b...af1208b](https://codecov.io/gh/apache/hudi/pull/3316?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884063606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884133172","html_url":"https://github.com/apache/hudi/pull/3318#issuecomment-884133172","issue_url":"https://api.github.com/repos/apache/hudi/issues/3318","id":884133172,"node_id":"IC_kwDOBI7nWM40ss00","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-21T11:58:32Z","updated_at":"2021-07-21T23:36:39Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/3318?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3318](https://codecov.io/gh/apache/hudi/pull/3318?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (9c810f1) into [master](https://codecov.io/gh/apache/hudi/commit/d58a8348dc729c83c60025fc8dbed3ecec28578b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d58a834) will **decrease** coverage by `0.01%`.\n> The diff coverage is `65.62%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/3318/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/3318?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #3318      +/-   ##\n============================================\n- Coverage     45.66%   45.65%   -0.02%     \n+ Complexity     5600     5597       -3     \n============================================\n  Files           999     1000       +1     \n  Lines         43781    43825      +44     \n  Branches       4403     4403              \n============================================\n+ Hits          19993    20007      +14     \n- Misses        22004    22034      +30     \n  Partials       1784     1784              \n```\n\n| Flag | Coverage Δ | |\n|---|---|---|\n| hudicli | `40.02% <100.00%> (+0.05%)` | :arrow_up: |\n| hudiclient | `34.54% <50.00%> (-0.01%)` | :arrow_down: |\n| hudicommon | `48.66% <66.66%> (+0.01%)` | :arrow_up: |\n| hudiflink | `59.67% <100.00%> (+0.01%)` | :arrow_up: |\n| hudihadoopmr | `52.10% <100.00%> (+0.08%)` | :arrow_up: |\n| hudiintegtest | `0.00% <0.00%> (ø)` | |\n| hudisparkdatasource | `67.10% <ø> (-0.31%)` | :arrow_down: |\n| hudisync | `55.97% <ø> (ø)` | |\n| huditimelineservice | `64.07% <ø> (ø)` | |\n| hudiutilities | `59.87% <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/3318?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ain/java/org/apache/hudi/io/HoodieMergeHandle.java](https://codecov.io/gh/apache/hudi/pull/3318/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1jbGllbnQtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2lvL0hvb2RpZU1lcmdlSGFuZGxlLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../compact/HoodieFlinkMergeOnReadTableCompactor.java](https://codecov.io/gh/apache/hudi/pull/3318/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1mbGluay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL2NvbXBhY3QvSG9vZGllRmxpbmtNZXJnZU9uUmVhZFRhYmxlQ29tcGFjdG9yLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...pache/hudi/metadata/HoodieBackedTableMetadata.java](https://codecov.io/gh/apache/hudi/pull/3318/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllQmFja2VkVGFibGVNZXRhZGF0YS5qYXZh) | `0.00% <0.00%> (ø)` | |\n| [...metadata/HoodieMetadataMergedLogRecordScanner.java](https://codecov.io/gh/apache/hudi/pull/3318/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllTWV0YWRhdGFNZXJnZWRMb2dSZWNvcmRTY2FubmVyLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [.../testsuite/reader/DFSHoodieDatasetInputReader.java](https://codecov.io/gh/apache/hudi/pull/3318/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1pbnRlZy10ZXN0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2ludGVnL3Rlc3RzdWl0ZS9yZWFkZXIvREZTSG9vZGllRGF0YXNldElucHV0UmVhZGVyLmphdmE=) | `0.00% <0.00%> (ø)` | |\n| [...java/org/apache/hudi/config/HoodieWriteConfig.java](https://codecov.io/gh/apache/hudi/pull/3318/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1jbGllbnQtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2NvbmZpZy9Ib29kaWVXcml0ZUNvbmZpZy5qYXZh) | `43.07% <50.00%> (-0.30%)` | :arrow_down: |\n| [.../apache/hudi/common/config/HoodieCommonConfig.java](https://codecov.io/gh/apache/hudi/pull/3318/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2NvbmZpZy9Ib29kaWVDb21tb25Db25maWcuamF2YQ==) | `70.83% <70.83%> (ø)` | |\n| [...apache/hudi/cli/commands/HoodieLogFileCommand.java](https://codecov.io/gh/apache/hudi/pull/3318/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL2NvbW1hbmRzL0hvb2RpZUxvZ0ZpbGVDb21tYW5kLmphdmE=) | `83.72% <100.00%> (+0.25%)` | :arrow_up: |\n| [...er/SparkExecuteClusteringCommitActionExecutor.java](https://codecov.io/gh/apache/hudi/pull/3318/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL2NsdXN0ZXIvU3BhcmtFeGVjdXRlQ2x1c3RlcmluZ0NvbW1pdEFjdGlvbkV4ZWN1dG9yLmphdmE=) | `89.62% <100.00%> (+0.19%)` | :arrow_up: |\n| [.../compact/HoodieSparkMergeOnReadTableCompactor.java](https://codecov.io/gh/apache/hudi/pull/3318/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1jbGllbnQvaHVkaS1zcGFyay1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL2NvbXBhY3QvSG9vZGllU3BhcmtNZXJnZU9uUmVhZFRhYmxlQ29tcGFjdG9yLmphdmE=) | `94.59% <100.00%> (+0.09%)` | :arrow_up: |\n| ... and [8 more](https://codecov.io/gh/apache/hudi/pull/3318/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/hudi/pull/3318?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/hudi/pull/3318?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [d58a834...9c810f1](https://codecov.io/gh/apache/hudi/pull/3318?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884133172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884147968","html_url":"https://github.com/apache/hudi/pull/3320#issuecomment-884147968","issue_url":"https://api.github.com/repos/apache/hudi/issues/3320","id":884147968,"node_id":"IC_kwDOBI7nWM40swcA","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-21T12:23:31Z","updated_at":"2021-07-22T14:11:42Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"f78e6895777d92f99e38656dd27a33429332db81\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1078\",\n    \"triggerID\" : \"f78e6895777d92f99e38656dd27a33429332db81\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"366b004cab33c57b04bac119a6a50df3b7aa5dc6\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1099\",\n    \"triggerID\" : \"366b004cab33c57b04bac119a6a50df3b7aa5dc6\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 366b004cab33c57b04bac119a6a50df3b7aa5dc6 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1099) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884147968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884254339","html_url":"https://github.com/apache/hudi/pull/3173#issuecomment-884254339","issue_url":"https://api.github.com/repos/apache/hudi/issues/3173","id":884254339,"node_id":"IC_kwDOBI7nWM40tKaD","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-21T14:53:58Z","updated_at":"2021-07-21T14:53:58Z","author_association":"CONTRIBUTOR","body":"@minihippo any updates?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884254339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884282438","html_url":"https://github.com/apache/hudi/pull/2879#issuecomment-884282438","issue_url":"https://api.github.com/repos/apache/hudi/issues/2879","id":884282438,"node_id":"IC_kwDOBI7nWM40tRRG","user":{"login":"jsbali","id":1778470,"node_id":"MDQ6VXNlcjE3Nzg0NzA=","avatar_url":"https://avatars.githubusercontent.com/u/1778470?v=4","gravatar_id":"","url":"https://api.github.com/users/jsbali","html_url":"https://github.com/jsbali","followers_url":"https://api.github.com/users/jsbali/followers","following_url":"https://api.github.com/users/jsbali/following{/other_user}","gists_url":"https://api.github.com/users/jsbali/gists{/gist_id}","starred_url":"https://api.github.com/users/jsbali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jsbali/subscriptions","organizations_url":"https://api.github.com/users/jsbali/orgs","repos_url":"https://api.github.com/users/jsbali/repos","events_url":"https://api.github.com/users/jsbali/events{/privacy}","received_events_url":"https://api.github.com/users/jsbali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-21T15:30:25Z","updated_at":"2021-07-21T15:30:25Z","author_association":"CONTRIBUTOR","body":"Have added a doFormat bool to parquetSchemaToMapSchema function. The motive behind that is when running with complex or nested schemas spaces can trip the HMS create table call.\r\nAfter going through the HiveQL driver code which in turn calls HMS this is exactly similar to how the create Table params get passed on there. \r\nAlso @n3nash and @satishkotha Have resolved all merge conflicts and added a complex schema tests as well.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884282438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884436519","html_url":"https://github.com/apache/hudi/pull/3300#issuecomment-884436519","issue_url":"https://api.github.com/repos/apache/hudi/issues/3300","id":884436519,"node_id":"IC_kwDOBI7nWM40t24n","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-21T19:23:31Z","updated_at":"2021-07-21T19:23:31Z","author_association":"MEMBER","body":"@zhangyue19921010 LGTM. Is it possible to add a test?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884436519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884455543","html_url":"https://github.com/apache/hudi/pull/3322#issuecomment-884455543","issue_url":"https://api.github.com/repos/apache/hudi/issues/3322","id":884455543,"node_id":"IC_kwDOBI7nWM40t7h3","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-21T19:53:13Z","updated_at":"2021-07-21T19:53:13Z","author_association":"MEMBER","body":"Pdf of the page for easier reading \r\n\r\n[hudi-streaming-data-platform-blog.pdf](https://github.com/apache/hudi/files/6858449/hudi-streaming-data-platform-blog.pdf)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884455543/reactions","total_count":15,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":4,"rocket":11,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884521964","html_url":"https://github.com/apache/hudi/issues/3323#issuecomment-884521964","issue_url":"https://api.github.com/repos/apache/hudi/issues/3323","id":884521964,"node_id":"IC_kwDOBI7nWM40uLvs","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-21T21:48:48Z","updated_at":"2021-07-21T21:48:48Z","author_association":"MEMBER","body":"@nsivabalan could you please take a look at this?  \r\n\r\nFelix reported this on slack. \r\n\r\nI am really confused on incremental query on MOR table: From all the documentation I have seen we get the records that is changed from given begin time via an incremental query. But I am getting following behavior any insights?\r\nschema: {id: int, value = int}\r\nInserted 10 records at time T1\r\n 2. Updated record with id =1  to value=2 at Time T2\r\n 3. Made another update to same record id=1 to value=3 at Time T3\r\n 4. Updates same record again with value=4 at time T4\r\n 5. Now at time T5, I am making an incremental query, with hoodie.datasource.read.begin.instanttime=T1\r\nthen I get record id=1 with value=2, is that expected?\r\nHow do I get the latest value value=4 via an incremental query?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884521964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884607348","html_url":"https://github.com/apache/hudi/issues/3321#issuecomment-884607348","issue_url":"https://api.github.com/repos/apache/hudi/issues/3321","id":884607348,"node_id":"IC_kwDOBI7nWM40ugl0","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T01:55:32Z","updated_at":"2021-07-22T01:55:32Z","author_association":"CONTRIBUTOR","body":"May I know whats the schema of your table. do you set default value for \"_hoodie_is_deleted\" as false? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884607348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884608382","html_url":"https://github.com/apache/hudi/issues/3321#issuecomment-884608382","issue_url":"https://api.github.com/repos/apache/hudi/issues/3321","id":884608382,"node_id":"IC_kwDOBI7nWM40ug1-","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T01:59:52Z","updated_at":"2021-07-22T01:59:52Z","author_association":"CONTRIBUTOR","body":"I see that you are using bulk_insert operation. Don't think w/ bulk_insert we honor the _hoodie_is_deleted. Can you try setting your operation to \"upsert\". ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884608382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884608726","html_url":"https://github.com/apache/hudi/issues/3246#issuecomment-884608726","issue_url":"https://api.github.com/repos/apache/hudi/issues/3246","id":884608726,"node_id":"IC_kwDOBI7nWM40ug7W","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T02:01:17Z","updated_at":"2021-07-22T02:01:17Z","author_association":"CONTRIBUTOR","body":"yes, this is a known limitation I guess. @n3nash : Can you confirm and add more if any. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884608726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884608912","html_url":"https://github.com/apache/hudi/issues/3236#issuecomment-884608912","issue_url":"https://api.github.com/repos/apache/hudi/issues/3236","id":884608912,"node_id":"IC_kwDOBI7nWM40ug-Q","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T02:01:53Z","updated_at":"2021-07-22T02:01:53Z","author_association":"CONTRIBUTOR","body":"Let us know if you have any more questions. if not, will close the ticket. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884608912/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884615732","html_url":"https://github.com/apache/hudi/issues/3323#issuecomment-884615732","issue_url":"https://api.github.com/repos/apache/hudi/issues/3323","id":884615732,"node_id":"IC_kwDOBI7nWM40uio0","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T02:23:45Z","updated_at":"2021-07-22T02:23:45Z","author_association":"CONTRIBUTOR","body":"I guess its bcoz, you don't have a higher preCombine value for new commits made. I see that all your preCombine is set to same value. Can you try it out and let me know. \r\n\r\nmy local trail:\r\nhttps://gist.github.com/nsivabalan/d75f3f948c5f01a0b3454b986c3b9fe6\r\noutput: \r\n```\r\nscala> spark.sql(\"select rowId, preComb, value from hudi_trips_incremental\").show(false)\r\n+-----+-------+-----+\r\n|rowId|preComb|value|\r\n+-----+-------+-----+\r\n|row_3|2      |2    |\r\n|row_2|2      |2    |\r\n|row_1|2      |2    |\r\n|row_4|2      |2    |\r\n|row_5|2      |2    |\r\n|row_6|2      |2    |\r\n|row_7|2      |2    |\r\n|row_8|2      |2    |\r\n|row_9|2      |2    |\r\n+-----+-------+-----+\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884615732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884616158","html_url":"https://github.com/apache/hudi/issues/3323#issuecomment-884616158","issue_url":"https://api.github.com/repos/apache/hudi/issues/3323","id":884616158,"node_id":"IC_kwDOBI7nWM40uive","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T02:25:31Z","updated_at":"2021-07-22T02:25:31Z","author_association":"CONTRIBUTOR","body":"Hudi uses preCombine to merge records from multiple log blocks fyi, but uses combineAndGetUpdateValue() when merging base file w/ the merged records from log. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884616158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884618704","html_url":"https://github.com/apache/hudi/issues/3323#issuecomment-884618704","issue_url":"https://api.github.com/repos/apache/hudi/issues/3323","id":884618704,"node_id":"IC_kwDOBI7nWM40ujXQ","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T02:35:41Z","updated_at":"2021-07-22T02:35:41Z","author_association":"CONTRIBUTOR","body":"my bad. looks like you do have a high preCombine value. Just that the datatype is different from what I have tried. \r\nmay I know what was the datatype of \"ts\" column in hudi table ? \r\nI am looking to reproduce w/ spark shell. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884618704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884619431","html_url":"https://github.com/apache/hudi/pull/3291#issuecomment-884619431","issue_url":"https://api.github.com/repos/apache/hudi/issues/3291","id":884619431,"node_id":"IC_kwDOBI7nWM40ujin","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T02:38:34Z","updated_at":"2021-07-22T02:38:34Z","author_association":"MEMBER","body":"@danny0405 I think we should at least support 1.12 for the 0.9.0 release, if you think this upgrade is necessary, I'd recommend support both 1.12 and 1.13. Maybe we can have a V1 and V2 connector?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884619431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884625586","html_url":"https://github.com/apache/hudi/pull/3291#issuecomment-884625586","issue_url":"https://api.github.com/repos/apache/hudi/issues/3291","id":884625586,"node_id":"IC_kwDOBI7nWM40ulCy","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T03:03:27Z","updated_at":"2021-07-22T03:03:27Z","author_association":"CONTRIBUTOR","body":"> @danny0405 I think we should at least support 1.12 for the 0.9.0 release, if you think this upgrade is necessary, I'd recommend support both 1.12 and 1.13. Maybe we can have a V1 and V2 connector?\r\n\r\nI'm planning to upgrade the version to 1.12.3 for 0.9.0 release and after the release upgrade it to 1.13.1.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884625586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884627266","html_url":"https://github.com/apache/hudi/pull/3291#issuecomment-884627266","issue_url":"https://api.github.com/repos/apache/hudi/issues/3291","id":884627266,"node_id":"IC_kwDOBI7nWM40uldC","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T03:08:23Z","updated_at":"2021-07-22T03:08:23Z","author_association":"MEMBER","body":"@danny0405 What's the impact of upgrading from 1.12.2 to 1.12.3? we should be very cautious about the version upgrade unless they are fully backward compatible. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884627266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884638185","html_url":"https://github.com/apache/hudi/issues/3323#issuecomment-884638185","issue_url":"https://api.github.com/repos/apache/hudi/issues/3323","id":884638185,"node_id":"IC_kwDOBI7nWM40uoHp","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T03:46:39Z","updated_at":"2021-07-22T03:47:17Z","author_association":"CONTRIBUTOR","body":"I delved deeper and found the root cause. Could be a bug in code. But surprised how come we have not encountered this so far. \r\nWhen we construct the records back from disk (log blocks), we use [reflection to instantiate the payload](https://github.com/apache/hudi/blob/5a94b6bf54b18739da55ebde10adf93f133e3204/hudi-common/src/main/java/org/apache/hudi/common/util/SpillableMapUtils.java#L116). And we have two constructors with OverwriteWithLatestAvroPayload, one of them takes in ordering field value, while 2nd one does not and assumes natural ordering(sets 0 as preCombine value). \r\n\r\nHence when two records are merged, we see the discrepancy. \r\n\r\nIncase you are wondering, how come snapshot read is giving us correct results, here is the reason. \r\nSnapshot read, reads/merges log blocks in reverse and so the latest record always gets picked. \r\nWhere as w/ incremental, we read/merge log blocks from start to end and so first record gets picked. \r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884638185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884640235","html_url":"https://github.com/apache/hudi/issues/3323#issuecomment-884640235","issue_url":"https://api.github.com/repos/apache/hudi/issues/3323","id":884640235,"node_id":"IC_kwDOBI7nWM40uonr","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T03:55:13Z","updated_at":"2021-07-22T03:55:13Z","author_association":"CONTRIBUTOR","body":"@vinothchandar : Do you know the reason why it was designed this way? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884640235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884642954","html_url":"https://github.com/apache/hudi/issues/3323#issuecomment-884642954","issue_url":"https://api.github.com/repos/apache/hudi/issues/3323","id":884642954,"node_id":"IC_kwDOBI7nWM40upSK","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T04:06:06Z","updated_at":"2021-07-22T04:06:06Z","author_association":"CONTRIBUTOR","body":"This fix worked for me locally: https://github.com/apache/hudi/pull/3325\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884642954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884643521","html_url":"https://github.com/apache/hudi/pull/3325#issuecomment-884643521","issue_url":"https://api.github.com/repos/apache/hudi/issues/3325","id":884643521,"node_id":"IC_kwDOBI7nWM40upbB","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T04:08:26Z","updated_at":"2021-07-22T04:50:01Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"7ab74d46bc22b7e93e0ac00a2200b62c4bd120e6\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1091\",\n    \"triggerID\" : \"7ab74d46bc22b7e93e0ac00a2200b62c4bd120e6\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 7ab74d46bc22b7e93e0ac00a2200b62c4bd120e6 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1091) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884643521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884645405","html_url":"https://github.com/apache/hudi/pull/3316#issuecomment-884645405","issue_url":"https://api.github.com/repos/apache/hudi/issues/3316","id":884645405,"node_id":"IC_kwDOBI7nWM40up4d","user":{"login":"yuzhaojing","id":32435329,"node_id":"MDQ6VXNlcjMyNDM1MzI5","avatar_url":"https://avatars.githubusercontent.com/u/32435329?v=4","gravatar_id":"","url":"https://api.github.com/users/yuzhaojing","html_url":"https://github.com/yuzhaojing","followers_url":"https://api.github.com/users/yuzhaojing/followers","following_url":"https://api.github.com/users/yuzhaojing/following{/other_user}","gists_url":"https://api.github.com/users/yuzhaojing/gists{/gist_id}","starred_url":"https://api.github.com/users/yuzhaojing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yuzhaojing/subscriptions","organizations_url":"https://api.github.com/users/yuzhaojing/orgs","repos_url":"https://api.github.com/users/yuzhaojing/repos","events_url":"https://api.github.com/users/yuzhaojing/events{/privacy}","received_events_url":"https://api.github.com/users/yuzhaojing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T04:15:36Z","updated_at":"2021-07-22T04:15:36Z","author_association":"CONTRIBUTOR","body":"+1 LGTM","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884645405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884649224","html_url":"https://github.com/apache/hudi/issues/3313#issuecomment-884649224","issue_url":"https://api.github.com/repos/apache/hudi/issues/3313","id":884649224,"node_id":"IC_kwDOBI7nWM40uq0I","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T04:29:43Z","updated_at":"2021-07-22T04:29:43Z","author_association":"CONTRIBUTOR","body":"AFAIK, CustomKeyGenerator does pick field values as is. don't think it does any timestamp related conversion. \r\nCan you confirm that during bulk_insert the claim_subm_dt field value was \"2020-11-21 00:00:00.0\", and while you upserted it was \"1605916800000000\". I mean in the incoming df. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884649224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884649681","html_url":"https://github.com/apache/hudi/issues/3313#issuecomment-884649681","issue_url":"https://api.github.com/repos/apache/hudi/issues/3313","id":884649681,"node_id":"IC_kwDOBI7nWM40uq7R","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T04:31:23Z","updated_at":"2021-07-22T04:31:23Z","author_association":"CONTRIBUTOR","body":"Would you mind giving me steps to reproduce w/ some sample data. guess handful of records should be good enough to reproduce. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884649681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884662878","html_url":"https://github.com/apache/hudi/pull/3300#issuecomment-884662878","issue_url":"https://api.github.com/repos/apache/hudi/issues/3300","id":884662878,"node_id":"IC_kwDOBI7nWM40uuJe","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T05:21:39Z","updated_at":"2021-08-09T08:41:38Z","author_association":"CONTRIBUTOR","body":"Hi @satishkotha Thanks for your review.\r\n\r\n\r\n> @zhangyue19921010 LGTM. Is it possible to add a test?\r\n\r\nSure thing, added.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884662878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884689249","html_url":"https://github.com/apache/hudi/pull/3316#issuecomment-884689249","issue_url":"https://api.github.com/repos/apache/hudi/issues/3316","id":884689249,"node_id":"IC_kwDOBI7nWM40u0lh","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T06:41:35Z","updated_at":"2021-07-22T06:41:35Z","author_association":"MEMBER","body":"Is this change already covered by the existing tests?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884689249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884700210","html_url":"https://github.com/apache/hudi/pull/3326#issuecomment-884700210","issue_url":"https://api.github.com/repos/apache/hudi/issues/3326","id":884700210,"node_id":"IC_kwDOBI7nWM40u3Qy","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T07:08:34Z","updated_at":"2021-07-22T08:09:16Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"b2d5623a671057cf5c2ef5215e123d189c707384\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1094\",\n    \"triggerID\" : \"b2d5623a671057cf5c2ef5215e123d189c707384\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* b2d5623a671057cf5c2ef5215e123d189c707384 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1094) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884700210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884700943","html_url":"https://github.com/apache/hudi/pull/3326#issuecomment-884700943","issue_url":"https://api.github.com/repos/apache/hudi/issues/3326","id":884700943,"node_id":"IC_kwDOBI7nWM40u3cP","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T07:10:12Z","updated_at":"2021-07-22T07:10:12Z","author_association":"CONTRIBUTOR","body":"Wait for the CI passed.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884700943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884702923","html_url":"https://github.com/apache/hudi/pull/3319#issuecomment-884702923","issue_url":"https://api.github.com/repos/apache/hudi/issues/3319","id":884702923,"node_id":"IC_kwDOBI7nWM40u37L","user":{"login":"leoluan2009","id":2434086,"node_id":"MDQ6VXNlcjI0MzQwODY=","avatar_url":"https://avatars.githubusercontent.com/u/2434086?v=4","gravatar_id":"","url":"https://api.github.com/users/leoluan2009","html_url":"https://github.com/leoluan2009","followers_url":"https://api.github.com/users/leoluan2009/followers","following_url":"https://api.github.com/users/leoluan2009/following{/other_user}","gists_url":"https://api.github.com/users/leoluan2009/gists{/gist_id}","starred_url":"https://api.github.com/users/leoluan2009/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leoluan2009/subscriptions","organizations_url":"https://api.github.com/users/leoluan2009/orgs","repos_url":"https://api.github.com/users/leoluan2009/repos","events_url":"https://api.github.com/users/leoluan2009/events{/privacy}","received_events_url":"https://api.github.com/users/leoluan2009/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T07:14:22Z","updated_at":"2021-07-22T07:14:22Z","author_association":"CONTRIBUTOR","body":"@danny0405 can you help merger this pr, since CI is ok now, thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884702923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884708261","html_url":"https://github.com/apache/hudi/issues/3313#issuecomment-884708261","issue_url":"https://api.github.com/repos/apache/hudi/issues/3313","id":884708261,"node_id":"IC_kwDOBI7nWM40u5Ol","user":{"login":"mkk1490","id":16716227,"node_id":"MDQ6VXNlcjE2NzE2MjI3","avatar_url":"https://avatars.githubusercontent.com/u/16716227?v=4","gravatar_id":"","url":"https://api.github.com/users/mkk1490","html_url":"https://github.com/mkk1490","followers_url":"https://api.github.com/users/mkk1490/followers","following_url":"https://api.github.com/users/mkk1490/following{/other_user}","gists_url":"https://api.github.com/users/mkk1490/gists{/gist_id}","starred_url":"https://api.github.com/users/mkk1490/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkk1490/subscriptions","organizations_url":"https://api.github.com/users/mkk1490/orgs","repos_url":"https://api.github.com/users/mkk1490/repos","events_url":"https://api.github.com/users/mkk1490/events{/privacy}","received_events_url":"https://api.github.com/users/mkk1490/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T07:25:42Z","updated_at":"2021-07-22T07:29:46Z","author_association":"NONE","body":"@nsivabalan during bulk_insert as well as insert for the first time into the table, the hoodie_key value was in timestamp. But during the upsert operation, it was converted into long. I even added a step just before write to convert to timestamp. It still didn't work. But when the field's datatype is date, this issue didn't come up.\r\n\r\nSample data with original code:\r\n1. Hive external table with location pointing to s3 partitioned by src_sys_nm string(static value) and yr_mth int(dynamic value) both string\r\n2. This code was executed on EMR 5.33 with hudi 0.7.0\r\n3. Sample data has 2 different partition values for yr_mth where update is required\r\nStep 1:\r\nfrom pyspark.sql import functions as F\r\ndf = spark.createDataFrame([\r\n('10490113453106300000','561295328','2018-02-26 00:00:00','129999','18078735','15889231','OTHER PLACE OF SERVICE','53200900','RESP','201802'),\r\n('10490120407605900000','559017519','2018-02-26 00:00:00','24290619','0','','OTHER PLACE OF SERVICE','53214384','RESP','201802'),\r\n('10490116725506700000','1275017082','2018-02-27 00:00:00','209999','7875173','56874023','INPATIENT HOSPITAL','53201132','RESP','201802'),\r\n('10420113469301100000','1705523399','2018-02-26 00:00:00','20045','7088459','55674640','EMERGENCY ROOM - HOSPITAL','53199046','RESP','201802'),\r\n('10419114183800600000','29764982','2018-02-26 00:00:00','11659999','7786313','56694289','OFFICE','53207492','RESP','201802'),\r\n('10490115064904900000','5007290360','2018-02-27 00:00:00','11720002','6937467','57968295','INPATIENT HOSPITAL','53207546','RESP','201803'),\r\n('10419114186102800000','4968929315','2018-02-27 00:00:00','38930013','7311494','55315237','OFFICE','1002607736','RESP','201803'),\r\n('10236114374904400000','320648979','2018-02-26 00:00:00','35160001','0','','INDEPENDENT LABORATORY','53217687','RESP','201803'),\r\n('10809131289117500000','505439892','2018-02-28 00:00:00','20860001','2492213','52847481','OTHER PLACE OF SERVICE','53212703','RESP','201803'),\r\n('10419123011601800000','3138080815','2018-02-25 00:00:00','32060002','7574212','58923898','INPATIENT HOSPITAL','1002608174','RESP','201803') ],\r\n['claim_id','pat_id','claim_subm_dt','src_plan_id','src_pri_psbr_id','pri_az_cust_id','plac_of_srvc_cd','az_plan_id','src_sys_nm','yr_mth'] ).withColumn('claim_subm_dt', F.expr(\"cast(claim_subm_dt as timestamp)\")).withColumn('yr_mth', F.expr(\"cast(yr_mth as int)\"))\r\n\r\nhudi_options = {\r\n'hoodie.table.name': 'f_hudi_cow',\r\n'hoodie.datasource.write.recordkey.field': 'claim_id,pat_id,claim_subm_dt,plac_of_srvc_cd,src_pri_psbr_id,src_plan_id'\r\n'hoodie.datasource.write.partitionpath.field': 'src_sys_nm,yr_mth',\r\n'hoodie.datasource.write.table.Type': 'COPY_ON_WRITE',\r\n'hoodie.datasource.write.table.name': 'f_hudi_cow',\r\n'hoodie.combine.before.upsert': 'true',\r\n'hoodie.datasource.hive_sync.enable': 'true',\r\n'hoodie.datasource.hive_sync.table': 'f_hudi_cow',\r\n'hoodie.datasource.hive_sync.partition_fields': 'src_sys_nm,yr_mth',\r\n'hoodie.datasource.hive_sync.partition_extractor_class': 'org.apache.hudi.hive.MultiPartKeysValueExtractor',\r\n'hoodie.datasource.write.hive_style_partitioning': 'true',\r\n'hoodie.datasource.hive_sync.database': 'us_commercial_datalake_app_commons_dev',\r\n'hoodie.datasource.hive_sync.support_timestamp': 'true',\r\n'hoodie.datasource.hive_sync.auto_create_db':'false',\r\n'hoodie.datasource.write.keygenerator.class': 'org.apache.hudi.keygen.ComplexKeyGenerator',\r\n'hoodie.datasource.write.row.writer.enable': 'true',\r\n'hoodie.parquet.small.file.limit': '600000000',\r\n'hoodie.parquet.max.file.size': '1000000000',\r\n'hoodie.upsert.shuffle.parallelism': '10000',\r\n'hoodie.insert.shuffle.parallelism': '10000',\r\n'hoodie.bulkinsert.shuffle.parallelism': '25',\r\n'hoodie.clean.automatic': 'false',\r\n'hoodie.cleaner.commits.retained': 3,\r\n'hoodie.index.type': 'GLOBAL_SIMPLE',\r\n'hoodie.simple.index.update.partition.path':'true',\r\n'hoodie.metadata.enable': 'true'\r\n}\r\n\r\ndf.write.format(\"org.apache.hudi\").\r\noptions(**hudi_options).option('hoodie.datasource.write.operation', 'bulk_insert').\r\nmode(\"overwrite\").\r\nsave(\"{s3_path}\")\r\n\r\nStep 2:\r\n**Upsert has values 0 changed to 100. Updated Field name: src_pri_psbr_id**\r\n\r\ndf_upsert  =spark.createDataFrame([\r\n('10490113453106300000','561295328','2018-02-26 00:00:00','129999','18078735','15889231','OTHER PLACE OF SERVICE','53200900','RESP','201802'),\r\n('10490120407605900000','559017519','2018-02-26 00:00:00','24290619','100','','OTHER PLACE OF SERVICE','53214384','RESP','201802'),\r\n('10490116725506700000','1275017082','2018-02-27 00:00:00','209999','7875173','56874023','INPATIENT HOSPITAL','53201132','RESP','201802'),\r\n('10420113469301100000','1705523399','2018-02-26 00:00:00','20045','7088459','55674640','EMERGENCY ROOM - HOSPITAL','53199046','RESP','201802'),\r\n('10419114183800600000','29764982','2018-02-26 00:00:00','11659999','7786313','56694289','OFFICE','53207492','RESP','201802'),\r\n('10490115064904900000','5007290360','2018-02-27 00:00:00','11720002','6937467','57968295','INPATIENT HOSPITAL','53207546','RESP','201803'),\r\n('10419114186102800000','4968929315','2018-02-27 00:00:00','38930013','7311494','55315237','OFFICE','1002607736','RESP','201803'),\r\n('10236114374904400000','320648979','2018-02-26 00:00:00','35160001','100','','INDEPENDENT LABORATORY','53217687','RESP','201803'),\r\n('10809131289117500000','505439892','2018-02-28 00:00:00','20860001','2492213','52847481','OTHER PLACE OF SERVICE','53212703','RESP','201803'),\r\n('10419123011601800000','3138080815','2018-02-25 00:00:00','32060002','7574212','58923898','INPATIENT HOSPITAL','1002608174','RESP','201803') ],\r\n['claim_id','pat_id','claim_subm_dt','src_plan_id','src_pri_psbr_id','pri_az_cust_id','plac_of_srvc_cd','az_plan_id','src_sys_nm','yr_mth'] ).withColumn('claim_subm_dt', F.expr(\"cast(claim_subm_dt as timestamp)\")).withColumn('yr_mth', F.expr(\"cast(yr_mth as int)\"))\r\n\r\nhudi_options = {\r\n'hoodie.table.name': 'f_hudi_cow',\r\n'hoodie.datasource.write.recordkey.field': 'claim_id,pat_id,claim_subm_dt,plac_of_srvc_cd,src_pri_psbr_id,src_plan_id'\r\n'hoodie.datasource.write.partitionpath.field': 'src_sys_nm,yr_mth',\r\n'hoodie.datasource.write.table.Type': 'COPY_ON_WRITE',\r\n'hoodie.datasource.write.table.name': 'f_hudi_cow',\r\n'hoodie.combine.before.upsert': 'true',\r\n'hoodie.datasource.hive_sync.enable': 'true',\r\n'hoodie.datasource.hive_sync.table': 'f_hudi_cow',\r\n'hoodie.datasource.hive_sync.partition_fields': 'src_sys_nm,yr_mth',\r\n'hoodie.datasource.hive_sync.partition_extractor_class': 'org.apache.hudi.hive.MultiPartKeysValueExtractor',\r\n'hoodie.datasource.write.hive_style_partitioning': 'true',\r\n'hoodie.datasource.hive_sync.database': 'us_commercial_datalake_app_commons_dev',\r\n'hoodie.datasource.hive_sync.support_timestamp': 'true',\r\n'hoodie.datasource.hive_sync.auto_create_db':'false',\r\n'hoodie.datasource.write.keygenerator.class': 'org.apache.hudi.keygen.ComplexKeyGenerator',\r\n'hoodie.datasource.write.row.writer.enable': 'true',\r\n'hoodie.parquet.small.file.limit': '600000000',\r\n'hoodie.parquet.max.file.size': '1000000000',\r\n'hoodie.upsert.shuffle.parallelism': '10000',\r\n'hoodie.insert.shuffle.parallelism': '10000',\r\n'hoodie.bulkinsert.shuffle.parallelism': '25',\r\n'hoodie.clean.automatic': 'false',\r\n'hoodie.cleaner.commits.retained': 3,\r\n'hoodie.index.type': 'GLOBAL_SIMPLE',\r\n'hoodie.simple.index.update.partition.path':'true',\r\n'hoodie.metadata.enable': 'true'\r\n}\r\n\r\ndf.write.format(\"org.apache.hudi\").\r\noptions(**hudi_options).option('hoodie.datasource.write.operation', 'upsert').\r\nmode(\"append\").\r\nsave(\"{s3_path}\")\r\n\r\nExpected output: src_pri_psbr_id field value- 0 to be updated to 100\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884708261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884709619","html_url":"https://github.com/apache/hudi/pull/3230#issuecomment-884709619","issue_url":"https://api.github.com/repos/apache/hudi/issues/3230","id":884709619,"node_id":"IC_kwDOBI7nWM40u5jz","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T07:28:32Z","updated_at":"2021-07-22T07:28:32Z","author_association":"NONE","body":"Hi @vinothchandar @leesf , do you have any idea about this PR? I may want to merge it first to solve the data incorrect bug which report by our user.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884709619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884869427","html_url":"https://github.com/apache/hudi/pull/3328#issuecomment-884869427","issue_url":"https://api.github.com/repos/apache/hudi/issues/3328","id":884869427,"node_id":"IC_kwDOBI7nWM40vgkz","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T12:21:44Z","updated_at":"2021-08-09T04:14:19Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"834080ee7aa7c5ad2fba139d7dd8f66ddaf75b0d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1098\",\n    \"triggerID\" : \"834080ee7aa7c5ad2fba139d7dd8f66ddaf75b0d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"1a30511e4a029d862d22864659a5be0fac7a4fd0\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1101\",\n    \"triggerID\" : \"1a30511e4a029d862d22864659a5be0fac7a4fd0\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"9c9f804618dd0275abdae10673c21bf1f5737caf\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"9c9f804618dd0275abdae10673c21bf1f5737caf\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"52f852a534a7d1106ed25dcb48374e5c9947380c\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1103\",\n    \"triggerID\" : \"52f852a534a7d1106ed25dcb48374e5c9947380c\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"50539ec543951e7a4442798ac7c66e5dc3d3705a\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"50539ec543951e7a4442798ac7c66e5dc3d3705a\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"8087f44f7c591e0b50f113fd415a76136d376a8c\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1123\",\n    \"triggerID\" : \"8087f44f7c591e0b50f113fd415a76136d376a8c\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"d14438fa452f1f9be2235ba6baffd8059b655a15\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1131\",\n    \"triggerID\" : \"d14438fa452f1f9be2235ba6baffd8059b655a15\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"8d35aa66c41c3dc087a8b1514aa12274c4b661ca\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1144\",\n    \"triggerID\" : \"8d35aa66c41c3dc087a8b1514aa12274c4b661ca\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"f8b449c31ee8601542f00e3cc15fbcab77da7787\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"f8b449c31ee8601542f00e3cc15fbcab77da7787\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"ceeb9a317a103002e7f6cd198e19310955ab7572\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1162\",\n    \"triggerID\" : \"ceeb9a317a103002e7f6cd198e19310955ab7572\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"0f565dae9227a4653aed57ee74937d697b6a583a\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1165\",\n    \"triggerID\" : \"0f565dae9227a4653aed57ee74937d697b6a583a\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"80aeae998fc99dd3f31662a78c8dc5a9dce57252\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1179\",\n    \"triggerID\" : \"80aeae998fc99dd3f31662a78c8dc5a9dce57252\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"a427b11ca3c1146c57cdd0ce502ae56da01e66fc\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1186\",\n    \"triggerID\" : \"a427b11ca3c1146c57cdd0ce502ae56da01e66fc\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"bb9a6d83361f3a652b2c902b1b3dc846de617d93\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"bb9a6d83361f3a652b2c902b1b3dc846de617d93\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"46f6c46dd03ca0d342ad0b8e774f2c8b77429c0d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1194\",\n    \"triggerID\" : \"46f6c46dd03ca0d342ad0b8e774f2c8b77429c0d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"e88244d233d323364916c4fc240083566ddc4e56\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1272\",\n    \"triggerID\" : \"e88244d233d323364916c4fc240083566ddc4e56\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"b3e8a6d36161d5da60a1429e518253e1bff92a9d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1402\",\n    \"triggerID\" : \"b3e8a6d36161d5da60a1429e518253e1bff92a9d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"becb7a1eae66a8d9ea6a730e5206da9b4434a50e\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"becb7a1eae66a8d9ea6a730e5206da9b4434a50e\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"37d1608a58c08664f19ca8439162fece22d11e3f\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"37d1608a58c08664f19ca8439162fece22d11e3f\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"123f88802eb116939544de462d3fa372b8eb1684\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1406\",\n    \"triggerID\" : \"123f88802eb116939544de462d3fa372b8eb1684\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"f4e8be72b0140410daeb4eb01879047eba074751\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1426\",\n    \"triggerID\" : \"f4e8be72b0140410daeb4eb01879047eba074751\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"f4e8be72b0140410daeb4eb01879047eba074751\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1443\",\n    \"triggerID\" : \"894355629\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"f4e8be72b0140410daeb4eb01879047eba074751\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1447\",\n    \"triggerID\" : \"894571028\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"b986aa4cc25d36da24a8ea926e3ecbe8912f1f17\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"b986aa4cc25d36da24a8ea926e3ecbe8912f1f17\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"f4e8be72b0140410daeb4eb01879047eba074751\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1459\",\n    \"triggerID\" : \"894613775\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"ebd3310059d27544648a31a7c3fb3cb1febcea60\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1460\",\n    \"triggerID\" : \"ebd3310059d27544648a31a7c3fb3cb1febcea60\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"ebd3310059d27544648a31a7c3fb3cb1febcea60\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1460\",\n    \"triggerID\" : \"894613775\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"0fddc583afb6b8eb460eb3dcff57ba355db5b7a8\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"894651032\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"0fddc583afb6b8eb460eb3dcff57ba355db5b7a8\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"0fddc583afb6b8eb460eb3dcff57ba355db5b7a8\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"cf12550810f530b84896fb904f2feb60eb440ac5\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1543\",\n    \"triggerID\" : \"cf12550810f530b84896fb904f2feb60eb440ac5\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"894651032\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"abed45a1e858e7bd16b40e203c9aa88302e67921\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1558\",\n    \"triggerID\" : \"abed45a1e858e7bd16b40e203c9aa88302e67921\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 9c9f804618dd0275abdae10673c21bf1f5737caf UNKNOWN\n* 50539ec543951e7a4442798ac7c66e5dc3d3705a UNKNOWN\n* f8b449c31ee8601542f00e3cc15fbcab77da7787 UNKNOWN\n* bb9a6d83361f3a652b2c902b1b3dc846de617d93 UNKNOWN\n* becb7a1eae66a8d9ea6a730e5206da9b4434a50e UNKNOWN\n* 37d1608a58c08664f19ca8439162fece22d11e3f UNKNOWN\n* b986aa4cc25d36da24a8ea926e3ecbe8912f1f17 UNKNOWN\n* 0fddc583afb6b8eb460eb3dcff57ba355db5b7a8 UNKNOWN\n* abed45a1e858e7bd16b40e203c9aa88302e67921 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1558) \n\n<details>\n<summary>Bot commands</summary>\n  The @flinkbot bot supports the following commands:\n\n - `@flinkbot run travis` re-run the last Travis build\n - `@flinkbot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884869427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884898614","html_url":"https://github.com/apache/hudi/issues/2620#issuecomment-884898614","issue_url":"https://api.github.com/repos/apache/hudi/issues/2620","id":884898614,"node_id":"IC_kwDOBI7nWM40vns2","user":{"login":"codejoyan","id":48707638,"node_id":"MDQ6VXNlcjQ4NzA3NjM4","avatar_url":"https://avatars.githubusercontent.com/u/48707638?v=4","gravatar_id":"","url":"https://api.github.com/users/codejoyan","html_url":"https://github.com/codejoyan","followers_url":"https://api.github.com/users/codejoyan/followers","following_url":"https://api.github.com/users/codejoyan/following{/other_user}","gists_url":"https://api.github.com/users/codejoyan/gists{/gist_id}","starred_url":"https://api.github.com/users/codejoyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codejoyan/subscriptions","organizations_url":"https://api.github.com/users/codejoyan/orgs","repos_url":"https://api.github.com/users/codejoyan/repos","events_url":"https://api.github.com/users/codejoyan/events{/privacy}","received_events_url":"https://api.github.com/users/codejoyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T13:09:23Z","updated_at":"2021-07-22T13:17:28Z","author_association":"CONTRIBUTOR","body":"**Problem Statement:** I am using COW table and receiving roughly 1GB of incremental data. The batch has data quality check and upsert. Attached is the spark UI stages screenshot:\r\n\r\n- The record key is complex. It is a composite key of (a, b, c) (string, number, number). There is no timestamp ordering, but we can order by  the numbers?\r\n- Yes the dataset is partitioned. It is regular partition. Tried both regular bloom and regular simple. With simple partition, performance is better.\r\n- Upsert parallelism is default 1500. Operation is upsert.\r\n- As suggested I have set \"hoodie.bloom.index.prune.by.ranges\" = false\r\n- Upserts with inserts into the new partition and updates predominantly into latest partitions. But few updates touch many old partitions too.\r\n\r\n**SnapShot Count before the Upsert**\r\nBelow is the snapshot view before running the upsert. \r\n```\r\nscala> val svsSnapshotDF = spark.read.format(\"org.apache.hudi\").\r\n     | load(targetPath + \"/*/*/*\")\r\n\r\nscala> svsSnapshotDF.groupBy(\"v_date\").count().sort(col(\"v_date\")).show(false)\r\n21/07/22 11:53:55 WARN Utils: Truncated the string representation of a plan since it was too large. This behavior can be adjusted by setting 'spark.debug.maxToStringFields' in SparkEnv.conf.\r\n+----------+---------+                                                          \r\n|v_date|count    |\r\n+----------+---------+\r\n|2021-07-02|266836321|\r\n|2021-07-03|270866302|\r\n|2021-07-04|198333856|\r\n|2021-07-05|212205824|\r\n|2021-07-06|198391165|\r\n|2021-07-07|188043723|\r\n|2021-07-08|445      |\r\n+----------+---------+\r\n```\r\n\r\n**Incremental Count after the Upsert:**\r\n```\r\nscala> svsSnapshotDF.select(col(\"_hoodie_commit_time\")).distinct.sort($\"_hoodie_commit_time\".desc).show(false)\r\n+-------------------+                                                           \r\n|_hoodie_commit_time|\r\n+-------------------+\r\n|20210721051130     |\r\n|20210721045241     |\r\n|20210721043446     |\r\n|20210720185844     |\r\n|20210720113928     |\r\n|20210720110235     |\r\n|20210720093310     |\r\n|20210720073405     |\r\n|20210720055244     |\r\n|20210720051405     |\r\n|20210720041607     |\r\n|20210719181512     |\r\n|20210719150715     |\r\n|20210719140407     |\r\n|20210719134750     |\r\n|20210719133012     |\r\n|20210719131145     |\r\n|20210719063351     |\r\n|20210719061724     |\r\n+-------------------+\r\n\r\nscala> import org.apache.hudi.DataSourceReadOptions._\r\nimport org.apache.hudi.DataSourceReadOptions._\r\n\r\nscala> val beginTime = \"20210721051130\"\r\nbeginTime: String = 20210721051130\r\n\r\nscala> val svsIncrementalDF = spark.read.format(\"hudi\").\r\n     | option(QUERY_TYPE_OPT_KEY, QUERY_TYPE_INCREMENTAL_OPT_VAL).\r\n     | option(BEGIN_INSTANTTIME_OPT_KEY, beginTime).\r\n     | load(targetPath)\r\nsvsIncrementalDF: org.apache.spark.sql.DataFrame = [_hoodie_commit_time: string, _hoodie_commit_seqno: string ... 125 more fields]\r\n\r\nscala> svsIncrementalDF.groupBy(\"v_date\").count().sort(col(\"v_date\")).show(false)\r\n+----------+-------+                                                            \r\n|v_date|count  |\r\n+----------+-------+\r\n|2021-07-07|2680595|\r\n|2021-07-08|25260  |\r\n+----------+-------+\r\n```\r\n**Completed Jobs Screenshot:**\r\n<img width=\"1512\" alt=\"Screenshot 2021-07-22 at 6 11 33 PM\" src=\"https://user-images.githubusercontent.com/48707638/126644087-bc3d2500-df5f-4a38-b27f-52454faa75b6.png\">\r\n\r\n**Slow Jobs Details ScreenShot**\r\n<img width=\"1524\" alt=\"Screenshot 2021-07-22 at 6 38 10 PM\" src=\"https://user-images.githubusercontent.com/48707638/126644052-80d164af-b9d1-430b-9c9b-179596f58da2.png\">\r\n<img width=\"1515\" alt=\"Screenshot 2021-07-22 at 6 37 52 PM\" src=\"https://user-images.githubusercontent.com/48707638/126644059-64286adf-637a-455c-a611-1bd31878538d.png\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884898614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884947681","html_url":"https://github.com/apache/hudi/issues/3323#issuecomment-884947681","issue_url":"https://api.github.com/repos/apache/hudi/issues/3323","id":884947681,"node_id":"IC_kwDOBI7nWM40vzrh","user":{"login":"FelixKJose","id":22526075,"node_id":"MDQ6VXNlcjIyNTI2MDc1","avatar_url":"https://avatars.githubusercontent.com/u/22526075?v=4","gravatar_id":"","url":"https://api.github.com/users/FelixKJose","html_url":"https://github.com/FelixKJose","followers_url":"https://api.github.com/users/FelixKJose/followers","following_url":"https://api.github.com/users/FelixKJose/following{/other_user}","gists_url":"https://api.github.com/users/FelixKJose/gists{/gist_id}","starred_url":"https://api.github.com/users/FelixKJose/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FelixKJose/subscriptions","organizations_url":"https://api.github.com/users/FelixKJose/orgs","repos_url":"https://api.github.com/users/FelixKJose/repos","events_url":"https://api.github.com/users/FelixKJose/events{/privacy}","received_events_url":"https://api.github.com/users/FelixKJose/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T14:14:53Z","updated_at":"2021-07-22T14:14:53Z","author_association":"NONE","body":"Thank you @nsivabalan. I tried the 'ts' as string and then as timestamp, both has the same issue.  And from you recent message it seems as an existing issue?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/884947681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885225421","html_url":"https://github.com/apache/hudi/issues/3323#issuecomment-885225421","issue_url":"https://api.github.com/repos/apache/hudi/issues/3323","id":885225421,"node_id":"IC_kwDOBI7nWM40w3fN","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T20:53:37Z","updated_at":"2021-07-22T20:54:22Z","author_association":"MEMBER","body":"@nsivabalan Not sure. I think this code is assuming later commit times imply higher precombine field. Not sure if we actually persisted the precombine field in hoodie.properties in prior releases actually. the precombine field was mostly used as a way to de-duplicate input. \r\n\r\nWhat's the status of this issue? does your PR solve Felix's issue?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885225421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885243661","html_url":"https://github.com/apache/hudi/issues/3323#issuecomment-885243661","issue_url":"https://api.github.com/repos/apache/hudi/issues/3323","id":885243661,"node_id":"IC_kwDOBI7nWM40w78N","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T21:21:53Z","updated_at":"2021-07-22T21:22:43Z","author_association":"CONTRIBUTOR","body":"hmmm, I get it. spark sql support started persisting preCombine field in table props I guess and hence it worked for me. \r\nI am not sure if felix tried. but I tried it locally and the fix worked. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885243661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885248141","html_url":"https://github.com/apache/hudi/issues/3323#issuecomment-885248141","issue_url":"https://api.github.com/repos/apache/hudi/issues/3323","id":885248141,"node_id":"IC_kwDOBI7nWM40w9CN","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T21:30:06Z","updated_at":"2021-07-22T21:30:06Z","author_association":"CONTRIBUTOR","body":"Actually another patch which has this fix already https://github.com/apache/hudi/pull/3267 in review. We can sync up sometime on this to see how to go about it","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885248141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885249002","html_url":"https://github.com/apache/hudi/issues/3323#issuecomment-885249002","issue_url":"https://api.github.com/repos/apache/hudi/issues/3323","id":885249002,"node_id":"IC_kwDOBI7nWM40w9Pq","user":{"login":"FelixKJose","id":22526075,"node_id":"MDQ6VXNlcjIyNTI2MDc1","avatar_url":"https://avatars.githubusercontent.com/u/22526075?v=4","gravatar_id":"","url":"https://api.github.com/users/FelixKJose","html_url":"https://github.com/FelixKJose","followers_url":"https://api.github.com/users/FelixKJose/followers","following_url":"https://api.github.com/users/FelixKJose/following{/other_user}","gists_url":"https://api.github.com/users/FelixKJose/gists{/gist_id}","starred_url":"https://api.github.com/users/FelixKJose/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FelixKJose/subscriptions","organizations_url":"https://api.github.com/users/FelixKJose/orgs","repos_url":"https://api.github.com/users/FelixKJose/repos","events_url":"https://api.github.com/users/FelixKJose/events{/privacy}","received_events_url":"https://api.github.com/users/FelixKJose/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T21:31:45Z","updated_at":"2021-07-22T21:32:14Z","author_association":"NONE","body":"@vinothchandar @nsivabalan The later commit times (precombine values)are higher actually in my example. So why do you think it was not getting the latest?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885249002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885276345","html_url":"https://github.com/apache/hudi/pull/3306#issuecomment-885276345","issue_url":"https://api.github.com/repos/apache/hudi/issues/3306","id":885276345,"node_id":"IC_kwDOBI7nWM40xD65","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T22:28:03Z","updated_at":"2021-07-22T22:28:03Z","author_association":"MEMBER","body":"> if someone switches index type mid way, don't think we validate and throw proper exception that index type can't be changed to incompatible ones. Not meaning to say, we have to follow this. But just a reminder.\r\n\r\nThere was a PR around this before as well. Can we create a blocker JIRA for 0.10.0 that picks all configs like that and ensure the validations are in place ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885276345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885276769","html_url":"https://github.com/apache/hudi/pull/3306#issuecomment-885276769","issue_url":"https://api.github.com/repos/apache/hudi/issues/3306","id":885276769,"node_id":"IC_kwDOBI7nWM40xEBh","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T22:29:01Z","updated_at":"2021-07-22T22:29:01Z","author_association":"MEMBER","body":"\r\nCan we file a umbrella JIRA to track all this. move all these issues as well into it. \r\n\r\n> Flink and java in not in the scope of this PR.\r\n> Orc format is not covered.\r\n> cli commands.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885276769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885330993","html_url":"https://github.com/apache/hudi/pull/3329#issuecomment-885330993","issue_url":"https://api.github.com/repos/apache/hudi/issues/3329","id":885330993,"node_id":"IC_kwDOBI7nWM40xRQx","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T00:52:41Z","updated_at":"2021-08-03T23:07:13Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"1b46f976d18083ee2ad7a64c9eaa9a4f19fcb666\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1108\",\n    \"triggerID\" : \"1b46f976d18083ee2ad7a64c9eaa9a4f19fcb666\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"a8c0846435a59cb7422c8962db7f121d72ced322\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"a8c0846435a59cb7422c8962db7f121d72ced322\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"9f3807615378aaeb6bd901b240346271f5346c28\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1114\",\n    \"triggerID\" : \"9f3807615378aaeb6bd901b240346271f5346c28\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"79c95f5819d816dc88ae89daceb04c9413c3bb09\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1249\",\n    \"triggerID\" : \"79c95f5819d816dc88ae89daceb04c9413c3bb09\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"f877900b3c7969ef412f1e3d54bcae4621b84f56\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1339\",\n    \"triggerID\" : \"f877900b3c7969ef412f1e3d54bcae4621b84f56\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* a8c0846435a59cb7422c8962db7f121d72ced322 UNKNOWN\n* f877900b3c7969ef412f1e3d54bcae4621b84f56 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1339) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885330993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885350571","html_url":"https://github.com/apache/hudi/pull/3330#issuecomment-885350571","issue_url":"https://api.github.com/repos/apache/hudi/issues/3330","id":885350571,"node_id":"IC_kwDOBI7nWM40xWCr","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T02:05:55Z","updated_at":"2021-11-02T16:07:47Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"5a7e153b3b8cdf2d5922839db356282b01dc8d92\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1109\",\n    \"triggerID\" : \"5a7e153b3b8cdf2d5922839db356282b01dc8d92\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"93897c10f0635eb163c9c98894092b034e3fcb14\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1112\",\n    \"triggerID\" : \"93897c10f0635eb163c9c98894092b034e3fcb14\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"b474498e6de899ae7a14e17bcf4205402c713824\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1116\",\n    \"triggerID\" : \"b474498e6de899ae7a14e17bcf4205402c713824\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"a395bf33deb116020697cdc7300fa7624c889b50\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1163\",\n    \"triggerID\" : \"a395bf33deb116020697cdc7300fa7624c889b50\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"7aa992695a0155054e7b73cb641197dc7f677b88\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1172\",\n    \"triggerID\" : \"7aa992695a0155054e7b73cb641197dc7f677b88\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"267d3889eef4da36a7e29986ac97d7ee0b16781a\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1177\",\n    \"triggerID\" : \"267d3889eef4da36a7e29986ac97d7ee0b16781a\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"5f8beb0a71bb38f1d80241a159f96d3da793d7ee\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1187\",\n    \"triggerID\" : \"5f8beb0a71bb38f1d80241a159f96d3da793d7ee\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"533d02eb9eaf5bc3e21376f2c97f44a526057fb3\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1190\",\n    \"triggerID\" : \"533d02eb9eaf5bc3e21376f2c97f44a526057fb3\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"cbc214a780361bbec445b169fd5aac53e8cbdb7a\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1193\",\n    \"triggerID\" : \"cbc214a780361bbec445b169fd5aac53e8cbdb7a\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"78a02f4b3552074c05956eed04f88cd273d6af36\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1198\",\n    \"triggerID\" : \"78a02f4b3552074c05956eed04f88cd273d6af36\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"6912152293bb9336c060d41715dbae14527287a2\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1207\",\n    \"triggerID\" : \"6912152293bb9336c060d41715dbae14527287a2\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"4112d163dffa737e6bd8761796746d33f7e896cb\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1253\",\n    \"triggerID\" : \"4112d163dffa737e6bd8761796746d33f7e896cb\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"c9d08b240b702f50722fcd7be286fa85db772bd2\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1258\",\n    \"triggerID\" : \"c9d08b240b702f50722fcd7be286fa85db772bd2\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"929d17ef5f82dee9ba6c565486351a5effa2b5c7\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1289\",\n    \"triggerID\" : \"929d17ef5f82dee9ba6c565486351a5effa2b5c7\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"bb10cb64c9ea7500c7acc3116d99343cdbfc5c4c\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1322\",\n    \"triggerID\" : \"bb10cb64c9ea7500c7acc3116d99343cdbfc5c4c\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"0fe4ed6eea50bd7f03ded7620d391bcf82cf834e\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1325\",\n    \"triggerID\" : \"0fe4ed6eea50bd7f03ded7620d391bcf82cf834e\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"c76a7f280b74ae9cc971754e7731c2196c0a3983\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1386\",\n    \"triggerID\" : \"c76a7f280b74ae9cc971754e7731c2196c0a3983\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"b3d274d5a0962ba9a7c7a35590bff03a96802bd8\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1408\",\n    \"triggerID\" : \"b3d274d5a0962ba9a7c7a35590bff03a96802bd8\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"710bfeca3ab150b6dcb3d476f51fb5ca4bbc579a\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1548\",\n    \"triggerID\" : \"710bfeca3ab150b6dcb3d476f51fb5ca4bbc579a\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"2fe602cd21e55a32be8900eadfd3b5a0da152a9f\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1560\",\n    \"triggerID\" : \"2fe602cd21e55a32be8900eadfd3b5a0da152a9f\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"83abfb9aeb86b988d48ec0177cedd30afcd93a82\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1573\",\n    \"triggerID\" : \"83abfb9aeb86b988d48ec0177cedd30afcd93a82\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"a4c2d697b90ae9b1bd2591c5f405d357080729b8\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1606\",\n    \"triggerID\" : \"a4c2d697b90ae9b1bd2591c5f405d357080729b8\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"a2bcf3f27ff8d3e770cb2e11f639b6d12378d0d7\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1652\",\n    \"triggerID\" : \"a2bcf3f27ff8d3e770cb2e11f639b6d12378d0d7\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"240ec07c281d89065dfd347f4b5ebb9da67d2fe2\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1858\",\n    \"triggerID\" : \"240ec07c281d89065dfd347f4b5ebb9da67d2fe2\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"afb4e7cecaec765af2af4e7d985795812bc200e7\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1992\",\n    \"triggerID\" : \"afb4e7cecaec765af2af4e7d985795812bc200e7\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"bd8084679c2555e9971ed31433f190bd76599e65\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2043\",\n    \"triggerID\" : \"bd8084679c2555e9971ed31433f190bd76599e65\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"133379deca564ca42f10a1f3e59bb4aa17d80964\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"133379deca564ca42f10a1f3e59bb4aa17d80964\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"f49da90fa8a7cf8d1541c2b7e00cd091d11ffa3c\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2047\",\n    \"triggerID\" : \"f49da90fa8a7cf8d1541c2b7e00cd091d11ffa3c\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"a910cb95052c444fd56c7115e1acf0bc536ed30c\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2274\",\n    \"triggerID\" : \"a910cb95052c444fd56c7115e1acf0bc536ed30c\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"8236ece4816e100af13702bf92fdddf9c5e14eaf\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2428\",\n    \"triggerID\" : \"8236ece4816e100af13702bf92fdddf9c5e14eaf\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"8236ece4816e100af13702bf92fdddf9c5e14eaf\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2430\",\n    \"triggerID\" : \"927768631\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"e555754a4ea179e5251cd7bbff7e8d20c02ef7c8\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2821\",\n    \"triggerID\" : \"e555754a4ea179e5251cd7bbff7e8d20c02ef7c8\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"e410308ad113bc87b2419065f05754fe6d2d0b67\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2888\",\n    \"triggerID\" : \"e410308ad113bc87b2419065f05754fe6d2d0b67\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"e410308ad113bc87b2419065f05754fe6d2d0b67\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2896\",\n    \"triggerID\" : \"952832809\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"8819d101b181d952bc6afaf9bf25e5388ffd6c46\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2938\",\n    \"triggerID\" : \"8819d101b181d952bc6afaf9bf25e5388ffd6c46\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"41a583929dea3f9b9e9c3637dc1a2fbdcad512a7\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2955\",\n    \"triggerID\" : \"41a583929dea3f9b9e9c3637dc1a2fbdcad512a7\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"e891f941b3359bc675cc4288ee608e026ee03b2d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2959\",\n    \"triggerID\" : \"e891f941b3359bc675cc4288ee608e026ee03b2d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"e891f941b3359bc675cc4288ee608e026ee03b2d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2981\",\n    \"triggerID\" : \"955120690\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"42fb7aa4d82b8925ed7643c7ab9deae96f558145\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=2982\",\n    \"triggerID\" : \"42fb7aa4d82b8925ed7643c7ab9deae96f558145\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"3a3848f28a244d77e79cf1ed3527ab7a81f6d0b5\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3007\",\n    \"triggerID\" : \"3a3848f28a244d77e79cf1ed3527ab7a81f6d0b5\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"133379deca564ca42f10a1f3e59bb4aa17d80964\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"956297135\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"3a3848f28a244d77e79cf1ed3527ab7a81f6d0b5\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3015\",\n    \"triggerID\" : \"956297135\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"3a3848f28a244d77e79cf1ed3527ab7a81f6d0b5\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3066\",\n    \"triggerID\" : \"957433193\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"7b975e5006aaafe4304a541bef7f9ea3ef9e4655\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3067\",\n    \"triggerID\" : \"7b975e5006aaafe4304a541bef7f9ea3ef9e4655\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"7b975e5006aaafe4304a541bef7f9ea3ef9e4655\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3067\",\n    \"triggerID\" : \"957433193\",\n    \"triggerType\" : \"MANUAL\"\n  } ]\n}-->\n## CI report:\n\n* 133379deca564ca42f10a1f3e59bb4aa17d80964 UNKNOWN\n* 7b975e5006aaafe4304a541bef7f9ea3ef9e4655 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=3067) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885350571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885351003","html_url":"https://github.com/apache/hudi/pull/3330#issuecomment-885351003","issue_url":"https://api.github.com/repos/apache/hudi/issues/3330","id":885351003,"node_id":"IC_kwDOBI7nWM40xWJb","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T02:07:10Z","updated_at":"2021-07-23T02:07:10Z","author_association":"CONTRIBUTOR","body":"now the RFC-27 is not implement,  once RFC-27 is merged, i will update code to adapt it.\r\nin this pr, even if we donnot do data skipping,  we can also achive a good result, since we sort data by z-order\r\n\r\nhilbert implement will come soon","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885351003/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885351154","html_url":"https://github.com/apache/hudi/pull/3312#issuecomment-885351154","issue_url":"https://api.github.com/repos/apache/hudi/issues/3312","id":885351154,"node_id":"IC_kwDOBI7nWM40xWLy","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T02:07:34Z","updated_at":"2021-07-23T02:07:34Z","author_association":"CONTRIBUTOR","body":"@liujinhui1994 hello, does it ready to review?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885351154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885351519","html_url":"https://github.com/apache/hudi/pull/3331#issuecomment-885351519","issue_url":"https://api.github.com/repos/apache/hudi/issues/3331","id":885351519,"node_id":"IC_kwDOBI7nWM40xWRf","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T02:08:34Z","updated_at":"2021-07-23T03:09:55Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"fa7d1d55847d21fb5d89451b1785c479ec77554d\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1110\",\n    \"triggerID\" : \"fa7d1d55847d21fb5d89451b1785c479ec77554d\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* fa7d1d55847d21fb5d89451b1785c479ec77554d Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1110) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885351519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885356337","html_url":"https://github.com/apache/hudi/pull/3259#issuecomment-885356337","issue_url":"https://api.github.com/repos/apache/hudi/issues/3259","id":885356337,"node_id":"IC_kwDOBI7nWM40xXcx","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T02:23:41Z","updated_at":"2021-07-23T02:23:41Z","author_association":"CONTRIBUTOR","body":"@zhangyue19921010 hi, some minor comments","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885356337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885357803","html_url":"https://github.com/apache/hudi/pull/3312#issuecomment-885357803","issue_url":"https://api.github.com/repos/apache/hudi/issues/3312","id":885357803,"node_id":"IC_kwDOBI7nWM40xXzr","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T02:29:14Z","updated_at":"2021-07-23T02:29:14Z","author_association":"CONTRIBUTOR","body":"OK, let's get started. Your guidance please\r\n@lw309637554 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885357803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885360852","html_url":"https://github.com/apache/hudi/issues/3280#issuecomment-885360852","issue_url":"https://api.github.com/repos/apache/hudi/issues/3280","id":885360852,"node_id":"IC_kwDOBI7nWM40xYjU","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T02:41:33Z","updated_at":"2021-07-23T02:41:33Z","author_association":"CONTRIBUTOR","body":"Is there a partner who can help me?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885360852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885403205","html_url":"https://github.com/apache/hudi/pull/3332#issuecomment-885403205","issue_url":"https://api.github.com/repos/apache/hudi/issues/3332","id":885403205,"node_id":"IC_kwDOBI7nWM40xi5F","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T05:09:33Z","updated_at":"2021-07-23T07:14:07Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"dd84fd3d2f92b35ab104cdb66e7c93f0eaf63a1e\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1117\",\n    \"triggerID\" : \"dd84fd3d2f92b35ab104cdb66e7c93f0eaf63a1e\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"83ceb6570a59c91fd26c43fa861d58389064e0d9\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"83ceb6570a59c91fd26c43fa861d58389064e0d9\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"a26e04ef4bebc35737375563c6e3e6bcf0ac3791\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"a26e04ef4bebc35737375563c6e3e6bcf0ac3791\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"12b69898c69b02eecef6d501021037efcf698bf5\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"12b69898c69b02eecef6d501021037efcf698bf5\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"b2a6f9e46802725fa50e59a2214861ca9a4915c6\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1118\",\n    \"triggerID\" : \"b2a6f9e46802725fa50e59a2214861ca9a4915c6\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 83ceb6570a59c91fd26c43fa861d58389064e0d9 UNKNOWN\n* a26e04ef4bebc35737375563c6e3e6bcf0ac3791 UNKNOWN\n* 12b69898c69b02eecef6d501021037efcf698bf5 UNKNOWN\n* b2a6f9e46802725fa50e59a2214861ca9a4915c6 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1118) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885403205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885411852","html_url":"https://github.com/apache/hudi/pull/3332#issuecomment-885411852","issue_url":"https://api.github.com/repos/apache/hudi/issues/3332","id":885411852,"node_id":"IC_kwDOBI7nWM40xlAM","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T05:37:10Z","updated_at":"2021-07-23T05:37:10Z","author_association":"NONE","body":"I will land it after the Ci has pass to avoid block others.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885411852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885414491","html_url":"https://github.com/apache/hudi/pull/3285#issuecomment-885414491","issue_url":"https://api.github.com/repos/apache/hudi/issues/3285","id":885414491,"node_id":"IC_kwDOBI7nWM40xlpb","user":{"login":"swuferhong","id":27358654,"node_id":"MDQ6VXNlcjI3MzU4NjU0","avatar_url":"https://avatars.githubusercontent.com/u/27358654?v=4","gravatar_id":"","url":"https://api.github.com/users/swuferhong","html_url":"https://github.com/swuferhong","followers_url":"https://api.github.com/users/swuferhong/followers","following_url":"https://api.github.com/users/swuferhong/following{/other_user}","gists_url":"https://api.github.com/users/swuferhong/gists{/gist_id}","starred_url":"https://api.github.com/users/swuferhong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swuferhong/subscriptions","organizations_url":"https://api.github.com/users/swuferhong/orgs","repos_url":"https://api.github.com/users/swuferhong/repos","events_url":"https://api.github.com/users/swuferhong/events{/privacy}","received_events_url":"https://api.github.com/users/swuferhong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T05:46:16Z","updated_at":"2021-07-23T05:46:16Z","author_association":"CONTRIBUTOR","body":"Hi, @vinothchandar , can you review this PR while your have time? Thank you very much.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885414491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885423002","html_url":"https://github.com/apache/hudi/pull/3330#issuecomment-885423002","issue_url":"https://api.github.com/repos/apache/hudi/issues/3330","id":885423002,"node_id":"IC_kwDOBI7nWM40xnua","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T06:10:45Z","updated_at":"2021-07-23T06:10:45Z","author_association":"CONTRIBUTOR","body":"@leesf  could you pls help me to review this pr","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885423002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885443569","html_url":"https://github.com/apache/hudi/pull/3315#issuecomment-885443569","issue_url":"https://api.github.com/repos/apache/hudi/issues/3315","id":885443569,"node_id":"IC_kwDOBI7nWM40xsvx","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T07:06:22Z","updated_at":"2021-07-23T07:06:22Z","author_association":"CONTRIBUTOR","body":"@vinothchandar : this patch is good to be reviewed","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885443569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885446506","html_url":"https://github.com/apache/hudi/pull/3330#issuecomment-885446506","issue_url":"https://api.github.com/repos/apache/hudi/issues/3330","id":885446506,"node_id":"IC_kwDOBI7nWM40xtdq","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T07:12:30Z","updated_at":"2021-07-23T07:12:54Z","author_association":"CONTRIBUTOR","body":"@allwefantasy. could you pls help me to review the z-order partial codes.   thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885446506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885458954","html_url":"https://github.com/apache/hudi/pull/3333#issuecomment-885458954","issue_url":"https://api.github.com/repos/apache/hudi/issues/3333","id":885458954,"node_id":"IC_kwDOBI7nWM40xwgK","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T07:40:33Z","updated_at":"2021-07-23T08:42:56Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"442fa7679326b6fb14f2fb36af80b250706a1cc8\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1121\",\n    \"triggerID\" : \"442fa7679326b6fb14f2fb36af80b250706a1cc8\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 442fa7679326b6fb14f2fb36af80b250706a1cc8 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1121) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885458954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885493995","html_url":"https://github.com/apache/hudi/pull/3298#issuecomment-885493995","issue_url":"https://api.github.com/repos/apache/hudi/issues/3298","id":885493995,"node_id":"IC_kwDOBI7nWM40x5Dr","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T08:48:08Z","updated_at":"2021-07-23T08:48:08Z","author_association":"CONTRIBUTOR","body":"@yanghua LGTM from my side, But I am not sure if it is still used in uber\r\n@satishkotha could you please take a look :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885493995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885496934","html_url":"https://github.com/apache/hudi/pull/3003#issuecomment-885496934","issue_url":"https://api.github.com/repos/apache/hudi/issues/3003","id":885496934,"node_id":"IC_kwDOBI7nWM40x5xm","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T08:54:30Z","updated_at":"2021-07-23T08:54:30Z","author_association":"CONTRIBUTOR","body":"will circle back on this today.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885496934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885497812","html_url":"https://github.com/apache/hudi/pull/3334#issuecomment-885497812","issue_url":"https://api.github.com/repos/apache/hudi/issues/3334","id":885497812,"node_id":"IC_kwDOBI7nWM40x5_U","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T08:56:24Z","updated_at":"2021-07-26T09:58:26Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"d23d24f8cee6fd55de1e433f1c07b40a2e0a3391\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1127\",\n    \"triggerID\" : \"d23d24f8cee6fd55de1e433f1c07b40a2e0a3391\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"bec06d2304c67b544befff79bc6559520024f7b3\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1134\",\n    \"triggerID\" : \"bec06d2304c67b544befff79bc6559520024f7b3\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"5bc8824bcb6983e12596d79a4b9df0b9c42a4502\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1137\",\n    \"triggerID\" : \"5bc8824bcb6983e12596d79a4b9df0b9c42a4502\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"6f7f38716d9a2c0ef10ebf2c349cdcf0e5f053de\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"6f7f38716d9a2c0ef10ebf2c349cdcf0e5f053de\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"6fecd2b043e75f3327d4a8f7348c7675682fcd70\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1139\",\n    \"triggerID\" : \"6fecd2b043e75f3327d4a8f7348c7675682fcd70\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"f7adabe43137d7c9052acd2a361b6fc429f9af72\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1151\",\n    \"triggerID\" : \"f7adabe43137d7c9052acd2a361b6fc429f9af72\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"c41c298b8ff88ddf5f34654d3641a461f895d5e2\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"c41c298b8ff88ddf5f34654d3641a461f895d5e2\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"ee775698bc6eac917a9c410dd92edc8ca850d719\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1157\",\n    \"triggerID\" : \"ee775698bc6eac917a9c410dd92edc8ca850d719\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 6f7f38716d9a2c0ef10ebf2c349cdcf0e5f053de UNKNOWN\n* c41c298b8ff88ddf5f34654d3641a461f895d5e2 UNKNOWN\n* ee775698bc6eac917a9c410dd92edc8ca850d719 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1157) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885497812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885522885","html_url":"https://github.com/apache/hudi/pull/3333#issuecomment-885522885","issue_url":"https://api.github.com/repos/apache/hudi/issues/3333","id":885522885,"node_id":"IC_kwDOBI7nWM40yAHF","user":{"login":"leoluan2009","id":2434086,"node_id":"MDQ6VXNlcjI0MzQwODY=","avatar_url":"https://avatars.githubusercontent.com/u/2434086?v=4","gravatar_id":"","url":"https://api.github.com/users/leoluan2009","html_url":"https://github.com/leoluan2009","followers_url":"https://api.github.com/users/leoluan2009/followers","following_url":"https://api.github.com/users/leoluan2009/following{/other_user}","gists_url":"https://api.github.com/users/leoluan2009/gists{/gist_id}","starred_url":"https://api.github.com/users/leoluan2009/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leoluan2009/subscriptions","organizations_url":"https://api.github.com/users/leoluan2009/orgs","repos_url":"https://api.github.com/users/leoluan2009/repos","events_url":"https://api.github.com/users/leoluan2009/events{/privacy}","received_events_url":"https://api.github.com/users/leoluan2009/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T09:43:51Z","updated_at":"2021-07-23T09:43:51Z","author_association":"CONTRIBUTOR","body":"@yanghua can you help to review this pr? thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885522885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885523651","html_url":"https://github.com/apache/hudi/pull/3335#issuecomment-885523651","issue_url":"https://api.github.com/repos/apache/hudi/issues/3335","id":885523651,"node_id":"IC_kwDOBI7nWM40yATD","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T09:45:24Z","updated_at":"2021-07-23T10:49:52Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"9bebeaf2c723810d6c6d5df00e4d6f36b4f478e4\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1129\",\n    \"triggerID\" : \"9bebeaf2c723810d6c6d5df00e4d6f36b4f478e4\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 9bebeaf2c723810d6c6d5df00e4d6f36b4f478e4 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1129) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885523651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885574686","html_url":"https://github.com/apache/hudi/pull/3259#issuecomment-885574686","issue_url":"https://api.github.com/repos/apache/hudi/issues/3259","id":885574686,"node_id":"IC_kwDOBI7nWM40yMwe","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T11:27:03Z","updated_at":"2021-07-23T11:27:03Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885574686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885575380","html_url":"https://github.com/apache/hudi/pull/3334#issuecomment-885575380","issue_url":"https://api.github.com/repos/apache/hudi/issues/3334","id":885575380,"node_id":"IC_kwDOBI7nWM40yM7U","user":{"login":"yuzhaojing","id":32435329,"node_id":"MDQ6VXNlcjMyNDM1MzI5","avatar_url":"https://avatars.githubusercontent.com/u/32435329?v=4","gravatar_id":"","url":"https://api.github.com/users/yuzhaojing","html_url":"https://github.com/yuzhaojing","followers_url":"https://api.github.com/users/yuzhaojing/followers","following_url":"https://api.github.com/users/yuzhaojing/following{/other_user}","gists_url":"https://api.github.com/users/yuzhaojing/gists{/gist_id}","starred_url":"https://api.github.com/users/yuzhaojing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yuzhaojing/subscriptions","organizations_url":"https://api.github.com/users/yuzhaojing/orgs","repos_url":"https://api.github.com/users/yuzhaojing/repos","events_url":"https://api.github.com/users/yuzhaojing/events{/privacy}","received_events_url":"https://api.github.com/users/yuzhaojing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T11:28:30Z","updated_at":"2021-07-23T11:28:30Z","author_association":"CONTRIBUTOR","body":"I'm excited to see this feature!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885575380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885762685","html_url":"https://github.com/apache/hudi/issues/3323#issuecomment-885762685","issue_url":"https://api.github.com/repos/apache/hudi/issues/3323","id":885762685,"node_id":"IC_kwDOBI7nWM40y6p9","user":{"login":"FelixKJose","id":22526075,"node_id":"MDQ6VXNlcjIyNTI2MDc1","avatar_url":"https://avatars.githubusercontent.com/u/22526075?v=4","gravatar_id":"","url":"https://api.github.com/users/FelixKJose","html_url":"https://github.com/FelixKJose","followers_url":"https://api.github.com/users/FelixKJose/followers","following_url":"https://api.github.com/users/FelixKJose/following{/other_user}","gists_url":"https://api.github.com/users/FelixKJose/gists{/gist_id}","starred_url":"https://api.github.com/users/FelixKJose/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FelixKJose/subscriptions","organizations_url":"https://api.github.com/users/FelixKJose/orgs","repos_url":"https://api.github.com/users/FelixKJose/repos","events_url":"https://api.github.com/users/FelixKJose/events{/privacy}","received_events_url":"https://api.github.com/users/FelixKJose/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T16:39:42Z","updated_at":"2021-07-23T16:40:12Z","author_association":"NONE","body":"@nsivabalan is this only a problem in 0.8.0 version or older version as well? Could you please provide some insights?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885762685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885764276","html_url":"https://github.com/apache/hudi/pull/3285#issuecomment-885764276","issue_url":"https://api.github.com/repos/apache/hudi/issues/3285","id":885764276,"node_id":"IC_kwDOBI7nWM40y7C0","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T16:42:37Z","updated_at":"2021-07-23T16:42:37Z","author_association":"MEMBER","body":"@codope  please help me close out the schema evolution story here. \r\n\r\nmy point was: when mixing old files where _hoodie_operation is NOT present with new files where it is present, the queries can break? \r\n\r\n@nsivabalan's response \r\n\r\n> yes. Check row 4 here https://hudi.apache.org/docs/writing_data.html#schema-evolution\r\n> Here is what could be happening. Your new batch of write (with new operation field), might be routed to all existing file groups and hence it might have worked. Can you try sending to only partial file groups.\r\n> If you are doing some sanity test, you can do this.\r\n> batch1: old schema: route to partition_0\r\n> batch2: new schema w/ operation field: route to partition_1\r\n> unless operation field is appended to the end of the existing schema, this may not work.\r\n> Let us know what do you see.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885764276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885979308","html_url":"https://github.com/apache/hudi/issues/3337#issuecomment-885979308","issue_url":"https://api.github.com/repos/apache/hudi/issues/3337","id":885979308,"node_id":"IC_kwDOBI7nWM40zvis","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-24T01:04:18Z","updated_at":"2021-07-24T01:04:18Z","author_association":"MEMBER","body":"Have you tried \r\n```\r\n--partition-value-extractor org.apache.hudi.hive.MultiPartKeysValueExtractor\r\n--partitioned-by year, month\r\n```\r\nif you look at this code below, it extracts the partition values from the folder path and adds year month as the partition columns?\r\n\r\n```\r\nprivate String getPartitionClause(String partition) {\r\n    List<String> partitionValues = partitionValueExtractor.extractPartitionValuesInPath(partition);\r\n    ValidationUtils.checkArgument(syncConfig.partitionFields.size() == partitionValues.size(),\r\n        \"Partition key parts \" + syncConfig.partitionFields + \" does not match with partition values \" + partitionValues\r\n            + \". Check partition strategy. \");\r\n    List<String> partBuilder = new ArrayList<>();\r\n    for (int i = 0; i < syncConfig.partitionFields.size(); i++) {\r\n      String partitionValue = partitionValues.get(i);\r\n      // decode the partition before sync to hive to prevent multiple escapes of HIVE\r\n      if (syncConfig.decodePartition) {\r\n        // This is a decode operator for encode in KeyGenUtils#getRecordPartitionPath\r\n        partitionValue = PartitionPathEncodeUtils.unescapePathName(partitionValue);\r\n      }\r\n      partBuilder.add(\"`\" + syncConfig.partitionFields.get(i) + \"`='\" + partitionValue + \"'\");\r\n    }\r\n    return String.join(\",\", partBuilder);\r\n  }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885979308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885989683","html_url":"https://github.com/apache/hudi/pull/3285#issuecomment-885989683","issue_url":"https://api.github.com/repos/apache/hudi/issues/3285","id":885989683,"node_id":"IC_kwDOBI7nWM40zyEz","user":{"login":"codope","id":16440354,"node_id":"MDQ6VXNlcjE2NDQwMzU0","avatar_url":"https://avatars.githubusercontent.com/u/16440354?v=4","gravatar_id":"","url":"https://api.github.com/users/codope","html_url":"https://github.com/codope","followers_url":"https://api.github.com/users/codope/followers","following_url":"https://api.github.com/users/codope/following{/other_user}","gists_url":"https://api.github.com/users/codope/gists{/gist_id}","starred_url":"https://api.github.com/users/codope/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codope/subscriptions","organizations_url":"https://api.github.com/users/codope/orgs","repos_url":"https://api.github.com/users/codope/repos","events_url":"https://api.github.com/users/codope/events{/privacy}","received_events_url":"https://api.github.com/users/codope/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-24T02:47:36Z","updated_at":"2021-07-24T02:47:36Z","author_association":"MEMBER","body":"> @codope please help me close out the schema evolution story here.\r\n> \r\n> my point was: when mixing old files where _hoodie_operation is NOT present with new files where it is present, the queries can break?\r\n\r\nYes, it can break. I ran a test where only one partition has new schema. The write succeeds as expected but the read fails.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/885989683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886000062","html_url":"https://github.com/apache/hudi/pull/3338#issuecomment-886000062","issue_url":"https://api.github.com/repos/apache/hudi/issues/3338","id":886000062,"node_id":"IC_kwDOBI7nWM40z0m-","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-24T04:56:42Z","updated_at":"2021-07-27T16:23:12Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"44335b743bc600ca82282b2afeb208017e151c98\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1141\",\n    \"triggerID\" : \"44335b743bc600ca82282b2afeb208017e151c98\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"37f7b353d728f2dc763463dea0f609a00abf9bd8\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1167\",\n    \"triggerID\" : \"37f7b353d728f2dc763463dea0f609a00abf9bd8\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"ef008a1f7cdc2ab3e9aa9b6241a1ebab17ee9ba8\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1169\",\n    \"triggerID\" : \"ef008a1f7cdc2ab3e9aa9b6241a1ebab17ee9ba8\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"dc68cdb096dc501fc28f5ee8e9d5b35feb270b5f\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1183\",\n    \"triggerID\" : \"dc68cdb096dc501fc28f5ee8e9d5b35feb270b5f\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"610ac11d32ecc7d1d530916931be94d0126a3ee4\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1197\",\n    \"triggerID\" : \"610ac11d32ecc7d1d530916931be94d0126a3ee4\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"610ac11d32ecc7d1d530916931be94d0126a3ee4\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1197\",\n    \"triggerID\" : \"887597855\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"e8f1e49f058522723ebbee708fb5464deb7b9e9c\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1201\",\n    \"triggerID\" : \"e8f1e49f058522723ebbee708fb5464deb7b9e9c\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* e8f1e49f058522723ebbee708fb5464deb7b9e9c Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1201) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886000062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886002077","html_url":"https://github.com/apache/hudi/issues/3337#issuecomment-886002077","issue_url":"https://api.github.com/repos/apache/hudi/issues/3337","id":886002077,"node_id":"IC_kwDOBI7nWM40z1Gd","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-24T05:19:05Z","updated_at":"2021-07-24T05:19:05Z","author_association":"CONTRIBUTOR","body":"If vinoth's suggestion, does not work, do let us know. Might have to investigate further. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886002077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886003055","html_url":"https://github.com/apache/hudi/issues/3336#issuecomment-886003055","issue_url":"https://api.github.com/repos/apache/hudi/issues/3336","id":886003055,"node_id":"IC_kwDOBI7nWM40z1Vv","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-24T05:31:37Z","updated_at":"2021-07-24T05:31:37Z","author_association":"CONTRIBUTOR","body":"have you configured your record keys and partition path correctly ? \r\nI see from your configs, you have given \"two\" for all 3 configs(record keys, partition path and preCombine). \r\nIdeally all these should be referring to 3 different columns in incoming dataframe. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886003055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886003132","html_url":"https://github.com/apache/hudi/issues/3336#issuecomment-886003132","issue_url":"https://api.github.com/repos/apache/hudi/issues/3336","id":886003132,"node_id":"IC_kwDOBI7nWM40z1W8","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-24T05:32:33Z","updated_at":"2021-07-24T05:33:16Z","author_association":"CONTRIBUTOR","body":"Also, have you tried doing an update (\"upsert\") operation? Once that succeeds, then we know delete has some issue. but if update is failing, then could be some config issue or we might have to investigate further. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886003132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886004864","html_url":"https://github.com/apache/hudi/issues/3280#issuecomment-886004864","issue_url":"https://api.github.com/repos/apache/hudi/issues/3280","id":886004864,"node_id":"IC_kwDOBI7nWM40z1yA","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-24T05:53:08Z","updated_at":"2021-07-24T05:53:08Z","author_association":"CONTRIBUTOR","body":"I could see two exceptions from your stacktrace:\r\n1. Caused by: java.lang.ClassNotFoundException: org.apache.hudi.DefaultSource\r\n2. User class threw exception: org.apache.spark.sql.streaming.StreamingQueryException: Invalid value org.apache.kafka.common.serialization.ByteArrayDeserializer for configuration key.deserializer: Class org.apache.kafka.common.serialization.ByteArrayDeserializer could not be found.\r\n\r\n@liujinhui1994 : \r\n1. Did you change any of your kafka configs when compared to previous version. \r\n2. 2. Also, can you enable logs to see whats the checkpoint value (after first batch in deltastreamer). \r\n\r\n@vinothchandar @n3nash : Do you folks know of any changes that went in after 0.8.0 that might be of interest to us. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886004864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886006267","html_url":"https://github.com/apache/hudi/issues/3313#issuecomment-886006267","issue_url":"https://api.github.com/repos/apache/hudi/issues/3313","id":886006267,"node_id":"IC_kwDOBI7nWM40z2H7","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-24T06:07:53Z","updated_at":"2021-07-24T06:07:53Z","author_association":"CONTRIBUTOR","body":"Can you confirm something. \r\nI see that you have \"src_pri_psbr_id\" as part of your record key fields. So, I was expecting to update a record, you will not touch any of the fields that are part of the record key. If not, these are considered as completely different records. But looks like you are updating this field and expect hudi to treat it as an update. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886006267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886010620","html_url":"https://github.com/apache/hudi/issues/3313#issuecomment-886010620","issue_url":"https://api.github.com/repos/apache/hudi/issues/3313","id":886010620,"node_id":"IC_kwDOBI7nWM40z3L8","user":{"login":"mkk1490","id":16716227,"node_id":"MDQ6VXNlcjE2NzE2MjI3","avatar_url":"https://avatars.githubusercontent.com/u/16716227?v=4","gravatar_id":"","url":"https://api.github.com/users/mkk1490","html_url":"https://github.com/mkk1490","followers_url":"https://api.github.com/users/mkk1490/followers","following_url":"https://api.github.com/users/mkk1490/following{/other_user}","gists_url":"https://api.github.com/users/mkk1490/gists{/gist_id}","starred_url":"https://api.github.com/users/mkk1490/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkk1490/subscriptions","organizations_url":"https://api.github.com/users/mkk1490/orgs","repos_url":"https://api.github.com/users/mkk1490/repos","events_url":"https://api.github.com/users/mkk1490/events{/privacy}","received_events_url":"https://api.github.com/users/mkk1490/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-24T06:59:13Z","updated_at":"2021-07-24T06:59:13Z","author_association":"NONE","body":"@nsivabalan I'm so sorry. That's my mistake. I'm trying to update the next field to src_pri_psbr_id which is pri_az_cust_id. Please find the dfs below:\r\n\r\nInsert:\r\ndf_ins = spark.createDataFrame([\r\n('10490113453106300000','561295328','2018-02-26 00:00:00','129999','18078735','15889231','OTHER PLACE OF SERVICE','53200900','RESP','201802'),\r\n('10490120407605900000','559017519','2018-02-26 00:00:00','24290619','100','','OTHER PLACE OF SERVICE','53214384','RESP','201802'),\r\n('10490116725506700000','1275017082','2018-02-27 00:00:00','209999','7875173','56874023','INPATIENT HOSPITAL','53201132','RESP','201802'),\r\n('10420113469301100000','1705523399','2018-02-26 00:00:00','20045','7088459','55674640','EMERGENCY ROOM - HOSPITAL','53199046','RESP','201802'),\r\n('10419114183800600000','29764982','2018-02-26 00:00:00','11659999','7786313','56694289','OFFICE','53207492','RESP','201802'),\r\n('10490115064904900000','5007290360','2018-02-27 00:00:00','11720002','6937467','57968295','INPATIENT HOSPITAL','53207546','RESP','201803'),\r\n('10419114186102800000','4968929315','2018-02-27 00:00:00','38930013','7311494','55315237','OFFICE','1002607736','RESP','201803'),\r\n('10236114374904400000','320648979','2018-02-26 00:00:00','35160001','100','','INDEPENDENT LABORATORY','53217687','RESP','201803'),\r\n('10809131289117500000','505439892','2018-02-28 00:00:00','20860001','2492213','52847481','OTHER PLACE OF SERVICE','53212703','RESP','201803'),\r\n('10419123011601800000','3138080815','2018-02-25 00:00:00','32060002','7574212','58923898','INPATIENT HOSPITAL','1002608174','RESP','201803') ],\r\n['claim_id','pat_id','claim_subm_dt','src_plan_id','src_pri_psbr_id','pri_az_cust_id','plac_of_srvc_cd','az_plan_id','src_sys_nm','yr_mth'] ).withColumn('claim_subm_dt', F.expr(\"cast(claim_subm_dt as timestamp)\")).withColumn('yr_mth', F.expr(\"cast(yr_mth as int)\"))\r\n\r\nUpdate:\r\n\r\ndf_upd = spark.createDataFrame([\r\n('10490113453106300000','561295328','2018-02-26 00:00:00','129999','18078735','15889231','OTHER PLACE OF SERVICE','53200900','RESP','201802'),\r\n('10490120407605900000','559017519','2018-02-26 00:00:00','24290619','100','32531','OTHER PLACE OF SERVICE','53214384','RESP','201802'),\r\n('10490116725506700000','1275017082','2018-02-27 00:00:00','209999','7875173','56874023','INPATIENT HOSPITAL','53201132','RESP','201802'),\r\n('10420113469301100000','1705523399','2018-02-26 00:00:00','20045','7088459','55674640','EMERGENCY ROOM - HOSPITAL','53199046','RESP','201802'),\r\n('10419114183800600000','29764982','2018-02-26 00:00:00','11659999','7786313','56694289','OFFICE','53207492','RESP','201802'),\r\n('10490115064904900000','5007290360','2018-02-27 00:00:00','11720002','6937467','57968295','INPATIENT HOSPITAL','53207546','RESP','201803'),\r\n('10419114186102800000','4968929315','2018-02-27 00:00:00','38930013','7311494','55315237','OFFICE','1002607736','RESP','201803'),\r\n('10236114374904400000','320648979','2018-02-26 00:00:00','35160001','100','32531','INDEPENDENT LABORATORY','53217687','RESP','201803'),\r\n('10809131289117500000','505439892','2018-02-28 00:00:00','20860001','2492213','52847481','OTHER PLACE OF SERVICE','53212703','RESP','201803'),\r\n('10419123011601800000','3138080815','2018-02-25 00:00:00','32060002','7574212','58923898','INPATIENT HOSPITAL','1002608174','RESP','201803') ],\r\n['claim_id','pat_id','claim_subm_dt','src_plan_id','src_pri_psbr_id','pri_az_cust_id','plac_of_srvc_cd','az_plan_id','src_sys_nm','yr_mth'] ).withColumn('claim_subm_dt', F.expr(\"cast(claim_subm_dt as timestamp)\")).withColumn('yr_mth', F.expr(\"cast(yr_mth as int)\"))","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886010620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886012008","html_url":"https://github.com/apache/hudi/issues/3321#issuecomment-886012008","issue_url":"https://api.github.com/repos/apache/hudi/issues/3321","id":886012008,"node_id":"IC_kwDOBI7nWM40z3ho","user":{"login":"nmukerje","id":2838473,"node_id":"MDQ6VXNlcjI4Mzg0NzM=","avatar_url":"https://avatars.githubusercontent.com/u/2838473?v=4","gravatar_id":"","url":"https://api.github.com/users/nmukerje","html_url":"https://github.com/nmukerje","followers_url":"https://api.github.com/users/nmukerje/followers","following_url":"https://api.github.com/users/nmukerje/following{/other_user}","gists_url":"https://api.github.com/users/nmukerje/gists{/gist_id}","starred_url":"https://api.github.com/users/nmukerje/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nmukerje/subscriptions","organizations_url":"https://api.github.com/users/nmukerje/orgs","repos_url":"https://api.github.com/users/nmukerje/repos","events_url":"https://api.github.com/users/nmukerje/events{/privacy}","received_events_url":"https://api.github.com/users/nmukerje/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-24T07:11:26Z","updated_at":"2021-07-27T19:49:58Z","author_association":"NONE","body":"@nsivabalan Thank you for looking into this.\r\n\r\n I am not using bulk insert for the upsert/delete. I am just bulk insert for Step 1 to stage some records.\r\n\r\nThe notebook (https://github.com/nmukerje/misc/blob/master/Hudi/Hudi_Pyspark_Delete_Upsert_Test.ipynb) is public so you can run the cells/code. The schema is below and yes, I am re-Inserting the initial records with _hoodie_is_deleted set to \"false\" as well in Step 4.\r\n\r\n\r\n\r\n```\r\n+------------------+---+-----+---+---+----+\r\n|_hoodie_is_deleted| id|month| sk|txt|year|\r\n+------------------+---+-----+---+---+----+\r\n|             false|  0|    1|  0|  A|2019|\r\n|             false|  1|   10|  1|  B|2019|\r\n|             false|  2|   10|  2|  C|2019|\r\n|             false|  3|    6|  3|  D|2019|\r\n|             false|  4|    3|  4|  E|2019|\r\n+------------------+---+-----+---+---+----+\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886012008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886013297","html_url":"https://github.com/apache/hudi/pull/3339#issuecomment-886013297","issue_url":"https://api.github.com/repos/apache/hudi/issues/3339","id":886013297,"node_id":"IC_kwDOBI7nWM40z31x","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-24T07:23:41Z","updated_at":"2021-07-24T08:24:14Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"0b6ea7b45b975e1da3e1cf93abe527cb9d99995b\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1143\",\n    \"triggerID\" : \"0b6ea7b45b975e1da3e1cf93abe527cb9d99995b\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 0b6ea7b45b975e1da3e1cf93abe527cb9d99995b Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1143) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886013297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886077052","html_url":"https://github.com/apache/hudi/issues/2620#issuecomment-886077052","issue_url":"https://api.github.com/repos/apache/hudi/issues/2620","id":886077052,"node_id":"IC_kwDOBI7nWM400HZ8","user":{"login":"codejoyan","id":48707638,"node_id":"MDQ6VXNlcjQ4NzA3NjM4","avatar_url":"https://avatars.githubusercontent.com/u/48707638?v=4","gravatar_id":"","url":"https://api.github.com/users/codejoyan","html_url":"https://github.com/codejoyan","followers_url":"https://api.github.com/users/codejoyan/followers","following_url":"https://api.github.com/users/codejoyan/following{/other_user}","gists_url":"https://api.github.com/users/codejoyan/gists{/gist_id}","starred_url":"https://api.github.com/users/codejoyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codejoyan/subscriptions","organizations_url":"https://api.github.com/users/codejoyan/orgs","repos_url":"https://api.github.com/users/codejoyan/repos","events_url":"https://api.github.com/users/codejoyan/events{/privacy}","received_events_url":"https://api.github.com/users/codejoyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-24T16:34:22Z","updated_at":"2021-07-25T19:01:01Z","author_association":"CONTRIBUTOR","body":"Some additional details for the above runs.\r\n1. The configs I am using - REGULAR BLOOM.\r\n2. Max  and Min file size in older partitions - 116 MB and 6 MB respectively\r\n3. Avg record size - 50 bytes\r\n4. Avg no of data files in older partitions - Between 157 to 225\r\n\r\nI then changed the configs as below to have roughly 100k entries per file. But the performance is worse now. It basically gets stuck. Attached Spark Web UI screenshot\r\n1. **Configs** - \r\nhoodie.insert.shuffle.parallelism - 1500\r\nhoodie.upsert.shuffle.parallelism - 1500\r\nhoodie.parquet.small.file.limit - 4200000\r\nhoodie.parquet.max.file.size - 5000000\r\nhoodie.index.type - BLOOM\r\nhoodie.copyonwrite.record.size.estimate - 50\r\nhoodie.copyonwrite.insert.split.size - 100000\r\nhoodie.bloom.index.prune.by.ranges - false\r\nhoodie.bloom.index.filter.type - DYNAMIC_V0\r\nhoodie.index.bloom.num_entries - 30000\r\n\r\nThe performance is now okay witth BLOOM index when the incremental batch size is around 100 MB (around 4-5 mins for upsert). But it gets worse when batch size increases (> 5 GB) and the countByKey at BaseSparkCommitActionExecutor.java:154 step gets stuck. \r\n\r\n**\r\n\r\n- What is the general rule of thumb between file size, insert split and incremental batch size? \r\n- Also this also proves that COW table is not good when the incremental batch size varies in size. Am I correct?\r\n\r\n**\r\n\r\n<img width=\"1590\" alt=\"Screenshot 2021-07-24 at 10 01 31 PM\" src=\"https://user-images.githubusercontent.com/48707638/126875026-8c92b70e-6d83-43e3-966f-26a71c7a156f.png\">\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886077052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886153056","html_url":"https://github.com/apache/hudi/pull/3340#issuecomment-886153056","issue_url":"https://api.github.com/repos/apache/hudi/issues/3340","id":886153056,"node_id":"IC_kwDOBI7nWM400Z9g","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-25T06:14:52Z","updated_at":"2021-07-25T10:08:52Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"14ff661ef2404dedf27c9c541a51fff35b07fafd\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1146\",\n    \"triggerID\" : \"14ff661ef2404dedf27c9c541a51fff35b07fafd\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"6ec2dbd0c8955eb2e2f18e0744a33b341b110795\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1148\",\n    \"triggerID\" : \"6ec2dbd0c8955eb2e2f18e0744a33b341b110795\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 6ec2dbd0c8955eb2e2f18e0744a33b341b110795 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1148) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886153056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886156722","html_url":"https://github.com/apache/hudi/pull/3341#issuecomment-886156722","issue_url":"https://api.github.com/repos/apache/hudi/issues/3341","id":886156722,"node_id":"IC_kwDOBI7nWM400a2y","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-25T06:57:25Z","updated_at":"2021-07-29T03:40:40Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"d3d42fd04828b0c73fae5a497b35aa3d1629388f\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1147\",\n    \"triggerID\" : \"d3d42fd04828b0c73fae5a497b35aa3d1629388f\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"9ac141d7fac4d35e1933adc48986de78f045ba95\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1233\",\n    \"triggerID\" : \"9ac141d7fac4d35e1933adc48986de78f045ba95\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 9ac141d7fac4d35e1933adc48986de78f045ba95 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1233) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886156722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886265827","html_url":"https://github.com/apache/hudi/pull/3334#issuecomment-886265827","issue_url":"https://api.github.com/repos/apache/hudi/issues/3334","id":886265827,"node_id":"IC_kwDOBI7nWM4001fj","user":{"login":"yuzhaojing","id":32435329,"node_id":"MDQ6VXNlcjMyNDM1MzI5","avatar_url":"https://avatars.githubusercontent.com/u/32435329?v=4","gravatar_id":"","url":"https://api.github.com/users/yuzhaojing","html_url":"https://github.com/yuzhaojing","followers_url":"https://api.github.com/users/yuzhaojing/followers","following_url":"https://api.github.com/users/yuzhaojing/following{/other_user}","gists_url":"https://api.github.com/users/yuzhaojing/gists{/gist_id}","starred_url":"https://api.github.com/users/yuzhaojing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yuzhaojing/subscriptions","organizations_url":"https://api.github.com/users/yuzhaojing/orgs","repos_url":"https://api.github.com/users/yuzhaojing/repos","events_url":"https://api.github.com/users/yuzhaojing/events{/privacy}","received_events_url":"https://api.github.com/users/yuzhaojing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-25T22:21:48Z","updated_at":"2021-07-25T22:21:48Z","author_association":"CONTRIBUTOR","body":"+1 LGTM","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886265827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886307861","html_url":"https://github.com/apache/hudi/pull/3330#issuecomment-886307861","issue_url":"https://api.github.com/repos/apache/hudi/issues/3330","id":886307861,"node_id":"IC_kwDOBI7nWM400_wV","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-26T01:34:10Z","updated_at":"2021-07-26T01:34:10Z","author_association":"CONTRIBUTOR","body":"@leesf   thanks for your review.  i will try to resolve all comments","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886307861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886308101","html_url":"https://github.com/apache/hudi/pull/3335#issuecomment-886308101","issue_url":"https://api.github.com/repos/apache/hudi/issues/3335","id":886308101,"node_id":"IC_kwDOBI7nWM400_0F","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-26T01:35:00Z","updated_at":"2021-07-26T01:35:00Z","author_association":"CONTRIBUTOR","body":"@garyli1019 could you help me to review this pr, thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886308101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886318587","html_url":"https://github.com/apache/hudi/pull/3277#issuecomment-886318587","issue_url":"https://api.github.com/repos/apache/hudi/issues/3277","id":886318587,"node_id":"IC_kwDOBI7nWM401CX7","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-26T02:08:45Z","updated_at":"2021-07-26T02:08:45Z","author_association":"NONE","body":"Hi @vinothchandar can you take a review for this PR? This is the first PR for extending hudi cli command which have build the framework for sql extend for both spark2 & spark3. After this has land, we can support other commands like clustering, commit, clean and so on.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886318587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886327353","html_url":"https://github.com/apache/hudi/pull/3328#issuecomment-886327353","issue_url":"https://api.github.com/repos/apache/hudi/issues/3328","id":886327353,"node_id":"IC_kwDOBI7nWM401Eg5","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-26T02:36:09Z","updated_at":"2021-07-26T02:36:09Z","author_association":"NONE","body":"Hi @leesf , I have introduced another config key to enable the bulk insert for sql. Please take a review when you have time~","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886327353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886331783","html_url":"https://github.com/apache/hudi/pull/3259#issuecomment-886331783","issue_url":"https://api.github.com/repos/apache/hudi/issues/3259","id":886331783,"node_id":"IC_kwDOBI7nWM401FmH","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-26T02:52:29Z","updated_at":"2021-07-26T02:52:29Z","author_association":"CONTRIBUTOR","body":"> @zhangyue19921010 hi, some minor comments\r\n\r\nHi @lw309637554 Thanks a lot for your reviewing!  All responded. PTAL :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886331783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886352624","html_url":"https://github.com/apache/hudi/pull/3335#issuecomment-886352624","issue_url":"https://api.github.com/repos/apache/hudi/issues/3335","id":886352624,"node_id":"IC_kwDOBI7nWM401Krw","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-26T03:58:29Z","updated_at":"2021-07-26T03:58:29Z","author_association":"MEMBER","body":"> @garyli1019 could you help me to review this pr, thanks\r\n\r\n@xiarixiaoyao Thanks for your contribution. I am not quite familiar with the clustering code. Might need help from @satishkotha ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886352624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886438132","html_url":"https://github.com/apache/hudi/pull/3342#issuecomment-886438132","issue_url":"https://api.github.com/repos/apache/hudi/issues/3342","id":886438132,"node_id":"IC_kwDOBI7nWM401fj0","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-26T07:10:10Z","updated_at":"2021-07-27T03:15:29Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"31d3b478c50682475cfb47a1792476091bd5aa4f\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1154\",\n    \"triggerID\" : \"31d3b478c50682475cfb47a1792476091bd5aa4f\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"0dad3d93861ca21a21d01be9247a70afffd288a0\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1158\",\n    \"triggerID\" : \"0dad3d93861ca21a21d01be9247a70afffd288a0\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"111691d707a320c8ec5e6b5f872421d06a895bb4\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1160\",\n    \"triggerID\" : \"111691d707a320c8ec5e6b5f872421d06a895bb4\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"b7bc98ffc86bd240b1c7e50f81517e77dddc24ab\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1173\",\n    \"triggerID\" : \"b7bc98ffc86bd240b1c7e50f81517e77dddc24ab\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* b7bc98ffc86bd240b1c7e50f81517e77dddc24ab Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1173) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886438132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886476587","html_url":"https://github.com/apache/hudi/pull/3343#issuecomment-886476587","issue_url":"https://api.github.com/repos/apache/hudi/issues/3343","id":886476587,"node_id":"IC_kwDOBI7nWM401o8r","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-26T08:09:34Z","updated_at":"2021-07-26T09:12:08Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"b6c81ffc7cf198949e10f2e4a94f5416ad2b0bd1\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1156\",\n    \"triggerID\" : \"b6c81ffc7cf198949e10f2e4a94f5416ad2b0bd1\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* b6c81ffc7cf198949e10f2e4a94f5416ad2b0bd1 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1156) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886476587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886521267","html_url":"https://github.com/apache/hudi/pull/3342#issuecomment-886521267","issue_url":"https://api.github.com/repos/apache/hudi/issues/3342","id":886521267,"node_id":"IC_kwDOBI7nWM401z2z","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-26T09:08:13Z","updated_at":"2021-07-26T09:08:13Z","author_association":"MEMBER","body":"@zhedoubushishi would you take a look?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886521267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886626767","html_url":"https://github.com/apache/hudi/pull/3319#issuecomment-886626767","issue_url":"https://api.github.com/repos/apache/hudi/issues/3319","id":886626767,"node_id":"IC_kwDOBI7nWM402NnP","user":{"login":"leoluan2009","id":2434086,"node_id":"MDQ6VXNlcjI0MzQwODY=","avatar_url":"https://avatars.githubusercontent.com/u/2434086?v=4","gravatar_id":"","url":"https://api.github.com/users/leoluan2009","html_url":"https://github.com/leoluan2009","followers_url":"https://api.github.com/users/leoluan2009/followers","following_url":"https://api.github.com/users/leoluan2009/following{/other_user}","gists_url":"https://api.github.com/users/leoluan2009/gists{/gist_id}","starred_url":"https://api.github.com/users/leoluan2009/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leoluan2009/subscriptions","organizations_url":"https://api.github.com/users/leoluan2009/orgs","repos_url":"https://api.github.com/users/leoluan2009/repos","events_url":"https://api.github.com/users/leoluan2009/events{/privacy}","received_events_url":"https://api.github.com/users/leoluan2009/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-26T11:40:12Z","updated_at":"2021-07-26T11:40:12Z","author_association":"CONTRIBUTOR","body":"@danny0405  thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886626767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886627055","html_url":"https://github.com/apache/hudi/pull/3333#issuecomment-886627055","issue_url":"https://api.github.com/repos/apache/hudi/issues/3333","id":886627055,"node_id":"IC_kwDOBI7nWM402Nrv","user":{"login":"leoluan2009","id":2434086,"node_id":"MDQ6VXNlcjI0MzQwODY=","avatar_url":"https://avatars.githubusercontent.com/u/2434086?v=4","gravatar_id":"","url":"https://api.github.com/users/leoluan2009","html_url":"https://github.com/leoluan2009","followers_url":"https://api.github.com/users/leoluan2009/followers","following_url":"https://api.github.com/users/leoluan2009/following{/other_user}","gists_url":"https://api.github.com/users/leoluan2009/gists{/gist_id}","starred_url":"https://api.github.com/users/leoluan2009/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leoluan2009/subscriptions","organizations_url":"https://api.github.com/users/leoluan2009/orgs","repos_url":"https://api.github.com/users/leoluan2009/repos","events_url":"https://api.github.com/users/leoluan2009/events{/privacy}","received_events_url":"https://api.github.com/users/leoluan2009/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-26T11:40:42Z","updated_at":"2021-07-26T11:40:42Z","author_association":"CONTRIBUTOR","body":"@yanghua  thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886627055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886627273","html_url":"https://github.com/apache/hudi/pull/3331#issuecomment-886627273","issue_url":"https://api.github.com/repos/apache/hudi/issues/3331","id":886627273,"node_id":"IC_kwDOBI7nWM402NvJ","user":{"login":"leoluan2009","id":2434086,"node_id":"MDQ6VXNlcjI0MzQwODY=","avatar_url":"https://avatars.githubusercontent.com/u/2434086?v=4","gravatar_id":"","url":"https://api.github.com/users/leoluan2009","html_url":"https://github.com/leoluan2009","followers_url":"https://api.github.com/users/leoluan2009/followers","following_url":"https://api.github.com/users/leoluan2009/following{/other_user}","gists_url":"https://api.github.com/users/leoluan2009/gists{/gist_id}","starred_url":"https://api.github.com/users/leoluan2009/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leoluan2009/subscriptions","organizations_url":"https://api.github.com/users/leoluan2009/orgs","repos_url":"https://api.github.com/users/leoluan2009/repos","events_url":"https://api.github.com/users/leoluan2009/events{/privacy}","received_events_url":"https://api.github.com/users/leoluan2009/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-26T11:41:04Z","updated_at":"2021-07-26T11:41:04Z","author_association":"CONTRIBUTOR","body":"@yanghua  thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886627273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886714541","html_url":"https://github.com/apache/hudi/pull/3345#issuecomment-886714541","issue_url":"https://api.github.com/repos/apache/hudi/issues/3345","id":886714541,"node_id":"IC_kwDOBI7nWM402jCt","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-26T13:42:10Z","updated_at":"2021-07-26T14:44:12Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"75d7b453dd7b34f180166e18183195243845a8c1\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1161\",\n    \"triggerID\" : \"75d7b453dd7b34f180166e18183195243845a8c1\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 75d7b453dd7b34f180166e18183195243845a8c1 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1161) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886714541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886770307","html_url":"https://github.com/apache/hudi/pull/3347#issuecomment-886770307","issue_url":"https://api.github.com/repos/apache/hudi/issues/3347","id":886770307,"node_id":"IC_kwDOBI7nWM402wqD","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-26T14:49:54Z","updated_at":"2021-07-30T08:58:13Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"e46cb2465a28120f3161ea285b666cb67d4c2eb0\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1164\",\n    \"triggerID\" : \"e46cb2465a28120f3161ea285b666cb67d4c2eb0\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"344f6ce74d64cb939c507857c3db10b6b9b56dd4\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1178\",\n    \"triggerID\" : \"344f6ce74d64cb939c507857c3db10b6b9b56dd4\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"fcc75ae4f240ce22e5020b10a5c05896b0cbabec\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1265\",\n    \"triggerID\" : \"fcc75ae4f240ce22e5020b10a5c05896b0cbabec\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* fcc75ae4f240ce22e5020b10a5c05896b0cbabec Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=1265) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run travis` re-run the last Travis build\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886770307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886770880","html_url":"https://github.com/apache/hudi/pull/3330#issuecomment-886770880","issue_url":"https://api.github.com/repos/apache/hudi/issues/3330","id":886770880,"node_id":"IC_kwDOBI7nWM402wzA","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-26T14:50:39Z","updated_at":"2021-07-26T14:50:39Z","author_association":"CONTRIBUTOR","body":"@leesf   address all commts.    make the code more genral  to  adapt both z-order and hilbert optimize.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886770880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886772703","html_url":"https://github.com/apache/hudi/pull/3335#issuecomment-886772703","issue_url":"https://api.github.com/repos/apache/hudi/issues/3335","id":886772703,"node_id":"IC_kwDOBI7nWM402xPf","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-26T14:53:01Z","updated_at":"2021-07-26T14:53:01Z","author_association":"CONTRIBUTOR","body":"@garyli1019  thanks .    @satishkotha could you pls help me to review this pr","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/886772703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]