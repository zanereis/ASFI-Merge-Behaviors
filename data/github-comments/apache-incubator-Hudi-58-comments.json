[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628801677","html_url":"https://github.com/apache/hudi/issues/1631#issuecomment-628801677","issue_url":"https://api.github.com/repos/apache/hudi/issues/1631","id":628801677,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODgwMTY3Nw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T18:10:02Z","updated_at":"2020-05-14T18:10:02Z","author_association":"CONTRIBUTOR","body":"@zherenyu831 : Schema evolution rules does not allow for adding columns in the middle of schema. You would need to add them at the end. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628801677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628817124","html_url":"https://github.com/apache/hudi/pull/1602#issuecomment-628817124","issue_url":"https://api.github.com/repos/apache/hudi/issues/1602","id":628817124,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODgxNzEyNA==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T18:39:04Z","updated_at":"2020-05-14T18:39:04Z","author_association":"MEMBER","body":"@vinothchandar I definitely agree a statistical table would be a better approach, but it will take a while I believe. I am happy to contribute to this topic as well. \r\nAny other recommendation for a short term fix for this issue? I believe this bug could happen again. When something upstream goes wrong, like Kafka or HDFS goes down in the production for a short period of time, Hudi will have a chance to make an abnormal small commit.\r\nRegarding the bloom filter size, I think they all use the bloom filter entries and FP rate to calculate the size, for simple, dynamic, local, and global. Once we switch to the parquet native approach, we can change the way of the estimation. I think the calculation could be accurate. HBASE index is not covered in this PR though.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628817124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628817206","html_url":"https://github.com/apache/hudi/pull/1596#issuecomment-628817206","issue_url":"https://api.github.com/repos/apache/hudi/issues/1596","id":628817206,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODgxNzIwNg==","user":{"login":"rolandjohann","id":5725466,"node_id":"MDQ6VXNlcjU3MjU0NjY=","avatar_url":"https://avatars.githubusercontent.com/u/5725466?v=4","gravatar_id":"","url":"https://api.github.com/users/rolandjohann","html_url":"https://github.com/rolandjohann","followers_url":"https://api.github.com/users/rolandjohann/followers","following_url":"https://api.github.com/users/rolandjohann/following{/other_user}","gists_url":"https://api.github.com/users/rolandjohann/gists{/gist_id}","starred_url":"https://api.github.com/users/rolandjohann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rolandjohann/subscriptions","organizations_url":"https://api.github.com/users/rolandjohann/orgs","repos_url":"https://api.github.com/users/rolandjohann/repos","events_url":"https://api.github.com/users/rolandjohann/events{/privacy}","received_events_url":"https://api.github.com/users/rolandjohann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T18:39:13Z","updated_at":"2020-05-14T18:39:13Z","author_association":"CONTRIBUTOR","body":"@nsivabalan it seems that I can't do that. \"assign to me\" link is missing and klicking on Assignee \"Unassigned\" doesn't transform the field to the desired people select. This is the same for HUDI-888. Can you assign those two issues to me?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628817206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628821960","html_url":"https://github.com/apache/hudi/pull/1596#issuecomment-628821960","issue_url":"https://api.github.com/repos/apache/hudi/issues/1596","id":628821960,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODgyMTk2MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T18:48:19Z","updated_at":"2020-05-14T18:48:19Z","author_association":"MEMBER","body":"Added you as a contributor on jira.. So you should be able to claim those now! let us know if you still face issues.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628821960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628827254","html_url":"https://github.com/apache/hudi/pull/1402#issuecomment-628827254","issue_url":"https://api.github.com/repos/apache/hudi/issues/1402","id":628827254,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODgyNzI1NA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T18:58:05Z","updated_at":"2020-05-14T18:58:05Z","author_association":"MEMBER","body":"@nsivabalan please ping me when the tests are passing.. WIll make a final pass and land ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628827254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628828057","html_url":"https://github.com/apache/hudi/pull/1584#issuecomment-628828057","issue_url":"https://api.github.com/repos/apache/hudi/issues/1584","id":628828057,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODgyODA1Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T18:59:32Z","updated_at":"2020-05-14T18:59:32Z","author_association":"MEMBER","body":"To reduce context switch, assigning to @bvaradar who is looking into couple other PRs around schema provider ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628828057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628828782","html_url":"https://github.com/apache/hudi/pull/1592#issuecomment-628828782","issue_url":"https://api.github.com/repos/apache/hudi/issues/1592","id":628828782,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODgyODc4Mg==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T19:00:59Z","updated_at":"2020-05-14T19:00:59Z","author_association":"MEMBER","body":"Hello @xushiyan , may I ask a question regarding the functional testing? I believe you are the expert on this topic in our community :) \r\nThis PR passed CI in my local but failed on Travis. \r\n`java.lang.NullPointerException at org.apache.hudi.functional.TestDataSource.testSparkDatasourceForMergeOnRead(TestDataSource.scala:227)`. Do you know where should I look into this issue?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628828782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628843862","html_url":"https://github.com/apache/hudi/pull/1597#issuecomment-628843862","issue_url":"https://api.github.com/repos/apache/hudi/issues/1597","id":628843862,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODg0Mzg2Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T19:32:03Z","updated_at":"2020-05-14T19:32:03Z","author_association":"MEMBER","body":"@allenerb Trying to understand the next steps here.. Are we deciding between doing a separate class and merging this into the existing class? \r\n\r\nI am happy to take the patch as-is and do the consolidation as follow on work as well. let me know what you both think cc @pratyakshsharma ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628843862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628845961","html_url":"https://github.com/apache/hudi/pull/1592#issuecomment-628845961","issue_url":"https://api.github.com/repos/apache/hudi/issues/1592","id":628845961,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODg0NTk2MQ==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T19:36:42Z","updated_at":"2020-05-14T19:36:42Z","author_association":"MEMBER","body":"@garyli1019 it does look very weird... getting NPE at org.apache.hudi.functional.TestDataSource.testSparkDatasourceForMergeOnRead(TestDataSource.scala:227, means the `basepath` was set to null somehow. But wouldn't it be null in L222 and L223 of the same method? The test method passes locally for me as well.  I don't have clue on why travis ran it differently..but at least try this change for that method\r\n\r\n```java\r\n@Test\r\ndef testSparkDatasourceForMergeOnRead(@TempDir tempDir: java.nio.file.Path) {\r\n  val basePath = tempDir.toAbsolutePath.toString\r\n}\r\n```\r\njunit 5 should give it a new dedicated temp dir.. see if NPE still persists..","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628845961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628853876","html_url":"https://github.com/apache/hudi/pull/1597#issuecomment-628853876","issue_url":"https://api.github.com/repos/apache/hudi/issues/1597","id":628853876,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODg1Mzg3Ng==","user":{"login":"allenerb","id":6650583,"node_id":"MDQ6VXNlcjY2NTA1ODM=","avatar_url":"https://avatars.githubusercontent.com/u/6650583?v=4","gravatar_id":"","url":"https://api.github.com/users/allenerb","html_url":"https://github.com/allenerb","followers_url":"https://api.github.com/users/allenerb/followers","following_url":"https://api.github.com/users/allenerb/following{/other_user}","gists_url":"https://api.github.com/users/allenerb/gists{/gist_id}","starred_url":"https://api.github.com/users/allenerb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/allenerb/subscriptions","organizations_url":"https://api.github.com/users/allenerb/orgs","repos_url":"https://api.github.com/users/allenerb/repos","events_url":"https://api.github.com/users/allenerb/events{/privacy}","received_events_url":"https://api.github.com/users/allenerb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T19:53:51Z","updated_at":"2020-05-14T19:53:51Z","author_association":"NONE","body":"Hi Vinoth,\n\nApologies for not getting back to this PR to make changes.  I’ve been\nswamped trying to get Hudi working in the environment (still struggling\nwith it).  I don’t mind at all going in and trying to merge the thing, but\nat the moment I’m spending all my time trying to figure this thing out!  :-)\n\nIf you’re ok with taking it as-is at the moment, I’d definitely sign up for\nupdating it in the near future, but I do think the idea of merging the two\nmade a lot of sense.  I also saw your email about trying to get the PR\nbacklog wrapped up for release 0.5.3 so I’m good with whatever you decide.\nI don’t want to be your bottleneck right now.\n\nAllen\n\nOn Thu, May 14, 2020 at 3:32 PM vinoth chandar <notifications@github.com>\nwrote:\n\n> @allenerb <https://github.com/allenerb> Trying to understand the next\n> steps here.. Are we deciding between doing a separate class and merging\n> this into the existing class?\n>\n> I am happy to take the patch as-is and do the consolidation as follow on\n> work as well. let me know what you both think cc @pratyakshsharma\n> <https://github.com/pratyakshsharma>\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-hudi/pull/1597#issuecomment-628843862>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/ABSXVVZXCRGS65VAFXTXY7DRRRBMHANCNFSM4M2WO5MQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628853876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628868262","html_url":"https://github.com/apache/hudi/pull/1597#issuecomment-628868262","issue_url":"https://api.github.com/repos/apache/hudi/issues/1597","id":628868262,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODg2ODI2Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T20:24:55Z","updated_at":"2020-05-14T20:24:55Z","author_association":"MEMBER","body":"Hi @allenerb sg.. Will do some minor changes and try to get this landed. Will file a follow up JIRA.. which you or @pratyakshsharma or someone can take up .. \r\n\r\nLet us know if you need a hand with getting Hudi working as well.. We can also chat on Slack to setup a time to meet.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628868262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628873197","html_url":"https://github.com/apache/hudi/pull/1433#issuecomment-628873197","issue_url":"https://api.github.com/repos/apache/hudi/issues/1433","id":628873197,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODg3MzE5Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T20:35:53Z","updated_at":"2020-05-14T20:35:53Z","author_association":"MEMBER","body":"@pratyakshsharma Rebased and removed the parquet files etc.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628873197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628873883","html_url":"https://github.com/apache/hudi/pull/1433#issuecomment-628873883","issue_url":"https://api.github.com/repos/apache/hudi/issues/1433","id":628873883,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODg3Mzg4Mw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T20:37:19Z","updated_at":"2020-05-14T20:37:19Z","author_association":"MEMBER","body":"@nsivabalan  can you shepherd this one home from here> ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628873883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628885456","html_url":"https://github.com/apache/hudi/pull/1562#issuecomment-628885456","issue_url":"https://api.github.com/repos/apache/hudi/issues/1562","id":628885456,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODg4NTQ1Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T21:03:21Z","updated_at":"2020-05-14T21:03:21Z","author_association":"MEMBER","body":"> Not sure of how to mock the same here since it is library class.\r\n\r\nWe can just mock the response it will send into a test SchemaProvider.. We need not mock SchemaRegistry itself ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628885456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628889429","html_url":"https://github.com/apache/hudi/pull/1565#issuecomment-628889429","issue_url":"https://api.github.com/repos/apache/hudi/issues/1565","id":628889429,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODg4OTQyOQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T21:12:42Z","updated_at":"2020-05-14T21:12:42Z","author_association":"MEMBER","body":"Overall, this PR is nice in the sense that it let's us read data from Kafka using AVRO, with a fixed schema.. \r\nbut then, it cannot handle evolutions that well (this is an expected tradeoff , right).. I feel we should understand little better how people are sending vanilla avro data into kafka today, beofre we can resolve the open items here.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628889429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628896478","html_url":"https://github.com/apache/hudi/pull/1597#issuecomment-628896478","issue_url":"https://api.github.com/repos/apache/hudi/issues/1597","id":628896478,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODg5NjQ3OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T21:29:04Z","updated_at":"2020-05-14T21:29:04Z","author_association":"MEMBER","body":"@allenerb  wondering if you have a JIRA for this already.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628896478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628898234","html_url":"https://github.com/apache/hudi/pull/1597#issuecomment-628898234","issue_url":"https://api.github.com/repos/apache/hudi/issues/1597","id":628898234,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODg5ODIzNA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T21:33:18Z","updated_at":"2020-05-14T21:33:18Z","author_association":"MEMBER","body":"Actually, thinking again.. we can take the time we want on this and get this into 0.6.0..\r\n\r\nwill make this as WIP and come back to it after 0.5.3 is pushed out :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628898234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628898626","html_url":"https://github.com/apache/hudi/pull/1597#issuecomment-628898626","issue_url":"https://api.github.com/repos/apache/hudi/issues/1597","id":628898626,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODg5ODYyNg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T21:34:18Z","updated_at":"2020-05-14T21:34:18Z","author_association":"MEMBER","body":"@pratyakshsharma in the meantime, if you want to absorb this into #1433 , we can do that as well. Assuming @allenerb does not mind.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628898626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628899382","html_url":"https://github.com/apache/hudi/pull/1562#issuecomment-628899382","issue_url":"https://api.github.com/repos/apache/hudi/issues/1562","id":628899382,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODg5OTM4Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T21:36:16Z","updated_at":"2020-05-14T21:36:16Z","author_association":"MEMBER","body":"@n3nash can you review this and take it home? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628899382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628902977","html_url":"https://github.com/apache/hudi/pull/1509#issuecomment-628902977","issue_url":"https://api.github.com/repos/apache/hudi/issues/1509","id":628902977,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODkwMjk3Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T21:45:23Z","updated_at":"2020-05-14T21:45:23Z","author_association":"MEMBER","body":"@n3nash is this ready to land ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628902977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628910318","html_url":"https://github.com/apache/hudi/pull/1602#issuecomment-628910318","issue_url":"https://api.github.com/repos/apache/hudi/issues/1602","id":628910318,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODkxMDMxOA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T22:04:34Z","updated_at":"2020-05-14T22:04:42Z","author_association":"MEMBER","body":"@garyli1019 thinking about it, even today without the bloom filters, the parquet size include additional stats and metadata contained internally.. So, it's never going to be pure record size, right? \r\n\r\n>commit1 only wrote 1 record but the parquet file is 20MB\r\n\r\nThis feels like a misconfigured bloom filter.. 20MB bloom filter is just too much.. Like I mentioned, the dynamic bloom filter approach has a capping on the footer size and hopefully something like this does not happen.. Also a future write will overlook at 20MB as small file, only if you explicitly lowered the default (100MB) to less than 20MB right?  Overall, I am saying - this configuration seems to be asking for trouble :P \r\n\r\ncc @nsivabalan who implemented the dynamic bloom filters.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628910318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628915411","html_url":"https://github.com/apache/hudi/pull/1514#issuecomment-628915411","issue_url":"https://api.github.com/repos/apache/hudi/issues/1514","id":628915411,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODkxNTQxMQ==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T22:18:31Z","updated_at":"2020-05-14T22:19:36Z","author_association":"MEMBER","body":"@afilipchik The master codebase has been migrated to JUnit 5. Please kindly rebase and update the usage to Junit 5 APIs where applicable.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628915411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628918822","html_url":"https://github.com/apache/hudi/issues/1630#issuecomment-628918822","issue_url":"https://api.github.com/repos/apache/hudi/issues/1630","id":628918822,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODkxODgyMg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T22:28:36Z","updated_at":"2020-05-14T22:28:36Z","author_association":"CONTRIBUTOR","body":"No, I meant the feature of writing schema to commit file. It was added in 0.5.1. Pre-0.5.1 commit files won't have schema in commit metadata.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628918822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628934279","html_url":"https://github.com/apache/hudi/issues/1630#issuecomment-628934279","issue_url":"https://api.github.com/repos/apache/hudi/issues/1630","id":628934279,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODkzNDI3OQ==","user":{"login":"EdwinGuo","id":8300535,"node_id":"MDQ6VXNlcjgzMDA1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/8300535?v=4","gravatar_id":"","url":"https://api.github.com/users/EdwinGuo","html_url":"https://github.com/EdwinGuo","followers_url":"https://api.github.com/users/EdwinGuo/followers","following_url":"https://api.github.com/users/EdwinGuo/following{/other_user}","gists_url":"https://api.github.com/users/EdwinGuo/gists{/gist_id}","starred_url":"https://api.github.com/users/EdwinGuo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdwinGuo/subscriptions","organizations_url":"https://api.github.com/users/EdwinGuo/orgs","repos_url":"https://api.github.com/users/EdwinGuo/repos","events_url":"https://api.github.com/users/EdwinGuo/events{/privacy}","received_events_url":"https://api.github.com/users/EdwinGuo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T23:14:11Z","updated_at":"2020-05-14T23:14:11Z","author_association":"CONTRIBUTOR","body":"Thanks @bvaradar. Do you think it's make sense to support  post 0.5.1 to support delete 0.5.0 or older? Where does the schema is being stored at for 0.5.0? Is is only refer from parquet/avro data?  THanks!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628934279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628934924","html_url":"https://github.com/apache/hudi/pull/1602#issuecomment-628934924","issue_url":"https://api.github.com/repos/apache/hudi/issues/1602","id":628934924,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODkzNDkyNA==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T23:15:55Z","updated_at":"2020-05-14T23:15:55Z","author_association":"MEMBER","body":"> commit1 only wrote 1 record but the parquet file is 20MB \r\n\r\n@vinothchandar Sorry this example is bad... Let's say 8MB(2M entries) bloom filter + 200 records producing a 10MB parquet. If these 200 records are assigned to an existing partition, it will be very likely inserted into the existing file, so no problem. But if it goes to a new partition, then this small file is inevitable. \r\n\r\nIn the next run, we consider this 10MB file as a small file. We calculate `averageRecordSize = 10MB/200 = 50KB`, let's say we set max parquet size to 100MB, `(100MB - 10MB)/50KB = 1800` records to file this small file. For other files, each will be assigned 2000 records. \r\n\r\nYes, we can never get a pure record size. Even we deduct the bloom filter size in this case, with other metadata, we still have `(2MB/200) = 10KB`, which will produce a bit larger small files... \r\n\r\nAnother idea in my mind:\r\n\r\n- if the `totalBytesWritten` is less than the `DEFAULT_PARQUET_SMALL_FILE_LIMIT_BYTES`, then skip calculating size from this commit.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628934924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628953098","html_url":"https://github.com/apache/hudi/pull/1484#issuecomment-628953098","issue_url":"https://api.github.com/repos/apache/hudi/issues/1484","id":628953098,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODk1MzA5OA==","user":{"login":"v3nkatesh","id":33071342,"node_id":"MDQ6VXNlcjMzMDcxMzQy","avatar_url":"https://avatars.githubusercontent.com/u/33071342?v=4","gravatar_id":"","url":"https://api.github.com/users/v3nkatesh","html_url":"https://github.com/v3nkatesh","followers_url":"https://api.github.com/users/v3nkatesh/followers","following_url":"https://api.github.com/users/v3nkatesh/following{/other_user}","gists_url":"https://api.github.com/users/v3nkatesh/gists{/gist_id}","starred_url":"https://api.github.com/users/v3nkatesh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/v3nkatesh/subscriptions","organizations_url":"https://api.github.com/users/v3nkatesh/orgs","repos_url":"https://api.github.com/users/v3nkatesh/repos","events_url":"https://api.github.com/users/v3nkatesh/events{/privacy}","received_events_url":"https://api.github.com/users/v3nkatesh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T00:19:10Z","updated_at":"2020-05-15T00:19:10Z","author_association":"CONTRIBUTOR","body":"> @v3nkatesh There are a couple of pending comments from @satishkotha. If you can finish up with those we can merge this PR with the condition that we need to add to LICENSE file because of the copied code in ratelimiter here -> https://github.com/apache/incubator-hudi/blob/master/LICENSE\r\n\r\n@n3nash I have replied to the remaining comments. For RateLimiter class, can you check if the new refactoring is good enough to skip the LICENSE part ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628953098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628960229","html_url":"https://github.com/apache/hudi/pull/1616#issuecomment-628960229","issue_url":"https://api.github.com/repos/apache/hudi/issues/1616","id":628960229,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODk2MDIyOQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T00:45:59Z","updated_at":"2020-05-15T00:45:59Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1616?src=pr&el=h1) Report\n> Merging [#1616](https://codecov.io/gh/apache/incubator-hudi/pull/1616?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/fa6aba751d8de16d9d109a8cfc21150b17b59cff&el=desc) will **increase** coverage by `0.01%`.\n> The diff coverage is `72.72%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1616/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/incubator-hudi/pull/1616?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1616      +/-   ##\n============================================\n+ Coverage     71.78%   71.80%   +0.01%     \n- Complexity     1087     1089       +2     \n============================================\n  Files           385      385              \n  Lines         16575    16611      +36     \n  Branches       1668     1669       +1     \n============================================\n+ Hits          11899    11928      +29     \n- Misses         3947     3952       +5     \n- Partials        729      731       +2     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1616?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...hudi/common/fs/inline/InLineFsDataInputStream.java](https://codecov.io/gh/apache/incubator-hudi/pull/1616/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL2lubGluZS9JbkxpbmVGc0RhdGFJbnB1dFN0cmVhbS5qYXZh) | `61.76% <72.72%> (+23.30%)` | `0.00 <0.00> (ø)` | |\n| [...ache/hudi/common/fs/inline/InMemoryFileSystem.java](https://codecov.io/gh/apache/incubator-hudi/pull/1616/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL2lubGluZS9Jbk1lbW9yeUZpbGVTeXN0ZW0uamF2YQ==) | `79.31% <0.00%> (-10.35%)` | `0.00% <0.00%> (ø%)` | |\n| [...src/main/java/org/apache/hudi/DataSourceUtils.java](https://codecov.io/gh/apache/incubator-hudi/pull/1616/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9EYXRhU291cmNlVXRpbHMuamF2YQ==) | `55.55% <0.00%> (-1.15%)` | `0.00% <0.00%> (ø%)` | |\n| [...i/utilities/keygen/TimestampBasedKeyGenerator.java](https://codecov.io/gh/apache/incubator-hudi/pull/1616/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2tleWdlbi9UaW1lc3RhbXBCYXNlZEtleUdlbmVyYXRvci5qYXZh) | `58.82% <0.00%> (-0.16%)` | `7.00% <0.00%> (+2.00%)` | :arrow_down: |\n| [...c/main/java/org/apache/hudi/table/HoodieTable.java](https://codecov.io/gh/apache/incubator-hudi/pull/1616/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvSG9vZGllVGFibGUuamF2YQ==) | `83.46% <0.00%> (-0.13%)` | `22.00% <0.00%> (ø%)` | |\n| [...n/scala/org/apache/hudi/HoodieSparkSqlWriter.scala](https://codecov.io/gh/apache/incubator-hudi/pull/1616/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9zY2FsYS9vcmcvYXBhY2hlL2h1ZGkvSG9vZGllU3BhcmtTcWxXcml0ZXIuc2NhbGE=) | `53.29% <0.00%> (-0.04%)` | `0.00% <0.00%> (ø%)` | |\n| [.../java/org/apache/hudi/client/HoodieReadClient.java](https://codecov.io/gh/apache/incubator-hudi/pull/1616/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L0hvb2RpZVJlYWRDbGllbnQuamF2YQ==) | `100.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...java/org/apache/hudi/client/utils/ClientUtils.java](https://codecov.io/gh/apache/incubator-hudi/pull/1616/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L3V0aWxzL0NsaWVudFV0aWxzLmphdmE=) | `75.00% <0.00%> (ø)` | `1.00% <0.00%> (ø%)` | |\n| [...java/org/apache/hudi/common/fs/StorageSchemes.java](https://codecov.io/gh/apache/incubator-hudi/pull/1616/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL1N0b3JhZ2VTY2hlbWVzLmphdmE=) | `100.00% <0.00%> (ø)` | `4.00% <0.00%> (ø%)` | |\n| [.../org/apache/hudi/table/HoodieCopyOnWriteTable.java](https://codecov.io/gh/apache/incubator-hudi/pull/1616/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvSG9vZGllQ29weU9uV3JpdGVUYWJsZS5qYXZh) | `62.06% <0.00%> (ø)` | `4.00% <0.00%> (ø%)` | |\n| ... and [7 more](https://codecov.io/gh/apache/incubator-hudi/pull/1616/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1616?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1616?src=pr&el=footer). Last update [fa6aba7...0993778](https://codecov.io/gh/apache/incubator-hudi/pull/1616?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628960229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628966948","html_url":"https://github.com/apache/hudi/pull/1622#issuecomment-628966948","issue_url":"https://api.github.com/repos/apache/hudi/issues/1622","id":628966948,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODk2Njk0OA==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T01:11:58Z","updated_at":"2020-05-15T01:11:58Z","author_association":"CONTRIBUTOR","body":"@rolandjohann Would you please check why the travis is red?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628966948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628968945","html_url":"https://github.com/apache/hudi/pull/1151#issuecomment-628968945","issue_url":"https://api.github.com/repos/apache/hudi/issues/1151","id":628968945,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODk2ODk0NQ==","user":{"login":"dengziming","id":26023240,"node_id":"MDQ6VXNlcjI2MDIzMjQw","avatar_url":"https://avatars.githubusercontent.com/u/26023240?v=4","gravatar_id":"","url":"https://api.github.com/users/dengziming","html_url":"https://github.com/dengziming","followers_url":"https://api.github.com/users/dengziming/followers","following_url":"https://api.github.com/users/dengziming/following{/other_user}","gists_url":"https://api.github.com/users/dengziming/gists{/gist_id}","starred_url":"https://api.github.com/users/dengziming/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dengziming/subscriptions","organizations_url":"https://api.github.com/users/dengziming/orgs","repos_url":"https://api.github.com/users/dengziming/repos","events_url":"https://api.github.com/users/dengziming/events{/privacy}","received_events_url":"https://api.github.com/users/dengziming/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T01:18:10Z","updated_at":"2020-05-15T01:18:10Z","author_association":"MEMBER","body":"@vinothchandar sorry, a little busy these days, I will addressed your comments in a few days.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628968945/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628985363","html_url":"https://github.com/apache/hudi/pull/1558#issuecomment-628985363","issue_url":"https://api.github.com/repos/apache/hudi/issues/1558","id":628985363,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODk4NTM2Mw==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T02:15:06Z","updated_at":"2020-05-15T02:15:06Z","author_association":"CONTRIBUTOR","body":"> I will let @yanghua see this home\r\n\r\nOK, and @pratyakshsharma first of all, please fix all the conflicting files.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628985363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628997531","html_url":"https://github.com/apache/hudi/pull/1402#issuecomment-628997531","issue_url":"https://api.github.com/repos/apache/hudi/issues/1402","id":628997531,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODk5NzUzMQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T02:56:46Z","updated_at":"2020-05-15T02:56:46Z","author_association":"CONTRIBUTOR","body":"@vinothchandar : tests are passing. Let me know if you want me to squash all commits","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/628997531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629005508","html_url":"https://github.com/apache/hudi/pull/1602#issuecomment-629005508","issue_url":"https://api.github.com/repos/apache/hudi/issues/1602","id":629005508,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTAwNTUwOA==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T03:29:05Z","updated_at":"2020-05-15T03:29:05Z","author_association":"MEMBER","body":"switched to `totalBytesWritten > hoodieWriteConfig.getParquetSmallFileLimit()`. I think this way would have minimal impact and handle this bug.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629005508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629007570","html_url":"https://github.com/apache/hudi/pull/1402#issuecomment-629007570","issue_url":"https://api.github.com/repos/apache/hudi/issues/1402","id":629007570,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTAwNzU3MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T03:37:45Z","updated_at":"2020-05-15T03:37:45Z","author_association":"MEMBER","body":"Yes. Please and a good commit message, given this is an important feature","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629007570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629011466","html_url":"https://github.com/apache/hudi/pull/1592#issuecomment-629011466","issue_url":"https://api.github.com/repos/apache/hudi/issues/1592","id":629011466,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTAxMTQ2Ng==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T03:55:57Z","updated_at":"2020-05-15T03:55:57Z","author_association":"MEMBER","body":"Thanks @xushiyan! I will give it a try.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629011466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629015268","html_url":"https://github.com/apache/hudi/issues/1631#issuecomment-629015268","issue_url":"https://api.github.com/repos/apache/hudi/issues/1631","id":629015268,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTAxNTI2OA==","user":{"login":"zherenyu831","id":52404525,"node_id":"MDQ6VXNlcjUyNDA0NTI1","avatar_url":"https://avatars.githubusercontent.com/u/52404525?v=4","gravatar_id":"","url":"https://api.github.com/users/zherenyu831","html_url":"https://github.com/zherenyu831","followers_url":"https://api.github.com/users/zherenyu831/followers","following_url":"https://api.github.com/users/zherenyu831/following{/other_user}","gists_url":"https://api.github.com/users/zherenyu831/gists{/gist_id}","starred_url":"https://api.github.com/users/zherenyu831/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zherenyu831/subscriptions","organizations_url":"https://api.github.com/users/zherenyu831/orgs","repos_url":"https://api.github.com/users/zherenyu831/repos","events_url":"https://api.github.com/users/zherenyu831/events{/privacy}","received_events_url":"https://api.github.com/users/zherenyu831/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T04:13:15Z","updated_at":"2020-05-15T04:13:15Z","author_association":"CONTRIBUTOR","body":"@bvaradar \r\nThank you, I think this is the only solution could works now","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629015268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629037540","html_url":"https://github.com/apache/hudi/issues/1630#issuecomment-629037540","issue_url":"https://api.github.com/repos/apache/hudi/issues/1630","id":629037540,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTAzNzU0MA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T05:34:54Z","updated_at":"2020-05-15T05:34:54Z","author_association":"CONTRIBUTOR","body":"Cherry-picking selective diffs is always a tricky business. Maybe you can use master or use 0.5.2 and apply the patch and try. Also, 0.5.3 release is going to happen shortly which will contain the above patch.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629037540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629039996","html_url":"https://github.com/apache/hudi/pull/1611#issuecomment-629039996","issue_url":"https://api.github.com/repos/apache/hudi/issues/1611","id":629039996,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTAzOTk5Ng==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T05:44:00Z","updated_at":"2020-05-15T05:44:00Z","author_association":"CONTRIBUTOR","body":"> @yanghua you can review this as well if possible :)\r\n\r\nOK","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629039996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629040082","html_url":"https://github.com/apache/hudi/pull/1520#issuecomment-629040082","issue_url":"https://api.github.com/repos/apache/hudi/issues/1520","id":629040082,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTA0MDA4Mg==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T05:44:19Z","updated_at":"2020-05-15T05:44:19Z","author_association":"CONTRIBUTOR","body":"@prashantwason : Looking at the comments, it looks like this PR is going to be abandoned. If so, can you please close this PR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629040082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629044776","html_url":"https://github.com/apache/hudi/pull/1151#issuecomment-629044776","issue_url":"https://api.github.com/repos/apache/hudi/issues/1151","id":629044776,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTA0NDc3Ng==","user":{"login":"dengziming","id":26023240,"node_id":"MDQ6VXNlcjI2MDIzMjQw","avatar_url":"https://avatars.githubusercontent.com/u/26023240?v=4","gravatar_id":"","url":"https://api.github.com/users/dengziming","html_url":"https://github.com/dengziming","followers_url":"https://api.github.com/users/dengziming/followers","following_url":"https://api.github.com/users/dengziming/following{/other_user}","gists_url":"https://api.github.com/users/dengziming/gists{/gist_id}","starred_url":"https://api.github.com/users/dengziming/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dengziming/subscriptions","organizations_url":"https://api.github.com/users/dengziming/orgs","repos_url":"https://api.github.com/users/dengziming/repos","events_url":"https://api.github.com/users/dengziming/events{/privacy}","received_events_url":"https://api.github.com/users/dengziming/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T05:59:32Z","updated_at":"2020-05-15T05:59:32Z","author_association":"MEMBER","body":"> Can you confirm if you have run these examples locally once and verified the instructions work?\r\n\r\n@vinothchandar , I ran these examples locally and ensured they do work, but haven't tried them in a yarn-cluster mode.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629044776/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629076102","html_url":"https://github.com/apache/hudi/pull/1151#issuecomment-629076102","issue_url":"https://api.github.com/repos/apache/hudi/issues/1151","id":629076102,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTA3NjEwMg==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T07:24:15Z","updated_at":"2020-05-15T07:24:15Z","author_association":"MEMBER","body":"> > Can you confirm if you have run these examples locally once and verified the instructions work?\r\n> \r\n> @vinothchandar , I ran these examples locally and ensured they do work, but haven't tried them in a yarn-cluster mode.\r\n\r\nWill check, thanks 👍 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629076102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629095378","html_url":"https://github.com/apache/hudi/issues/1625#issuecomment-629095378","issue_url":"https://api.github.com/repos/apache/hudi/issues/1625","id":629095378,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTA5NTM3OA==","user":{"login":"rolandjohann","id":5725466,"node_id":"MDQ6VXNlcjU3MjU0NjY=","avatar_url":"https://avatars.githubusercontent.com/u/5725466?v=4","gravatar_id":"","url":"https://api.github.com/users/rolandjohann","html_url":"https://github.com/rolandjohann","followers_url":"https://api.github.com/users/rolandjohann/followers","following_url":"https://api.github.com/users/rolandjohann/following{/other_user}","gists_url":"https://api.github.com/users/rolandjohann/gists{/gist_id}","starred_url":"https://api.github.com/users/rolandjohann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rolandjohann/subscriptions","organizations_url":"https://api.github.com/users/rolandjohann/orgs","repos_url":"https://api.github.com/users/rolandjohann/repos","events_url":"https://api.github.com/users/rolandjohann/events{/privacy}","received_events_url":"https://api.github.com/users/rolandjohann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T08:07:43Z","updated_at":"2020-05-15T08:07:43Z","author_association":"CONTRIBUTOR","body":"@bvaradar \r\nAfter 15 runs the filesystem looks like this:\r\n```bash\r\n$ tree -a /tmp/visitors_hudi_mor/                                                                               \r\n/tmp/visitors_hudi_mor/\r\n├── .hoodie\r\n│   ├── .20200514221320.clean.crc\r\n│   ├── .20200514221320.clean.inflight.crc\r\n│   ├── .20200514221320.clean.requested.crc\r\n│   ├── .20200514221407.clean.crc\r\n│   ├── .20200514221407.clean.inflight.crc\r\n│   ├── .20200514221407.clean.requested.crc\r\n│   ├── .20200514221449.clean.crc\r\n│   ├── .20200514221449.clean.inflight.crc\r\n│   ├── .20200514221449.clean.requested.crc\r\n│   ├── .20200514221539.clean.crc\r\n│   ├── .20200514221539.clean.inflight.crc\r\n│   ├── .20200514221539.clean.requested.crc\r\n│   ├── .20200514221623.clean.crc\r\n│   ├── .20200514221623.clean.inflight.crc\r\n│   ├── .20200514221623.clean.requested.crc\r\n│   ├── .20200514221623.deltacommit.crc\r\n│   ├── .20200514221623.deltacommit.inflight.crc\r\n│   ├── .20200514221623.deltacommit.requested.crc\r\n│   ├── .20200514221648.commit.crc\r\n│   ├── .20200514221648.compaction.inflight.crc\r\n│   ├── .20200514221648.compaction.requested.crc\r\n│   ├── .20200514221714.clean.crc\r\n│   ├── .20200514221714.clean.inflight.crc\r\n│   ├── .20200514221714.clean.requested.crc\r\n│   ├── .20200514221714.deltacommit.crc\r\n│   ├── .20200514221714.deltacommit.inflight.crc\r\n│   ├── .20200514221714.deltacommit.requested.crc\r\n│   ├── .20200514221759.clean.crc\r\n│   ├── .20200514221759.clean.inflight.crc\r\n│   ├── .20200514221759.clean.requested.crc\r\n│   ├── .20200514221759.deltacommit.crc\r\n│   ├── .20200514221759.deltacommit.inflight.crc\r\n│   ├── .20200514221759.deltacommit.requested.crc\r\n│   ├── .20200514221829.commit.crc\r\n│   ├── .20200514221829.compaction.inflight.crc\r\n│   ├── .20200514221829.compaction.requested.crc\r\n│   ├── .20200514221902.clean.crc\r\n│   ├── .20200514221902.clean.inflight.crc\r\n│   ├── .20200514221902.clean.requested.crc\r\n│   ├── .20200514221902.deltacommit.crc\r\n│   ├── .20200514221902.deltacommit.inflight.crc\r\n│   ├── .20200514221902.deltacommit.requested.crc\r\n│   ├── .20200514221947.clean.crc\r\n│   ├── .20200514221947.clean.inflight.crc\r\n│   ├── .20200514221947.clean.requested.crc\r\n│   ├── .20200514221947.deltacommit.crc\r\n│   ├── .20200514221947.deltacommit.inflight.crc\r\n│   ├── .20200514221947.deltacommit.requested.crc\r\n│   ├── .20200514222010.commit.crc\r\n│   ├── .20200514222010.compaction.inflight.crc\r\n│   ├── .20200514222010.compaction.requested.crc\r\n│   ├── .20200514222036.clean.crc\r\n│   ├── .20200514222036.clean.inflight.crc\r\n│   ├── .20200514222036.clean.requested.crc\r\n│   ├── .20200514222036.deltacommit.crc\r\n│   ├── .20200514222036.deltacommit.inflight.crc\r\n│   ├── .20200514222036.deltacommit.requested.crc\r\n│   ├── .20200514222122.clean.crc\r\n│   ├── .20200514222122.clean.inflight.crc\r\n│   ├── .20200514222122.clean.requested.crc\r\n│   ├── .20200514222122.deltacommit.crc\r\n│   ├── .20200514222122.deltacommit.inflight.crc\r\n│   ├── .20200514222122.deltacommit.requested.crc\r\n│   ├── .20200514222145.commit.crc\r\n│   ├── .20200514222145.compaction.inflight.crc\r\n│   ├── .20200514222145.compaction.requested.crc\r\n│   ├── .20200515094100.clean.crc\r\n│   ├── .20200515094100.clean.inflight.crc\r\n│   ├── .20200515094100.clean.requested.crc\r\n│   ├── .20200515094100.deltacommit.crc\r\n│   ├── .20200515094100.deltacommit.inflight.crc\r\n│   ├── .20200515094100.deltacommit.requested.crc\r\n│   ├── .20200515094159.clean.crc\r\n│   ├── .20200515094159.clean.inflight.crc\r\n│   ├── .20200515094159.clean.requested.crc\r\n│   ├── .20200515094159.deltacommit.crc\r\n│   ├── .20200515094159.deltacommit.inflight.crc\r\n│   ├── .20200515094159.deltacommit.requested.crc\r\n│   ├── .20200515094227.commit.crc\r\n│   ├── .20200515094227.compaction.inflight.crc\r\n│   ├── .20200515094227.compaction.requested.crc\r\n│   ├── .20200515094301.clean.crc\r\n│   ├── .20200515094301.clean.inflight.crc\r\n│   ├── .20200515094301.clean.requested.crc\r\n│   ├── .20200515094301.deltacommit.crc\r\n│   ├── .20200515094301.deltacommit.inflight.crc\r\n│   ├── .20200515094301.deltacommit.requested.crc\r\n│   ├── .20200515094401.clean.crc\r\n│   ├── .20200515094401.clean.inflight.crc\r\n│   ├── .20200515094401.clean.requested.crc\r\n│   ├── .20200515094401.deltacommit.crc\r\n│   ├── .20200515094401.deltacommit.inflight.crc\r\n│   ├── .20200515094401.deltacommit.requested.crc\r\n│   ├── .20200515094431.commit.crc\r\n│   ├── .20200515094431.compaction.inflight.crc\r\n│   ├── .20200515094431.compaction.requested.crc\r\n│   ├── .20200515094508.clean.crc\r\n│   ├── .20200515094508.clean.inflight.crc\r\n│   ├── .20200515094508.clean.requested.crc\r\n│   ├── .20200515094508.deltacommit.crc\r\n│   ├── .20200515094508.deltacommit.inflight.crc\r\n│   ├── .20200515094508.deltacommit.requested.crc\r\n│   ├── .20200515094611.clean.crc\r\n│   ├── .20200515094611.clean.inflight.crc\r\n│   ├── .20200515094611.clean.requested.crc\r\n│   ├── .20200515094611.deltacommit.crc\r\n│   ├── .20200515094611.deltacommit.inflight.crc\r\n│   ├── .20200515094611.deltacommit.requested.crc\r\n│   ├── .20200515094647.commit.crc\r\n│   ├── .20200515094647.compaction.inflight.crc\r\n│   ├── .20200515094647.compaction.requested.crc\r\n│   ├── .20200515094724.clean.crc\r\n│   ├── .20200515094724.clean.inflight.crc\r\n│   ├── .20200515094724.clean.requested.crc\r\n│   ├── .20200515094724.deltacommit.crc\r\n│   ├── .20200515094724.deltacommit.inflight.crc\r\n│   ├── .20200515094724.deltacommit.requested.crc\r\n│   ├── .20200515094830.clean.crc\r\n│   ├── .20200515094830.clean.inflight.crc\r\n│   ├── .20200515094830.clean.requested.crc\r\n│   ├── .20200515094830.deltacommit.crc\r\n│   ├── .20200515094830.deltacommit.inflight.crc\r\n│   ├── .20200515094830.deltacommit.requested.crc\r\n│   ├── .20200515094903.commit.crc\r\n│   ├── .20200515094903.compaction.inflight.crc\r\n│   ├── .20200515094903.compaction.requested.crc\r\n│   ├── .20200515094936.clean.crc\r\n│   ├── .20200515094936.clean.inflight.crc\r\n│   ├── .20200515094936.clean.requested.crc\r\n│   ├── .20200515094936.deltacommit.crc\r\n│   ├── .20200515094936.deltacommit.inflight.crc\r\n│   ├── .20200515094936.deltacommit.requested.crc\r\n│   ├── .20200515095034.clean.crc\r\n│   ├── .20200515095034.clean.inflight.crc\r\n│   ├── .20200515095034.clean.requested.crc\r\n│   ├── .20200515095034.deltacommit.crc\r\n│   ├── .20200515095034.deltacommit.inflight.crc\r\n│   ├── .20200515095034.deltacommit.requested.crc\r\n│   ├── .20200515095102.commit.crc\r\n│   ├── .20200515095102.compaction.inflight.crc\r\n│   ├── .20200515095102.compaction.requested.crc\r\n│   ├── .20200515095136.clean.crc\r\n│   ├── .20200515095136.clean.inflight.crc\r\n│   ├── .20200515095136.clean.requested.crc\r\n│   ├── .20200515095136.deltacommit.crc\r\n│   ├── .20200515095136.deltacommit.inflight.crc\r\n│   ├── .20200515095136.deltacommit.requested.crc\r\n│   ├── .20200515095249.clean.crc\r\n│   ├── .20200515095249.clean.inflight.crc\r\n│   ├── .20200515095249.clean.requested.crc\r\n│   ├── .20200515095249.deltacommit.crc\r\n│   ├── .20200515095249.deltacommit.inflight.crc\r\n│   ├── .20200515095249.deltacommit.requested.crc\r\n│   ├── .20200515095320.commit.crc\r\n│   ├── .20200515095320.compaction.inflight.crc\r\n│   ├── .20200515095320.compaction.requested.crc\r\n│   ├── .aux\r\n│   │   ├── .20200514221648.compaction.requested.crc\r\n│   │   ├── .20200514221829.compaction.requested.crc\r\n│   │   ├── .20200514222010.compaction.requested.crc\r\n│   │   ├── .20200514222145.compaction.requested.crc\r\n│   │   ├── .20200515094227.compaction.requested.crc\r\n│   │   ├── .20200515094431.compaction.requested.crc\r\n│   │   ├── .20200515094647.compaction.requested.crc\r\n│   │   ├── .20200515094903.compaction.requested.crc\r\n│   │   ├── .20200515095102.compaction.requested.crc\r\n│   │   ├── .20200515095320.compaction.requested.crc\r\n│   │   ├── 20200514221648.compaction.requested\r\n│   │   ├── 20200514221829.compaction.requested\r\n│   │   ├── 20200514222010.compaction.requested\r\n│   │   ├── 20200514222145.compaction.requested\r\n│   │   ├── 20200515094227.compaction.requested\r\n│   │   ├── 20200515094431.compaction.requested\r\n│   │   ├── 20200515094647.compaction.requested\r\n│   │   ├── 20200515094903.compaction.requested\r\n│   │   ├── 20200515095102.compaction.requested\r\n│   │   └── 20200515095320.compaction.requested\r\n│   ├── .hoodie.properties.crc\r\n│   ├── .temp\r\n│   ├── 20200514221320.clean\r\n│   ├── 20200514221320.clean.inflight\r\n│   ├── 20200514221320.clean.requested\r\n│   ├── 20200514221407.clean\r\n│   ├── 20200514221407.clean.inflight\r\n│   ├── 20200514221407.clean.requested\r\n│   ├── 20200514221449.clean\r\n│   ├── 20200514221449.clean.inflight\r\n│   ├── 20200514221449.clean.requested\r\n│   ├── 20200514221539.clean\r\n│   ├── 20200514221539.clean.inflight\r\n│   ├── 20200514221539.clean.requested\r\n│   ├── 20200514221623.clean\r\n│   ├── 20200514221623.clean.inflight\r\n│   ├── 20200514221623.clean.requested\r\n│   ├── 20200514221623.deltacommit\r\n│   ├── 20200514221623.deltacommit.inflight\r\n│   ├── 20200514221623.deltacommit.requested\r\n│   ├── 20200514221648.commit\r\n│   ├── 20200514221648.compaction.inflight\r\n│   ├── 20200514221648.compaction.requested\r\n│   ├── 20200514221714.clean\r\n│   ├── 20200514221714.clean.inflight\r\n│   ├── 20200514221714.clean.requested\r\n│   ├── 20200514221714.deltacommit\r\n│   ├── 20200514221714.deltacommit.inflight\r\n│   ├── 20200514221714.deltacommit.requested\r\n│   ├── 20200514221759.clean\r\n│   ├── 20200514221759.clean.inflight\r\n│   ├── 20200514221759.clean.requested\r\n│   ├── 20200514221759.deltacommit\r\n│   ├── 20200514221759.deltacommit.inflight\r\n│   ├── 20200514221759.deltacommit.requested\r\n│   ├── 20200514221829.commit\r\n│   ├── 20200514221829.compaction.inflight\r\n│   ├── 20200514221829.compaction.requested\r\n│   ├── 20200514221902.clean\r\n│   ├── 20200514221902.clean.inflight\r\n│   ├── 20200514221902.clean.requested\r\n│   ├── 20200514221902.deltacommit\r\n│   ├── 20200514221902.deltacommit.inflight\r\n│   ├── 20200514221902.deltacommit.requested\r\n│   ├── 20200514221947.clean\r\n│   ├── 20200514221947.clean.inflight\r\n│   ├── 20200514221947.clean.requested\r\n│   ├── 20200514221947.deltacommit\r\n│   ├── 20200514221947.deltacommit.inflight\r\n│   ├── 20200514221947.deltacommit.requested\r\n│   ├── 20200514222010.commit\r\n│   ├── 20200514222010.compaction.inflight\r\n│   ├── 20200514222010.compaction.requested\r\n│   ├── 20200514222036.clean\r\n│   ├── 20200514222036.clean.inflight\r\n│   ├── 20200514222036.clean.requested\r\n│   ├── 20200514222036.deltacommit\r\n│   ├── 20200514222036.deltacommit.inflight\r\n│   ├── 20200514222036.deltacommit.requested\r\n│   ├── 20200514222122.clean\r\n│   ├── 20200514222122.clean.inflight\r\n│   ├── 20200514222122.clean.requested\r\n│   ├── 20200514222122.deltacommit\r\n│   ├── 20200514222122.deltacommit.inflight\r\n│   ├── 20200514222122.deltacommit.requested\r\n│   ├── 20200514222145.commit\r\n│   ├── 20200514222145.compaction.inflight\r\n│   ├── 20200514222145.compaction.requested\r\n│   ├── 20200515094100.clean\r\n│   ├── 20200515094100.clean.inflight\r\n│   ├── 20200515094100.clean.requested\r\n│   ├── 20200515094100.deltacommit\r\n│   ├── 20200515094100.deltacommit.inflight\r\n│   ├── 20200515094100.deltacommit.requested\r\n│   ├── 20200515094159.clean\r\n│   ├── 20200515094159.clean.inflight\r\n│   ├── 20200515094159.clean.requested\r\n│   ├── 20200515094159.deltacommit\r\n│   ├── 20200515094159.deltacommit.inflight\r\n│   ├── 20200515094159.deltacommit.requested\r\n│   ├── 20200515094227.commit\r\n│   ├── 20200515094227.compaction.inflight\r\n│   ├── 20200515094227.compaction.requested\r\n│   ├── 20200515094301.clean\r\n│   ├── 20200515094301.clean.inflight\r\n│   ├── 20200515094301.clean.requested\r\n│   ├── 20200515094301.deltacommit\r\n│   ├── 20200515094301.deltacommit.inflight\r\n│   ├── 20200515094301.deltacommit.requested\r\n│   ├── 20200515094401.clean\r\n│   ├── 20200515094401.clean.inflight\r\n│   ├── 20200515094401.clean.requested\r\n│   ├── 20200515094401.deltacommit\r\n│   ├── 20200515094401.deltacommit.inflight\r\n│   ├── 20200515094401.deltacommit.requested\r\n│   ├── 20200515094431.commit\r\n│   ├── 20200515094431.compaction.inflight\r\n│   ├── 20200515094431.compaction.requested\r\n│   ├── 20200515094508.clean\r\n│   ├── 20200515094508.clean.inflight\r\n│   ├── 20200515094508.clean.requested\r\n│   ├── 20200515094508.deltacommit\r\n│   ├── 20200515094508.deltacommit.inflight\r\n│   ├── 20200515094508.deltacommit.requested\r\n│   ├── 20200515094611.clean\r\n│   ├── 20200515094611.clean.inflight\r\n│   ├── 20200515094611.clean.requested\r\n│   ├── 20200515094611.deltacommit\r\n│   ├── 20200515094611.deltacommit.inflight\r\n│   ├── 20200515094611.deltacommit.requested\r\n│   ├── 20200515094647.commit\r\n│   ├── 20200515094647.compaction.inflight\r\n│   ├── 20200515094647.compaction.requested\r\n│   ├── 20200515094724.clean\r\n│   ├── 20200515094724.clean.inflight\r\n│   ├── 20200515094724.clean.requested\r\n│   ├── 20200515094724.deltacommit\r\n│   ├── 20200515094724.deltacommit.inflight\r\n│   ├── 20200515094724.deltacommit.requested\r\n│   ├── 20200515094830.clean\r\n│   ├── 20200515094830.clean.inflight\r\n│   ├── 20200515094830.clean.requested\r\n│   ├── 20200515094830.deltacommit\r\n│   ├── 20200515094830.deltacommit.inflight\r\n│   ├── 20200515094830.deltacommit.requested\r\n│   ├── 20200515094903.commit\r\n│   ├── 20200515094903.compaction.inflight\r\n│   ├── 20200515094903.compaction.requested\r\n│   ├── 20200515094936.clean\r\n│   ├── 20200515094936.clean.inflight\r\n│   ├── 20200515094936.clean.requested\r\n│   ├── 20200515094936.deltacommit\r\n│   ├── 20200515094936.deltacommit.inflight\r\n│   ├── 20200515094936.deltacommit.requested\r\n│   ├── 20200515095034.clean\r\n│   ├── 20200515095034.clean.inflight\r\n│   ├── 20200515095034.clean.requested\r\n│   ├── 20200515095034.deltacommit\r\n│   ├── 20200515095034.deltacommit.inflight\r\n│   ├── 20200515095034.deltacommit.requested\r\n│   ├── 20200515095102.commit\r\n│   ├── 20200515095102.compaction.inflight\r\n│   ├── 20200515095102.compaction.requested\r\n│   ├── 20200515095136.clean\r\n│   ├── 20200515095136.clean.inflight\r\n│   ├── 20200515095136.clean.requested\r\n│   ├── 20200515095136.deltacommit\r\n│   ├── 20200515095136.deltacommit.inflight\r\n│   ├── 20200515095136.deltacommit.requested\r\n│   ├── 20200515095249.clean\r\n│   ├── 20200515095249.clean.inflight\r\n│   ├── 20200515095249.clean.requested\r\n│   ├── 20200515095249.deltacommit\r\n│   ├── 20200515095249.deltacommit.inflight\r\n│   ├── 20200515095249.deltacommit.requested\r\n│   ├── 20200515095320.commit\r\n│   ├── 20200515095320.compaction.inflight\r\n│   ├── 20200515095320.compaction.requested\r\n│   ├── archived\r\n│   │   ├── ..commits_.archive.1_1-0-1.crc\r\n│   │   ├── ..commits_.archive.2_1-0-1.crc\r\n│   │   ├── ..commits_.archive.3_1-0-1.crc\r\n│   │   ├── .commits_.archive.1_1-0-1\r\n│   │   ├── .commits_.archive.2_1-0-1\r\n│   │   └── .commits_.archive.3_1-0-1\r\n│   └── hoodie.properties\r\n├── date=18386\r\n│   ├── ..36f23f0e-f2dc-41f2-be77-978a29b87251-0_20200515094647.log.1_0-362-3729.crc\r\n│   ├── ..36f23f0e-f2dc-41f2-be77-978a29b87251-0_20200515094647.log.2_0-415-4262.crc\r\n│   ├── ..36f23f0e-f2dc-41f2-be77-978a29b87251-0_20200515094903.log.1_0-470-4801.crc\r\n│   ├── ..36f23f0e-f2dc-41f2-be77-978a29b87251-0_20200515094903.log.2_0-523-5334.crc\r\n│   ├── ..36f23f0e-f2dc-41f2-be77-978a29b87251-0_20200515095102.log.1_0-578-5873.crc\r\n│   ├── ..36f23f0e-f2dc-41f2-be77-978a29b87251-0_20200515095102.log.2_0-631-6406.crc\r\n│   ├── ..hoodie_partition_metadata.crc\r\n│   ├── .36f23f0e-f2dc-41f2-be77-978a29b87251-0_1-317-3200_20200515094647.parquet.crc\r\n│   ├── .36f23f0e-f2dc-41f2-be77-978a29b87251-0_1-425-4272_20200515094903.parquet.crc\r\n│   ├── .36f23f0e-f2dc-41f2-be77-978a29b87251-0_1-533-5344_20200515095102.parquet.crc\r\n│   ├── .36f23f0e-f2dc-41f2-be77-978a29b87251-0_1-641-6416_20200515095320.parquet.crc\r\n│   ├── .36f23f0e-f2dc-41f2-be77-978a29b87251-0_20200515094647.log.1_0-362-3729\r\n│   ├── .36f23f0e-f2dc-41f2-be77-978a29b87251-0_20200515094647.log.2_0-415-4262\r\n│   ├── .36f23f0e-f2dc-41f2-be77-978a29b87251-0_20200515094903.log.1_0-470-4801\r\n│   ├── .36f23f0e-f2dc-41f2-be77-978a29b87251-0_20200515094903.log.2_0-523-5334\r\n│   ├── .36f23f0e-f2dc-41f2-be77-978a29b87251-0_20200515095102.log.1_0-578-5873\r\n│   ├── .36f23f0e-f2dc-41f2-be77-978a29b87251-0_20200515095102.log.2_0-631-6406\r\n│   ├── .hoodie_partition_metadata\r\n│   ├── 36f23f0e-f2dc-41f2-be77-978a29b87251-0_1-317-3200_20200515094647.parquet\r\n│   ├── 36f23f0e-f2dc-41f2-be77-978a29b87251-0_1-425-4272_20200515094903.parquet\r\n│   ├── 36f23f0e-f2dc-41f2-be77-978a29b87251-0_1-533-5344_20200515095102.parquet\r\n│   └── 36f23f0e-f2dc-41f2-be77-978a29b87251-0_1-641-6416_20200515095320.parquet\r\n├── date=18389\r\n│   ├── ..047ce897-2276-401f-9381-b4058fc94b07-0_20200515094647.log.1_1-362-3730.crc\r\n│   ├── ..047ce897-2276-401f-9381-b4058fc94b07-0_20200515094647.log.2_1-415-4263.crc\r\n│   ├── ..047ce897-2276-401f-9381-b4058fc94b07-0_20200515094903.log.1_1-470-4802.crc\r\n│   ├── ..047ce897-2276-401f-9381-b4058fc94b07-0_20200515094903.log.2_1-523-5335.crc\r\n│   ├── ..047ce897-2276-401f-9381-b4058fc94b07-0_20200515095102.log.1_1-578-5874.crc\r\n│   ├── ..047ce897-2276-401f-9381-b4058fc94b07-0_20200515095102.log.2_1-631-6407.crc\r\n│   ├── ..hoodie_partition_metadata.crc\r\n│   ├── .047ce897-2276-401f-9381-b4058fc94b07-0_0-317-3199_20200515094647.parquet.crc\r\n│   ├── .047ce897-2276-401f-9381-b4058fc94b07-0_0-425-4271_20200515094903.parquet.crc\r\n│   ├── .047ce897-2276-401f-9381-b4058fc94b07-0_0-533-5343_20200515095102.parquet.crc\r\n│   ├── .047ce897-2276-401f-9381-b4058fc94b07-0_0-641-6415_20200515095320.parquet.crc\r\n│   ├── .047ce897-2276-401f-9381-b4058fc94b07-0_20200515094647.log.1_1-362-3730\r\n│   ├── .047ce897-2276-401f-9381-b4058fc94b07-0_20200515094647.log.2_1-415-4263\r\n│   ├── .047ce897-2276-401f-9381-b4058fc94b07-0_20200515094903.log.1_1-470-4802\r\n│   ├── .047ce897-2276-401f-9381-b4058fc94b07-0_20200515094903.log.2_1-523-5335\r\n│   ├── .047ce897-2276-401f-9381-b4058fc94b07-0_20200515095102.log.1_1-578-5874\r\n│   ├── .047ce897-2276-401f-9381-b4058fc94b07-0_20200515095102.log.2_1-631-6407\r\n│   ├── .hoodie_partition_metadata\r\n│   ├── 047ce897-2276-401f-9381-b4058fc94b07-0_0-317-3199_20200515094647.parquet\r\n│   ├── 047ce897-2276-401f-9381-b4058fc94b07-0_0-425-4271_20200515094903.parquet\r\n│   ├── 047ce897-2276-401f-9381-b4058fc94b07-0_0-533-5343_20200515095102.parquet\r\n│   └── 047ce897-2276-401f-9381-b4058fc94b07-0_0-641-6415_20200515095320.parquet\r\n└── date=18390\r\n    ├── ..00a2ef18-6d72-432e-a45b-920ea2e68f97-0_20200515094647.log.1_2-362-3731.crc\r\n    ├── ..00a2ef18-6d72-432e-a45b-920ea2e68f97-0_20200515094647.log.2_2-415-4264.crc\r\n    ├── ..00a2ef18-6d72-432e-a45b-920ea2e68f97-0_20200515094903.log.1_2-470-4803.crc\r\n    ├── ..00a2ef18-6d72-432e-a45b-920ea2e68f97-0_20200515094903.log.2_2-523-5336.crc\r\n    ├── ..00a2ef18-6d72-432e-a45b-920ea2e68f97-0_20200515095102.log.1_2-578-5875.crc\r\n    ├── ..00a2ef18-6d72-432e-a45b-920ea2e68f97-0_20200515095102.log.2_2-631-6408.crc\r\n    ├── ..hoodie_partition_metadata.crc\r\n    ├── .00a2ef18-6d72-432e-a45b-920ea2e68f97-0_2-317-3201_20200515094647.parquet.crc\r\n    ├── .00a2ef18-6d72-432e-a45b-920ea2e68f97-0_2-425-4273_20200515094903.parquet.crc\r\n    ├── .00a2ef18-6d72-432e-a45b-920ea2e68f97-0_2-533-5345_20200515095102.parquet.crc\r\n    ├── .00a2ef18-6d72-432e-a45b-920ea2e68f97-0_2-641-6417_20200515095320.parquet.crc\r\n    ├── .00a2ef18-6d72-432e-a45b-920ea2e68f97-0_20200515094647.log.1_2-362-3731\r\n    ├── .00a2ef18-6d72-432e-a45b-920ea2e68f97-0_20200515094647.log.2_2-415-4264\r\n    ├── .00a2ef18-6d72-432e-a45b-920ea2e68f97-0_20200515094903.log.1_2-470-4803\r\n    ├── .00a2ef18-6d72-432e-a45b-920ea2e68f97-0_20200515094903.log.2_2-523-5336\r\n    ├── .00a2ef18-6d72-432e-a45b-920ea2e68f97-0_20200515095102.log.1_2-578-5875\r\n    ├── .00a2ef18-6d72-432e-a45b-920ea2e68f97-0_20200515095102.log.2_2-631-6408\r\n    ├── .hoodie_partition_metadata\r\n    ├── 00a2ef18-6d72-432e-a45b-920ea2e68f97-0_2-317-3201_20200515094647.parquet\r\n    ├── 00a2ef18-6d72-432e-a45b-920ea2e68f97-0_2-425-4273_20200515094903.parquet\r\n    ├── 00a2ef18-6d72-432e-a45b-920ea2e68f97-0_2-533-5345_20200515095102.parquet\r\n    └── 00a2ef18-6d72-432e-a45b-920ea2e68f97-0_2-641-6417_20200515095320.parquet\r\n```\r\nThe delta files (avro files) are pretty huge compared to the actual parquet files:\r\n```bash\r\n$ ls -lah /tmp/visitors_hudi_mor/date=18389/                                                                    \r\ntotal 139M\r\ndrwxr-xr-x 24 rolandjohann  768 Mai 15 09:53 .\r\ndrwxr-xr-x  6 rolandjohann  192 Mai 14 22:04 ..\r\n-rw-r--r--  1 rolandjohann 155K Mai 15 09:47 ..047ce897-2276-401f-9381-b4058fc94b07-0_20200515094647.log.1_1-362-3730.crc\r\n-rw-r--r--  1 rolandjohann 155K Mai 15 09:49 ..047ce897-2276-401f-9381-b4058fc94b07-0_20200515094647.log.2_1-415-4263.crc\r\n-rw-r--r--  1 rolandjohann 155K Mai 15 09:50 ..047ce897-2276-401f-9381-b4058fc94b07-0_20200515094903.log.1_1-470-4802.crc\r\n-rw-r--r--  1 rolandjohann 155K Mai 15 09:51 ..047ce897-2276-401f-9381-b4058fc94b07-0_20200515094903.log.2_1-523-5335.crc\r\n-rw-r--r--  1 rolandjohann 155K Mai 15 09:52 ..047ce897-2276-401f-9381-b4058fc94b07-0_20200515095102.log.1_1-578-5874.crc\r\n-rw-r--r--  1 rolandjohann 155K Mai 15 09:53 ..047ce897-2276-401f-9381-b4058fc94b07-0_20200515095102.log.2_1-631-6407.crc\r\n-rw-r--r--  1 rolandjohann   12 Mai 14 22:04 ..hoodie_partition_metadata.crc\r\n-rw-r--r--  1 rolandjohann  38K Mai 15 09:46 .047ce897-2276-401f-9381-b4058fc94b07-0_0-317-3199_20200515094647.parquet.crc\r\n-rw-r--r--  1 rolandjohann  38K Mai 15 09:49 .047ce897-2276-401f-9381-b4058fc94b07-0_0-425-4271_20200515094903.parquet.crc\r\n-rw-r--r--  1 rolandjohann  38K Mai 15 09:51 .047ce897-2276-401f-9381-b4058fc94b07-0_0-533-5343_20200515095102.parquet.crc\r\n-rw-r--r--  1 rolandjohann  38K Mai 15 09:53 .047ce897-2276-401f-9381-b4058fc94b07-0_0-641-6415_20200515095320.parquet.crc\r\n-rw-r--r--  1 rolandjohann  20M Mai 15 09:47 .047ce897-2276-401f-9381-b4058fc94b07-0_20200515094647.log.1_1-362-3730\r\n-rw-r--r--  1 rolandjohann  20M Mai 15 09:49 .047ce897-2276-401f-9381-b4058fc94b07-0_20200515094647.log.2_1-415-4263\r\n-rw-r--r--  1 rolandjohann  20M Mai 15 09:50 .047ce897-2276-401f-9381-b4058fc94b07-0_20200515094903.log.1_1-470-4802\r\n-rw-r--r--  1 rolandjohann  20M Mai 15 09:51 .047ce897-2276-401f-9381-b4058fc94b07-0_20200515094903.log.2_1-523-5335\r\n-rw-r--r--  1 rolandjohann  20M Mai 15 09:52 .047ce897-2276-401f-9381-b4058fc94b07-0_20200515095102.log.1_1-578-5874\r\n-rw-r--r--  1 rolandjohann  20M Mai 15 09:53 .047ce897-2276-401f-9381-b4058fc94b07-0_20200515095102.log.2_1-631-6407\r\n-rw-r--r--  1 rolandjohann   94 Mai 14 22:04 .hoodie_partition_metadata\r\n-rw-r--r--  1 rolandjohann 4,7M Mai 15 09:46 047ce897-2276-401f-9381-b4058fc94b07-0_0-317-3199_20200515094647.parquet\r\n-rw-r--r--  1 rolandjohann 4,7M Mai 15 09:49 047ce897-2276-401f-9381-b4058fc94b07-0_0-425-4271_20200515094903.parquet\r\n-rw-r--r--  1 rolandjohann 4,7M Mai 15 09:51 047ce897-2276-401f-9381-b4058fc94b07-0_0-533-5343_20200515095102.parquet\r\n-rw-r--r--  1 rolandjohann 4,7M Mai 15 09:53 047ce897-2276-401f-9381-b4058fc94b07-0_0-641-6415_20200515095320.parquet\r\n```\r\n\r\nOur current use case is to ingest records as stream to HDFS, register Hive Tables for analytics and be able to circumvent the small file problem. For this we implemented some kind of compaction job that reads the ingested files, coalescs to small amount of date based partitions and write back to HDFS target paths. To circumvent the risk of write/read races we implemented multi version partitioning our selves - creating a subdirectory for each partition (version) and register that specific path as partition location at hive. Periodically we delete partition versions older than 24h.\r\n\r\nAs far as I can see Hudi is a perfect fit for that logic. The only thing that we are struggeling is is the compaction and complete cleanup of previous versions after 24h.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629095378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629096996","html_url":"https://github.com/apache/hudi/pull/1100#issuecomment-629096996","issue_url":"https://api.github.com/repos/apache/hudi/issues/1100","id":629096996,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTA5Njk5Ng==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T08:11:26Z","updated_at":"2020-05-15T08:11:26Z","author_association":"CONTRIBUTOR","body":"@n3nash conflicting files.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629096996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629165710","html_url":"https://github.com/apache/hudi/pull/1622#issuecomment-629165710","issue_url":"https://api.github.com/repos/apache/hudi/issues/1622","id":629165710,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTE2NTcxMA==","user":{"login":"rolandjohann","id":5725466,"node_id":"MDQ6VXNlcjU3MjU0NjY=","avatar_url":"https://avatars.githubusercontent.com/u/5725466?v=4","gravatar_id":"","url":"https://api.github.com/users/rolandjohann","html_url":"https://github.com/rolandjohann","followers_url":"https://api.github.com/users/rolandjohann/followers","following_url":"https://api.github.com/users/rolandjohann/following{/other_user}","gists_url":"https://api.github.com/users/rolandjohann/gists{/gist_id}","starred_url":"https://api.github.com/users/rolandjohann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rolandjohann/subscriptions","organizations_url":"https://api.github.com/users/rolandjohann/orgs","repos_url":"https://api.github.com/users/rolandjohann/repos","events_url":"https://api.github.com/users/rolandjohann/events{/privacy}","received_events_url":"https://api.github.com/users/rolandjohann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T10:43:02Z","updated_at":"2020-05-15T10:43:02Z","author_association":"CONTRIBUTOR","body":"Is it possible that this is a test infrastructure related issue?\r\n```\r\n[ERROR] Tests run: 2, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 7.416 s <<< FAILURE! - in org.apache.hudi.cli.commands.TestArchivedCommitsCommand\r\n[ERROR] org.apache.hudi.cli.commands.TestArchivedCommitsCommand.testShowArchivedCommits  Time elapsed: 2.116 s  <<< ERROR!\r\njava.net.BindException: Problem binding to [localhost:42364] java.net.BindException: Address already in use; For more details see:  http://wiki.apache.org/hadoop/BindException\r\n\tat org.apache.hudi.cli.commands.TestArchivedCommitsCommand.init(TestArchivedCommitsCommand.java:58)\r\nCaused by: java.net.BindException: Address already in use\r\n\tat org.apache.hudi.cli.commands.TestArchivedCommitsCommand.init(TestArchivedCommitsCommand.java:58)\r\n```\r\nDon't see anything related to the changes introduced by this PR. Can we retry the failed travis job?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629165710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629167984","html_url":"https://github.com/apache/hudi/pull/1566#issuecomment-629167984","issue_url":"https://api.github.com/repos/apache/hudi/issues/1566","id":629167984,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTE2Nzk4NA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T10:48:57Z","updated_at":"2020-05-15T10:48:57Z","author_association":"CONTRIBUTOR","body":"@pratyakshsharma : I updated this PR to address comments in the interest of reducing the review cycle time. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629167984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629169708","html_url":"https://github.com/apache/hudi/pull/1596#issuecomment-629169708","issue_url":"https://api.github.com/repos/apache/hudi/issues/1596","id":629169708,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTE2OTcwOA==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T10:53:24Z","updated_at":"2020-05-15T10:53:24Z","author_association":"CONTRIBUTOR","body":"> LGTM overall.. If you can throw in a test, like you mentioned, that'd be great.\r\n> \r\n> Also trying to understand the scope of the issue.. without this, does every decimal type conversion fail?\r\n\r\n@vinothchandar every **decimal** conversion does not fail. As I understand from this PR, the NPE would occur when **decimal field** is not a **top level field** in the avro schema, but nested within another type. @rolandjohann is this understanding correct ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629169708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629170944","html_url":"https://github.com/apache/hudi/pull/1596#issuecomment-629170944","issue_url":"https://api.github.com/repos/apache/hudi/issues/1596","id":629170944,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTE3MDk0NA==","user":{"login":"rolandjohann","id":5725466,"node_id":"MDQ6VXNlcjU3MjU0NjY=","avatar_url":"https://avatars.githubusercontent.com/u/5725466?v=4","gravatar_id":"","url":"https://api.github.com/users/rolandjohann","html_url":"https://github.com/rolandjohann","followers_url":"https://api.github.com/users/rolandjohann/followers","following_url":"https://api.github.com/users/rolandjohann/following{/other_user}","gists_url":"https://api.github.com/users/rolandjohann/gists{/gist_id}","starred_url":"https://api.github.com/users/rolandjohann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rolandjohann/subscriptions","organizations_url":"https://api.github.com/users/rolandjohann/orgs","repos_url":"https://api.github.com/users/rolandjohann/repos","events_url":"https://api.github.com/users/rolandjohann/events{/privacy}","received_events_url":"https://api.github.com/users/rolandjohann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T10:56:38Z","updated_at":"2020-05-15T10:57:36Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @umehrot2 is right: only when the field is not at level.\r\nThis happened because the avro schema has been passed to each recursion of the method, but without selecting the actual field whose schema must be passed to the recursion.\r\n\r\nIt seems that there is no one with decimals at nested structs using hudi currently - or at least doesn't report that ;)\r\n\r\nEDIT: @vinothchandar that's great. Time is currently limited, I try to implement a rudimentary test over the weekend. Will keep you updated","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629170944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629173116","html_url":"https://github.com/apache/hudi/pull/1596#issuecomment-629173116","issue_url":"https://api.github.com/repos/apache/hudi/issues/1596","id":629173116,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTE3MzExNg==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T11:02:21Z","updated_at":"2020-05-15T11:02:21Z","author_association":"CONTRIBUTOR","body":"@rolandjohann The fix makes sense to me. Lets add a test for decimal type handling, and make it nested within another type as well. Recently we have tried to exhaustively test as many data types handling as possible, by adding fields with those data types in the schema for test data that Hudi uses across various tests: https://github.com/apache/incubator-hudi/blob/master/hudi-client/src/test/java/org/apache/hudi/common/HoodieTestDataGenerator.java#L95 .  We recently added **Map** and **Array** types test. What you can do is add a **decimal** field to the trip record schema as a nested type. Infact, easy solution with be in **FARE_NESTED_SCHEMA** change the type of **amount** from **double** to **decimal**. **double** is either ways tested through other fields, this would accurately test **decimal** field in **nested** schema.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629173116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629195380","html_url":"https://github.com/apache/hudi/pull/1518#issuecomment-629195380","issue_url":"https://api.github.com/repos/apache/hudi/issues/1518","id":629195380,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTE5NTM4MA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T12:00:27Z","updated_at":"2020-05-15T12:02:21Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1518?src=pr&el=h1) Report\n> Merging [#1518](https://codecov.io/gh/apache/incubator-hudi/pull/1518?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/a64afdfd17ac974e451bceb877f3d40a9c775253&el=desc) will **increase** coverage by `0.06%`.\n> The diff coverage is `94.11%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1518/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/incubator-hudi/pull/1518?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1518      +/-   ##\n============================================\n+ Coverage     71.75%   71.81%   +0.06%     \n- Complexity     1089     1092       +3     \n============================================\n  Files           385      386       +1     \n  Lines         16599    16608       +9     \n  Branches       1668     1667       -1     \n============================================\n+ Hits          11910    11927      +17     \n+ Misses         3962     3955       -7     \n+ Partials        727      726       -1     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1518?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/incubator-hudi/pull/1518/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `73.86% <90.90%> (+1.42%)` | `36.00 <1.00> (-1.00)` | :arrow_up: |\n| [...udi/utilities/schema/DelegatingSchemaProvider.java](https://codecov.io/gh/apache/incubator-hudi/pull/1518/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9EZWxlZ2F0aW5nU2NoZW1hUHJvdmlkZXIuamF2YQ==) | `100.00% <100.00%> (ø)` | `3.00 <3.00> (?)` | |\n| [...src/main/java/org/apache/hudi/metrics/Metrics.java](https://codecov.io/gh/apache/incubator-hudi/pull/1518/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0cmljcy9NZXRyaWNzLmphdmE=) | `67.56% <0.00%> (+10.81%)` | `0.00% <0.00%> (ø%)` | |\n| [...g/apache/hudi/metrics/InMemoryMetricsReporter.java](https://codecov.io/gh/apache/incubator-hudi/pull/1518/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0cmljcy9Jbk1lbW9yeU1ldHJpY3NSZXBvcnRlci5qYXZh) | `80.00% <0.00%> (+40.00%)` | `0.00% <0.00%> (ø%)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1518?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1518?src=pr&el=footer). Last update [a64afdf...8fe14bd](https://codecov.io/gh/apache/incubator-hudi/pull/1518?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629195380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629221132","html_url":"https://github.com/apache/hudi/issues/1630#issuecomment-629221132","issue_url":"https://api.github.com/repos/apache/hudi/issues/1630","id":629221132,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTIyMTEzMg==","user":{"login":"EdwinGuo","id":8300535,"node_id":"MDQ6VXNlcjgzMDA1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/8300535?v=4","gravatar_id":"","url":"https://api.github.com/users/EdwinGuo","html_url":"https://github.com/EdwinGuo","followers_url":"https://api.github.com/users/EdwinGuo/followers","following_url":"https://api.github.com/users/EdwinGuo/following{/other_user}","gists_url":"https://api.github.com/users/EdwinGuo/gists{/gist_id}","starred_url":"https://api.github.com/users/EdwinGuo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdwinGuo/subscriptions","organizations_url":"https://api.github.com/users/EdwinGuo/orgs","repos_url":"https://api.github.com/users/EdwinGuo/repos","events_url":"https://api.github.com/users/EdwinGuo/events{/privacy}","received_events_url":"https://api.github.com/users/EdwinGuo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T12:58:04Z","updated_at":"2020-05-15T12:58:04Z","author_association":"CONTRIBUTOR","body":"Ok, thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629221132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629263967","html_url":"https://github.com/apache/hudi/pull/1558#issuecomment-629263967","issue_url":"https://api.github.com/repos/apache/hudi/issues/1558","id":629263967,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTI2Mzk2Nw==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T14:23:13Z","updated_at":"2020-05-15T14:23:13Z","author_association":"CONTRIBUTOR","body":"@pratyakshsharma still conflicting files","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629263967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629284848","html_url":"https://github.com/apache/hudi/pull/1622#issuecomment-629284848","issue_url":"https://api.github.com/repos/apache/hudi/issues/1622","id":629284848,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTI4NDg0OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T15:04:14Z","updated_at":"2020-05-15T15:04:14Z","author_association":"MEMBER","body":"cc @hddong in case this is a sign of some hardcode ports etc.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629284848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629286244","html_url":"https://github.com/apache/hudi/pull/1596#issuecomment-629286244","issue_url":"https://api.github.com/repos/apache/hudi/issues/1596","id":629286244,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTI4NjI0NA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T15:05:36Z","updated_at":"2020-05-15T15:05:36Z","author_association":"MEMBER","body":"@bhasudha this is a good 0.5.3 candidate.. if we are crunched on time, I can also write the test and push/merge tonight :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629286244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629409990","html_url":"https://github.com/apache/hudi/issues/933#issuecomment-629409990","issue_url":"https://api.github.com/repos/apache/hudi/issues/933","id":629409990,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTQwOTk5MA==","user":{"login":"afeldman1","id":4326577,"node_id":"MDQ6VXNlcjQzMjY1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/4326577?v=4","gravatar_id":"","url":"https://api.github.com/users/afeldman1","html_url":"https://github.com/afeldman1","followers_url":"https://api.github.com/users/afeldman1/followers","following_url":"https://api.github.com/users/afeldman1/following{/other_user}","gists_url":"https://api.github.com/users/afeldman1/gists{/gist_id}","starred_url":"https://api.github.com/users/afeldman1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afeldman1/subscriptions","organizations_url":"https://api.github.com/users/afeldman1/orgs","repos_url":"https://api.github.com/users/afeldman1/repos","events_url":"https://api.github.com/users/afeldman1/events{/privacy}","received_events_url":"https://api.github.com/users/afeldman1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T18:23:36Z","updated_at":"2020-05-15T18:23:36Z","author_association":"NONE","body":"It looks like org.apache.hudi.ComplexKeyGenerator no longer exists. How can multiple columns be used as the partition columns now?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629409990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629410586","html_url":"https://github.com/apache/hudi/issues/933#issuecomment-629410586","issue_url":"https://api.github.com/repos/apache/hudi/issues/933","id":629410586,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTQxMDU4Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T18:25:04Z","updated_at":"2020-05-15T18:25:04Z","author_association":"MEMBER","body":"@afeldman1  We change package names in 0.5.2. Can you please try `org.apache.hudi.keygen.ComplexKeyGenerator`","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629410586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629419001","html_url":"https://github.com/apache/hudi/pull/1538#issuecomment-629419001","issue_url":"https://api.github.com/repos/apache/hudi/issues/1538","id":629419001,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTQxOTAwMQ==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T18:45:16Z","updated_at":"2020-05-15T18:45:16Z","author_association":"CONTRIBUTOR","body":"@vinothchandar We can close this now :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629419001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629430390","html_url":"https://github.com/apache/hudi/pull/1566#issuecomment-629430390","issue_url":"https://api.github.com/repos/apache/hudi/issues/1566","id":629430390,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTQzMDM5MA==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T19:10:04Z","updated_at":"2020-05-15T19:10:04Z","author_association":"CONTRIBUTOR","body":"> @pratyakshsharma : I updated this PR to address comments in the interest of reducing the review cycle time.\r\n\r\nI went through the changes. Looks good. I guess we can close it then or is there anything else to be done here? @bvaradar ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629430390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629443388","html_url":"https://github.com/apache/hudi/pull/1566#issuecomment-629443388","issue_url":"https://api.github.com/repos/apache/hudi/issues/1566","id":629443388,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTQ0MzM4OA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T19:38:55Z","updated_at":"2020-05-15T19:38:55Z","author_association":"CONTRIBUTOR","body":"@pratyakshsharma : Just rebased and did some cleanup.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629443388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629445679","html_url":"https://github.com/apache/hudi/pull/1518#issuecomment-629445679","issue_url":"https://api.github.com/repos/apache/hudi/issues/1518","id":629445679,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTQ0NTY3OQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T19:43:37Z","updated_at":"2020-05-15T19:43:37Z","author_association":"CONTRIBUTOR","body":"Going ahead and merging this change. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629445679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629454559","html_url":"https://github.com/apache/hudi/pull/1524#issuecomment-629454559","issue_url":"https://api.github.com/repos/apache/hudi/issues/1524","id":629454559,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTQ1NDU1OQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T20:00:37Z","updated_at":"2020-05-15T20:00:37Z","author_association":"CONTRIBUTOR","body":"Rebased to get the correct view of the diff","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629454559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629455257","html_url":"https://github.com/apache/hudi/issues/933#issuecomment-629455257","issue_url":"https://api.github.com/repos/apache/hudi/issues/933","id":629455257,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTQ1NTI1Nw==","user":{"login":"afeldman1","id":4326577,"node_id":"MDQ6VXNlcjQzMjY1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/4326577?v=4","gravatar_id":"","url":"https://api.github.com/users/afeldman1","html_url":"https://github.com/afeldman1","followers_url":"https://api.github.com/users/afeldman1/followers","following_url":"https://api.github.com/users/afeldman1/following{/other_user}","gists_url":"https://api.github.com/users/afeldman1/gists{/gist_id}","starred_url":"https://api.github.com/users/afeldman1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afeldman1/subscriptions","organizations_url":"https://api.github.com/users/afeldman1/orgs","repos_url":"https://api.github.com/users/afeldman1/repos","events_url":"https://api.github.com/users/afeldman1/events{/privacy}","received_events_url":"https://api.github.com/users/afeldman1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T20:02:24Z","updated_at":"2020-05-15T20:02:24Z","author_association":"NONE","body":"Thank you! That works. Should this be added to the org.apache.hudi DataSourceOptions.scala?\r\n\r\nRight now it has:\r\n/**\r\n    * Key generator class, that implements will extract the key out of incoming record\r\n    *\r\n    */\r\n  val KEYGENERATOR_CLASS_OPT_KEY = \"hoodie.datasource.write.keygenerator.class\"\r\n  val DEFAULT_KEYGENERATOR_CLASS_OPT_VAL = classOf[SimpleKeyGenerator].getName\r\n\r\nSo we could add (open to opinions on the variable names):\r\nval COMPLEX_KEYGENERATOR_CLASS_OPT_VAL = classOf[ComplexKeyGenerator].getName\r\nval NOPARTITION_KEYGENERATOR_CLASS_OPT_VAL = classOf[NonpartitionedKeyGenerator].getName\r\n\r\n(I saw the no partition option being described in the FAQ wiki you linked to above)\r\n\r\nThis would follow the pattern in the DataSourceWriteOptions object, so that it's easier to see what options are available for the parameter. I haven't contributed to this project yet, but if you agree about this change I can try and add it in.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629455257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629467290","html_url":"https://github.com/apache/hudi/pull/1584#issuecomment-629467290","issue_url":"https://api.github.com/repos/apache/hudi/issues/1584","id":629467290,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTQ2NzI5MA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T20:30:39Z","updated_at":"2020-05-15T20:30:39Z","author_association":"CONTRIBUTOR","body":"@xushiyan : The idea and code changes looks good to me. Can you add a jira ticket and add an unit-test to include this change. It would be great if you could get this to 0.5.3. If you cannot get this today, let me know and I will try to help ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629467290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629472943","html_url":"https://github.com/apache/hudi/pull/1584#issuecomment-629472943","issue_url":"https://api.github.com/repos/apache/hudi/issues/1584","id":629472943,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTQ3Mjk0Mw==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T20:39:10Z","updated_at":"2020-05-15T20:39:10Z","author_association":"MEMBER","body":"Ok @bvaradar thanks for checking. I shall be able to do it in the late afternoon.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629472943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629478392","html_url":"https://github.com/apache/hudi/issues/933#issuecomment-629478392","issue_url":"https://api.github.com/repos/apache/hudi/issues/933","id":629478392,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTQ3ODM5Mg==","user":{"login":"afeldman1","id":4326577,"node_id":"MDQ6VXNlcjQzMjY1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/4326577?v=4","gravatar_id":"","url":"https://api.github.com/users/afeldman1","html_url":"https://github.com/afeldman1","followers_url":"https://api.github.com/users/afeldman1/followers","following_url":"https://api.github.com/users/afeldman1/following{/other_user}","gists_url":"https://api.github.com/users/afeldman1/gists{/gist_id}","starred_url":"https://api.github.com/users/afeldman1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afeldman1/subscriptions","organizations_url":"https://api.github.com/users/afeldman1/orgs","repos_url":"https://api.github.com/users/afeldman1/repos","events_url":"https://api.github.com/users/afeldman1/events{/privacy}","received_events_url":"https://api.github.com/users/afeldman1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T20:54:43Z","updated_at":"2020-05-15T20:54:43Z","author_association":"NONE","body":"Similarly on whether we should add for the hive configuration,\r\n\r\nval HIVE_PARTITION_EXTRACTOR_CLASS_OPT_KEY = \"hoodie.datasource.hive_sync.partition_extractor_class\"\r\n\r\nto add constants for:\r\nclassOf[MultiPartKeysValueExtractor].getCanonicalName\r\nclassOf[NonPartitionedExtractor].getCanonicalName","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629478392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629480819","html_url":"https://github.com/apache/hudi/pull/1514#issuecomment-629480819","issue_url":"https://api.github.com/repos/apache/hudi/issues/1514","id":629480819,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTQ4MDgxOQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T21:00:27Z","updated_at":"2020-05-15T21:00:27Z","author_association":"CONTRIBUTOR","body":"Also pinging @umehrot2 to get your help in reviewing this as you are familiar with this part.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629480819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629521740","html_url":"https://github.com/apache/hudi/pull/1632#issuecomment-629521740","issue_url":"https://api.github.com/repos/apache/hudi/issues/1632","id":629521740,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTUyMTc0MA==","user":{"login":"vingov","id":1142498,"node_id":"MDQ6VXNlcjExNDI0OTg=","avatar_url":"https://avatars.githubusercontent.com/u/1142498?v=4","gravatar_id":"","url":"https://api.github.com/users/vingov","html_url":"https://github.com/vingov","followers_url":"https://api.github.com/users/vingov/followers","following_url":"https://api.github.com/users/vingov/following{/other_user}","gists_url":"https://api.github.com/users/vingov/gists{/gist_id}","starred_url":"https://api.github.com/users/vingov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vingov/subscriptions","organizations_url":"https://api.github.com/users/vingov/orgs","repos_url":"https://api.github.com/users/vingov/repos","events_url":"https://api.github.com/users/vingov/events{/privacy}","received_events_url":"https://api.github.com/users/vingov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T22:08:05Z","updated_at":"2020-05-15T22:08:05Z","author_association":"CONTRIBUTOR","body":"@bhasudha - As we discussed, I've followed the steps to test the docker images using local registry, check out the detailed testing report [here](https://gist.github.com/vingov/347548f2df9af11892c8331123b42967)\r\n\r\nCan you please review and merge this PR?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629521740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629547495","html_url":"https://github.com/apache/hudi/pull/1524#issuecomment-629547495","issue_url":"https://api.github.com/repos/apache/hudi/issues/1524","id":629547495,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTU0NzQ5NQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T23:29:29Z","updated_at":"2020-05-15T23:29:29Z","author_association":"CONTRIBUTOR","body":"@afilipchik : Please take a look.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629547495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629554166","html_url":"https://github.com/apache/hudi/pull/1622#issuecomment-629554166","issue_url":"https://api.github.com/repos/apache/hudi/issues/1622","id":629554166,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTU1NDE2Ng==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T00:01:00Z","updated_at":"2020-05-16T00:01:00Z","author_association":"CONTRIBUTOR","body":"> cc @hddong in case this is a sign of some hardcode ports etc.\r\n\r\nI did look into the cli test code, and not found the hardcode ports and restarted the Travis three times, it is occured occasionally","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629554166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629554509","html_url":"https://github.com/apache/hudi/pull/1514#issuecomment-629554509","issue_url":"https://api.github.com/repos/apache/hudi/issues/1514","id":629554509,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTU1NDUwOQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T00:02:33Z","updated_at":"2020-05-16T00:02:33Z","author_association":"CONTRIBUTOR","body":"@bvaradar @vinothchandar : adding null and default logic looks good to me. Do you folks suggest to create a new Schema altogether to have a neat solution or do it in place with reflection as the patch does as of now. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629554509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629558212","html_url":"https://github.com/apache/hudi/pull/1402#issuecomment-629558212","issue_url":"https://api.github.com/repos/apache/hudi/issues/1402","id":629558212,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTU1ODIxMg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T00:18:30Z","updated_at":"2020-05-16T00:18:30Z","author_association":"CONTRIBUTOR","body":"Squashed all commits to one @vinothchandar ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629558212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629568357","html_url":"https://github.com/apache/hudi/pull/1514#issuecomment-629568357","issue_url":"https://api.github.com/repos/apache/hudi/issues/1514","id":629568357,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTU2ODM1Nw==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T01:24:18Z","updated_at":"2020-05-16T01:24:18Z","author_association":"CONTRIBUTOR","body":"@afilipchik Seems like spark-avro schema convertor itself generates incorrect schema when we want to have **default value** as **null**. Is that the main concern addressed in this PR ? If thats the case, we should avoid using the spark library for conversion all together, and have in-house logic to generate correct schema in the first place.\r\n\r\nAlso, under what scenario do we see failures because of this. Would be good to have a test case that fails currently for better understanding.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629568357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629571160","html_url":"https://github.com/apache/hudi/pull/1633#issuecomment-629571160","issue_url":"https://api.github.com/repos/apache/hudi/issues/1633","id":629571160,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTU3MTE2MA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T01:49:06Z","updated_at":"2020-05-16T01:49:06Z","author_association":"CONTRIBUTOR","body":"@bhasudha : FYI: This is needed for 0.5.3 (cc @vinothchandar )","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629571160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629572248","html_url":"https://github.com/apache/hudi/pull/1634#issuecomment-629572248","issue_url":"https://api.github.com/repos/apache/hudi/issues/1634","id":629572248,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTU3MjI0OA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T01:58:03Z","updated_at":"2020-05-16T01:58:03Z","author_association":"CONTRIBUTOR","body":"@bhasudha : This is another important config change for 0.5.3. I am marking the PR as WIP till I get the tests to succeed. After that, I will make the PR active.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629572248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629576325","html_url":"https://github.com/apache/hudi/pull/1584#issuecomment-629576325","issue_url":"https://api.github.com/repos/apache/hudi/issues/1584","id":629576325,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTU3NjMyNQ==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T02:36:18Z","updated_at":"2020-05-16T02:36:18Z","author_association":"MEMBER","body":"@bvaradar The CI passed. It's ready for review now. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629576325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629586033","html_url":"https://github.com/apache/hudi/pull/1635#issuecomment-629586033","issue_url":"https://api.github.com/repos/apache/hudi/issues/1635","id":629586033,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTU4NjAzMw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T04:22:40Z","updated_at":"2020-05-16T04:22:40Z","author_association":"MEMBER","body":"Please land.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629586033/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629587320","html_url":"https://github.com/apache/hudi/pull/1623#issuecomment-629587320","issue_url":"https://api.github.com/repos/apache/hudi/issues/1623","id":629587320,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTU4NzMyMA==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T04:38:53Z","updated_at":"2020-05-16T04:38:53Z","author_association":"MEMBER","body":"@bvaradar I found this doc saying the linux system has 7.5Gb memory https://docs.travis-ci.com/user/reference/overview/#virtualisation-environment-vs-operating-system\r\n\r\nThen i did a quick experiment to see the heap usage with the same surefire setup in this test repo\r\nhttps://github.com/xushiyan/travis-work/blob/b47bf508a8b46429b3c302f7222073c279d4e964/pom.xml#L51\r\n\r\nWith the debug output, we can see the `argLine` is indeed applied to surefire\r\nhttps://travis-ci.org/github/xushiyan/travis-work/jobs/687693986#L2622\r\n\r\nAnd the test is allow to go up to 3616.5 mb on heap size\r\nhttps://travis-ci.org/github/xushiyan/travis-work/jobs/687693986#L2625\r\n\r\nSo i think we should be good with 2g max heap ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629587320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629598373","html_url":"https://github.com/apache/hudi/pull/1622#issuecomment-629598373","issue_url":"https://api.github.com/repos/apache/hudi/issues/1622","id":629598373,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTU5ODM3Mw==","user":{"login":"hddong","id":17537134,"node_id":"MDQ6VXNlcjE3NTM3MTM0","avatar_url":"https://avatars.githubusercontent.com/u/17537134?v=4","gravatar_id":"","url":"https://api.github.com/users/hddong","html_url":"https://github.com/hddong","followers_url":"https://api.github.com/users/hddong/followers","following_url":"https://api.github.com/users/hddong/following{/other_user}","gists_url":"https://api.github.com/users/hddong/gists{/gist_id}","starred_url":"https://api.github.com/users/hddong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hddong/subscriptions","organizations_url":"https://api.github.com/users/hddong/orgs","repos_url":"https://api.github.com/users/hddong/repos","events_url":"https://api.github.com/users/hddong/events{/privacy}","received_events_url":"https://api.github.com/users/hddong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T06:47:23Z","updated_at":"2020-05-16T06:47:23Z","author_association":"CONTRIBUTOR","body":"@vinothchandar  as @leesf said, it's occured occasionally .  I think It maybe due to miniDFS, it has service which use random port (like NameNode RPC) when starting.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629598373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629600461","html_url":"https://github.com/apache/hudi/pull/1624#issuecomment-629600461","issue_url":"https://api.github.com/repos/apache/hudi/issues/1624","id":629600461,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTYwMDQ2MQ==","user":{"login":"hddong","id":17537134,"node_id":"MDQ6VXNlcjE3NTM3MTM0","avatar_url":"https://avatars.githubusercontent.com/u/17537134?v=4","gravatar_id":"","url":"https://api.github.com/users/hddong","html_url":"https://github.com/hddong","followers_url":"https://api.github.com/users/hddong/followers","following_url":"https://api.github.com/users/hddong/following{/other_user}","gists_url":"https://api.github.com/users/hddong/gists{/gist_id}","starred_url":"https://api.github.com/users/hddong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hddong/subscriptions","organizations_url":"https://api.github.com/users/hddong/orgs","repos_url":"https://api.github.com/users/hddong/repos","events_url":"https://api.github.com/users/hddong/events{/privacy}","received_events_url":"https://api.github.com/users/hddong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T07:08:09Z","updated_at":"2020-05-16T07:08:09Z","author_association":"CONTRIBUTOR","body":"@leesf : Thanks for your review, had address them and rebase to master.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629600461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629603595","html_url":"https://github.com/apache/hudi/pull/1622#issuecomment-629603595","issue_url":"https://api.github.com/repos/apache/hudi/issues/1622","id":629603595,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTYwMzU5NQ==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T07:41:10Z","updated_at":"2020-05-16T07:41:10Z","author_association":"CONTRIBUTOR","body":"I am OK with the changes, as discussed above, any other concern here? cc @vinothchandar ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629603595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629604493","html_url":"https://github.com/apache/hudi/pull/1624#issuecomment-629604493","issue_url":"https://api.github.com/repos/apache/hudi/issues/1624","id":629604493,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTYwNDQ5Mw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T07:49:08Z","updated_at":"2020-05-17T15:12:25Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1624?src=pr&el=h1) Report\n> Merging [#1624](https://codecov.io/gh/apache/incubator-hudi/pull/1624?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/2ada2ef50fc373ed3083d0e7a96e5e644be52bfb&el=desc) will **decrease** coverage by `0.01%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1624/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/incubator-hudi/pull/1624?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1624      +/-   ##\n============================================\n- Coverage     16.72%   16.71%   -0.02%     \n+ Complexity      796      795       -1     \n============================================\n  Files           340      340              \n  Lines         15030    15030              \n  Branches       1499     1499              \n============================================\n- Hits           2514     2512       -2     \n- Misses        12186    12188       +2     \n  Partials        330      330              \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1624?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...apache/hudi/common/fs/HoodieWrapperFileSystem.java](https://codecov.io/gh/apache/incubator-hudi/pull/1624/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL0hvb2RpZVdyYXBwZXJGaWxlU3lzdGVtLmphdmE=) | `21.98% <0.00%> (-0.71%)` | `28.00% <0.00%> (-1.00%)` | |\n| [...src/main/java/org/apache/hudi/DataSourceUtils.java](https://codecov.io/gh/apache/incubator-hudi/pull/1624/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9EYXRhU291cmNlVXRpbHMuamF2YQ==) | `32.32% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...in/java/org/apache/hudi/table/WorkloadProfile.java](https://codecov.io/gh/apache/incubator-hudi/pull/1624/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvV29ya2xvYWRQcm9maWxlLmphdmE=) | `87.50% <0.00%> (ø)` | `9.00% <0.00%> (ø%)` | |\n| [...n/java/org/apache/hudi/common/model/HoodieKey.java](https://codecov.io/gh/apache/incubator-hudi/pull/1624/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZUtleS5qYXZh) | `38.88% <0.00%> (ø)` | `4.00% <0.00%> (ø%)` | |\n| [.../apache/hudi/client/AbstractHoodieWriteClient.java](https://codecov.io/gh/apache/incubator-hudi/pull/1624/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L0Fic3RyYWN0SG9vZGllV3JpdGVDbGllbnQuamF2YQ==) | `52.83% <0.00%> (ø)` | `13.00% <0.00%> (ø%)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1624?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1624?src=pr&el=footer). Last update [2ada2ef...91cbc59](https://codecov.io/gh/apache/incubator-hudi/pull/1624?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629604493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629607261","html_url":"https://github.com/apache/hudi/pull/1623#issuecomment-629607261","issue_url":"https://api.github.com/repos/apache/hudi/issues/1623","id":629607261,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTYwNzI2MQ==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T08:10:30Z","updated_at":"2020-05-16T08:10:30Z","author_association":"CONTRIBUTOR","body":"Thanks @xushiyan for the information.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629607261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629607383","html_url":"https://github.com/apache/hudi/pull/1623#issuecomment-629607383","issue_url":"https://api.github.com/repos/apache/hudi/issues/1623","id":629607383,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTYwNzM4Mw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T08:11:41Z","updated_at":"2020-05-16T08:11:41Z","author_association":"CONTRIBUTOR","body":"So,  we have some room to increase memory if needed.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629607383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629611183","html_url":"https://github.com/apache/hudi/pull/1636#issuecomment-629611183","issue_url":"https://api.github.com/repos/apache/hudi/issues/1636","id":629611183,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTYxMTE4Mw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T08:46:11Z","updated_at":"2020-05-16T08:46:11Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1636?src=pr&el=h1) Report\n> Merging [#1636](https://codecov.io/gh/apache/incubator-hudi/pull/1636?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/25e0b75b3d03b6d460dc18d1a5fce7b881b0e019&el=desc) will **increase** coverage by `0.11%`.\n> The diff coverage is `85.71%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1636/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/incubator-hudi/pull/1636?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #1636      +/-   ##\n============================================\n+ Coverage     71.81%   71.92%   +0.11%     \n- Complexity     1092     1094       +2     \n============================================\n  Files           386      386              \n  Lines         16608    16610       +2     \n  Branches       1667     1667              \n============================================\n+ Hits          11927    11947      +20     \n+ Misses         3955     3940      -15     \n+ Partials        726      723       -3     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1636?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../hudi/common/table/view/FileSystemViewManager.java](https://codecov.io/gh/apache/incubator-hudi/pull/1636/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3ZpZXcvRmlsZVN5c3RlbVZpZXdNYW5hZ2VyLmphdmE=) | `81.03% <82.35%> (+1.72%)` | `7.00 <5.00> (+1.00)` | |\n| [...java/org/apache/hudi/client/HoodieWriteClient.java](https://codecov.io/gh/apache/incubator-hudi/pull/1636/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L0hvb2RpZVdyaXRlQ2xpZW50LmphdmE=) | `72.51% <100.00%> (-0.39%)` | `12.00 <0.00> (ø)` | |\n| [...c/main/java/org/apache/hudi/table/HoodieTable.java](https://codecov.io/gh/apache/incubator-hudi/pull/1636/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvSG9vZGllVGFibGUuamF2YQ==) | `83.46% <100.00%> (ø)` | `22.00 <2.00> (ø)` | |\n| [.../org/apache/hudi/utilities/sources/InputBatch.java](https://codecov.io/gh/apache/incubator-hudi/pull/1636/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSW5wdXRCYXRjaC5qYXZh) | `95.00% <0.00%> (-5.00%)` | `7.00% <0.00%> (+1.00%)` | :arrow_down: |\n| [...apache/hudi/common/util/collection/RocksDBDAO.java](https://codecov.io/gh/apache/incubator-hudi/pull/1636/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvY29sbGVjdGlvbi9Sb2Nrc0RCREFPLmphdmE=) | `75.41% <0.00%> (+0.55%)` | `0.00% <0.00%> (ø%)` | |\n| [...e/hudi/timeline/service/FileSystemViewHandler.java](https://codecov.io/gh/apache/incubator-hudi/pull/1636/diff?src=pr&el=tree#diff-aHVkaS10aW1lbGluZS1zZXJ2aWNlL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3RpbWVsaW5lL3NlcnZpY2UvRmlsZVN5c3RlbVZpZXdIYW5kbGVyLmphdmE=) | `92.48% <0.00%> (+2.34%)` | `0.00% <0.00%> (ø%)` | |\n| [...on/table/view/RemoteHoodieTableFileSystemView.java](https://codecov.io/gh/apache/incubator-hudi/pull/1636/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3ZpZXcvUmVtb3RlSG9vZGllVGFibGVGaWxlU3lzdGVtVmlldy5qYXZh) | `81.96% <0.00%> (+4.37%)` | `0.00% <0.00%> (ø%)` | |\n| [...a/org/apache/hudi/common/util/ValidationUtils.java](https://codecov.io/gh/apache/incubator-hudi/pull/1636/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvVmFsaWRhdGlvblV0aWxzLmphdmE=) | `61.53% <0.00%> (+15.38%)` | `4.00% <0.00%> (ø%)` | |\n| [...g/apache/hudi/exception/HoodieRemoteException.java](https://codecov.io/gh/apache/incubator-hudi/pull/1636/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvZXhjZXB0aW9uL0hvb2RpZVJlbW90ZUV4Y2VwdGlvbi5qYXZh) | `100.00% <0.00%> (+100.00%)` | `0.00% <0.00%> (ø%)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1636?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1636?src=pr&el=footer). Last update [25e0b75...bdb3ea4](https://codecov.io/gh/apache/incubator-hudi/pull/1636?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629611183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629611515","html_url":"https://github.com/apache/hudi/pull/1634#issuecomment-629611515","issue_url":"https://api.github.com/repos/apache/hudi/issues/1634","id":629611515,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTYxMTUxNQ==","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T08:49:30Z","updated_at":"2020-05-16T08:49:30Z","author_association":"CONTRIBUTOR","body":"> @bhasudha : This is another important config change for 0.5.3. I am marking the PR as WIP till I get the tests to succeed. After that, I will make the PR active.\r\n\r\nack. Thanks @bvaradar \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629611515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629611601","html_url":"https://github.com/apache/hudi/pull/1633#issuecomment-629611601","issue_url":"https://api.github.com/repos/apache/hudi/issues/1633","id":629611601,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTYxMTYwMQ==","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T08:50:19Z","updated_at":"2020-05-16T08:50:19Z","author_association":"CONTRIBUTOR","body":"> @bhasudha : FYI: This is needed for 0.5.3 (cc @vinothchandar )\r\n\r\nack. I ll pick it up in 0.5.3 once landed.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629611601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629635421","html_url":"https://github.com/apache/hudi/pull/1597#issuecomment-629635421","issue_url":"https://api.github.com/repos/apache/hudi/issues/1597","id":629635421,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTYzNTQyMQ==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T12:05:40Z","updated_at":"2020-05-16T12:05:40Z","author_association":"CONTRIBUTOR","body":"> @pratyakshsharma in the meantime, if you want to absorb this into #1433 , we can do that as well. Assuming @allenerb does not mind..\r\n\r\n@vinothchandar ok, let me see if I can find time to do this. Already occupied now with my other PRs which are already open. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629635421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629639575","html_url":"https://github.com/apache/hudi/pull/1611#issuecomment-629639575","issue_url":"https://api.github.com/repos/apache/hudi/issues/1611","id":629639575,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTYzOTU3NQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T12:39:50Z","updated_at":"2020-05-16T12:39:50Z","author_association":"CONTRIBUTOR","body":"@yanghua : thanks for taking it over. Will leave it to you to review this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629639575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629640734","html_url":"https://github.com/apache/hudi/pull/1514#issuecomment-629640734","issue_url":"https://api.github.com/repos/apache/hudi/issues/1514","id":629640734,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTY0MDczNA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T12:48:13Z","updated_at":"2020-05-16T12:48:13Z","author_association":"CONTRIBUTOR","body":"thanks Udit. I have no idea why I didn't review it fully. I just reviewed the HoodieAvroConversionUtils and thought there will be a follow up PR to integrate and write tests. my bad. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629640734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629688282","html_url":"https://github.com/apache/hudi/pull/1558#issuecomment-629688282","issue_url":"https://api.github.com/repos/apache/hudi/issues/1558","id":629688282,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTY4ODI4Mg==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T18:30:54Z","updated_at":"2020-05-16T18:30:54Z","author_association":"CONTRIBUTOR","body":"@yanghua I am unable to run integration tests defined in hudi-cli package on my local. One of the tests from ITTestRepairsCommand is continuously failing in travis build. Need help here. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629688282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629699444","html_url":"https://github.com/apache/hudi/pull/1558#issuecomment-629699444","issue_url":"https://api.github.com/repos/apache/hudi/issues/1558","id":629699444,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTY5OTQ0NA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T20:06:36Z","updated_at":"2020-05-16T20:07:23Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1558?src=pr&el=h1) Report\n> Merging [#1558](https://codecov.io/gh/apache/incubator-hudi/pull/1558?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-hudi/commit/a64afdfd17ac974e451bceb877f3d40a9c775253&el=desc) will **decrease** coverage by `55.03%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-hudi/pull/1558/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/incubator-hudi/pull/1558?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #1558       +/-   ##\n=============================================\n- Coverage     71.75%   16.71%   -55.04%     \n+ Complexity     1089      795      -294     \n=============================================\n  Files           385      340       -45     \n  Lines         16599    15030     -1569     \n  Branches       1668     1499      -169     \n=============================================\n- Hits          11910     2512     -9398     \n- Misses         3962    12188     +8226     \n+ Partials        727      330      -397     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-hudi/pull/1558?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...n/java/org/apache/hudi/io/AppendHandleFactory.java](https://codecov.io/gh/apache/incubator-hudi/pull/1558/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW8vQXBwZW5kSGFuZGxlRmFjdG9yeS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (ø%)` | |\n| [.../java/org/apache/hudi/client/HoodieReadClient.java](https://codecov.io/gh/apache/incubator-hudi/pull/1558/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpZW50L0hvb2RpZVJlYWRDbGllbnQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (ø%)` | |\n| [.../java/org/apache/hudi/metrics/MetricsReporter.java](https://codecov.io/gh/apache/incubator-hudi/pull/1558/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0cmljcy9NZXRyaWNzUmVwb3J0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (ø%)` | |\n| [.../java/org/apache/hudi/common/model/ActionType.java](https://codecov.io/gh/apache/incubator-hudi/pull/1558/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0FjdGlvblR5cGUuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (ø%)` | |\n| [...java/org/apache/hudi/io/HoodieRangeInfoHandle.java](https://codecov.io/gh/apache/incubator-hudi/pull/1558/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW8vSG9vZGllUmFuZ2VJbmZvSGFuZGxlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (ø%)` | |\n| [.../java/org/apache/hudi/hadoop/InputPathHandler.java](https://codecov.io/gh/apache/incubator-hudi/pull/1558/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL0lucHV0UGF0aEhhbmRsZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (ø%)` | |\n| [...a/org/apache/hudi/exception/HoodieIOException.java](https://codecov.io/gh/apache/incubator-hudi/pull/1558/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvZXhjZXB0aW9uL0hvb2RpZUlPRXhjZXB0aW9uLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (ø%)` | |\n| [...org/apache/hudi/table/action/commit/SmallFile.java](https://codecov.io/gh/apache/incubator-hudi/pull/1558/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdGFibGUvYWN0aW9uL2NvbW1pdC9TbWFsbEZpbGUuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (ø%)` | |\n| [...rg/apache/hudi/index/bloom/KeyRangeLookupTree.java](https://codecov.io/gh/apache/incubator-hudi/pull/1558/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW5kZXgvYmxvb20vS2V5UmFuZ2VMb29rdXBUcmVlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (ø%)` | |\n| [...g/apache/hudi/exception/HoodieInsertException.java](https://codecov.io/gh/apache/incubator-hudi/pull/1558/diff?src=pr&el=tree#diff-aHVkaS1jbGllbnQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvZXhjZXB0aW9uL0hvb2RpZUluc2VydEV4Y2VwdGlvbi5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (ø%)` | |\n| ... and [305 more](https://codecov.io/gh/apache/incubator-hudi/pull/1558/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1558?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-hudi/pull/1558?src=pr&el=footer). Last update [a64afdf...838382a](https://codecov.io/gh/apache/incubator-hudi/pull/1558?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629699444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629700671","html_url":"https://github.com/apache/hudi/pull/1558#issuecomment-629700671","issue_url":"https://api.github.com/repos/apache/hudi/issues/1558","id":629700671,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTcwMDY3MQ==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T20:17:51Z","updated_at":"2020-05-16T20:17:51Z","author_association":"CONTRIBUTOR","body":"Wondering why is this codecov report all red. Why is it into account files which are not modified in this PR? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629700671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629701009","html_url":"https://github.com/apache/hudi/pull/1562#issuecomment-629701009","issue_url":"https://api.github.com/repos/apache/hudi/issues/1562","id":629701009,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTcwMTAwOQ==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T20:21:32Z","updated_at":"2020-05-16T20:21:32Z","author_association":"CONTRIBUTOR","body":"@n3nash please take a look. It is good to merge now. All the comments are addressed. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629701009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629702325","html_url":"https://github.com/apache/hudi/pull/1572#issuecomment-629702325","issue_url":"https://api.github.com/repos/apache/hudi/issues/1572","id":629702325,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTcwMjMyNQ==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T20:33:34Z","updated_at":"2020-05-16T20:33:34Z","author_association":"MEMBER","body":"@yanghua CI passed. Also updated #1603 for the newly added config. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629702325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629712980","html_url":"https://github.com/apache/hudi/pull/1603#issuecomment-629712980","issue_url":"https://api.github.com/repos/apache/hudi/issues/1603","id":629712980,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTcxMjk4MA==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-16T22:16:58Z","updated_at":"2020-05-22T16:56:51Z","author_association":"MEMBER","body":"@yanghua This is ready for review now. But not sure if the merging is blocked by generating 0.5.3 docs as this is for 0.6.0 docs.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629712980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629781283","html_url":"https://github.com/apache/hudi/pull/1592#issuecomment-629781283","issue_url":"https://api.github.com/repos/apache/hudi/issues/1592","id":629781283,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTc4MTI4Mw==","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-17T11:21:15Z","updated_at":"2020-05-17T11:21:15Z","author_association":"CONTRIBUTOR","body":"@garyli1019  taking a look at the PR. will get back soon. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629781283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629787509","html_url":"https://github.com/apache/hudi/pull/1433#issuecomment-629787509","issue_url":"https://api.github.com/repos/apache/hudi/issues/1433","id":629787509,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTc4NzUwOQ==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-17T12:14:27Z","updated_at":"2020-05-17T12:14:27Z","author_association":"CONTRIBUTOR","body":"@nsivabalan I have tried to include the changes from https://github.com/apache/incubator-hudi/pull/1597 as well in this. Please take a pass.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629787509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629788395","html_url":"https://github.com/apache/hudi/pull/1597#issuecomment-629788395","issue_url":"https://api.github.com/repos/apache/hudi/issues/1597","id":629788395,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTc4ODM5NQ==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-17T12:21:12Z","updated_at":"2020-05-17T12:21:12Z","author_association":"CONTRIBUTOR","body":"Have included the changes from this PR into https://github.com/apache/incubator-hudi/pull/1433. \r\nI guess we can close this now @bhasudha @vinothchandar ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629788395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629790932","html_url":"https://github.com/apache/hudi/issues/1625#issuecomment-629790932","issue_url":"https://api.github.com/repos/apache/hudi/issues/1625","id":629790932,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTc5MDkzMg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-17T12:43:39Z","updated_at":"2020-05-17T13:14:08Z","author_association":"CONTRIBUTOR","body":"@rolandjohann : I couldn't repro the ever growing hudi table. May be I am missing something. Can you try my below code and let us know what do you see. \r\n@bvaradar : Could you think of any reason why roland is seeing the every growing hudi table ?\r\n\r\nMy initial insert (100k records) took 14Mb in hudi. \r\nsingle batch of update(2k records) disk size if I write in parquet directly = 165kb. \r\n\r\nHere are my disk sizes after same batch updates repeatedly.\r\n\r\n| Round No | Total disk size (du -s -h basePath)|\r\n|----------|----------------------------------|\r\n|    1 | 23Mb |\r\n|2 | 24 Mb |\r\n| 3| 34 Mb |\r\n|4 | 35Mb |\r\n| 5 | 46Mb |\r\n| 6 | 46Mb |\r\n| 7 | 43Mb |\r\n| 8 | 44Mb |\r\n| 9 | 43Mb |\r\n| 10 | 44Mb |\r\n| 11 | 45Mb|\r\n| 12 | 46Mb |\r\n\r\n\r\nCode to reproduce: \r\n\r\n```\r\n// spark-shell\r\nspark-2.4.4-bin-hadoop2.7/bin/spark-shell \\\r\n  --packages org.apache.hudi:hudi-spark-bundle_2.11:0.5.1-incubating,org.apache.spark:spark-avro_2.11:2.4.4 \\\r\n  --conf 'spark.serializer=org.apache.spark.serializer.KryoSerializer'\r\n```\r\n```\r\nimport org.apache.hudi.QuickstartUtils._\r\nimport scala.collection.JavaConversions._\r\nimport org.apache.spark.sql.SaveMode._\r\nimport org.apache.hudi.DataSourceReadOptions._\r\nimport org.apache.hudi.DataSourceWriteOptions._\r\nimport org.apache.hudi.config.HoodieWriteConfig._\r\n\r\nval tableName = \"hudi_trips_mor\"\r\nval basePath = \"file:///tmp/hudi_trips_mor\"\r\nval basePathParquet = \"file:///tmp/parquet\"\r\nval dataGen = new DataGenerator\r\n\r\nval inserts = convertToStringList(dataGen.generateInserts(100000))\r\nval dfInsert = spark.read.json(spark.sparkContext.parallelize(inserts, 10))\r\ndfInsert.write.format(\"hudi\").options(getQuickstartWriteConfigs).option(PRECOMBINE_FIELD_OPT_KEY, \"ts\").option(RECORDKEY_FIELD_OPT_KEY, \"uuid\").option(PARTITIONPATH_FIELD_OPT_KEY, \"partitionpath\").option(STORAGE_TYPE_OPT_KEY, \"MERGE_ON_READ\").option(TABLE_NAME, tableName).mode(Append).save(basePath)\r\n\r\nval updates = convertToStringList(dataGen.generateUpdates(2000))\r\nval dfUpdates = spark.read.json(spark.sparkContext.parallelize(updates, 2))\r\n\r\ndfUpdates.coalesce(1).write.format(\"parquet\").mode(Append).save(basePathParquet)\r\n\r\ndfUpdates.coalesce(1).write.format(\"org.apache.hudi\").option(\"hoodie.insert.shuffle.parallelism\", \"2\").option(\"hoodie.upsert.shuffle.parallelism\", \"2\").option(\"hoodie.cleaner.commits.retained\", \"3\").option(\"hoodie.cleaner.fileversions.retained\", \"2\").option(\"hoodie.compact.inline\", \"true\").option(\"hoodie.compact.inline.max.delta.commits\", \"2\").option(OPERATION_OPT_KEY, UPSERT_OPERATION_OPT_VAL).option(TABLE_TYPE_OPT_KEY, MOR_TABLE_TYPE_OPT_VAL) .option(RECORDKEY_FIELD_OPT_KEY, \"uuid\").option(PARTITIONPATH_FIELD_OPT_KEY, \"partitionpath\").option(PRECOMBINE_FIELD_OPT_KEY, \"ts\").option(TABLE_NAME, tableName).mode(Append).save(basePath)\r\n\r\ndfUpdates.coalesce(1).write.format(\"org.apache.hudi\").option(\"hoodie.insert.shuffle.parallelism\", \"2\").option(\"hoodie.upsert.shuffle.parallelism\", \"2\").option(\"hoodie.cleaner.commits.retained\", \"3\").option(\"hoodie.cleaner.fileversions.retained\", \"2\").option(\"hoodie.compact.inline\", \"true\").option(\"hoodie.compact.inline.max.delta.commits\", \"2\").option(OPERATION_OPT_KEY, UPSERT_OPERATION_OPT_VAL).option(TABLE_TYPE_OPT_KEY, MOR_TABLE_TYPE_OPT_VAL) .option(RECORDKEY_FIELD_OPT_KEY, \"uuid\").option(PARTITIONPATH_FIELD_OPT_KEY, \"partitionpath\").option(PRECOMBINE_FIELD_OPT_KEY, \"ts\").option(TABLE_NAME, tableName).mode(Append).save(basePath)\r\n```\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629790932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629811530","html_url":"https://github.com/apache/hudi/pull/1565#issuecomment-629811530","issue_url":"https://api.github.com/repos/apache/hudi/issues/1565","id":629811530,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTgxMTUzMA==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-17T14:57:21Z","updated_at":"2020-05-17T14:57:21Z","author_association":"CONTRIBUTOR","body":"So handling schema evolutions without schema-registry is going to be really tricky. I tried googling around this stuff, and found the below 2 links. These might be useful in what we want to achieve - \r\n\r\n1. https://stackoverflow.com/questions/37290303/producing-and-consuming-avro-messages-from-kafka-without-confluent-components\r\n2. https://github.com/farmdawgnation/registryless-avro-converter\r\n\r\nParticularly the second repository aims at serializing and deserializing avro data without schema-registry using Confluent and Avro libraries. At a high level, it looks like they are also not handling schema evolution in their code. I would need some time to go through it in depth though. \r\nAlso if you see the description of jira (https://issues.apache.org/jira/browse/HUDI-73), it mentions integration of AvroKafkaSource with FilebasedSchemaProvider (which is what is done in this PR :) ). If we really want to integrate it with FilebasedSchemaProvider, then I do not think it is feasible to handle schema evolution, since as a user, one cannot keep on changing schema files on every evolution. Thoughts? @vinothchandar ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629811530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629812714","html_url":"https://github.com/apache/hudi/pull/1592#issuecomment-629812714","issue_url":"https://api.github.com/repos/apache/hudi/issues/1592","id":629812714,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTgxMjcxNA==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-17T15:05:57Z","updated_at":"2020-05-17T15:05:57Z","author_association":"MEMBER","body":"@garyli1019 sadly to see this weird NPE persists. It would be helpful to have debug mode in travis and ssh into the container and then investigate.\r\n\r\nhttps://docs.travis-ci.com/user/running-build-in-debug-mode/#enabling-debug-mode\r\n\r\n> For public repositories, we have to enable it on a repository basis.\r\nTo enable debug for your public repositories, please email us at support@travis-ci.com and let us know which repositories you want activated.\r\n\r\n@bhasudha @vinothchandar This is difficult to troubleshoot as local test is passing..as the docs described, could we try to enable this debugging feature?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629812714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629844386","html_url":"https://github.com/apache/hudi/pull/1633#issuecomment-629844386","issue_url":"https://api.github.com/repos/apache/hudi/issues/1633","id":629844386,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTg0NDM4Ng==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-17T18:59:32Z","updated_at":"2020-05-17T18:59:32Z","author_association":"CONTRIBUTOR","body":"@leesf : Addressed review comments.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/629844386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]