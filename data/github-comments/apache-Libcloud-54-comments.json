[{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/950398383","html_url":"https://github.com/apache/libcloud/issues/1594#issuecomment-950398383","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1594","id":950398383,"node_id":"IC_kwDOAAZm4844pe2v","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-24T21:31:36Z","updated_at":"2021-10-24T21:41:55Z","author_association":"MEMBER","body":"Since Python 3.5 is EOL for more than a year now (https://endoflife.date/python), I think it's reasonable for us to drop support for it in the release after the next one.\r\n\r\nNext one will be 3.4.0 and should go out this year and the one after that will be 3.5.0 and will likely go out some time next year.\r\n\r\nWhat do other people think? /cc @c-w @vdloo @tonybaloney @micafer @RunOrVeith\r\n\r\nEDIT: Per package download stats (https://pypistats.org/packages/apache-libcloud), Python 3.5, on average, represents less than 2% of daily downloads.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/950398383/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/950398517","html_url":"https://github.com/apache/libcloud/issues/1594#issuecomment-950398517","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1594","id":950398517,"node_id":"IC_kwDOAAZm4844pe41","user":{"login":"tonybaloney","id":1532417,"node_id":"MDQ6VXNlcjE1MzI0MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1532417?v=4","gravatar_id":"","url":"https://api.github.com/users/tonybaloney","html_url":"https://github.com/tonybaloney","followers_url":"https://api.github.com/users/tonybaloney/followers","following_url":"https://api.github.com/users/tonybaloney/following{/other_user}","gists_url":"https://api.github.com/users/tonybaloney/gists{/gist_id}","starred_url":"https://api.github.com/users/tonybaloney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonybaloney/subscriptions","organizations_url":"https://api.github.com/users/tonybaloney/orgs","repos_url":"https://api.github.com/users/tonybaloney/repos","events_url":"https://api.github.com/users/tonybaloney/events{/privacy}","received_events_url":"https://api.github.com/users/tonybaloney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-24T21:32:32Z","updated_at":"2021-10-24T21:32:32Z","author_association":"CONTRIBUTOR","body":"> Since Python 3.5 is EOL for more than a year now (https://endoflife.date/python), I think it's reasonable for us to drop support for it in the release after the next one.\n> \n> \n> \n> Next one will be 3.4.0 and should go out this year and the one after that will be 3.5.0 and will likely go out some time next year.\n> \n> \n> \n> What do other people think? /cc @c-w @vdloo @tonybaloney @micafer @RunOrVeith\n\n100% ","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/950398517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/950539639","html_url":"https://github.com/apache/libcloud/issues/1594#issuecomment-950539639","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1594","id":950539639,"node_id":"IC_kwDOAAZm4844qBV3","user":{"login":"vdloo","id":1437341,"node_id":"MDQ6VXNlcjE0MzczNDE=","avatar_url":"https://avatars.githubusercontent.com/u/1437341?v=4","gravatar_id":"","url":"https://api.github.com/users/vdloo","html_url":"https://github.com/vdloo","followers_url":"https://api.github.com/users/vdloo/followers","following_url":"https://api.github.com/users/vdloo/following{/other_user}","gists_url":"https://api.github.com/users/vdloo/gists{/gist_id}","starred_url":"https://api.github.com/users/vdloo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vdloo/subscriptions","organizations_url":"https://api.github.com/users/vdloo/orgs","repos_url":"https://api.github.com/users/vdloo/repos","events_url":"https://api.github.com/users/vdloo/events{/privacy}","received_events_url":"https://api.github.com/users/vdloo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T05:24:57Z","updated_at":"2021-10-25T05:24:57Z","author_association":"MEMBER","body":"sounds good, people can pin the 3.4.0 release if they still need to run on python 3.5 :+1: ","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/950539639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/950565412","html_url":"https://github.com/apache/libcloud/issues/1594#issuecomment-950565412","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1594","id":950565412,"node_id":"IC_kwDOAAZm4844qHok","user":{"login":"micafer","id":4972699,"node_id":"MDQ6VXNlcjQ5NzI2OTk=","avatar_url":"https://avatars.githubusercontent.com/u/4972699?v=4","gravatar_id":"","url":"https://api.github.com/users/micafer","html_url":"https://github.com/micafer","followers_url":"https://api.github.com/users/micafer/followers","following_url":"https://api.github.com/users/micafer/following{/other_user}","gists_url":"https://api.github.com/users/micafer/gists{/gist_id}","starred_url":"https://api.github.com/users/micafer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/micafer/subscriptions","organizations_url":"https://api.github.com/users/micafer/orgs","repos_url":"https://api.github.com/users/micafer/repos","events_url":"https://api.github.com/users/micafer/events{/privacy}","received_events_url":"https://api.github.com/users/micafer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T06:16:21Z","updated_at":"2021-10-25T06:16:21Z","author_association":"CONTRIBUTOR","body":"I fully agree.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/950565412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/950636644","html_url":"https://github.com/apache/libcloud/issues/1591#issuecomment-950636644","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1591","id":950636644,"node_id":"IC_kwDOAAZm4844qZBk","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T08:04:26Z","updated_at":"2021-10-25T08:04:26Z","author_association":"MEMBER","body":"How do you think we should handle this scenario better?\r\n\r\nAdding ``ex_auth_dont_contact_metadata_server`` argument to the driver constructor (I'm not a big fan of additional arguments, so ideally we should come up with a better out of the box approach)?\r\n\r\nOr is there is a way for is to detect if oauth type of credentials are used and moving that if clause before ``elif cls._is_gce()``?\r\n\r\nIf none of that is possible / makes sense we could perhaps also decrease number of retries + timeout for that ``elif cls._is_gce()`` code path to mitigate that problem a bit at least.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/950636644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/950747788","html_url":"https://github.com/apache/libcloud/pull/1620#issuecomment-950747788","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1620","id":950747788,"node_id":"IC_kwDOAAZm4844q0KM","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T10:02:24Z","updated_at":"2021-11-10T18:17:34Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/libcloud/pull/1620?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#1620](https://codecov.io/gh/apache/libcloud/pull/1620?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (a1e148d) into [trunk](https://codecov.io/gh/apache/libcloud/commit/2c3e38087e18de9f452e856d10fdf8ccc5c8b926?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (2c3e380) will **not change** coverage.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/libcloud/pull/1620/graphs/tree.svg?width=650&height=150&src=pr&token=PYoduksh69&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/libcloud/pull/1620?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@           Coverage Diff           @@\n##            trunk    #1620   +/-   ##\n=======================================\n  Coverage   83.16%   83.16%           \n=======================================\n  Files         397      397           \n  Lines       86561    86561           \n  Branches     9198     9198           \n=======================================\n  Hits        71991    71991           \n  Misses      11442    11442           \n  Partials     3128     3128           \n```\n\n\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/libcloud/pull/1620?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/libcloud/pull/1620?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [2c3e380...a1e148d](https://codecov.io/gh/apache/libcloud/pull/1620?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/950747788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/950785957","html_url":"https://github.com/apache/libcloud/pull/1621#issuecomment-950785957","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1621","id":950785957,"node_id":"IC_kwDOAAZm4844q9el","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T10:43:53Z","updated_at":"2021-10-27T20:07:17Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/libcloud/pull/1621?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#1621](https://codecov.io/gh/apache/libcloud/pull/1621?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (fecad4c) into [trunk](https://codecov.io/gh/apache/libcloud/commit/f1d82ee32daaf9c7ea555d70e0afab6cc291f6df?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (f1d82ee) will **increase** coverage by `0.00%`.\n> The diff coverage is `75.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/libcloud/pull/1621/graphs/tree.svg?width=650&height=150&src=pr&token=PYoduksh69&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/libcloud/pull/1621?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@           Coverage Diff           @@\n##            trunk    #1621   +/-   ##\n=======================================\n  Coverage   83.02%   83.02%           \n=======================================\n  Files         394      394           \n  Lines       85309    85321   +12     \n  Branches     9074     9076    +2     \n=======================================\n+ Hits        70830    70840   +10     \n- Misses      11394    11395    +1     \n- Partials     3085     3086    +1     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/libcloud/pull/1621?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [libcloud/common/base.py](https://codecov.io/gh/apache/libcloud/pull/1621/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvY29tbW9uL2Jhc2UucHk=) | `90.08% <0.00%> (-0.52%)` | :arrow_down: |\n| [libcloud/common/google.py](https://codecov.io/gh/apache/libcloud/pull/1621/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvY29tbW9uL2dvb2dsZS5weQ==) | `66.36% <71.42%> (+0.41%)` | :arrow_up: |\n| [libcloud/test/common/test\\_google.py](https://codecov.io/gh/apache/libcloud/pull/1621/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvdGVzdC9jb21tb24vdGVzdF9nb29nbGUucHk=) | `97.35% <100.00%> (+0.08%)` | :arrow_up: |\n| [libcloud/utils/connection.py](https://codecov.io/gh/apache/libcloud/pull/1621/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvdXRpbHMvY29ubmVjdGlvbi5weQ==) | `100.00% <100.00%> (ø)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/libcloud/pull/1621?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/libcloud/pull/1621?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [f1d82ee...fecad4c](https://codecov.io/gh/apache/libcloud/pull/1621?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/950785957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/950797414","html_url":"https://github.com/apache/libcloud/pull/1621#issuecomment-950797414","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1621","id":950797414,"node_id":"IC_kwDOAAZm4844rARm","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T10:57:29Z","updated_at":"2021-10-25T10:57:29Z","author_association":"MEMBER","body":"/cc @RunOrVeith","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/950797414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/951097862","html_url":"https://github.com/apache/libcloud/issues/1594#issuecomment-951097862","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1594","id":951097862,"node_id":"IC_kwDOAAZm4844sJoG","user":{"login":"RunOrVeith","id":12949211,"node_id":"MDQ6VXNlcjEyOTQ5MjEx","avatar_url":"https://avatars.githubusercontent.com/u/12949211?v=4","gravatar_id":"","url":"https://api.github.com/users/RunOrVeith","html_url":"https://github.com/RunOrVeith","followers_url":"https://api.github.com/users/RunOrVeith/followers","following_url":"https://api.github.com/users/RunOrVeith/following{/other_user}","gists_url":"https://api.github.com/users/RunOrVeith/gists{/gist_id}","starred_url":"https://api.github.com/users/RunOrVeith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RunOrVeith/subscriptions","organizations_url":"https://api.github.com/users/RunOrVeith/orgs","repos_url":"https://api.github.com/users/RunOrVeith/repos","events_url":"https://api.github.com/users/RunOrVeith/events{/privacy}","received_events_url":"https://api.github.com/users/RunOrVeith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T16:28:52Z","updated_at":"2021-10-25T16:28:52Z","author_association":"CONTRIBUTOR","body":"I also agree","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/951097862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/951105677","html_url":"https://github.com/apache/libcloud/pull/1621#issuecomment-951105677","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1621","id":951105677,"node_id":"IC_kwDOAAZm4844sLiN","user":{"login":"RunOrVeith","id":12949211,"node_id":"MDQ6VXNlcjEyOTQ5MjEx","avatar_url":"https://avatars.githubusercontent.com/u/12949211?v=4","gravatar_id":"","url":"https://api.github.com/users/RunOrVeith","html_url":"https://github.com/RunOrVeith","followers_url":"https://api.github.com/users/RunOrVeith/followers","following_url":"https://api.github.com/users/RunOrVeith/following{/other_user}","gists_url":"https://api.github.com/users/RunOrVeith/gists{/gist_id}","starred_url":"https://api.github.com/users/RunOrVeith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RunOrVeith/subscriptions","organizations_url":"https://api.github.com/users/RunOrVeith/orgs","repos_url":"https://api.github.com/users/RunOrVeith/repos","events_url":"https://api.github.com/users/RunOrVeith/events{/privacy}","received_events_url":"https://api.github.com/users/RunOrVeith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T16:38:39Z","updated_at":"2021-10-25T16:39:31Z","author_association":"CONTRIBUTOR","body":"sounds reasonable to me, but I actually think we could do something that doesn't require interaction.\r\nAccording to [this documentation](https://developers.google.com/identity/sign-in/web/server-side-flow) Step 3, the IA user_id for the guess_type method always ends with \"apps.googleusercontent.com\",\r\n\r\nso I would propose something like \r\n```python\r\n\r\nclass GoogleAuthType:\r\n    ...\r\n \r\n    @classmethod\r\n    def guess_type(cls, user_id):\r\n         ...\r\n         elif cls._is_installed_application(user_id):\r\n               return cls.IA\r\n        elif cls._is_gce():\r\n              # it's important that this is the last check, because it may take a long time if it fails and is retrying is enabled\r\n              return cls.GCE\r\n        else:\r\n              # Either rise an error (not sure which one) or fall back to cls.IA again\r\n              raise RuntimeError(\"Could not guess authentication scheme\")\r\n\r\n    @staticmethod\r\n    def _is_installed_application(user_id):\r\n        return user_id.endswith(\"apps.googleusercontent.com\")\r\n\r\n```\r\n\r\nI tried it with an instance were I want to authenticate with IA and the ending is there in the user_id","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/951105677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/951106773","html_url":"https://github.com/apache/libcloud/issues/1591#issuecomment-951106773","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1591","id":951106773,"node_id":"IC_kwDOAAZm4844sLzV","user":{"login":"RunOrVeith","id":12949211,"node_id":"MDQ6VXNlcjEyOTQ5MjEx","avatar_url":"https://avatars.githubusercontent.com/u/12949211?v=4","gravatar_id":"","url":"https://api.github.com/users/RunOrVeith","html_url":"https://github.com/RunOrVeith","followers_url":"https://api.github.com/users/RunOrVeith/followers","following_url":"https://api.github.com/users/RunOrVeith/following{/other_user}","gists_url":"https://api.github.com/users/RunOrVeith/gists{/gist_id}","starred_url":"https://api.github.com/users/RunOrVeith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RunOrVeith/subscriptions","organizations_url":"https://api.github.com/users/RunOrVeith/orgs","repos_url":"https://api.github.com/users/RunOrVeith/repos","events_url":"https://api.github.com/users/RunOrVeith/events{/privacy}","received_events_url":"https://api.github.com/users/RunOrVeith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T16:40:06Z","updated_at":"2021-10-25T16:40:06Z","author_association":"CONTRIBUTOR","body":"I mentioned it in the pull request, we can detect the type of credentials I think.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/951106773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/951118801","html_url":"https://github.com/apache/libcloud/pull/1588#issuecomment-951118801","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1588","id":951118801,"node_id":"IC_kwDOAAZm4844sOvR","user":{"login":"RunOrVeith","id":12949211,"node_id":"MDQ6VXNlcjEyOTQ5MjEx","avatar_url":"https://avatars.githubusercontent.com/u/12949211?v=4","gravatar_id":"","url":"https://api.github.com/users/RunOrVeith","html_url":"https://github.com/RunOrVeith","followers_url":"https://api.github.com/users/RunOrVeith/followers","following_url":"https://api.github.com/users/RunOrVeith/following{/other_user}","gists_url":"https://api.github.com/users/RunOrVeith/gists{/gist_id}","starred_url":"https://api.github.com/users/RunOrVeith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RunOrVeith/subscriptions","organizations_url":"https://api.github.com/users/RunOrVeith/orgs","repos_url":"https://api.github.com/users/RunOrVeith/repos","events_url":"https://api.github.com/users/RunOrVeith/events{/privacy}","received_events_url":"https://api.github.com/users/RunOrVeith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-25T16:56:25Z","updated_at":"2021-10-25T16:56:25Z","author_association":"CONTRIBUTOR","body":"there is already a timeout parameter for hard timeouts.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/951118801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/951785972","html_url":"https://github.com/apache/libcloud/pull/1621#issuecomment-951785972","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1621","id":951785972,"node_id":"IC_kwDOAAZm4844uxn0","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T10:09:22Z","updated_at":"2021-10-26T10:09:22Z","author_association":"MEMBER","body":"@RunOrVeith Yeah, if that's the case and we can avoid that branch all together, that would be ideal.\r\n\r\nI will dig into the docs and into making that change.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/951785972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/951793744","html_url":"https://github.com/apache/libcloud/pull/1621#issuecomment-951793744","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1621","id":951793744,"node_id":"IC_kwDOAAZm4844uzhQ","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T10:19:17Z","updated_at":"2021-10-26T10:19:17Z","author_association":"MEMBER","body":"Re throwing exception in the else clause - I think in general that's a good idea (fail fast and loudly), but I'm slightly worried this may break some edge case since right now we fall back to ``cls.IA``.\r\n\r\nSo perhaps to be on the safe side, it's the best to leave ``else`` clause as is for now.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/951793744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/951797895","html_url":"https://github.com/apache/libcloud/pull/1621#issuecomment-951797895","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1621","id":951797895,"node_id":"IC_kwDOAAZm4844u0iH","user":{"login":"RunOrVeith","id":12949211,"node_id":"MDQ6VXNlcjEyOTQ5MjEx","avatar_url":"https://avatars.githubusercontent.com/u/12949211?v=4","gravatar_id":"","url":"https://api.github.com/users/RunOrVeith","html_url":"https://github.com/RunOrVeith","followers_url":"https://api.github.com/users/RunOrVeith/followers","following_url":"https://api.github.com/users/RunOrVeith/following{/other_user}","gists_url":"https://api.github.com/users/RunOrVeith/gists{/gist_id}","starred_url":"https://api.github.com/users/RunOrVeith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RunOrVeith/subscriptions","organizations_url":"https://api.github.com/users/RunOrVeith/orgs","repos_url":"https://api.github.com/users/RunOrVeith/repos","events_url":"https://api.github.com/users/RunOrVeith/events{/privacy}","received_events_url":"https://api.github.com/users/RunOrVeith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T10:24:51Z","updated_at":"2021-10-26T10:24:51Z","author_association":"CONTRIBUTOR","body":"yes that was also my concern with the exception","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/951797895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/951803222","html_url":"https://github.com/apache/libcloud/pull/1621#issuecomment-951803222","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1621","id":951803222,"node_id":"IC_kwDOAAZm4844u11W","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T10:32:27Z","updated_at":"2021-10-26T10:32:27Z","author_association":"MEMBER","body":"@RunOrVeith This should probably do it - 0b8b22307526c185ebc372cd4d1cc5543eedbb6d.\r\n\r\nTo be on the safe side, I left else clause as it was before.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/951803222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/951835507","html_url":"https://github.com/apache/libcloud/pull/1610#issuecomment-951835507","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1610","id":951835507,"node_id":"IC_kwDOAAZm4844u9tz","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T11:19:09Z","updated_at":"2021-10-26T11:19:09Z","author_association":"MEMBER","body":"Thanks for the contribution.\r\n\r\nI add some comments. Mostly a couple of small things. And since it's adding a bunch of new code, it would be good to also add type annotations (directly in the code, no need to use comments syntax) to all the newly added methods and classes.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/951835507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/952066115","html_url":"https://github.com/apache/libcloud/issues/1594#issuecomment-952066115","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1594","id":952066115,"node_id":"IC_kwDOAAZm4844v2BD","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-26T15:40:30Z","updated_at":"2021-10-26T15:40:30Z","author_association":"MEMBER","body":"#1619 should mostly address this issue (will be fully addressed when dropping support for Python 3.5).\r\n\r\nIt's also worth noting that we don't have a fixed version specified in setup.py so in most cases, latest version of requests will already be installed when installing Libcloud.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/952066115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/953051799","html_url":"https://github.com/apache/libcloud/pull/1621#issuecomment-953051799","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1621","id":953051799,"node_id":"IC_kwDOAAZm4844zmqX","user":{"login":"RunOrVeith","id":12949211,"node_id":"MDQ6VXNlcjEyOTQ5MjEx","avatar_url":"https://avatars.githubusercontent.com/u/12949211?v=4","gravatar_id":"","url":"https://api.github.com/users/RunOrVeith","html_url":"https://github.com/RunOrVeith","followers_url":"https://api.github.com/users/RunOrVeith/followers","following_url":"https://api.github.com/users/RunOrVeith/following{/other_user}","gists_url":"https://api.github.com/users/RunOrVeith/gists{/gist_id}","starred_url":"https://api.github.com/users/RunOrVeith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RunOrVeith/subscriptions","organizations_url":"https://api.github.com/users/RunOrVeith/orgs","repos_url":"https://api.github.com/users/RunOrVeith/repos","events_url":"https://api.github.com/users/RunOrVeith/events{/privacy}","received_events_url":"https://api.github.com/users/RunOrVeith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-27T15:37:20Z","updated_at":"2021-10-27T15:37:20Z","author_association":"CONTRIBUTOR","body":"Looks good, except that the CI complains about the unsanitized url. Not sure how to fix that though.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/953051799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/953261892","html_url":"https://github.com/apache/libcloud/pull/1621#issuecomment-953261892","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1621","id":953261892,"node_id":"IC_kwDOAAZm48440Z9E","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-27T19:56:36Z","updated_at":"2021-10-27T19:56:36Z","author_association":"MEMBER","body":"@RunOrVeith Thanks for the review. I already marked that as \"non an issue\" in the Github UI.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/953261892/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/953270654","html_url":"https://github.com/apache/libcloud/pull/1592#issuecomment-953270654","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1592","id":953270654,"node_id":"IC_kwDOAAZm48440cF-","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-27T20:08:58Z","updated_at":"2021-10-27T20:08:58Z","author_association":"MEMBER","body":"Thanks for the contribution.\r\n\r\nSince it's a larger one, can you please look into filling an ICLA - https://www.apache.org/licenses/icla.pdf.\r\n\r\nI plan to review it once #1588 is merged.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/953270654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/953272719","html_url":"https://github.com/apache/libcloud/pull/1592#issuecomment-953272719","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1592","id":953272719,"node_id":"IC_kwDOAAZm48440cmP","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-27T20:11:54Z","updated_at":"2021-10-27T20:11:54Z","author_association":"MEMBER","body":"@Germandrummer92 \r\n\r\n> Maybe we need a predicate for the exceptions instead of only the types configurable though @RunOrVeith.\r\n\r\nYeah, having another more generic approach with a callable to which response / exception is passed or similar, would probably be more flexible than just having a fixed list of exception classes (and class with a callable which checks the exception type would just be a subclass of this parent class).","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/953272719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/953273244","html_url":"https://github.com/apache/libcloud/pull/1588#issuecomment-953273244","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1588","id":953273244,"node_id":"IC_kwDOAAZm48440cuc","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-27T20:12:38Z","updated_at":"2021-10-27T20:12:38Z","author_association":"MEMBER","body":"Since it's a bit larger change, can you please also look into submitting an ICLA - https://www.apache.org/licenses/icla.pdf.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/953273244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/953651698","html_url":"https://github.com/apache/libcloud/pull/1622#issuecomment-953651698","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1622","id":953651698,"node_id":"IC_kwDOAAZm484415Hy","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-28T09:02:35Z","updated_at":"2021-10-28T09:02:35Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/libcloud/pull/1622?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#1622](https://codecov.io/gh/apache/libcloud/pull/1622?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (dd26aa4) into [trunk](https://codecov.io/gh/apache/libcloud/commit/c475387d2bac791a3190628b8ca5e524fbde27f6?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (c475387) will **not change** coverage.\n> The diff coverage is `85.71%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/libcloud/pull/1622/graphs/tree.svg?width=650&height=150&src=pr&token=PYoduksh69&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/libcloud/pull/1622?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@           Coverage Diff           @@\n##            trunk    #1622   +/-   ##\n=======================================\n  Coverage   83.02%   83.02%           \n=======================================\n  Files         394      394           \n  Lines       85321    85321           \n  Branches     9076     9076           \n=======================================\n  Hits        70840    70840           \n  Misses      11395    11395           \n  Partials     3086     3086           \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/libcloud/pull/1622?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [libcloud/backup/drivers/gce.py](https://codecov.io/gh/apache/libcloud/pull/1622/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvYmFja3VwL2RyaXZlcnMvZ2NlLnB5) | `0.00% <0.00%> (ø)` | |\n| [libcloud/common/gandi.py](https://codecov.io/gh/apache/libcloud/pull/1622/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvY29tbW9uL2dhbmRpLnB5) | `77.77% <ø> (ø)` | |\n| [libcloud/common/openstack.py](https://codecov.io/gh/apache/libcloud/pull/1622/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvY29tbW9uL29wZW5zdGFjay5weQ==) | `83.76% <ø> (ø)` | |\n| [libcloud/storage/drivers/azure\\_blobs.py](https://codecov.io/gh/apache/libcloud/pull/1622/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvc3RvcmFnZS9kcml2ZXJzL2F6dXJlX2Jsb2JzLnB5) | `86.84% <ø> (ø)` | |\n| [libcloud/compute/drivers/gce.py](https://codecov.io/gh/apache/libcloud/pull/1622/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvY29tcHV0ZS9kcml2ZXJzL2djZS5weQ==) | `77.11% <66.66%> (ø)` | |\n| [libcloud/compute/drivers/azure.py](https://codecov.io/gh/apache/libcloud/pull/1622/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvY29tcHV0ZS9kcml2ZXJzL2F6dXJlLnB5) | `65.37% <100.00%> (ø)` | |\n| [libcloud/compute/drivers/azure\\_arm.py](https://codecov.io/gh/apache/libcloud/pull/1622/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvY29tcHV0ZS9kcml2ZXJzL2F6dXJlX2FybS5weQ==) | `56.12% <100.00%> (ø)` | |\n| [libcloud/compute/drivers/gandi.py](https://codecov.io/gh/apache/libcloud/pull/1622/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvY29tcHV0ZS9kcml2ZXJzL2dhbmRpLnB5) | `72.65% <100.00%> (ø)` | |\n| [libcloud/compute/drivers/softlayer.py](https://codecov.io/gh/apache/libcloud/pull/1622/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvY29tcHV0ZS9kcml2ZXJzL3NvZnRsYXllci5weQ==) | `85.05% <100.00%> (ø)` | |\n| [libcloud/compute/drivers/vcloud.py](https://codecov.io/gh/apache/libcloud/pull/1622/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvY29tcHV0ZS9kcml2ZXJzL3ZjbG91ZC5weQ==) | `82.76% <100.00%> (ø)` | |\n| ... and [2 more](https://codecov.io/gh/apache/libcloud/pull/1622/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/libcloud/pull/1622?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/libcloud/pull/1622?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [c475387...dd26aa4](https://codecov.io/gh/apache/libcloud/pull/1622?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/953651698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/953847615","html_url":"https://github.com/apache/libcloud/pull/1588#issuecomment-953847615","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1588","id":953847615,"node_id":"IC_kwDOAAZm48442o8_","user":{"login":"RunOrVeith","id":12949211,"node_id":"MDQ6VXNlcjEyOTQ5MjEx","avatar_url":"https://avatars.githubusercontent.com/u/12949211?v=4","gravatar_id":"","url":"https://api.github.com/users/RunOrVeith","html_url":"https://github.com/RunOrVeith","followers_url":"https://api.github.com/users/RunOrVeith/followers","following_url":"https://api.github.com/users/RunOrVeith/following{/other_user}","gists_url":"https://api.github.com/users/RunOrVeith/gists{/gist_id}","starred_url":"https://api.github.com/users/RunOrVeith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RunOrVeith/subscriptions","organizations_url":"https://api.github.com/users/RunOrVeith/orgs","repos_url":"https://api.github.com/users/RunOrVeith/repos","events_url":"https://api.github.com/users/RunOrVeith/events{/privacy}","received_events_url":"https://api.github.com/users/RunOrVeith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-28T13:30:45Z","updated_at":"2021-10-28T13:30:45Z","author_association":"CONTRIBUTOR","body":"I sent the ICLA out and will probably be able to add the fix for the missing final timeout on retries this week","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/953847615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/954664362","html_url":"https://github.com/apache/libcloud/pull/1592#issuecomment-954664362","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1592","id":954664362,"node_id":"IC_kwDOAAZm48445wWq","user":{"login":"Germandrummer92","id":6311872,"node_id":"MDQ6VXNlcjYzMTE4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/6311872?v=4","gravatar_id":"","url":"https://api.github.com/users/Germandrummer92","html_url":"https://github.com/Germandrummer92","followers_url":"https://api.github.com/users/Germandrummer92/followers","following_url":"https://api.github.com/users/Germandrummer92/following{/other_user}","gists_url":"https://api.github.com/users/Germandrummer92/gists{/gist_id}","starred_url":"https://api.github.com/users/Germandrummer92/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Germandrummer92/subscriptions","organizations_url":"https://api.github.com/users/Germandrummer92/orgs","repos_url":"https://api.github.com/users/Germandrummer92/repos","events_url":"https://api.github.com/users/Germandrummer92/events{/privacy}","received_events_url":"https://api.github.com/users/Germandrummer92/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-29T11:22:43Z","updated_at":"2021-10-29T11:22:43Z","author_association":"CONTRIBUTOR","body":"I signed the icla. \r\n\r\nOverall i think it should work now as before, but the part in base.py with ignoring the HTTPException isn't super nice. Instead the better solution would probably be to have the retry wrapper wrapped around more code so that the actual exception by the rawResponseCls is then thrown and can be handled by the retry handler. I would only tackle that after #1588 is merged tough.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/954664362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/955693447","html_url":"https://github.com/apache/libcloud/pull/1588#issuecomment-955693447","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1588","id":955693447,"node_id":"IC_kwDOAAZm48449rmH","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-31T12:41:59Z","updated_at":"2021-10-31T12:41:59Z","author_association":"MEMBER","body":"@RunOrVeith Sounds good, thanks.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/955693447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/958583332","html_url":"https://github.com/apache/libcloud/pull/1557#issuecomment-958583332","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1557","id":958583332,"node_id":"IC_kwDOAAZm4845ItIk","user":{"login":"tarkatronic","id":37809,"node_id":"MDQ6VXNlcjM3ODA5","avatar_url":"https://avatars.githubusercontent.com/u/37809?v=4","gravatar_id":"","url":"https://api.github.com/users/tarkatronic","html_url":"https://github.com/tarkatronic","followers_url":"https://api.github.com/users/tarkatronic/followers","following_url":"https://api.github.com/users/tarkatronic/following{/other_user}","gists_url":"https://api.github.com/users/tarkatronic/gists{/gist_id}","starred_url":"https://api.github.com/users/tarkatronic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tarkatronic/subscriptions","organizations_url":"https://api.github.com/users/tarkatronic/orgs","repos_url":"https://api.github.com/users/tarkatronic/repos","events_url":"https://api.github.com/users/tarkatronic/events{/privacy}","received_events_url":"https://api.github.com/users/tarkatronic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T01:14:38Z","updated_at":"2021-11-03T01:14:38Z","author_association":"NONE","body":"@Kami I just received a response from the secretary; the CCLA for GoDaddy.com, LLC has been officially filed! 🎉 \r\n\r\n@dpeschman Looks like you will need to update your branch and resolve conflicts.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/958583332/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/958606759","html_url":"https://github.com/apache/libcloud/pull/1557#issuecomment-958606759","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1557","id":958606759,"node_id":"IC_kwDOAAZm4845Iy2n","user":{"login":"dpeschman","id":145098,"node_id":"MDQ6VXNlcjE0NTA5OA==","avatar_url":"https://avatars.githubusercontent.com/u/145098?v=4","gravatar_id":"","url":"https://api.github.com/users/dpeschman","html_url":"https://github.com/dpeschman","followers_url":"https://api.github.com/users/dpeschman/followers","following_url":"https://api.github.com/users/dpeschman/following{/other_user}","gists_url":"https://api.github.com/users/dpeschman/gists{/gist_id}","starred_url":"https://api.github.com/users/dpeschman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dpeschman/subscriptions","organizations_url":"https://api.github.com/users/dpeschman/orgs","repos_url":"https://api.github.com/users/dpeschman/repos","events_url":"https://api.github.com/users/dpeschman/events{/privacy}","received_events_url":"https://api.github.com/users/dpeschman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T02:34:00Z","updated_at":"2021-11-03T02:34:00Z","author_association":"CONTRIBUTOR","body":"Thanks @tarkatronic!  I won't have access to a printer until (for signing the ICLA) until Nov 5.  Will sign and submit then.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/958606759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/958932424","html_url":"https://github.com/apache/libcloud/pull/1588#issuecomment-958932424","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1588","id":958932424,"node_id":"IC_kwDOAAZm4845KCXI","user":{"login":"RunOrVeith","id":12949211,"node_id":"MDQ6VXNlcjEyOTQ5MjEx","avatar_url":"https://avatars.githubusercontent.com/u/12949211?v=4","gravatar_id":"","url":"https://api.github.com/users/RunOrVeith","html_url":"https://github.com/RunOrVeith","followers_url":"https://api.github.com/users/RunOrVeith/followers","following_url":"https://api.github.com/users/RunOrVeith/following{/other_user}","gists_url":"https://api.github.com/users/RunOrVeith/gists{/gist_id}","starred_url":"https://api.github.com/users/RunOrVeith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RunOrVeith/subscriptions","organizations_url":"https://api.github.com/users/RunOrVeith/orgs","repos_url":"https://api.github.com/users/RunOrVeith/repos","events_url":"https://api.github.com/users/RunOrVeith/events{/privacy}","received_events_url":"https://api.github.com/users/RunOrVeith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T11:13:20Z","updated_at":"2021-11-03T11:13:20Z","author_association":"CONTRIBUTOR","body":"I implemented it with a counter now that defaults to infinite retries on being rate limited since that's how it was before. But you can turn it off now","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/958932424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/959757850","html_url":"https://github.com/apache/libcloud/pull/1588#issuecomment-959757850","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1588","id":959757850,"node_id":"IC_kwDOAAZm4845NL4a","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T17:26:56Z","updated_at":"2021-11-03T17:27:11Z","author_association":"MEMBER","body":"@RunOrVeith Thanks. Any specificreason why you ended up going with counter approach instead of utilizing the existing timeout parameters (which we both agree would make make sense and also be simpler)?","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/959757850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/959759714","html_url":"https://github.com/apache/libcloud/pull/1557#issuecomment-959759714","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1557","id":959759714,"node_id":"IC_kwDOAAZm4845NMVi","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T17:29:02Z","updated_at":"2021-11-03T17:29:02Z","author_association":"MEMBER","body":"@dpeschman Thanks. I can confirm ICLA has been received, I will go ahead and merge this PR.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/959759714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/959764059","html_url":"https://github.com/apache/libcloud/pull/1588#issuecomment-959764059","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1588","id":959764059,"node_id":"IC_kwDOAAZm4845NNZb","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T17:33:59Z","updated_at":"2021-11-03T17:33:59Z","author_association":"MEMBER","body":"@RunOrVeith And if you still agree that using timeout argument makes the most sense, I can adjust the code (+ add tests) to do that so we don't drag merging this any longer (since I would like to do a new release with all the accumulated changes as soon as possible).","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/959764059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/959764547","html_url":"https://github.com/apache/libcloud/issues/1460#issuecomment-959764547","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1460","id":959764547,"node_id":"IC_kwDOAAZm4845NNhD","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T17:34:34Z","updated_at":"2021-11-03T17:34:34Z","author_association":"MEMBER","body":"Resolved via #1557.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/959764547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/960038715","html_url":"https://github.com/apache/libcloud/pull/1588#issuecomment-960038715","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1588","id":960038715,"node_id":"IC_kwDOAAZm4845OQc7","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T20:54:59Z","updated_at":"2021-11-03T20:58:06Z","author_association":"MEMBER","body":"@RunOrVeith Here is a proposed change where we respect timeout argument - e86b374af0261d87f423147e40bb6d999edb7da1.\r\n\r\nI personally think that's a better / less surprising API. If for some reason, there is a need for different handling of retry exceptions, I would tentatively be OK with a special case for that (counter), as long as it's an opt-in behavior.\r\n\r\nI guess one issue with the timeout change is that it's different behavior from previous version, but I think it's better and safer to have a safe guard and not just default to retry for ever on rate limit reached errors.\r\n\r\nIf we do decide to go with timeout approach, I will document this in upgrade notes (and perhaps a feature flag / module level variable to revert to old behavior, if needed).\r\n\r\nLet me know what you think.\r\n\r\nEDIT: And another change I made is to default to 2 seconds sleep delay in case ``retry_after`` attribute is not case on the exception class (I can make it a module level constant / similar).\r\n\r\nIf retry-after attribute is not present in the headers, that value defaults to ``0``. This could be problematic, because in previous version of the code, we would not just try to retry for ever, but we could also be busy waiting (aka hogging all the CPU) if ``0`` was used for ``time.sleep()``","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/960038715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/960115236","html_url":"https://github.com/apache/libcloud/issues/1623#issuecomment-960115236","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1623","id":960115236,"node_id":"IC_kwDOAAZm4845OjIk","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T21:30:09Z","updated_at":"2021-11-03T21:30:24Z","author_association":"MEMBER","body":"@apache/libcloud-committers @dpeschman @RunOrVeith @dimgal1 What do other people think?\r\n\r\nI guess @d-mo you may have the most to say since I imagine you may use a fork which is not fully in sync with upstream.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/960115236/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/960187974","html_url":"https://github.com/apache/libcloud/issues/1623#issuecomment-960187974","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1623","id":960187974,"node_id":"IC_kwDOAAZm4845O05G","user":{"login":"tonybaloney","id":1532417,"node_id":"MDQ6VXNlcjE1MzI0MTc=","avatar_url":"https://avatars.githubusercontent.com/u/1532417?v=4","gravatar_id":"","url":"https://api.github.com/users/tonybaloney","html_url":"https://github.com/tonybaloney","followers_url":"https://api.github.com/users/tonybaloney/followers","following_url":"https://api.github.com/users/tonybaloney/following{/other_user}","gists_url":"https://api.github.com/users/tonybaloney/gists{/gist_id}","starred_url":"https://api.github.com/users/tonybaloney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonybaloney/subscriptions","organizations_url":"https://api.github.com/users/tonybaloney/orgs","repos_url":"https://api.github.com/users/tonybaloney/repos","events_url":"https://api.github.com/users/tonybaloney/events{/privacy}","received_events_url":"https://api.github.com/users/tonybaloney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T22:01:22Z","updated_at":"2021-11-03T22:01:22Z","author_association":"CONTRIBUTOR","body":"👍🏻  to this change, but be careful with _which_ version of black, because this can cause inconsistencies with people running locally, ","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/960187974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/960251116","html_url":"https://github.com/apache/libcloud/issues/1623#issuecomment-960251116","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1623","id":960251116,"node_id":"IC_kwDOAAZm4845PETs","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-03T22:42:38Z","updated_at":"2021-11-03T22:42:38Z","author_association":"MEMBER","body":"@tonybaloney Thanks.\r\n\r\nDo you happen to know what's the currently most used version of black (19.x?). I did notice recently when upgrading some otherprojects to the latest version that some of the formatting rules did indeed change which caused quite lot of code churn again.\r\n\r\nBut in any case, we plan to pin it in tox environment and advise developers to use tox command and which black version should be used.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/960251116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/960599935","html_url":"https://github.com/apache/libcloud/issues/1623#issuecomment-960599935","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1623","id":960599935,"node_id":"IC_kwDOAAZm4845QZd_","user":{"login":"RunOrVeith","id":12949211,"node_id":"MDQ6VXNlcjEyOTQ5MjEx","avatar_url":"https://avatars.githubusercontent.com/u/12949211?v=4","gravatar_id":"","url":"https://api.github.com/users/RunOrVeith","html_url":"https://github.com/RunOrVeith","followers_url":"https://api.github.com/users/RunOrVeith/followers","following_url":"https://api.github.com/users/RunOrVeith/following{/other_user}","gists_url":"https://api.github.com/users/RunOrVeith/gists{/gist_id}","starred_url":"https://api.github.com/users/RunOrVeith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RunOrVeith/subscriptions","organizations_url":"https://api.github.com/users/RunOrVeith/orgs","repos_url":"https://api.github.com/users/RunOrVeith/repos","events_url":"https://api.github.com/users/RunOrVeith/events{/privacy}","received_events_url":"https://api.github.com/users/RunOrVeith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-04T09:46:19Z","updated_at":"2021-11-04T09:46:19Z","author_association":"CONTRIBUTOR","body":"If we take care to minimize the amount of open pull requests I am open to it.\r\nI personally prefer black with a longer line width than 79 characters (e.g. 120), because I think enforcing short lines encourages non-descriptive variable names, but I'm not too opinionated on it.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/960599935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/960605065","html_url":"https://github.com/apache/libcloud/pull/1588#issuecomment-960605065","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1588","id":960605065,"node_id":"IC_kwDOAAZm4845QauJ","user":{"login":"RunOrVeith","id":12949211,"node_id":"MDQ6VXNlcjEyOTQ5MjEx","avatar_url":"https://avatars.githubusercontent.com/u/12949211?v=4","gravatar_id":"","url":"https://api.github.com/users/RunOrVeith","html_url":"https://github.com/RunOrVeith","followers_url":"https://api.github.com/users/RunOrVeith/followers","following_url":"https://api.github.com/users/RunOrVeith/following{/other_user}","gists_url":"https://api.github.com/users/RunOrVeith/gists{/gist_id}","starred_url":"https://api.github.com/users/RunOrVeith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RunOrVeith/subscriptions","organizations_url":"https://api.github.com/users/RunOrVeith/orgs","repos_url":"https://api.github.com/users/RunOrVeith/repos","events_url":"https://api.github.com/users/RunOrVeith/events{/privacy}","received_events_url":"https://api.github.com/users/RunOrVeith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-04T09:54:04Z","updated_at":"2021-11-04T09:54:04Z","author_association":"CONTRIBUTOR","body":"I did it with the counter to not break the old behavior of retrying forever, but if a breaking change is fine then I agree that your suggestion is the preferred way.\r\nThere is just an outdated comment left in the code, otherwise it looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/960605065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/960607009","html_url":"https://github.com/apache/libcloud/issues/1623#issuecomment-960607009","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1623","id":960607009,"node_id":"IC_kwDOAAZm4845QbMh","user":{"login":"micafer","id":4972699,"node_id":"MDQ6VXNlcjQ5NzI2OTk=","avatar_url":"https://avatars.githubusercontent.com/u/4972699?v=4","gravatar_id":"","url":"https://api.github.com/users/micafer","html_url":"https://github.com/micafer","followers_url":"https://api.github.com/users/micafer/followers","following_url":"https://api.github.com/users/micafer/following{/other_user}","gists_url":"https://api.github.com/users/micafer/gists{/gist_id}","starred_url":"https://api.github.com/users/micafer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/micafer/subscriptions","organizations_url":"https://api.github.com/users/micafer/orgs","repos_url":"https://api.github.com/users/micafer/repos","events_url":"https://api.github.com/users/micafer/events{/privacy}","received_events_url":"https://api.github.com/users/micafer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-04T09:56:57Z","updated_at":"2021-11-04T09:56:57Z","author_association":"CONTRIBUTOR","body":"I fully agree with @RunOrVeith about setting a longer line width.\r\nIn many cases short lines make the code difficult to read.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/960607009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/960638445","html_url":"https://github.com/apache/libcloud/pull/1588#issuecomment-960638445","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1588","id":960638445,"node_id":"IC_kwDOAAZm4845Qi3t","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-04T10:42:09Z","updated_at":"2021-11-04T10:42:09Z","author_association":"MEMBER","body":"@RunOrVeith Thanks.\r\n\r\nYeah, that makes sense. Having said that - this code is quite old so it's probably about time to improve it a bit.\r\n\r\nI will document this behavior changes in upgrade notes and add module level constant to revert to old behavior (if someone has a valid reason to do that).","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/960638445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/960642922","html_url":"https://github.com/apache/libcloud/issues/1623#issuecomment-960642922","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1623","id":960642922,"node_id":"IC_kwDOAAZm4845Qj9q","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-04T10:49:01Z","updated_at":"2021-11-04T10:49:01Z","author_association":"MEMBER","body":"I'm +1 for longer lines. I think 100 is a good middle of the ground compromise between 80 and 120.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/960642922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/960709836","html_url":"https://github.com/apache/libcloud/pull/1588#issuecomment-960709836","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1588","id":960709836,"node_id":"IC_kwDOAAZm4845Q0TM","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-04T11:43:49Z","updated_at":"2021-11-04T11:43:49Z","author_association":"MEMBER","body":"Here we go - 25475003a0b581aecf85f653b384316ec0a4f9f4.\r\n\r\nWhile at it, I also refactored a bunch of tests since they used unncessary complex patterns which added two levels of indentation which made code harder to read - af7f4c4bbd3f8f89973e9ad286e9b0afdbc35ab0.\r\n\r\nI also added test cases for bunch of scenarios we were missing (which did catch a regression in my change which I fixed).","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/960709836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/960959120","html_url":"https://github.com/apache/libcloud/issues/1623#issuecomment-960959120","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1623","id":960959120,"node_id":"IC_kwDOAAZm4845RxKQ","user":{"login":"dimgal1","id":19211560,"node_id":"MDQ6VXNlcjE5MjExNTYw","avatar_url":"https://avatars.githubusercontent.com/u/19211560?v=4","gravatar_id":"","url":"https://api.github.com/users/dimgal1","html_url":"https://github.com/dimgal1","followers_url":"https://api.github.com/users/dimgal1/followers","following_url":"https://api.github.com/users/dimgal1/following{/other_user}","gists_url":"https://api.github.com/users/dimgal1/gists{/gist_id}","starred_url":"https://api.github.com/users/dimgal1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimgal1/subscriptions","organizations_url":"https://api.github.com/users/dimgal1/orgs","repos_url":"https://api.github.com/users/dimgal1/repos","events_url":"https://api.github.com/users/dimgal1/events{/privacy}","received_events_url":"https://api.github.com/users/dimgal1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-04T13:43:41Z","updated_at":"2021-11-04T13:43:41Z","author_association":"CONTRIBUTOR","body":"I'm +1 for black, 100 characters seems fine.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/960959120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/961136638","html_url":"https://github.com/apache/libcloud/pull/1588#issuecomment-961136638","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1588","id":961136638,"node_id":"IC_kwDOAAZm4845Scf-","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-04T15:08:45Z","updated_at":"2021-11-04T15:08:45Z","author_association":"MEMBER","body":"PR has been merged. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/961136638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/961137293","html_url":"https://github.com/apache/libcloud/pull/1592#issuecomment-961137293","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1592","id":961137293,"node_id":"IC_kwDOAAZm4845ScqN","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-04T15:09:18Z","updated_at":"2021-11-04T15:09:18Z","author_association":"MEMBER","body":"#1588 has been merged so now you can hopefully sync up your changes with latest trunk without too many issues.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/961137293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/961184148","html_url":"https://github.com/apache/libcloud/issues/1623#issuecomment-961184148","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1623","id":961184148,"node_id":"IC_kwDOAAZm4845SoGU","user":{"login":"dpeschman","id":145098,"node_id":"MDQ6VXNlcjE0NTA5OA==","avatar_url":"https://avatars.githubusercontent.com/u/145098?v=4","gravatar_id":"","url":"https://api.github.com/users/dpeschman","html_url":"https://github.com/dpeschman","followers_url":"https://api.github.com/users/dpeschman/followers","following_url":"https://api.github.com/users/dpeschman/following{/other_user}","gists_url":"https://api.github.com/users/dpeschman/gists{/gist_id}","starred_url":"https://api.github.com/users/dpeschman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dpeschman/subscriptions","organizations_url":"https://api.github.com/users/dpeschman/orgs","repos_url":"https://api.github.com/users/dpeschman/repos","events_url":"https://api.github.com/users/dpeschman/events{/privacy}","received_events_url":"https://api.github.com/users/dpeschman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-04T16:00:27Z","updated_at":"2021-11-04T16:00:27Z","author_association":"CONTRIBUTOR","body":"I’m not that into it, but can see how it might benefit a project where many hands come and go.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/961184148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/961478185","html_url":"https://github.com/apache/libcloud/pull/1624#issuecomment-961478185","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1624","id":961478185,"node_id":"IC_kwDOAAZm4845Tv4p","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-04T22:22:41Z","updated_at":"2021-11-10T21:38:01Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/libcloud/pull/1624?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#1624](https://codecov.io/gh/apache/libcloud/pull/1624?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (722ed57) into [trunk](https://codecov.io/gh/apache/libcloud/commit/31c938d9f4d9bc084dde83bbad5c4e777ed53910?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (31c938d) will **decrease** coverage by `0.00%`.\n> The diff coverage is `76.54%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/libcloud/pull/1624/graphs/tree.svg?width=650&height=150&src=pr&token=PYoduksh69&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/libcloud/pull/1624?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@            Coverage Diff             @@\n##            trunk    #1624      +/-   ##\n==========================================\n- Coverage   83.16%   83.16%   -0.01%     \n==========================================\n  Files         397      397              \n  Lines       86561    86553       -8     \n  Branches     9198     9198              \n==========================================\n- Hits        71991    71983       -8     \n  Misses      11442    11442              \n  Partials     3128     3128              \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/libcloud/pull/1624?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [libcloud/backup/drivers/dummy.py](https://codecov.io/gh/apache/libcloud/pull/1624/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvYmFja3VwL2RyaXZlcnMvZHVtbXkucHk=) | `0.00% <0.00%> (ø)` | |\n| [libcloud/backup/drivers/ebs.py](https://codecov.io/gh/apache/libcloud/pull/1624/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvYmFja3VwL2RyaXZlcnMvZWJzLnB5) | `0.00% <0.00%> (ø)` | |\n| [libcloud/backup/drivers/gce.py](https://codecov.io/gh/apache/libcloud/pull/1624/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvYmFja3VwL2RyaXZlcnMvZ2NlLnB5) | `0.00% <0.00%> (ø)` | |\n| [libcloud/backup/providers.py](https://codecov.io/gh/apache/libcloud/pull/1624/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvYmFja3VwL3Byb3ZpZGVycy5weQ==) | `60.00% <0.00%> (ø)` | |\n| [libcloud/base.py](https://codecov.io/gh/apache/libcloud/pull/1624/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvYmFzZS5weQ==) | `100.00% <ø> (ø)` | |\n| [libcloud/common/nttcis.py](https://codecov.io/gh/apache/libcloud/pull/1624/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvY29tbW9uL250dGNpcy5weQ==) | `73.54% <ø> (ø)` | |\n| [libcloud/common/openstack.py](https://codecov.io/gh/apache/libcloud/pull/1624/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvY29tbW9uL29wZW5zdGFjay5weQ==) | `84.50% <ø> (ø)` | |\n| [libcloud/common/openstack\\_identity.py](https://codecov.io/gh/apache/libcloud/pull/1624/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvY29tbW9uL29wZW5zdGFja19pZGVudGl0eS5weQ==) | `82.01% <ø> (ø)` | |\n| [libcloud/common/brightbox.py](https://codecov.io/gh/apache/libcloud/pull/1624/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvY29tbW9uL2JyaWdodGJveC5weQ==) | `53.65% <35.71%> (ø)` | |\n| [libcloud/common/hostvirtual.py](https://codecov.io/gh/apache/libcloud/pull/1624/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvY29tbW9uL2hvc3R2aXJ0dWFsLnB5) | `59.37% <50.00%> (ø)` | |\n| ... and [363 more](https://codecov.io/gh/apache/libcloud/pull/1624/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/libcloud/pull/1624?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/libcloud/pull/1624?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [31c938d...722ed57](https://codecov.io/gh/apache/libcloud/pull/1624?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/961478185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/962184508","html_url":"https://github.com/apache/libcloud/pull/1624#issuecomment-962184508","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1624","id":962184508,"node_id":"IC_kwDOAAZm4845WcU8","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T20:06:14Z","updated_at":"2021-11-05T20:06:14Z","author_association":"MEMBER","body":"There are some bugs in black related to Python 3.5 target compatibility version (e.g. https://github.com/psf/black/issues/1356) so I will only merge this once \"Remove support for Python 3.5\" PR has been merged so we can avoid hacks / workarounds for the black bug (which likely won't get fixed since Python 3.5 is EOL).","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/962184508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/962509755","html_url":"https://github.com/apache/libcloud/pull/1592#issuecomment-962509755","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1592","id":962509755,"node_id":"IC_kwDOAAZm4845Xru7","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T21:05:13Z","updated_at":"2021-11-06T21:05:13Z","author_association":"MEMBER","body":"@Germandrummer92 Do you have any idea when you will have a chance to work on this PR?\r\n\r\nIdeally we would include those changes in the next release, but if it will take a while I will just do new release this week and we can include those changes in the next one.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/962509755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/962509928","html_url":"https://github.com/apache/libcloud/issues/1591#issuecomment-962509928","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1591","id":962509928,"node_id":"IC_kwDOAAZm4845Xrxo","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T21:06:43Z","updated_at":"2021-11-06T21:06:43Z","author_association":"MEMBER","body":"Resolved via #1621. Thanks again for reporting this issue.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/962509928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/962518182","html_url":"https://github.com/apache/libcloud/pull/1625#issuecomment-962518182","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1625","id":962518182,"node_id":"IC_kwDOAAZm4845Xtym","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T22:29:03Z","updated_at":"2021-11-07T18:38:45Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/libcloud/pull/1625?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#1625](https://codecov.io/gh/apache/libcloud/pull/1625?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (b0eeb3f) into [trunk](https://codecov.io/gh/apache/libcloud/commit/748dc59d62b451b086443d2efa0e66f58c2a2b93?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (748dc59) will **decrease** coverage by `0.00%`.\n> The diff coverage is `66.66%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/libcloud/pull/1625/graphs/tree.svg?width=650&height=150&src=pr&token=PYoduksh69&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/libcloud/pull/1625?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@            Coverage Diff             @@\n##            trunk    #1625      +/-   ##\n==========================================\n- Coverage   83.16%   83.15%   -0.01%     \n==========================================\n  Files         397      397              \n  Lines       86545    86542       -3     \n  Branches     9197     9197              \n==========================================\n- Hits        71979    71968      -11     \n- Misses      11436    11444       +8     \n  Partials     3130     3130              \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/libcloud/pull/1625?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [libcloud/test/test\\_utils.py](https://codecov.io/gh/apache/libcloud/pull/1625/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvdGVzdC90ZXN0X3V0aWxzLnB5) | `95.18% <ø> (-0.13%)` | :arrow_down: |\n| [libcloud/test/storage/test\\_local.py](https://codecov.io/gh/apache/libcloud/pull/1625/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvdGVzdC9zdG9yYWdlL3Rlc3RfbG9jYWwucHk=) | `91.51% <50.00%> (+0.02%)` | :arrow_up: |\n| [libcloud/test/loadbalancer/test\\_brightbox.py](https://codecov.io/gh/apache/libcloud/pull/1625/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvdGVzdC9sb2FkYmFsYW5jZXIvdGVzdF9icmlnaHRib3gucHk=) | `91.04% <100.00%> (+0.13%)` | :arrow_up: |\n| [libcloud/utils/connection.py](https://codecov.io/gh/apache/libcloud/pull/1625/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvdXRpbHMvY29ubmVjdGlvbi5weQ==) | `11.11% <0.00%> (-88.89%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/libcloud/pull/1625?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/libcloud/pull/1625?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [748dc59...b0eeb3f](https://codecov.io/gh/apache/libcloud/pull/1625?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/962518182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/962519858","html_url":"https://github.com/apache/libcloud/pull/1625#issuecomment-962519858","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1625","id":962519858,"node_id":"IC_kwDOAAZm4845XuMy","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T22:47:41Z","updated_at":"2021-11-06T22:47:41Z","author_association":"MEMBER","body":"This change uncovered some issues with some test files relying on shared state (aka when running all the test cases together in the same process some other import unintentionally setting some state which test relies on) which I'm trying to fix.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/962519858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/962520345","html_url":"https://github.com/apache/libcloud/issues/1594#issuecomment-962520345","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1594","id":962520345,"node_id":"IC_kwDOAAZm4845XuUZ","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T22:53:03Z","updated_at":"2021-11-06T22:53:03Z","author_association":"MEMBER","body":"A lot of the libraries and tooling has already dropped support for Python 3.5 a while back so my recent PRs and changes have been quite a pain since I needed to implement a bunch of workarounds to get it to work under Python 3.5.\r\n\r\nSo the sooner we drop support for it, the better.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/962520345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/962520523","html_url":"https://github.com/apache/libcloud/pull/1625#issuecomment-962520523","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1625","id":962520523,"node_id":"IC_kwDOAAZm4845XuXL","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T22:54:42Z","updated_at":"2021-11-06T22:54:42Z","author_association":"MEMBER","body":"On CI, tests now finish 30-40 seconds faster (2 min 20 vs 1 min 40). Not a massive speed up, but GHA runner likely doesn't have as many cores and it's likely more heavily over provisioned with other jobs.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/962520523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/962620659","html_url":"https://github.com/apache/libcloud/pull/1592#issuecomment-962620659","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1592","id":962620659,"node_id":"IC_kwDOAAZm4845YGzz","user":{"login":"Germandrummer92","id":6311872,"node_id":"MDQ6VXNlcjYzMTE4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/6311872?v=4","gravatar_id":"","url":"https://api.github.com/users/Germandrummer92","html_url":"https://github.com/Germandrummer92","followers_url":"https://api.github.com/users/Germandrummer92/followers","following_url":"https://api.github.com/users/Germandrummer92/following{/other_user}","gists_url":"https://api.github.com/users/Germandrummer92/gists{/gist_id}","starred_url":"https://api.github.com/users/Germandrummer92/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Germandrummer92/subscriptions","organizations_url":"https://api.github.com/users/Germandrummer92/orgs","repos_url":"https://api.github.com/users/Germandrummer92/repos","events_url":"https://api.github.com/users/Germandrummer92/events{/privacy}","received_events_url":"https://api.github.com/users/Germandrummer92/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T14:28:28Z","updated_at":"2021-11-07T14:28:28Z","author_association":"CONTRIBUTOR","body":"@Kami Will try and get it done in the next few days. But also fine with putting it in the next release.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/962620659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/962656333","html_url":"https://github.com/apache/libcloud/pull/1610#issuecomment-962656333","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1610","id":962656333,"node_id":"IC_kwDOAAZm4845YPhN","user":{"login":"dimgal1","id":19211560,"node_id":"MDQ6VXNlcjE5MjExNTYw","avatar_url":"https://avatars.githubusercontent.com/u/19211560?v=4","gravatar_id":"","url":"https://api.github.com/users/dimgal1","html_url":"https://github.com/dimgal1","followers_url":"https://api.github.com/users/dimgal1/followers","following_url":"https://api.github.com/users/dimgal1/following{/other_user}","gists_url":"https://api.github.com/users/dimgal1/gists{/gist_id}","starred_url":"https://api.github.com/users/dimgal1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimgal1/subscriptions","organizations_url":"https://api.github.com/users/dimgal1/orgs","repos_url":"https://api.github.com/users/dimgal1/repos","events_url":"https://api.github.com/users/dimgal1/events{/privacy}","received_events_url":"https://api.github.com/users/dimgal1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T18:09:57Z","updated_at":"2021-11-07T18:09:57Z","author_association":"CONTRIBUTOR","body":"Thanks for the review @Kami, I addressed the issues you mentioned","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/962656333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/962658594","html_url":"https://github.com/apache/libcloud/pull/1610#issuecomment-962658594","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1610","id":962658594,"node_id":"IC_kwDOAAZm4845YQEi","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T18:25:41Z","updated_at":"2021-11-07T18:25:41Z","author_association":"MEMBER","body":"Merged. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/962658594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/964507092","html_url":"https://github.com/apache/libcloud/pull/1626#issuecomment-964507092","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1626","id":964507092,"node_id":"IC_kwDOAAZm4845fTXU","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-09T20:22:52Z","updated_at":"2021-11-10T16:43:57Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/libcloud/pull/1626?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#1626](https://codecov.io/gh/apache/libcloud/pull/1626?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (5923475) into [trunk](https://codecov.io/gh/apache/libcloud/commit/ab4069a951e0ffd044f7e7d436fb0f35a4fb6f7b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (ab4069a) will **decrease** coverage by `0.00%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/libcloud/pull/1626/graphs/tree.svg?width=650&height=150&src=pr&token=PYoduksh69&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/libcloud/pull/1626?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@            Coverage Diff             @@\n##            trunk    #1626      +/-   ##\n==========================================\n- Coverage   83.15%   83.15%   -0.01%     \n==========================================\n  Files         397      397              \n  Lines       86542    86542              \n  Branches     9197     9197              \n==========================================\n- Hits        71968    71966       -2     \n- Misses      11444    11445       +1     \n- Partials     3130     3131       +1     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/libcloud/pull/1626?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [libcloud/test/dns/test\\_base.py](https://codecov.io/gh/apache/libcloud/pull/1626/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvdGVzdC9kbnMvdGVzdF9iYXNlLnB5) | `97.01% <0.00%> (-2.99%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/libcloud/pull/1626?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/libcloud/pull/1626?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [ab4069a...5923475](https://codecov.io/gh/apache/libcloud/pull/1626?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/964507092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/965483417","html_url":"https://github.com/apache/libcloud/pull/1592#issuecomment-965483417","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1592","id":965483417,"node_id":"IC_kwDOAAZm4845jBuZ","user":{"login":"Germandrummer92","id":6311872,"node_id":"MDQ6VXNlcjYzMTE4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/6311872?v=4","gravatar_id":"","url":"https://api.github.com/users/Germandrummer92","html_url":"https://github.com/Germandrummer92","followers_url":"https://api.github.com/users/Germandrummer92/followers","following_url":"https://api.github.com/users/Germandrummer92/following{/other_user}","gists_url":"https://api.github.com/users/Germandrummer92/gists{/gist_id}","starred_url":"https://api.github.com/users/Germandrummer92/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Germandrummer92/subscriptions","organizations_url":"https://api.github.com/users/Germandrummer92/orgs","repos_url":"https://api.github.com/users/Germandrummer92/repos","events_url":"https://api.github.com/users/Germandrummer92/events{/privacy}","received_events_url":"https://api.github.com/users/Germandrummer92/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-10T16:05:28Z","updated_at":"2021-11-10T16:05:49Z","author_association":"CONTRIBUTOR","body":"@RunOrVeith @Kami \r\n\r\nI think like this it's a much smaller and cleaner change and shouldn't break anything while still retrying raw requests and correctly mapping the exceptions before they are checked in the retry class.\r\n\r\nre: the change in test_ovh: this test also fails for me on the current trunk code? maybe ovh changed their response code recently here? (obviously parsing the exception message is maybe not the best idea...)","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/965483417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/965555443","html_url":"https://github.com/apache/libcloud/pull/1592#issuecomment-965555443","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1592","id":965555443,"node_id":"IC_kwDOAAZm4845jTTz","user":{"login":"Germandrummer92","id":6311872,"node_id":"MDQ6VXNlcjYzMTE4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/6311872?v=4","gravatar_id":"","url":"https://api.github.com/users/Germandrummer92","html_url":"https://github.com/Germandrummer92","followers_url":"https://api.github.com/users/Germandrummer92/followers","following_url":"https://api.github.com/users/Germandrummer92/following{/other_user}","gists_url":"https://api.github.com/users/Germandrummer92/gists{/gist_id}","starred_url":"https://api.github.com/users/Germandrummer92/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Germandrummer92/subscriptions","organizations_url":"https://api.github.com/users/Germandrummer92/orgs","repos_url":"https://api.github.com/users/Germandrummer92/repos","events_url":"https://api.github.com/users/Germandrummer92/events{/privacy}","received_events_url":"https://api.github.com/users/Germandrummer92/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-10T17:09:43Z","updated_at":"2021-11-10T17:09:43Z","author_association":"CONTRIBUTOR","body":"Yes, but there is another important change:\r\n\r\nBefore the retry was only wrapping the raw requests request which actually doesn't raise any exception, since we don't explicitly call ```raise_for_status```, instead now it also wraps the creation of the responseCls (line  677 in common/base.py), in which the actual exception is raised (line 166 in common/base.py).\r\n\r\nSo I actually think the retry wasn't very helpful before since the http exceptions weren't thrown.\r\n\r\nI will take a look at the failing tests now, they worked for me locally","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/965555443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/965565489","html_url":"https://github.com/apache/libcloud/pull/1592#issuecomment-965565489","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1592","id":965565489,"node_id":"IC_kwDOAAZm4845jVwx","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-10T17:20:57Z","updated_at":"2021-11-10T17:20:57Z","author_association":"MEMBER","body":"@Germandrummer92 Thanks for clarifying. And I already have a fix locally and will merge it shortly :)","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/965565489/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/965573726","html_url":"https://github.com/apache/libcloud/pull/1592#issuecomment-965573726","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1592","id":965573726,"node_id":"IC_kwDOAAZm4845jXxe","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-10T17:30:30Z","updated_at":"2021-11-10T17:30:30Z","author_association":"MEMBER","body":"I made a couple of small changes (07062df83f8867e11dc73c54a1e5ed3a44115294, 2c3e38087e18de9f452e856d10fdf8ccc5c8b926) and merged it into trunk. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/965573726/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/966616582","html_url":"https://github.com/apache/libcloud/pull/1627#issuecomment-966616582","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1627","id":966616582,"node_id":"IC_kwDOAAZm4845nWYG","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T20:51:32Z","updated_at":"2021-11-11T20:51:32Z","author_association":"MEMBER","body":"I tested and confirmed the fix using the following approach:\r\n\r\n```bash\r\n# Create distribution under Python 3.py\r\npython setup.py dist\r\n# Create Python 3.5 venv and try to install previously created dist\r\nrm -rf py35-test/ ; python3.5 -m venv py35-test ; source py35-test/bin/activate\r\npip install dist-v340/apache-libcloud-3.4.0.tar.gz\r\n```\r\n\r\nTo be double sure it indeed fixes the issue, I will also upload it to test PyPi server and test installing it from there using Python 3.5.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/966616582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/966620477","html_url":"https://github.com/apache/libcloud/pull/1627#issuecomment-966620477","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1627","id":966620477,"node_id":"IC_kwDOAAZm4845nXU9","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T20:58:25Z","updated_at":"2021-11-11T20:58:25Z","author_association":"MEMBER","body":"Tested it with Test PyPi server and it seems to be picking up and trying to install correct version of ``requests`` library now (but installation fails since that version is not available on test PyPi server.\r\n\r\n```bash\r\n$ python3.5 -m pip install --index-url https://test.pypi.org/simple/ apache-libcloud\r\nRequirement already satisfied: apache-libcloud in /home/kami/w/libcloud/libcloud\r\nCollecting requests>=2.25.1 (from apache-libcloud)\r\n  Could not find a version that satisfies the requirement requests>=2.25.1 (from apache-libcloud) (from versions: 2.5.4.1)\r\nNo matching distribution found for requests>=2.25.1 (from apache-libcloud)\r\n```\r\n\r\nPreviously it would incorrectly try to use >= 2.26.0 which won't work under Python 3.5","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/966620477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/966625020","html_url":"https://github.com/apache/libcloud/pull/1627#issuecomment-966625020","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1627","id":966625020,"node_id":"IC_kwDOAAZm4845nYb8","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T21:06:00Z","updated_at":"2021-11-11T21:06:00Z","author_association":"MEMBER","body":"Technically, since Libcloud is a library and not an application it may actually be the best to simply unpin requests.\r\n\r\nI know that is not ideal because of #1594, but it's probably the safest since this >= 2.26.0 actually has potential to brake more user installations in case they already require conflicting version of requests.\r\n\r\nSo for now I will actually do just that, so we don't need to do another bug fix release in the near future when more people start reporting it's causing issues in their environment due to the conflicting dependency version.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/966625020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/966627964","html_url":"https://github.com/apache/libcloud/issues/1594#issuecomment-966627964","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1594","id":966627964,"node_id":"IC_kwDOAAZm4845nZJ8","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T21:11:03Z","updated_at":"2021-11-11T21:11:03Z","author_association":"MEMBER","body":"@potiuk and others - Just a heads up - I decided to remove that requests pinning change all together for now  - edfb4c5b9302ef74bedb63d53192a458bc466aa2.\r\n\r\nThe reasoning behind it is here - https://github.com/apache/libcloud/pull/1627#issuecomment-966625020.\r\n\r\nIn short, we are a library and not application and strict version pinning like that has a big chance to brake many user installations due to conflicting dependency versions (e.g. user app where they rely on Libcloud among many other libraries relies on requests <= 2.26.0, but we require >= 2.25.0)\r\n\r\nIn fact, it's already braking some places where we rely on Libcloud, but can't use newer version of requests - aka requests is pinned to an older version which is not compatible with latest version Libcloud version due to that strict version pinning.\r\n\r\nAnd per my commit message, I think that should also be fine from licensing perspective since we don't bundle ``requests`` directly and in most cases when installing libcloud, latest version of requests will be correctly picked and installed (unless user already has request pinned to an older version).","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/966627964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/966681292","html_url":"https://github.com/apache/libcloud/issues/1594#issuecomment-966681292","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1594","id":966681292,"node_id":"IC_kwDOAAZm4845nmLM","user":{"login":"justinmclean","id":144504,"node_id":"MDQ6VXNlcjE0NDUwNA==","avatar_url":"https://avatars.githubusercontent.com/u/144504?v=4","gravatar_id":"","url":"https://api.github.com/users/justinmclean","html_url":"https://github.com/justinmclean","followers_url":"https://api.github.com/users/justinmclean/followers","following_url":"https://api.github.com/users/justinmclean/following{/other_user}","gists_url":"https://api.github.com/users/justinmclean/gists{/gist_id}","starred_url":"https://api.github.com/users/justinmclean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinmclean/subscriptions","organizations_url":"https://api.github.com/users/justinmclean/orgs","repos_url":"https://api.github.com/users/justinmclean/repos","events_url":"https://api.github.com/users/justinmclean/events{/privacy}","received_events_url":"https://api.github.com/users/justinmclean/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T22:51:14Z","updated_at":"2021-11-11T22:54:02Z","author_association":"MEMBER","body":"It not fine from an ASF Policy point of view you can not have a dependancy that has a Category X license.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/966681292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/966689653","html_url":"https://github.com/apache/libcloud/issues/1594#issuecomment-966689653","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1594","id":966689653,"node_id":"IC_kwDOAAZm4845noN1","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T23:10:40Z","updated_at":"2021-11-11T23:10:40Z","author_association":"MEMBER","body":"@justinmclean I read the ASF policy (https://www.apache.org/legal/resolved.html) and some of the related JIRA issues (https://issues.apache.org/jira/browse/LEGAL-572, https://issues.apache.org/jira/browse/LEGAL-220) and it doesn't appear that the answer is that straight and clear cut in this scenario (or maybe my interpretation is wrong or I missed some ticket). I haven't really found much prior art either.\r\n\r\nThere are a couple of things at play here:\r\n\r\n1. We don't bundle any dependency directly with the library. Dependencies are installed when installing library from PyPi using pip on install time.\r\n2. Library with a problematic dependency in this case is a transitive dependency of requests on which Libcloud relies on and not a direct dependency.\r\n\r\nI'm of course all for being on the \"safe side as much as possible\", but sadly the issue is more complicated, because as mentioned above, Libcloud is a library and not an application. Libcloud is usually used as one of the many build blocks among many other libraries to build different application on top and similar.\r\n\r\nThis means we should use as loose requirements as possible and not pin dependencies to specific versions since this will prevent many users from using the library if some other dependency in their stack depends on an older or a conflicting version (which is very likely the case with requests since 2.26.0 was released just recently and I'm personally aware of multiple situations like that myself).\r\n\r\nApache Airflow is a bit different and doesn't have the same problem since they are an application and not a library. And applications are usually encouraged (and it's also a best practice for reproducibility, secure and other reasons) to pin all the dependencies to specific versions.\r\n\r\nIn addition to that, we still support Python 3.5 and requests 2.2.26 only supports Python >= 3.6.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/966689653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/966695247","html_url":"https://github.com/apache/libcloud/issues/1594#issuecomment-966695247","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1594","id":966695247,"node_id":"IC_kwDOAAZm4845nplP","user":{"login":"potiuk","id":595491,"node_id":"MDQ6VXNlcjU5NTQ5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/595491?v=4","gravatar_id":"","url":"https://api.github.com/users/potiuk","html_url":"https://github.com/potiuk","followers_url":"https://api.github.com/users/potiuk/followers","following_url":"https://api.github.com/users/potiuk/following{/other_user}","gists_url":"https://api.github.com/users/potiuk/gists{/gist_id}","starred_url":"https://api.github.com/users/potiuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/potiuk/subscriptions","organizations_url":"https://api.github.com/users/potiuk/orgs","repos_url":"https://api.github.com/users/potiuk/repos","events_url":"https://api.github.com/users/potiuk/events{/privacy}","received_events_url":"https://api.github.com/users/potiuk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T23:22:14Z","updated_at":"2021-11-11T23:22:14Z","author_association":"MEMBER","body":"See my comment here: https://issues.apache.org/jira/browse/LEGAL-572?focusedCommentId=17442504&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-17442504 - I quite agree with @Kami ","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/966695247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/966696598","html_url":"https://github.com/apache/libcloud/issues/1594#issuecomment-966696598","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1594","id":966696598,"node_id":"IC_kwDOAAZm4845np6W","user":{"login":"potiuk","id":595491,"node_id":"MDQ6VXNlcjU5NTQ5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/595491?v=4","gravatar_id":"","url":"https://api.github.com/users/potiuk","html_url":"https://github.com/potiuk","followers_url":"https://api.github.com/users/potiuk/followers","following_url":"https://api.github.com/users/potiuk/following{/other_user}","gists_url":"https://api.github.com/users/potiuk/gists{/gist_id}","starred_url":"https://api.github.com/users/potiuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/potiuk/subscriptions","organizations_url":"https://api.github.com/users/potiuk/orgs","repos_url":"https://api.github.com/users/potiuk/repos","events_url":"https://api.github.com/users/potiuk/events{/privacy}","received_events_url":"https://api.github.com/users/potiuk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T23:25:20Z","updated_at":"2021-11-11T23:25:20Z","author_association":"MEMBER","body":"And just to add to that - Airlfow is both a library AND application :). Which makes us take even a bit different approach (we have as open dependencies as we can afford, but we also have constraint files to allow installation to be reproducible: https://airflow.apache.org/docs/apache-airflow/stable/installation/installing-from-pypi.html#constraints-files \r\n\r\nWe added the \"requests\" limitation,  but I definitely agree library such as libcloud should not do it unless they are really broken by some library versions.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/966696598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/966700137","html_url":"https://github.com/apache/libcloud/issues/1594#issuecomment-966700137","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1594","id":966700137,"node_id":"IC_kwDOAAZm4845nqxp","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-11T23:33:31Z","updated_at":"2021-11-11T23:33:31Z","author_association":"MEMBER","body":"@potiuk Thanks for your input and additional context (and of course many thanks for bringing this issue to our and other projects attention and coordinating with the requests project, etc.)\r\n\r\n@justinmclean Also thanks for your input. With all the info above, we would like to get some additional clarify on how to proceed here.\r\n\r\nWe will of course comply with any legal requirements, but we need to know how to proceed so we can plan and execute accordingly. \r\n\r\nIf there is no other way, but to update our setup.py metadata file but to require ``requests >= 2.26.0`` (which will likely cause issues with a lot of our users and they won't be able to upgrade), we will also need to drop support for Python 3.5 since that version is only available for Python >= 3.6 (that's something we have been planning to do in the future anyway, but not just yet).","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/966700137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/978335128","html_url":"https://github.com/apache/libcloud/pull/1628#issuecomment-978335128","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1628","id":978335128,"node_id":"IC_kwDOAAZm4846UDWY","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-24T22:17:11Z","updated_at":"2021-11-24T22:17:11Z","author_association":"MEMBER","body":"Thanks for the contribution.\r\n\r\nCan you please add a corresponding test case for it and confirm ``libcloud/compute/constants/ec2_region_details_complete.py` has been updated by running ``contrib/scrape-ec2-sizes.py`` script?","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/978335128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/978371898","html_url":"https://github.com/apache/libcloud/issues/1623#issuecomment-978371898","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1623","id":978371898,"node_id":"IC_kwDOAAZm4846UMU6","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-24T22:37:45Z","updated_at":"2021-11-24T22:37:45Z","author_association":"MEMBER","body":"Alright, #1624 has been merged and that includes more reasonable 100 character long line length.\r\n\r\nHopefully people won't have too many issues syncing their forks with the latest trunk version.\r\n\r\nThe best workflow probably is to run black with the same config as trunk uses on your local fork / changes, commit the change and then merge / pull in in latest upstream trunk - this should make addressing any conflicts easier.\r\n\r\nSo something along those lines:\r\n\r\n```bash\r\n# Run this inside the directory of your fork\r\nwget https://raw.githubusercontent.com/apache/libcloud/trunk/pyproject.toml\r\n# NOTE: It's important that the same version of black is used\r\npip install \"black==21.10b0\"\r\nblack --config pyproject.toml libcloud/\r\nblack --config pyproject.toml docs/examples/\r\nblack --config pyproject.toml demos/\r\nblack --config pyproject.toml contrib/\r\nblack --config pyproject.toml pylint_plugins/\r\ngit commit -am \"Reformat code with black\".\r\nrm pyproject.yoml\r\ngit pull upstream trunk\r\n```\r\n\r\nI will add comment with similar instructions to all the open PRs when I get a chance to write it up.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/978371898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/979923656","html_url":"https://github.com/apache/libcloud/pull/1628#issuecomment-979923656","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1628","id":979923656,"node_id":"IC_kwDOAAZm4846aHLI","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-26T11:54:35Z","updated_at":"2021-11-26T11:54:35Z","author_association":"MEMBER","body":"Per my my comment above and in the other PR, ``contrib/scrape-ec2-prices.py`` & ``contrib/scrape-ec2-sizes.py`` files need to be updated and then ``tox -e scrape-ec2-sizes`` command needs to be run.\r\n\r\nOtherwise those changes won't have any affect and will get overwritten next time ``tox -e scrape-ec2-sizes`` command runs.\r\n\r\nI've done that in 762f0e5623b6f9837204ffe27d825b236c9c9970, re-ran that tox target and committed the changes.\r\n\r\nThe changes have also been merged into trunk. Thanks for your contribution.\r\n\r\nI will also try to add some information on how to handle updating those sizes and pricing data to the developer documentation.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/979923656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/979934862","html_url":"https://github.com/apache/libcloud/pull/1628#issuecomment-979934862","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1628","id":979934862,"node_id":"IC_kwDOAAZm4846aJ6O","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-26T12:13:30Z","updated_at":"2021-11-26T12:13:30Z","author_association":"MEMBER","body":"I added some developer docs on how to update sizing (+region) and pricing data in 460876539f363b266cc4e01ab76598fa53b711a2.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/979934862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/979942596","html_url":"https://github.com/apache/libcloud/issues/1623#issuecomment-979942596","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1623","id":979942596,"node_id":"IC_kwDOAAZm4846aLzE","user":{"login":"d-mo","id":1026101,"node_id":"MDQ6VXNlcjEwMjYxMDE=","avatar_url":"https://avatars.githubusercontent.com/u/1026101?v=4","gravatar_id":"","url":"https://api.github.com/users/d-mo","html_url":"https://github.com/d-mo","followers_url":"https://api.github.com/users/d-mo/followers","following_url":"https://api.github.com/users/d-mo/following{/other_user}","gists_url":"https://api.github.com/users/d-mo/gists{/gist_id}","starred_url":"https://api.github.com/users/d-mo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d-mo/subscriptions","organizations_url":"https://api.github.com/users/d-mo/orgs","repos_url":"https://api.github.com/users/d-mo/repos","events_url":"https://api.github.com/users/d-mo/events{/privacy}","received_events_url":"https://api.github.com/users/d-mo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-26T12:26:44Z","updated_at":"2021-11-26T12:26:44Z","author_association":"CONTRIBUTOR","body":"Thank you @Kami for the heads up and for going ahead with this. It will inevitably introduce some merge conflicts but we'll manage. It's also a good opportunity for grooming and contributing back more changes from our fork.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/979942596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/979947717","html_url":"https://github.com/apache/libcloud/issues/1623#issuecomment-979947717","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1623","id":979947717,"node_id":"IC_kwDOAAZm4846aNDF","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-26T12:36:02Z","updated_at":"2021-11-26T12:36:02Z","author_association":"MEMBER","body":"@d-mo You are welcome and I hope it won't cause too much pain for you.\r\n\r\nI tested the workflow above on an out of date fork and it \"mostly works\" - it looks like there is a bug in black with unstable code formatting (aka if you run black twice) in some edge cases which results in some more work / conflicts, but sadly there isn't much we can do (and black bug fix for that issue is not available yet).","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/979947717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/980093239","html_url":"https://github.com/apache/libcloud/pull/1628#issuecomment-980093239","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1628","id":980093239,"node_id":"IC_kwDOAAZm4846awk3","user":{"login":"r2ronoha","id":15330641,"node_id":"MDQ6VXNlcjE1MzMwNjQx","avatar_url":"https://avatars.githubusercontent.com/u/15330641?v=4","gravatar_id":"","url":"https://api.github.com/users/r2ronoha","html_url":"https://github.com/r2ronoha","followers_url":"https://api.github.com/users/r2ronoha/followers","following_url":"https://api.github.com/users/r2ronoha/following{/other_user}","gists_url":"https://api.github.com/users/r2ronoha/gists{/gist_id}","starred_url":"https://api.github.com/users/r2ronoha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r2ronoha/subscriptions","organizations_url":"https://api.github.com/users/r2ronoha/orgs","repos_url":"https://api.github.com/users/r2ronoha/repos","events_url":"https://api.github.com/users/r2ronoha/events{/privacy}","received_events_url":"https://api.github.com/users/r2ronoha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-26T16:17:41Z","updated_at":"2021-11-26T16:17:41Z","author_association":"CONTRIBUTOR","body":"> I added some developer docs on how to update sizing (+region) and pricing data in [4608765](https://github.com/apache/libcloud/commit/460876539f363b266cc4e01ab76598fa53b711a2).\r\n\r\nMany thanks for your assistance","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/980093239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/981419756","html_url":"https://github.com/apache/libcloud/pull/1630#issuecomment-981419756","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1630","id":981419756,"node_id":"IC_kwDOAAZm4846f0bs","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-29T09:03:28Z","updated_at":"2021-12-02T20:57:15Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/libcloud/pull/1630?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#1630](https://codecov.io/gh/apache/libcloud/pull/1630?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (0df3639) into [trunk](https://codecov.io/gh/apache/libcloud/commit/97a417d6c762c2cefc16d74c79243eba7db2721a?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (97a417d) will **decrease** coverage by `0.00%`.\n> The diff coverage is `81.69%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/libcloud/pull/1630/graphs/tree.svg?width=650&height=150&src=pr&token=PYoduksh69&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/libcloud/pull/1630?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@            Coverage Diff             @@\n##            trunk    #1630      +/-   ##\n==========================================\n- Coverage   83.17%   83.17%   -0.01%     \n==========================================\n  Files         398      398              \n  Lines       86624    86694      +70     \n  Branches     9204     9213       +9     \n==========================================\n+ Hits        72053    72110      +57     \n- Misses      11442    11450       +8     \n- Partials     3129     3134       +5     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/libcloud/pull/1630?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [libcloud/compute/drivers/openstack.py](https://codecov.io/gh/apache/libcloud/pull/1630/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvY29tcHV0ZS9kcml2ZXJzL29wZW5zdGFjay5weQ==) | `85.17% <73.17%> (-0.39%)` | :arrow_down: |\n| [libcloud/test/compute/test\\_openstack.py](https://codecov.io/gh/apache/libcloud/pull/1630/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvdGVzdC9jb21wdXRlL3Rlc3Rfb3BlbnN0YWNrLnB5) | `94.53% <93.33%> (-0.02%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/libcloud/pull/1630?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/libcloud/pull/1630?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [97a417d...0df3639](https://codecov.io/gh/apache/libcloud/pull/1630?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/981419756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/983378794","html_url":"https://github.com/apache/libcloud/issues/1590#issuecomment-983378794","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1590","id":983378794,"node_id":"IC_kwDOAAZm4846nStq","user":{"login":"Asiwaju887","id":38353432,"node_id":"MDQ6VXNlcjM4MzUzNDMy","avatar_url":"https://avatars.githubusercontent.com/u/38353432?v=4","gravatar_id":"","url":"https://api.github.com/users/Asiwaju887","html_url":"https://github.com/Asiwaju887","followers_url":"https://api.github.com/users/Asiwaju887/followers","following_url":"https://api.github.com/users/Asiwaju887/following{/other_user}","gists_url":"https://api.github.com/users/Asiwaju887/gists{/gist_id}","starred_url":"https://api.github.com/users/Asiwaju887/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Asiwaju887/subscriptions","organizations_url":"https://api.github.com/users/Asiwaju887/orgs","repos_url":"https://api.github.com/users/Asiwaju887/repos","events_url":"https://api.github.com/users/Asiwaju887/events{/privacy}","received_events_url":"https://api.github.com/users/Asiwaju887/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-01T07:53:18Z","updated_at":"2021-12-01T07:53:18Z","author_association":"NONE","body":"Make sure the AWS_REGION you are using is the default region or you can then specify your won region also","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/983378794/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/983381902","html_url":"https://github.com/apache/libcloud/issues/1581#issuecomment-983381902","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1581","id":983381902,"node_id":"IC_kwDOAAZm4846nTeO","user":{"login":"Asiwaju887","id":38353432,"node_id":"MDQ6VXNlcjM4MzUzNDMy","avatar_url":"https://avatars.githubusercontent.com/u/38353432?v=4","gravatar_id":"","url":"https://api.github.com/users/Asiwaju887","html_url":"https://github.com/Asiwaju887","followers_url":"https://api.github.com/users/Asiwaju887/followers","following_url":"https://api.github.com/users/Asiwaju887/following{/other_user}","gists_url":"https://api.github.com/users/Asiwaju887/gists{/gist_id}","starred_url":"https://api.github.com/users/Asiwaju887/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Asiwaju887/subscriptions","organizations_url":"https://api.github.com/users/Asiwaju887/orgs","repos_url":"https://api.github.com/users/Asiwaju887/repos","events_url":"https://api.github.com/users/Asiwaju887/events{/privacy}","received_events_url":"https://api.github.com/users/Asiwaju887/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-01T07:58:16Z","updated_at":"2021-12-01T07:58:16Z","author_association":"NONE","body":"I do not really get what you mean by store data Bucket, but if you want to upload and download an object to a bucket in s3 in your region use can use this code below\r\n\r\n`client = get_driver(Provider.S3_AP_NORTHEAST)\r\n    s3 = client(aws_id, aws_secret)\r\n\r\n\r\n    container = s3.get_container(container_name=container_name)\r\n    # This method blocks until all the parts have been uploaded.\r\n    extra = {'content_type': 'application/octet-stream'}\r\n\r\n    with open(FILE_PATH, 'rb') as iterator:\r\n        obj = s3.upload_object_via_stream(iterator=iterator,\r\n                                            container=container,\r\n                                            object_name='create.txt',\r\n                                            extra=extra)`\r\n\r\n\r\nLet me know if this work.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/983381902/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/983712951","html_url":"https://github.com/apache/libcloud/pull/1584#issuecomment-983712951","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1584","id":983712951,"node_id":"IC_kwDOAAZm4846okS3","user":{"login":"louis-van-der-stam","id":46439528,"node_id":"MDQ6VXNlcjQ2NDM5NTI4","avatar_url":"https://avatars.githubusercontent.com/u/46439528?v=4","gravatar_id":"","url":"https://api.github.com/users/louis-van-der-stam","html_url":"https://github.com/louis-van-der-stam","followers_url":"https://api.github.com/users/louis-van-der-stam/followers","following_url":"https://api.github.com/users/louis-van-der-stam/following{/other_user}","gists_url":"https://api.github.com/users/louis-van-der-stam/gists{/gist_id}","starred_url":"https://api.github.com/users/louis-van-der-stam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/louis-van-der-stam/subscriptions","organizations_url":"https://api.github.com/users/louis-van-der-stam/orgs","repos_url":"https://api.github.com/users/louis-van-der-stam/repos","events_url":"https://api.github.com/users/louis-van-der-stam/events{/privacy}","received_events_url":"https://api.github.com/users/louis-van-der-stam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-01T14:47:09Z","updated_at":"2021-12-01T14:47:09Z","author_association":"NONE","body":"After upgrading to version 3.4.1 from version 3.3.1, the unit tests of my project broke! After diving into the code, it turns out that currently the local driver takes the prefix and appends it as a directory. Effectively this means that the prefix is not used as a file prefix anymore, but instead as a sub-directory name of the container main directory.\r\n\r\nLooking a bit further, I was unable to find a os level function that does filtering when requesting a directory listing. Please unmerge this PR!","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/983712951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/983859677","html_url":"https://github.com/apache/libcloud/pull/1584#issuecomment-983859677","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1584","id":983859677,"node_id":"IC_kwDOAAZm4846pIHd","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-01T17:20:35Z","updated_at":"2021-12-01T17:20:35Z","author_association":"MEMBER","body":"@louis-van-der-stam Thanks for reporting this issue.\r\n\r\n@Ido-Levi It looks like that the change was probably inadvertently backward incompatible and breaking (prefix filtering should apply to the object name and not to the sub-directory / bucket name). It sounds like we should revert it. What do you think?","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/983859677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/983881324","html_url":"https://github.com/apache/libcloud/pull/1584#issuecomment-983881324","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1584","id":983881324,"node_id":"IC_kwDOAAZm4846pNZs","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-01T17:45:06Z","updated_at":"2021-12-01T17:46:52Z","author_association":"MEMBER","body":"@louis-van-der-stam #1631 should fix this regression. Sadly we didn't have an existing test cases for this scenario which would have caught this issue early. Can you please verify the fix?\r\n\r\n@Ido-Levi Thanks for your original contribution and good intention with the performance optimization, but sadly the change needs to be reverted since it breaks the expected behavior (prefix filtering being applied against the object name - which may include actual bucket name, but that's provider / implementation specific).\r\n\r\nEDIT: Thinking about it some more, we may still be able to introduce optimization for some scenarios in the future (perhaps by checking if the name contains path separator or similar, but that would only apply to some scenarios and likely also has more edge cases which we need to handle correctly).","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/983881324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/983895329","html_url":"https://github.com/apache/libcloud/pull/1631#issuecomment-983895329","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1631","id":983895329,"node_id":"IC_kwDOAAZm4846pQ0h","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-01T17:52:30Z","updated_at":"2021-12-02T20:35:03Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/libcloud/pull/1631?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#1631](https://codecov.io/gh/apache/libcloud/pull/1631?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (6c1ac18) into [trunk](https://codecov.io/gh/apache/libcloud/commit/460876539f363b266cc4e01ab76598fa53b711a2?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4608765) will **increase** coverage by `0.00%`.\n> The diff coverage is `93.02%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/libcloud/pull/1631/graphs/tree.svg?width=650&height=150&src=pr&token=PYoduksh69&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/libcloud/pull/1631?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@           Coverage Diff           @@\n##            trunk    #1631   +/-   ##\n=======================================\n  Coverage   83.16%   83.17%           \n=======================================\n  Files         397      398    +1     \n  Lines       86557    86625   +68     \n  Branches     9198     9204    +6     \n=======================================\n+ Hits        71989    72053   +64     \n- Misses      11441    11442    +1     \n- Partials     3127     3130    +3     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/libcloud/pull/1631?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...chmarks/test\\_list\\_objects\\_filtering\\_performance.py](https://codecov.io/gh/apache/libcloud/pull/1631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvdGVzdC9iZW5jaG1hcmtzL3Rlc3RfbGlzdF9vYmplY3RzX2ZpbHRlcmluZ19wZXJmb3JtYW5jZS5weQ==) | `88.57% <88.57%> (ø)` | |\n| [libcloud/storage/drivers/local.py](https://codecov.io/gh/apache/libcloud/pull/1631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvc3RvcmFnZS9kcml2ZXJzL2xvY2FsLnB5) | `76.89% <92.85%> (+1.16%)` | :arrow_up: |\n| [libcloud/test/storage/test\\_local.py](https://codecov.io/gh/apache/libcloud/pull/1631/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bGliY2xvdWQvdGVzdC9zdG9yYWdlL3Rlc3RfbG9jYWwucHk=) | `92.02% <100.00%> (+0.50%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/libcloud/pull/1631?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/libcloud/pull/1631?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [4608765...6c1ac18](https://codecov.io/gh/apache/libcloud/pull/1631?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/983895329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/983921695","html_url":"https://github.com/apache/libcloud/pull/1631#issuecomment-983921695","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1631","id":983921695,"node_id":"IC_kwDOAAZm4846pXQf","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-01T18:06:38Z","updated_at":"2021-12-01T18:06:38Z","author_association":"MEMBER","body":"@louis-van-der-stam I added another somewhat related change which makes the output of ``list_container_objects`` sorted based on the object name which should result in consistent and stable order across Python versions and implementations - 6a24f1e5941c10535e8dad7fa2def92bc92ee5de, 4cdf818a5a501c6dd06c8491b8cbbee3d316c4d5.\r\n\r\nDo you think that change could cause issues?\r\n\r\nI mean, it's possible that some code or change which relied on the previous order would break, but before this change, the order wasn't guaranteed anyway and was \"arbitrary\" and could be different across different Python versions and implementations.\r\n\r\nFrom Python docs on ``os.listdir`` on which ``os.walk`` relies on:\r\n\r\n> The list is in arbitrary order. It does not include the special entries '.' and '..' even if they are present in the directory.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/983921695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/984332581","html_url":"https://github.com/apache/libcloud/pull/1631#issuecomment-984332581","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1631","id":984332581,"node_id":"IC_kwDOAAZm4846q7kl","user":{"login":"louis-van-der-stam","id":46439528,"node_id":"MDQ6VXNlcjQ2NDM5NTI4","avatar_url":"https://avatars.githubusercontent.com/u/46439528?v=4","gravatar_id":"","url":"https://api.github.com/users/louis-van-der-stam","html_url":"https://github.com/louis-van-der-stam","followers_url":"https://api.github.com/users/louis-van-der-stam/followers","following_url":"https://api.github.com/users/louis-van-der-stam/following{/other_user}","gists_url":"https://api.github.com/users/louis-van-der-stam/gists{/gist_id}","starred_url":"https://api.github.com/users/louis-van-der-stam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/louis-van-der-stam/subscriptions","organizations_url":"https://api.github.com/users/louis-van-der-stam/orgs","repos_url":"https://api.github.com/users/louis-van-der-stam/repos","events_url":"https://api.github.com/users/louis-van-der-stam/events{/privacy}","received_events_url":"https://api.github.com/users/louis-van-der-stam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-02T06:30:55Z","updated_at":"2021-12-02T07:14:13Z","author_association":"NONE","body":"@Kami I don't think sorting impacts the functionality, but can imagine that it impacts the runtime of the call.\r\n\r\nIn my case there are huge and ever increasing numbers of objects. My case has no dependency on order -> my preference would be to leave sorting of the results to the caller.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/984332581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/984337593","html_url":"https://github.com/apache/libcloud/pull/1631#issuecomment-984337593","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1631","id":984337593,"node_id":"IC_kwDOAAZm4846q8y5","user":{"login":"louis-van-der-stam","id":46439528,"node_id":"MDQ6VXNlcjQ2NDM5NTI4","avatar_url":"https://avatars.githubusercontent.com/u/46439528?v=4","gravatar_id":"","url":"https://api.github.com/users/louis-van-der-stam","html_url":"https://github.com/louis-van-der-stam","followers_url":"https://api.github.com/users/louis-van-der-stam/followers","following_url":"https://api.github.com/users/louis-van-der-stam/following{/other_user}","gists_url":"https://api.github.com/users/louis-van-der-stam/gists{/gist_id}","starred_url":"https://api.github.com/users/louis-van-der-stam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/louis-van-der-stam/subscriptions","organizations_url":"https://api.github.com/users/louis-van-der-stam/orgs","repos_url":"https://api.github.com/users/louis-van-der-stam/repos","events_url":"https://api.github.com/users/louis-van-der-stam/events{/privacy}","received_events_url":"https://api.github.com/users/louis-van-der-stam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-02T06:42:29Z","updated_at":"2021-12-02T07:14:33Z","author_association":"NONE","body":"@Kami Thanks for your quick response and action!","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/984337593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/984433508","html_url":"https://github.com/apache/libcloud/pull/1630#issuecomment-984433508","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1630","id":984433508,"node_id":"IC_kwDOAAZm4846rUNk","user":{"login":"micafer","id":4972699,"node_id":"MDQ6VXNlcjQ5NzI2OTk=","avatar_url":"https://avatars.githubusercontent.com/u/4972699?v=4","gravatar_id":"","url":"https://api.github.com/users/micafer","html_url":"https://github.com/micafer","followers_url":"https://api.github.com/users/micafer/followers","following_url":"https://api.github.com/users/micafer/following{/other_user}","gists_url":"https://api.github.com/users/micafer/gists{/gist_id}","starred_url":"https://api.github.com/users/micafer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/micafer/subscriptions","organizations_url":"https://api.github.com/users/micafer/orgs","repos_url":"https://api.github.com/users/micafer/repos","events_url":"https://api.github.com/users/micafer/events{/privacy}","received_events_url":"https://api.github.com/users/micafer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-02T09:11:31Z","updated_at":"2021-12-02T09:11:31Z","author_association":"CONTRIBUTOR","body":"Hi @Kami,\r\nIntegration Tests are failing and the error seems that is not related with this PR.\r\nAny ideas?","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/984433508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/984460273","html_url":"https://github.com/apache/libcloud/pull/1631#issuecomment-984460273","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1631","id":984460273,"node_id":"IC_kwDOAAZm4846ravx","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-02T09:44:33Z","updated_at":"2021-12-02T09:44:33Z","author_association":"MEMBER","body":"@louis-van-der-stam How many objects we are talking about? Should be pretty straight forward to write a micro-benchmark to see how much overhead it adds and if that overhead is negligible or not (I can look into it a bit later).","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/984460273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/984471805","html_url":"https://github.com/apache/libcloud/pull/1631#issuecomment-984471805","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1631","id":984471805,"node_id":"IC_kwDOAAZm4846rdj9","user":{"login":"louis-van-der-stam","id":46439528,"node_id":"MDQ6VXNlcjQ2NDM5NTI4","avatar_url":"https://avatars.githubusercontent.com/u/46439528?v=4","gravatar_id":"","url":"https://api.github.com/users/louis-van-der-stam","html_url":"https://github.com/louis-van-der-stam","followers_url":"https://api.github.com/users/louis-van-der-stam/followers","following_url":"https://api.github.com/users/louis-van-der-stam/following{/other_user}","gists_url":"https://api.github.com/users/louis-van-der-stam/gists{/gist_id}","starred_url":"https://api.github.com/users/louis-van-der-stam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/louis-van-der-stam/subscriptions","organizations_url":"https://api.github.com/users/louis-van-der-stam/orgs","repos_url":"https://api.github.com/users/louis-van-der-stam/repos","events_url":"https://api.github.com/users/louis-van-der-stam/events{/privacy}","received_events_url":"https://api.github.com/users/louis-van-der-stam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-02T09:59:13Z","updated_at":"2021-12-02T09:59:13Z","author_association":"NONE","body":"> @louis-van-der-stam How many objects we are talking about? Should be pretty straight forward to write a micro-benchmark to see how much overhead it adds and if that overhead is negligible or not (I can look into it a bit later).\r\n\r\nRight now 150000 objects, adding several 1000s every day. To be honnest since it seems at the os level there is no way arround fetching all and matching for a prefix, I'm thinking about caching the results in a container wrapper...","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/984471805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/984684135","html_url":"https://github.com/apache/libcloud/pull/1631#issuecomment-984684135","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1631","id":984684135,"node_id":"IC_kwDOAAZm4846sRZn","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-02T14:35:21Z","updated_at":"2021-12-02T14:37:39Z","author_association":"MEMBER","body":"@louis-van-der-stam Thanks for the info. I will add some micro-benchmarks when I get a chance, just to get some idea on the sorting overhead.\r\n\r\nBut yeah, local storage driver was never built with performance in mind - it was designed and built for testing purposes.\r\n\r\nHaving said that, per my comment [here](https://github.com/apache/libcloud/pull/1584#issuecomment-983881324), I do think there are some possible performance optimizations for some scenarios. \r\n\r\nIn short, something similar to what was originally done in #1584, but making sure all the edge cases are handled correctly and only filtering by sub-directory if the actual prefix maps to a sub-directory and not to an object.\r\n\r\nBut yeah, in the end, we are limited by the OS primitives available and we will still need to do some late filtering in the Python code no matter what (depending on what you are working on and your use case, inotify based approach may offer advantages, but that's of course out of scope of Libcloud).","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/984684135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/984859910","html_url":"https://github.com/apache/libcloud/pull/1631#issuecomment-984859910","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1631","id":984859910,"node_id":"IC_kwDOAAZm4846s8UG","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-02T17:52:44Z","updated_at":"2021-12-02T17:52:44Z","author_association":"MEMBER","body":"OK, I had a look and the approach I suggested above won't work so we are stuck with the current implementation and there isn't tons we can do to improve it.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/984859910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/984901457","html_url":"https://github.com/apache/libcloud/pull/1631#issuecomment-984901457","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1631","id":984901457,"node_id":"IC_kwDOAAZm4846tGdR","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-02T18:47:52Z","updated_at":"2021-12-02T18:47:52Z","author_association":"MEMBER","body":"@louis-van-der-stam I added a simple benchmark which measures how much overhead sorting adds to that method - 230a094ab72ec0a6f8da76c5f31259240c034ae5.\r\n\r\n![Screenshot from 2021-12-02 19-39-23](https://user-images.githubusercontent.com/125088/144484009-cfa611a0-728e-4ffe-bd81-46964fadc049.png)\r\n\r\nPer results, the overhead is pretty much negligible so I think it's fine to leave that code in place.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/984901457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/984980712","html_url":"https://github.com/apache/libcloud/pull/1630#issuecomment-984980712","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1630","id":984980712,"node_id":"IC_kwDOAAZm4846tZzo","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-02T20:35:08Z","updated_at":"2021-12-02T20:35:08Z","author_association":"MEMBER","body":"@micafer Not sure why those tests are failing. Could be a temporary issue since it works fine in other PRs (so re-run may help).","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/984980712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/986229651","html_url":"https://github.com/apache/libcloud/pull/1633#issuecomment-986229651","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1633","id":986229651,"node_id":"IC_kwDOAAZm4846yKuT","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T13:22:47Z","updated_at":"2021-12-05T13:22:47Z","author_association":"MEMBER","body":"Thank you for the contribution. Can you please work on getting an ICLA signed - libcloud.readthedocs.org/en/latest/development.html#contributing-bigger-changes?","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/986229651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/986230688","html_url":"https://github.com/apache/libcloud/pull/1633#issuecomment-986230688","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1633","id":986230688,"node_id":"IC_kwDOAAZm4846yK-g","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T13:29:18Z","updated_at":"2021-12-05T13:29:18Z","author_association":"MEMBER","body":"Thanks again for the contribution. I added some review comments in-line.","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/986230688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/986231027","html_url":"https://github.com/apache/libcloud/pull/1533#issuecomment-986231027","issue_url":"https://api.github.com/repos/apache/libcloud/issues/1533","id":986231027,"node_id":"IC_kwDOAAZm4846yLDz","user":{"login":"Kami","id":125088,"node_id":"MDQ6VXNlcjEyNTA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/125088?v=4","gravatar_id":"","url":"https://api.github.com/users/Kami","html_url":"https://github.com/Kami","followers_url":"https://api.github.com/users/Kami/followers","following_url":"https://api.github.com/users/Kami/following{/other_user}","gists_url":"https://api.github.com/users/Kami/gists{/gist_id}","starred_url":"https://api.github.com/users/Kami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kami/subscriptions","organizations_url":"https://api.github.com/users/Kami/orgs","repos_url":"https://api.github.com/users/Kami/repos","events_url":"https://api.github.com/users/Kami/events{/privacy}","received_events_url":"https://api.github.com/users/Kami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-05T13:31:26Z","updated_at":"2021-12-05T13:31:26Z","author_association":"MEMBER","body":"@alivx I see you approved this PR.\r\n\r\nWould you mind finishing it up (adding test cases, syncing changes with latest trunk) so we can merge it into trunk?","reactions":{"url":"https://api.github.com/repos/apache/libcloud/issues/comments/986231027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]