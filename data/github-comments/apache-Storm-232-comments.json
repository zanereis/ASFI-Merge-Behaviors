[{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916770","html_url":"https://github.com/apache/storm/issues/5683#issuecomment-2612916770","issue_url":"https://api.github.com/repos/apache/storm/issues/5683","id":2612916770,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTY3NzA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-26T20:30:45Z","updated_at":"2025-01-24T16:23:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user dossett commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1521\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1521</a></p>\n\n<p>    Thanks @vesense I will review this week.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/228623781","html_url":"https://github.com/apache/storm/pull/1521#issuecomment-228623781","issue_url":"https://api.github.com/repos/apache/storm/issues/1521","id":228623781,"node_id":"MDEyOklzc3VlQ29tbWVudDIyODYyMzc4MQ==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-26T21:22:36Z","updated_at":"2016-06-26T21:22:36Z","author_association":"CONTRIBUTOR","body":"@vesense is this intended to be a schema registry, i.e users publishing their schemas IMO having schema registry again in storm is not a good idea.\nBy looking at the code seems to be a module containing avro related modules and mostly related to storm-kafka module. From what I see this is a AvroSerializer and AvroDeserializer if so shouldn't these part of storm-kafka module instead of being its own external module. Trying to understand where its applicable except the storm-kafka module at this point.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/228623781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916774","html_url":"https://github.com/apache/storm/issues/5683#issuecomment-2612916774","issue_url":"https://api.github.com/repos/apache/storm/issues/5683","id":2612916774,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTY3NzQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-26T21:22:37Z","updated_at":"2025-01-24T16:23:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1521\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1521</a></p>\n\n<p>    @vesense is this intended to be a schema registry, i.e users publishing their schemas IMO having schema registry again in storm is not a good idea.<br/>\n    By looking at the code seems to be a module containing avro related modules and mostly related to storm-kafka module. From what I see this is a AvroSerializer and AvroDeserializer if so shouldn't these part of storm-kafka module instead of being its own external module. Trying to understand where its applicable except the storm-kafka module at this point.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/228623805","html_url":"https://github.com/apache/storm/pull/1519#issuecomment-228623805","issue_url":"https://api.github.com/repos/apache/storm/issues/1519","id":228623805,"node_id":"MDEyOklzc3VlQ29tbWVudDIyODYyMzgwNQ==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-26T21:23:01Z","updated_at":"2016-06-26T21:23:01Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/228623805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919949","html_url":"https://github.com/apache/storm/issues/5704#issuecomment-2612919949","issue_url":"https://api.github.com/repos/apache/storm/issues/5704","id":2612919949,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTk5NDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-26T21:23:03Z","updated_at":"2025-01-24T16:24:50Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1519\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1519</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/228633553","html_url":"https://github.com/apache/storm/pull/1517#issuecomment-228633553","issue_url":"https://api.github.com/repos/apache/storm/issues/1517","id":228633553,"node_id":"MDEyOklzc3VlQ29tbWVudDIyODYzMzU1Mw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T00:44:06Z","updated_at":"2016-06-27T00:44:06Z","author_association":"CONTRIBUTOR","body":"@darionyaphet Could you check if this bolt covers your origin intention? Thanks!\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/228633553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919446","html_url":"https://github.com/apache/storm/issues/5701#issuecomment-2612919446","issue_url":"https://api.github.com/repos/apache/storm/issues/5701","id":2612919446,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTk0NDY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T00:44:08Z","updated_at":"2025-01-24T16:24:36Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1517\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1517</a></p>\n\n<p>    @darionyaphet Could you check if this bolt covers your origin intention? Thanks!</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919452","html_url":"https://github.com/apache/storm/issues/5701#issuecomment-2612919452","issue_url":"https://api.github.com/repos/apache/storm/issues/5701","id":2612919452,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTk0NTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T01:04:06Z","updated_at":"2025-01-24T16:24:36Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/browse/STORM-1880\" title=\"Support  EXISTS Command Storm-Redis\" class=\"issue-link\" data-issue-key=\"STORM-1880\"><del>STORM-1880</del></a> can be closed when this issue gets merged.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612878766","html_url":"https://github.com/apache/storm/issues/5429#issuecomment-2612878766","issue_url":"https://api.github.com/repos/apache/storm/issues/5429","id":2612878766,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4Nzg3NjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T02:35:43Z","updated_at":"2025-01-24T16:05:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user lujinhong opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1522\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1522</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1594\" title=\"org.apache.storm.tuple.Fields can throw NPE if given invalid field in selector\" class=\"issue-link\" data-issue-key=\"STORM-1594\"><del>STORM-1594</del></a> org.apache.storm.tuple.Fields can throw NPE if given invalid field in selector</p>\n\n<p>    fix <a href=\"https://issues.apache.org/jira/browse/STORM-1594\" title=\"org.apache.storm.tuple.Fields can throw NPE if given invalid field in selector\" class=\"issue-link\" data-issue-key=\"STORM-1594\"><del>STORM-1594</del></a>.</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/lujinhong/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/lujinhong/storm</a> storm-1594</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1522.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1522.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1522</p>\n\n<hr />\n<p>commit bdf4ba5cb10a6af1db20f105f6cda2064b669548<br/>\nAuthor: lujinhong <lujinhong2@gmail.com><br/>\nDate:   2016-06-27T02:33:28Z</p>\n\n<p>    fix <a href=\"https://issues.apache.org/jira/browse/STORM-1594\" title=\"org.apache.storm.tuple.Fields can throw NPE if given invalid field in selector\" class=\"issue-link\" data-issue-key=\"STORM-1594\"><del>STORM-1594</del></a></p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612878766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/228646727","html_url":"https://github.com/apache/storm/pull/1501#issuecomment-228646727","issue_url":"https://api.github.com/repos/apache/storm/issues/1501","id":228646727,"node_id":"MDEyOklzc3VlQ29tbWVudDIyODY0NjcyNw==","user":{"login":"darionyaphet","id":4414314,"node_id":"MDQ6VXNlcjQ0MTQzMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4414314?v=4","gravatar_id":"","url":"https://api.github.com/users/darionyaphet","html_url":"https://github.com/darionyaphet","followers_url":"https://api.github.com/users/darionyaphet/followers","following_url":"https://api.github.com/users/darionyaphet/following{/other_user}","gists_url":"https://api.github.com/users/darionyaphet/gists{/gist_id}","starred_url":"https://api.github.com/users/darionyaphet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/darionyaphet/subscriptions","organizations_url":"https://api.github.com/users/darionyaphet/orgs","repos_url":"https://api.github.com/users/darionyaphet/repos","events_url":"https://api.github.com/users/darionyaphet/events{/privacy}","received_events_url":"https://api.github.com/users/darionyaphet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T03:24:56Z","updated_at":"2016-06-27T03:24:56Z","author_association":"CONTRIBUTOR","body":"@abhishekagarwal87 @HeartSaVioR `Storm-Kafka trident` `mappers` and `selectors` are very similar with `bolt`'s `mappers` and `selectors`  .  Maybe we can move them into one place ?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/228646727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612918736","html_url":"https://github.com/apache/storm/issues/5696#issuecomment-2612918736","issue_url":"https://api.github.com/repos/apache/storm/issues/5696","id":2612918736,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTg3MzY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T03:24:57Z","updated_at":"2025-01-24T16:24:15Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user darionyaphet commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1501\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1501</a></p>\n\n<p>    @abhishekagarwal87 @HeartSaVioR `Storm-Kafka trident` `mappers` and `selectors` are very similar with `bolt`'s `mappers` and `selectors`  .  Maybe we can move them into one place ?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612918736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/228647237","html_url":"https://github.com/apache/storm/pull/1517#issuecomment-228647237","issue_url":"https://api.github.com/repos/apache/storm/issues/1517","id":228647237,"node_id":"MDEyOklzc3VlQ29tbWVudDIyODY0NzIzNw==","user":{"login":"vesense","id":6711230,"node_id":"MDQ6VXNlcjY3MTEyMzA=","avatar_url":"https://avatars.githubusercontent.com/u/6711230?v=4","gravatar_id":"","url":"https://api.github.com/users/vesense","html_url":"https://github.com/vesense","followers_url":"https://api.github.com/users/vesense/followers","following_url":"https://api.github.com/users/vesense/following{/other_user}","gists_url":"https://api.github.com/users/vesense/gists{/gist_id}","starred_url":"https://api.github.com/users/vesense/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vesense/subscriptions","organizations_url":"https://api.github.com/users/vesense/orgs","repos_url":"https://api.github.com/users/vesense/repos","events_url":"https://api.github.com/users/vesense/events{/privacy}","received_events_url":"https://api.github.com/users/vesense/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T03:31:16Z","updated_at":"2016-06-27T03:31:16Z","author_association":"MEMBER","body":"LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/228647237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919458","html_url":"https://github.com/apache/storm/issues/5701#issuecomment-2612919458","issue_url":"https://api.github.com/repos/apache/storm/issues/5701","id":2612919458,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTk0NTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T03:31:17Z","updated_at":"2025-01-24T16:24:36Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user vesense commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1517\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1517</a></p>\n\n<p>    LGTM</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612901810","html_url":"https://github.com/apache/storm/issues/5577#issuecomment-2612901810","issue_url":"https://api.github.com/repos/apache/storm/issues/5577","id":2612901810,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDE4MTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T06:04:04Z","updated_at":"2025-01-24T16:15:50Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user HeartSaVioR opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1523\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1523</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1742\" title=\"More accurate &#39;complete latency&#39;\" class=\"issue-link\" data-issue-key=\"STORM-1742\"><del>STORM-1742</del></a> More accurate 'complete latency'</p>\n\n<p>    PR for 1.x: #1379 </p>\n\n<ul>\n\t<li>Acker computes 'complete latency' and sends back to Spout</li>\n\t<li>start time: Acker receiving ACK_INIT from Spout</li>\n\t<li>end time: Acker receiving ACK message which make the tuple tree completed</li>\n\t<li>When Acker provides complete latency, Spout just uses this value to record that latency</li>\n\t<li>exception case: tuple timed out - Spout doesn't receive failed information from Acker</li>\n</ul>\n\n\n<p>    #1379 contains the result of functional test and performance test. Please refer that pull request.</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/HeartSaVioR/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/HeartSaVioR/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-1742\" title=\"More accurate &#39;complete latency&#39;\" class=\"issue-link\" data-issue-key=\"STORM-1742\"><del>STORM-1742</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1523.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1523.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1523</p>\n\n<hr />\n<p>commit 63fed3becadb418b224c323b970b65de42551c98<br/>\nAuthor: Jungtaek Lim <kabhwan@gmail.com><br/>\nDate:   2016-06-27T06:01:29Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1742\" title=\"More accurate &#39;complete latency&#39;\" class=\"issue-link\" data-issue-key=\"STORM-1742\"><del>STORM-1742</del></a> More accurate 'complete latency'</p>\n\n<ul>\n\t<li>Acker computes 'complete latency' and sends back to Spout</li>\n\t<li>start time: Acker receiving ACK_INIT from Spout</li>\n\t<li>end time: Acker receiving ACK message which make the tuple tree completed</li>\n\t<li>When Acker provides complete latency, Spout just uses this value to record that latency</li>\n\t<li>exception case: tuple timed out - Spout doesn't receive failed information from Acker</li>\n</ul>\n\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612901810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/228661040","html_url":"https://github.com/apache/storm/pull/1379#issuecomment-228661040","issue_url":"https://api.github.com/repos/apache/storm/issues/1379","id":228661040,"node_id":"MDEyOklzc3VlQ29tbWVudDIyODY2MTA0MA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T06:04:52Z","updated_at":"2016-06-27T06:04:52Z","author_association":"CONTRIBUTOR","body":"Also created pull request against master.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/228661040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612901814","html_url":"https://github.com/apache/storm/issues/5577#issuecomment-2612901814","issue_url":"https://api.github.com/repos/apache/storm/issues/5577","id":2612901814,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDE4MTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T06:04:54Z","updated_at":"2025-01-24T16:15:50Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1379\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1379</a></p>\n\n<p>    Also created pull request against master.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612901814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914596","html_url":"https://github.com/apache/storm/issues/5668#issuecomment-2612914596","issue_url":"https://api.github.com/repos/apache/storm/issues/5668","id":2612914596,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTQ1OTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T08:18:06Z","updated_at":"2025-01-24T16:22:09Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1470#discussion_r68537606\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1470#discussion_r68537606</a></p>\n\n<p>    &#8212; Diff: external/storm-redis/src/main/java/org/apache/storm/redis/state/RedisKeyValueState.java &#8212;<br/>\n    @@ -60,22 +64,23 @@ public RedisKeyValueState(String namespace) {<br/>\n }</p>\n\n<p> public RedisKeyValueState(String namespace, JedisPoolConfig poolConfig) </p>\n{\n    -this(namespace, poolConfig, new DefaultStateSerializer<K>(), new DefaultStateSerializer<V>());\n    +this(namespace, poolConfig, new DefaultStateSerializer<K>(), new DefaultStateSerializer<Optional<V>>());\n }\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public RedisKeyValueState(String namespace, JedisPoolConfig poolConfig, Serializer<K> keySerializer, Serializer<V> valueSerializer) {<br/>\n    +    public RedisKeyValueState(String namespace, JedisPoolConfig poolConfig, Serializer<K> keySerializer, Serializer<Optional<V>> valueSerializer) {\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    The user would now have to provide a `Serializer<Optional<V>>` instead of `Serializer<V>`. If possible it might be better to keep the Optional internal to the implementation.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914599","html_url":"https://github.com/apache/storm/issues/5668#issuecomment-2612914599","issue_url":"https://api.github.com/repos/apache/storm/issues/5668","id":2612914599,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTQ1OTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T08:18:10Z","updated_at":"2025-01-24T16:22:09Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1470#discussion_r68537622\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1470#discussion_r68537622</a></p>\n\n<p>    &#8212; Diff: external/storm-redis/src/main/java/org/apache/storm/redis/state/RedisKeyValueState.java &#8212;<br/>\n    @@ -60,22 +64,23 @@ public RedisKeyValueState(String namespace) {<br/>\n }</p>\n\n<p> public RedisKeyValueState(String namespace, JedisPoolConfig poolConfig) </p>\n{\n    -this(namespace, poolConfig, new DefaultStateSerializer<K>(), new DefaultStateSerializer<V>());\n    +this(namespace, poolConfig, new DefaultStateSerializer<K>(), new DefaultStateSerializer<Optional<V>>());\n }\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public RedisKeyValueState(String namespace, JedisPoolConfig poolConfig, Serializer<K> keySerializer, Serializer<V> valueSerializer) {<br/>\n    +    public RedisKeyValueState(String namespace, JedisPoolConfig poolConfig, Serializer<K> keySerializer, Serializer<Optional<V>> valueSerializer) \n{\n     this(namespace, JedisCommandsContainerBuilder.build(poolConfig), keySerializer, valueSerializer);\n }</li>\n</ul>\n\n\n<p> public RedisKeyValueState(String namespace, JedisCommandsInstanceContainer jedisContainer,</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>Serializer<K> keySerializer, Serializer<V> valueSerializer) {<br/>\n    +      Serializer<K> keySerializer, Serializer<Optional<V>> valueSerializer) {\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    It might be better to keep the Optional internal to the implementation.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914602","html_url":"https://github.com/apache/storm/issues/5668#issuecomment-2612914602","issue_url":"https://api.github.com/repos/apache/storm/issues/5668","id":2612914602,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTQ2MDI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T08:18:16Z","updated_at":"2025-01-24T16:22:09Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1470#discussion_r68537628\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1470#discussion_r68537628</a></p>\n\n<p>    &#8212; Diff: external/storm-redis/src/main/java/org/apache/storm/redis/state/RedisKeyValueState.java &#8212;<br/>\n    @@ -60,22 +64,23 @@ public RedisKeyValueState(String namespace) {<br/>\n }</p>\n\n<p> public RedisKeyValueState(String namespace, JedisPoolConfig poolConfig) </p>\n{\n    -this(namespace, poolConfig, new DefaultStateSerializer<K>(), new DefaultStateSerializer<V>());\n    +this(namespace, poolConfig, new DefaultStateSerializer<K>(), new DefaultStateSerializer<Optional<V>>());\n }\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public RedisKeyValueState(String namespace, JedisPoolConfig poolConfig, Serializer<K> keySerializer, Serializer<V> valueSerializer) {<br/>\n    +    public RedisKeyValueState(String namespace, JedisPoolConfig poolConfig, Serializer<K> keySerializer, Serializer<Optional<V>> valueSerializer) \n{\n     this(namespace, JedisCommandsContainerBuilder.build(poolConfig), keySerializer, valueSerializer);\n }</li>\n</ul>\n\n\n<p> public RedisKeyValueState(String namespace, JedisCommandsInstanceContainer jedisContainer,</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>Serializer<K> keySerializer, Serializer<V> valueSerializer) {<br/>\n    +      Serializer<K> keySerializer, Serializer<Optional<V>> valueSerializer) {<br/>\n     base64Encoder = new BASE64Encoder();<br/>\n     base64Decoder = new BASE64Decoder();<br/>\n     this.namespace = namespace;<br/>\n     this.prepareNamespace = namespace + \"$prepare\";<br/>\n     this.txidNamespace = namespace + \"$txid\";<br/>\n     this.keySerializer = keySerializer;<br/>\n     this.valueSerializer = valueSerializer;<br/>\n    +this.tombstone = encode(valueSerializer.serialize(Optional.<V>absent()));\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Can `tombstone` be a static final constant ?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914604","html_url":"https://github.com/apache/storm/issues/5668#issuecomment-2612914604","issue_url":"https://api.github.com/repos/apache/storm/issues/5668","id":2612914604,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTQ2MDQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T08:19:04Z","updated_at":"2025-01-24T16:22:09Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1470#discussion_r68537734\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1470#discussion_r68537734</a></p>\n\n<p>    &#8212; Diff: external/storm-redis/src/main/java/org/apache/storm/redis/state/RedisKeyValueState.java &#8212;<br/>\n    @@ -161,7 +176,11 @@ public void prepareCommit(long txid) {<br/>\n commands = jedisContainer.getInstance();<br/>\n if (commands.exists(prepareNamespace)) {<br/>\n     LOG.debug(\"Prepared txn already exists, will merge\", txid);</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>pendingPrepare.putAll(pendingCommit);<br/>\n    +for (Map.Entry<String, String> e: pendingCommit.entrySet()) \n<div class=\"error\"><span class=\"error\">Unknown macro: {    +    if (!pendingPrepare.containsKey(e.getKey())) {\n    +pendingPrepare.put(e.getKey(), e.getValue());\n    +    }    +}</span> </div>\n<p> }<br/>\n if (!pendingPrepare.isEmpty()) {<br/>\n     commands.hmset(prepareNamespace, pendingPrepare);</p>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    A potential issue (already existing) which could be fixed here or in a separate JIRA. If the pendingPrepare is updated after the hmset but before its assigned to pendingCommit, the pendingCommit will not reflect the entities in prepareNamespace. I think if the pendingPrepare is snapshotted/copied before hmset and the copy is used for both hmset and assigned to pendingCommit it would avoid this race condition.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/228682647","html_url":"https://github.com/apache/storm/pull/1470#issuecomment-228682647","issue_url":"https://api.github.com/repos/apache/storm/issues/1470","id":228682647,"node_id":"MDEyOklzc3VlQ29tbWVudDIyODY4MjY0Nw==","user":{"login":"arunmahadevan","id":6792890,"node_id":"MDQ6VXNlcjY3OTI4OTA=","avatar_url":"https://avatars.githubusercontent.com/u/6792890?v=4","gravatar_id":"","url":"https://api.github.com/users/arunmahadevan","html_url":"https://github.com/arunmahadevan","followers_url":"https://api.github.com/users/arunmahadevan/followers","following_url":"https://api.github.com/users/arunmahadevan/following{/other_user}","gists_url":"https://api.github.com/users/arunmahadevan/gists{/gist_id}","starred_url":"https://api.github.com/users/arunmahadevan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arunmahadevan/subscriptions","organizations_url":"https://api.github.com/users/arunmahadevan/orgs","repos_url":"https://api.github.com/users/arunmahadevan/repos","events_url":"https://api.github.com/users/arunmahadevan/events{/privacy}","received_events_url":"https://api.github.com/users/arunmahadevan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T08:23:27Z","updated_at":"2016-06-27T08:23:27Z","author_association":"CONTRIBUTOR","body":"@kosii I have gone through the latest changes and left a few comments. The idea of using tombstone looks nice and once the comments are addressed its good to merge.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/228682647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914608","html_url":"https://github.com/apache/storm/issues/5668#issuecomment-2612914608","issue_url":"https://api.github.com/repos/apache/storm/issues/5668","id":2612914608,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTQ2MDg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T08:23:31Z","updated_at":"2025-01-24T16:22:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1470\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1470</a></p>\n\n<p>    @kosii I have gone through the latest changes and left a few comments. The idea of using tombstone looks nice and once the comments are addressed its good to merge.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612914608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612660998","html_url":"https://github.com/apache/storm/issues/5147#issuecomment-2612660998","issue_url":"https://api.github.com/repos/apache/storm/issues/5147","id":2612660998,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NjA5OTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T08:30:30Z","updated_at":"2025-01-24T14:27:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jark\">jark</a>:</i>\n<p>Hi <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=darion\" class=\"user-hover\" rel=\"darion\">darion yaphet</a>,  this is an origin discussion about REST framework adoption <a href=\"http://mail-archives.us.apache.org/mod_mbox/storm-dev/201602.mbox/%3CCAM5z5B-qYFhXZAMGcHzE1W6Z8M79_OEbW-o8KUimAMGNb24T8g@mail.gmail.com%3E\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">mailing list </a>. </p>\n\n<p>If you are willing to , you can work on this issue.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612660998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612898368","html_url":"https://github.com/apache/storm/issues/5554#issuecomment-2612898368","issue_url":"https://api.github.com/repos/apache/storm/issues/5554","id":2612898368,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTgzNjg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T08:38:57Z","updated_at":"2025-01-24T16:14:13Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user HeartSaVioR opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1524\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1524</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1719\" title=\"Introduce REST API: Topology metric stats for stream\" class=\"issue-link\" data-issue-key=\"STORM-1719\"><del>STORM-1719</del></a> Introduce REST API: Topology metric stats for stream</p>\n\n<ul>\n\t<li>Path: /api/v1/topology/:id/metrics</li>\n\t<li>This API provides detailed metrics for topology\n\t<ul>\n\t\t<li>shows metrics per component, which are aggregated by stream</li>\n\t</ul>\n\t</li>\n\t<li>add documentation about new REST API\n\t<ul>\n\t\t<li>please refer docs/STORM-UI-REST-API.md for details</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    This should be reviewed and merged since 1.x version (#1347) of <a href=\"https://issues.apache.org/jira/browse/STORM-1719\" title=\"Introduce REST API: Topology metric stats for stream\" class=\"issue-link\" data-issue-key=\"STORM-1719\"><del>STORM-1719</del></a> is already merged.</p>\n\n<p>    @harshach <br/>\n    This is a pull request for <a href=\"https://issues.apache.org/jira/browse/STORM-1719\" title=\"Introduce REST API: Topology metric stats for stream\" class=\"issue-link\" data-issue-key=\"STORM-1719\"><del>STORM-1719</del></a> against master branch.<br/>\n    I have confirmed that it runs well with 2.0.0 SNAPSHOT. <br/>\n    Please take a look. Thanks!</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/HeartSaVioR/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/HeartSaVioR/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-1719\" title=\"Introduce REST API: Topology metric stats for stream\" class=\"issue-link\" data-issue-key=\"STORM-1719\"><del>STORM-1719</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1524.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1524.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1524</p>\n\n<hr />\n<p>commit 0437233415185011cbd9390990f86b8daeca6fa3<br/>\nAuthor: Jungtaek Lim <kabhwan@gmail.com><br/>\nDate:   2016-06-27T08:36:09Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1719\" title=\"Introduce REST API: Topology metric stats for stream\" class=\"issue-link\" data-issue-key=\"STORM-1719\"><del>STORM-1719</del></a> Introduce REST API: Topology metric stats for stream</p>\n\n<ul>\n\t<li>Path: /api/v1/topology/:id/metrics</li>\n\t<li>This API provides detailed metrics for topology\n\t<ul>\n\t\t<li>shows metrics per component, which are aggregated by stream</li>\n\t</ul>\n\t</li>\n\t<li>add documentation about new REST API\n\t<ul>\n\t\t<li>please refer docs/STORM-UI-REST-API.md for details</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612898368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919462","html_url":"https://github.com/apache/storm/issues/5701#issuecomment-2612919462","issue_url":"https://api.github.com/repos/apache/storm/issues/5701","id":2612919462,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTk0NjI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T09:00:38Z","updated_at":"2025-01-24T16:24:36Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user darionyaphet commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1517#discussion_r68543199\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1517#discussion_r68543199</a></p>\n\n<p>    &#8212; Diff: external/storm-redis/README.md &#8212;<br/>\n    @@ -21,13 +21,16 @@ use it as a maven dependency:</p>\n\n<ol>\n\t<li>\n\t<ol>\n\t\t<li>\n\t\t<ol>\n\t\t\t<li>For normal Bolt</li>\n\t\t</ol>\n\t\t</li>\n\t</ol>\n\t</li>\n</ol>\n\n\n<p>    -Storm-redis provides basic Bolt implementations, ```RedisLookupBolt``` and ```RedisStoreBolt```.<br/>\n    +Storm-redis provides basic Bolt implementations, ```RedisLookupBolt``` and ```RedisStoreBolt```, and ```RedisFilterBolt```.</p>\n\n<p>    -As name represents its usage, ```RedisLookupBolt``` retrieves value from Redis using key, and ```RedisStoreBolt``` stores key / value to Redis. One tuple will be matched to one key / value pair, and you can define match pattern to ```TupleMapper```.<br/>\n    +As name represents its usage, ```RedisLookupBolt``` retrieves value from Redis using key, and ```RedisStoreBolt``` stores key / value to Redis, and ```RedisFilterBolt``` filters out tuple which key or field doesn't exist on Redis.</p>\n\n<p>    -You can also choose data type from ```RedisDataTypeDescription``` to use. Please refer ```RedisDataTypeDescription.RedisDataType``` to see what data types are supported. In some data types (hash and sorted set), it requires additional key and converted key from tuple becomes element.<br/>\n    +One tuple will be matched to one key / value pair, and you can define match pattern to ```TupleMapper```.</p>\n\n<p>    -These interfaces are combined with ```RedisLookupMapper``` and ```RedisStoreMapper``` which fit ```RedisLookupBolt``` and ```RedisStoreBolt``` respectively.<br/>\n    +You can also choose data type from ```RedisDataTypeDescription``` to use. Please refer ```RedisDataTypeDescription.RedisDataType``` to see what data types are supported. In some data types (hash and sorted set, and set if only RedisFilterBolt), it requires additional key and converted key from tuple becomes element.<br/>\n    +<br/>\n    +These interfaces are combined with ```RedisLookupMapper``` and ```RedisStoreMapper``` and ```RedisFilterMapper``` which fit ```RedisLookupBolt``` and ```RedisStoreBolt```, and ```RedisFilterBolt``` respectively.<br/>\n    +(When you want to implement RedisFilterMapper, be sure to set declareOutputFields() to declare same fields to input stream, since FilterBolt forwards input tuples when they exist on Redis.)   <br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Actually  `RedisFilterMapper` and `RedisLookupMapper` are the same . It get a key from tuple then use to query from `Redis` . The difference is `RedisFilterBolt` use `RedisFilterMapper` and `RedisLookupBolt` use `RedisLookupMapper` . Should the tow mappers could extends from one basic abstract class ? </p>\n\n<p>    `RedisFilterMapper` and `RedisLookupBolt` will not use getValueFromTuple() , this method will always return `null`. So maybe I will open another ticket to discuss Mapper  Structure .</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/228691385","html_url":"https://github.com/apache/storm/pull/1517#issuecomment-228691385","issue_url":"https://api.github.com/repos/apache/storm/issues/1517","id":228691385,"node_id":"MDEyOklzc3VlQ29tbWVudDIyODY5MTM4NQ==","user":{"login":"darionyaphet","id":4414314,"node_id":"MDQ6VXNlcjQ0MTQzMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4414314?v=4","gravatar_id":"","url":"https://api.github.com/users/darionyaphet","html_url":"https://github.com/darionyaphet","followers_url":"https://api.github.com/users/darionyaphet/followers","following_url":"https://api.github.com/users/darionyaphet/following{/other_user}","gists_url":"https://api.github.com/users/darionyaphet/gists{/gist_id}","starred_url":"https://api.github.com/users/darionyaphet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/darionyaphet/subscriptions","organizations_url":"https://api.github.com/users/darionyaphet/orgs","repos_url":"https://api.github.com/users/darionyaphet/repos","events_url":"https://api.github.com/users/darionyaphet/events{/privacy}","received_events_url":"https://api.github.com/users/darionyaphet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T09:05:31Z","updated_at":"2016-06-27T09:05:31Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR Thank you for you Great Work . I have a small question about `Mapper` extention structure .\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/228691385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919467","html_url":"https://github.com/apache/storm/issues/5701#issuecomment-2612919467","issue_url":"https://api.github.com/repos/apache/storm/issues/5701","id":2612919467,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTk0Njc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T09:05:33Z","updated_at":"2025-01-24T16:24:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user darionyaphet commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1517\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1517</a></p>\n\n<p>    @HeartSaVioR Thank you for you Great Work . I have a small question about `Mapper` extention structure .</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/228722919","html_url":"https://github.com/apache/storm/pull/1096#issuecomment-228722919","issue_url":"https://api.github.com/repos/apache/storm/issues/1096","id":228722919,"node_id":"MDEyOklzc3VlQ29tbWVudDIyODcyMjkxOQ==","user":{"login":"obiwabrakenobi","id":12560571,"node_id":"MDQ6VXNlcjEyNTYwNTcx","avatar_url":"https://avatars.githubusercontent.com/u/12560571?v=4","gravatar_id":"","url":"https://api.github.com/users/obiwabrakenobi","html_url":"https://github.com/obiwabrakenobi","followers_url":"https://api.github.com/users/obiwabrakenobi/followers","following_url":"https://api.github.com/users/obiwabrakenobi/following{/other_user}","gists_url":"https://api.github.com/users/obiwabrakenobi/gists{/gist_id}","starred_url":"https://api.github.com/users/obiwabrakenobi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/obiwabrakenobi/subscriptions","organizations_url":"https://api.github.com/users/obiwabrakenobi/orgs","repos_url":"https://api.github.com/users/obiwabrakenobi/repos","events_url":"https://api.github.com/users/obiwabrakenobi/events{/privacy}","received_events_url":"https://api.github.com/users/obiwabrakenobi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T11:42:42Z","updated_at":"2016-06-27T11:42:42Z","author_association":"NONE","body":" i'll update the docs @HeartSaVioR \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/228722919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921011","html_url":"https://github.com/apache/storm/issues/5713#issuecomment-2612921011","issue_url":"https://api.github.com/repos/apache/storm/issues/5713","id":2612921011,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjEwMTE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T14:30:05Z","updated_at":"2025-01-24T16:25:22Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user darionyaphet opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1525\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1525</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1931\" title=\"Share mapper and selector in Storm-Kafka\" class=\"issue-link\" data-issue-key=\"STORM-1931\"><del>STORM-1931</del></a> Share mapper and selector in Storm-Kafka</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1931\" title=\"Share mapper and selector in Storm-Kafka\" class=\"issue-link\" data-issue-key=\"STORM-1931\"><del>STORM-1931</del></a>(<a href=\"https://issues.apache.org/jira/browse/STORM-1931\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/STORM-1931</a>)</p>\n\n<p>    Storm Kafka's mapper and selector and Storm Kafka trident's mapper and selector are the same . </p>\n\n<p>    I try to merge them into one .</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/darionyaphet/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/darionyaphet/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-1931\" title=\"Share mapper and selector in Storm-Kafka\" class=\"issue-link\" data-issue-key=\"STORM-1931\"><del>STORM-1931</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1525.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1525.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1525</p>\n\n<hr />\n<p>commit 8ddbafcfe848263d61b49af117fd52acd99d23e9<br/>\nAuthor: darionyaphet <darion.yaphet@gmail.com><br/>\nDate:   2016-06-27T14:28:52Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1931\" title=\"Share mapper and selector in Storm-Kafka\" class=\"issue-link\" data-issue-key=\"STORM-1931\"><del>STORM-1931</del></a> : Share mapper and selector in Storm-Kafka</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612920658","html_url":"https://github.com/apache/storm/issues/5710#issuecomment-2612920658","issue_url":"https://api.github.com/repos/apache/storm/issues/5710","id":2612920658,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjA2NTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T15:21:03Z","updated_at":"2025-01-24T16:25:12Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user HeartSaVioR opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1526\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1526</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1928\" title=\"ShellSpout should check heartbeat while ShellSpout is waiting for subprocess to sync\" class=\"issue-link\" data-issue-key=\"STORM-1928\"><del>STORM-1928</del></a> ShellSpout should check heartbeat while ShellSpout is waiting for subprocess to sync</p>\n\n<p>    When nextTuple is not calling at any chances (max spout pending, backpressure introduced at 1.0.0, and so on) multi-lang spout don't receive any message from ShellSpout, thus no messages from multi-lang spout side. (because multilang spout and ShellSpout communicates like ping-pong, unlike multilang bolt and ShellBolt)<br/>\n    In result, no heartbeat is being marked, and finally raises subprocess heartbeat timeout.</p>\n\n<p>    This PR changes ShellSpout to only check heartbeat while ShellSpout is waiting for subprocess to sync.<br/>\n    And this PR also changes ShellSpout.die logic similar to ShellBolt, since I found ShellSpout's die message was logged but worker itself was not died after logging. Only that task was died.</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/HeartSaVioR/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/HeartSaVioR/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-1928\" title=\"ShellSpout should check heartbeat while ShellSpout is waiting for subprocess to sync\" class=\"issue-link\" data-issue-key=\"STORM-1928\"><del>STORM-1928</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1526.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1526.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1526</p>\n\n<hr />\n<p>commit 1c94bc7a820f90dff97f191cf30b485eba7b8c38<br/>\nAuthor: Jungtaek Lim <kabhwan@gmail.com><br/>\nDate:   2016-06-27T15:07:59Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1928\" title=\"ShellSpout should check heartbeat while ShellSpout is waiting for subprocess to sync\" class=\"issue-link\" data-issue-key=\"STORM-1928\"><del>STORM-1928</del></a> ShellSpout should only check heartbeat while ShellSpout is waiting for subprocess to sync</p>\n\n<ul>\n\t<li>only check heartbeat while ShellSpout is waiting for subprocess to sync</li>\n\t<li>change ShellSpout.die logic similar to ShellBolt</li>\n\t<li>ShellSpout's die message is logged but worker is not died after logging</li>\n\t<li>Confirmed that worker becomes died when die has been called</li>\n</ul>\n\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612920658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/228836706","html_url":"https://github.com/apache/storm/pull/1512#issuecomment-228836706","issue_url":"https://api.github.com/repos/apache/storm/issues/1512","id":228836706,"node_id":"MDEyOklzc3VlQ29tbWVudDIyODgzNjcwNg==","user":{"login":"csivaguru","id":232340,"node_id":"MDQ6VXNlcjIzMjM0MA==","avatar_url":"https://avatars.githubusercontent.com/u/232340?v=4","gravatar_id":"","url":"https://api.github.com/users/csivaguru","html_url":"https://github.com/csivaguru","followers_url":"https://api.github.com/users/csivaguru/followers","following_url":"https://api.github.com/users/csivaguru/following{/other_user}","gists_url":"https://api.github.com/users/csivaguru/gists{/gist_id}","starred_url":"https://api.github.com/users/csivaguru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csivaguru/subscriptions","organizations_url":"https://api.github.com/users/csivaguru/orgs","repos_url":"https://api.github.com/users/csivaguru/repos","events_url":"https://api.github.com/users/csivaguru/events{/privacy}","received_events_url":"https://api.github.com/users/csivaguru/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T18:41:38Z","updated_at":"2016-06-27T18:41:38Z","author_association":"NONE","body":"Can this be merged in? @harshach @HeartSaVioR \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/228836706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916778","html_url":"https://github.com/apache/storm/issues/5683#issuecomment-2612916778","issue_url":"https://api.github.com/repos/apache/storm/issues/5683","id":2612916778,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTY3Nzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T21:15:23Z","updated_at":"2025-01-24T16:23:15Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user dossett commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1521#discussion_r68657788\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1521#discussion_r68657788</a></p>\n\n<p>    &#8212; Diff: external/storm-kafka/README.md &#8212;<br/>\n    @@ -360,6 +361,44 @@ For Trident:<br/>\n     StormSubmitter.submitTopology(\"kafkaTridentTest\", conf, topology.build());<br/>\n     ```</p>\n\n<p>    +## Avro Integration for Storm-Kafka<br/>\n    +<br/>\n    +To integrate with Avro you *<b>must</b>* register the appropriate Kryo serializers with your topology configuration.  A convenience method is provided for this:<br/>\n    +<br/>\n    +`AvroUtils.addAvroKryoSerializations(conf);`<br/>\n    +<br/>\n    +###AvroSchema<br/>\n    +<br/>\n    +`AvroSchema` is an implementation of `Schema`. You can use AvroSchema to read Avro GenericRecord from Kafka:<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Should be `AvroScheme` and `Scheme`</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916782","html_url":"https://github.com/apache/storm/issues/5683#issuecomment-2612916782","issue_url":"https://api.github.com/repos/apache/storm/issues/5683","id":2612916782,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTY3ODI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T21:21:16Z","updated_at":"2025-01-24T16:23:15Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user dossett commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1521#discussion_r68658648\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1521#discussion_r68658648</a></p>\n\n<p>    &#8212; Diff: external/storm-kafka/src/jvm/org/apache/storm/kafka/AvroScheme.java &#8212;<br/>\n    @@ -0,0 +1,59 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.kafka;<br/>\n    +<br/>\n    +import java.io.IOException;<br/>\n    +import java.nio.ByteBuffer;<br/>\n    +import java.util.List;<br/>\n    +<br/>\n    +import org.apache.avro.Schema;<br/>\n    +import org.apache.avro.generic.GenericContainer;<br/>\n    +import org.apache.storm.avro.DefaultDirectAvroSerializer;<br/>\n    +import org.apache.storm.avro.DirectAvroSerializer;<br/>\n    +import org.apache.storm.spout.Scheme;<br/>\n    +import org.apache.storm.tuple.Fields;<br/>\n    +import org.apache.storm.tuple.Values;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +<br/>\n    +public class AvroScheme implements Scheme {<br/>\n    +    public static final String AVRO_SCHEME_KEY = \"avro\";<br/>\n    +    DirectAvroSerializer serializer = new DefaultDirectAvroSerializer();<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Could this be more flexible, the way AbstractAvroSerializer is above?  I would see creating an AvroSchema and supplying a serializer for it to use based on how the avro data is being put onto the Kafka topic.</p>\n\n<p>    My original use case was to read avro data that had been serialized onto a kafka topic with a Confluent serializer.  My solution was to create a bolt that that read the raw data with rawscheme, deserialized the raw bytes into a GenericRecord, and then emitted the generic record.</p>\n\n<p>    Something like this would have been very nice if I could give it a ConfluentDeserializer via dependency injection or something similar.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/228880257","html_url":"https://github.com/apache/storm/pull/1521#issuecomment-228880257","issue_url":"https://api.github.com/repos/apache/storm/issues/1521","id":228880257,"node_id":"MDEyOklzc3VlQ29tbWVudDIyODg4MDI1Nw==","user":{"login":"dossett","id":7207582,"node_id":"MDQ6VXNlcjcyMDc1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/7207582?v=4","gravatar_id":"","url":"https://api.github.com/users/dossett","html_url":"https://github.com/dossett","followers_url":"https://api.github.com/users/dossett/followers","following_url":"https://api.github.com/users/dossett/following{/other_user}","gists_url":"https://api.github.com/users/dossett/gists{/gist_id}","starred_url":"https://api.github.com/users/dossett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dossett/subscriptions","organizations_url":"https://api.github.com/users/dossett/orgs","repos_url":"https://api.github.com/users/dossett/repos","events_url":"https://api.github.com/users/dossett/events{/privacy}","received_events_url":"https://api.github.com/users/dossett/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T21:25:05Z","updated_at":"2016-06-27T21:25:05Z","author_association":"CONTRIBUTOR","body":"@harshach My interpretation of the PR is that it moves some Avro speficif code I added to storm-hdfs into a more sharable module.\n\n@vesense I like the idea of making it easier to read/write avro data in a Storm topology, thanks for looking at this.  I don't know that it needs to be its own module though, maybe it could be somewhere in `org.apache.storm.utils` ?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/228880257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916789","html_url":"https://github.com/apache/storm/issues/5683#issuecomment-2612916789","issue_url":"https://api.github.com/repos/apache/storm/issues/5683","id":2612916789,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTY3ODk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-27T21:25:06Z","updated_at":"2025-01-24T16:23:15Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user dossett commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1521\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1521</a></p>\n\n<p>    @harshach My interpretation of the PR is that it moves some Avro speficif code I added to storm-hdfs into a more sharable module.</p>\n\n<p>    @vesense I like the idea of making it easier to read/write avro data in a Storm topology, thanks for looking at this.  I don't know that it needs to be its own module though, maybe it could be somewhere in `org.apache.storm.utils` ?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916790","html_url":"https://github.com/apache/storm/issues/5683#issuecomment-2612916790","issue_url":"https://api.github.com/repos/apache/storm/issues/5683","id":2612916790,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTY3OTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-28T01:05:49Z","updated_at":"2025-01-24T16:23:15Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user vesense commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1521#discussion_r68683162\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1521#discussion_r68683162</a></p>\n\n<p>    &#8212; Diff: external/storm-kafka/README.md &#8212;<br/>\n    @@ -360,6 +361,44 @@ For Trident:<br/>\n     StormSubmitter.submitTopology(\"kafkaTridentTest\", conf, topology.build());<br/>\n     ```</p>\n\n<p>    +## Avro Integration for Storm-Kafka<br/>\n    +<br/>\n    +To integrate with Avro you *<b>must</b>* register the appropriate Kryo serializers with your topology configuration.  A convenience method is provided for this:<br/>\n    +<br/>\n    +`AvroUtils.addAvroKryoSerializations(conf);`<br/>\n    +<br/>\n    +###AvroSchema<br/>\n    +<br/>\n    +`AvroSchema` is an implementation of `Schema`. You can use AvroSchema to read Avro GenericRecord from Kafka:<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Thx. Will fix.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/228924612","html_url":"https://github.com/apache/storm/pull/1512#issuecomment-228924612","issue_url":"https://api.github.com/repos/apache/storm/issues/1512","id":228924612,"node_id":"MDEyOklzc3VlQ29tbWVudDIyODkyNDYxMg==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-28T01:34:33Z","updated_at":"2016-06-28T01:34:33Z","author_association":"CONTRIBUTOR","body":"+1 Thanks @csivaguru.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/228924612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916793","html_url":"https://github.com/apache/storm/issues/5683#issuecomment-2612916793","issue_url":"https://api.github.com/repos/apache/storm/issues/5683","id":2612916793,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTY3OTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-28T01:41:54Z","updated_at":"2025-01-24T16:23:15Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user vesense commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1521#discussion_r68685946\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1521#discussion_r68685946</a></p>\n\n<p>    &#8212; Diff: external/storm-kafka/src/jvm/org/apache/storm/kafka/AvroScheme.java &#8212;<br/>\n    @@ -0,0 +1,59 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.kafka;<br/>\n    +<br/>\n    +import java.io.IOException;<br/>\n    +import java.nio.ByteBuffer;<br/>\n    +import java.util.List;<br/>\n    +<br/>\n    +import org.apache.avro.Schema;<br/>\n    +import org.apache.avro.generic.GenericContainer;<br/>\n    +import org.apache.storm.avro.DefaultDirectAvroSerializer;<br/>\n    +import org.apache.storm.avro.DirectAvroSerializer;<br/>\n    +import org.apache.storm.spout.Scheme;<br/>\n    +import org.apache.storm.tuple.Fields;<br/>\n    +import org.apache.storm.tuple.Values;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +<br/>\n    +public class AvroScheme implements Scheme {<br/>\n    +    public static final String AVRO_SCHEME_KEY = \"avro\";<br/>\n    +    DirectAvroSerializer serializer = new DefaultDirectAvroSerializer();<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    >Could this be more flexible, the way AbstractAvroSerializer is above? I would see creating an AvroSchema and supplying a serializer for it to use based on how the avro data is being put onto the Kafka topic.</p>\n\n<p>    According to my knowledge, `AbstractAvroSerializer` is for the scene serializing data between workers(due to network communications). We should register Avro Record to kryo because Kryo dose not support it primitively. This is why I define a new interface `DirectAvroSerializer` to serialize/deserialize between avro Record and raw bytes. Also, this is the reason that I separate Avro from storm-hdfs. Without the avro record registry to kyro, storm-kafka integration with Avro will get an error like <a href=\"https://issues.apache.org/jira/browse/STORM-1504\" title=\"AvroGenericRecordBolt will not work in a topology with multiple workers\" class=\"issue-link\" data-issue-key=\"STORM-1504\"><del>STORM-1504</del></a>(<a href=\"https://issues.apache.org/jira/browse/STORM-1504\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/STORM-1504</a>).</p>\n\n<p>    >My original use case was to read avro data that had been serialized onto a kafka topic with a Confluent serializer. My solution was to create a bolt that that read the raw data with rawscheme, deserialized the raw bytes into a GenericRecord, and then emitted the generic record.</p>\n\n<p>    I think it is even better we deserialized the raw bytes into GenericRecord in Spout intead of a bolt.</p>\n\n<p>    >Something like this would have been very nice if I could give it a ConfluentDeserializer via dependency injection or something similar.</p>\n\n<p>    Yes, I will update the code to support `ConfluentDeserializer`.</p>\n\n<p>    Thanks @dossett for your quick reply. Anything above is wrong please fix me. Thanks again.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/228926258","html_url":"https://github.com/apache/storm/pull/1512#issuecomment-228926258","issue_url":"https://api.github.com/repos/apache/storm/issues/1512","id":228926258,"node_id":"MDEyOklzc3VlQ29tbWVudDIyODkyNjI1OA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-28T01:46:16Z","updated_at":"2016-06-28T01:46:16Z","author_association":"CONTRIBUTOR","body":"Sorry I need to revert merging this and set commit message to contain STORM-1924.\nSign-off information is overwritten to me (eac9641469b79251f5146be4dcf8e52e6914448f), so please feel free to let me rearrange if you mind. \nThanks again @csivaguru.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/228926258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612920204","html_url":"https://github.com/apache/storm/issues/5706#issuecomment-2612920204","issue_url":"https://api.github.com/repos/apache/storm/issues/5706","id":2612920204,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjAyMDQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-28T01:46:18Z","updated_at":"2025-01-24T16:24:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1512\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1512</a></p>\n\n<p>    Sorry I need to revert merging this and set commit message to contain <a href=\"https://issues.apache.org/jira/browse/STORM-1924\" title=\"Add a config file parameter to HDFS test topologies \" class=\"issue-link\" data-issue-key=\"STORM-1924\"><del>STORM-1924</del></a>.<br/>\n    Sign-off information is overwritten to me (eac9641469b79251f5146be4dcf8e52e6914448f), so please feel free to let me rearrange if you mind. <br/>\n    Thanks again @csivaguru.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612920204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/228930032","html_url":"https://github.com/apache/storm/pull/1512#issuecomment-228930032","issue_url":"https://api.github.com/repos/apache/storm/issues/1512","id":228930032,"node_id":"MDEyOklzc3VlQ29tbWVudDIyODkzMDAzMg==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-28T02:15:40Z","updated_at":"2016-06-28T02:15:40Z","author_association":"CONTRIBUTOR","body":"Merged (cherry-pick) to master, 1.x, 1.0.x branches.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/228930032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612920211","html_url":"https://github.com/apache/storm/issues/5706#issuecomment-2612920211","issue_url":"https://api.github.com/repos/apache/storm/issues/5706","id":2612920211,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjAyMTE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-28T02:18:40Z","updated_at":"2025-01-24T16:24:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>Thanks <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=csivaguru\" class=\"user-hover\" rel=\"csivaguru\">Sivaguru Kannan</a>, I merged into master, 1.x, 1.0.x branches respectively.</p>\n\n<p>Note: commit is from <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=parth.brahmbhatt\" class=\"user-hover\" rel=\"parth.brahmbhatt\">Parth Brahmbhatt</a> so if he want to get a credit I'll change assignee.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612920211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921142","html_url":"https://github.com/apache/storm/issues/5714#issuecomment-2612921142","issue_url":"https://api.github.com/repos/apache/storm/issues/5714","id":2612921142,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjExNDI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-28T04:14:45Z","updated_at":"2025-01-24T16:25:26Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user darionyaphet opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1527\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1527</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1932\" title=\"Change Duration&#39;s value data type \" class=\"issue-link\" data-issue-key=\"STORM-1932\"><del>STORM-1932</del></a> Change Duration's value data type</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1932\" title=\"Change Duration&#39;s value data type \" class=\"issue-link\" data-issue-key=\"STORM-1932\"><del>STORM-1932</del></a>(<a href=\"https://issues.apache.org/jira/browse/STORM-1932\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/STORM-1932</a>)</p>\n\n<p>    BaseWindowedBolt Duration value is integer now . </p>\n\n<p>    Use long to express time interval maybe better.</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/darionyaphet/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/darionyaphet/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-1932\" title=\"Change Duration&#39;s value data type \" class=\"issue-link\" data-issue-key=\"STORM-1932\"><del>STORM-1932</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1527.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1527.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1527</p>\n\n<hr />\n<p>commit c3f0e73a7f6f20abae567e39a2e8f2c3758f00ce<br/>\nAuthor: darionyaphet <darion.yaphet@gmail.com><br/>\nDate:   2016-06-28T04:13:37Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1932\" title=\"Change Duration&#39;s value data type \" class=\"issue-link\" data-issue-key=\"STORM-1932\"><del>STORM-1932</del></a> : Change Duration's value data type</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/228953770","html_url":"https://github.com/apache/storm/pull/1521#issuecomment-228953770","issue_url":"https://api.github.com/repos/apache/storm/issues/1521","id":228953770,"node_id":"MDEyOklzc3VlQ29tbWVudDIyODk1Mzc3MA==","user":{"login":"vesense","id":6711230,"node_id":"MDQ6VXNlcjY3MTEyMzA=","avatar_url":"https://avatars.githubusercontent.com/u/6711230?v=4","gravatar_id":"","url":"https://api.github.com/users/vesense","html_url":"https://github.com/vesense","followers_url":"https://api.github.com/users/vesense/followers","following_url":"https://api.github.com/users/vesense/following{/other_user}","gists_url":"https://api.github.com/users/vesense/gists{/gist_id}","starred_url":"https://api.github.com/users/vesense/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vesense/subscriptions","organizations_url":"https://api.github.com/users/vesense/orgs","repos_url":"https://api.github.com/users/vesense/repos","events_url":"https://api.github.com/users/vesense/events{/privacy}","received_events_url":"https://api.github.com/users/vesense/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-28T05:42:50Z","updated_at":"2016-06-28T05:42:50Z","author_association":"MEMBER","body":"The reason why I define the new interface `DirectAvroSerializer` and move avro to a sharable module is explained as above.\n\n@harshach This PR is based on STORM-1504, you can take a look at it.\n\n@dossett Your reviews have been addressed. Please have a look.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/228953770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916798","html_url":"https://github.com/apache/storm/issues/5683#issuecomment-2612916798","issue_url":"https://api.github.com/repos/apache/storm/issues/5683","id":2612916798,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTY3OTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-28T05:42:52Z","updated_at":"2025-01-24T16:23:15Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user vesense commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1521\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1521</a></p>\n\n<p>    The reason why I define the new interface `DirectAvroSerializer` and move avro to a sharable module is explained as above.</p>\n\n<p>    @harshach This PR is based on <a href=\"https://issues.apache.org/jira/browse/STORM-1504\" title=\"AvroGenericRecordBolt will not work in a topology with multiple workers\" class=\"issue-link\" data-issue-key=\"STORM-1504\"><del>STORM-1504</del></a>, you can take a look at it.</p>\n\n<p>    @dossett Your reviews have been addressed. Please have a look.</p>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/228955902","html_url":"https://github.com/apache/storm/pull/1521#issuecomment-228955902","issue_url":"https://api.github.com/repos/apache/storm/issues/1521","id":228955902,"node_id":"MDEyOklzc3VlQ29tbWVudDIyODk1NTkwMg==","user":{"login":"vesense","id":6711230,"node_id":"MDQ6VXNlcjY3MTEyMzA=","avatar_url":"https://avatars.githubusercontent.com/u/6711230?v=4","gravatar_id":"","url":"https://api.github.com/users/vesense","html_url":"https://github.com/vesense","followers_url":"https://api.github.com/users/vesense/followers","following_url":"https://api.github.com/users/vesense/following{/other_user}","gists_url":"https://api.github.com/users/vesense/gists{/gist_id}","starred_url":"https://api.github.com/users/vesense/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vesense/subscriptions","organizations_url":"https://api.github.com/users/vesense/orgs","repos_url":"https://api.github.com/users/vesense/repos","events_url":"https://api.github.com/users/vesense/events{/privacy}","received_events_url":"https://api.github.com/users/vesense/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-28T05:59:00Z","updated_at":"2016-06-28T05:59:00Z","author_association":"MEMBER","body":"@dossett BTW, I have a question about `ConfluentAvroSerializer`:\nI can't see any unit tests for `ConfluentAvroSerializer`. I wonder how kryo create the object by using construction `ConfluentAvroSerializer(Kryo k, Map stormConf)` with parameters (ConfluentAvroSerializer is specified by avro.serializer).\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/228955902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916804","html_url":"https://github.com/apache/storm/issues/5683#issuecomment-2612916804","issue_url":"https://api.github.com/repos/apache/storm/issues/5683","id":2612916804,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTY4MDQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-28T05:59:01Z","updated_at":"2025-01-24T16:23:15Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user vesense commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1521\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1521</a></p>\n\n<p>    @dossett BTW, I have a question about `ConfluentAvroSerializer`:<br/>\n    I can't see any unit tests for `ConfluentAvroSerializer`. I wonder how kryo create the object by using construction `ConfluentAvroSerializer(Kryo k, Map stormConf)` with parameters (ConfluentAvroSerializer is specified by avro.serializer).</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612916804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921361","html_url":"https://github.com/apache/storm/issues/5715#issuecomment-2612921361","issue_url":"https://api.github.com/repos/apache/storm/issues/5715","id":2612921361,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjEzNjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-28T13:05:04Z","updated_at":"2025-01-24T16:25:33Z","author_association":"COLLABORATOR","body":"Subtask of parent task STORM-915","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921364","html_url":"https://github.com/apache/storm/issues/5715#issuecomment-2612921364","issue_url":"https://api.github.com/repos/apache/storm/issues/5715","id":2612921364,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjEzNjQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-28T13:10:00Z","updated_at":"2025-01-24T16:25:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>It is due to race condition between two threads of supervisor, which run sync-supervisor and sync-processes.<br/>\nAttaching log which is only capturing problematic supervisor threads. Affected worker has 'e6868' as prefix of worker ID.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921367","html_url":"https://github.com/apache/storm/issues/5715#issuecomment-2612921367","issue_url":"https://api.github.com/repos/apache/storm/issues/5715","id":2612921367,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjEzNjc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-28T13:39:23Z","updated_at":"2025-01-24T16:25:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>If there's race condition, sync-processes recognizes disallowed worker and removes directories for that worker but sync-supervisor can recreate worker's heartbeat directory just after sync-processes removes worker root.</p>\n\n<p>sync-processes : shutting down worker<br/>\nsync-processes : RMR heartbeat directory of worker<br/>\nsync-supervisor : sync supervisor called<br/>\nsync-processes : RMR pids directory<br/>\nsync-supervisor : write new assignment<br/>\nsync-supervisor : read workers directory to obtain worker list (in kill-existing-workers-with-change-in-components)<br/>\nsync-processes : RMR root directory (late!)<br/>\nsync-processes : remove worker-user<br/>\nsync-processes : read worker heartbeat by creating LocalState which refers heartbeat directory. NOTE: it creates VersionedStore which creates \"directory\".</p>\n\n<p>In the next run of sync-processes, sync-processes will read workers directory to obtain worker list, and since heartbeat directory is created, worker will be recognized as \"not-started\".</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921370","html_url":"https://github.com/apache/storm/issues/5715#issuecomment-2612921370","issue_url":"https://api.github.com/repos/apache/storm/issues/5715","id":2612921370,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjEzNzA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-28T13:56:39Z","updated_at":"2025-01-24T16:25:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>sync-supervisor relies on zk assignment, and sync-processes relies on local assignment and local workers directory.<br/>\nMy sketched feeling is that sync-supervisor should not touch local directory or local state, hence sync-supervisor shouldn't kill workers and also shouldn't remove topology code. But I didn't think about side effect of delegating these work to sync-processes so please feel free to share your opinion regarding this.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921373","html_url":"https://github.com/apache/storm/issues/5715#issuecomment-2612921373","issue_url":"https://api.github.com/repos/apache/storm/issues/5715","id":2612921373,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjEzNzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-28T17:22:24Z","updated_at":"2025-01-24T16:25:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=satish.duggana\">satish.duggana</a>:</i>\n<p>I was working on an issue where a race condition occurs in removing topology for a worker which is already started but it fails because of topology gets deleted by sync-supervisor. sync-supervisor should never kill any topology. It should simply raise sync-process event and add it to syncProcessManager which is already done by sync-supervisor. Removing topologies should be done by the same thread which kills topologies. So, Killing(because they do not exist any more or rebalanced existing topologies) and removing invalid topologies should be done only by sync-process. I agree that this solution would avoid these kind of scenarios. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612584661","html_url":"https://github.com/apache/storm/issues/4811#issuecomment-2612584661","issue_url":"https://api.github.com/repos/apache/storm/issues/4811","id":2612584661,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODQ2NjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-28T20:20:42Z","updated_at":"2025-01-24T13:53:49Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noppanit\">noppanit</a>:</i>\n<p>I got the same problem but in my case one of the worker was just too busy doing GC. I increased the memory and things are working fine. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612584661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612584666","html_url":"https://github.com/apache/storm/issues/4811#issuecomment-2612584666","issue_url":"https://api.github.com/repos/apache/storm/issues/4811","id":2612584666,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODQ2NjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T01:55:53Z","updated_at":"2025-01-24T13:53:49Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vesense\">vesense</a>:</i>\n<p>hi <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=darion\" class=\"user-hover\" rel=\"darion\">darion yaphet</a> <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=noppanit\" class=\"user-hover\" rel=\"noppanit\">Noppanit Charassinvichai</a></p>\n\n<p>This issue should has been fixed by <a href=\"https://issues.apache.org/jira/browse/STORM-763\" title=\"nimbus reassigned worker A to another machine, but other worker&#39;s netty client can&#39;t connect to the new worker A \" class=\"issue-link\" data-issue-key=\"STORM-763\"><del>STORM-763</del></a>. You can upgrade your storm to solve the problem.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612584666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921379","html_url":"https://github.com/apache/storm/issues/5715#issuecomment-2612921379","issue_url":"https://api.github.com/repos/apache/storm/issues/5715","id":2612921379,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjEzNzk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T02:15:07Z","updated_at":"2025-01-24T16:25:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>Thanks <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=satish.duggana\" class=\"user-hover\" rel=\"satish.duggana\">Satish Duggana</a> for giving your opinion. Btw, I'd like to mention that he helps me to go through the supervisor codebase (which I didn't and didn't also have a chance).</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921382","html_url":"https://github.com/apache/storm/issues/5715#issuecomment-2612921382","issue_url":"https://api.github.com/repos/apache/storm/issues/5715","id":2612921382,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjEzODI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T02:33:04Z","updated_at":"2025-01-24T16:25:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>I'll create another issue that describes general concern : race condition between supervisor threads since it seems to show various strange issues including this.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919476","html_url":"https://github.com/apache/storm/issues/5701#issuecomment-2612919476","issue_url":"https://api.github.com/repos/apache/storm/issues/5701","id":2612919476,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTk0NzY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T03:18:16Z","updated_at":"2025-01-24T16:24:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1517#discussion_r68879755\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1517#discussion_r68879755</a></p>\n\n<p>    &#8212; Diff: external/storm-redis/README.md &#8212;<br/>\n    @@ -21,13 +21,16 @@ use it as a maven dependency:</p>\n\n<ol>\n\t<li>\n\t<ol>\n\t\t<li>\n\t\t<ol>\n\t\t\t<li>For normal Bolt</li>\n\t\t</ol>\n\t\t</li>\n\t</ol>\n\t</li>\n</ol>\n\n\n<p>    -Storm-redis provides basic Bolt implementations, ```RedisLookupBolt``` and ```RedisStoreBolt```.<br/>\n    +Storm-redis provides basic Bolt implementations, ```RedisLookupBolt``` and ```RedisStoreBolt```, and ```RedisFilterBolt```.</p>\n\n<p>    -As name represents its usage, ```RedisLookupBolt``` retrieves value from Redis using key, and ```RedisStoreBolt``` stores key / value to Redis. One tuple will be matched to one key / value pair, and you can define match pattern to ```TupleMapper```.<br/>\n    +As name represents its usage, ```RedisLookupBolt``` retrieves value from Redis using key, and ```RedisStoreBolt``` stores key / value to Redis, and ```RedisFilterBolt``` filters out tuple which key or field doesn't exist on Redis.</p>\n\n<p>    -You can also choose data type from ```RedisDataTypeDescription``` to use. Please refer ```RedisDataTypeDescription.RedisDataType``` to see what data types are supported. In some data types (hash and sorted set), it requires additional key and converted key from tuple becomes element.<br/>\n    +One tuple will be matched to one key / value pair, and you can define match pattern to ```TupleMapper```.</p>\n\n<p>    -These interfaces are combined with ```RedisLookupMapper``` and ```RedisStoreMapper``` which fit ```RedisLookupBolt``` and ```RedisStoreBolt``` respectively.<br/>\n    +You can also choose data type from ```RedisDataTypeDescription``` to use. Please refer ```RedisDataTypeDescription.RedisDataType``` to see what data types are supported. In some data types (hash and sorted set, and set if only RedisFilterBolt), it requires additional key and converted key from tuple becomes element.<br/>\n    +<br/>\n    +These interfaces are combined with ```RedisLookupMapper``` and ```RedisStoreMapper``` and ```RedisFilterMapper``` which fit ```RedisLookupBolt``` and ```RedisStoreBolt```, and ```RedisFilterBolt``` respectively.<br/>\n    +(When you want to implement RedisFilterMapper, be sure to set declareOutputFields() to declare same fields to input stream, since FilterBolt forwards input tuples when they exist on Redis.)   <br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    @darionyaphet <br/>\n    Yeah right. It can be arranged but we would want to resolve this with backward-compatible way. Maybe adding @Deprecated for 1.x / 1.0.x and removing for master.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612584669","html_url":"https://github.com/apache/storm/issues/4811#issuecomment-2612584669","issue_url":"https://api.github.com/repos/apache/storm/issues/4811","id":2612584669,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI1ODQ2Njk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T04:06:32Z","updated_at":"2025-01-24T13:53:49Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=darion\">darion</a>:</i>\n<p>Thanks ~~ </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612584669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921471","html_url":"https://github.com/apache/storm/issues/5716#issuecomment-2612921471","issue_url":"https://api.github.com/repos/apache/storm/issues/5716","id":2612921471,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjE0NzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T08:02:17Z","updated_at":"2025-01-24T16:25:36Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user HeartSaVioR opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1528\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1528</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1934\" title=\"Race condition between sync-supervisor and sync-processes raises several strange issues\" class=\"issue-link\" data-issue-key=\"STORM-1934\"><del>STORM-1934</del></a> Fix race condition between sync-supervisor and sync-processes</p>\n\n<ul>\n\t<li>sync-supervisor just downloads new topology code and writes new local assignment</li>\n\t<li>shutting down workers and removing topology code is moved to sync-processes</li>\n\t<li>sync-processes does all of jobs based on local assignment and allocated workers</li>\n\t<li>remove unused / unneeded codes</li>\n</ul>\n\n\n<p>    Here's my test result for this patch:</p>\n\n<ul>\n\t<li>`mvn clean install` 5 times: not met supervisor intermittent failure (<a href=\"https://issues.apache.org/jira/browse/STORM-1933\" title=\"Intermittent test failure on test-multiple-active-storms-multiple-supervisors for supervisor-test \" class=\"issue-link\" data-issue-key=\"STORM-1933\"><del>STORM-1933</del></a>)</li>\n\t<li>will try more times</li>\n\t<li>kill worker via `kill`, `kill -9`, `restart worker` from UI: no issue on restarting worker</li>\n\t<li>rebalance topology to change workers (2 -> 3): to test that new assignment has same worker port but different executors compared to assigned workers</li>\n\t<li>worker is recognized as :disallowed, and killed & relaunched</li>\n</ul>\n\n\n<p>    Rebalance test in details:</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>Writing new assignment<br/>\n    ```<br/>\n    6701 {:storm-id \"test-topology2-4-1467185073\", :executors (<span class=\"error\">&#91;7 7&#93;</span> <span class=\"error\">&#91;5 5&#93;</span> <span class=\"error\">&#91;3 3&#93;</span> <span class=\"error\">&#91;1 1&#93;</span>), :resources <span class=\"error\">&#91;0.0 0.0 0.0&#93;</span>}, <br/>\n    6702 {:storm-id \"test-topology2-4-1467185073\", :executors (<span class=\"error\">&#91;6 6&#93;</span> <span class=\"error\">&#91;4 4&#93;</span> <span class=\"error\">&#91;2 2&#93;</span>), :resources <span class=\"error\">&#91;0.0 0.0 0.0&#93;</span>}<br/>\n    ```</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>Assigned executors:<br/>\n    ```<br/>\n    6701 {:storm-id \"test-topology2-4-1467185073\", :executors [<span class=\"error\">&#91;7 7&#93;</span> <span class=\"error\">&#91;5 5&#93;</span> <span class=\"error\">&#91;3 3&#93;</span> <span class=\"error\">&#91;1 1&#93;</span>], :resources #object<span class=\"error\">&#91;org.apache.storm.generated.WorkerResources 0x40c4d31c \"WorkerResources(mem_on_heap:0.0, mem_off_heap:0.0, cpu:0.0)\"&#93;</span>}, <br/>\n    6702 {:storm-id \"test-topology2-4-1467185073\", :executors [<span class=\"error\">&#91;6 6&#93;</span> <span class=\"error\">&#91;4 4&#93;</span> <span class=\"error\">&#91;2 2&#93;</span>], :resources #object<span class=\"error\">&#91;org.apache.storm.generated.WorkerResources 0x4ba861f4 \"WorkerResources(mem_on_heap:0.0, mem_off_heap:0.0, cpu:0.0)\"&#93;</span>}}<br/>\n    ```</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>Allocated:<br/>\n    ```<br/>\n    \"2e9bea10-02b7-4e55-88e7-b194b9917a63\" [:disallowed {:time-secs 1467185407, :storm-id \"test-topology2-4-1467185073\", :executors [<span class=\"error\">&#91;3 3&#93;</span> <span class=\"error\">&#91;6 6&#93;</span> <span class=\"error\">&#91;-1 -1&#93;</span>], :port 6703}], <br/>\n    \"4630c4bf-9786-47ff-9f3b-6b42d9781b9d\" [:disallowed {:time-secs 1467185407, :storm-id \"test-topology2-4-1467185073\", :executors [<span class=\"error\">&#91;7 7&#93;</span> <span class=\"error\">&#91;1 1&#93;</span> <span class=\"error\">&#91;-1 -1&#93;</span> <span class=\"error\">&#91;4 4&#93;</span>], :port 6701}], <br/>\n    \"b9a622d2-5e5b-4311-999c-8c8dd92da6b6\" [:disallowed {:time-secs 1467185406, :storm-id \"test-topology2-4-1467185073\", :executors [<span class=\"error\">&#91;2 2&#93;</span> <span class=\"error\">&#91;-1 -1&#93;</span> <span class=\"error\">&#91;5 5&#93;</span>], :port 6702}]}<br/>\n    ```</li>\n</ul>\n\n\n<p>    NOTE: Due to forward reference, I have to move `sync-processes` to just before `mk-synchronize-supervisor`. Major changes are done in sync-processes so reviewers need to compare before & after manually. Sorry about that.</p>\n\n<p>    Since supervisor.clj is already ported to Java in master branch, I should have time to read ported code, and modify to be in sync.</p>\n\n<p>    Please review and comment while I'm working against master branch. Thanks!</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/HeartSaVioR/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/HeartSaVioR/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-1934\" title=\"Race condition between sync-supervisor and sync-processes raises several strange issues\" class=\"issue-link\" data-issue-key=\"STORM-1934\"><del>STORM-1934</del></a>-1.x</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1528.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1528.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1528</p>\n\n<hr />\n<p>commit e5857e07838af888988691af39efbe415b9a2345<br/>\nAuthor: Jungtaek Lim <kabhwan@gmail.com><br/>\nDate:   2016-06-29T07:06:20Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1934\" title=\"Race condition between sync-supervisor and sync-processes raises several strange issues\" class=\"issue-link\" data-issue-key=\"STORM-1934\"><del>STORM-1934</del></a> Fix race condition between sync-supervisor and sync-processes</p>\n\n<ul>\n\t<li>sync-supervisor just downloads new topology code and writes new local assignment</li>\n\t<li>shutting down workers and removing topology code is moved to sync-processes</li>\n\t<li>sync-processes does all of jobs based on local assignment and allocated workers</li>\n\t<li>remove unused / unneeded codes</li>\n</ul>\n\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612878776","html_url":"https://github.com/apache/storm/issues/5429#issuecomment-2612878776","issue_url":"https://api.github.com/repos/apache/storm/issues/5429","id":2612878776,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4Nzg3NzY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T08:05:57Z","updated_at":"2025-01-24T16:05:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1522#discussion_r68901523\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1522#discussion_r68901523</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/tuple/Fields.java &#8212;<br/>\n    @@ -50,8 +50,12 @@ public Fields(List<String> fields) {</p>\n\n<p> public List<Object> select(Fields selector, List<Object> tuple) {<br/>\n     List<Object> ret = new ArrayList<>(selector.size());</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>for(String s: selector) {</li>\n\t<li>ret.add(tuple.get(_index.get(s)));\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    You can replace _index.get(s) with fieldIndex(s) which throws IllegalArgumentException.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612878776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/229286689","html_url":"https://github.com/apache/storm/pull/1528#issuecomment-229286689","issue_url":"https://api.github.com/repos/apache/storm/issues/1528","id":229286689,"node_id":"MDEyOklzc3VlQ29tbWVudDIyOTI4NjY4OQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T08:10:48Z","updated_at":"2016-06-29T08:10:48Z","author_association":"CONTRIBUTOR","body":"Note: This patch removes the change from STORM-1561 since supervisor originally checks the change of executors in same port. \nPlease refer `read-allocated-workers` and `matches-an-assignment?`, and let me know if I'm missing here.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/229286689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921472","html_url":"https://github.com/apache/storm/issues/5716#issuecomment-2612921472","issue_url":"https://api.github.com/repos/apache/storm/issues/5716","id":2612921472,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjE0NzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T08:10:49Z","updated_at":"2025-01-24T16:25:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1528\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1528</a></p>\n\n<p>    Note: This patch removes the change from <a href=\"https://issues.apache.org/jira/browse/STORM-1561\" title=\"Supervisor should relaunch worker if assignments have changed\" class=\"issue-link\" data-issue-key=\"STORM-1561\"><del>STORM-1561</del></a> since supervisor originally checks the change of executors in same port. <br/>\n    Please refer `read-allocated-workers` and `matches-an-assignment?`, and let me know if I'm missing here.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612913431","html_url":"https://github.com/apache/storm/issues/5661#issuecomment-2612913431","issue_url":"https://api.github.com/repos/apache/storm/issues/5661","id":2612913431,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTM0MzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T08:35:42Z","updated_at":"2025-01-24T16:21:36Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>Sorry for late participating. I have been struggling with other works.</p>\n\n<p>I'm suspecting that many issues from supervisor are from race condition (sync-supervisor and sync-processes).</p>\n\n<p>One of supervisor test is intermittently failing (<a href=\"https://issues.apache.org/jira/browse/STORM-1933\" class=\"external-link\" rel=\"nofollow\">STORM-1933</a>), and after digging I found that supervisor has race condition which can create various issues.<br/>\n(What <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nico.meyer\" class=\"user-hover\" rel=\"nico.meyer\">Nico Meyer</a> pointed out seems to be same to what <a href=\"https://issues.apache.org/jira/browse/STORM-1933\" title=\"Intermittent test failure on test-multiple-active-storms-multiple-supervisors for supervisor-test \" class=\"issue-link\" data-issue-key=\"STORM-1933\"><del>STORM-1933</del></a> shows.)</p>\n\n<p>I submitted a <a href=\"https://github.com/apache/storm/pull/1528\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">patch</a> to <a href=\"https://issues.apache.org/jira/browse/STORM-1934\" class=\"external-link\" rel=\"nofollow\">STORM-1934</a> so I'd be really happy if you applies my patch and see it works. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612913431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612878781","html_url":"https://github.com/apache/storm/issues/5429#issuecomment-2612878781","issue_url":"https://api.github.com/repos/apache/storm/issues/5429","id":2612878781,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4Nzg3ODE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T08:58:19Z","updated_at":"2025-01-24T16:05:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user lujinhong commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1522#discussion_r68908757\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1522#discussion_r68908757</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/tuple/Fields.java &#8212;<br/>\n    @@ -50,8 +50,12 @@ public Fields(List<String> fields) {</p>\n\n<p> public List<Object> select(Fields selector, List<Object> tuple) {<br/>\n     List<Object> ret = new ArrayList<>(selector.size());</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>for(String s: selector) {</li>\n\t<li>ret.add(tuple.get(_index.get(s)));\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    yes, it is a better idea.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612878781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921480","html_url":"https://github.com/apache/storm/issues/5716#issuecomment-2612921480","issue_url":"https://api.github.com/repos/apache/storm/issues/5716","id":2612921480,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjE0ODA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T08:58:20Z","updated_at":"2025-01-24T16:25:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>Linking other suspected issues.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/229298244","html_url":"https://github.com/apache/storm/pull/1522#issuecomment-229298244","issue_url":"https://api.github.com/repos/apache/storm/issues/1522","id":229298244,"node_id":"MDEyOklzc3VlQ29tbWVudDIyOTI5ODI0NA==","user":{"login":"abhishekagarwal87","id":1477457,"node_id":"MDQ6VXNlcjE0Nzc0NTc=","avatar_url":"https://avatars.githubusercontent.com/u/1477457?v=4","gravatar_id":"","url":"https://api.github.com/users/abhishekagarwal87","html_url":"https://github.com/abhishekagarwal87","followers_url":"https://api.github.com/users/abhishekagarwal87/followers","following_url":"https://api.github.com/users/abhishekagarwal87/following{/other_user}","gists_url":"https://api.github.com/users/abhishekagarwal87/gists{/gist_id}","starred_url":"https://api.github.com/users/abhishekagarwal87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhishekagarwal87/subscriptions","organizations_url":"https://api.github.com/users/abhishekagarwal87/orgs","repos_url":"https://api.github.com/users/abhishekagarwal87/repos","events_url":"https://api.github.com/users/abhishekagarwal87/events{/privacy}","received_events_url":"https://api.github.com/users/abhishekagarwal87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T08:59:14Z","updated_at":"2016-06-29T08:59:14Z","author_association":"CONTRIBUTOR","body":"Thank you @lujinhong. I am +1 pending travis. Please squash the commits once travis is passed.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/229298244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612878787","html_url":"https://github.com/apache/storm/issues/5429#issuecomment-2612878787","issue_url":"https://api.github.com/repos/apache/storm/issues/5429","id":2612878787,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4Nzg3ODc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T08:59:15Z","updated_at":"2025-01-24T16:05:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1522\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1522</a></p>\n\n<p>    Thank you @lujinhong. I am +1 pending travis. Please squash the commits once travis is passed.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612878787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921388","html_url":"https://github.com/apache/storm/issues/5715#issuecomment-2612921388","issue_url":"https://api.github.com/repos/apache/storm/issues/5715","id":2612921388,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjEzODg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T09:02:13Z","updated_at":"2025-01-24T16:25:34Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>I think Nico describes the reason of this issue correctly. Linking comment: <a href=\"https://issues.apache.org/jira/browse/STORM-1879?focusedCommentId=15344582&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15344582\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/STORM-1879?focusedCommentId=15344582&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15344582</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/229305642","html_url":"https://github.com/apache/storm/pull/1528#issuecomment-229305642","issue_url":"https://api.github.com/repos/apache/storm/issues/1528","id":229305642,"node_id":"MDEyOklzc3VlQ29tbWVudDIyOTMwNTY0Mg==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T09:29:46Z","updated_at":"2016-06-29T09:29:46Z","author_association":"CONTRIBUTOR","body":"Build passes on storm-core so it's unrelated.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/229305642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921484","html_url":"https://github.com/apache/storm/issues/5716#issuecomment-2612921484","issue_url":"https://api.github.com/repos/apache/storm/issues/5716","id":2612921484,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjE0ODQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T09:29:48Z","updated_at":"2025-01-24T16:25:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1528\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1528</a></p>\n\n<p>    Build passes on storm-core so it's unrelated.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921490","html_url":"https://github.com/apache/storm/issues/5716#issuecomment-2612921490","issue_url":"https://api.github.com/repos/apache/storm/issues/5716","id":2612921490,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjE0OTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T09:35:09Z","updated_at":"2025-01-24T16:25:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1528#discussion_r68914596\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1528#discussion_r68914596</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/org/apache/storm/daemon/supervisor.clj &#8212;<br/>\n    @@ -592,24 +577,13 @@<br/>\n   (doseq [p (set/difference (set (keys existing-assignment))<br/>\n     (set (keys new-assignment)))]<br/>\n     (.killedWorker isupervisor (int p)))<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>     `StandaloneSupervisor` implementation does nothing. What is the need of this API?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921494","html_url":"https://github.com/apache/storm/issues/5716#issuecomment-2612921494","issue_url":"https://api.github.com/repos/apache/storm/issues/5716","id":2612921494,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjE0OTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T09:35:09Z","updated_at":"2025-01-24T16:25:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1528#discussion_r68914602\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1528#discussion_r68914602</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/org/apache/storm/daemon/supervisor.clj &#8212;<br/>\n    @@ -592,24 +577,13 @@<br/>\n   (doseq [p (set/difference (set (keys existing-assignment))<br/>\n     (set (keys new-assignment)))]<br/>\n     (.killedWorker isupervisor (int p)))</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>(kill-existing-workers-with-change-in-components supervisor existing-assignment new-assignment)<br/>\n   (.assigned isupervisor (keys new-assignment))\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>     `StandaloneSupervisor` implementation does nothing. What is the need of this API?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919482","html_url":"https://github.com/apache/storm/issues/5701#issuecomment-2612919482","issue_url":"https://api.github.com/repos/apache/storm/issues/5701","id":2612919482,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTk0ODI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T09:47:38Z","updated_at":"2025-01-24T16:24:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1517#discussion_r68916461\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1517#discussion_r68916461</a></p>\n\n<p>    &#8212; Diff: external/storm-redis/src/main/java/org/apache/storm/redis/bolt/RedisFilterBolt.java &#8212;<br/>\n    @@ -0,0 +1,146 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.redis.bolt;<br/>\n    +<br/>\n    +import org.apache.storm.redis.common.config.JedisClusterConfig;<br/>\n    +import org.apache.storm.redis.common.config.JedisPoolConfig;<br/>\n    +import org.apache.storm.redis.common.mapper.RedisDataTypeDescription;<br/>\n    +import org.apache.storm.redis.common.mapper.RedisFilterMapper;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import redis.clients.jedis.GeoCoordinate;<br/>\n    +import redis.clients.jedis.JedisCommands;<br/>\n    +<br/>\n    +import java.util.List;<br/>\n    +<br/>\n    +/**<br/>\n    + * Basic bolt for querying from Redis and filters out if key/field doesn't exist.<br/>\n    + * If key/field exists on Redis, this bolt just forwards input tuple to default stream.<br/>\n    + * <p/><br/>\n    + * Supported data types: STRING, HASH, SET, SORTED_SET, HYPER_LOG_LOG, GEO.<br/>\n    + * <p/><br/>\n    + * Note: For STRING it checks such key exists on the key space.<br/>\n    + * For HASH and SORTED_SET and GEO, it checks such field exists on that data structure.<br/>\n    + * For SET and HYPER_LOG_LOG, it check such value exists on that data structure.<br/>\n    + * (Note that it still refers key from tuple via RedisFilterMapper#getKeyFromTuple())<br/>\n    + * In order to apply checking this to SET, you need to input additional key this case.<br/>\n    + * <p/><br/>\n    + * Note2: If you want to just query about existence of key regardless of actual data type,<br/>\n    + * specify STRING to data type of RedisFilterMapper.<br/>\n    + */<br/>\n    +public class RedisFilterBolt extends AbstractRedisBolt {<br/>\n    +    private final RedisFilterMapper filterMapper;<br/>\n    +    private final RedisDataTypeDescription.RedisDataType dataType;<br/>\n    +    private final String additionalKey;<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Constructor for single Redis environment (JedisPool)<br/>\n    +     * @param config configuration for initializing JedisPool<br/>\n    +     * @param filterMapper mapper containing which datatype, query key that Bolt uses<br/>\n    +     */<br/>\n    +    public RedisFilterBolt(JedisPoolConfig config, RedisFilterMapper filterMapper) </p>\n{\n    +super(config);\n    +\n    +this.filterMapper = filterMapper;\n    +\n    +RedisDataTypeDescription dataTypeDescription = filterMapper.getDataTypeDescription();\n    +this.dataType = dataTypeDescription.getDataType();\n    +this.additionalKey = dataTypeDescription.getAdditionalKey();\n    +    }<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Constructor for Redis Cluster environment (JedisCluster)<br/>\n    +     * @param config configuration for initializing JedisCluster<br/>\n    +     * @param filterMapper mapper containing which datatype, query key that Bolt uses<br/>\n    +     */<br/>\n    +    public RedisFilterBolt(JedisClusterConfig config, RedisFilterMapper filterMapper) {    +super(config);    +    +this.filterMapper = filterMapper;    +    +RedisDataTypeDescription dataTypeDescription = filterMapper.getDataTypeDescription();    +this.dataType = dataTypeDescription.getDataType();    +this.additionalKey = dataTypeDescription.getAdditionalKey();    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * </p>\n{@inheritDoc}\n<p>    +     */<br/>\n    +    @Override<br/>\n    +    public void execute(Tuple input) {<br/>\n    +String key = filterMapper.getKeyFromTuple(input);<br/>\n    +<br/>\n    +boolean found;<br/>\n    +JedisCommands jedisCommand = null;<br/>\n    +try {<br/>\n    +    jedisCommand = getInstance();<br/>\n    +<br/>\n    +    switch (dataType) {<br/>\n    +case STRING:<br/>\n    +    found = jedisCommand.exists(key);<br/>\n    +    break;<br/>\n    +<br/>\n    +case SET:<br/>\n    +    if (additionalKey == null) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    since data type is known at the time of construction, can this check be moved to constructor itself? Failing fast is preferred. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919487","html_url":"https://github.com/apache/storm/issues/5701#issuecomment-2612919487","issue_url":"https://api.github.com/repos/apache/storm/issues/5701","id":2612919487,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTk0ODc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T09:52:13Z","updated_at":"2025-01-24T16:24:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1517#discussion_r68916823\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1517#discussion_r68916823</a></p>\n\n<p>    &#8212; Diff: external/storm-redis/src/main/java/org/apache/storm/redis/bolt/RedisFilterBolt.java &#8212;<br/>\n    @@ -0,0 +1,146 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.redis.bolt;<br/>\n    +<br/>\n    +import org.apache.storm.redis.common.config.JedisClusterConfig;<br/>\n    +import org.apache.storm.redis.common.config.JedisPoolConfig;<br/>\n    +import org.apache.storm.redis.common.mapper.RedisDataTypeDescription;<br/>\n    +import org.apache.storm.redis.common.mapper.RedisFilterMapper;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import redis.clients.jedis.GeoCoordinate;<br/>\n    +import redis.clients.jedis.JedisCommands;<br/>\n    +<br/>\n    +import java.util.List;<br/>\n    +<br/>\n    +/**<br/>\n    + * Basic bolt for querying from Redis and filters out if key/field doesn't exist.<br/>\n    + * If key/field exists on Redis, this bolt just forwards input tuple to default stream.<br/>\n    + * <p/><br/>\n    + * Supported data types: STRING, HASH, SET, SORTED_SET, HYPER_LOG_LOG, GEO.<br/>\n    + * <p/><br/>\n    + * Note: For STRING it checks such key exists on the key space.<br/>\n    + * For HASH and SORTED_SET and GEO, it checks such field exists on that data structure.<br/>\n    + * For SET and HYPER_LOG_LOG, it check such value exists on that data structure.<br/>\n    + * (Note that it still refers key from tuple via RedisFilterMapper#getKeyFromTuple())<br/>\n    + * In order to apply checking this to SET, you need to input additional key this case.<br/>\n    + * <p/><br/>\n    + * Note2: If you want to just query about existence of key regardless of actual data type,<br/>\n    + * specify STRING to data type of RedisFilterMapper.<br/>\n    + */<br/>\n    +public class RedisFilterBolt extends AbstractRedisBolt {<br/>\n    +    private final RedisFilterMapper filterMapper;<br/>\n    +    private final RedisDataTypeDescription.RedisDataType dataType;<br/>\n    +    private final String additionalKey;<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Constructor for single Redis environment (JedisPool)<br/>\n    +     * @param config configuration for initializing JedisPool<br/>\n    +     * @param filterMapper mapper containing which datatype, query key that Bolt uses<br/>\n    +     */<br/>\n    +    public RedisFilterBolt(JedisPoolConfig config, RedisFilterMapper filterMapper) </p>\n{\n    +super(config);\n    +\n    +this.filterMapper = filterMapper;\n    +\n    +RedisDataTypeDescription dataTypeDescription = filterMapper.getDataTypeDescription();\n    +this.dataType = dataTypeDescription.getDataType();\n    +this.additionalKey = dataTypeDescription.getAdditionalKey();\n    +    }<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Constructor for Redis Cluster environment (JedisCluster)<br/>\n    +     * @param config configuration for initializing JedisCluster<br/>\n    +     * @param filterMapper mapper containing which datatype, query key that Bolt uses<br/>\n    +     */<br/>\n    +    public RedisFilterBolt(JedisClusterConfig config, RedisFilterMapper filterMapper) {    +super(config);    +    +this.filterMapper = filterMapper;    +    +RedisDataTypeDescription dataTypeDescription = filterMapper.getDataTypeDescription();    +this.dataType = dataTypeDescription.getDataType();    +this.additionalKey = dataTypeDescription.getAdditionalKey();    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * </p>\n{@inheritDoc}\n<p>    +     */<br/>\n    +    @Override<br/>\n    +    public void execute(Tuple input) {<br/>\n    +String key = filterMapper.getKeyFromTuple(input);<br/>\n    +<br/>\n    +boolean found;<br/>\n    +JedisCommands jedisCommand = null;<br/>\n    +try {<br/>\n    +    jedisCommand = getInstance();<br/>\n    +<br/>\n    +    switch (dataType) {<br/>\n    +case STRING:<br/>\n    +    found = jedisCommand.exists(key);<br/>\n    +    break;<br/>\n    +<br/>\n    +case SET:<br/>\n    +    if (additionalKey == null) </p>\n{\n    +throw new IllegalArgumentException(\"additionalKey should be defined\");\n    +    }\n<p>    +    found = jedisCommand.sismember(additionalKey, key);<br/>\n    +    break;<br/>\n    +<br/>\n    +case HASH:<br/>\n    +    found = jedisCommand.hexists(additionalKey, key);<br/>\n    +    break;<br/>\n    +<br/>\n    +case SORTED_SET:<br/>\n    +    found = jedisCommand.zrank(additionalKey, key) != null;<br/>\n    +    break;<br/>\n    +<br/>\n    +case HYPER_LOG_LOG:<br/>\n    +    found = jedisCommand.pfcount(key) > 0;<br/>\n    +    break;<br/>\n    +<br/>\n    +case GEO:<br/>\n    +    List<GeoCoordinate> geopos = jedisCommand.geopos(additionalKey, key);<br/>\n    +    found = geopos != null && geopos.size() > 0;<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    minor. Better to wrap in parentheses for clarity<br/>\n    ` found = (geopos != null && geopos.size() > 0)`</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919492","html_url":"https://github.com/apache/storm/issues/5701#issuecomment-2612919492","issue_url":"https://api.github.com/repos/apache/storm/issues/5701","id":2612919492,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTk0OTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T09:55:26Z","updated_at":"2025-01-24T16:24:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1517#discussion_r68917610\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1517#discussion_r68917610</a></p>\n\n<p>    &#8212; Diff: external/storm-redis/src/main/java/org/apache/storm/redis/bolt/RedisFilterBolt.java &#8212;<br/>\n    @@ -0,0 +1,146 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.redis.bolt;<br/>\n    +<br/>\n    +import org.apache.storm.redis.common.config.JedisClusterConfig;<br/>\n    +import org.apache.storm.redis.common.config.JedisPoolConfig;<br/>\n    +import org.apache.storm.redis.common.mapper.RedisDataTypeDescription;<br/>\n    +import org.apache.storm.redis.common.mapper.RedisFilterMapper;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import redis.clients.jedis.GeoCoordinate;<br/>\n    +import redis.clients.jedis.JedisCommands;<br/>\n    +<br/>\n    +import java.util.List;<br/>\n    +<br/>\n    +/**<br/>\n    + * Basic bolt for querying from Redis and filters out if key/field doesn't exist.<br/>\n    + * If key/field exists on Redis, this bolt just forwards input tuple to default stream.<br/>\n    + * <p/><br/>\n    + * Supported data types: STRING, HASH, SET, SORTED_SET, HYPER_LOG_LOG, GEO.<br/>\n    + * <p/><br/>\n    + * Note: For STRING it checks such key exists on the key space.<br/>\n    + * For HASH and SORTED_SET and GEO, it checks such field exists on that data structure.<br/>\n    + * For SET and HYPER_LOG_LOG, it check such value exists on that data structure.<br/>\n    + * (Note that it still refers key from tuple via RedisFilterMapper#getKeyFromTuple())<br/>\n    + * In order to apply checking this to SET, you need to input additional key this case.<br/>\n    + * <p/><br/>\n    + * Note2: If you want to just query about existence of key regardless of actual data type,<br/>\n    + * specify STRING to data type of RedisFilterMapper.<br/>\n    + */<br/>\n    +public class RedisFilterBolt extends AbstractRedisBolt {<br/>\n    +    private final RedisFilterMapper filterMapper;<br/>\n    +    private final RedisDataTypeDescription.RedisDataType dataType;<br/>\n    +    private final String additionalKey;<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Constructor for single Redis environment (JedisPool)<br/>\n    +     * @param config configuration for initializing JedisPool<br/>\n    +     * @param filterMapper mapper containing which datatype, query key that Bolt uses<br/>\n    +     */<br/>\n    +    public RedisFilterBolt(JedisPoolConfig config, RedisFilterMapper filterMapper) </p>\n{\n    +super(config);\n    +\n    +this.filterMapper = filterMapper;\n    +\n    +RedisDataTypeDescription dataTypeDescription = filterMapper.getDataTypeDescription();\n    +this.dataType = dataTypeDescription.getDataType();\n    +this.additionalKey = dataTypeDescription.getAdditionalKey();\n    +    }<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Constructor for Redis Cluster environment (JedisCluster)<br/>\n    +     * @param config configuration for initializing JedisCluster<br/>\n    +     * @param filterMapper mapper containing which datatype, query key that Bolt uses<br/>\n    +     */<br/>\n    +    public RedisFilterBolt(JedisClusterConfig config, RedisFilterMapper filterMapper) {    +super(config);    +    +this.filterMapper = filterMapper;    +    +RedisDataTypeDescription dataTypeDescription = filterMapper.getDataTypeDescription();    +this.dataType = dataTypeDescription.getDataType();    +this.additionalKey = dataTypeDescription.getAdditionalKey();    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * </p>\n{@inheritDoc}\n<p>    +     */<br/>\n    +    @Override<br/>\n    +    public void execute(Tuple input) {<br/>\n    +String key = filterMapper.getKeyFromTuple(input);<br/>\n    +<br/>\n    +boolean found;<br/>\n    +JedisCommands jedisCommand = null;<br/>\n    +try {<br/>\n    +    jedisCommand = getInstance();<br/>\n    +<br/>\n    +    switch (dataType) {<br/>\n    +case STRING:<br/>\n    +    found = jedisCommand.exists(key);<br/>\n    +    break;<br/>\n    +<br/>\n    +case SET:<br/>\n    +    if (additionalKey == null) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    @abhishekagarwal87 Great point! Will fix.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919494","html_url":"https://github.com/apache/storm/issues/5701#issuecomment-2612919494","issue_url":"https://api.github.com/repos/apache/storm/issues/5701","id":2612919494,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTk0OTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T09:55:26Z","updated_at":"2025-01-24T16:24:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1517#discussion_r68917641\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1517#discussion_r68917641</a></p>\n\n<p>    &#8212; Diff: external/storm-redis/src/main/java/org/apache/storm/redis/bolt/RedisFilterBolt.java &#8212;<br/>\n    @@ -0,0 +1,146 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.redis.bolt;<br/>\n    +<br/>\n    +import org.apache.storm.redis.common.config.JedisClusterConfig;<br/>\n    +import org.apache.storm.redis.common.config.JedisPoolConfig;<br/>\n    +import org.apache.storm.redis.common.mapper.RedisDataTypeDescription;<br/>\n    +import org.apache.storm.redis.common.mapper.RedisFilterMapper;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import redis.clients.jedis.GeoCoordinate;<br/>\n    +import redis.clients.jedis.JedisCommands;<br/>\n    +<br/>\n    +import java.util.List;<br/>\n    +<br/>\n    +/**<br/>\n    + * Basic bolt for querying from Redis and filters out if key/field doesn't exist.<br/>\n    + * If key/field exists on Redis, this bolt just forwards input tuple to default stream.<br/>\n    + * <p/><br/>\n    + * Supported data types: STRING, HASH, SET, SORTED_SET, HYPER_LOG_LOG, GEO.<br/>\n    + * <p/><br/>\n    + * Note: For STRING it checks such key exists on the key space.<br/>\n    + * For HASH and SORTED_SET and GEO, it checks such field exists on that data structure.<br/>\n    + * For SET and HYPER_LOG_LOG, it check such value exists on that data structure.<br/>\n    + * (Note that it still refers key from tuple via RedisFilterMapper#getKeyFromTuple())<br/>\n    + * In order to apply checking this to SET, you need to input additional key this case.<br/>\n    + * <p/><br/>\n    + * Note2: If you want to just query about existence of key regardless of actual data type,<br/>\n    + * specify STRING to data type of RedisFilterMapper.<br/>\n    + */<br/>\n    +public class RedisFilterBolt extends AbstractRedisBolt {<br/>\n    +    private final RedisFilterMapper filterMapper;<br/>\n    +    private final RedisDataTypeDescription.RedisDataType dataType;<br/>\n    +    private final String additionalKey;<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Constructor for single Redis environment (JedisPool)<br/>\n    +     * @param config configuration for initializing JedisPool<br/>\n    +     * @param filterMapper mapper containing which datatype, query key that Bolt uses<br/>\n    +     */<br/>\n    +    public RedisFilterBolt(JedisPoolConfig config, RedisFilterMapper filterMapper) </p>\n{\n    +super(config);\n    +\n    +this.filterMapper = filterMapper;\n    +\n    +RedisDataTypeDescription dataTypeDescription = filterMapper.getDataTypeDescription();\n    +this.dataType = dataTypeDescription.getDataType();\n    +this.additionalKey = dataTypeDescription.getAdditionalKey();\n    +    }<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Constructor for Redis Cluster environment (JedisCluster)<br/>\n    +     * @param config configuration for initializing JedisCluster<br/>\n    +     * @param filterMapper mapper containing which datatype, query key that Bolt uses<br/>\n    +     */<br/>\n    +    public RedisFilterBolt(JedisClusterConfig config, RedisFilterMapper filterMapper) {    +super(config);    +    +this.filterMapper = filterMapper;    +    +RedisDataTypeDescription dataTypeDescription = filterMapper.getDataTypeDescription();    +this.dataType = dataTypeDescription.getDataType();    +this.additionalKey = dataTypeDescription.getAdditionalKey();    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * </p>\n{@inheritDoc}\n<p>    +     */<br/>\n    +    @Override<br/>\n    +    public void execute(Tuple input) {<br/>\n    +String key = filterMapper.getKeyFromTuple(input);<br/>\n    +<br/>\n    +boolean found;<br/>\n    +JedisCommands jedisCommand = null;<br/>\n    +try {<br/>\n    +    jedisCommand = getInstance();<br/>\n    +<br/>\n    +    switch (dataType) {<br/>\n    +case STRING:<br/>\n    +    found = jedisCommand.exists(key);<br/>\n    +    break;<br/>\n    +<br/>\n    +case SET:<br/>\n    +    if (additionalKey == null) </p>\n{\n    +throw new IllegalArgumentException(\"additionalKey should be defined\");\n    +    }\n<p>    +    found = jedisCommand.sismember(additionalKey, key);<br/>\n    +    break;<br/>\n    +<br/>\n    +case HASH:<br/>\n    +    found = jedisCommand.hexists(additionalKey, key);<br/>\n    +    break;<br/>\n    +<br/>\n    +case SORTED_SET:<br/>\n    +    found = jedisCommand.zrank(additionalKey, key) != null;<br/>\n    +    break;<br/>\n    +<br/>\n    +case HYPER_LOG_LOG:<br/>\n    +    found = jedisCommand.pfcount(key) > 0;<br/>\n    +    break;<br/>\n    +<br/>\n    +case GEO:<br/>\n    +    List<GeoCoordinate> geopos = jedisCommand.geopos(additionalKey, key);<br/>\n    +    found = geopos != null && geopos.size() > 0;<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Good point. Will fix.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919501","html_url":"https://github.com/apache/storm/issues/5701#issuecomment-2612919501","issue_url":"https://api.github.com/repos/apache/storm/issues/5701","id":2612919501,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTk1MDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T09:55:33Z","updated_at":"2025-01-24T16:24:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1517#discussion_r68917959\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1517#discussion_r68917959</a></p>\n\n<p>    &#8212; Diff: external/storm-redis/src/test/java/org/apache/storm/redis/topology/WhitelistWordCount.java &#8212;<br/>\n    @@ -0,0 +1,155 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.redis.topology;<br/>\n    +<br/>\n    +import org.apache.storm.Config;<br/>\n    +import org.apache.storm.LocalCluster;<br/>\n    +import org.apache.storm.StormSubmitter;<br/>\n    +import org.apache.storm.redis.bolt.RedisFilterBolt;<br/>\n    +import org.apache.storm.redis.common.config.JedisPoolConfig;<br/>\n    +import org.apache.storm.redis.common.mapper.RedisDataTypeDescription;<br/>\n    +import org.apache.storm.redis.common.mapper.RedisFilterMapper;<br/>\n    +import org.apache.storm.task.OutputCollector;<br/>\n    +import org.apache.storm.task.TopologyContext;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.topology.TopologyBuilder;<br/>\n    +import org.apache.storm.topology.base.BaseRichBolt;<br/>\n    +import org.apache.storm.tuple.Fields;<br/>\n    +import org.apache.storm.tuple.ITuple;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +import java.util.Random;<br/>\n    +<br/>\n    +public class WhitelistWordCount {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Let's have this in examples instead since there is no test in the class. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/229314142","html_url":"https://github.com/apache/storm/pull/1528#issuecomment-229314142","issue_url":"https://api.github.com/repos/apache/storm/issues/1528","id":229314142,"node_id":"MDEyOklzc3VlQ29tbWVudDIyOTMxNDE0Mg==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T10:06:19Z","updated_at":"2016-06-29T10:06:19Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/storm/commit/aad9669643d5ba8552a2d5b62982c8f31d6471cd\nI don't find clear usage from introduction of StandaloneSupervisor, so I guess it would be better to ask or wait someone who knows this ancient thing. :)\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/229314142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921500","html_url":"https://github.com/apache/storm/issues/5716#issuecomment-2612921500","issue_url":"https://api.github.com/repos/apache/storm/issues/5716","id":2612921500,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjE1MDA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T10:11:14Z","updated_at":"2025-01-24T16:25:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user HeartSaVioR opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1529\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1529</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1934\" title=\"Race condition between sync-supervisor and sync-processes raises several strange issues\" class=\"issue-link\" data-issue-key=\"STORM-1934\"><del>STORM-1934</del></a> Fix race condition between sync-supervisor and sync-processes</p>\n\n<ul>\n\t<li>sync-supervisor just downloads new topology code and writes new local assignment</li>\n\t<li>shutting down workers and removing topology code is moved to sync-processes</li>\n\t<li>sync-processes does all of jobs based on local assignment and allocated workers</li>\n</ul>\n\n\n<p>    PR for 1.x-branch: #1528</p>\n\n<p>    Please note that supervisor is ported to Java, so PR for master and PR for 1.x-branch are having different diff. But concept is same.</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/HeartSaVioR/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/HeartSaVioR/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-1934\" title=\"Race condition between sync-supervisor and sync-processes raises several strange issues\" class=\"issue-link\" data-issue-key=\"STORM-1934\"><del>STORM-1934</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1529.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1529.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1529</p>\n\n<hr />\n<p>commit 816a6cc47e5be505d4857e25a4aa14d2f09cade0<br/>\nAuthor: Jungtaek Lim <kabhwan@gmail.com><br/>\nDate:   2016-06-29T10:06:43Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1934\" title=\"Race condition between sync-supervisor and sync-processes raises several strange issues\" class=\"issue-link\" data-issue-key=\"STORM-1934\"><del>STORM-1934</del></a> Fix race condition between sync-supervisor and sync-processes</p>\n\n<ul>\n\t<li>sync-supervisor just downloads new topology code and writes new local assignment</li>\n\t<li>shutting down workers and removing topology code is moved to sync-processes</li>\n\t<li>sync-processes does all of jobs based on local assignment and allocated workers</li>\n</ul>\n\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/229327950","html_url":"https://github.com/apache/storm/pull/1528#issuecomment-229327950","issue_url":"https://api.github.com/repos/apache/storm/issues/1528","id":229327950,"node_id":"MDEyOklzc3VlQ29tbWVudDIyOTMyNzk1MA==","user":{"login":"arunmahadevan","id":6792890,"node_id":"MDQ6VXNlcjY3OTI4OTA=","avatar_url":"https://avatars.githubusercontent.com/u/6792890?v=4","gravatar_id":"","url":"https://api.github.com/users/arunmahadevan","html_url":"https://github.com/arunmahadevan","followers_url":"https://api.github.com/users/arunmahadevan/followers","following_url":"https://api.github.com/users/arunmahadevan/following{/other_user}","gists_url":"https://api.github.com/users/arunmahadevan/gists{/gist_id}","starred_url":"https://api.github.com/users/arunmahadevan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arunmahadevan/subscriptions","organizations_url":"https://api.github.com/users/arunmahadevan/orgs","repos_url":"https://api.github.com/users/arunmahadevan/repos","events_url":"https://api.github.com/users/arunmahadevan/events{/privacy}","received_events_url":"https://api.github.com/users/arunmahadevan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T11:18:44Z","updated_at":"2016-06-29T11:18:44Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR The changes looks good. May be you can add some comments in sync-process and mk-synchronize-supervisor on what each is supposed to do.\n\nIn your comment where you rebalanced from 2 -> 3 workers, the allocated status for the new worker \":port 6703\" is also disallowed, which looks odd since its a new worker.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/229327950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921503","html_url":"https://github.com/apache/storm/issues/5716#issuecomment-2612921503","issue_url":"https://api.github.com/repos/apache/storm/issues/5716","id":2612921503,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjE1MDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T11:18:45Z","updated_at":"2025-01-24T16:25:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1528\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1528</a></p>\n\n<p>    @HeartSaVioR The changes looks good. May be you can add some comments in sync-process and mk-synchronize-supervisor on what each is supposed to do.</p>\n\n<p>    In your comment where you rebalanced from 2 -> 3 workers, the allocated status for the new worker \":port 6703\" is also disallowed, which looks odd since its a new worker.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/229335709","html_url":"https://github.com/apache/storm/pull/1528#issuecomment-229335709","issue_url":"https://api.github.com/repos/apache/storm/issues/1528","id":229335709,"node_id":"MDEyOklzc3VlQ29tbWVudDIyOTMzNTcwOQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T12:00:44Z","updated_at":"2016-06-29T12:00:44Z","author_association":"CONTRIBUTOR","body":"@arunmahadevan Sorry for confusing: rebalance is done from 3 workers to 2 workers, and since all executors map are changed so all workers are disallowed and two new workers are launched.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/229335709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921507","html_url":"https://github.com/apache/storm/issues/5716#issuecomment-2612921507","issue_url":"https://api.github.com/repos/apache/storm/issues/5716","id":2612921507,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjE1MDc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T12:00:45Z","updated_at":"2025-01-24T16:25:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1528\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1528</a></p>\n\n<p>    @arunmahadevan Sorry for confusing: rebalance is done from 3 workers to 2 workers, and since all executors map are changed so all workers are disallowed and two new workers are launched.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919506","html_url":"https://github.com/apache/storm/issues/5701#issuecomment-2612919506","issue_url":"https://api.github.com/repos/apache/storm/issues/5701","id":2612919506,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTk1MDY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T13:42:02Z","updated_at":"2025-01-24T16:24:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1517#discussion_r68947207\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1517#discussion_r68947207</a></p>\n\n<p>    &#8212; Diff: external/storm-redis/src/main/java/org/apache/storm/redis/bolt/RedisFilterBolt.java &#8212;<br/>\n    @@ -0,0 +1,146 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.redis.bolt;<br/>\n    +<br/>\n    +import org.apache.storm.redis.common.config.JedisClusterConfig;<br/>\n    +import org.apache.storm.redis.common.config.JedisPoolConfig;<br/>\n    +import org.apache.storm.redis.common.mapper.RedisDataTypeDescription;<br/>\n    +import org.apache.storm.redis.common.mapper.RedisFilterMapper;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import redis.clients.jedis.GeoCoordinate;<br/>\n    +import redis.clients.jedis.JedisCommands;<br/>\n    +<br/>\n    +import java.util.List;<br/>\n    +<br/>\n    +/**<br/>\n    + * Basic bolt for querying from Redis and filters out if key/field doesn't exist.<br/>\n    + * If key/field exists on Redis, this bolt just forwards input tuple to default stream.<br/>\n    + * <p/><br/>\n    + * Supported data types: STRING, HASH, SET, SORTED_SET, HYPER_LOG_LOG, GEO.<br/>\n    + * <p/><br/>\n    + * Note: For STRING it checks such key exists on the key space.<br/>\n    + * For HASH and SORTED_SET and GEO, it checks such field exists on that data structure.<br/>\n    + * For SET and HYPER_LOG_LOG, it check such value exists on that data structure.<br/>\n    + * (Note that it still refers key from tuple via RedisFilterMapper#getKeyFromTuple())<br/>\n    + * In order to apply checking this to SET, you need to input additional key this case.<br/>\n    + * <p/><br/>\n    + * Note2: If you want to just query about existence of key regardless of actual data type,<br/>\n    + * specify STRING to data type of RedisFilterMapper.<br/>\n    + */<br/>\n    +public class RedisFilterBolt extends AbstractRedisBolt {<br/>\n    +    private final RedisFilterMapper filterMapper;<br/>\n    +    private final RedisDataTypeDescription.RedisDataType dataType;<br/>\n    +    private final String additionalKey;<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Constructor for single Redis environment (JedisPool)<br/>\n    +     * @param config configuration for initializing JedisPool<br/>\n    +     * @param filterMapper mapper containing which datatype, query key that Bolt uses<br/>\n    +     */<br/>\n    +    public RedisFilterBolt(JedisPoolConfig config, RedisFilterMapper filterMapper) </p>\n{\n    +super(config);\n    +\n    +this.filterMapper = filterMapper;\n    +\n    +RedisDataTypeDescription dataTypeDescription = filterMapper.getDataTypeDescription();\n    +this.dataType = dataTypeDescription.getDataType();\n    +this.additionalKey = dataTypeDescription.getAdditionalKey();\n    +    }<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Constructor for Redis Cluster environment (JedisCluster)<br/>\n    +     * @param config configuration for initializing JedisCluster<br/>\n    +     * @param filterMapper mapper containing which datatype, query key that Bolt uses<br/>\n    +     */<br/>\n    +    public RedisFilterBolt(JedisClusterConfig config, RedisFilterMapper filterMapper) {    +super(config);    +    +this.filterMapper = filterMapper;    +    +RedisDataTypeDescription dataTypeDescription = filterMapper.getDataTypeDescription();    +this.dataType = dataTypeDescription.getDataType();    +this.additionalKey = dataTypeDescription.getAdditionalKey();    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * </p>\n{@inheritDoc}\n<p>    +     */<br/>\n    +    @Override<br/>\n    +    public void execute(Tuple input) {<br/>\n    +String key = filterMapper.getKeyFromTuple(input);<br/>\n    +<br/>\n    +boolean found;<br/>\n    +JedisCommands jedisCommand = null;<br/>\n    +try {<br/>\n    +    jedisCommand = getInstance();<br/>\n    +<br/>\n    +    switch (dataType) {<br/>\n    +case STRING:<br/>\n    +    found = jedisCommand.exists(key);<br/>\n    +    break;<br/>\n    +<br/>\n    +case SET:<br/>\n    +    if (additionalKey == null) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Addressed.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919512","html_url":"https://github.com/apache/storm/issues/5701#issuecomment-2612919512","issue_url":"https://api.github.com/repos/apache/storm/issues/5701","id":2612919512,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTk1MTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T13:42:02Z","updated_at":"2025-01-24T16:24:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1517#discussion_r68947165\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1517#discussion_r68947165</a></p>\n\n<p>    &#8212; Diff: external/storm-redis/src/test/java/org/apache/storm/redis/topology/WhitelistWordCount.java &#8212;<br/>\n    @@ -0,0 +1,155 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.redis.topology;<br/>\n    +<br/>\n    +import org.apache.storm.Config;<br/>\n    +import org.apache.storm.LocalCluster;<br/>\n    +import org.apache.storm.StormSubmitter;<br/>\n    +import org.apache.storm.redis.bolt.RedisFilterBolt;<br/>\n    +import org.apache.storm.redis.common.config.JedisPoolConfig;<br/>\n    +import org.apache.storm.redis.common.mapper.RedisDataTypeDescription;<br/>\n    +import org.apache.storm.redis.common.mapper.RedisFilterMapper;<br/>\n    +import org.apache.storm.task.OutputCollector;<br/>\n    +import org.apache.storm.task.TopologyContext;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.topology.TopologyBuilder;<br/>\n    +import org.apache.storm.topology.base.BaseRichBolt;<br/>\n    +import org.apache.storm.tuple.Fields;<br/>\n    +import org.apache.storm.tuple.ITuple;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +import java.util.Random;<br/>\n    +<br/>\n    +public class WhitelistWordCount {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Not sure where to move. Do you have an idea?<br/>\n    Maybe we would like to have a rule for this case, and apply all external modules since many modules already have example topologies in test package. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919515","html_url":"https://github.com/apache/storm/issues/5701#issuecomment-2612919515","issue_url":"https://api.github.com/repos/apache/storm/issues/5701","id":2612919515,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTk1MTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T13:42:03Z","updated_at":"2025-01-24T16:24:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1517#discussion_r68947209\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1517#discussion_r68947209</a></p>\n\n<p>    &#8212; Diff: external/storm-redis/src/main/java/org/apache/storm/redis/bolt/RedisFilterBolt.java &#8212;<br/>\n    @@ -0,0 +1,146 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.redis.bolt;<br/>\n    +<br/>\n    +import org.apache.storm.redis.common.config.JedisClusterConfig;<br/>\n    +import org.apache.storm.redis.common.config.JedisPoolConfig;<br/>\n    +import org.apache.storm.redis.common.mapper.RedisDataTypeDescription;<br/>\n    +import org.apache.storm.redis.common.mapper.RedisFilterMapper;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import redis.clients.jedis.GeoCoordinate;<br/>\n    +import redis.clients.jedis.JedisCommands;<br/>\n    +<br/>\n    +import java.util.List;<br/>\n    +<br/>\n    +/**<br/>\n    + * Basic bolt for querying from Redis and filters out if key/field doesn't exist.<br/>\n    + * If key/field exists on Redis, this bolt just forwards input tuple to default stream.<br/>\n    + * <p/><br/>\n    + * Supported data types: STRING, HASH, SET, SORTED_SET, HYPER_LOG_LOG, GEO.<br/>\n    + * <p/><br/>\n    + * Note: For STRING it checks such key exists on the key space.<br/>\n    + * For HASH and SORTED_SET and GEO, it checks such field exists on that data structure.<br/>\n    + * For SET and HYPER_LOG_LOG, it check such value exists on that data structure.<br/>\n    + * (Note that it still refers key from tuple via RedisFilterMapper#getKeyFromTuple())<br/>\n    + * In order to apply checking this to SET, you need to input additional key this case.<br/>\n    + * <p/><br/>\n    + * Note2: If you want to just query about existence of key regardless of actual data type,<br/>\n    + * specify STRING to data type of RedisFilterMapper.<br/>\n    + */<br/>\n    +public class RedisFilterBolt extends AbstractRedisBolt {<br/>\n    +    private final RedisFilterMapper filterMapper;<br/>\n    +    private final RedisDataTypeDescription.RedisDataType dataType;<br/>\n    +    private final String additionalKey;<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Constructor for single Redis environment (JedisPool)<br/>\n    +     * @param config configuration for initializing JedisPool<br/>\n    +     * @param filterMapper mapper containing which datatype, query key that Bolt uses<br/>\n    +     */<br/>\n    +    public RedisFilterBolt(JedisPoolConfig config, RedisFilterMapper filterMapper) </p>\n{\n    +super(config);\n    +\n    +this.filterMapper = filterMapper;\n    +\n    +RedisDataTypeDescription dataTypeDescription = filterMapper.getDataTypeDescription();\n    +this.dataType = dataTypeDescription.getDataType();\n    +this.additionalKey = dataTypeDescription.getAdditionalKey();\n    +    }<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Constructor for Redis Cluster environment (JedisCluster)<br/>\n    +     * @param config configuration for initializing JedisCluster<br/>\n    +     * @param filterMapper mapper containing which datatype, query key that Bolt uses<br/>\n    +     */<br/>\n    +    public RedisFilterBolt(JedisClusterConfig config, RedisFilterMapper filterMapper) {    +super(config);    +    +this.filterMapper = filterMapper;    +    +RedisDataTypeDescription dataTypeDescription = filterMapper.getDataTypeDescription();    +this.dataType = dataTypeDescription.getDataType();    +this.additionalKey = dataTypeDescription.getAdditionalKey();    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * </p>\n{@inheritDoc}\n<p>    +     */<br/>\n    +    @Override<br/>\n    +    public void execute(Tuple input) {<br/>\n    +String key = filterMapper.getKeyFromTuple(input);<br/>\n    +<br/>\n    +boolean found;<br/>\n    +JedisCommands jedisCommand = null;<br/>\n    +try {<br/>\n    +    jedisCommand = getInstance();<br/>\n    +<br/>\n    +    switch (dataType) {<br/>\n    +case STRING:<br/>\n    +    found = jedisCommand.exists(key);<br/>\n    +    break;<br/>\n    +<br/>\n    +case SET:<br/>\n    +    if (additionalKey == null) </p>\n{\n    +throw new IllegalArgumentException(\"additionalKey should be defined\");\n    +    }\n<p>    +    found = jedisCommand.sismember(additionalKey, key);<br/>\n    +    break;<br/>\n    +<br/>\n    +case HASH:<br/>\n    +    found = jedisCommand.hexists(additionalKey, key);<br/>\n    +    break;<br/>\n    +<br/>\n    +case SORTED_SET:<br/>\n    +    found = jedisCommand.zrank(additionalKey, key) != null;<br/>\n    +    break;<br/>\n    +<br/>\n    +case HYPER_LOG_LOG:<br/>\n    +    found = jedisCommand.pfcount(key) > 0;<br/>\n    +    break;<br/>\n    +<br/>\n    +case GEO:<br/>\n    +    List<GeoCoordinate> geopos = jedisCommand.geopos(additionalKey, key);<br/>\n    +    found = geopos != null && geopos.size() > 0;<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Addressed.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/229366354","html_url":"https://github.com/apache/storm/pull/1528#issuecomment-229366354","issue_url":"https://api.github.com/repos/apache/storm/issues/1528","id":229366354,"node_id":"MDEyOklzc3VlQ29tbWVudDIyOTM2NjM1NA==","user":{"login":"arunmahadevan","id":6792890,"node_id":"MDQ6VXNlcjY3OTI4OTA=","avatar_url":"https://avatars.githubusercontent.com/u/6792890?v=4","gravatar_id":"","url":"https://api.github.com/users/arunmahadevan","html_url":"https://github.com/arunmahadevan","followers_url":"https://api.github.com/users/arunmahadevan/followers","following_url":"https://api.github.com/users/arunmahadevan/following{/other_user}","gists_url":"https://api.github.com/users/arunmahadevan/gists{/gist_id}","starred_url":"https://api.github.com/users/arunmahadevan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arunmahadevan/subscriptions","organizations_url":"https://api.github.com/users/arunmahadevan/orgs","repos_url":"https://api.github.com/users/arunmahadevan/repos","events_url":"https://api.github.com/users/arunmahadevan/events{/privacy}","received_events_url":"https://api.github.com/users/arunmahadevan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T14:06:25Z","updated_at":"2016-06-29T14:06:25Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR thanks for the clarification, it makes sense now. Can you also check rebalance from 2 -> 3 workers ?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/229366354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921511","html_url":"https://github.com/apache/storm/issues/5716#issuecomment-2612921511","issue_url":"https://api.github.com/repos/apache/storm/issues/5716","id":2612921511,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjE1MTE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T14:06:27Z","updated_at":"2025-01-24T16:25:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1528\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1528</a></p>\n\n<p>    @HeartSaVioR thanks for the clarification, it makes sense now. Can you also check rebalance from 2 -> 3 workers ?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/229370130","html_url":"https://github.com/apache/storm/pull/1528#issuecomment-229370130","issue_url":"https://api.github.com/repos/apache/storm/issues/1528","id":229370130,"node_id":"MDEyOklzc3VlQ29tbWVudDIyOTM3MDEzMA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T14:18:43Z","updated_at":"2016-06-29T14:18:54Z","author_association":"CONTRIBUTOR","body":"@arunmahadevan \nThis also works.\n- Writing new assignment\n\n```\n6700 {:storm-id \"test-topology2-4-1467185073\", :executors ([7 7] [4 4] [1 1]), :resources [0.0 0.0 0.0]}, \n6702 {:storm-id \"test-topology2-4-1467185073\", :executors ([6 6] [3 3]), :resources [0.0 0.0 0.0]}, \n6701 {:storm-id \"test-topology2-4-1467185073\", :executors ([5 5] [2 2]), :resources [0.0 0.0 0.0]}\n```\n- Assigned executors:\n\n```\n{6700 {:storm-id \"test-topology2-4-1467185073\", :executors [[7 7] [4 4] [1 1]], :resources #object[org.apache.storm.generated.WorkerResources 0x6dabc02d \"WorkerResources(mem_on_heap:0.0, mem_off_heap:0.0, cpu:0.0)\"]}, \n6701 {:storm-id \"test-topology2-4-1467185073\", :executors [[5 5] [2 2]], :resources #object[org.apache.storm.generated.WorkerResources 0x6de46954 \"WorkerResources(mem_on_heap:0.0, mem_off_heap:0.0, cpu:0.0)\"]}, \n6702 {:storm-id \"test-topology2-4-1467185073\", :executors [[6 6] [3 3]], :resources #object[org.apache.storm.generated.WorkerResources 0x60f1fbb5 \"WorkerResources(mem_on_heap:0.0, mem_off_heap:0.0, cpu:0.0)\"]}}\n```\n- Allocated:\n\n```\n\"612eeee0-0ddc-4820-9062-c79276d56cf2\" [:disallowed {:time-secs 1467209575, :storm-id \"test-topology2-4-1467185073\", :executors [[2 2] [6 6] [-1 -1] [4 4]], :port 6702}], \n\"9751163a-f7b8-46a5-9b9c-bcd1fd1446cd\" [:disallowed {:time-secs 1467209574, :storm-id \"test-topology2-4-1467185073\", :executors [[7 7] [3 3] [1 1] [-1 -1] [5 5]], :port 6701}]\n```\n\nNow three workers are running.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/229370130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921515","html_url":"https://github.com/apache/storm/issues/5716#issuecomment-2612921515","issue_url":"https://api.github.com/repos/apache/storm/issues/5716","id":2612921515,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjE1MTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T14:20:20Z","updated_at":"2025-01-24T16:25:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1528\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1528</a></p>\n\n<p>    @arunmahadevan <br/>\n    This works perfectly.</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>Writing new assignment<br/>\n    ```<br/>\n    6700 {:storm-id \"test-topology2-4-1467185073\", :executors (<span class=\"error\">&#91;7 7&#93;</span> <span class=\"error\">&#91;4 4&#93;</span> <span class=\"error\">&#91;1 1&#93;</span>), :resources <span class=\"error\">&#91;0.0 0.0 0.0&#93;</span>}, <br/>\n    6702 {:storm-id \"test-topology2-4-1467185073\", :executors (<span class=\"error\">&#91;6 6&#93;</span> <span class=\"error\">&#91;3 3&#93;</span>), :resources <span class=\"error\">&#91;0.0 0.0 0.0&#93;</span>}, <br/>\n    6701 {:storm-id \"test-topology2-4-1467185073\", :executors (<span class=\"error\">&#91;5 5&#93;</span> <span class=\"error\">&#91;2 2&#93;</span>), :resources <span class=\"error\">&#91;0.0 0.0 0.0&#93;</span>}<br/>\n    ```</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>Assigned executors:<br/>\n    ```<br/>\n    {6700 {:storm-id \"test-topology2-4-1467185073\", :executors [<span class=\"error\">&#91;7 7&#93;</span> <span class=\"error\">&#91;4 4&#93;</span> <span class=\"error\">&#91;1 1&#93;</span>], :resources #object<span class=\"error\">&#91;org.apache.storm.generated.WorkerResources 0x6dabc02d \"WorkerResources(mem_on_heap:0.0, mem_off_heap:0.0, cpu:0.0)\"&#93;</span>}, <br/>\n    6701 {:storm-id \"test-topology2-4-1467185073\", :executors [<span class=\"error\">&#91;5 5&#93;</span> <span class=\"error\">&#91;2 2&#93;</span>], :resources #object<span class=\"error\">&#91;org.apache.storm.generated.WorkerResources 0x6de46954 \"WorkerResources(mem_on_heap:0.0, mem_off_heap:0.0, cpu:0.0)\"&#93;</span>}, <br/>\n    6702 {:storm-id \"test-topology2-4-1467185073\", :executors [<span class=\"error\">&#91;6 6&#93;</span> <span class=\"error\">&#91;3 3&#93;</span>], :resources #object<span class=\"error\">&#91;org.apache.storm.generated.WorkerResources 0x60f1fbb5 \"WorkerResources(mem_on_heap:0.0, mem_off_heap:0.0, cpu:0.0)\"&#93;</span>}}<br/>\n    ```</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>Allocated:<br/>\n    ```<br/>\n    \"612eeee0-0ddc-4820-9062-c79276d56cf2\" [:disallowed {:time-secs 1467209575, :storm-id \"test-topology2-4-1467185073\", :executors [<span class=\"error\">&#91;2 2&#93;</span> <span class=\"error\">&#91;6 6&#93;</span> <span class=\"error\">&#91;-1 -1&#93;</span> <span class=\"error\">&#91;4 4&#93;</span>], :port 6702}], <br/>\n    \"9751163a-f7b8-46a5-9b9c-bcd1fd1446cd\" [:disallowed {:time-secs 1467209574, :storm-id \"test-topology2-4-1467185073\", :executors [<span class=\"error\">&#91;7 7&#93;</span> <span class=\"error\">&#91;3 3&#93;</span> <span class=\"error\">&#91;1 1&#93;</span> <span class=\"error\">&#91;-1 -1&#93;</span> <span class=\"error\">&#91;5 5&#93;</span>], :port 6701}]<br/>\n    ```</li>\n</ul>\n\n\n<p>    Now three workers are running.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/229371145","html_url":"https://github.com/apache/storm/pull/1528#issuecomment-229371145","issue_url":"https://api.github.com/repos/apache/storm/issues/1528","id":229371145,"node_id":"MDEyOklzc3VlQ29tbWVudDIyOTM3MTE0NQ==","user":{"login":"arunmahadevan","id":6792890,"node_id":"MDQ6VXNlcjY3OTI4OTA=","avatar_url":"https://avatars.githubusercontent.com/u/6792890?v=4","gravatar_id":"","url":"https://api.github.com/users/arunmahadevan","html_url":"https://github.com/arunmahadevan","followers_url":"https://api.github.com/users/arunmahadevan/followers","following_url":"https://api.github.com/users/arunmahadevan/following{/other_user}","gists_url":"https://api.github.com/users/arunmahadevan/gists{/gist_id}","starred_url":"https://api.github.com/users/arunmahadevan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arunmahadevan/subscriptions","organizations_url":"https://api.github.com/users/arunmahadevan/orgs","repos_url":"https://api.github.com/users/arunmahadevan/repos","events_url":"https://api.github.com/users/arunmahadevan/events{/privacy}","received_events_url":"https://api.github.com/users/arunmahadevan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T14:21:46Z","updated_at":"2016-06-29T14:21:46Z","author_association":"CONTRIBUTOR","body":"Thanks @HeartSaVioR. It looks good.\n\n+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/229371145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919525","html_url":"https://github.com/apache/storm/issues/5701#issuecomment-2612919525","issue_url":"https://api.github.com/repos/apache/storm/issues/5701","id":2612919525,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MTk1MjU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T14:22:18Z","updated_at":"2025-01-24T16:24:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1517#discussion_r68954287\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1517#discussion_r68954287</a></p>\n\n<p>    &#8212; Diff: external/storm-redis/src/test/java/org/apache/storm/redis/topology/WhitelistWordCount.java &#8212;<br/>\n    @@ -0,0 +1,155 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.redis.topology;<br/>\n    +<br/>\n    +import org.apache.storm.Config;<br/>\n    +import org.apache.storm.LocalCluster;<br/>\n    +import org.apache.storm.StormSubmitter;<br/>\n    +import org.apache.storm.redis.bolt.RedisFilterBolt;<br/>\n    +import org.apache.storm.redis.common.config.JedisPoolConfig;<br/>\n    +import org.apache.storm.redis.common.mapper.RedisDataTypeDescription;<br/>\n    +import org.apache.storm.redis.common.mapper.RedisFilterMapper;<br/>\n    +import org.apache.storm.task.OutputCollector;<br/>\n    +import org.apache.storm.task.TopologyContext;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.topology.TopologyBuilder;<br/>\n    +import org.apache.storm.topology.base.BaseRichBolt;<br/>\n    +import org.apache.storm.tuple.Fields;<br/>\n    +import org.apache.storm.tuple.ITuple;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +import java.util.Random;<br/>\n    +<br/>\n    +public class WhitelistWordCount {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    They do. One reason I know of is the dependency collision. But test doesn't seem the right folder, because a user is not going to look in the test folder. We can do the following - <br/>\n    1. Module level sub-directories within examples e.g. examples/storm-redis, examples/storm-opentsdb etc.<br/>\n    2. examples file within the module which are not shipped with jar. The link to such examples can be put up in the documentation so that users can refer to the example code and copy/run it accordingly. <br/>\n    what do you say?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612919525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921520","html_url":"https://github.com/apache/storm/issues/5716#issuecomment-2612921520","issue_url":"https://api.github.com/repos/apache/storm/issues/5716","id":2612921520,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjE1MjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T14:22:18Z","updated_at":"2025-01-24T16:25:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1528\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1528</a></p>\n\n<p>    Thanks @HeartSaVioR. It looks good.</p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/229374833","html_url":"https://github.com/apache/storm/pull/1528#issuecomment-229374833","issue_url":"https://api.github.com/repos/apache/storm/issues/1528","id":229374833,"node_id":"MDEyOklzc3VlQ29tbWVudDIyOTM3NDgzMw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T14:33:25Z","updated_at":"2016-06-29T14:34:42Z","author_association":"CONTRIBUTOR","body":"Thanks @arunmahadevan for the thoughful review.\n\nBtw, I'd like to get reviewed by @kishorvpatil if (but only if) he's available since it removes the changeset of STORM-1561. Since it's critical issue and related to race condition I'd also like to get reviewed by more contributors / committers. \nAnd that would be really nice if affected users can apply this patch to see if this helps. I'll ping reporters for relevant issues and ask them to help testing.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/229374833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921525","html_url":"https://github.com/apache/storm/issues/5716#issuecomment-2612921525","issue_url":"https://api.github.com/repos/apache/storm/issues/5716","id":2612921525,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjE1MjU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T14:35:02Z","updated_at":"2025-01-24T16:25:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1528\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1528</a></p>\n\n<p>    I'd like to get reviewed by @kishorvpatil if (but only if) he's available since it removes the changeset of <a href=\"https://issues.apache.org/jira/browse/STORM-1561\" title=\"Supervisor should relaunch worker if assignments have changed\" class=\"issue-link\" data-issue-key=\"STORM-1561\"><del>STORM-1561</del></a>. Since it's critical issue and related to race condition I'd also like to get reviewed by more contributors / committers. <br/>\n    And that would be really nice if affected users can apply this patch to see if this helps. I'll ping reporters for relevant issues and ask them to help testing.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/229395422","html_url":"https://github.com/apache/storm/pull/1528#issuecomment-229395422","issue_url":"https://api.github.com/repos/apache/storm/issues/1528","id":229395422,"node_id":"MDEyOklzc3VlQ29tbWVudDIyOTM5NTQyMg==","user":{"login":"satishd","id":2577761,"node_id":"MDQ6VXNlcjI1Nzc3NjE=","avatar_url":"https://avatars.githubusercontent.com/u/2577761?v=4","gravatar_id":"","url":"https://api.github.com/users/satishd","html_url":"https://github.com/satishd","followers_url":"https://api.github.com/users/satishd/followers","following_url":"https://api.github.com/users/satishd/following{/other_user}","gists_url":"https://api.github.com/users/satishd/gists{/gist_id}","starred_url":"https://api.github.com/users/satishd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishd/subscriptions","organizations_url":"https://api.github.com/users/satishd/orgs","repos_url":"https://api.github.com/users/satishd/repos","events_url":"https://api.github.com/users/satishd/events{/privacy}","received_events_url":"https://api.github.com/users/satishd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T15:36:11Z","updated_at":"2016-06-29T15:36:11Z","author_association":"MEMBER","body":"@HeartSaVioR added resolution details in the description of the PR. Adding one more point here: `(kill-existing-workers-with-change-in-components supervisor existing-assignment new-assignment)` is not needed in `sync-supervisor` as it kills all the workers with invalid state which includes the old workers and rebalanced workers.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/229395422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921529","html_url":"https://github.com/apache/storm/issues/5716#issuecomment-2612921529","issue_url":"https://api.github.com/repos/apache/storm/issues/5716","id":2612921529,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjE1Mjk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T15:37:22Z","updated_at":"2025-01-24T16:25:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1528\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1528</a></p>\n\n<p>    @HeartSaVioR added resolution details in the description of the PR. Adding one more point here: `(kill-existing-workers-with-change-in-components supervisor existing-assignment new-assignment)` is not needed in `sync-supervisor` as it kills all the workers with invalid state which includes the old workers and rebalanced workers.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/229395848","html_url":"https://github.com/apache/storm/pull/1528#issuecomment-229395848","issue_url":"https://api.github.com/repos/apache/storm/issues/1528","id":229395848,"node_id":"MDEyOklzc3VlQ29tbWVudDIyOTM5NTg0OA==","user":{"login":"satishd","id":2577761,"node_id":"MDQ6VXNlcjI1Nzc3NjE=","avatar_url":"https://avatars.githubusercontent.com/u/2577761?v=4","gravatar_id":"","url":"https://api.github.com/users/satishd","html_url":"https://github.com/satishd","followers_url":"https://api.github.com/users/satishd/followers","following_url":"https://api.github.com/users/satishd/following{/other_user}","gists_url":"https://api.github.com/users/satishd/gists{/gist_id}","starred_url":"https://api.github.com/users/satishd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishd/subscriptions","organizations_url":"https://api.github.com/users/satishd/orgs","repos_url":"https://api.github.com/users/satishd/repos","events_url":"https://api.github.com/users/satishd/events{/privacy}","received_events_url":"https://api.github.com/users/satishd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T15:37:31Z","updated_at":"2016-06-29T15:37:31Z","author_association":"MEMBER","body":"+1 LGTM. \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/229395848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921535","html_url":"https://github.com/apache/storm/issues/5716#issuecomment-2612921535","issue_url":"https://api.github.com/repos/apache/storm/issues/5716","id":2612921535,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjE1MzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T15:38:58Z","updated_at":"2025-01-24T16:25:38Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1528\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1528</a></p>\n\n<p>    +1 LGTM. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921824","html_url":"https://github.com/apache/storm/issues/5718#issuecomment-2612921824","issue_url":"https://api.github.com/repos/apache/storm/issues/5718","id":2612921824,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MjE4MjQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-29T18:21:50Z","updated_at":"2025-01-24T16:25:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mjsax\">mjsax</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=darion\" class=\"user-hover\" rel=\"darion\">darion yaphet</a> Can you elaborate a little more, what this is about? Was there a discussion on the mailing list, that I did miss?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612921824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]