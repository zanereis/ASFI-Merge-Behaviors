[{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382037948","html_url":"https://github.com/apache/couchdb/issues/1282#issuecomment-382037948","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1282","id":382037948,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjAzNzk0OA==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T15:36:30Z","updated_at":"2018-04-17T15:36:30Z","author_association":"MEMBER","body":"So what's going on is that changes listener from the tests is trying to register with `couch_event` and expectedly crashing `noproc`. Since this is happening in setup sometimes test fast enough to run before of that, sometimes not. Going to get rid of meck calls and do the whole validation within the test itself, so it'll not be hidden by crashing setup context.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382037948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382053890","html_url":"https://github.com/apache/couchdb/issues/819#issuecomment-382053890","issue_url":"https://api.github.com/repos/apache/couchdb/issues/819","id":382053890,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjA1Mzg5MA==","user":{"login":"uogbuji","id":279982,"node_id":"MDQ6VXNlcjI3OTk4Mg==","avatar_url":"https://avatars.githubusercontent.com/u/279982?v=4","gravatar_id":"","url":"https://api.github.com/users/uogbuji","html_url":"https://github.com/uogbuji","followers_url":"https://api.github.com/users/uogbuji/followers","following_url":"https://api.github.com/users/uogbuji/following{/other_user}","gists_url":"https://api.github.com/users/uogbuji/gists{/gist_id}","starred_url":"https://api.github.com/users/uogbuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uogbuji/subscriptions","organizations_url":"https://api.github.com/users/uogbuji/orgs","repos_url":"https://api.github.com/users/uogbuji/repos","events_url":"https://api.github.com/users/uogbuji/events{/privacy}","received_events_url":"https://api.github.com/users/uogbuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T16:21:15Z","updated_at":"2018-04-17T16:21:15Z","author_association":"NONE","body":"If by \"well-defined development process\" the following is suggested: http://docs.couchdb.org/en/2.1.1/install/unix.html#installation-from-source\r\n\r\nThis doesn't work because libmozjs185-dev is not in buster.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382053890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382054880","html_url":"https://github.com/apache/couchdb/issues/1051#issuecomment-382054880","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1051","id":382054880,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjA1NDg4MA==","user":{"login":"jareware","id":560055,"node_id":"MDQ6VXNlcjU2MDA1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/560055?v=4","gravatar_id":"","url":"https://api.github.com/users/jareware","html_url":"https://github.com/jareware","followers_url":"https://api.github.com/users/jareware/followers","following_url":"https://api.github.com/users/jareware/following{/other_user}","gists_url":"https://api.github.com/users/jareware/gists{/gist_id}","starred_url":"https://api.github.com/users/jareware/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jareware/subscriptions","organizations_url":"https://api.github.com/users/jareware/orgs","repos_url":"https://api.github.com/users/jareware/repos","events_url":"https://api.github.com/users/jareware/events{/privacy}","received_events_url":"https://api.github.com/users/jareware/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T16:24:15Z","updated_at":"2018-04-17T16:24:15Z","author_association":"NONE","body":"OK, thank you, will do!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382054880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382069815","html_url":"https://github.com/apache/couchdb/issues/819#issuecomment-382069815","issue_url":"https://api.github.com/repos/apache/couchdb/issues/819","id":382069815,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjA2OTgxNQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T17:07:54Z","updated_at":"2018-04-17T17:07:54Z","author_association":"MEMBER","body":"Hi Uche @uogbuji , \r\n\r\nBuster aka testing is not a fully supported release at this time. Again, when it becomes stable, we'll have an answer - which will likely mean that we provide libmozjs185 for buster as we do for CentOS 6.\r\n\r\nUntil then you will need to compile and install libmozjs185-dev yourself.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382069815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382138726","html_url":"https://github.com/apache/couchdb/issues/1286#issuecomment-382138726","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1286","id":382138726,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjEzODcyNg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T20:43:58Z","updated_at":"2018-04-17T20:54:17Z","author_association":"MEMBER","body":"Logfile error that is telling:\r\n\r\n```\r\n[error] 2018-04-17T20:43:06.499644Z couchdb01@couchdb01 emulator -------- Error in process <0.11367.217> on node 'couchdb01@couchdb01' with exit value: {badarg,[{erlang,length,[3],[]},{couch_httpd_multipart,mp_parse_atts,2,[{file,\"src/couch_httpd_multipart.erl\"},{line,92}]},{couch_httpd,parse_part_body,1,[{file,\"src/couch_httpd.erl\"},{line,1108}]},{couch_httpd,parse_multipart_request...\r\n```\r\n\r\nOther errors that follow:\r\n\r\n```\r\n2018-04-17T20:45:46.292662Z couchdb01@couchdb01 <0.22915.217> 8b8501e841 req_err(366701363) unknown_error : function_clause\r\n  [<<\"chttpd_db:update_doc/4 L1051\">>,<<\"chttpd_db:send_updated_doc/6 L1015\">>,<<\"chttpd_db:db__doc_req/3 L832\">>,<<\"chttpd:process_request/1 L295\">>,<<\"chttpd:handle_request_int/1 L231\">>,<<\"mochiweb_http:headers/6 L124\">>,<<\"proc_lib:init_p_do_apply/3 L237\">>]\r\n2018-04-17T20:45:46.293206Z couchdb01@couchdb01 <0.22915.217> 8b8501e841 HOSTNAME IPADDR undefined PUT /{db}/{doc}?new_edits=false 500 ok 2207\r\n```\r\n\r\nNote that this error doesn't seem to be on a specific \"bad\" doc, it's happening on many documents.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382138726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382166890","html_url":"https://github.com/apache/couchdb/issues/1286#issuecomment-382166890","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1286","id":382166890,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjE2Njg5MA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-17T21:58:02Z","updated_at":"2018-04-17T21:59:46Z","author_association":"CONTRIBUTOR","body":"Great find, @wohali !\r\n\r\nThe call to length is blowing up at https://github.com/apache/couchdb/blob/master/src/couch/src/couch_httpd_multipart.erl#L92\r\n\r\nSomehow we call `length(3)` on it as seen in the log line. The `Counters` is an orddict (implemented as a list) and length accept a list only.\r\n\r\nHowever in `eof` parsing stage, when writers are removed, the `C2` return from `remove_writer` https://github.com/apache/couchdb/blob/master/src/couch/src/couch_httpd_multipart.erl#L115\r\nis not a list but a number or `abort_parsing` atom: https://github.com/apache/couchdb/blob/master/src/couch/src/couch_httpd_multipart.erl#L225. The value is `3` because the new `N=2` and `put` returns the previous value which was `3`.\r\n\r\nThe change was introduced by this commit: https://github.com/apache/couchdb/commit/083239353e919e897b97e8a96ee07cb42ca4eccd","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382166890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382231924","html_url":"https://github.com/apache/couchdb/pull/1287#issuecomment-382231924","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1287","id":382231924,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjIzMTkyNA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T02:42:49Z","updated_at":"2018-04-18T02:42:49Z","author_association":"CONTRIBUTOR","body":"Thank you!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382231924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382335882","html_url":"https://github.com/apache/couchdb/issues/1286#issuecomment-382335882","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1286","id":382335882,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjMzNTg4Mg==","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T10:07:39Z","updated_at":"2018-04-18T10:07:39Z","author_association":"MEMBER","body":"We can confirm that this fixes the issue. \\o/","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382335882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382361334","html_url":"https://github.com/apache/couchdb/issues/999#issuecomment-382361334","issue_url":"https://api.github.com/repos/apache/couchdb/issues/999","id":382361334,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjM2MTMzNA==","user":{"login":"ArchangeGabriel","id":490531,"node_id":"MDQ6VXNlcjQ5MDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/490531?v=4","gravatar_id":"","url":"https://api.github.com/users/ArchangeGabriel","html_url":"https://github.com/ArchangeGabriel","followers_url":"https://api.github.com/users/ArchangeGabriel/followers","following_url":"https://api.github.com/users/ArchangeGabriel/following{/other_user}","gists_url":"https://api.github.com/users/ArchangeGabriel/gists{/gist_id}","starred_url":"https://api.github.com/users/ArchangeGabriel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArchangeGabriel/subscriptions","organizations_url":"https://api.github.com/users/ArchangeGabriel/orgs","repos_url":"https://api.github.com/users/ArchangeGabriel/repos","events_url":"https://api.github.com/users/ArchangeGabriel/events{/privacy}","received_events_url":"https://api.github.com/users/ArchangeGabriel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T11:55:29Z","updated_at":"2018-04-18T11:55:29Z","author_association":"NONE","body":"This proposed fix is maybe too specific to RabbitMQ since kernel is apparently the name of some of their component.\r\n\r\nCan someone tell me were in the code the beam.smp process is started? Or is it started by epmd itself?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382361334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382410495","html_url":"https://github.com/apache/couchdb/issues/999#issuecomment-382410495","issue_url":"https://api.github.com/repos/apache/couchdb/issues/999","id":382410495,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQxMDQ5NQ==","user":{"login":"daftaupe","id":22810624,"node_id":"MDQ6VXNlcjIyODEwNjI0","avatar_url":"https://avatars.githubusercontent.com/u/22810624?v=4","gravatar_id":"","url":"https://api.github.com/users/daftaupe","html_url":"https://github.com/daftaupe","followers_url":"https://api.github.com/users/daftaupe/followers","following_url":"https://api.github.com/users/daftaupe/following{/other_user}","gists_url":"https://api.github.com/users/daftaupe/gists{/gist_id}","starred_url":"https://api.github.com/users/daftaupe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daftaupe/subscriptions","organizations_url":"https://api.github.com/users/daftaupe/orgs","repos_url":"https://api.github.com/users/daftaupe/repos","events_url":"https://api.github.com/users/daftaupe/events{/privacy}","received_events_url":"https://api.github.com/users/daftaupe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T14:39:36Z","updated_at":"2018-04-18T14:39:36Z","author_association":"NONE","body":"@ArchangeGabriel : you have to add this line to `vm.args` so that `beam.smp` listen on `127.0.0.1` \r\n\r\n`-kernel inet_dist_use_interface {127,0,0,1}`","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382410495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382415727","html_url":"https://github.com/apache/couchdb/issues/999#issuecomment-382415727","issue_url":"https://api.github.com/repos/apache/couchdb/issues/999","id":382415727,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQxNTcyNw==","user":{"login":"ArchangeGabriel","id":490531,"node_id":"MDQ6VXNlcjQ5MDUzMQ==","avatar_url":"https://avatars.githubusercontent.com/u/490531?v=4","gravatar_id":"","url":"https://api.github.com/users/ArchangeGabriel","html_url":"https://github.com/ArchangeGabriel","followers_url":"https://api.github.com/users/ArchangeGabriel/followers","following_url":"https://api.github.com/users/ArchangeGabriel/following{/other_user}","gists_url":"https://api.github.com/users/ArchangeGabriel/gists{/gist_id}","starred_url":"https://api.github.com/users/ArchangeGabriel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArchangeGabriel/subscriptions","organizations_url":"https://api.github.com/users/ArchangeGabriel/orgs","repos_url":"https://api.github.com/users/ArchangeGabriel/repos","events_url":"https://api.github.com/users/ArchangeGabriel/events{/privacy}","received_events_url":"https://api.github.com/users/ArchangeGabriel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T14:54:26Z","updated_at":"2018-04-18T14:54:26Z","author_association":"NONE","body":"@daftaupe Thank you so much!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382415727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382454970","html_url":"https://github.com/apache/couchdb/issues/1133#issuecomment-382454970","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1133","id":382454970,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjQ1NDk3MA==","user":{"login":"cujarrett","id":16245634,"node_id":"MDQ6VXNlcjE2MjQ1NjM0","avatar_url":"https://avatars.githubusercontent.com/u/16245634?v=4","gravatar_id":"","url":"https://api.github.com/users/cujarrett","html_url":"https://github.com/cujarrett","followers_url":"https://api.github.com/users/cujarrett/followers","following_url":"https://api.github.com/users/cujarrett/following{/other_user}","gists_url":"https://api.github.com/users/cujarrett/gists{/gist_id}","starred_url":"https://api.github.com/users/cujarrett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cujarrett/subscriptions","organizations_url":"https://api.github.com/users/cujarrett/orgs","repos_url":"https://api.github.com/users/cujarrett/repos","events_url":"https://api.github.com/users/cujarrett/events{/privacy}","received_events_url":"https://api.github.com/users/cujarrett/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T16:51:56Z","updated_at":"2018-04-18T16:52:26Z","author_association":"NONE","body":"I'm seeing this problem too. I'm on 2.1.1 on Mac 10.13.3.\r\n\r\nAny update?\r\n\r\nI'd settle for a 1.7.X release but it's marked as TBD on your download page.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382454970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382522229","html_url":"https://github.com/apache/couchdb/issues/1133#issuecomment-382522229","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1133","id":382522229,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjUyMjIyOQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T20:40:57Z","updated_at":"2018-04-18T20:40:57Z","author_association":"MEMBER","body":"@matt-jarrett Have you tried the 2.1.1-1.zip download that was uploaded and updated in January of this year?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382522229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382526348","html_url":"https://github.com/apache/couchdb/issues/1133#issuecomment-382526348","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1133","id":382526348,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjUyNjM0OA==","user":{"login":"cujarrett","id":16245634,"node_id":"MDQ6VXNlcjE2MjQ1NjM0","avatar_url":"https://avatars.githubusercontent.com/u/16245634?v=4","gravatar_id":"","url":"https://api.github.com/users/cujarrett","html_url":"https://github.com/cujarrett","followers_url":"https://api.github.com/users/cujarrett/followers","following_url":"https://api.github.com/users/cujarrett/following{/other_user}","gists_url":"https://api.github.com/users/cujarrett/gists{/gist_id}","starred_url":"https://api.github.com/users/cujarrett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cujarrett/subscriptions","organizations_url":"https://api.github.com/users/cujarrett/orgs","repos_url":"https://api.github.com/users/cujarrett/repos","events_url":"https://api.github.com/users/cujarrett/events{/privacy}","received_events_url":"https://api.github.com/users/cujarrett/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T20:55:19Z","updated_at":"2018-04-18T20:55:19Z","author_association":"NONE","body":"I put in a request to get that software. It sounds like that will fix the trouble I'm seeing.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382526348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382552352","html_url":"https://github.com/apache/couchdb/issues/1106#issuecomment-382552352","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1106","id":382552352,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjU1MjM1Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-18T22:44:12Z","updated_at":"2018-04-18T22:44:12Z","author_association":"MEMBER","body":"@ThibaultJanBeyer Not fixing this issue, but you can revert that change by editing your `local.ini` (or the last ini file in your `local.d` directory and removing the timeout change, then restarting couchdb.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382552352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382592183","html_url":"https://github.com/apache/couchdb/issues/1171#issuecomment-382592183","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1171","id":382592183,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjU5MjE4Mw==","user":{"login":"NatTuck","id":1311959,"node_id":"MDQ6VXNlcjEzMTE5NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1311959?v=4","gravatar_id":"","url":"https://api.github.com/users/NatTuck","html_url":"https://github.com/NatTuck","followers_url":"https://api.github.com/users/NatTuck/followers","following_url":"https://api.github.com/users/NatTuck/following{/other_user}","gists_url":"https://api.github.com/users/NatTuck/gists{/gist_id}","starred_url":"https://api.github.com/users/NatTuck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NatTuck/subscriptions","organizations_url":"https://api.github.com/users/NatTuck/orgs","repos_url":"https://api.github.com/users/NatTuck/repos","events_url":"https://api.github.com/users/NatTuck/events{/privacy}","received_events_url":"https://api.github.com/users/NatTuck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T02:44:49Z","updated_at":"2018-04-19T06:05:20Z","author_association":"NONE","body":"Any use of md5 in 2018 is pretty serious code smell. There's a reason FIPS mode straight up removes the function.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382592183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382606824","html_url":"https://github.com/apache/couchdb/issues/1171#issuecomment-382606824","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1171","id":382606824,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjYwNjgyNA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T04:28:14Z","updated_at":"2018-04-19T04:28:14Z","author_association":"MEMBER","body":"@NatTuck Your comment is inappropriate in this thread. This isn't the place to vent about md5, or CouchDB's use thereof.\r\n\r\nIf you want to help with any of the proposed above patches, we'd love to have a PR.\r\n\r\nIf you want to make a specific proposal about changing CouchDB's hash function, keeping in mind that it will break backwards compatibility for replication and the entire Offline First ecosystem, please raise a new issue.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382606824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382639334","html_url":"https://github.com/apache/couchdb/issues/1106#issuecomment-382639334","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1106","id":382639334,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjYzOTMzNA==","user":{"login":"ThibaultJanBeyer","id":12467511,"node_id":"MDQ6VXNlcjEyNDY3NTEx","avatar_url":"https://avatars.githubusercontent.com/u/12467511?v=4","gravatar_id":"","url":"https://api.github.com/users/ThibaultJanBeyer","html_url":"https://github.com/ThibaultJanBeyer","followers_url":"https://api.github.com/users/ThibaultJanBeyer/followers","following_url":"https://api.github.com/users/ThibaultJanBeyer/following{/other_user}","gists_url":"https://api.github.com/users/ThibaultJanBeyer/gists{/gist_id}","starred_url":"https://api.github.com/users/ThibaultJanBeyer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ThibaultJanBeyer/subscriptions","organizations_url":"https://api.github.com/users/ThibaultJanBeyer/orgs","repos_url":"https://api.github.com/users/ThibaultJanBeyer/repos","events_url":"https://api.github.com/users/ThibaultJanBeyer/events{/privacy}","received_events_url":"https://api.github.com/users/ThibaultJanBeyer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T07:33:08Z","updated_at":"2018-04-19T07:33:08Z","author_association":"NONE","body":"Yes, that did resolve the problem. However, generally wrong values should not be permitted to enter in the UI or at least not cause a total crash. Thanks for the Help!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382639334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382790511","html_url":"https://github.com/apache/couchdb/issues/1278#issuecomment-382790511","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1278","id":382790511,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mjc5MDUxMQ==","user":{"login":"mikerhodes","id":453210,"node_id":"MDQ6VXNlcjQ1MzIxMA==","avatar_url":"https://avatars.githubusercontent.com/u/453210?v=4","gravatar_id":"","url":"https://api.github.com/users/mikerhodes","html_url":"https://github.com/mikerhodes","followers_url":"https://api.github.com/users/mikerhodes/followers","following_url":"https://api.github.com/users/mikerhodes/following{/other_user}","gists_url":"https://api.github.com/users/mikerhodes/gists{/gist_id}","starred_url":"https://api.github.com/users/mikerhodes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikerhodes/subscriptions","organizations_url":"https://api.github.com/users/mikerhodes/orgs","repos_url":"https://api.github.com/users/mikerhodes/repos","events_url":"https://api.github.com/users/mikerhodes/events{/privacy}","received_events_url":"https://api.github.com/users/mikerhodes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-19T16:02:30Z","updated_at":"2018-04-19T16:02:30Z","author_association":"CONTRIBUTOR","body":"Does the `cluster` field belong in a database-level `/db/_info` API? (looks like cluster level defaults rather than database-specific values).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/382790511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/383188559","html_url":"https://github.com/apache/couchdb/issues/1226#issuecomment-383188559","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1226","id":383188559,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzE4ODU1OQ==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-20T18:48:47Z","updated_at":"2018-04-20T19:54:01Z","author_association":"MEMBER","body":"I'm going to leave views' multi query without etags, at least in this iteration. I did a couple of attempts to implement them there and they all came out rather clunky _and_ with perf penalty.\r\n\r\nFinished with `_list` though, going to do `_show` next and then wrap it up with adding tests.\r\n\r\n*Update:* Evidently _show already respects the etags, so this change now just needs a record migration code and the tests.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/383188559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/383547098","html_url":"https://github.com/apache/couchdb/issues/1266#issuecomment-383547098","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1266","id":383547098,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzU0NzA5OA==","user":{"login":"pnagle","id":13343356,"node_id":"MDQ6VXNlcjEzMzQzMzU2","avatar_url":"https://avatars.githubusercontent.com/u/13343356?v=4","gravatar_id":"","url":"https://api.github.com/users/pnagle","html_url":"https://github.com/pnagle","followers_url":"https://api.github.com/users/pnagle/followers","following_url":"https://api.github.com/users/pnagle/following{/other_user}","gists_url":"https://api.github.com/users/pnagle/gists{/gist_id}","starred_url":"https://api.github.com/users/pnagle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnagle/subscriptions","organizations_url":"https://api.github.com/users/pnagle/orgs","repos_url":"https://api.github.com/users/pnagle/repos","events_url":"https://api.github.com/users/pnagle/events{/privacy}","received_events_url":"https://api.github.com/users/pnagle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-23T11:46:26Z","updated_at":"2018-04-23T11:46:26Z","author_association":"NONE","body":"We tried creating a replication script but we are unable to reproduce the issue on the script level. Meanwhile, did you find anything as to why this is occurring?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/383547098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/383557751","html_url":"https://github.com/apache/couchdb/issues/1266#issuecomment-383557751","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1266","id":383557751,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzU1Nzc1MQ==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-23T12:29:27Z","updated_at":"2018-04-23T12:29:27Z","author_association":"CONTRIBUTOR","body":"So far I didn't get more progress. It is really helpful if we can get reproduce steps, even if it is not written in script.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/383557751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/383558467","html_url":"https://github.com/apache/couchdb/issues/1290#issuecomment-383558467","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1290","id":383558467,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzU1ODQ2Nw==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-23T12:32:00Z","updated_at":"2018-04-23T12:32:00Z","author_association":"CONTRIBUTOR","body":"if you query against `_all_docs` endpoint, the traffic will be directed to id tree. This is not additional index. Is it possible to build map-reduce view or other index to facilitate your query?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/383558467/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/383613732","html_url":"https://github.com/apache/couchdb/issues/1288#issuecomment-383613732","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1288","id":383613732,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzYxMzczMg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-23T15:19:56Z","updated_at":"2018-04-23T15:19:56Z","author_association":"MEMBER","body":"Hi @rynobrits1 , please provide any logs you may have that can help diagnose the problem.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/383613732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/383614289","html_url":"https://github.com/apache/couchdb/issues/1289#issuecomment-383614289","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1289","id":383614289,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzYxNDI4OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-23T15:21:39Z","updated_at":"2018-04-23T15:21:39Z","author_association":"MEMBER","body":"That \"ebin\" error is your automount daemon, not couchdb.\r\n\r\nIf you run couchdb from the command line, what errors do you get?\r\n\r\nIs there anything in your couch logfile?\r\n\r\nPlease note that v1.6.1 has security issues and should/must be upgraded as soon as possible,","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/383614289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/383857017","html_url":"https://github.com/apache/couchdb/issues/1020#issuecomment-383857017","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1020","id":383857017,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mzg1NzAxNw==","user":{"login":"intersides","id":3665812,"node_id":"MDQ6VXNlcjM2NjU4MTI=","avatar_url":"https://avatars.githubusercontent.com/u/3665812?v=4","gravatar_id":"","url":"https://api.github.com/users/intersides","html_url":"https://github.com/intersides","followers_url":"https://api.github.com/users/intersides/followers","following_url":"https://api.github.com/users/intersides/following{/other_user}","gists_url":"https://api.github.com/users/intersides/gists{/gist_id}","starred_url":"https://api.github.com/users/intersides/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/intersides/subscriptions","organizations_url":"https://api.github.com/users/intersides/orgs","repos_url":"https://api.github.com/users/intersides/repos","events_url":"https://api.github.com/users/intersides/events{/privacy}","received_events_url":"https://api.github.com/users/intersides/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-24T08:57:42Z","updated_at":"2018-04-24T08:57:42Z","author_association":"NONE","body":"Under MacOS, For some reason **~/Library/Preferences/couchdb2-local.ini** did not had any effects (Usually it does).\r\nI had to manually change **/Applications/Apache CouchDB.app/Contents/Info.plist** ip address and restart   couchdb ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/383857017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/384149817","html_url":"https://github.com/apache/couchdb/issues/1289#issuecomment-384149817","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1289","id":384149817,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDE0OTgxNw==","user":{"login":"kunaivi","id":18722589,"node_id":"MDQ6VXNlcjE4NzIyNTg5","avatar_url":"https://avatars.githubusercontent.com/u/18722589?v=4","gravatar_id":"","url":"https://api.github.com/users/kunaivi","html_url":"https://github.com/kunaivi","followers_url":"https://api.github.com/users/kunaivi/followers","following_url":"https://api.github.com/users/kunaivi/following{/other_user}","gists_url":"https://api.github.com/users/kunaivi/gists{/gist_id}","starred_url":"https://api.github.com/users/kunaivi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kunaivi/subscriptions","organizations_url":"https://api.github.com/users/kunaivi/orgs","repos_url":"https://api.github.com/users/kunaivi/repos","events_url":"https://api.github.com/users/kunaivi/events{/privacy}","received_events_url":"https://api.github.com/users/kunaivi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-25T03:27:58Z","updated_at":"2018-04-25T03:27:58Z","author_association":"NONE","body":"Hello wohali, thanks for your response.\r\nthose error in the /var/log/message, are shown immediately after i run 'service couchdb start'\r\nI open 2 terminals, one is running 'service couchdb start' and the other is tail the var log message.\r\nso, that's why i think it is related. i try a few times, and always same.\r\n\r\nno errors if i run it from command line,\r\n----\r\n~]# couchdb start\r\n\r\n=INFO REPORT==== 25-Apr-2018::10:21:23 ===\r\n    alarm_handler: {set,{{disk_almost_full,\"/tmp/iso\"},[]}}\r\nApache CouchDB 1.6.1 (LogLevel=info) is starting.\r\nApache CouchDB has started. Time to relax.\r\n[info] [<0.32.0>] Apache CouchDB has started on http://127.0.0.1:5984/\r\n----\r\nnothing in the couchdb log.\r\n\r\nBest Regards,\r\nkunaivi\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/384149817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/384469426","html_url":"https://github.com/apache/couchdb/issues/1291#issuecomment-384469426","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1291","id":384469426,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDQ2OTQyNg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-25T23:55:21Z","updated_at":"2018-04-25T23:55:21Z","author_association":"MEMBER","body":"Your views are taking too long to execute. Increase your os_process_timeout value in your local.ini file.\r\n\r\nAlso, upgrade to 1.7.1, 1.6.1 has a serious security flaw.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/384469426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/384553077","html_url":"https://github.com/apache/couchdb/issues/1291#issuecomment-384553077","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1291","id":384553077,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDU1MzA3Nw==","user":{"login":"SlavaPanevskiy","id":1154220,"node_id":"MDQ6VXNlcjExNTQyMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1154220?v=4","gravatar_id":"","url":"https://api.github.com/users/SlavaPanevskiy","html_url":"https://github.com/SlavaPanevskiy","followers_url":"https://api.github.com/users/SlavaPanevskiy/followers","following_url":"https://api.github.com/users/SlavaPanevskiy/following{/other_user}","gists_url":"https://api.github.com/users/SlavaPanevskiy/gists{/gist_id}","starred_url":"https://api.github.com/users/SlavaPanevskiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SlavaPanevskiy/subscriptions","organizations_url":"https://api.github.com/users/SlavaPanevskiy/orgs","repos_url":"https://api.github.com/users/SlavaPanevskiy/repos","events_url":"https://api.github.com/users/SlavaPanevskiy/events{/privacy}","received_events_url":"https://api.github.com/users/SlavaPanevskiy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-26T08:13:03Z","updated_at":"2018-04-26T08:13:03Z","author_association":"NONE","body":"@wohali Wohali, thanks a lot for your answer, but according to my configuration:\r\n ```\r\n{\r\n  \"native_query_servers\": {\r\n    \"erlang\": \"{couch_native_process, start_link, []}\"\r\n  },\r\n  \"httpd_design_handlers\": {\r\n    \"_compact\": \"{couch_mrview_http, handle_compact_req}\",\r\n    \"_info\": \"{couch_mrview_http, handle_info_req}\",\r\n    \"_list\": \"{couch_mrview_show, handle_view_list_req}\",\r\n    \"_rewrite\": \"{couch_httpd_rewrite, handle_rewrite_req}\",\r\n    \"_show\": \"{couch_mrview_show, handle_doc_show_req}\",\r\n    \"_spatial\": \"{couch_spatial_http, handle_spatial_req}\",\r\n    \"_spatial/_compact\": \"{couch_spatial_http, handle_compact_req}\",\r\n    \"_spatial/_info\": \"{couch_spatial_http, handle_info_req}\",\r\n    \"_spatial/_list\": \"{couch_spatial_list, handle_view_list_req}\",\r\n    \"_spatiallist\": \"{couch_spatial_list, handle_view_list_req_deprecated}\",\r\n    \"_update\": \"{couch_mrview_show, handle_doc_update_req}\",\r\n    \"_view\": \"{couch_mrview_http, handle_view_req}\"\r\n  },\r\n  \"uuids\": {\r\n    \"algorithm\": \"random\",\r\n    \"max_count\": \"1000\"\r\n  },\r\n  \"stats\": {\r\n    \"rate\": \"1000\",\r\n    \"samples\": \"[0, 60, 300, 900]\"\r\n  },\r\n  \"cors\": {\r\n    \"credentials\": \"true\",\r\n    \"headers\": \"X-Couch-Id, X-Couch-Rev, accept, authorization, content-type, origin, referer, x-csrf-token\",\r\n    \"methods\": \"GET, PUT, POST, HEAD, DELETE\",\r\n    \"origins\": \"*\"\r\n  },\r\n  \"httpd_global_handlers\": {\r\n    \"/\": \"{couch_httpd_misc_handlers, handle_welcome_req, <<\\\"Welcome\\\">>}\",\r\n    \"_active_tasks\": \"{couch_httpd_misc_handlers, handle_task_status_req}\",\r\n    \"_all_dbs\": \"{couch_httpd_misc_handlers, handle_all_dbs_req}\",\r\n    \"_config\": \"{couch_httpd_misc_handlers, handle_config_req}\",\r\n    \"_db_updates\": \"{couch_dbupdates_httpd, handle_req}\",\r\n    \"_fti\": \"{couch_httpd_proxy, handle_proxy_req, <<\\\"http://couchdb-lucene:5985\\\">>}\",\r\n    \"_log\": \"{couch_httpd_misc_handlers, handle_log_req}\",\r\n    \"_oauth\": \"{couch_httpd_oauth, handle_oauth_req}\",\r\n    \"_plugins\": \"{couch_plugins_httpd, handle_req}\",\r\n    \"_replicate\": \"{couch_replicator_httpd, handle_req}\",\r\n    \"_restart\": \"{couch_httpd_misc_handlers, handle_restart_req}\",\r\n    \"_session\": \"{couch_httpd_auth, handle_session_req}\",\r\n    \"_stats\": \"{couch_httpd_stats_handlers, handle_stats_req}\",\r\n    \"_utils\": \"{couch_httpd_misc_handlers, handle_utils_dir_req, \\\"/usr/local/share/couchdb/www\\\"}\",\r\n    \"_uuids\": \"{couch_httpd_misc_handlers, handle_uuids_req}\",\r\n    \"favicon.ico\": \"{couch_httpd_misc_handlers, handle_favicon_req, \\\"/usr/local/share/couchdb/www\\\"}\"\r\n  },\r\n  \"attachments\": {\r\n    \"compressible_types\": \"text/*, application/javascript, application/json, application/xml\",\r\n    \"compression_level\": \"8\"\r\n  },\r\n  \"admins\": {\r\n    \"backenddb\": \"-pbkdf2-d04cee804952842b7a39a99943b9f0b40332740c,5abfdf0c8541fb5a357a24984cb08206,10\"\r\n  },\r\n  \"query_server_config\": {\r\n    \"os_process_limit\": \"25\",\r\n    \"reduce_limit\": \"true\"\r\n  },\r\n  \"vendor\": {\r\n    \"name\": \"The Apache Software Foundation\",\r\n    \"version\": \"1.6.1\"\r\n  },\r\n  \"replicator\": {\r\n    \"connection_timeout\": \"30000\",\r\n    \"db\": \"_replicator\",\r\n    \"http_connections\": \"20\",\r\n    \"max_replication_retry_count\": \"10\",\r\n    \"retries_per_request\": \"10\",\r\n    \"socket_options\": \"[{keepalive, true}, {nodelay, false}]\",\r\n    \"ssl_certificate_max_depth\": \"3\",\r\n    \"verify_ssl_certificates\": \"false\",\r\n    \"worker_batch_size\": \"500\",\r\n    \"worker_processes\": \"4\"\r\n  },\r\n  \"couch_httpd_oauth\": {\r\n    \"use_users_db\": \"false\"\r\n  },\r\n  \"ssl\": {\r\n    \"port\": \"6984\",\r\n    \"ssl_certificate_max_depth\": \"1\",\r\n    \"verify_ssl_certificates\": \"false\"\r\n  },\r\n  \"log\": {\r\n    \"file\": \"/dev/null\",\r\n    \"include_sasl\": \"true\",\r\n    \"level\": \"info\"\r\n  },\r\n  \"view_compaction\": {\r\n    \"keyvalue_buffer_size\": \"2097152\"\r\n  },\r\n  \"query_servers\": {\r\n    \"coffeescript\": \"/usr/local/bin/couchjs /usr/local/share/couchdb/server/main-coffee.js\",\r\n    \"javascript\": \"/usr/local/bin/couchjs /usr/local/share/couchdb/server/main.js\"\r\n  },\r\n  \"daemons\": {\r\n    \"auth_cache\": \"{couch_auth_cache, start_link, []}\",\r\n    \"compaction_daemon\": \"{couch_compaction_daemon, start_link, []}\",\r\n    \"external_manager\": \"{couch_external_manager, start_link, []}\",\r\n    \"httpd\": \"{couch_httpd, start_link, []}\",\r\n    \"index_server\": \"{couch_index_server, start_link, []}\",\r\n    \"os_daemons\": \"{couch_os_daemons, start_link, []}\",\r\n    \"query_servers\": \"{couch_query_servers, start_link, []}\",\r\n    \"replicator_manager\": \"{couch_replicator_manager, start_link, []}\",\r\n    \"stats_aggregator\": \"{couch_stats_aggregator, start, []}\",\r\n    \"stats_collector\": \"{couch_stats_collector, start, []}\",\r\n    \"uuids\": \"{couch_uuids, start, []}\",\r\n    \"vhosts\": \"{couch_httpd_vhost, start_link, []}\"\r\n  },\r\n  \"httpd\": {\r\n    \"allow_jsonp\": \"false\",\r\n    \"authentication_handlers\": \"{couch_httpd_oauth, oauth_authentication_handler}, {couch_httpd_auth, cookie_authentication_handler}, {couch_httpd_auth, default_authentication_handler}\",\r\n    \"bind_address\": \"0.0.0.0\",\r\n    \"default_handler\": \"{couch_httpd_db, handle_request}\",\r\n    \"enable_cors\": \"true\",\r\n    \"log_max_chunk_size\": \"1000000\",\r\n    \"port\": \"5984\",\r\n    \"secure_rewrites\": \"true\",\r\n    \"socket_options\": \"[{recbuf, 262144}, {sndbuf, 262144}]\",\r\n    \"vhost_global_handlers\": \"_utils, _uuids, _session, _oauth, _users\"\r\n  },\r\n  \"httpd_db_handlers\": {\r\n    \"_all_docs\": \"{couch_mrview_http, handle_all_docs_req}\",\r\n    \"_changes\": \"{couch_httpd_db, handle_changes_req}\",\r\n    \"_compact\": \"{couch_httpd_db, handle_compact_req}\",\r\n    \"_design\": \"{couch_httpd_db, handle_design_req}\",\r\n    \"_spatial_cleanup\": \"{couch_spatial_http, handle_cleanup_req}\",\r\n    \"_temp_view\": \"{couch_mrview_http, handle_temp_view_req}\",\r\n    \"_view_cleanup\": \"{couch_mrview_http, handle_cleanup_req}\"\r\n  },\r\n  \"database_compaction\": {\r\n    \"checkpoint_after\": \"5242880\",\r\n    \"doc_buffer_size\": \"524288\"\r\n  },\r\n  \"couch_httpd_auth\": {\r\n    \"allow_persistent_cookies\": \"true\",\r\n    \"auth_cache_size\": \"50\",\r\n    \"authentication_db\": \"_users\",\r\n    \"authentication_redirect\": \"/_utils/session.html\",\r\n    \"iterations\": \"10\",\r\n    \"require_valid_user\": \"true\",\r\n    \"timeout\": \"3600\"\r\n  },\r\n  \"couchdb\": {\r\n    \"attachment_stream_buffer_size\": \"4096\",\r\n    \"database_dir\": \"/usr/local/var/lib/couchdb\",\r\n    \"delayed_commits\": \"true\",\r\n    \"file_compression\": \"snappy\",\r\n    \"max_dbs_open\": \"100\",\r\n    \"max_document_size\": \"4294967296\",\r\n    \"os_process_timeout\": \"30000\",\r\n    \"plugin_dir\": \"/usr/local/lib/couchdb/plugins\",\r\n    \"uri_file\": \"/usr/local/var/run/couchdb/couch.uri\",\r\n    \"util_driver_dir\": \"/usr/local/lib/couchdb/erlang/lib/couch-1.6.1/priv/lib\",\r\n    \"uuid\": \"88aa56177283eb44ceda4aaf19e23fe1\",\r\n    \"view_index_dir\": \"/usr/local/var/lib/couchdb\"\r\n  },\r\n  \"compaction_daemon\": {\r\n    \"check_interval\": \"300\",\r\n    \"min_file_size\": \"131072\"\r\n  }\r\n}\r\n```\r\nos_process_timeout in local.ini and on running server (:5984/_config) the same and equals to 30 seconds (30000 milliseconds)\r\nBut I had 5 second timeout error as for default configuration. It is very strange inconsistent behavior with configuration.\r\n\r\nYou also suggested to upgrade, is it fix that issue? \r\nThanks you, \r\nSlava","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/384553077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/384793737","html_url":"https://github.com/apache/couchdb/issues/1291#issuecomment-384793737","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1291","id":384793737,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDc5MzczNw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-26T21:25:14Z","updated_at":"2018-04-26T21:25:14Z","author_association":"MEMBER","body":"Upgrade won't fix that issue, it's for a separate security concern.\r\n\r\nWhat is your view trying to do? Can you share your view code?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/384793737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/384794136","html_url":"https://github.com/apache/couchdb/issues/1292#issuecomment-384794136","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1292","id":384794136,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDc5NDEzNg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-26T21:26:34Z","updated_at":"2018-04-26T22:00:45Z","author_association":"MEMBER","body":"A recent update to RHEL 7 has broken couchjs, the javascript subsystem.\r\n\r\nIf you've upgraded to the `js-1.8.5-20` package, you need to downlevel to the `js-1.8.5-19` package. I've opened a separate issue on that.\r\n\r\nWe'll resolve this problem in our package distribution shortly.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/384794136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/384800463","html_url":"https://github.com/apache/couchdb/issues/1292#issuecomment-384800463","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1292","id":384800463,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDgwMDQ2Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-26T21:52:12Z","updated_at":"2018-04-26T21:52:12Z","author_association":"MEMBER","body":"@garrettsutula I see you are getting a return code of 1. That's EPERM, meaning you have a permissions problem of some sort.\r\n\r\nCheck ownership of all files in your couchdb hierarchy and ensure that the user that couchdb runs as is capable of reading those files. Specifically, the couchdb user needs to be able to read the `share/server/main.js` file at the very least.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/384800463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/384888511","html_url":"https://github.com/apache/couchdb/issues/1293#issuecomment-384888511","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1293","id":384888511,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDg4ODUxMQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-27T07:25:41Z","updated_at":"2018-04-27T07:25:41Z","author_association":"MEMBER","body":"I have filed https://bugs.centos.org/view.php?id=14720 to try and track this issue. We'll see if anything gets done about it.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/384888511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/384949263","html_url":"https://github.com/apache/couchdb/issues/1294#issuecomment-384949263","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1294","id":384949263,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDk0OTI2Mw==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-27T11:58:30Z","updated_at":"2018-04-27T11:58:30Z","author_association":"MEMBER","body":"@garbados I think the issue here is that the design document is `_design/e989afba40865ef0c0cb81babca885c21e33cd49` rather than `_design/name`. You can control the design document name at index creation time by specifying `\"ddoc\"` but the default will just be a uuid.\r\n\r\nAccording to the documentation:, `\"use_index\"` should be specified as `\"<design_document>\" or [\"<design_document>\", \"<index_name>\"]`, so do you get the expected result if you do:\r\n\r\n```\r\n$ curl -X POST -H 'content-type:application/json' $COUCH_URL/contacts/_find -d '{ \"selector\": { \"name\": \"Diana\" }, \"use_index\": \"_design/e989afba40865ef0c0cb81babca885c21e33cd49\" }'\r\n```\r\n?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/384949263/reactions","total_count":3,"+1":1,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/384968057","html_url":"https://github.com/apache/couchdb/issues/1295#issuecomment-384968057","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1295","id":384968057,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDk2ODA1Nw==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-27T13:21:49Z","updated_at":"2018-04-27T13:21:49Z","author_association":"MEMBER","body":"I can't reproduce this with the given example, I'm getting expected emits, given my document have an attribute `startDateTime` set to a string `2018-04-26T14:00:00.000Z`. How you docs and complete view looks like?\r\n\r\nNote that you _can't_ modify `doc` object in the views, you need to clone it first if you want to transform it before emitting.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/384968057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/384984587","html_url":"https://github.com/apache/couchdb/issues/1292#issuecomment-384984587","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1292","id":384984587,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDk4NDU4Nw==","user":{"login":"garrettsutula","id":11978161,"node_id":"MDQ6VXNlcjExOTc4MTYx","avatar_url":"https://avatars.githubusercontent.com/u/11978161?v=4","gravatar_id":"","url":"https://api.github.com/users/garrettsutula","html_url":"https://github.com/garrettsutula","followers_url":"https://api.github.com/users/garrettsutula/followers","following_url":"https://api.github.com/users/garrettsutula/following{/other_user}","gists_url":"https://api.github.com/users/garrettsutula/gists{/gist_id}","starred_url":"https://api.github.com/users/garrettsutula/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrettsutula/subscriptions","organizations_url":"https://api.github.com/users/garrettsutula/orgs","repos_url":"https://api.github.com/users/garrettsutula/repos","events_url":"https://api.github.com/users/garrettsutula/events{/privacy}","received_events_url":"https://api.github.com/users/garrettsutula/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-27T14:20:11Z","updated_at":"2018-04-27T14:20:11Z","author_association":"NONE","body":"@wohali Thanks so much for the insight, downgrading to `js-1.8.5-19` fixed the issue and I'm able to create views now.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/384984587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385007034","html_url":"https://github.com/apache/couchdb/issues/1294#issuecomment-385007034","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1294","id":385007034,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTAwNzAzNA==","user":{"login":"garbados","id":883103,"node_id":"MDQ6VXNlcjg4MzEwMw==","avatar_url":"https://avatars.githubusercontent.com/u/883103?v=4","gravatar_id":"","url":"https://api.github.com/users/garbados","html_url":"https://github.com/garbados","followers_url":"https://api.github.com/users/garbados/followers","following_url":"https://api.github.com/users/garbados/following{/other_user}","gists_url":"https://api.github.com/users/garbados/gists{/gist_id}","starred_url":"https://api.github.com/users/garbados/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garbados/subscriptions","organizations_url":"https://api.github.com/users/garbados/orgs","repos_url":"https://api.github.com/users/garbados/repos","events_url":"https://api.github.com/users/garbados/events{/privacy}","received_events_url":"https://api.github.com/users/garbados/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-27T15:33:53Z","updated_at":"2018-04-27T15:33:53Z","author_association":"CONTRIBUTOR","body":"That works! My bad for misunderstanding the docs. Thank you for the help :)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385007034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385016572","html_url":"https://github.com/apache/couchdb/issues/1295#issuecomment-385016572","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1295","id":385016572,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTAxNjU3Mg==","user":{"login":"tudordumitriu","id":4671554,"node_id":"MDQ6VXNlcjQ2NzE1NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4671554?v=4","gravatar_id":"","url":"https://api.github.com/users/tudordumitriu","html_url":"https://github.com/tudordumitriu","followers_url":"https://api.github.com/users/tudordumitriu/followers","following_url":"https://api.github.com/users/tudordumitriu/following{/other_user}","gists_url":"https://api.github.com/users/tudordumitriu/gists{/gist_id}","starred_url":"https://api.github.com/users/tudordumitriu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tudordumitriu/subscriptions","organizations_url":"https://api.github.com/users/tudordumitriu/orgs","repos_url":"https://api.github.com/users/tudordumitriu/repos","events_url":"https://api.github.com/users/tudordumitriu/events{/privacy}","received_events_url":"https://api.github.com/users/tudordumitriu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-27T16:03:54Z","updated_at":"2018-04-27T16:03:54Z","author_association":"NONE","body":"Hi\r\nI have attached the full map function (a simplified version but nevertheless buggy)\r\n```\r\nfunction (doc) {\r\n         if(doc.startDateTime){ \r\n             var currentDateTime = new Date(doc.startDateTime);          \r\n             emit(currentDateTime, 0);\r\n             var currentOccurenceNo = 0;\r\n             while (currentOccurenceNo < 4) \r\n             {\r\n                currentDateTime = new Date(currentDateTime.setDate(currentDateTime.getDate() + 1));\r\n                emit(currentDateTime, 0);\r\n                currentOccurenceNo ++;\r\n             }\r\n         }\r\n}\r\n```\r\nFor the document is enough to have a document with startDateTime: \"2018-04-24T14:00:00.000Z\" and the results are the following:\r\n\r\n\r\n9d18eb2eaf35aed06b5ef334d702e39c | 2018-04-25T14:00:00.000Z | 0 | \r\n9d18eb2eaf35aed06b5ef334d702e39c | 2018-04-26T14:00:00.000Z | 0 | \r\n9d18eb2eaf35aed06b5ef334d702e39c | 2018-04-27T14:00:00.000Z | 0 | \r\n9d18eb2eaf35aed06b5ef334d702e39c | 2018-04-28T14:00:00.000Z | 0 | \r\n9d18eb2eaf35aed06b5ef334d702e39c | 2018-04-28T14:00:00.000Z | 0 |\r\n\r\nAlso, VERY IMPORTANT I THINK, if we comment out the while loop, the initial emit is displaying correctly \r\n9d18eb2eaf35aed06b5ef334d702e39c | 2018-04-24T14:00:00.000Z | 0 |\r\n\r\nHope this will help more\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385016572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385025518","html_url":"https://github.com/apache/couchdb/issues/1295#issuecomment-385025518","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1295","id":385025518,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTAyNTUxOA==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-27T16:38:26Z","updated_at":"2018-04-27T16:38:26Z","author_association":"MEMBER","body":"@tudordumitriu I think the issue is that `setDate` is modifying the date object in place, changing the value after you've called `emit`. Instead, ensure you call `setDate` on a new Date object:\r\n\r\n```\r\nfunction (doc) {\r\n  if(doc.startDateTime){ \r\n    var currentDateTime = new Date(doc.startDateTime);          \r\n    emit(currentDateTime, -1);\r\n    var currentOccurenceNo = 0;\r\n    \r\n    while (currentOccurenceNo < 4) \r\n    {\r\n      var newDateTime = new Date();\r\n      newDateTime.setDate(currentDateTime.getDate() + 1);\r\n      emit(newDateTime, currentOccurenceNo);\r\n      currentDateTime = newDateTime;\r\n      currentOccurenceNo ++;\r\n    }\r\n  }\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385025518/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385042531","html_url":"https://github.com/apache/couchdb/issues/1295#issuecomment-385042531","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1295","id":385042531,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTA0MjUzMQ==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-27T17:40:12Z","updated_at":"2018-04-27T17:40:12Z","author_association":"MEMBER","body":"Yes, as @willholley said the issue here is that you are mutating `currentDateTime` within your function. The subtlety here is that `emit` doesn't return immediately from a map function, but rather pushes the emitted pairs on an accumulator that processed after. Since objects are a reference type in javascript changing the original values changes them on acc too. You need either allocate new Date object or stringify the keys before emitting.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385042531/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385094698","html_url":"https://github.com/apache/couchdb/issues/1293#issuecomment-385094698","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1293","id":385094698,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTA5NDY5OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-27T21:08:23Z","updated_at":"2018-04-27T21:08:23Z","author_association":"MEMBER","body":"After a full clean build and ensuring no traces of older packages or hand-compiled libmozjs are present on a CentOS 7 box, I am still getting a failure in our JS test suite with the upstream package, but now it's in `users_db_security.js` specifically - `couchjs` does run correctly most of the time.\r\n\r\nThe failure is:\r\n\r\n```\r\ntest/javascript/tests/users_db_security.js\r\n    Error: Failed to execute HTTP request: Failed connect to 127.0.0.1:15984; Connection refused\r\nTrace back (most recent call first):\r\n\r\n  37: test/javascript/couch_http.js\r\n      (\"\\\"10\\\"\\n\")\r\n 468: 127.0.0.1/_config/couch_httpd_auth/iterations\",[object Object])@test/javascript/couch.js\r\n      (\"PUT\",\"/_node/node1\r\n 408: test/javascript/couch_test_runner.js\r\n      run_on_modified_server([object Array],(function () {try {testFun(schem\r\n 416: test/javascript/tests/users_db_security.js\r\n      (\"bcrypt\",1,[object Array])\r\n 404: test/javascript/tests/users_db_security.js\r\n      ()\r\n  37: test/javascript/cli_runner.js\r\n      runTest()\r\n  48: test/javascript/cli_runner.js\r\n\r\nfail\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385094698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385099415","html_url":"https://github.com/apache/couchdb/issues/1293#issuecomment-385099415","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1293","id":385099415,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTA5OTQxNQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-27T21:30:34Z","updated_at":"2018-04-27T21:30:34Z","author_association":"MEMBER","body":"The error in couch.log is:\r\n\r\n```\r\nenif_send: env==NULL on non-SMP VM\r\n```\r\nwith a CouchDB crash.\r\n\r\nLooks like this is a known bug on single processor machines and is [fixable](https://github.com/basho/eleveldb/issues/120).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385099415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385104443","html_url":"https://github.com/apache/couchdb/issues/1293#issuecomment-385104443","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1293","id":385104443,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTEwNDQ0Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-27T21:57:19Z","updated_at":"2018-04-27T21:57:19Z","author_association":"MEMBER","body":"By sticking `-smp enable` in `rel/overlay/etc/vm.args` as a temporary workaround, I'm able to pass all JS tests using upstream's `js-1.8.5-20` package. So the problem resides in our `couchdb-ci` repo and its use of a locally compiled js that is incompatible with the version provided in the package.\r\n\r\nI will come back to this next week to resolve.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385104443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385269745","html_url":"https://github.com/apache/couchdb/issues/1298#issuecomment-385269745","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1298","id":385269745,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTI2OTc0NQ==","user":{"login":"javamonn","id":5216744,"node_id":"MDQ6VXNlcjUyMTY3NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5216744?v=4","gravatar_id":"","url":"https://api.github.com/users/javamonn","html_url":"https://github.com/javamonn","followers_url":"https://api.github.com/users/javamonn/followers","following_url":"https://api.github.com/users/javamonn/following{/other_user}","gists_url":"https://api.github.com/users/javamonn/gists{/gist_id}","starred_url":"https://api.github.com/users/javamonn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javamonn/subscriptions","organizations_url":"https://api.github.com/users/javamonn/orgs","repos_url":"https://api.github.com/users/javamonn/repos","events_url":"https://api.github.com/users/javamonn/events{/privacy}","received_events_url":"https://api.github.com/users/javamonn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-29T18:05:38Z","updated_at":"2018-04-29T18:05:38Z","author_association":"NONE","body":"I've just noticed the `[cluster]` section from the logs. I'm actually only running a single node, so the default values of `n = 3` is incorrect. I've updated to `n = 1` and redeployed but that doesn't seem to have affected the outcome.\r\n\r\nI've added some logging to main `readline()` loop in `main.js` and I'm not seeing any output on view creation, which suggests that something more fundamental is messed up with my install, as the query server is just hanging.\r\n\r\nI've found http://docs.couchdb.org/en/latest/install/troubleshooting.html and am going through it now.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385269745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385272033","html_url":"https://github.com/apache/couchdb/issues/1297#issuecomment-385272033","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1297","id":385272033,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTI3MjAzMw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-29T18:41:24Z","updated_at":"2018-04-29T19:17:31Z","author_association":"MEMBER","body":"CouchDB requires significant CPU allocation. It does not run well under constrained CPU or RAM environments. No plans are in place to change this behaviour.\r\n\r\nIf you want a self-contained small CouchDB-compatible store, look at PouchDB.\r\n\r\nWe recommend a minimum of 2 CPU cores and 4GB of RAM for CouchDB, with 4 cores and 8GB recommended.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385272033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385272782","html_url":"https://github.com/apache/couchdb/issues/1298#issuecomment-385272782","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1298","id":385272782,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTI3Mjc4Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-29T18:52:38Z","updated_at":"2018-04-29T18:52:38Z","author_association":"MEMBER","body":"@javamonn \r\n\r\nYou're right in that the cpu_sup process failing suggests that your instance is heavily CPU constrained. The 5 second timeout may mean that couchjs is failing to even start up correctly - you're not even getting an initial \"hello\" handshake back from that spawned process.\r\n\r\nAre you able to increase the CPU allocation for your instance? If so, please do. CouchDB runs best with 4 or more cores allocated.\r\n\r\nWe are tracking numerous situations in which CouchDB deployed in containers is simply unreliable. We don't have enough people to debug these scenarios right now. So far, in most cases it's simply too few CPU or RAM resources being allocated.\r\n\r\nIf you need a guaranteed stable CouchDB we recommend deploying it in the traditional fashion on dedicated VMs or bare metal if possible.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385272782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385301293","html_url":"https://github.com/apache/couchdb/issues/1298#issuecomment-385301293","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1298","id":385301293,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTMwMTI5Mw==","user":{"login":"javamonn","id":5216744,"node_id":"MDQ6VXNlcjUyMTY3NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5216744?v=4","gravatar_id":"","url":"https://api.github.com/users/javamonn","html_url":"https://github.com/javamonn","followers_url":"https://api.github.com/users/javamonn/followers","following_url":"https://api.github.com/users/javamonn/following{/other_user}","gists_url":"https://api.github.com/users/javamonn/gists{/gist_id}","starred_url":"https://api.github.com/users/javamonn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javamonn/subscriptions","organizations_url":"https://api.github.com/users/javamonn/orgs","repos_url":"https://api.github.com/users/javamonn/repos","events_url":"https://api.github.com/users/javamonn/events{/privacy}","received_events_url":"https://api.github.com/users/javamonn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-30T02:05:53Z","updated_at":"2018-04-30T02:06:03Z","author_association":"NONE","body":"@wohali incredible diagnosis, bumping the CPU allocation I was giving the container did the trick. Now I'm not sure how the instance was running at all prior to the restart taking it offline.\r\n\r\nI was giving it about a core originally. I bumped it up to 2 cores, and the `cpu_sup` error went away, but indices would still timeout after a couple of seconds. I bumped it up to 4 cores and it's humming away now.\r\n\r\nAre the hardware recommendations documented anywhere? I found similar recommendations for [Couchbase](https://developer.couchbase.com/documentation/server/current/install/pre-install.html), but can't find any on CouchDB proper.\r\n\r\nThanks for the help.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385301293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385330423","html_url":"https://github.com/apache/couchdb/issues/1295#issuecomment-385330423","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1295","id":385330423,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTMzMDQyMw==","user":{"login":"tudordumitriu","id":4671554,"node_id":"MDQ6VXNlcjQ2NzE1NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4671554?v=4","gravatar_id":"","url":"https://api.github.com/users/tudordumitriu","html_url":"https://github.com/tudordumitriu","followers_url":"https://api.github.com/users/tudordumitriu/followers","following_url":"https://api.github.com/users/tudordumitriu/following{/other_user}","gists_url":"https://api.github.com/users/tudordumitriu/gists{/gist_id}","starred_url":"https://api.github.com/users/tudordumitriu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tudordumitriu/subscriptions","organizations_url":"https://api.github.com/users/tudordumitriu/orgs","repos_url":"https://api.github.com/users/tudordumitriu/repos","events_url":"https://api.github.com/users/tudordumitriu/events{/privacy}","received_events_url":"https://api.github.com/users/tudordumitriu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-30T07:39:13Z","updated_at":"2018-04-30T07:39:13Z","author_association":"NONE","body":"Thanks guys!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385330423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385390957","html_url":"https://github.com/apache/couchdb/issues/1300#issuecomment-385390957","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1300","id":385390957,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTM5MDk1Nw==","user":{"login":"jvegaseg","id":12508470,"node_id":"MDQ6VXNlcjEyNTA4NDcw","avatar_url":"https://avatars.githubusercontent.com/u/12508470?v=4","gravatar_id":"","url":"https://api.github.com/users/jvegaseg","html_url":"https://github.com/jvegaseg","followers_url":"https://api.github.com/users/jvegaseg/followers","following_url":"https://api.github.com/users/jvegaseg/following{/other_user}","gists_url":"https://api.github.com/users/jvegaseg/gists{/gist_id}","starred_url":"https://api.github.com/users/jvegaseg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvegaseg/subscriptions","organizations_url":"https://api.github.com/users/jvegaseg/orgs","repos_url":"https://api.github.com/users/jvegaseg/repos","events_url":"https://api.github.com/users/jvegaseg/events{/privacy}","received_events_url":"https://api.github.com/users/jvegaseg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-30T12:59:25Z","updated_at":"2018-04-30T12:59:25Z","author_association":"NONE","body":"More errors:\r\n\r\n```\r\n[error] 2018-04-30T11:50:51.329107Z couchdb@XX.XX.XX.XX <0.235.0> -------- gen_server couch_compaction_daemon terminated with reason: {compaction_loop_died,{timeout,{gen_server,call,[<0.26734.6754>,compactor_pid]}}}\r\n  last msg: {'EXIT',<0.237.0>,{timeout,{gen_server,call,[<0.26734.6754>,compactor_pid]}}}\r\n     state: {state,<0.237.0>,[<<\"shards/30000000-3fffffff/_global_changes.1510390507\">>]}\r\n[error] 2018-04-30T11:50:52.598514Z couchdb@XX.XX.XX.XX <0.235.0> -------- CRASH REPORT Process couch_compaction_daemon (<0.235.0>) with 0 neighbors exited with reason: {compaction_loop_died,{timeout,{gen_server,call,[<0.26734.6754>,compactor_pid]}}} at gen_server:terminate/7(line:826) <= proc_lib:init_p_do_apply/3(line:240); initial_call: {couch_compaction_daemon,init,['Argument__1']}, ancestors: [couch_secondary_services,couch_sup,<0.201.0>], messages: [], links: [<0.210.0>], dictionary: [], trap_exit: true, status: running, heap_size: 1598, stack_size: 27, reductions: 269937\r\n[error] 2018-04-30T11:50:52.601815Z couchdb@XX.XX.XX.XX <0.210.0> -------- Supervisor couch_secondary_services had child compaction_daemon started with couch_compaction_daemon:start_link() at <0.235.0> exit with reason {compaction_loop_died,{timeout,{gen_server,call,[<0.26734.6754>,compactor_pid]}}} in context child_terminated\r\n[error] 2018-04-30T11:51:00.966927Z couchdb@XX.XX.XX.XX <0.362.6773> -------- Compaction daemon - an error ocurred while compacting the database `shards/30000000-3fffffff/_global_changes.1510390507`: noproc\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385390957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385451500","html_url":"https://github.com/apache/couchdb/issues/1301#issuecomment-385451500","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1301","id":385451500,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTQ1MTUwMA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-30T16:25:04Z","updated_at":"2018-04-30T16:25:04Z","author_association":"MEMBER","body":"Your container needs more CPU. Views are calculated by secondary processes (`couchjs`) which are not getting enough time to execute on its own.\r\n\r\nAllocate more CPU cores to the docker instance.\r\n\r\nDuplicate of #1298 #1297","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385451500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385452018","html_url":"https://github.com/apache/couchdb/issues/1300#issuecomment-385452018","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1300","id":385452018,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTQ1MjAxOA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-30T16:26:59Z","updated_at":"2018-04-30T16:26:59Z","author_association":"MEMBER","body":"Are there any other errors around this line?\r\n\r\n```\r\n[error] 2018-04-30T09:41:02.982915Z couchdb@XX.XX.XX.XX <0.237.0> -------- Compaction daemon - an error ocurred while compacting the database 'shards/30000000-3fffffff/_global_changes.1510390507': noproc\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385452018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385490558","html_url":"https://github.com/apache/couchdb/issues/1296#issuecomment-385490558","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1296","id":385490558,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTQ5MDU1OA==","user":{"login":"dch","id":284368,"node_id":"MDQ6VXNlcjI4NDM2OA==","avatar_url":"https://avatars.githubusercontent.com/u/284368?v=4","gravatar_id":"","url":"https://api.github.com/users/dch","html_url":"https://github.com/dch","followers_url":"https://api.github.com/users/dch/followers","following_url":"https://api.github.com/users/dch/following{/other_user}","gists_url":"https://api.github.com/users/dch/gists{/gist_id}","starred_url":"https://api.github.com/users/dch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dch/subscriptions","organizations_url":"https://api.github.com/users/dch/orgs","repos_url":"https://api.github.com/users/dch/repos","events_url":"https://api.github.com/users/dch/events{/privacy}","received_events_url":"https://api.github.com/users/dch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-30T18:41:06Z","updated_at":"2018-04-30T18:41:06Z","author_association":"CONTRIBUTOR","body":"+1 for  `-smp enable` everywhere. IIRC its soon to be the non-configurable default in OTP anyway. This has been around for a long time so I'd expect it doesn't break compatibility & I'm not aware of any downside on single-processor platforms.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385490558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385499458","html_url":"https://github.com/apache/couchdb/issues/1302#issuecomment-385499458","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1302","id":385499458,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTQ5OTQ1OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-30T19:13:16Z","updated_at":"2018-04-30T19:13:16Z","author_association":"MEMBER","body":"The work necessary to install CouchDB as a service without nssm is extremely low priority. I'll open a separate enhancement request to track this request, but please understand that it may be years before it gets addressed.\r\n\r\nYou'll need to add nssm.exe as an exception in your F-Secure install or group policy.\r\n\r\nPull requests are welcome.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385499458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385513785","html_url":"https://github.com/apache/couchdb/pull/1299#issuecomment-385513785","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1299","id":385513785,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTUxMzc4NQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-04-30T20:09:45Z","updated_at":"2018-04-30T20:09:45Z","author_association":"MEMBER","body":"I have +1s from @chewbranca and @dch on IRC. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385513785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385588584","html_url":"https://github.com/apache/couchdb/issues/1304#issuecomment-385588584","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1304","id":385588584,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTU4ODU4NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-01T03:05:13Z","updated_at":"2018-05-01T03:05:13Z","author_association":"MEMBER","body":"We're resolving this differently in 2.2.0 - the entire semantic will change because of underlying issues.\r\n\r\nSee #1200 and #1253 on what is changing.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385588584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385588758","html_url":"https://github.com/apache/couchdb/issues/1304#issuecomment-385588758","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1304","id":385588758,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTU4ODc1OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-01T03:06:51Z","updated_at":"2018-05-01T03:06:51Z","author_association":"MEMBER","body":"FYI you should never modify `default.ini`, this file is intentionally updated with each release and sometimes doesn't match defaults set in the code.\r\n\r\nThis is why the default is 64MB in the ini file but different in the actual code...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385588758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385592694","html_url":"https://github.com/apache/couchdb/issues/1304#issuecomment-385592694","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1304","id":385592694,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTU5MjY5NA==","user":{"login":"garethbowen","id":2064938,"node_id":"MDQ6VXNlcjIwNjQ5Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2064938?v=4","gravatar_id":"","url":"https://api.github.com/users/garethbowen","html_url":"https://github.com/garethbowen","followers_url":"https://api.github.com/users/garethbowen/followers","following_url":"https://api.github.com/users/garethbowen/following{/other_user}","gists_url":"https://api.github.com/users/garethbowen/gists{/gist_id}","starred_url":"https://api.github.com/users/garethbowen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garethbowen/subscriptions","organizations_url":"https://api.github.com/users/garethbowen/orgs","repos_url":"https://api.github.com/users/garethbowen/repos","events_url":"https://api.github.com/users/garethbowen/events{/privacy}","received_events_url":"https://api.github.com/users/garethbowen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-01T03:47:11Z","updated_at":"2018-05-01T03:47:11Z","author_association":"NONE","body":"@wohali Thanks for that. Do you think it'd be worth updating the documentation? It looks like this value will continue to default to 64MB through v3.0 and it would be helpful to specify that instead of 4GB as it does currently.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385592694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385595127","html_url":"https://github.com/apache/couchdb/issues/1304#issuecomment-385595127","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1304","id":385595127,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTU5NTEyNw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-01T04:13:26Z","updated_at":"2018-05-01T04:13:26Z","author_association":"MEMBER","body":"@garethbowen #1253 is tagged to be resolved in 2.2.0 in some form. I will make sure that we update the documentation as part of that effort in some regard, since this is a big change with forward-looking ramifications.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385595127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385595314","html_url":"https://github.com/apache/couchdb/pull/1253#issuecomment-385595314","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1253","id":385595314,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTU5NTMxNA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-01T04:15:44Z","updated_at":"2018-05-01T04:15:44Z","author_association":"MEMBER","body":"Note that whatever we do here - especially if this PR is not merged into 2.2.0 - needs to be documented for the 2.2.0 release, in light of the concerns raised in #1304. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385595314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385786064","html_url":"https://github.com/apache/couchdb/issues/1306#issuecomment-385786064","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1306","id":385786064,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTc4NjA2NA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-01T20:50:49Z","updated_at":"2018-05-01T20:50:49Z","author_association":"CONTRIBUTOR","body":"If not an error with a specific field identifier and value being mentioned at least it would be nice to have something like \"document parsing failed\". ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385786064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385824750","html_url":"https://github.com/apache/couchdb/pull/1307#issuecomment-385824750","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1307","id":385824750,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTgyNDc1MA==","user":{"login":"michellephung","id":836039,"node_id":"MDQ6VXNlcjgzNjAzOQ==","avatar_url":"https://avatars.githubusercontent.com/u/836039?v=4","gravatar_id":"","url":"https://api.github.com/users/michellephung","html_url":"https://github.com/michellephung","followers_url":"https://api.github.com/users/michellephung/followers","following_url":"https://api.github.com/users/michellephung/following{/other_user}","gists_url":"https://api.github.com/users/michellephung/gists{/gist_id}","starred_url":"https://api.github.com/users/michellephung/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michellephung/subscriptions","organizations_url":"https://api.github.com/users/michellephung/orgs","repos_url":"https://api.github.com/users/michellephung/repos","events_url":"https://api.github.com/users/michellephung/events{/privacy}","received_events_url":"https://api.github.com/users/michellephung/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-01T23:58:03Z","updated_at":"2018-05-01T23:58:03Z","author_association":"MEMBER","body":"gah","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385824750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385856267","html_url":"https://github.com/apache/couchdb/pull/1308#issuecomment-385856267","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1308","id":385856267,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTg1NjI2Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-02T03:42:02Z","updated_at":"2018-05-02T03:42:02Z","author_association":"MEMBER","body":"As this is a Jenkins CI-blocking issue, I'll be merging this as soon as Travis CI goes green.\r\n\r\n@janl Remember how we were talking about swapping Jenkins in for our CI builds? This sets an awkward precedent...if our build can break simply by someone renaming npm packages, we can end up in a state where a working master suddenly is no longer working, and the absolute ONLY PR that can land will be to fix that build breakage first. (That is, without manually switching off the CI gate on commits to master via an urgent Infra ticket...)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385856267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385973119","html_url":"https://github.com/apache/couchdb/issues/1306#issuecomment-385973119","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1306","id":385973119,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTk3MzExOQ==","user":{"login":"mikerhodes","id":453210,"node_id":"MDQ6VXNlcjQ1MzIxMA==","avatar_url":"https://avatars.githubusercontent.com/u/453210?v=4","gravatar_id":"","url":"https://api.github.com/users/mikerhodes","html_url":"https://github.com/mikerhodes","followers_url":"https://api.github.com/users/mikerhodes/followers","following_url":"https://api.github.com/users/mikerhodes/following{/other_user}","gists_url":"https://api.github.com/users/mikerhodes/gists{/gist_id}","starred_url":"https://api.github.com/users/mikerhodes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikerhodes/subscriptions","organizations_url":"https://api.github.com/users/mikerhodes/orgs","repos_url":"https://api.github.com/users/mikerhodes/repos","events_url":"https://api.github.com/users/mikerhodes/events{/privacy}","received_events_url":"https://api.github.com/users/mikerhodes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-02T13:13:18Z","updated_at":"2018-05-02T13:13:18Z","author_association":"CONTRIBUTOR","body":"This is almost something which would benefit from a (_the horror!_) schema validation to pre-flight this and catch lots of errors in one go?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/385973119/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386010779","html_url":"https://github.com/apache/couchdb/pull/1272#issuecomment-386010779","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1272","id":386010779,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjAxMDc3OQ==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-02T15:06:46Z","updated_at":"2018-05-02T15:06:46Z","author_association":"MEMBER","body":"Hm, does that block this, though? If we make it more generic later, we can re-implement 'last compaction' within that framework. I don't intend to write that framework, do you?\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386010779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386028638","html_url":"https://github.com/apache/couchdb/issues/1300#issuecomment-386028638","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1300","id":386028638,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjAyODYzOA==","user":{"login":"jvegaseg","id":12508470,"node_id":"MDQ6VXNlcjEyNTA4NDcw","avatar_url":"https://avatars.githubusercontent.com/u/12508470?v=4","gravatar_id":"","url":"https://api.github.com/users/jvegaseg","html_url":"https://github.com/jvegaseg","followers_url":"https://api.github.com/users/jvegaseg/followers","following_url":"https://api.github.com/users/jvegaseg/following{/other_user}","gists_url":"https://api.github.com/users/jvegaseg/gists{/gist_id}","starred_url":"https://api.github.com/users/jvegaseg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvegaseg/subscriptions","organizations_url":"https://api.github.com/users/jvegaseg/orgs","repos_url":"https://api.github.com/users/jvegaseg/repos","events_url":"https://api.github.com/users/jvegaseg/events{/privacy}","received_events_url":"https://api.github.com/users/jvegaseg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-02T15:58:05Z","updated_at":"2018-05-02T15:58:05Z","author_association":"NONE","body":"No.\r\n\r\nI have added this configuration param in local.ini and it seams that the problem has disappear.\r\n\r\n```\r\n[httpd]\r\nmax_http_request_size = 4294967296\r\n\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386028638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386041483","html_url":"https://github.com/apache/couchdb/issues/1300#issuecomment-386041483","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1300","id":386041483,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjA0MTQ4Mw==","user":{"login":"jvegaseg","id":12508470,"node_id":"MDQ6VXNlcjEyNTA4NDcw","avatar_url":"https://avatars.githubusercontent.com/u/12508470?v=4","gravatar_id":"","url":"https://api.github.com/users/jvegaseg","html_url":"https://github.com/jvegaseg","followers_url":"https://api.github.com/users/jvegaseg/followers","following_url":"https://api.github.com/users/jvegaseg/following{/other_user}","gists_url":"https://api.github.com/users/jvegaseg/gists{/gist_id}","starred_url":"https://api.github.com/users/jvegaseg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvegaseg/subscriptions","organizations_url":"https://api.github.com/users/jvegaseg/orgs","repos_url":"https://api.github.com/users/jvegaseg/repos","events_url":"https://api.github.com/users/jvegaseg/events{/privacy}","received_events_url":"https://api.github.com/users/jvegaseg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-02T16:38:11Z","updated_at":"2018-05-02T16:38:11Z","author_association":"NONE","body":"Sorry, the problem arises again (just now):\r\n\r\n05-02T16:32:50.495655Z couchdb@X.X.X.X <0.289.0> -------- Compaction daemon - an error ocurred while compacting the database `shards/30000000-3fffffff/_global_changes.1510390507`: noproc","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386041483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386044898","html_url":"https://github.com/apache/couchdb/pull/1272#issuecomment-386044898","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1272","id":386044898,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjA0NDg5OA==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-02T16:49:31Z","updated_at":"2018-05-02T16:49:31Z","author_association":"MEMBER","body":"@chewbranca Had a PR or diff at least for the separate db info blobs. The PSE level bit of work would be relatively straight forward. Though for the most part on this I'm still worried about the clustered purge interaction and which order we should be thinking of things there.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386044898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386095990","html_url":"https://github.com/apache/couchdb/issues/1309#issuecomment-386095990","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1309","id":386095990,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjA5NTk5MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-02T19:39:02Z","updated_at":"2018-05-02T19:39:02Z","author_association":"MEMBER","body":"I've revised the proposal to clarify how the output should differ between a dev build and a release candidate/actual release.\r\n\r\nWith the above proposal, the goals of distinguishing between dev builds, RCs and actual releases are met.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386095990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386154053","html_url":"https://github.com/apache/couchdb/issues/1300#issuecomment-386154053","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1300","id":386154053,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjE1NDA1Mw==","user":{"login":"jvegaseg","id":12508470,"node_id":"MDQ6VXNlcjEyNTA4NDcw","avatar_url":"https://avatars.githubusercontent.com/u/12508470?v=4","gravatar_id":"","url":"https://api.github.com/users/jvegaseg","html_url":"https://github.com/jvegaseg","followers_url":"https://api.github.com/users/jvegaseg/followers","following_url":"https://api.github.com/users/jvegaseg/following{/other_user}","gists_url":"https://api.github.com/users/jvegaseg/gists{/gist_id}","starred_url":"https://api.github.com/users/jvegaseg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvegaseg/subscriptions","organizations_url":"https://api.github.com/users/jvegaseg/orgs","repos_url":"https://api.github.com/users/jvegaseg/repos","events_url":"https://api.github.com/users/jvegaseg/events{/privacy}","received_events_url":"https://api.github.com/users/jvegaseg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-02T23:41:22Z","updated_at":"2018-05-02T23:41:22Z","author_association":"NONE","body":"Additional info:\r\n[error] 2018-05-02T23:01:08.904899Z couchdb@X.X.X.X <0.287.0> -------- CRASH REPORT Process couch_compaction_daemon (<0.287.0>) with 0 neighbors exited with reason: {compaction_loop_died,{timeout,{gen_server,call,[<0.19381.138>,start_compact]}}} at gen_server:terminate/7(line:826) <= proc_lib:init_p_do_apply/3(line:240); initial_call: {couch_compaction_daemon,init,['Argument__1']}, ancestors: [couch_secondary_services,couch_sup,<0.252.0>], messages: [], links: [<0.262.0>], dictionary: [], trap_exit: true, status: running, heap_size: 1598, stack_size: 27, reductions: 9291","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386154053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386176924","html_url":"https://github.com/apache/couchdb/issues/1290#issuecomment-386176924","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1290","id":386176924,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjE3NjkyNA==","user":{"login":"smartheye","id":23238183,"node_id":"MDQ6VXNlcjIzMjM4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/23238183?v=4","gravatar_id":"","url":"https://api.github.com/users/smartheye","html_url":"https://github.com/smartheye","followers_url":"https://api.github.com/users/smartheye/followers","following_url":"https://api.github.com/users/smartheye/following{/other_user}","gists_url":"https://api.github.com/users/smartheye/gists{/gist_id}","starred_url":"https://api.github.com/users/smartheye/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smartheye/subscriptions","organizations_url":"https://api.github.com/users/smartheye/orgs","repos_url":"https://api.github.com/users/smartheye/repos","events_url":"https://api.github.com/users/smartheye/events{/privacy}","received_events_url":"https://api.github.com/users/smartheye/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-03T02:31:20Z","updated_at":"2018-05-03T02:31:20Z","author_association":"NONE","body":"Thanks @jiangphcn \r\nCorrect me if I am wrong\r\nI am using query as GET /{db}/_all_docs?startkey=<start value>&endkey=<end value>&limit=1000&inclusive_end=false&include_docs=true\r\nCurrently there is max 300 queries  per seconds using above query string. The Server is  a 4 core, frequency 2.4G and 8G memory PC. most of queries will cost more than 10 seconds.\r\nAccoding to your answer and some search results from google, I found there is no index used by _all_docs view. _all_docs view changes when key changes. So there's no need to warm _all_docs view.\r\n\r\nI am just wondering that, if I use ONLY key to do queries, _all_docs view will always be faster than any other map-reduce view because _all_docs view will always be updated.\r\n\r\nAnd... why queries cost too much time? CPU or disk IO or other things are the bottleneck? I am currently thinking of using nginx as cache and reducing json size. But I am not sure. Sorry to ask a so hard question, any experience/advice would help.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386176924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386187817","html_url":"https://github.com/apache/couchdb/issues/1311#issuecomment-386187817","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1311","id":386187817,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjE4NzgxNw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-03T04:19:18Z","updated_at":"2018-05-03T04:19:18Z","author_association":"MEMBER","body":"You want `\"{chttpd_auth, cookie_authentication_handler}, {chttpd_auth, default_authentication_handler}\"`, not the `couch_httpd_auth` version. This is set by default in the code - you shouldn't need to enable it by default.\r\n\r\nhttps://github.com/apache/couchdb/blob/master/src/chttpd/src/chttpd.erl#L469-L471","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386187817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386243367","html_url":"https://github.com/apache/couchdb/issues/1311#issuecomment-386243367","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1311","id":386243367,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjI0MzM2Nw==","user":{"login":"cgwic","id":7736827,"node_id":"MDQ6VXNlcjc3MzY4Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/7736827?v=4","gravatar_id":"","url":"https://api.github.com/users/cgwic","html_url":"https://github.com/cgwic","followers_url":"https://api.github.com/users/cgwic/followers","following_url":"https://api.github.com/users/cgwic/following{/other_user}","gists_url":"https://api.github.com/users/cgwic/gists{/gist_id}","starred_url":"https://api.github.com/users/cgwic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgwic/subscriptions","organizations_url":"https://api.github.com/users/cgwic/orgs","repos_url":"https://api.github.com/users/cgwic/repos","events_url":"https://api.github.com/users/cgwic/events{/privacy}","received_events_url":"https://api.github.com/users/cgwic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-03T09:48:18Z","updated_at":"2018-05-03T09:48:18Z","author_association":"NONE","body":"@wohali yes, now i know, but anyway, why auth get broken when the same thing in config?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386243367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386326644","html_url":"https://github.com/apache/couchdb/issues/1311#issuecomment-386326644","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1311","id":386326644,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjMyNjY0NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-03T15:02:20Z","updated_at":"2018-05-03T15:02:20Z","author_association":"MEMBER","body":"Because you put `couch_httpd_auth` in the config for `chttpd`, when that handler is only written to work with the original `couch_httpd` module. the `chttpd_auth` module is written for `chttpd`, so you have to use that version instead.\r\n\r\nIt would be like using a 64-bit library with a 32-bit application - it's simply incompatible.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386326644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386326819","html_url":"https://github.com/apache/couchdb/issues/1312#issuecomment-386326819","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1312","id":386326819,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjMyNjgxOQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-03T15:02:47Z","updated_at":"2018-05-03T15:02:47Z","author_association":"MEMBER","body":"FYI this fails in Travis too. I saw it just a few days ago.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386326819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386327655","html_url":"https://github.com/apache/couchdb/issues/1313#issuecomment-386327655","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1313","id":386327655,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjMyNzY1NQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-03T15:05:08Z","updated_at":"2018-05-03T15:05:08Z","author_association":"MEMBER","body":"Each replication request is mediated by a single node on the cluster. If you start 2 replications, they should each be mediated by different nodes on the cluster. With multiple replications happening at the same time, the load will be spread acceptably across the entire cluster.\r\n\r\nThe seq value contains information about the node from which you made the query. This is also completely normal.\r\n\r\nIf you are replicating documents with attachments, or using SSL, there are known bugs in 2.1.1 that will be addressed in the forthcoming 2.2.0 release.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386327655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386339255","html_url":"https://github.com/apache/couchdb/issues/1300#issuecomment-386339255","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1300","id":386339255,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjMzOTI1NQ==","user":{"login":"jvegaseg","id":12508470,"node_id":"MDQ6VXNlcjEyNTA4NDcw","avatar_url":"https://avatars.githubusercontent.com/u/12508470?v=4","gravatar_id":"","url":"https://api.github.com/users/jvegaseg","html_url":"https://github.com/jvegaseg","followers_url":"https://api.github.com/users/jvegaseg/followers","following_url":"https://api.github.com/users/jvegaseg/following{/other_user}","gists_url":"https://api.github.com/users/jvegaseg/gists{/gist_id}","starred_url":"https://api.github.com/users/jvegaseg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvegaseg/subscriptions","organizations_url":"https://api.github.com/users/jvegaseg/orgs","repos_url":"https://api.github.com/users/jvegaseg/repos","events_url":"https://api.github.com/users/jvegaseg/events{/privacy}","received_events_url":"https://api.github.com/users/jvegaseg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-03T15:39:40Z","updated_at":"2018-05-03T15:39:40Z","author_association":"NONE","body":"Any clue on this? Server is generating a lot of errors.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386339255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386356135","html_url":"https://github.com/apache/couchdb/issues/1311#issuecomment-386356135","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1311","id":386356135,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjM1NjEzNQ==","user":{"login":"cgwic","id":7736827,"node_id":"MDQ6VXNlcjc3MzY4Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/7736827?v=4","gravatar_id":"","url":"https://api.github.com/users/cgwic","html_url":"https://github.com/cgwic","followers_url":"https://api.github.com/users/cgwic/followers","following_url":"https://api.github.com/users/cgwic/following{/other_user}","gists_url":"https://api.github.com/users/cgwic/gists{/gist_id}","starred_url":"https://api.github.com/users/cgwic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgwic/subscriptions","organizations_url":"https://api.github.com/users/cgwic/orgs","repos_url":"https://api.github.com/users/cgwic/repos","events_url":"https://api.github.com/users/cgwic/events{/privacy}","received_events_url":"https://api.github.com/users/cgwic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-03T16:31:57Z","updated_at":"2018-05-03T16:31:57Z","author_association":"NONE","body":"@wohali O, I see, thank you. Really didn't pay attention for prefix.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386356135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386421181","html_url":"https://github.com/apache/couchdb/issues/1305#issuecomment-386421181","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1305","id":386421181,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjQyMTE4MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-03T20:11:25Z","updated_at":"2018-05-03T20:11:25Z","author_association":"MEMBER","body":"There is a note in the local.ini file that reads:\r\n\r\n```\r\n; If you set this to true, you should also uncomment the WWW-Authenticate line\r\n; above. If you don't configure a WWW-Authenticate header, CouchDB will send\r\n; Basic realm=\"server\" in order to prevent you getting logged out.\r\n```\r\n\r\nYou have to do both, otherwise you don't get the browser popup window for realm authentication. A correct configuration for CouchDB 2.1.1 is:\r\n\r\n```\r\n[httpd]\r\nWWW-Authenticate = Basic realm=\"administrator\"\r\n[chttpd]\r\nrequire_valid_user = true\r\n```\r\n\r\nI have tested this locally and this resolves the problem.\r\n\r\nIt helps to read the fine documentation we've written ;)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386421181/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386429454","html_url":"https://github.com/apache/couchdb/issues/1309#issuecomment-386429454","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1309","id":386429454,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjQyOTQ1NA==","user":{"login":"dch","id":284368,"node_id":"MDQ6VXNlcjI4NDM2OA==","avatar_url":"https://avatars.githubusercontent.com/u/284368?v=4","gravatar_id":"","url":"https://api.github.com/users/dch","html_url":"https://github.com/dch","followers_url":"https://api.github.com/users/dch/followers","following_url":"https://api.github.com/users/dch/following{/other_user}","gists_url":"https://api.github.com/users/dch/gists{/gist_id}","starred_url":"https://api.github.com/users/dch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dch/subscriptions","organizations_url":"https://api.github.com/users/dch/orgs","repos_url":"https://api.github.com/users/dch/repos","events_url":"https://api.github.com/users/dch/events{/privacy}","received_events_url":"https://api.github.com/users/dch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-03T20:40:06Z","updated_at":"2018-05-03T20:40:06Z","author_association":"CONTRIBUTOR","body":"sounds good to me. If we add this info to the version field via `default.*/local.*` it would allow people who wish not to display it (e.g. naked couch on the internet, not that we advise it) to hide it.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386429454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386429692","html_url":"https://github.com/apache/couchdb/issues/1309#issuecomment-386429692","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1309","id":386429692,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjQyOTY5Mg==","user":{"login":"dch","id":284368,"node_id":"MDQ6VXNlcjI4NDM2OA==","avatar_url":"https://avatars.githubusercontent.com/u/284368?v=4","gravatar_id":"","url":"https://api.github.com/users/dch","html_url":"https://github.com/dch","followers_url":"https://api.github.com/users/dch/followers","following_url":"https://api.github.com/users/dch/following{/other_user}","gists_url":"https://api.github.com/users/dch/gists{/gist_id}","starred_url":"https://api.github.com/users/dch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dch/subscriptions","organizations_url":"https://api.github.com/users/dch/orgs","repos_url":"https://api.github.com/users/dch/repos","events_url":"https://api.github.com/users/dch/events{/privacy}","received_events_url":"https://api.github.com/users/dch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-03T20:40:53Z","updated_at":"2018-05-03T20:40:53Z","author_association":"CONTRIBUTOR","body":"or should this be something available only to admins under `/_config/` ?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386429692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386464805","html_url":"https://github.com/apache/couchdb/issues/1309#issuecomment-386464805","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1309","id":386464805,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjQ2NDgwNQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-03T23:17:01Z","updated_at":"2018-05-03T23:17:01Z","author_association":"MEMBER","body":"I don't really see the point of hiding it or making hiding configurable.\r\n\r\nWe've been showing the specific version number since time immemorial. It's used by the replicator and PouchDB to determine compatibility for various things. For 99.99% of the people out there (anyone running a release, not a dev version) that version number maps to a well-known git hash - so for all these people, the version number and the hash should be synonymous. A mismatch would be an indication that someone is running the wrong thing.\r\n\r\nUp until now `GET /` on a master build will return the next version # to be released + the git hash, so hiding it would be a new feature.\r\n\r\nIf you want to hide the field, you could do filtering at your reverse proxy - which is our standard recommended deployment architecture anyway, right? :)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386464805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386508498","html_url":"https://github.com/apache/couchdb/issues/1300#issuecomment-386508498","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1300","id":386508498,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjUwODQ5OA==","user":{"login":"jvegaseg","id":12508470,"node_id":"MDQ6VXNlcjEyNTA4NDcw","avatar_url":"https://avatars.githubusercontent.com/u/12508470?v=4","gravatar_id":"","url":"https://api.github.com/users/jvegaseg","html_url":"https://github.com/jvegaseg","followers_url":"https://api.github.com/users/jvegaseg/followers","following_url":"https://api.github.com/users/jvegaseg/following{/other_user}","gists_url":"https://api.github.com/users/jvegaseg/gists{/gist_id}","starred_url":"https://api.github.com/users/jvegaseg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvegaseg/subscriptions","organizations_url":"https://api.github.com/users/jvegaseg/orgs","repos_url":"https://api.github.com/users/jvegaseg/repos","events_url":"https://api.github.com/users/jvegaseg/events{/privacy}","received_events_url":"https://api.github.com/users/jvegaseg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-04T05:25:42Z","updated_at":"2018-05-04T05:25:42Z","author_association":"NONE","body":"More:\r\n\r\n[error] 2018-05-04T04:21:10.794610Z couchdb@x.X.X.x <0.228.263> -------- Supervisor couch_secondary_services had child compaction_daemon started with couch_compaction_daemon:start_link() at <0.5292.273> exit with reason {compaction_loop_died,{timeout,{gen_server,call,[<0.24241.217>,compactor_pid]}}} in context child_terminated\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386508498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386508598","html_url":"https://github.com/apache/couchdb/issues/1300#issuecomment-386508598","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1300","id":386508598,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjUwODU5OA==","user":{"login":"jvegaseg","id":12508470,"node_id":"MDQ6VXNlcjEyNTA4NDcw","avatar_url":"https://avatars.githubusercontent.com/u/12508470?v=4","gravatar_id":"","url":"https://api.github.com/users/jvegaseg","html_url":"https://github.com/jvegaseg","followers_url":"https://api.github.com/users/jvegaseg/followers","following_url":"https://api.github.com/users/jvegaseg/following{/other_user}","gists_url":"https://api.github.com/users/jvegaseg/gists{/gist_id}","starred_url":"https://api.github.com/users/jvegaseg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvegaseg/subscriptions","organizations_url":"https://api.github.com/users/jvegaseg/orgs","repos_url":"https://api.github.com/users/jvegaseg/repos","events_url":"https://api.github.com/users/jvegaseg/events{/privacy}","received_events_url":"https://api.github.com/users/jvegaseg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-04T05:26:47Z","updated_at":"2018-05-04T05:26:47Z","author_association":"NONE","body":"More (hundred of errors):\r\n\r\n[error] 2018-05-04T04:21:10.794014Z couchdb@X.X.X.X<0.5292.273> -------- gen_server couch_compaction_daemon terminated with reason: {compaction_loop_died,{timeout,{gen_server,call,[<0.24241.217>,compactor_pid]}}}","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386508598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386509877","html_url":"https://github.com/apache/couchdb/issues/1300#issuecomment-386509877","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1300","id":386509877,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjUwOTg3Nw==","user":{"login":"jvegaseg","id":12508470,"node_id":"MDQ6VXNlcjEyNTA4NDcw","avatar_url":"https://avatars.githubusercontent.com/u/12508470?v=4","gravatar_id":"","url":"https://api.github.com/users/jvegaseg","html_url":"https://github.com/jvegaseg","followers_url":"https://api.github.com/users/jvegaseg/followers","following_url":"https://api.github.com/users/jvegaseg/following{/other_user}","gists_url":"https://api.github.com/users/jvegaseg/gists{/gist_id}","starred_url":"https://api.github.com/users/jvegaseg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvegaseg/subscriptions","organizations_url":"https://api.github.com/users/jvegaseg/orgs","repos_url":"https://api.github.com/users/jvegaseg/repos","events_url":"https://api.github.com/users/jvegaseg/events{/privacy}","received_events_url":"https://api.github.com/users/jvegaseg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-04T05:40:07Z","updated_at":"2018-05-04T05:40:07Z","author_association":"NONE","body":"When compaction crash, cpu iowait is very high. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386509877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386511160","html_url":"https://github.com/apache/couchdb/issues/1290#issuecomment-386511160","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1290","id":386511160,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjUxMTE2MA==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-04T05:52:00Z","updated_at":"2018-05-04T05:52:00Z","author_association":"CONTRIBUTOR","body":"@smartheye glad to provide assistance. However, as I mentioned, did you try to check with map-reduce view to see whether it helps? The view is built/updated once there is document update in database. However, during your query, there is no additional cost to build index (given view index was already built before). Thus, the query scope will be narrowed down. The corresponding resource will extremely used.  ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386511160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386511562","html_url":"https://github.com/apache/couchdb/issues/1096#issuecomment-386511562","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1096","id":386511562,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjUxMTU2Mg==","user":{"login":"jvegaseg","id":12508470,"node_id":"MDQ6VXNlcjEyNTA4NDcw","avatar_url":"https://avatars.githubusercontent.com/u/12508470?v=4","gravatar_id":"","url":"https://api.github.com/users/jvegaseg","html_url":"https://github.com/jvegaseg","followers_url":"https://api.github.com/users/jvegaseg/followers","following_url":"https://api.github.com/users/jvegaseg/following{/other_user}","gists_url":"https://api.github.com/users/jvegaseg/gists{/gist_id}","starred_url":"https://api.github.com/users/jvegaseg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvegaseg/subscriptions","organizations_url":"https://api.github.com/users/jvegaseg/orgs","repos_url":"https://api.github.com/users/jvegaseg/repos","events_url":"https://api.github.com/users/jvegaseg/events{/privacy}","received_events_url":"https://api.github.com/users/jvegaseg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-04T05:55:47Z","updated_at":"2018-05-04T05:55:47Z","author_association":"NONE","body":"Any advance? Title should change from Sporadic to Frequent or Common (more than 50 daily)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386511562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386632648","html_url":"https://github.com/apache/couchdb/issues/1300#issuecomment-386632648","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1300","id":386632648,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjYzMjY0OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-04T15:13:21Z","updated_at":"2018-05-04T15:13:21Z","author_association":"MEMBER","body":"Hi @jvegaseg , if your cpu iowait is very high then I once again suspect your storage subsystem is at fault. I can't help with the rest of the errors, but you should check for other processes on the system overtaxing the storage, or problems with your OpenVZ setup. Check storage subsystem metrics at both the host and guest level.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386632648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386762343","html_url":"https://github.com/apache/couchdb/issues/1267#issuecomment-386762343","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1267","id":386762343,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Njc2MjM0Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-04T23:53:44Z","updated_at":"2018-05-04T23:53:44Z","author_association":"MEMBER","body":"This log shows that your server's CPU is overloaded.\r\n\r\nYes, switch to Mango selectors for filtered replication if you can. This will help, but only to a certain extent.\r\n\r\nGive your machine more CPU cores if possible, and faster ones, if possible.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386762343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386784695","html_url":"https://github.com/apache/couchdb/issues/1305#issuecomment-386784695","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1305","id":386784695,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Njc4NDY5NQ==","user":{"login":"greenais","id":16271522,"node_id":"MDQ6VXNlcjE2MjcxNTIy","avatar_url":"https://avatars.githubusercontent.com/u/16271522?v=4","gravatar_id":"","url":"https://api.github.com/users/greenais","html_url":"https://github.com/greenais","followers_url":"https://api.github.com/users/greenais/followers","following_url":"https://api.github.com/users/greenais/following{/other_user}","gists_url":"https://api.github.com/users/greenais/gists{/gist_id}","starred_url":"https://api.github.com/users/greenais/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/greenais/subscriptions","organizations_url":"https://api.github.com/users/greenais/orgs","repos_url":"https://api.github.com/users/greenais/repos","events_url":"https://api.github.com/users/greenais/events{/privacy}","received_events_url":"https://api.github.com/users/greenais/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-05T06:52:03Z","updated_at":"2018-05-05T06:52:03Z","author_association":"NONE","body":"Shame on me, it really helps. \r\nDon't know where were my eyes - now I remember that notification string which lost somehow during moving significant stuff from default.ini to local.ini in order to keep them on upgrade...\r\nThank you for gread DB and support and sorry fo disturbing.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/386784695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/387086110","html_url":"https://github.com/apache/couchdb/issues/1315#issuecomment-387086110","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1315","id":387086110,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NzA4NjExMA==","user":{"login":"popojargo","id":9197078,"node_id":"MDQ6VXNlcjkxOTcwNzg=","avatar_url":"https://avatars.githubusercontent.com/u/9197078?v=4","gravatar_id":"","url":"https://api.github.com/users/popojargo","html_url":"https://github.com/popojargo","followers_url":"https://api.github.com/users/popojargo/followers","following_url":"https://api.github.com/users/popojargo/following{/other_user}","gists_url":"https://api.github.com/users/popojargo/gists{/gist_id}","starred_url":"https://api.github.com/users/popojargo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/popojargo/subscriptions","organizations_url":"https://api.github.com/users/popojargo/orgs","repos_url":"https://api.github.com/users/popojargo/repos","events_url":"https://api.github.com/users/popojargo/events{/privacy}","received_events_url":"https://api.github.com/users/popojargo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-07T14:39:24Z","updated_at":"2018-05-07T14:39:24Z","author_association":"MEMBER","body":"My guess: It was an actual bug.\r\n\r\nYou can simply rewrite your query to check if **test** $exists in your object or if it's greater than null.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/387086110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/387108607","html_url":"https://github.com/apache/couchdb/issues/1315#issuecomment-387108607","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1315","id":387108607,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NzEwODYwNw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-07T15:46:21Z","updated_at":"2018-05-07T15:46:21Z","author_association":"MEMBER","body":"There have been a couple of bugs related to selectors that have been recently fixed.\r\n\r\nWhat happens if you use the `GET /{db}/_explain` endpoint on your queries?\r\n\r\nSee: https://github.com/apache/couchdb/pull/866 and https://github.com/apache/couchdb/pull/962\r\n\r\nThese fixes will be in CouchDB 2.2.0.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/387108607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/387180687","html_url":"https://github.com/apache/couchdb/issues/1300#issuecomment-387180687","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1300","id":387180687,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NzE4MDY4Nw==","user":{"login":"jvegaseg","id":12508470,"node_id":"MDQ6VXNlcjEyNTA4NDcw","avatar_url":"https://avatars.githubusercontent.com/u/12508470?v=4","gravatar_id":"","url":"https://api.github.com/users/jvegaseg","html_url":"https://github.com/jvegaseg","followers_url":"https://api.github.com/users/jvegaseg/followers","following_url":"https://api.github.com/users/jvegaseg/following{/other_user}","gists_url":"https://api.github.com/users/jvegaseg/gists{/gist_id}","starred_url":"https://api.github.com/users/jvegaseg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvegaseg/subscriptions","organizations_url":"https://api.github.com/users/jvegaseg/orgs","repos_url":"https://api.github.com/users/jvegaseg/repos","events_url":"https://api.github.com/users/jvegaseg/events{/privacy}","received_events_url":"https://api.github.com/users/jvegaseg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-07T19:45:09Z","updated_at":"2018-05-07T19:45:09Z","author_association":"NONE","body":"This VPS is the only machine in hardware host.\r\nIs there any configuration param in order to increase this timeout?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/387180687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/387308228","html_url":"https://github.com/apache/couchdb/issues/1300#issuecomment-387308228","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1300","id":387308228,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NzMwODIyOA==","user":{"login":"jvegaseg","id":12508470,"node_id":"MDQ6VXNlcjEyNTA4NDcw","avatar_url":"https://avatars.githubusercontent.com/u/12508470?v=4","gravatar_id":"","url":"https://api.github.com/users/jvegaseg","html_url":"https://github.com/jvegaseg","followers_url":"https://api.github.com/users/jvegaseg/followers","following_url":"https://api.github.com/users/jvegaseg/following{/other_user}","gists_url":"https://api.github.com/users/jvegaseg/gists{/gist_id}","starred_url":"https://api.github.com/users/jvegaseg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvegaseg/subscriptions","organizations_url":"https://api.github.com/users/jvegaseg/orgs","repos_url":"https://api.github.com/users/jvegaseg/repos","events_url":"https://api.github.com/users/jvegaseg/events{/privacy}","received_events_url":"https://api.github.com/users/jvegaseg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-08T07:16:23Z","updated_at":"2018-05-08T07:16:23Z","author_association":"NONE","body":"I confirm you that the process which is generation high iops is beam.smp","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/387308228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/387361267","html_url":"https://github.com/apache/couchdb/issues/1315#issuecomment-387361267","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1315","id":387361267,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NzM2MTI2Nw==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-08T10:40:10Z","updated_at":"2018-05-08T10:40:10Z","author_association":"MEMBER","body":"@glonco just to confirm, this change was intentional (see the [release notes](http://docs.couchdb.org/en/latest/whatsnew/2.1.html#mango)). \r\n\r\nThat said, I'm a bit curious how your query used to work, since `sort` requires an index, and a document would only be included in the index if the field you're sorting on exists. I'd like to see the output of `_explain` from both CouchDB versions as well.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/387361267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/387463996","html_url":"https://github.com/apache/couchdb/issues/1300#issuecomment-387463996","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1300","id":387463996,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NzQ2Mzk5Ng==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-08T16:35:35Z","updated_at":"2018-05-08T16:35:45Z","author_association":"MEMBER","body":"We have seen something similar to this in other production environments where disk latency is high. It is entirely possible to have high IOPS but also high operation latency, see: https://www.datadoghq.com/blog/aws-ebs-latency-and-iops-the-surprising-truth/index.html\r\n\r\nAre you able to monitor your disk operation latency under load at all?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/387463996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/387466559","html_url":"https://github.com/apache/couchdb/issues/1317#issuecomment-387466559","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1317","id":387466559,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NzQ2NjU1OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-08T16:44:16Z","updated_at":"2018-05-08T16:44:16Z","author_association":"MEMBER","body":"Hi @mguimas , \r\n\r\nThis has been fixed already for our upcoming 2.2.0 release:\r\n\r\nhttps://github.com/apache/couchdb-documentation/pull/216\r\n\r\nYou can see this live already here:\r\n\r\nhttp://docs.couchdb.org/en/latest/api/database/bulk-api.html#bulk-documents-transaction-semantics\r\n\r\nDue to the invariant nature of our release labels on the documentation repository, we are unable to change the labelled documentation for an existing release at this time.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/387466559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/387480028","html_url":"https://github.com/apache/couchdb/issues/1317#issuecomment-387480028","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1317","id":387480028,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NzQ4MDAyOA==","user":{"login":"mguimas","id":13681899,"node_id":"MDQ6VXNlcjEzNjgxODk5","avatar_url":"https://avatars.githubusercontent.com/u/13681899?v=4","gravatar_id":"","url":"https://api.github.com/users/mguimas","html_url":"https://github.com/mguimas","followers_url":"https://api.github.com/users/mguimas/followers","following_url":"https://api.github.com/users/mguimas/following{/other_user}","gists_url":"https://api.github.com/users/mguimas/gists{/gist_id}","starred_url":"https://api.github.com/users/mguimas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mguimas/subscriptions","organizations_url":"https://api.github.com/users/mguimas/orgs","repos_url":"https://api.github.com/users/mguimas/repos","events_url":"https://api.github.com/users/mguimas/events{/privacy}","received_events_url":"https://api.github.com/users/mguimas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-08T17:29:25Z","updated_at":"2018-05-08T17:29:25Z","author_association":"NONE","body":"OK thanks!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/387480028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/387662797","html_url":"https://github.com/apache/couchdb/issues/1315#issuecomment-387662797","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1315","id":387662797,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NzY2Mjc5Nw==","user":{"login":"glonco","id":10538659,"node_id":"MDQ6VXNlcjEwNTM4NjU5","avatar_url":"https://avatars.githubusercontent.com/u/10538659?v=4","gravatar_id":"","url":"https://api.github.com/users/glonco","html_url":"https://github.com/glonco","followers_url":"https://api.github.com/users/glonco/followers","following_url":"https://api.github.com/users/glonco/following{/other_user}","gists_url":"https://api.github.com/users/glonco/gists{/gist_id}","starred_url":"https://api.github.com/users/glonco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glonco/subscriptions","organizations_url":"https://api.github.com/users/glonco/orgs","repos_url":"https://api.github.com/users/glonco/repos","events_url":"https://api.github.com/users/glonco/events{/privacy}","received_events_url":"https://api.github.com/users/glonco/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-09T08:26:37Z","updated_at":"2018-05-09T08:27:01Z","author_association":"NONE","body":"I created index for field \"test\" in both version of couch db.\r\nHere you can see _explain from both versions of couch db:\r\nv2.1.0 ->\r\n`\r\n{\r\n    \"dbname\": \"test\",\r\n    \"index\": {\r\n        \"ddoc\": null,\r\n        \"name\": \"_all_docs\",\r\n        \"type\": \"special\",\r\n        \"def\": {\r\n            \"fields\": [\r\n                {\r\n                    \"_id\": \"asc\"\r\n                }\r\n            ]\r\n        }\r\n    },\r\n    \"selector\": {\r\n        \"name\": {\r\n            \"$eq\": \"test1\"\r\n        }\r\n    },\r\n    \"opts\": {\r\n        \"use_index\": [],\r\n        \"bookmark\": \"nil\",\r\n        \"limit\": 100,\r\n        \"skip\": 0,\r\n        \"sort\": {\r\n            \"test\": \"desc\"\r\n        },\r\n        \"fields\": \"all_fields\",\r\n        \"r\": [\r\n            49\r\n        ],\r\n        \"conflicts\": false,\r\n        \"stale\": false,\r\n        \"update\": true,\r\n        \"stable\": false\r\n    },\r\n    \"limit\": 100,\r\n    \"skip\": 0,\r\n    \"fields\": \"all_fields\",\r\n    \"range\": {\r\n        \"start_key\": null,\r\n        \"end_key\": \"\\ufffd\"\r\n    }\r\n}`\r\nv2.1.1 ->\r\n`{\r\n    \"error\": \"error\",\r\n    \"reason\": \"{invalid_object,{<<\\\"\\ufffd\\ufffd\\ufffd\\ufffd\\\">>}}\"\r\n}`\r\nHere it is error.\r\n\r\nSo It is bug in the version 2.1.1 or it was bug in the version2.1.0 ?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/387662797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/387710917","html_url":"https://github.com/apache/couchdb/issues/1300#issuecomment-387710917","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1300","id":387710917,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NzcxMDkxNw==","user":{"login":"jvegaseg","id":12508470,"node_id":"MDQ6VXNlcjEyNTA4NDcw","avatar_url":"https://avatars.githubusercontent.com/u/12508470?v=4","gravatar_id":"","url":"https://api.github.com/users/jvegaseg","html_url":"https://github.com/jvegaseg","followers_url":"https://api.github.com/users/jvegaseg/followers","following_url":"https://api.github.com/users/jvegaseg/following{/other_user}","gists_url":"https://api.github.com/users/jvegaseg/gists{/gist_id}","starred_url":"https://api.github.com/users/jvegaseg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvegaseg/subscriptions","organizations_url":"https://api.github.com/users/jvegaseg/orgs","repos_url":"https://api.github.com/users/jvegaseg/repos","events_url":"https://api.github.com/users/jvegaseg/events{/privacy}","received_events_url":"https://api.github.com/users/jvegaseg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-09T11:38:35Z","updated_at":"2018-05-09T11:38:35Z","author_association":"NONE","body":"The node with hight IOPS have just died. One of the disk is broken. Cluster is working as expected.\r\nIs there any document or help in order to replace a broken node? In help there are documents for adding or deleting nodes but not I have not seen how to replace a node.\r\nPlease help.\r\n ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/387710917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/387763578","html_url":"https://github.com/apache/couchdb/issues/1318#issuecomment-387763578","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1318","id":387763578,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Nzc2MzU3OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-09T14:45:25Z","updated_at":"2018-05-10T16:57:26Z","author_association":"MEMBER","body":"Technically, the macOS download is only a convenience binary and only built using official Apache CouchDB assets.\r\n\r\nYou can find the repository used for those builds here: https://github.com/janl/couchdb-mac-app\r\n\r\nYou might want to open the issue there, not here.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/387763578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]