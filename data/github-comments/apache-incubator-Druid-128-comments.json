[{"url":"https://api.github.com/repos/apache/druid/issues/comments/280246909","html_url":"https://github.com/apache/druid/issues/3820#issuecomment-280246909","issue_url":"https://api.github.com/repos/apache/druid/issues/3820","id":280246909,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDI0NjkwOQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-16T06:52:23Z","updated_at":"2017-02-16T06:52:23Z","author_association":"CONTRIBUTOR","body":"@gianm, what do you think about simply adding a flag to represent the cached bySegment result is sorted or not?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280246909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280249391","html_url":"https://github.com/apache/druid/issues/3820#issuecomment-280249391","issue_url":"https://api.github.com/repos/apache/druid/issues/3820","id":280249391,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDI0OTM5MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-16T07:05:50Z","updated_at":"2017-02-16T07:05:50Z","author_association":"CONTRIBUTOR","body":"That could be part of a solution, but what behavior would be changed when the flag is set?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280249391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280249622","html_url":"https://github.com/apache/druid/issues/3820#issuecomment-280249622","issue_url":"https://api.github.com/repos/apache/druid/issues/3820","id":280249622,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDI0OTYyMg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-16T07:07:11Z","updated_at":"2017-02-16T07:07:19Z","author_association":"CONTRIBUTOR","body":"Oh, I mean adding the flag to the cache key of groupBys.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280249622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280255815","html_url":"https://github.com/apache/druid/issues/3820#issuecomment-280255815","issue_url":"https://api.github.com/repos/apache/druid/issues/3820","id":280255815,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDI1NTgxNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-16T07:41:22Z","updated_at":"2017-02-16T07:41:22Z","author_association":"CONTRIBUTOR","body":"Is your idea that the broker would sort results before putting them in the cache, and would include \"is sorted\" as part of the cache key? And historicals would keep behaving as they do now -- results in cache are unsorted?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280255815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280259058","html_url":"https://github.com/apache/druid/issues/3864#issuecomment-280259058","issue_url":"https://api.github.com/repos/apache/druid/issues/3864","id":280259058,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDI1OTA1OA==","user":{"login":"DaimonPl","id":9693936,"node_id":"MDQ6VXNlcjk2OTM5MzY=","avatar_url":"https://avatars.githubusercontent.com/u/9693936?v=4","gravatar_id":"","url":"https://api.github.com/users/DaimonPl","html_url":"https://github.com/DaimonPl","followers_url":"https://api.github.com/users/DaimonPl/followers","following_url":"https://api.github.com/users/DaimonPl/following{/other_user}","gists_url":"https://api.github.com/users/DaimonPl/gists{/gist_id}","starred_url":"https://api.github.com/users/DaimonPl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaimonPl/subscriptions","organizations_url":"https://api.github.com/users/DaimonPl/orgs","repos_url":"https://api.github.com/users/DaimonPl/repos","events_url":"https://api.github.com/users/DaimonPl/events{/privacy}","received_events_url":"https://api.github.com/users/DaimonPl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-16T07:57:52Z","updated_at":"2017-02-16T07:57:52Z","author_association":"CONTRIBUTOR","body":"@gianm could you help about this last question?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280259058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280261783","html_url":"https://github.com/apache/druid/issues/3864#issuecomment-280261783","issue_url":"https://api.github.com/repos/apache/druid/issues/3864","id":280261783,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDI2MTc4Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-16T08:11:21Z","updated_at":"2017-02-16T08:11:21Z","author_association":"CONTRIBUTOR","body":"Yep your patch will be in 0.10.0. That's the next planned release, there won't be an 0.9.3 barring unforeseen circumstances.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280261783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280266708","html_url":"https://github.com/apache/druid/pull/3929#issuecomment-280266708","issue_url":"https://api.github.com/repos/apache/druid/issues/3929","id":280266708,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDI2NjcwOA==","user":{"login":"niketh","id":626548,"node_id":"MDQ6VXNlcjYyNjU0OA==","avatar_url":"https://avatars.githubusercontent.com/u/626548?v=4","gravatar_id":"","url":"https://api.github.com/users/niketh","html_url":"https://github.com/niketh","followers_url":"https://api.github.com/users/niketh/followers","following_url":"https://api.github.com/users/niketh/following{/other_user}","gists_url":"https://api.github.com/users/niketh/gists{/gist_id}","starred_url":"https://api.github.com/users/niketh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketh/subscriptions","organizations_url":"https://api.github.com/users/niketh/orgs","repos_url":"https://api.github.com/users/niketh/repos","events_url":"https://api.github.com/users/niketh/events{/privacy}","received_events_url":"https://api.github.com/users/niketh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-16T08:34:01Z","updated_at":"2017-02-16T08:34:01Z","author_association":"CONTRIBUTOR","body":"@drcrallen I have replied to your comments and addressed changes that cheddar had. Can you review again.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280266708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280275248","html_url":"https://github.com/apache/druid/issues/3864#issuecomment-280275248","issue_url":"https://api.github.com/repos/apache/druid/issues/3864","id":280275248,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDI3NTI0OA==","user":{"login":"DaimonPl","id":9693936,"node_id":"MDQ6VXNlcjk2OTM5MzY=","avatar_url":"https://avatars.githubusercontent.com/u/9693936?v=4","gravatar_id":"","url":"https://api.github.com/users/DaimonPl","html_url":"https://github.com/DaimonPl","followers_url":"https://api.github.com/users/DaimonPl/followers","following_url":"https://api.github.com/users/DaimonPl/following{/other_user}","gists_url":"https://api.github.com/users/DaimonPl/gists{/gist_id}","starred_url":"https://api.github.com/users/DaimonPl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaimonPl/subscriptions","organizations_url":"https://api.github.com/users/DaimonPl/orgs","repos_url":"https://api.github.com/users/DaimonPl/repos","events_url":"https://api.github.com/users/DaimonPl/events{/privacy}","received_events_url":"https://api.github.com/users/DaimonPl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-16T09:12:14Z","updated_at":"2017-02-16T09:12:14Z","author_association":"CONTRIBUTOR","body":"Ok, closing issue itself","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280275248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280314449","html_url":"https://github.com/apache/druid/issues/3820#issuecomment-280314449","issue_url":"https://api.github.com/repos/apache/druid/issues/3820","id":280314449,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDMxNDQ0OQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-16T12:10:40Z","updated_at":"2017-02-16T12:10:40Z","author_association":"CONTRIBUTOR","body":"I realized that the behavior of ```GroupByMergingQueryRunnerV2``` is different according to the cache is enabled or not. So please forget about my above comments.\r\n\r\nSo far, @gianm's first idea, disabling cache for groupBy v2 on brokers, seems good to me. I'll go with this way. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280314449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280373072","html_url":"https://github.com/apache/druid/pull/3860#issuecomment-280373072","issue_url":"https://api.github.com/repos/apache/druid/issues/3860","id":280373072,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDM3MzA3Mg==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-16T16:02:51Z","updated_at":"2017-02-16T16:02:51Z","author_association":"MEMBER","body":"actually https://gist.github.com/pjain1/96ed2369bb8de4cb691317d5f2945888 is not blocking when you add item, it blocks while taking item from it, so it actually does what we want here.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280373072/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280465030","html_url":"https://github.com/apache/druid/pull/3859#issuecomment-280465030","issue_url":"https://api.github.com/repos/apache/druid/issues/3859","id":280465030,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDQ2NTAzMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-16T21:23:13Z","updated_at":"2017-02-16T21:23:13Z","author_association":"CONTRIBUTOR","body":"@kaijianding, a couple questions:\r\n\r\n- does this provide any benefit over using two aggregators (count, sum) and a post-aggregator to divide them?\r\n- are you using this in production?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280465030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280474204","html_url":"https://github.com/apache/druid/pull/3936#issuecomment-280474204","issue_url":"https://api.github.com/repos/apache/druid/issues/3936","id":280474204,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDQ3NDIwNA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-16T21:55:54Z","updated_at":"2017-02-16T21:55:54Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280474204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280475022","html_url":"https://github.com/apache/druid/pull/3743#issuecomment-280475022","issue_url":"https://api.github.com/repos/apache/druid/issues/3743","id":280475022,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDQ3NTAyMg==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-16T21:58:38Z","updated_at":"2017-02-16T21:58:38Z","author_association":"CONTRIBUTOR","body":"@leventov can we finish this off? This is one of the largest PRs blocking for the release","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280475022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280475278","html_url":"https://github.com/apache/druid/pull/3850#issuecomment-280475278","issue_url":"https://api.github.com/repos/apache/druid/issues/3850","id":280475278,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDQ3NTI3OA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-16T21:59:32Z","updated_at":"2017-02-16T21:59:32Z","author_association":"CONTRIBUTOR","body":"@praveev there's a few merge conflicts\r\n\r\n@leventov can we please finish this off?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280475278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280484224","html_url":"https://github.com/apache/druid/pull/3743#issuecomment-280484224","issue_url":"https://api.github.com/repos/apache/druid/issues/3743","id":280484224,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDQ4NDIyNA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-16T22:32:28Z","updated_at":"2017-02-16T22:32:28Z","author_association":"MEMBER","body":"@fjy will do before the end of this week","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280484224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280485479","html_url":"https://github.com/apache/druid/pull/3939#issuecomment-280485479","issue_url":"https://api.github.com/repos/apache/druid/issues/3939","id":280485479,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDQ4NTQ3OQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-16T22:36:54Z","updated_at":"2017-02-16T22:36:54Z","author_association":"CONTRIBUTOR","body":"it looks like this will solve first case reported in #3819 too, however description seems to be very explicit about case two only. no ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280485479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280500916","html_url":"https://github.com/apache/druid/issues/3944#issuecomment-280500916","issue_url":"https://api.github.com/repos/apache/druid/issues/3944","id":280500916,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDUwMDkxNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-16T23:40:19Z","updated_at":"2017-02-16T23:40:55Z","author_association":"CONTRIBUTOR","body":"Starting up the release notes with a list of contributors generated from a script (anyone that raised a PR or issue which was part of the release)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280500916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280514521","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-280514521","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":280514521,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDUxNDUyMQ==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T00:48:18Z","updated_at":"2017-02-17T00:48:18Z","author_association":"CONTRIBUTOR","body":"@leventov \r\n\r\nCould use your thoughts with a conundrum using Cleaner.  Cleaner is directly tied to an object while finalize() is indirect in that the JVM keeps track of those objects that have a finalize method. \r\n\r\nUnsafe is stateful with native address (in various forms) and an optional object reference.  \r\n\r\n1) Create a parent class that refers to a native region in memory using Unsafe with these state values and register it with the JVM Cleaner.\r\n\r\n2) Create a child \"region\" class that needs to refer to that same region of memory as a \"view\".\r\nIt has to copy or refer to those same state variables (perhaps modified by an offset) in order to use Unsafe.  \r\n\r\n3) The parent's cleaner.clean() is called and the parent's references to native memory are all cleaned up and the memory is freed from the OS.\r\n\r\nHow do we clean the child?  If the users still holds a reference to the child and tries to do any operation with Unsafe against the state variables it knows about, it will result in a seg-fault. Even if the nativeBaseAddress is set to zero!  \r\n\r\nOption A) If the parent has a Cleaner, then the children have to register their own cleaner as well. But it could create a race condition if the Parent cleaner is called preemptively by the user.  \r\n\r\nOption B) Similar to A, but we don't allow the user to ever call Cleaner preemptively.  Once the GC starts all the user threads are disabled so we couldn't have the race condition.\r\n\r\nIf B is the way to go I have concern that we may have only a few parent objects, but have many thousands of child views of that parent.  Will that overwhelm the Cleaner's linked list?\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280514521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280519678","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-280519678","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":280519678,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDUxOTY3OA==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T01:17:07Z","updated_at":"2017-02-17T01:17:07Z","author_association":"CONTRIBUTOR","body":"@leventov \r\n\r\nOption C) I should've thought of this.  The child has to hold a reference to the Parent, AND we can't allow preemptive cleans.  Only when all the children and the parent are dereferenced will the GC clean it all up.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280519678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280521273","html_url":"https://github.com/apache/druid/pull/3940#issuecomment-280521273","issue_url":"https://api.github.com/repos/apache/druid/issues/3940","id":280521273,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDUyMTI3Mw==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T01:26:37Z","updated_at":"2017-02-17T03:44:03Z","author_association":"CONTRIBUTOR","body":"\r\n\r\n\r\nReview status: 0 of 4 files reviewed at latest revision, 3 unresolved discussions.\r\n\r\n---\r\n\r\n*[indexing-hadoop/src/main/java/io/druid/indexer/JobHelper.java, line 424 at r1](https://reviewable.io:443/reviews/druid-io/druid/3940#-Kd3477KkNMgA-xlzGN_-r1-424:-Kd8dtFcFulJX42Hhswz:bbtv3un) ([raw file](https://github.com/druid-io/druid/blob/f7e309f44595c92148950b328ec7eec526d290ef/indexing-hadoop/src/main/java/io/druid/indexer/JobHelper.java#L424)):*\r\n<details><summary><i>Previously, gianm (Gian Merlino) wrote‚Ä¶</i></summary><blockquote>\r\n\r\nI don't think we really want uniformity. There's no good reason for people with S3 deep storage to have to load the druid-hdfs-storage extension or hadoop classes on their historical nodes.\r\n\r\nThe idea behind how things work now is that even if a hadoop indexing job uses the hadoop fs classes to push data to s3 deep storage, you'd still configure your historicals with s3 deep storage, not hdfs.\r\n</blockquote></details>\r\n\r\n@gianm  for the long term we are trying to use only hdfs pusher/puller for all hadoop related file systems. the good reason is to have one module that does everything Thought. I get the idea that the S3 module was developed in absence of current hadoop aws module but i guess it is always good to move out of it and have one loadspec for all the hadoop file systems.  \r\n\r\n---\r\n\r\n\r\n*Comments from [Reviewable](https://reviewable.io:443/reviews/druid-io/druid/3940)*\r\n<!-- Sent from Reviewable.io -->\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280521273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280522250","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-280522250","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":280522250,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDUyMjI1MA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T01:32:22Z","updated_at":"2017-02-17T01:32:22Z","author_association":"MEMBER","body":"@leerho my suggestion is\r\n - Only one `Cleaner` per allocation. When views, subregions, positioned etc. are created, they have a reference to the \"parent\", but they shouldn't delegate their getXxx/putXxx methods to the parent, they copy address to their own fields, for faster access. They don't create their own Cleaners.\r\n - Manual clean via `close()` is allowed.\r\n - `Cleaner` and parent both reference `AtomicBoolean` \"cleaned\", which is set to `true` from inside `Cleaner`.\r\n - In their assertion-enabled methods, e. g. in `checkIndex()`, this flag is checked, and exception \"use after free\" is thrown, if already set to true.\r\n - If we encounter segfault in tests or production we turn on assertions for the memory package, and see where do we have use-after-free.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280522250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280527429","html_url":"https://github.com/apache/druid/pull/3940#issuecomment-280527429","issue_url":"https://api.github.com/repos/apache/druid/issues/3940","id":280527429,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDUyNzQyOQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T02:03:53Z","updated_at":"2017-02-17T02:03:53Z","author_association":"CONTRIBUTOR","body":"\n\n\n\nReview status: 0 of 4 files reviewed at latest revision, 3 unresolved discussions.\n\n---\n\n*[pom.xml, line 74 at r1](https://reviewable.io:443/reviews/druid-io/druid/3940#-Kd3477KkNMgA-xlzGNb-r1-74:-Kd8nqFfo8mfTEXFwrm6:b-896fix) ([raw file](https://github.com/druid-io/druid/blob/f7e309f44595c92148950b328ec7eec526d290ef/pom.xml#L74)):*\n<details><summary><i>Previously, gianm (Gian Merlino) wrote‚Ä¶</i></summary><blockquote>\n\nWhy not 2.7.3?\n</blockquote></details>\n\nDone.\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io:443/reviews/druid-io/druid/3940)*\n<!-- Sent from Reviewable.io -->\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280527429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280528060","html_url":"https://github.com/apache/druid/pull/3940#issuecomment-280528060","issue_url":"https://api.github.com/repos/apache/druid/issues/3940","id":280528060,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDUyODA2MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T02:07:41Z","updated_at":"2017-02-17T02:07:41Z","author_association":"CONTRIBUTOR","body":"> @Gian for the long term we are trying to use only hdfs pusher/puller for all hadoop related file systems. the good reason is to have one module that does everything Thought. I get the idea that the S3 module was developed in absence of current hadoop aws module but i guess it is always good to move out of it and have one loadspec for all the hadoop file systems.\r\n\r\nJust because you use the s3a fs to push data to S3 doesn't mean S3 is a hadoop file system. It's not. It's S3.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280528060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280534185","html_url":"https://github.com/apache/druid/pull/3943#issuecomment-280534185","issue_url":"https://api.github.com/repos/apache/druid/issues/3943","id":280534185,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDUzNDE4NQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T02:47:37Z","updated_at":"2017-02-17T02:47:37Z","author_association":"CONTRIBUTOR","body":"At one point this had problems with HLL buffers,  I don't remember what the issue was off hand. I think the buffer was being released before the cache was calculated or something.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280534185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280534575","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-280534575","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":280534575,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDUzNDU3NQ==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T02:50:08Z","updated_at":"2017-02-17T02:50:08Z","author_association":"CONTRIBUTOR","body":"@leventov thanks, that is where I was headed.  I wasn't so sure about the manual clean but if all of this is on a single thread it makes sense.  We would have to think harder if this activity was across multiple threads.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280534575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280536131","html_url":"https://github.com/apache/druid/pull/3859#issuecomment-280536131","issue_url":"https://api.github.com/repos/apache/druid/issues/3859","id":280536131,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDUzNjEzMQ==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T03:00:47Z","updated_at":"2017-02-17T03:00:47Z","author_association":"CONTRIBUTOR","body":"benefits are:\r\n1. simpler query\r\n2. can be used in rollup and cooperated with doubleSum/Max/Min/etc. \r\n\r\nIn our scenario, we want to do average when rollup(average only when timeAndDims are same), but sum/max/min the averaged column as if the averaged column is the float type GenericColumn. In this case, sum1/count1+sum2/count2+sum3/count3 != (sum1+sum2+sum3)/(count1+count2+count3). \r\nFor max(__avg) and min(__avg), I even can\"t figure out how to write the druid query using postAgg.\r\n\r\nWe are using this in pre-production for now and will go to production when the whole product is finished\r\n@gianm ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280536131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280539451","html_url":"https://github.com/apache/druid/pull/3778#issuecomment-280539451","issue_url":"https://api.github.com/repos/apache/druid/issues/3778","id":280539451,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDUzOTQ1MQ==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T03:24:36Z","updated_at":"2017-02-17T03:24:36Z","author_association":"CONTRIBUTOR","body":"@fjy any more thoughts on this PR?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280539451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280540815","html_url":"https://github.com/apache/druid/pull/3940#issuecomment-280540815","issue_url":"https://api.github.com/repos/apache/druid/issues/3940","id":280540815,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDU0MDgxNQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T03:34:06Z","updated_at":"2017-02-17T03:43:31Z","author_association":"CONTRIBUTOR","body":"@gianm  i get your point, but what i am trying to say is that if we are using hadoop implementations to push the files would it make sense to use hadoop implementations to pull/kill etc ?\r\n \r\n\r\n---\r\n\r\nReview status: 0 of 4 files reviewed at latest revision, 3 unresolved discussions.\r\n\r\n---\r\n\r\n\r\n\r\n*Comments from [Reviewable](https://reviewable.io:443/reviews/druid-io/druid/3940#-:-Kd96OCCbAArMVsaTsQx:b-mkmpmc)*\r\n<!-- Sent from Reviewable.io -->\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280540815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280541895","html_url":"https://github.com/apache/druid/pull/3940#issuecomment-280541895","issue_url":"https://api.github.com/repos/apache/druid/issues/3940","id":280541895,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDU0MTg5NQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T03:42:35Z","updated_at":"2017-02-17T03:44:21Z","author_association":"CONTRIBUTOR","body":"\r\n\r\n\r\nReview status: 0 of 4 files reviewed at latest revision, 4 unresolved discussions.\r\n\r\n---\r\n\r\n*[a discussion](https://reviewable.io:443/reviews/druid-io/druid/3940#-Kd98_aBsdeLx2bIdkod:-Kd98_aBsdeLx2bIdkoe:b-7754pf) (no related file):*\r\n@gianm  let me explain this more. What i am trying to achieve is the following. Ideally any segment that i used hdfs pusher to push it i can use hdfs puller to read it. For instance here i can use hdfs pusher with a file system such as S3a then since the loadspec is hdfs, the only way to read it back is via hdfs puller. So in general what i want to get to is if i use pusher X to push data i can read it what puller X. \r\n\r\n---\r\n\r\n\r\n*Comments from [Reviewable](https://reviewable.io:443/reviews/druid-io/druid/3940)*\r\n<!-- Sent from Reviewable.io -->\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280541895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280543932","html_url":"https://github.com/apache/druid/pull/3019#issuecomment-280543932","issue_url":"https://api.github.com/repos/apache/druid/issues/3019","id":280543932,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDU0MzkzMg==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T03:56:17Z","updated_at":"2017-02-17T03:56:17Z","author_association":"CONTRIBUTOR","body":"@sirpkt can you help with this issue https://groups.google.com/forum/?utm_medium=email&utm_source=footer#!msg/druid-user/wiXVMMmXOgU/fHXn6hR0CQAJ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280543932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280551308","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-280551308","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":280551308,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDU1MTMwOA==","user":{"login":"niketh","id":626548,"node_id":"MDQ6VXNlcjYyNjU0OA==","avatar_url":"https://avatars.githubusercontent.com/u/626548?v=4","gravatar_id":"","url":"https://api.github.com/users/niketh","html_url":"https://github.com/niketh","followers_url":"https://api.github.com/users/niketh/followers","following_url":"https://api.github.com/users/niketh/following{/other_user}","gists_url":"https://api.github.com/users/niketh/gists{/gist_id}","starred_url":"https://api.github.com/users/niketh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketh/subscriptions","organizations_url":"https://api.github.com/users/niketh/orgs","repos_url":"https://api.github.com/users/niketh/repos","events_url":"https://api.github.com/users/niketh/events{/privacy}","received_events_url":"https://api.github.com/users/niketh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T04:47:50Z","updated_at":"2017-02-17T04:47:50Z","author_association":"CONTRIBUTOR","body":"@leerho @leventov IMO I think the cleaned flag isn't a great idea, its better not to have explicit close. Only NM registers cleaner, MR does nothing, NM clean will only get called when there is no one holding on the reference.\r\nHaving a cleaned flag will mean that we have to keep doing assert checks in checkIndex() or equivalent check somewhere else","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280551308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280598898","html_url":"https://github.com/apache/druid/issues/3946#issuecomment-280598898","issue_url":"https://api.github.com/repos/apache/druid/issues/3946","id":280598898,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDU5ODg5OA==","user":{"login":"huangchaosuper","id":6823598,"node_id":"MDQ6VXNlcjY4MjM1OTg=","avatar_url":"https://avatars.githubusercontent.com/u/6823598?v=4","gravatar_id":"","url":"https://api.github.com/users/huangchaosuper","html_url":"https://github.com/huangchaosuper","followers_url":"https://api.github.com/users/huangchaosuper/followers","following_url":"https://api.github.com/users/huangchaosuper/following{/other_user}","gists_url":"https://api.github.com/users/huangchaosuper/gists{/gist_id}","starred_url":"https://api.github.com/users/huangchaosuper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huangchaosuper/subscriptions","organizations_url":"https://api.github.com/users/huangchaosuper/orgs","repos_url":"https://api.github.com/users/huangchaosuper/repos","events_url":"https://api.github.com/users/huangchaosuper/events{/privacy}","received_events_url":"https://api.github.com/users/huangchaosuper/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T09:21:23Z","updated_at":"2017-02-17T09:21:23Z","author_association":"NONE","body":"need upgrade metadata scripts supports?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280598898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280605148","html_url":"https://github.com/apache/druid/pull/3939#issuecomment-280605148","issue_url":"https://api.github.com/repos/apache/druid/issues/3939","id":280605148,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDYwNTE0OA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T09:48:18Z","updated_at":"2017-02-17T09:48:18Z","author_association":"CONTRIBUTOR","body":"@jon-wei, @himanshug thanks for your review. I addressed your comments. \r\n\r\n@himanshug, yes this PR covers the case 1 as well. I updated the pr description.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280605148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280654845","html_url":"https://github.com/apache/druid/issues/3947#issuecomment-280654845","issue_url":"https://api.github.com/repos/apache/druid/issues/3947","id":280654845,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDY1NDg0NQ==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T13:52:43Z","updated_at":"2017-02-17T13:52:43Z","author_association":"CONTRIBUTOR","body":"https://github.com/druid-io/druid/pull/3850 and https://github.com/druid-io/druid/pull/3766 are what you need","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280654845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280655136","html_url":"https://github.com/apache/druid/issues/3947#issuecomment-280655136","issue_url":"https://api.github.com/repos/apache/druid/issues/3947","id":280655136,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDY1NTEzNg==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T13:53:55Z","updated_at":"2017-02-17T13:53:55Z","author_association":"CONTRIBUTOR","body":"for granularity in query, you can use PeriodGranularity or DurationGranularity","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280655136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280675996","html_url":"https://github.com/apache/druid/pull/3949#issuecomment-280675996","issue_url":"https://api.github.com/repos/apache/druid/issues/3949","id":280675996,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDY3NTk5Ng==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T15:13:04Z","updated_at":"2017-02-17T15:13:04Z","author_association":"MEMBER","body":"@kaijianding : thanks for the fix, can you please also add a unit test to cover this case. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280675996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280685516","html_url":"https://github.com/apache/druid/pull/3950#issuecomment-280685516","issue_url":"https://api.github.com/repos/apache/druid/issues/3950","id":280685516,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDY4NTUxNg==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T15:47:23Z","updated_at":"2017-02-17T15:47:23Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280685516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280689267","html_url":"https://github.com/apache/druid/pull/3949#issuecomment-280689267","issue_url":"https://api.github.com/repos/apache/druid/issues/3949","id":280689267,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDY4OTI2Nw==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T16:00:31Z","updated_at":"2017-02-17T16:00:31Z","author_association":"CONTRIBUTOR","body":"ut added, @nishantmonu51 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280689267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280701187","html_url":"https://github.com/apache/druid/pull/3940#issuecomment-280701187","issue_url":"https://api.github.com/repos/apache/druid/issues/3940","id":280701187,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDcwMTE4Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T16:42:12Z","updated_at":"2017-02-17T16:42:12Z","author_association":"CONTRIBUTOR","body":"> What i am trying to achieve is the following. Ideally any segment that i used hdfs pusher to push it i can use hdfs puller to read it. For instance here i can use hdfs pusher with a file system such as S3a then since the loadspec is hdfs, the only way to read it back is via hdfs puller. So in general what i want to get to is if i use pusher X to push data i can read it what puller X.\r\n\r\nYour argument is reasonable, but I think the reason we are disagreeing is that in a Hadoop-based indexing job you're not actually using the hdfs pusher. It doesn't use the pushers at all, it has its own hard coded pushing code that is based purely on the scheme.\r\n\r\nPut another way, a user could configure S3 deep storage in two ways:\r\n\r\n```\r\ndruid.storage.type=hdfs\r\ndruid.storage.storageDirectory=s3n://foo/bar\r\n```\r\n\r\n```\r\ndruid.storage.type=s3\r\ndruid.storage.bucket=foo\r\ndruid.storage.baseKey=bar\r\n```\r\n\r\nIn non-Hadoop based indexing jobs, where the pushers actually do get used, the former gets loadSpec \"hdfs\" and the latter gets \"s3_zip\" even though the segments end up in the same place. In Hadoop-based indexing jobs the loadSpec for both will be \"s3_zip\" since it only looks at the scheme.\r\n\r\nIt seems to me that it would be best for the user to have similar control over the loadSpec in Hadoop-based jobs, rather than forcing one choice or another. Does that sound right to you and would you be open to working on that?\r\n\r\nFor my part, as long as the user has no choice in loadSpec used for S3 storages in Hadoop-based jobs, I think they should stay what they currently are, which is \"s3_zip\", for all S3 schemes (s3, s3n, s3a).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280701187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280712964","html_url":"https://github.com/apache/druid/issues/3946#issuecomment-280712964","issue_url":"https://api.github.com/repos/apache/druid/issues/3946","id":280712964,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDcxMjk2NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T17:25:22Z","updated_at":"2017-02-17T17:25:22Z","author_association":"CONTRIBUTOR","body":"@huangchaosuper, what code is triggering this error and how much of your cluster is running 0.9.2? We do have code that creates the druid_supervisors table when an overlord starts up -- so after overlords are upgraded, you should be ok.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280712964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280714292","html_url":"https://github.com/apache/druid/issues/3948#issuecomment-280714292","issue_url":"https://api.github.com/repos/apache/druid/issues/3948","id":280714292,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDcxNDI5Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T17:30:33Z","updated_at":"2017-02-17T17:30:33Z","author_association":"CONTRIBUTOR","body":"Are you talking about the kind of sub aggregations described here? https://www.elastic.co/blog/intro-to-aggregations-pt-2-sub-aggregations\r\n\r\nSome of those could be done with multi-dimension groupBy queries, some of them would probably require you to make multiple Druid queries (like one topN for the first level and then multiple subsequent topNs for the second level).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280714292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280729441","html_url":"https://github.com/apache/druid/pull/3940#issuecomment-280729441","issue_url":"https://api.github.com/repos/apache/druid/issues/3940","id":280729441,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDcyOTQ0MQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T18:31:16Z","updated_at":"2017-02-17T18:31:23Z","author_association":"CONTRIBUTOR","body":"@gianm agree about \r\n\r\n> It seems to me that it would be best for the user to have similar control over the loadSpec in Hadoop-based jobs, rather than forcing one choice or another. Does that sound right to you and would you be open to working on that?\r\n\r\nOk seems like to make this working we need to let the user select the pusher/puller. Hence if S3 module is loaded the loadspec will be `s3_zip` and if hdfs storage module is loaded it will be `hdfs` load spec. Do you agree with this approach ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280729441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280737371","html_url":"https://github.com/apache/druid/pull/3950#issuecomment-280737371","issue_url":"https://api.github.com/repos/apache/druid/issues/3950","id":280737371,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDczNzM3MQ==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T19:02:46Z","updated_at":"2017-02-17T19:02:46Z","author_association":"MEMBER","body":"@jihoonson: left a minor comment about log message, LGTM otherwise. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280737371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280742485","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-280742485","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":280742485,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc0MjQ4NQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T19:23:21Z","updated_at":"2017-02-17T19:23:21Z","author_association":"MEMBER","body":"@niketh \r\n\r\n> Having a cleaned flag will mean that we have to keep doing assert checks in checkIndex() or equivalent check somewhere else\r\n\r\nYes. What's the problem with that? From performance perspective, it's free, JIT will remove that code entirely.\r\n\r\n> better not to have explicit close.\r\n\r\nNobody obligates you to use explicit `close()`, but sometimes it is handy and obviously safe:\r\n```java\r\ntry (Memory mem = Memory.map(file)) {\r\n  read something from file...\r\n}\r\n```\r\n\r\nBecause `ByteBuffer` doesn't implement `AutoCloseable`, we had to create a wrapper: [`MappedByteBufferHandler`](https://github.com/druid-io/druid/blob/657e4512d2a6499a9d0609b2cc32d134e9507e3a/java-util/src/main/java/io/druid/java/util/common/MappedByteBufferHandler.java). Let's not repeat this mistake with `Memory`.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280742485/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280743505","html_url":"https://github.com/apache/druid/pull/3940#issuecomment-280743505","issue_url":"https://api.github.com/repos/apache/druid/issues/3940","id":280743505,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc0MzUwNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T19:27:13Z","updated_at":"2017-02-17T19:27:13Z","author_association":"CONTRIBUTOR","body":"Yeah that seems like a good approach. Although rather than based on loaded modules I would do it based on which deep storage is configured as the main one -- since I think it's possible to load two deep storage modules at once.\r\n\r\nTo do that I think we need to resolve this todo in JobHelper:\r\n\r\n```\r\n    // TODO: Make this a part of Pushers or Pullers\r\n    switch (outputFS.getScheme()) {\r\n      case \"hdfs\":\r\n      case \"viewfs\":\r\n      case \"maprfs\":\r\n        loadSpec = ImmutableMap.<String, Object>of(\r\n            \"type\", \"hdfs\",\r\n            \"path\", indexOutURI.toString()\r\n        );\r\n        break;\r\n      case \"gs\":\r\n        loadSpec = ImmutableMap.<String, Object>of(\r\n            \"type\", \"google\",\r\n            \"bucket\", indexOutURI.getHost(),\r\n            \"path\", indexOutURI.getPath().substring(1) // remove the leading \"/\"\r\n        );\r\n        break;\r\n      case \"s3\":\r\n      case \"s3n\":\r\n        loadSpec = ImmutableMap.<String, Object>of(\r\n            \"type\", \"s3_zip\",\r\n            \"bucket\", indexOutURI.getHost(),\r\n            \"key\", indexOutURI.getPath().substring(1) // remove the leading \"/\"\r\n        );\r\n        break;\r\n      case \"file\":\r\n        loadSpec = ImmutableMap.<String, Object>of(\r\n            \"type\", \"local\",\r\n            \"path\", indexOutURI.getPath()\r\n        );\r\n        break;\r\n      default:\r\n        throw new IAE(\"Unknown file system scheme [%s]\", outputFS.getScheme());\r\n    }\r\n```\r\n\r\nInstead of the big switch statement that should probably call a method like `makeLoadSpec` on the DataSegmentPusher for whatever deep storage is primary.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280743505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280743775","html_url":"https://github.com/apache/druid/pull/3940#issuecomment-280743775","issue_url":"https://api.github.com/repos/apache/druid/issues/3940","id":280743775,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc0Mzc3NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T19:28:16Z","updated_at":"2017-02-17T19:28:16Z","author_association":"CONTRIBUTOR","body":"That would mean using \"hdfs\" deep storage to write to s3 would let the HdfsDataSegmentPusher make an \"hdfs\" load spec, and using the \"s3\" deep storage to write to s3 would let the S3DataSegmentPusher make a \"s3_zip\" load spec.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280743775/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280769573","html_url":"https://github.com/apache/druid/issues/3645#issuecomment-280769573","issue_url":"https://api.github.com/repos/apache/druid/issues/3645","id":280769573,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc2OTU3Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T21:20:41Z","updated_at":"2017-02-17T21:20:41Z","author_association":"CONTRIBUTOR","body":"Bumping this to 0.10.1, along with the pr for linking expressions into the docs.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280769573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280769623","html_url":"https://github.com/apache/druid/issues/3634#issuecomment-280769623","issue_url":"https://api.github.com/repos/apache/druid/issues/3634","id":280769623,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc2OTYyMw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T21:20:52Z","updated_at":"2017-02-17T21:20:52Z","author_association":"CONTRIBUTOR","body":"Bumping to 0.10.1","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280769623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280776367","html_url":"https://github.com/apache/druid/issues/3952#issuecomment-280776367","issue_url":"https://api.github.com/repos/apache/druid/issues/3952","id":280776367,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc3NjM2Nw==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T21:51:15Z","updated_at":"2017-02-17T21:51:15Z","author_association":"CONTRIBUTOR","body":"@gallamine after looking at the posix specification it clearly states that is the number of second from the epoch, hence this number by construction is not fractional. Looking into the druid code i found out that the input will be read as a string which cause the exception. Now i am not sure that rounding of the fraction is a good idea if i were to fix that. i know that you can argue that there is no need to round the number since we are doing the X 1000 later on,  but doing a major change to move from long to double is not that easy. IMO the best maybe is to add another format or/and spec that can deal with such cases.  ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280776367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280776984","html_url":"https://github.com/apache/druid/issues/3952#issuecomment-280776984","issue_url":"https://api.github.com/repos/apache/druid/issues/3952","id":280776984,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc3Njk4NA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T21:54:00Z","updated_at":"2017-02-17T21:54:00Z","author_association":"CONTRIBUTOR","body":"@gallamine also was wondering how hard is it to convert that into `millis` and let druid parse it that way ? would that be very expensive ? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280776984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280780611","html_url":"https://github.com/apache/druid/pull/3855#issuecomment-280780611","issue_url":"https://api.github.com/repos/apache/druid/issues/3855","id":280780611,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc4MDYxMQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T22:11:00Z","updated_at":"2017-02-17T22:11:00Z","author_association":"CONTRIBUTOR","body":"@drcrallen replied to all comments","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280780611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280787009","html_url":"https://github.com/apache/druid/issues/3952#issuecomment-280787009","issue_url":"https://api.github.com/repos/apache/druid/issues/3952","id":280787009,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc4NzAwOQ==","user":{"login":"gallamine","id":777088,"node_id":"MDQ6VXNlcjc3NzA4OA==","avatar_url":"https://avatars.githubusercontent.com/u/777088?v=4","gravatar_id":"","url":"https://api.github.com/users/gallamine","html_url":"https://github.com/gallamine","followers_url":"https://api.github.com/users/gallamine/followers","following_url":"https://api.github.com/users/gallamine/following{/other_user}","gists_url":"https://api.github.com/users/gallamine/gists{/gist_id}","starred_url":"https://api.github.com/users/gallamine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gallamine/subscriptions","organizations_url":"https://api.github.com/users/gallamine/orgs","repos_url":"https://api.github.com/users/gallamine/repos","events_url":"https://api.github.com/users/gallamine/events{/privacy}","received_events_url":"https://api.github.com/users/gallamine/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T22:44:05Z","updated_at":"2017-02-17T22:44:05Z","author_association":"NONE","body":"Changing the value before it arrives in the log is expensive as it requires major system changes.  My understanding is that this is the standard time representation for NGINX (the `msec` variable), so it's possibly worth supporting by Druid in the future.\r\n\r\nFor the time being, I'll investigate writing a custom parser to deal with it.\r\nThanks for the help!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280787009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280790606","html_url":"https://github.com/apache/druid/issues/3952#issuecomment-280790606","issue_url":"https://api.github.com/repos/apache/druid/issues/3952","id":280790606,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDc5MDYwNg==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-17T23:03:49Z","updated_at":"2017-02-17T23:03:49Z","author_association":"CONTRIBUTOR","body":"@gallamine thanks ! let me know if you need help.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280790606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280803900","html_url":"https://github.com/apache/druid/pull/3951#issuecomment-280803900","issue_url":"https://api.github.com/repos/apache/druid/issues/3951","id":280803900,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDgwMzkwMA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-18T00:32:54Z","updated_at":"2017-02-18T00:32:54Z","author_association":"MEMBER","body":"@cheddar addressed comments","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280803900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280805499","html_url":"https://github.com/apache/druid/pull/3951#issuecomment-280805499","issue_url":"https://api.github.com/repos/apache/druid/issues/3951","id":280805499,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDgwNTQ5OQ==","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-18T00:46:01Z","updated_at":"2017-02-18T00:46:01Z","author_association":"CONTRIBUTOR","body":"@leventov I would prefer that you revert the `indexOf` stuff to the way it was before given that it doesn't seem like the move is adding anything except some risk (which I agree is minimal, but it's adding risk for no real gain as far as I can tell).  If you really feel strongly about the change, I'd like to understand what the positive benefit of it is and could be convinced to just approve.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280805499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280810171","html_url":"https://github.com/apache/druid/pull/3950#issuecomment-280810171","issue_url":"https://api.github.com/repos/apache/druid/issues/3950","id":280810171,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDgxMDE3MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-18T01:30:42Z","updated_at":"2017-02-18T01:30:42Z","author_association":"CONTRIBUTOR","body":"@nishantmonu51 and @gianm thanks for your review. I addressed comments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280810171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280812079","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-280812079","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":280812079,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDgxMjA3OQ==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-18T01:52:16Z","updated_at":"2017-02-18T02:47:35Z","author_association":"CONTRIBUTOR","body":"@leventov \r\n\r\nI have implemented a skeleton with two different schemas:\r\n\r\n**Notes:**\r\n\r\n- The `AllocateMap` has not been incorporated yet, \r\n- Lots of methods missing\r\n- Both RO Regions and W Regions are done.\r\n- Very primitive tests\r\n- If you look at the code, it is currently configured as Version A, using `WritableMemory2`.  With minor changes I can convert it to Version B using `WritableMemory`.\r\n\r\n**Version A:**\r\n\r\n- public `Memory` (read only) is abstract, with no class vars\r\n- public `WritableMemory` is concrete, but NO duplication of code is required\r\n\r\n\r\n```\r\nVersion A\r\n  public abstract class Memory (no class vars)\r\n    - public static RO methods: wrapping arrays, ByteBuffers, Maps\r\n    - public abstract RO methods: get<primitive>, get<primitive>Array. region\r\n\r\n      class MemoryImpl extends Memory\r\n        - Concrete RO impls of Memory\r\n\r\n      public class WritableMemory extends MemoryImpl \r\n        - public static W methods: wrapping arrays, ByteBuffer, Map, Direct alloc, autoByteArray\r\n        - public W methods: put<primitive>, put<primitive>Array, getMemoryRequest(), freeMemory()\r\n\r\n          class AllocateDirect extends WritableMemory implements AutoClosable\r\n            - Allocates direct memory, uses Cleaner\r\n\r\n          class AllocateMap extends WritableMemory implements AutoClosable\r\n            - Allocates direct memory, uses Cleaner (for Map)\r\n```\r\n\r\n**Version B:**\r\n\r\n- public `Memory` is abstract with no class vars\r\n- public `WritableMemory` is abstract with no class vars,\r\n    However, the `WritableMemoryImpl` concrete class requires duplication of all the `MemoryImpl` code\r\n\r\n\r\n```\r\nVersion B\r\n  public abstract class Memory (no class vars)\r\n    - static RO methods: wrapping arrays, ByteBuffers, Maps\r\n    - abstract RO methods: get<primitive>, get<primitive>Array. region\r\n\r\n      class MemoryImpl extends Memory ()\r\n        - Concrete RO impls of Memory\r\n\r\n      public abstract class WritableMemory extends Memory (no class vars)\r\n        - static W methods: wrapping arrays, ByteBuffers, Maps, Direct alloc, autoByteArrays\r\n        - abstract W methods: put<primitive>, put<primitive>Array, getMemoryRequest(), freeMemory()\r\n\r\n        class WritableMemoryImpl extends WritableMemory\r\n          - Concrete RO impls of Memory (DUPLICATE CODE)\r\n          - Concrete W impls of WritableMemory\r\n\r\n          class AllocateDirect extends WritableMemoryImpl implements AutoClosable\r\n            - Allocates direct memory, uses Cleaner\r\n            \r\n          class AllocateMap extends WritableMemoryImpl implements AutoClosable\r\n            - Allocates direct memory, uses Cleaner (for Map)\r\n```\r\n\r\nI understand you wanted no state at the top of the hierarchy, but it is still not clear to me why.\r\nany instantiation will have state. \r\n\r\nI prefer Version A, because no code duplication is required and fewer classes. If we allowed class vars at the root we could eliminate another class.\r\n\r\nComments?\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280812079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280814671","html_url":"https://github.com/apache/druid/issues/3948#issuecomment-280814671","issue_url":"https://api.github.com/repos/apache/druid/issues/3948","id":280814671,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDgxNDY3MQ==","user":{"login":"zhxiaom5","id":10976459,"node_id":"MDQ6VXNlcjEwOTc2NDU5","avatar_url":"https://avatars.githubusercontent.com/u/10976459?v=4","gravatar_id":"","url":"https://api.github.com/users/zhxiaom5","html_url":"https://github.com/zhxiaom5","followers_url":"https://api.github.com/users/zhxiaom5/followers","following_url":"https://api.github.com/users/zhxiaom5/following{/other_user}","gists_url":"https://api.github.com/users/zhxiaom5/gists{/gist_id}","starred_url":"https://api.github.com/users/zhxiaom5/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhxiaom5/subscriptions","organizations_url":"https://api.github.com/users/zhxiaom5/orgs","repos_url":"https://api.github.com/users/zhxiaom5/repos","events_url":"https://api.github.com/users/zhxiaom5/events{/privacy}","received_events_url":"https://api.github.com/users/zhxiaom5/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-18T02:26:17Z","updated_at":"2017-02-18T02:26:17Z","author_association":"NONE","body":"yes,thanks for you answer","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280814671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280814803","html_url":"https://github.com/apache/druid/issues/3947#issuecomment-280814803","issue_url":"https://api.github.com/repos/apache/druid/issues/3947","id":280814803,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDgxNDgwMw==","user":{"login":"zhxiaom5","id":10976459,"node_id":"MDQ6VXNlcjEwOTc2NDU5","avatar_url":"https://avatars.githubusercontent.com/u/10976459?v=4","gravatar_id":"","url":"https://api.github.com/users/zhxiaom5","html_url":"https://github.com/zhxiaom5","followers_url":"https://api.github.com/users/zhxiaom5/followers","following_url":"https://api.github.com/users/zhxiaom5/following{/other_user}","gists_url":"https://api.github.com/users/zhxiaom5/gists{/gist_id}","starred_url":"https://api.github.com/users/zhxiaom5/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhxiaom5/subscriptions","organizations_url":"https://api.github.com/users/zhxiaom5/orgs","repos_url":"https://api.github.com/users/zhxiaom5/repos","events_url":"https://api.github.com/users/zhxiaom5/events{/privacy}","received_events_url":"https://api.github.com/users/zhxiaom5/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-18T02:28:09Z","updated_at":"2017-02-18T02:28:09Z","author_association":"NONE","body":"thanks,i will try it ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280814803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280921206","html_url":"https://github.com/apache/druid/pull/3860#issuecomment-280921206","issue_url":"https://api.github.com/repos/apache/druid/issues/3860","id":280921206,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDkyMTIwNg==","user":{"login":"dkhwangbo","id":13585249,"node_id":"MDQ6VXNlcjEzNTg1MjQ5","avatar_url":"https://avatars.githubusercontent.com/u/13585249?v=4","gravatar_id":"","url":"https://api.github.com/users/dkhwangbo","html_url":"https://github.com/dkhwangbo","followers_url":"https://api.github.com/users/dkhwangbo/followers","following_url":"https://api.github.com/users/dkhwangbo/following{/other_user}","gists_url":"https://api.github.com/users/dkhwangbo/gists{/gist_id}","starred_url":"https://api.github.com/users/dkhwangbo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkhwangbo/subscriptions","organizations_url":"https://api.github.com/users/dkhwangbo/orgs","repos_url":"https://api.github.com/users/dkhwangbo/repos","events_url":"https://api.github.com/users/dkhwangbo/events{/privacy}","received_events_url":"https://api.github.com/users/dkhwangbo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-19T14:05:26Z","updated_at":"2017-02-19T14:05:26Z","author_association":"CONTRIBUTOR","body":"@pjain1 Hi. I adopt `MemoryBoundLinkedBlockingQueue`. Please review it. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280921206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280947972","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-280947972","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":280947972,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDk0Nzk3Mg==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-19T20:52:09Z","updated_at":"2017-02-19T20:52:09Z","author_association":"CONTRIBUTOR","body":"@leventov \r\n\r\nI have added the `AtomicBoolean` into the `Dealocator` for `Cleaner` and added the asserts for the current get/put methods for the Version A.  Also added some tests where the Parent is freed, and the child region detects that the region is no longer valid via assert. Seems to work.  \r\n\r\nI think I will move to a Version C, similar to what you suggested earlier, with only one writable implementation, and use asserts to detect writable and JDK7 vs 8, etc.  Maintaining this R/W separation is a PITA.\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280947972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280991760","html_url":"https://github.com/apache/druid/pull/3850#issuecomment-280991760","issue_url":"https://api.github.com/repos/apache/druid/issues/3850","id":280991760,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDk5MTc2MA==","user":{"login":"praveev","id":297278,"node_id":"MDQ6VXNlcjI5NzI3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297278?v=4","gravatar_id":"","url":"https://api.github.com/users/praveev","html_url":"https://github.com/praveev","followers_url":"https://api.github.com/users/praveev/followers","following_url":"https://api.github.com/users/praveev/following{/other_user}","gists_url":"https://api.github.com/users/praveev/gists{/gist_id}","starred_url":"https://api.github.com/users/praveev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praveev/subscriptions","organizations_url":"https://api.github.com/users/praveev/orgs","repos_url":"https://api.github.com/users/praveev/repos","events_url":"https://api.github.com/users/praveev/events{/privacy}","received_events_url":"https://api.github.com/users/praveev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-20T05:31:28Z","updated_at":"2017-02-20T05:31:28Z","author_association":"CONTRIBUTOR","body":"@leventov can you please take a look again? otherwise I'd have to keep resolving conflicts.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280991760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280992858","html_url":"https://github.com/apache/druid/pull/3850#issuecomment-280992858","issue_url":"https://api.github.com/repos/apache/druid/issues/3850","id":280992858,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDk5Mjg1OA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-20T05:41:41Z","updated_at":"2017-02-20T05:41:41Z","author_association":"MEMBER","body":"@praveev I will look on Monday","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280992858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/280993198","html_url":"https://github.com/apache/druid/issues/3946#issuecomment-280993198","issue_url":"https://api.github.com/repos/apache/druid/issues/3946","id":280993198,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDk5MzE5OA==","user":{"login":"huangchaosuper","id":6823598,"node_id":"MDQ6VXNlcjY4MjM1OTg=","avatar_url":"https://avatars.githubusercontent.com/u/6823598?v=4","gravatar_id":"","url":"https://api.github.com/users/huangchaosuper","html_url":"https://github.com/huangchaosuper","followers_url":"https://api.github.com/users/huangchaosuper/followers","following_url":"https://api.github.com/users/huangchaosuper/following{/other_user}","gists_url":"https://api.github.com/users/huangchaosuper/gists{/gist_id}","starred_url":"https://api.github.com/users/huangchaosuper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huangchaosuper/subscriptions","organizations_url":"https://api.github.com/users/huangchaosuper/orgs","repos_url":"https://api.github.com/users/huangchaosuper/repos","events_url":"https://api.github.com/users/huangchaosuper/events{/privacy}","received_events_url":"https://api.github.com/users/huangchaosuper/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-20T05:44:42Z","updated_at":"2017-02-20T05:46:01Z","author_association":"NONE","body":"the error shown when I upgrade overlord. so I am not sure how to fix my issue.\r\nmy cluster is small, but in production. only one instance of each type service. only one overlord server.\r\n\r\nbelow is the full log . could you please help me ?\r\n`\r\n2017-02-17T09:01:04,542 WARN [main] io.druid.metadata.SQLMetadataConnector - Exception creating table\r\norg.skife.jdbi.v2.exceptions.CallbackFailedException: com.metamx.common.ISE: Database default character set is not UTF-8.\r\n  Druid requires its MySQL database to be created using UTF-8 as default character set.\r\n        at org.skife.jdbi.v2.DBI.withHandle(DBI.java:284) ~[jdbi-2.63.1.jar:2.63.1]\r\n        at io.druid.metadata.SQLMetadataConnector$2.call(SQLMetadataConnector.java:124) ~[druid-server-0.9.2.jar:0.9.2]\r\n        at com.metamx.common.RetryUtils.retry(RetryUtils.java:60) ~[java-util-0.27.10.jar:?]\r\n        at com.metamx.common.RetryUtils.retry(RetryUtils.java:78) ~[java-util-0.27.10.jar:?]\r\n        at io.druid.metadata.SQLMetadataConnector.retryWithHandle(SQLMetadataConnector.java:128) ~[druid-server-0.9.2.jar:0.9.2]\r\n        at io.druid.metadata.SQLMetadataConnector.retryWithHandle(SQLMetadataConnector.java:137) ~[druid-server-0.9.2.jar:0.9.2]\r\n        at io.druid.metadata.SQLMetadataConnector.createTable(SQLMetadataConnector.java:177) [druid-server-0.9.2.jar:0.9.2]\r\n        at io.druid.metadata.SQLMetadataConnector.createConfigTable(SQLMetadataConnector.java:295) [druid-server-0.9.2.jar:0.9.2]\r\n        at io.druid.metadata.SQLMetadataConnector.createConfigTable(SQLMetadataConnector.java:476) [druid-server-0.9.2.jar:0.9.2]\r\n        at io.druid.guice.JacksonConfigManagerModule$1.start(JacksonConfigManagerModule.java:58) [druid-common-0.9.2.jar:0.9.2]\r\n        at com.metamx.common.lifecycle.Lifecycle.start(Lifecycle.java:259) [java-util-0.27.10.jar:?]\r\n        at io.druid.guice.LifecycleModule$2.start(LifecycleModule.java:155) [druid-api-0.9.2.jar:0.9.2]\r\n        at io.druid.cli.GuiceRunnable.initLifecycle(GuiceRunnable.java:101) [druid-services-0.9.2.jar:0.9.2]\r\n        at io.druid.cli.ServerRunnable.run(ServerRunnable.java:40) [druid-services-0.9.2.jar:0.9.2]\r\n        at io.druid.cli.Main.main(Main.java:106) [druid-services-0.9.2.jar:0.9.2]\r\nCaused by: com.metamx.common.ISE: Database default character set is not UTF-8.\r\n  Druid requires its MySQL database to be created using UTF-8 as default character set.\r\n        at io.druid.metadata.storage.mysql.MySQLConnector.tableExists(MySQLConnector.java:97) ~[?:?]\r\n        at io.druid.metadata.SQLMetadataConnector$4.withHandle(SQLMetadataConnector.java:183) ~[druid-server-0.9.2.jar:0.9.2]\r\n        at io.druid.metadata.SQLMetadataConnector$4.withHandle(SQLMetadataConnector.java:179) ~[druid-server-0.9.2.jar:0.9.2]\r\n        at org.skife.jdbi.v2.DBI.withHandle(DBI.java:281) ~[jdbi-2.63.1.jar:2.63.1]\r\n        ... 14 more\r\n2017-02-17T09:01:04,547 INFO [main] com.metamx.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking start method[public void io.druid.common.config.ConfigManager.start()] on object[io.druid.common.config.ConfigManager@b52b755].\r\n`\r\n\r\n`2017-02-17T09:01:20,933 ERROR [Curator-LeaderSelector-0] io.druid.indexing.overlord.TaskMaster - Failed to lead: {class=io.druid.indexing.overlord.TaskMaster, exceptionType=class java.lang.reflect.InvocationTargetException, exceptionMessage=null}\r\njava.lang.reflect.InvocationTargetException\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_121]\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_121]\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_121]\r\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_121]\r\n        at com.metamx.common.lifecycle.Lifecycle$AnnotationBasedHandler.start(Lifecycle.java:350) ~[java-util-0.27.10.jar:?]\r\n        at com.metamx.common.lifecycle.Lifecycle.start(Lifecycle.java:259) ~[java-util-0.27.10.jar:?]\r\n        at io.druid.indexing.overlord.TaskMaster$1.takeLeadership(TaskMaster.java:141) [druid-indexing-service-0.9.2.jar:0.9.2]\r\n        at org.apache.curator.framework.recipes.leader.LeaderSelector$WrappedListener.takeLeadership(LeaderSelector.java:534) [curator-recipes-2.11.0.jar:?]\r\n        at org.apache.curator.framework.recipes.leader.LeaderSelector.doWork(LeaderSelector.java:399) [curator-recipes-2.11.0.jar:?]\r\n        at org.apache.curator.framework.recipes.leader.LeaderSelector.doWorkLoop(LeaderSelector.java:441) [curator-recipes-2.11.0.jar:?]\r\n        at org.apache.curator.framework.recipes.leader.LeaderSelector.access$100(LeaderSelector.java:64) [curator-recipes-2.11.0.jar:?]\r\n        at org.apache.curator.framework.recipes.leader.LeaderSelector$2.call(LeaderSelector.java:245) [curator-recipes-2.11.0.jar:?]\r\n        at org.apache.curator.framework.recipes.leader.LeaderSelector$2.call(LeaderSelector.java:239) [curator-recipes-2.11.0.jar:?]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_121]\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_121]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_121]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_121]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_121]\r\n        at java.lang.Thread.run(Thread.java:745) [?:1.8.0_121]\r\nCaused by: org.skife.jdbi.v2.exceptions.CallbackFailedException: org.skife.jdbi.v2.exceptions.UnableToExecuteStatementException: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'druid_meta.druid_supervisors' doesn't exist [statement:\"SELECT r.spec_id, r.payload FROM druid_supervisors r INNER JOIN(SELECT spec_id, max(id) as id FROM druid_supervisors GROUP BY spec_id) latest ON r.id = latest.id\", located:\"SELECT r.spec_id, r.payload FROM druid_supervisors r INNER JOIN(SELECT spec_id, max(id) as id FROM druid_supervisors GROUP BY spec_id) latest ON r.id = latest.id\", rewritten:\"SELECT r.spec_id, r.payload FROM druid_supervisors r INNER JOIN(SELECT spec_id, max(id) as id FROM druid_supervisors GROUP BY spec_id) latest ON r.id = latest.id\", arguments:{ positional:{}, named:{}, finder:[]}]\r\n        at org.skife.jdbi.v2.DBI.withHandle(DBI.java:284) ~[jdbi-2.63.1.jar:2.63.1]\r\n        at io.druid.metadata.SQLMetadataSupervisorManager.getLatest(SQLMetadataSupervisorManager.java:180) ~[druid-server-0.9.2.jar:0.9.2]\r\n        at io.druid.indexing.overlord.supervisor.SupervisorManager.start(SupervisorManager.java:98) ~[druid-indexing-service-0.9.2.jar:0.9.2]\r\n        ... 19 more\r\nCaused by: org.skife.jdbi.v2.exceptions.UnableToExecuteStatementException: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'druid_meta.druid_supervisors' doesn't exist [statement:\"SELECT r.spec_id, r.payload FROM druid_supervisors r INNER JOIN(SELECT spec_id, max(id) as id FROM druid_supervisors GROUP BY spec_id) latest ON r.id = latest.id\", located:\"SELECT r.spec_id, r.payload FROM druid_supervisors r INNER JOIN(SELECT spec_id, max(id) as id FROM druid_supervisors GROUP BY spec_id) latest ON r.id = latest.id\", rewritten:\"SELECT r.spec_id, r.payload FROM druid_supervisors r INNER JOIN(SELECT spec_id, max(id) as id FROM druid_supervisors GROUP BY spec_id) latest ON r.id = latest.id\", arguments:{ positional:{}, named:{}, finder:[]}]\r\n        at org.skife.jdbi.v2.SQLStatement.internalExecute(SQLStatement.java:1334) ~[jdbi-2.63.1.jar:2.63.1]\r\n        at org.skife.jdbi.v2.Query.fold(Query.java:173) ~[jdbi-2.63.1.jar:2.63.1]\r\n        at io.druid.metadata.SQLMetadataSupervisorManager$3.withHandle(SQLMetadataSupervisorManager.java:216) ~[druid-server-0.9.2.jar:0.9.2]\r\n        at io.druid.metadata.SQLMetadataSupervisorManager$3.withHandle(SQLMetadataSupervisorManager.java:182) ~[druid-server-0.9.2.jar:0.9.2]\r\n        at org.skife.jdbi.v2.DBI.withHandle(DBI.java:281) ~[jdbi-2.63.1.jar:2.63.1]\r\n        at io.druid.metadata.SQLMetadataSupervisorManager.getLatest(SQLMetadataSupervisorManager.java:180) ~[druid-server-0.9.2.jar:0.9.2]\r\n        at io.druid.indexing.overlord.supervisor.SupervisorManager.start(SupervisorManager.java:98) ~[druid-indexing-service-0.9.2.jar:0.9.2]\r\n        ... 19 more\r\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'druid_meta.druid_supervisors' doesn't exist\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:1.8.0_121]\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:1.8.0_121]\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:1.8.0_121]\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[?:1.8.0_121]\r\n        at com.mysql.jdbc.Util.handleNewInstance(Util.java:404) ~[?:?]\r\n        at com.mysql.jdbc.Util.getInstance(Util.java:387) ~[?:?]\r\n        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:939) ~[?:?]\r\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3878) ~[?:?]\r\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3814) ~[?:?]\r\n        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2478) ~[?:?]\r\n        at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2625) ~[?:?]\r\n        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2551) ~[?:?]\r\n        at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1861) ~[?:?]\r\n        at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1192) ~[?:?]\r\n        at org.apache.commons.dbcp2.DelegatingPreparedStatement.execute(DelegatingPreparedStatement.java:198) ~[commons-dbcp2-2.0.1.jar:2.0.1]\r\n        at org.apache.commons.dbcp2.DelegatingPreparedStatement.execute(DelegatingPreparedStatement.java:198) ~[commons-dbcp2-2.0.1.jar:2.0.1]\r\n        at org.skife.jdbi.v2.SQLStatement.internalExecute(SQLStatement.java:1328) ~[jdbi-2.63.1.jar:2.63.1]\r\n        at org.skife.jdbi.v2.Query.fold(Query.java:173) ~[jdbi-2.63.1.jar:2.63.1]\r\n        at io.druid.metadata.SQLMetadataSupervisorManager$3.withHandle(SQLMetadataSupervisorManager.java:216) ~[druid-server-0.9.2.jar:0.9.2]\r\n        at io.druid.metadata.SQLMetadataSupervisorManager$3.withHandle(SQLMetadataSupervisorManager.java:182) ~[druid-server-0.9.2.jar:0.9.2]\r\n        at org.skife.jdbi.v2.DBI.withHandle(DBI.java:281) ~[jdbi-2.63.1.jar:2.63.1]\r\n        at io.druid.metadata.SQLMetadataSupervisorManager.getLatest(SQLMetadataSupervisorManager.java:180) ~[druid-server-0.9.2.jar:0.9.2]\r\n        at io.druid.indexing.overlord.supervisor.SupervisorManager.start(SupervisorManager.java:98) ~[druid-indexing-service-0.9.2.jar:0.9.2]\r\n        ... 19 more\r\n`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/280993198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281019337","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-281019337","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":281019337,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTAxOTMzNw==","user":{"login":"niketh","id":626548,"node_id":"MDQ6VXNlcjYyNjU0OA==","avatar_url":"https://avatars.githubusercontent.com/u/626548?v=4","gravatar_id":"","url":"https://api.github.com/users/niketh","html_url":"https://github.com/niketh","followers_url":"https://api.github.com/users/niketh/followers","following_url":"https://api.github.com/users/niketh/following{/other_user}","gists_url":"https://api.github.com/users/niketh/gists{/gist_id}","starred_url":"https://api.github.com/users/niketh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketh/subscriptions","organizations_url":"https://api.github.com/users/niketh/orgs","repos_url":"https://api.github.com/users/niketh/repos","events_url":"https://api.github.com/users/niketh/events{/privacy}","received_events_url":"https://api.github.com/users/niketh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-20T08:45:13Z","updated_at":"2017-02-20T08:45:13Z","author_association":"CONTRIBUTOR","body":"@leerho  VersionA + Boolean flag to check if the parent has been freed looks good. \r\nWhat is approach C ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281019337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281128760","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-281128760","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":281128760,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTEyODc2MA==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-20T16:48:30Z","updated_at":"2017-02-20T16:48:30Z","author_association":"CONTRIBUTOR","body":"It is in the parallel package memory3.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281128760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281134959","html_url":"https://github.com/apache/druid/pull/3669#issuecomment-281134959","issue_url":"https://api.github.com/repos/apache/druid/issues/3669","id":281134959,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTEzNDk1OQ==","user":{"login":"sata","id":226054,"node_id":"MDQ6VXNlcjIyNjA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/226054?v=4","gravatar_id":"","url":"https://api.github.com/users/sata","html_url":"https://github.com/sata","followers_url":"https://api.github.com/users/sata/followers","following_url":"https://api.github.com/users/sata/following{/other_user}","gists_url":"https://api.github.com/users/sata/gists{/gist_id}","starred_url":"https://api.github.com/users/sata/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sata/subscriptions","organizations_url":"https://api.github.com/users/sata/orgs","repos_url":"https://api.github.com/users/sata/repos","events_url":"https://api.github.com/users/sata/events{/privacy}","received_events_url":"https://api.github.com/users/sata/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-20T17:13:35Z","updated_at":"2017-02-20T17:13:35Z","author_association":"NONE","body":"Will this fix be backported to 0.9.2 branch? At the moment this fix is not included when pulling down the extension with pull-deps through tools. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281134959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281135572","html_url":"https://github.com/apache/druid/pull/3669#issuecomment-281135572","issue_url":"https://api.github.com/repos/apache/druid/issues/3669","id":281135572,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTEzNTU3Mg==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-20T17:16:23Z","updated_at":"2017-02-20T17:16:23Z","author_association":"CONTRIBUTOR","body":"@sata No, it will be a part of the upcoming 0.10.0 release.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281135572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281190002","html_url":"https://github.com/apache/druid/issues/2467#issuecomment-281190002","issue_url":"https://api.github.com/repos/apache/druid/issues/2467","id":281190002,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTE5MDAwMg==","user":{"login":"tdingus","id":1499709,"node_id":"MDQ6VXNlcjE0OTk3MDk=","avatar_url":"https://avatars.githubusercontent.com/u/1499709?v=4","gravatar_id":"","url":"https://api.github.com/users/tdingus","html_url":"https://github.com/tdingus","followers_url":"https://api.github.com/users/tdingus/followers","following_url":"https://api.github.com/users/tdingus/following{/other_user}","gists_url":"https://api.github.com/users/tdingus/gists{/gist_id}","starred_url":"https://api.github.com/users/tdingus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tdingus/subscriptions","organizations_url":"https://api.github.com/users/tdingus/orgs","repos_url":"https://api.github.com/users/tdingus/repos","events_url":"https://api.github.com/users/tdingus/events{/privacy}","received_events_url":"https://api.github.com/users/tdingus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-20T21:50:20Z","updated_at":"2017-02-20T21:50:20Z","author_association":"NONE","body":"I tried the delete operation the same as \"l15k4 commented on Mar 22, 2016\".\r\nI don't see the segment got deleted. \r\n\r\nI also googled for solutions but none of them worked. Please help.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281190002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281192529","html_url":"https://github.com/apache/druid/issues/2467#issuecomment-281192529","issue_url":"https://api.github.com/repos/apache/druid/issues/2467","id":281192529,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTE5MjUyOQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-20T22:02:57Z","updated_at":"2017-02-20T22:02:57Z","author_association":"CONTRIBUTOR","body":"@cheddar @pjain1 please look into this","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281192529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281227920","html_url":"https://github.com/apache/druid/issues/3892#issuecomment-281227920","issue_url":"https://api.github.com/repos/apache/druid/issues/3892","id":281227920,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTIyNzkyMA==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T02:28:29Z","updated_at":"2017-02-21T02:28:29Z","author_association":"CONTRIBUTOR","body":"@leventov @niketh \r\n\r\nSee [package-info](https://github.com/DataSketches/experimental/blob/master/src/main/java/com/yahoo/memory3/package-info.java) \r\n\r\nVersion C is the furthest along and I have implemented the mechanisms for\r\n\r\n- AtomicBoolean check for valid allocation with asserts\r\n- asReadOnly() and violation detection with asserts\r\n- regions\r\n- JDK 7 & 8 detection & substitution.\r\n\r\nNot yet Done: \r\n- Maps, \r\n- Many more methods to fill in from the current Memory\r\n- Need to transfer the JavaDocs, \r\n- Convert the UnitTests\r\n- Develop strategy for moving customers from current Memory to this one.\r\n\r\nI have more than enough so that I can start some characterization tests and see how it performs against the current Memory. \r\n\r\nPlease review and comment, as the next stages will be a lot of work and I'd like to get feedback now.\r\n \r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281227920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281228679","html_url":"https://github.com/apache/druid/issues/3952#issuecomment-281228679","issue_url":"https://api.github.com/repos/apache/druid/issues/3952","id":281228679,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTIyODY3OQ==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T02:34:14Z","updated_at":"2017-02-21T02:34:14Z","author_association":"CONTRIBUTOR","body":"I think you should use ruby, https://github.com/metamx/java-util/blob/master/src/main/java/com/metamx/common/parsers/TimestampParser.java#L84","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281228679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281232319","html_url":"https://github.com/apache/druid/issues/3952#issuecomment-281232319","issue_url":"https://api.github.com/repos/apache/druid/issues/3952","id":281232319,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTIzMjMxOQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T03:01:58Z","updated_at":"2017-02-21T03:01:58Z","author_association":"CONTRIBUTOR","body":"@kaijianding just an FYI that java-util was moved into Druid","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281232319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281420958","html_url":"https://github.com/apache/druid/pull/3956#issuecomment-281420958","issue_url":"https://api.github.com/repos/apache/druid/issues/3956","id":281420958,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQyMDk1OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T17:46:50Z","updated_at":"2017-02-21T17:46:50Z","author_association":"CONTRIBUTOR","body":"See also #3578","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281420958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281421325","html_url":"https://github.com/apache/druid/issues/3155#issuecomment-281421325","issue_url":"https://api.github.com/repos/apache/druid/issues/3155","id":281421325,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQyMTMyNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T17:47:58Z","updated_at":"2017-02-21T17:47:58Z","author_association":"CONTRIBUTOR","body":"fixed by #3557","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281421325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281422629","html_url":"https://github.com/apache/druid/pull/3956#issuecomment-281422629","issue_url":"https://api.github.com/repos/apache/druid/issues/3956","id":281422629,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQyMjYyOQ==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T17:52:16Z","updated_at":"2017-02-21T17:52:16Z","author_association":"MEMBER","body":"Ah, the docs for HLL say its thread safe so i was wondering if that might cause issues there. \r\nIf they are safe to access then this should be fine. Closing the PR for now. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281422629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281423634","html_url":"https://github.com/apache/druid/pull/3956#issuecomment-281423634","issue_url":"https://api.github.com/repos/apache/druid/issues/3956","id":281423634,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQyMzYzNA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T17:55:37Z","updated_at":"2017-02-21T17:55:37Z","author_association":"CONTRIBUTOR","body":"Well, it's definitely sketchy to be calling aggregate and get concurrently. HyperLogLogCollector isn't thread safe. It's possible that you'll get bizarre values from time to time, like if the offset of an HLLC is in the process of being incremented in one thread while it's¬†being read in another thread. So I think this PR has value.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281423634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281424419","html_url":"https://github.com/apache/druid/pull/3264#issuecomment-281424419","issue_url":"https://api.github.com/repos/apache/druid/issues/3264","id":281424419,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQyNDQxOQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T17:57:50Z","updated_at":"2017-02-21T17:57:50Z","author_association":"CONTRIBUTOR","body":"Bumping to 0.10.1 as 0.10.0 release is imminent. @navis, please let us know if you're still interested in pursuing this patch.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281424419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281424806","html_url":"https://github.com/apache/druid/pull/3545#issuecomment-281424806","issue_url":"https://api.github.com/repos/apache/druid/issues/3545","id":281424806,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQyNDgwNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T17:59:04Z","updated_at":"2017-02-21T17:59:04Z","author_association":"CONTRIBUTOR","body":"Bumping to 0.10.1 as 0.10.0 release is imminent.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281424806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281424907","html_url":"https://github.com/apache/druid/pull/3542#issuecomment-281424907","issue_url":"https://api.github.com/repos/apache/druid/issues/3542","id":281424907,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQyNDkwNw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T17:59:23Z","updated_at":"2017-02-21T17:59:23Z","author_association":"CONTRIBUTOR","body":"Bumping to 0.10.1 as 0.10.0 release is imminent. @navis, please let us know if you're still interested in pursuing this patch.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281424907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281424978","html_url":"https://github.com/apache/druid/pull/3955#issuecomment-281424978","issue_url":"https://api.github.com/repos/apache/druid/issues/3955","id":281424978,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQyNDk3OA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T17:59:34Z","updated_at":"2017-02-21T18:01:24Z","author_association":"CONTRIBUTOR","body":"@drcrallen do you mean segment data changing for realtime peon based segments? then yes, it does not account for that... and that could be a subsequent improvement (for example somehow detecting that one or more segments are not complete segments and in those cases don't return any Etags). i probably need to document the caveat.\r\nhowever, one workaround is for the user to take care in that case and never cache data where interval overlaps with realtime tasks/pipelines.\r\n\r\nhowever, this is useful for people only using batch ingestion and there do exist clusters in that bucket.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281424978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281425197","html_url":"https://github.com/apache/druid/pull/2945#issuecomment-281425197","issue_url":"https://api.github.com/repos/apache/druid/issues/2945","id":281425197,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQyNTE5Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T18:00:13Z","updated_at":"2017-02-21T18:00:13Z","author_association":"CONTRIBUTOR","body":"Bumping to 0.10.1 as 0.10.0 release is imminent. @sirpkt, @himanshug, are you still interested in continuing the discussion around this patch?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281425197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281425605","html_url":"https://github.com/apache/druid/pull/3955#issuecomment-281425605","issue_url":"https://api.github.com/repos/apache/druid/issues/3955","id":281425605,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQyNTYwNQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T18:01:34Z","updated_at":"2017-02-21T18:01:34Z","author_association":"CONTRIBUTOR","body":"cool üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281425605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281425986","html_url":"https://github.com/apache/druid/pull/3955#issuecomment-281425986","issue_url":"https://api.github.com/repos/apache/druid/issues/3955","id":281425986,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQyNTk4Ng==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T18:03:00Z","updated_at":"2017-02-21T18:03:00Z","author_association":"CONTRIBUTOR","body":"Its completely optional right? if the client isn't using caching semantics then it won't use it, right? if so then I'm good with just documenting the behavior.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281425986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281426623","html_url":"https://github.com/apache/druid/pull/3955#issuecomment-281426623","issue_url":"https://api.github.com/repos/apache/druid/issues/3955","id":281426623,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQyNjYyMw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T18:05:19Z","updated_at":"2017-02-21T18:05:19Z","author_association":"CONTRIBUTOR","body":"@drcrallen yes, as noted in the description ...nothing happens unless user explicitly sends \"If-None-Match\" header","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281426623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281429103","html_url":"https://github.com/apache/druid/pull/3929#issuecomment-281429103","issue_url":"https://api.github.com/repos/apache/druid/issues/3929","id":281429103,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQyOTEwMw==","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T18:14:22Z","updated_at":"2017-02-21T18:14:22Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281429103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281449455","html_url":"https://github.com/apache/druid/pull/2767#issuecomment-281449455","issue_url":"https://api.github.com/repos/apache/druid/issues/2767","id":281449455,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQ0OTQ1NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T19:17:32Z","updated_at":"2017-02-21T19:17:32Z","author_association":"CONTRIBUTOR","body":"Hmm, actually, my comment was kind of nonsensical. There's no such thing as \"changing the default\" for something that's mandatory. I still think that silent wrong results on older client code is bad, but also, making fromNext mandatory is kind of silly.\r\n\r\nI would be ok with adding a runtime property that controls the default behavior, like `druid.query.select.fromNextDefault` and have that default to \"true\" in 0.10.0. Then users that need to support older client code could set it to \"false\" to get the old Druid behavior.\r\n\r\nThe important thing, imo, is that many Druid deployers are not the same people as the ones that write the queries, and we have to recognize that dynamic when making changes like this.\r\n\r\n@fjy @nishantmonu51 @navis what do you think?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281449455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281452206","html_url":"https://github.com/apache/druid/pull/2767#issuecomment-281452206","issue_url":"https://api.github.com/repos/apache/druid/issues/2767","id":281452206,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQ1MjIwNg==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T19:25:07Z","updated_at":"2017-02-21T19:25:07Z","author_association":"MEMBER","body":"@gianm: your suggestion seems good to me. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281452206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281460294","html_url":"https://github.com/apache/druid/pull/2883#issuecomment-281460294","issue_url":"https://api.github.com/repos/apache/druid/issues/2883","id":281460294,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQ2MDI5NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T19:52:41Z","updated_at":"2017-02-21T19:52:41Z","author_association":"CONTRIBUTOR","body":"I will take a look at resolving conflicts for this patch for 0.10.0.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281460294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281464651","html_url":"https://github.com/apache/druid/pull/3957#issuecomment-281464651","issue_url":"https://api.github.com/repos/apache/druid/issues/3957","id":281464651,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQ2NDY1MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T20:08:13Z","updated_at":"2017-02-21T20:08:13Z","author_association":"CONTRIBUTOR","body":"I'm not sure if my +1 still counts, but I didn't change that much so maybe it does :)\r\n\r\nAnyway I'm (obviously) still +1 on this.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281464651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281466732","html_url":"https://github.com/apache/druid/pull/3957#issuecomment-281466732","issue_url":"https://api.github.com/repos/apache/druid/issues/3957","id":281466732,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQ2NjczMg==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T20:15:43Z","updated_at":"2017-02-21T20:15:43Z","author_association":"MEMBER","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281466732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281476671","html_url":"https://github.com/apache/druid/pull/3957#issuecomment-281476671","issue_url":"https://api.github.com/repos/apache/druid/issues/3957","id":281476671,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQ3NjY3MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T20:53:17Z","updated_at":"2017-02-21T20:53:32Z","author_association":"CONTRIBUTOR","body":"Some bad code got into master somehow and is fouling up the tests for this. Will look into that.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281476671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281493741","html_url":"https://github.com/apache/druid/pull/3957#issuecomment-281493741","issue_url":"https://api.github.com/repos/apache/druid/issues/3957","id":281493741,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQ5Mzc0MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T21:53:57Z","updated_at":"2017-02-21T21:53:57Z","author_association":"CONTRIBUTOR","body":"#3958 will fix the bad code in master, appears to be a \"test conflict\" between #3950 and #3953.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281493741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281494284","html_url":"https://github.com/apache/druid/issues/2467#issuecomment-281494284","issue_url":"https://api.github.com/repos/apache/druid/issues/2467","id":281494284,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQ5NDI4NA==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T21:55:47Z","updated_at":"2017-02-21T21:55:47Z","author_association":"MEMBER","body":"@tdingus are you hitting this - https://github.com/druid-io/druid/pull/1274\r\nDo you have a single segment in the cluster ? Are you getting any error while deleting ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281494284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281494521","html_url":"https://github.com/apache/druid/pull/3940#issuecomment-281494521","issue_url":"https://api.github.com/repos/apache/druid/issues/3940","id":281494521,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQ5NDUyMQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T21:56:34Z","updated_at":"2017-02-21T21:56:34Z","author_association":"CONTRIBUTOR","body":"Bumping to 0.10.1 as discussed in dev sync today.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281494521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281497754","html_url":"https://github.com/apache/druid/pull/3955#issuecomment-281497754","issue_url":"https://api.github.com/repos/apache/druid/issues/3955","id":281497754,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTQ5Nzc1NA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T22:08:57Z","updated_at":"2017-02-21T22:08:57Z","author_association":"CONTRIBUTOR","body":"@drcrallen made update to not return ETag or match it if any of the segments were being served by non-historical nodes.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281497754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281500504","html_url":"https://github.com/apache/druid/pull/3955#issuecomment-281500504","issue_url":"https://api.github.com/repos/apache/druid/issues/3955","id":281500504,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTUwMDUwNA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T22:19:12Z","updated_at":"2017-02-21T22:19:19Z","author_association":"CONTRIBUTOR","body":"cool, üëç  thanks!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281500504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281506274","html_url":"https://github.com/apache/druid/pull/3855#issuecomment-281506274","issue_url":"https://api.github.com/repos/apache/druid/issues/3855","id":281506274,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTUwNjI3NA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T22:41:46Z","updated_at":"2017-02-21T22:41:57Z","author_association":"CONTRIBUTOR","body":"Can you please document the behavior of lookup updates happening when a user rolls back and forth between versions? (0.9.2 and 0.10.0)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281506274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281508592","html_url":"https://github.com/apache/druid/pull/3958#issuecomment-281508592","issue_url":"https://api.github.com/repos/apache/druid/issues/3958","id":281508592,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTUwODU5Mg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T22:51:27Z","updated_at":"2017-02-21T22:51:27Z","author_association":"CONTRIBUTOR","body":":+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281508592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/281509059","html_url":"https://github.com/apache/druid/pull/3958#issuecomment-281509059","issue_url":"https://api.github.com/repos/apache/druid/issues/3958","id":281509059,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTUwOTA1OQ==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-21T22:53:32Z","updated_at":"2017-02-21T22:53:32Z","author_association":"MEMBER","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/281509059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]