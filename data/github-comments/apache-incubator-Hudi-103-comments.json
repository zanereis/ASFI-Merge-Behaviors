[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/770818099","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-770818099","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":770818099,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MDgxODA5OQ==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-01T12:23:44Z","updated_at":"2021-02-01T12:23:44Z","author_association":"NONE","body":"I have another pipeline with a partitioned table and the problem didn't happen, is there any difference?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/770818099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/770830774","html_url":"https://github.com/apache/hudi/pull/2497#issuecomment-770830774","issue_url":"https://api.github.com/repos/apache/hudi/issues/2497","id":770830774,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MDgzMDc3NA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-01T12:46:05Z","updated_at":"2021-02-01T12:46:05Z","author_association":"CONTRIBUTOR","body":"Yes, sounds good @garyli1019 . LGTM. Feel free to land it if you are good. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/770830774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/770832362","html_url":"https://github.com/apache/hudi/pull/2497#issuecomment-770832362","issue_url":"https://api.github.com/repos/apache/hudi/issues/2497","id":770832362,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MDgzMjM2Mg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-01T12:48:53Z","updated_at":"2021-02-01T12:48:53Z","author_association":"CONTRIBUTOR","body":"@garyli1019 : I am good w/ the PR. Can you land it. Please fill in the right commit message while you squash & merge. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/770832362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/770955295","html_url":"https://github.com/apache/hudi/pull/2514#issuecomment-770955295","issue_url":"https://api.github.com/repos/apache/hudi/issues/2514","id":770955295,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MDk1NTI5NQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-01T15:50:00Z","updated_at":"2021-02-04T23:52:21Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2514?src=pr&el=h1) Report\n> Merging [#2514](https://codecov.io/gh/apache/hudi/pull/2514?src=pr&el=desc) (eb7d9b5) into [master](https://codecov.io/gh/apache/hudi/commit/5d053b495b8cb44cce88a67e82cbdfdc3d8b3180?el=desc) (5d053b4) will **increase** coverage by `0.85%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2514/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2514?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2514      +/-   ##\n============================================\n+ Coverage     49.78%   50.64%   +0.85%     \n- Complexity     3089     3131      +42     \n============================================\n  Files           430      430              \n  Lines         19566    19614      +48     \n  Branches       2004     2008       +4     \n============================================\n+ Hits           9741     9933     +192     \n+ Misses         9033     8871     -162     \n- Partials        792      810      +18     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `36.90% <0.00%> (-0.31%)` | `0.00 <0.00> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `51.43% <ø> (-0.07%)` | `0.00 <ø> (ø)` | |\n| hudiflink | `36.30% <ø> (+3.27%)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.16% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `69.46% <ø> (-0.05%)` | `0.00 <ø> (ø)` | |\n| hudisync | `48.61% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `66.49% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.46% <ø> (+7.60%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2514?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...a/org/apache/hudi/cli/HoodieTableHeaderFields.java](https://codecov.io/gh/apache/hudi/pull/2514/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL0hvb2RpZVRhYmxlSGVhZGVyRmllbGRzLmphdmE=) | `0.00% <ø> (ø)` | `0.00 <0.00> (ø)` | |\n| [...a/org/apache/hudi/cli/commands/CommitsCommand.java](https://codecov.io/gh/apache/hudi/pull/2514/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL2NvbW1hbmRzL0NvbW1pdHNDb21tYW5kLmphdmE=) | `53.50% <0.00%> (-5.30%)` | `15.00 <0.00> (ø)` | |\n| [...ache/hudi/common/fs/inline/InMemoryFileSystem.java](https://codecov.io/gh/apache/hudi/pull/2514/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL2lubGluZS9Jbk1lbW9yeUZpbGVTeXN0ZW0uamF2YQ==) | `79.31% <0.00%> (-10.35%)` | `15.00% <0.00%> (-1.00%)` | |\n| [...pache/hudi/common/table/HoodieTableMetaClient.java](https://codecov.io/gh/apache/hudi/pull/2514/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL0hvb2RpZVRhYmxlTWV0YUNsaWVudC5qYXZh) | `68.33% <0.00%> (-2.36%)` | `45.00% <0.00%> (ø%)` | |\n| [...n/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala](https://codecov.io/gh/apache/hudi/pull/2514/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0hvb2RpZU1lcmdlT25SZWFkUkRELnNjYWxh) | `89.78% <0.00%> (-1.70%)` | `14.00% <0.00%> (+2.00%)` | :arrow_down: |\n| [.../org/apache/hudi/MergeOnReadSnapshotRelation.scala](https://codecov.io/gh/apache/hudi/pull/2514/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL01lcmdlT25SZWFkU25hcHNob3RSZWxhdGlvbi5zY2FsYQ==) | `89.13% <0.00%> (-1.46%)` | `17.00% <0.00%> (+1.00%)` | :arrow_down: |\n| [...g/apache/hudi/MergeOnReadIncrementalRelation.scala](https://codecov.io/gh/apache/hudi/pull/2514/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL01lcmdlT25SZWFkSW5jcmVtZW50YWxSZWxhdGlvbi5zY2FsYQ==) | `81.45% <0.00%> (-0.76%)` | `22.00% <0.00%> (+1.00%)` | :arrow_down: |\n| [...rg/apache/hudi/common/table/HoodieTableConfig.java](https://codecov.io/gh/apache/hudi/pull/2514/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL0hvb2RpZVRhYmxlQ29uZmlnLmphdmE=) | `45.45% <0.00%> (-0.60%)` | `17.00% <0.00%> (ø%)` | |\n| [...e/hudi/timeline/service/FileSystemViewHandler.java](https://codecov.io/gh/apache/hudi/pull/2514/diff?src=pr&el=tree#diff-aHVkaS10aW1lbGluZS1zZXJ2aWNlL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3RpbWVsaW5lL3NlcnZpY2UvRmlsZVN5c3RlbVZpZXdIYW5kbGVyLmphdmE=) | | | |\n| [...g/apache/hudi/timeline/service/RequestHandler.java](https://codecov.io/gh/apache/hudi/pull/2514/diff?src=pr&el=tree#diff-aHVkaS10aW1lbGluZS1zZXJ2aWNlL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3RpbWVsaW5lL3NlcnZpY2UvUmVxdWVzdEhhbmRsZXIuamF2YQ==) | `77.73% <0.00%> (ø)` | `29.00% <0.00%> (?%)` | |\n| ... and [9 more](https://codecov.io/gh/apache/hudi/pull/2514/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/770955295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/770999681","html_url":"https://github.com/apache/hudi/issues/2367#issuecomment-770999681","issue_url":"https://api.github.com/repos/apache/hudi/issues/2367","id":770999681,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MDk5OTY4MQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-01T16:54:13Z","updated_at":"2021-02-01T16:54:13Z","author_association":"CONTRIBUTOR","body":"I am not very sure if we do any testing w/ GCP. @bvaradar @n3nash @vinothchandar for reference.\r\nBut if you can help us test GCP before every release, that would really be awesome. I can keep you in the loop when work on the release candidate. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/770999681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771012749","html_url":"https://github.com/apache/hudi/issues/2367#issuecomment-771012749","issue_url":"https://api.github.com/repos/apache/hudi/issues/2367","id":771012749,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTAxMjc0OQ==","user":{"login":"stackfun","id":68627128,"node_id":"MDQ6VXNlcjY4NjI3MTI4","avatar_url":"https://avatars.githubusercontent.com/u/68627128?v=4","gravatar_id":"","url":"https://api.github.com/users/stackfun","html_url":"https://github.com/stackfun","followers_url":"https://api.github.com/users/stackfun/followers","following_url":"https://api.github.com/users/stackfun/following{/other_user}","gists_url":"https://api.github.com/users/stackfun/gists{/gist_id}","starred_url":"https://api.github.com/users/stackfun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stackfun/subscriptions","organizations_url":"https://api.github.com/users/stackfun/orgs","repos_url":"https://api.github.com/users/stackfun/repos","events_url":"https://api.github.com/users/stackfun/events{/privacy}","received_events_url":"https://api.github.com/users/stackfun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-01T17:12:57Z","updated_at":"2021-02-01T17:12:57Z","author_association":"NONE","body":"Hope to have time to test this specific issue today.\r\n\r\nI'll be happy to help test release candidates on GCP. Are there automated tests that run on AWS infrastructure? The integration tests seem to only run in the docker setup.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771012749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771031947","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-771031947","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":771031947,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTAzMTk0Nw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-01T17:42:53Z","updated_at":"2021-02-01T17:42:53Z","author_association":"CONTRIBUTOR","body":"@rubenssoto Do you know which commits were being archived ? If yes, can you paste the contents of those commits ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771031947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771044188","html_url":"https://github.com/apache/hudi/pull/2458#issuecomment-771044188","issue_url":"https://api.github.com/repos/apache/hudi/issues/2458","id":771044188,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTA0NDE4OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-01T18:02:22Z","updated_at":"2021-02-01T18:02:22Z","author_association":"MEMBER","body":">Currently, we can keep it. But when we provide more services in the future, maybe it will be a bit limited?\r\n\r\nAgree. We can rename as we add more and more. To clarify, I was mostly disagreeing with the `Router` vs `RequestHandler`. \r\nI find `RequestHandler` in line with how rest request handlers are named (at least from code I have seen). \r\n\r\nOn the `FileSystemView` prefix, I stand corrected. it's serving more than just the filesystem view. So its apt to rename this even now. \r\n\r\nApologies again. Got confused, when dealing with a lot of stuff :)  \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771044188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771082643","html_url":"https://github.com/apache/hudi/pull/2496#issuecomment-771082643","issue_url":"https://api.github.com/repos/apache/hudi/issues/2496","id":771082643,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTA4MjY0Mw==","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-01T19:01:14Z","updated_at":"2021-02-01T19:01:14Z","author_association":"MEMBER","body":"> Do we need to enable metrics FS(time aware, size aware) as well by default whenever buffering is enabled\r\n\r\nThere are two parts to metrics in HUDI:\r\n1. Metrics in-memory (explained below)\r\n2. Publishing the metrics out (e.g to Graphana). This needs to be enabled explicitly (disabled by default) and requires external infrastructure. \r\n\r\nMetrics within HUDI are implemented using Registry which simply maintains the key-value metric pairs in memory. Each metric itself is a AtomicLong held in a in-memory Hash-map. \r\n\r\nTherefore the overhead of incrementing a metrics is:\r\n1. HasMap lookup to find the Counter\r\n2. AtomicLong.addAndGet()\r\n\r\nSo this should be negligible overhead on modern processors unless we are maintain millions of metrics. \r\n\r\nI feel the checks of metrics enable everywhere (if-metrics-enabled-then-do-something) tend to make the code ugly and they dont provide any performance benefits. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771082643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771095127","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-771095127","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":771095127,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTA5NTEyNw==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-01T19:19:54Z","updated_at":"2021-02-01T19:19:54Z","author_association":"NONE","body":"[hudi_files.txt](https://github.com/apache/hudi/files/5906203/hudi_files.txt)\r\n\r\n\r\nlist of my commits.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771095127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771122751","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-771122751","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":771122751,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTEyMjc1MQ==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-01T20:06:09Z","updated_at":"2021-02-01T20:06:09Z","author_association":"NONE","body":"Any idea how to know which commit \r\nwill be archived?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771122751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771172541","html_url":"https://github.com/apache/hudi/pull/2374#issuecomment-771172541","issue_url":"https://api.github.com/repos/apache/hudi/issues/2374","id":771172541,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTE3MjU0MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-01T21:31:30Z","updated_at":"2021-02-01T21:31:30Z","author_association":"MEMBER","body":"@n3nash Beginning the final review of this. Should we still land #2359 first? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771172541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771176420","html_url":"https://github.com/apache/hudi/pull/2374#issuecomment-771176420","issue_url":"https://api.github.com/repos/apache/hudi/issues/2374","id":771176420,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTE3NjQyMA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-01T21:37:42Z","updated_at":"2021-02-01T21:37:42Z","author_association":"MEMBER","body":"@n3nash can you please rebase and repush ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771176420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771176720","html_url":"https://github.com/apache/hudi/pull/2359#issuecomment-771176720","issue_url":"https://api.github.com/repos/apache/hudi/issues/2359","id":771176720,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTE3NjcyMA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-01T21:38:13Z","updated_at":"2021-02-01T21:38:13Z","author_association":"MEMBER","body":"@n3nash rebase, repush and get CI to be happy?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771176720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771264229","html_url":"https://github.com/apache/hudi/pull/2516#issuecomment-771264229","issue_url":"https://api.github.com/repos/apache/hudi/issues/2516","id":771264229,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTI2NDIyOQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T00:45:23Z","updated_at":"2021-02-02T00:45:23Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2516?src=pr&el=h1) Report\n> Merging [#2516](https://codecov.io/gh/apache/hudi/pull/2516?src=pr&el=desc) (7c1f105) into [master](https://codecov.io/gh/apache/hudi/commit/0d8a4d0a56dcb35e499216c7bfab17a05716bc44?el=desc) (0d8a4d0) will **decrease** coverage by `40.83%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2516/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2516?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master   #2516       +/-   ##\n============================================\n- Coverage     50.52%   9.68%   -40.84%     \n+ Complexity     3122      48     -3074     \n============================================\n  Files           430      53      -377     \n  Lines         19597    1930    -17667     \n  Branches       2008     230     -1778     \n============================================\n- Hits           9902     187     -9715     \n+ Misses         8886    1730     -7156     \n+ Partials        809      13      -796     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `9.68% <ø> (-59.75%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2516?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2516/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2516/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2516/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2516/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2516/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2516/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2516/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2516/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2516/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2516/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [407 more](https://codecov.io/gh/apache/hudi/pull/2516/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771264229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771293068","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-771293068","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":771293068,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTI5MzA2OA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T02:05:30Z","updated_at":"2021-02-02T02:05:30Z","author_association":"CONTRIBUTOR","body":"@rubenssoto It looks something like what is described here -> https://stackoverflow.com/questions/45662469/storing-null-values-in-avro-files. I'm trying to track down any change in the schema file which could've let to this but don't anything yet.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771293068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771296756","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-771296756","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":771296756,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTI5Njc1Ng==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T02:14:02Z","updated_at":"2021-02-02T02:14:02Z","author_association":"CONTRIBUTOR","body":"\r\n[add_default.txt](https://github.com/apache/hudi/files/5908168/add_default.txt)\r\n\r\nCan you apply this diff, build your code again and try ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771296756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771394795","html_url":"https://github.com/apache/hudi/issues/2406#issuecomment-771394795","issue_url":"https://api.github.com/repos/apache/hudi/issues/2406","id":771394795,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTM5NDc5NQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T06:19:21Z","updated_at":"2021-02-02T06:19:21Z","author_association":"CONTRIBUTOR","body":"@SureshK-T2S Is there anything else related to this issue that needs to be discussed further ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771394795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771397330","html_url":"https://github.com/apache/hudi/issues/2409#issuecomment-771397330","issue_url":"https://api.github.com/repos/apache/hudi/issues/2409","id":771397330,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTM5NzMzMA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T06:24:44Z","updated_at":"2021-02-02T06:24:44Z","author_association":"CONTRIBUTOR","body":"@wosow Were you able to resolve your issue ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771397330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771401741","html_url":"https://github.com/apache/hudi/issues/2437#issuecomment-771401741","issue_url":"https://api.github.com/repos/apache/hudi/issues/2437","id":771401741,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTQwMTc0MQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T06:34:10Z","updated_at":"2021-02-02T06:34:10Z","author_association":"CONTRIBUTOR","body":"@jiangok2006 Were you able to run with the setting hoodie.avro.schema.validate=true ? My feeling is this is related schema and decoding of records using the provided schema","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771401741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771402960","html_url":"https://github.com/apache/hudi/issues/2439#issuecomment-771402960","issue_url":"https://api.github.com/repos/apache/hudi/issues/2439","id":771402960,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTQwMjk2MA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T06:36:50Z","updated_at":"2021-02-02T06:36:50Z","author_association":"CONTRIBUTOR","body":"@rakeshramakrishnan Could you try the above patch from @Trevor-zhang and see if that fixes your issue ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771402960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771406877","html_url":"https://github.com/apache/hudi/issues/2448#issuecomment-771406877","issue_url":"https://api.github.com/repos/apache/hudi/issues/2448","id":771406877,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTQwNjg3Nw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T06:44:43Z","updated_at":"2021-02-02T06:44:43Z","author_association":"CONTRIBUTOR","body":"@peng-xin Are you able to proceed with `hoodie.compact.inline -> true` and `hoodie.auto.commit -> false` ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771406877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771407719","html_url":"https://github.com/apache/hudi/issues/2461#issuecomment-771407719","issue_url":"https://api.github.com/repos/apache/hudi/issues/2461","id":771407719,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTQwNzcxOQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T06:46:20Z","updated_at":"2021-02-02T06:46:20Z","author_association":"CONTRIBUTOR","body":"@vrtrepp @noobarcitect Are you able to use the hive-sync tool to resolve your issue ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771407719/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771408348","html_url":"https://github.com/apache/hudi/issues/2463#issuecomment-771408348","issue_url":"https://api.github.com/repos/apache/hudi/issues/2463","id":771408348,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTQwODM0OA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T06:47:32Z","updated_at":"2021-02-02T06:47:32Z","author_association":"CONTRIBUTOR","body":"@rubenssoto Did increasing the num executors help ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771408348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771409047","html_url":"https://github.com/apache/hudi/issues/2470#issuecomment-771409047","issue_url":"https://api.github.com/repos/apache/hudi/issues/2470","id":771409047,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTQwOTA0Nw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T06:48:49Z","updated_at":"2021-02-02T06:48:49Z","author_association":"CONTRIBUTOR","body":"@jtmzheng Does using 0.7.0 and `hoodie.metadata.enable=true` solve the issue ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771409047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771410764","html_url":"https://github.com/apache/hudi/issues/2482#issuecomment-771410764","issue_url":"https://api.github.com/repos/apache/hudi/issues/2482","id":771410764,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTQxMDc2NA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T06:52:15Z","updated_at":"2021-02-02T06:52:15Z","author_association":"CONTRIBUTOR","body":"@duanyongvictory Were you able to use the latest release 0.7.0 and see if it resolves your issue ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771410764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771411421","html_url":"https://github.com/apache/hudi/issues/2489#issuecomment-771411421","issue_url":"https://api.github.com/repos/apache/hudi/issues/2489","id":771411421,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTQxMTQyMQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T06:53:38Z","updated_at":"2021-02-02T06:53:38Z","author_association":"CONTRIBUTOR","body":"@Ishg Do you have any update ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771411421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771411738","html_url":"https://github.com/apache/hudi/issues/2490#issuecomment-771411738","issue_url":"https://api.github.com/repos/apache/hudi/issues/2490","id":771411738,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTQxMTczOA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T06:54:13Z","updated_at":"2021-02-02T06:54:13Z","author_association":"CONTRIBUTOR","body":"@Ishg Any update ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771411738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771412820","html_url":"https://github.com/apache/hudi/issues/2507#issuecomment-771412820","issue_url":"https://api.github.com/repos/apache/hudi/issues/2507","id":771412820,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTQxMjgyMA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T06:56:28Z","updated_at":"2021-02-02T06:56:28Z","author_association":"CONTRIBUTOR","body":"@prashantwason Can you take a look at this ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771412820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771413944","html_url":"https://github.com/apache/hudi/issues/2508#issuecomment-771413944","issue_url":"https://api.github.com/repos/apache/hudi/issues/2508","id":771413944,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTQxMzk0NA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T06:58:43Z","updated_at":"2021-02-02T06:58:43Z","author_association":"CONTRIBUTOR","body":"@nsivabalan Do you think this may have something to do with the Encoders needed in the row write path ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771413944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771414366","html_url":"https://github.com/apache/hudi/issues/2509#issuecomment-771414366","issue_url":"https://api.github.com/repos/apache/hudi/issues/2509","id":771414366,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTQxNDM2Ng==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T06:59:30Z","updated_at":"2021-02-02T06:59:30Z","author_association":"CONTRIBUTOR","body":"@satishkotha Could you take a look at this one ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771414366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771416134","html_url":"https://github.com/apache/hudi/issues/2513#issuecomment-771416134","issue_url":"https://api.github.com/repos/apache/hudi/issues/2513","id":771416134,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTQxNjEzNA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T07:02:58Z","updated_at":"2021-02-02T07:02:58Z","author_association":"CONTRIBUTOR","body":"@GintokiYs You should not set the hive input format that way. \r\n\r\nYou can set hive.input.format=org.apache.hadoop.hive.ql.io.HiveInputFormat. As long as your table is registered as a Hudi table and in Hive Metastore you can see that the input format is `org.apache.hudi.hadoop.HoodieParquetInputFormat`, HiveInputFormat will automatically find the HoodieInputFormat and use it. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771416134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771421761","html_url":"https://github.com/apache/hudi/issues/2470#issuecomment-771421761","issue_url":"https://api.github.com/repos/apache/hudi/issues/2470","id":771421761,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTQyMTc2MQ==","user":{"login":"jtmzheng","id":3466206,"node_id":"MDQ6VXNlcjM0NjYyMDY=","avatar_url":"https://avatars.githubusercontent.com/u/3466206?v=4","gravatar_id":"","url":"https://api.github.com/users/jtmzheng","html_url":"https://github.com/jtmzheng","followers_url":"https://api.github.com/users/jtmzheng/followers","following_url":"https://api.github.com/users/jtmzheng/following{/other_user}","gists_url":"https://api.github.com/users/jtmzheng/gists{/gist_id}","starred_url":"https://api.github.com/users/jtmzheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtmzheng/subscriptions","organizations_url":"https://api.github.com/users/jtmzheng/orgs","repos_url":"https://api.github.com/users/jtmzheng/repos","events_url":"https://api.github.com/users/jtmzheng/events{/privacy}","received_events_url":"https://api.github.com/users/jtmzheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T07:14:07Z","updated_at":"2021-02-02T07:14:07Z","author_association":"NONE","body":"@n3nash I have not had a chance to look at 0.7.0 migration yet, what EMR versions is 0.7.0 compatible with?\r\n\r\nIf my dataset is on 0.6.0 already do I just need to update the Hudi jar version for my Spark job? Unsure if there's anything else I need to do based on the migration guide https://hudi.apache.org/releases.html. Thanks!\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771421761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771453564","html_url":"https://github.com/apache/hudi/issues/2513#issuecomment-771453564","issue_url":"https://api.github.com/repos/apache/hudi/issues/2513","id":771453564,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTQ1MzU2NA==","user":{"login":"GintokiYs","id":51935076,"node_id":"MDQ6VXNlcjUxOTM1MDc2","avatar_url":"https://avatars.githubusercontent.com/u/51935076?v=4","gravatar_id":"","url":"https://api.github.com/users/GintokiYs","html_url":"https://github.com/GintokiYs","followers_url":"https://api.github.com/users/GintokiYs/followers","following_url":"https://api.github.com/users/GintokiYs/following{/other_user}","gists_url":"https://api.github.com/users/GintokiYs/gists{/gist_id}","starred_url":"https://api.github.com/users/GintokiYs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GintokiYs/subscriptions","organizations_url":"https://api.github.com/users/GintokiYs/orgs","repos_url":"https://api.github.com/users/GintokiYs/repos","events_url":"https://api.github.com/users/GintokiYs/events{/privacy}","received_events_url":"https://api.github.com/users/GintokiYs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T08:15:32Z","updated_at":"2021-02-02T08:15:32Z","author_association":"NONE","body":"@n3nash Thank you for your reply. \r\nWhen I update the data in the Hudi table, the Hive-Cli query will get two records (the two records have the same primary key), while the Spark-SQL query is normal (only one record).\r\nI want to know how to solve the problem of historical data in Hive-cli query.\r\nThe following figure is the result of hive-cli query, where (10000301345/001942775096/2) is one of my composite primary keys.\r\n```\r\nhive> select * from hudi_imp_par_mor_local_x1 where serial_no = '10000301345';\r\nQuery ID = root_20210202160414_00dbbdc9-5d2a-490a-b5ba-dcdccf2c8c1b\r\nTotal jobs = 1\r\nLaunching Job 1 out of 1\r\nNumber of reduce tasks is set to 0 since there's no reduce operator\r\n21/02/02 16:04:14 INFO client.RMProxy: Connecting to ResourceManager at node103/10.20.29.103:8032\r\n21/02/02 16:04:14 INFO client.RMProxy: Connecting to ResourceManager at node103/10.20.29.103:8032\r\nStarting Job = job_1611822796186_0114, Tracking URL = http://node103:8088/proxy/application_1611822796186_0114/\r\nKill Command = /opt/cloudera/parcels/CDH-6.2.1-1.cdh6.2.1.p0.1425774/lib/hadoop/bin/hadoop job  -kill job_1611822796186_0114\r\nHadoop job information for Stage-1: number of mappers: 1; number of reducers: 0\r\n2021-02-02 16:04:22,116 Stage-1 map = 0%,  reduce = 0%\r\n2021-02-02 16:04:30,370 Stage-1 map = 100%,  reduce = 0%, Cumulative CPU 6.91 sec\r\nMapReduce Total cumulative CPU time: 6 seconds 910 msec\r\nEnded Job = job_1611822796186_0114\r\nMapReduce Jobs Launched:\r\nStage-Stage-1: Map: 1   Cumulative CPU: 6.91 sec   HDFS Read: 20638550 HDFS Write: 711 HDFS EC Read: 0 SUCCESS\r\nTotal MapReduce CPU Time Spent: 6 seconds 910 msec\r\nOK\r\n20210201150644  20210201150644_0_178    10000301345/001942775096/2      20190909        e3332789-77e5-4e6b-a0cd-24e87814c572-0_0-22-53_20210201150644.parquet   10000301345     NULL    20190505        001942775096     2       251942775095    1942775095      401345  D       222     223     02      301346  NULL    NULL    NULL    NULL    NULL    25      1612163195163   10000301345/001942775096/2      20190909\r\n20210201145958  20210201145958_0_9      10000301345/001942775096/2      20190909        e3332789-77e5-4e6b-a0cd-24e87814c572-0_0-6-8_20210201145958.parquet     10000301345     NULL    20190505        001942775096     2       251942775095    1942775095      401345  A       222     223     02      301346  NULL    NULL    NULL    NULL    NULL    25      1612162791775   10000301345/001942775096/2      20190909\r\nTime taken: 17.288 seconds, Fetched: 2 row(s)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771453564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771541383","html_url":"https://github.com/apache/hudi/pull/2458#issuecomment-771541383","issue_url":"https://api.github.com/repos/apache/hudi/issues/2458","id":771541383,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTU0MTM4Mw==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T10:37:46Z","updated_at":"2021-02-02T10:37:46Z","author_association":"CONTRIBUTOR","body":"> I will let you make the RequestHandler vs Router call. and land.\r\n\r\n`RequestHandler` sounds better. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771541383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771571794","html_url":"https://github.com/apache/hudi/pull/2445#issuecomment-771571794","issue_url":"https://api.github.com/repos/apache/hudi/issues/2445","id":771571794,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTU3MTc5NA==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T11:30:58Z","updated_at":"2021-02-02T11:30:58Z","author_association":"CONTRIBUTOR","body":"@liujinhui1994 Let's fix the Travis firstly?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771571794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771572476","html_url":"https://github.com/apache/hudi/pull/2438#issuecomment-771572476","issue_url":"https://api.github.com/repos/apache/hudi/issues/2438","id":771572476,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTU3MjQ3Ng==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T11:32:12Z","updated_at":"2021-02-02T11:32:12Z","author_association":"CONTRIBUTOR","body":"CI still failed, check it again.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771572476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771603309","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-771603309","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":771603309,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTYwMzMwOQ==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T12:31:55Z","updated_at":"2021-02-02T12:31:55Z","author_association":"NONE","body":"@n3nash Please tell me if I did anything wrong:\r\n\r\ngit clone https://github.com/apache/hudi.git && cd hudi\r\ngit apply add_default.txt\r\nmvn clean package -DskipTests -Dspark3\r\n\r\nspark-submit --deploy-mode cluster --conf spark.executor.cores=5 --conf spark.executor.memoryOverhead=2000 --conf spark.executor.memory=32g --conf spark.yarn.maxAppAttempts=1 --conf spark.dynamicAllocation.maxExecutors=4 --conf spark.serializer=org.apache.spark.serializer.KryoSerializer --packages org.apache.spark:spark-avro_2.12:2.4.4 --jars s3://ze-data-etl/lib/spark-daria_2.12-0.38.2.jar,s3://dl/lib/hudi-spark-bundle_2.12-0.8.0-SNAPSHOT.jar --class TableProcessorWrapper s3://dl/code/projects/data_projects/batch_processor_engine/batch-processor-engine_2.12-3.0.1_0.5.jar courier_api_group01\r\n\r\n\r\nThe error was not solved :(\r\n\r\n21/02/02 12:27:42 ERROR Client: Application diagnostics message: User class threw exception: java.lang.Exception: Error on Table: customer_address, Error Message: org.apache.hudi.exception.HoodieCommitException: Failed to archive commits\r\n\tat jobs.TableProcessor.start(TableProcessor.scala:102)\r\n\tat TableProcessorWrapper$.$anonfun$main$2(TableProcessorWrapper.scala:23)\r\n\tat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n\tat scala.concurrent.Future$.$anonfun$apply$1(Future.scala:659)\r\n\tat scala.util.Success.$anonfun$map$1(Try.scala:255)\r\n\tat scala.util.Success.map(Try.scala:213)\r\n\tat scala.concurrent.Future.$anonfun$map$1(Future.scala:292)\r\n\tat scala.concurrent.impl.Promise.liftedTree1$1(Promise.scala:33)\r\n\tat scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)\r\n\tat scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)\r\n\tat java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:175)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771603309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771606651","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-771606651","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":771606651,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTYwNjY1MQ==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T12:38:22Z","updated_at":"2021-02-02T12:38:22Z","author_association":"NONE","body":"21/02/02 12:26:23 ERROR HoodieTimelineArchiveLog: Failed to archive commits, .commit file: 20210202040118.commit.requested\r\njava.lang.NullPointerException: null of string of map of union in field extraMetadata of org.apache.hudi.avro.model.HoodieCommitMetadata of union in field hoodieCommitMetadata of org.apache.hudi.avro.model.HoodieArchivedMetaEntry\r\n\tat org.apache.avro.generic.GenericDatumWriter.npe(GenericDatumWriter.java:145)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeWithoutConversion(GenericDatumWriter.java:139)\r\n\tat org.apache.avro.generic.GenericDatumWriter.write(GenericDatumWriter.java:75)\r\n\tat org.apache.avro.generic.GenericDatumWriter.write(GenericDatumWriter.java:62)\r\n\tat org.apache.hudi.common.table.log.block.HoodieAvroDataBlock.serializeRecords(HoodieAvroDataBlock.java:106)\r\n\tat org.apache.hudi.common.table.log.block.HoodieDataBlock.getContentBytes(HoodieDataBlock.java:97)\r\n\tat org.apache.hudi.common.table.log.HoodieLogFormatWriter.appendBlocks(HoodieLogFormatWriter.java:164)\r\n\tat org.apache.hudi.common.table.log.HoodieLogFormatWriter.appendBlock(HoodieLogFormatWriter.java:142)\r\n\tat org.apache.hudi.table.HoodieTimelineArchiveLog.writeToFile(HoodieTimelineArchiveLog.java:361)\r\n\tat org.apache.hudi.table.HoodieTimelineArchiveLog.archive(HoodieTimelineArchiveLog.java:311)\r\n\tat org.apache.hudi.table.HoodieTimelineArchiveLog.archiveIfRequired(HoodieTimelineArchiveLog.java:138)\r\n\tat org.apache.hudi.client.AbstractHoodieWriteClient.postCommit(AbstractHoodieWriteClient.java:426)\r\n\tat org.apache.hudi.client.AbstractHoodieWriteClient.commitStats(AbstractHoodieWriteClient.java:188)\r\n\tat org.apache.hudi.client.SparkRDDWriteClient.commit(SparkRDDWriteClient.java:110)\r\n\tat org.apache.hudi.HoodieSparkSqlWriter$.commitAndPerformPostOperations(HoodieSparkSqlWriter.scala:443)\r\n\tat org.apache.hudi.HoodieSparkSqlWriter$.write(HoodieSparkSqlWriter.scala:218)\r\n\tat org.apache.hudi.DefaultSource.createRelation(DefaultSource.scala:134)\r\n\tat org.apache.spark.sql.execution.datasources.SaveIntoDataSourceCommand.run(SaveIntoDataSourceCommand.scala:46)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:70)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:68)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.doExecute(commands.scala:90)\r\n\tat org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:180)\r\n\tat org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:218)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:215)\r\n\tat org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:176)\r\n\tat org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:124)\r\n\tat org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:123)\r\n\tat org.apache.spark.sql.DataFrameWriter.$anonfun$runCommand$1(DataFrameWriter.scala:963)\r\n\tat org.apache.spark.sql.catalyst.QueryPlanningTracker$.withTracker(QueryPlanningTracker.scala:104)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withTracker(SQLExecution.scala:227)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.executeQuery$1(SQLExecution.scala:107)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$6(SQLExecution.scala:132)\r\n\tat org.apache.spark.sql.catalyst.QueryPlanningTracker$.withTracker(QueryPlanningTracker.scala:104)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withTracker(SQLExecution.scala:227)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:132)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:248)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:131)\r\n\tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:764)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:68)\r\n\tat org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:963)\r\n\tat org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:415)\r\n\tat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:399)\r\n\tat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:288)\r\n\tat hudiwriter.HudiWriter.merge(HudiWriter.scala:72)\r\n\tat hudiwriter.HudiContext.writeToHudi(HudiContext.scala:35)\r\n\tat jobs.TableProcessor.start(TableProcessor.scala:84)\r\n\tat TableProcessorWrapper$.$anonfun$main$2(TableProcessorWrapper.scala:23)\r\n\tat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n\tat scala.concurrent.Future$.$anonfun$apply$1(Future.scala:659)\r\n\tat scala.util.Success.$anonfun$map$1(Try.scala:255)\r\n\tat scala.util.Success.map(Try.scala:213)\r\n\tat scala.concurrent.Future.$anonfun$map$1(Future.scala:292)\r\n\tat scala.concurrent.impl.Promise.liftedTree1$1(Promise.scala:33)\r\n\tat scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)\r\n\tat scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)\r\n\tat java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:175)\r\nCaused by: java.lang.NullPointerException\r\n\tat org.apache.avro.io.Encoder.writeString(Encoder.java:121)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeString(GenericDatumWriter.java:267)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeString(GenericDatumWriter.java:262)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeWithoutConversion(GenericDatumWriter.java:128)\r\n\tat org.apache.avro.generic.GenericDatumWriter.write(GenericDatumWriter.java:75)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeMap(GenericDatumWriter.java:234)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeWithoutConversion(GenericDatumWriter.java:121)\r\n\tat org.apache.avro.generic.GenericDatumWriter.write(GenericDatumWriter.java:75)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeWithoutConversion(GenericDatumWriter.java:125)\r\n\tat org.apache.avro.generic.GenericDatumWriter.write(GenericDatumWriter.java:75)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeField(GenericDatumWriter.java:166)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeRecord(GenericDatumWriter.java:156)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeWithoutConversion(GenericDatumWriter.java:118)\r\n\tat org.apache.avro.generic.GenericDatumWriter.write(GenericDatumWriter.java:75)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeWithoutConversion(GenericDatumWriter.java:125)\r\n\tat org.apache.avro.generic.GenericDatumWriter.write(GenericDatumWriter.java:75)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeField(GenericDatumWriter.java:166)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeRecord(GenericDatumWriter.java:156)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeWithoutConversion(GenericDatumWriter.java:118)\r\n\t... 59 more","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771606651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771690219","html_url":"https://github.com/apache/hudi/pull/2310#issuecomment-771690219","issue_url":"https://api.github.com/repos/apache/hudi/issues/2310","id":771690219,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTY5MDIxOQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T14:53:21Z","updated_at":"2021-02-02T14:53:21Z","author_association":"CONTRIBUTOR","body":"@Xoln : When you get time, can you please respond to comments and address them if required. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771690219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771700273","html_url":"https://github.com/apache/hudi/pull/1929#issuecomment-771700273","issue_url":"https://api.github.com/repos/apache/hudi/issues/1929","id":771700273,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTcwMDI3Mw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T15:07:11Z","updated_at":"2021-02-02T15:07:11Z","author_association":"CONTRIBUTOR","body":"@liujinhui1994 : please let me know once you have addressed all comments and rebased w/ latest master. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771700273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771782258","html_url":"https://github.com/apache/hudi/pull/2519#issuecomment-771782258","issue_url":"https://api.github.com/repos/apache/hudi/issues/2519","id":771782258,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTc4MjI1OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T16:51:48Z","updated_at":"2021-02-25T11:58:56Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2519?src=pr&el=h1) Report\n> Merging [#2519](https://codecov.io/gh/apache/hudi/pull/2519?src=pr&el=desc) (6f0fd84) into [master](https://codecov.io/gh/apache/hudi/commit/06dc7c7fd8a867a1e1da90f7dc19b0cc2da69bba?el=desc) (06dc7c7) will **increase** coverage by `18.14%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2519/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2519?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2519       +/-   ##\n=============================================\n+ Coverage     51.22%   69.36%   +18.14%     \n+ Complexity     3230      356     -2874     \n=============================================\n  Files           438       53      -385     \n  Lines         20093     1929    -18164     \n  Branches       2069      230     -1839     \n=============================================\n- Hits          10292     1338     -8954     \n+ Misses         8954      458     -8496     \n+ Partials        847      133      -714     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `69.36% <ø> (-0.16%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2519?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...in/java/org/apache/hudi/utilities/UtilHelpers.java](https://codecov.io/gh/apache/hudi/pull/2519/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL1V0aWxIZWxwZXJzLmphdmE=) | `64.53% <0.00%> (-1.17%)` | `32.00% <0.00%> (ø%)` | |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/2519/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `70.00% <0.00%> (-0.36%)` | `50.00% <0.00%> (-1.00%)` | |\n| [.../apache/hudi/metadata/HoodieTableMetadataUtil.java](https://codecov.io/gh/apache/hudi/pull/2519/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllVGFibGVNZXRhZGF0YVV0aWwuamF2YQ==) | | | |\n| [...a/org/apache/hudi/common/util/CompactionUtils.java](https://codecov.io/gh/apache/hudi/pull/2519/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvQ29tcGFjdGlvblV0aWxzLmphdmE=) | | | |\n| [...e/hudi/common/table/log/HoodieLogFormatReader.java](https://codecov.io/gh/apache/hudi/pull/2519/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRSZWFkZXIuamF2YQ==) | | | |\n| [.../apache/hudi/common/table/log/HoodieLogFormat.java](https://codecov.io/gh/apache/hudi/pull/2519/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXQuamF2YQ==) | | | |\n| [...main/scala/org/apache/hudi/HoodieWriterUtils.scala](https://codecov.io/gh/apache/hudi/pull/2519/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0hvb2RpZVdyaXRlclV0aWxzLnNjYWxh) | | | |\n| [.../org/apache/hudi/common/model/BaseAvroPayload.java](https://codecov.io/gh/apache/hudi/pull/2519/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0Jhc2VBdnJvUGF5bG9hZC5qYXZh) | | | |\n| [...di/source/JsonStringToHoodieRecordMapFunction.java](https://codecov.io/gh/apache/hudi/pull/2519/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zb3VyY2UvSnNvblN0cmluZ1RvSG9vZGllUmVjb3JkTWFwRnVuY3Rpb24uamF2YQ==) | | | |\n| [...ava/org/apache/hudi/payload/AWSDmsAvroPayload.java](https://codecov.io/gh/apache/hudi/pull/2519/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvcGF5bG9hZC9BV1NEbXNBdnJvUGF5bG9hZC5qYXZh) | | | |\n| ... and [374 more](https://codecov.io/gh/apache/hudi/pull/2519/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771782258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771803301","html_url":"https://github.com/apache/hudi/issues/2470#issuecomment-771803301","issue_url":"https://api.github.com/repos/apache/hudi/issues/2470","id":771803301,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTgwMzMwMQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T17:13:00Z","updated_at":"2021-02-02T17:13:00Z","author_association":"MEMBER","body":"if you are already on 0.6.0, the upgrade step would have run anyway from 0.5.x. No additional steps needed to migrate to 0.7.0. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771803301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771905029","html_url":"https://github.com/apache/hudi/issues/2284#issuecomment-771905029","issue_url":"https://api.github.com/repos/apache/hudi/issues/2284","id":771905029,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTkwNTAyOQ==","user":{"login":"sleapfish","id":78421682,"node_id":"MDQ6VXNlcjc4NDIxNjgy","avatar_url":"https://avatars.githubusercontent.com/u/78421682?v=4","gravatar_id":"","url":"https://api.github.com/users/sleapfish","html_url":"https://github.com/sleapfish","followers_url":"https://api.github.com/users/sleapfish/followers","following_url":"https://api.github.com/users/sleapfish/following{/other_user}","gists_url":"https://api.github.com/users/sleapfish/gists{/gist_id}","starred_url":"https://api.github.com/users/sleapfish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sleapfish/subscriptions","organizations_url":"https://api.github.com/users/sleapfish/orgs","repos_url":"https://api.github.com/users/sleapfish/repos","events_url":"https://api.github.com/users/sleapfish/events{/privacy}","received_events_url":"https://api.github.com/users/sleapfish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T19:15:46Z","updated_at":"2021-02-02T19:15:46Z","author_association":"NONE","body":"I would also appreciate such feature, I believe it's pretty common use case and having this would make a lot of difference. @bvaradar  do you have any examples or if you can point me out how can I implement custom merging logic with HoodieRecordPayload.java?\r\n\r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/771905029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772020119","html_url":"https://github.com/apache/hudi/issues/2509#issuecomment-772020119","issue_url":"https://api.github.com/repos/apache/hudi/issues/2509","id":772020119,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjAyMDExOQ==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T21:50:42Z","updated_at":"2021-02-02T21:53:42Z","author_association":"MEMBER","body":"Hi\r\n\r\nIf you set support_timestamp property mentioned [here](https://hudi.apache.org/docs/configurations.html#HIVE_SUPPORT_TIMESTAMP), hudi will convert the field to timestamp type in hive. \r\n\r\nNote that you need to verify compatibility of this with hive/presto/athena versions you are using. We made some changes to interpret the field correctly as timestamp. Refer to [this](https://github.com/prestodb/presto/pull/15074) change in presto for example. We did similar changes in our internal hive deployment.\r\n\r\nSome more background: Hudi uses parquet-avro module which converts timestamp to INT64 with logical type TIMESTAMP_MICROS. Hive and other query engines expect timestamp to be in INT96 format. But INT96 is no longer supported. Recommended path forward is to deprecate int96 and change query engines to work with int64 type https://issues.apache.org/jira/browse/PARQUET-1883 has additional details.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772020119/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772108742","html_url":"https://github.com/apache/hudi/issues/2509#issuecomment-772108742","issue_url":"https://api.github.com/repos/apache/hudi/issues/2509","id":772108742,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjEwODc0Mg==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T00:22:00Z","updated_at":"2021-02-03T00:22:00Z","author_association":"NONE","body":"Great to know, I will test this feature in Athena and Redshift Spectrum, if someone already made this test, please let me know.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772108742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772111789","html_url":"https://github.com/apache/hudi/issues/2463#issuecomment-772111789","issue_url":"https://api.github.com/repos/apache/hudi/issues/2463","id":772111789,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjExMTc4OQ==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T00:29:08Z","updated_at":"2021-02-03T00:29:08Z","author_association":"NONE","body":"No, I think the difference in performance that I see on upsert is because rdd conversion, for example in bulk insert with hoodie.datasource.write.row.writer.enable ON is much faster on write parquet operation, I read in somewhere that exist plans to solve this in upsert too.\r\n\r\nI'm trying to tune the file size, \r\nis there anything else that can be done?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772111789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772225257","html_url":"https://github.com/apache/hudi/issues/2509#issuecomment-772225257","issue_url":"https://api.github.com/repos/apache/hudi/issues/2509","id":772225257,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjIyNTI1Nw==","user":{"login":"zuyanton","id":67354813,"node_id":"MDQ6VXNlcjY3MzU0ODEz","avatar_url":"https://avatars.githubusercontent.com/u/67354813?v=4","gravatar_id":"","url":"https://api.github.com/users/zuyanton","html_url":"https://github.com/zuyanton","followers_url":"https://api.github.com/users/zuyanton/followers","following_url":"https://api.github.com/users/zuyanton/following{/other_user}","gists_url":"https://api.github.com/users/zuyanton/gists{/gist_id}","starred_url":"https://api.github.com/users/zuyanton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zuyanton/subscriptions","organizations_url":"https://api.github.com/users/zuyanton/orgs","repos_url":"https://api.github.com/users/zuyanton/repos","events_url":"https://api.github.com/users/zuyanton/events{/privacy}","received_events_url":"https://api.github.com/users/zuyanton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T04:49:14Z","updated_at":"2021-02-03T04:49:14Z","author_association":"NONE","body":"@satishkotha I added that parameter to my example, now  after writing data into s3 , when I run ```spark.sql(\"describe testTable3\").show``` I get \r\n```\r\n+--------------------+---------+-------+  \r\n|            col_name|data_type|comment|\r\n+--------------------+---------+-------+\r\n....\r\n|           timestamp|timestamp|   null|\r\n```  \r\nwhich is good , however when I run ```spark.sql(\"select * from  testTable3\").show``` I get exception    \r\njava.lang.ClassCastException: org.apache.hadoop.io.LongWritable cannot be cast to org.apache.hadoop.hive.serde2.io.TimestampWritable\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772225257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772268874","html_url":"https://github.com/apache/hudi/pull/2525#issuecomment-772268874","issue_url":"https://api.github.com/repos/apache/hudi/issues/2525","id":772268874,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjI2ODg3NA==","user":{"login":"MyLanPangzi","id":46845236,"node_id":"MDQ6VXNlcjQ2ODQ1MjM2","avatar_url":"https://avatars.githubusercontent.com/u/46845236?v=4","gravatar_id":"","url":"https://api.github.com/users/MyLanPangzi","html_url":"https://github.com/MyLanPangzi","followers_url":"https://api.github.com/users/MyLanPangzi/followers","following_url":"https://api.github.com/users/MyLanPangzi/following{/other_user}","gists_url":"https://api.github.com/users/MyLanPangzi/gists{/gist_id}","starred_url":"https://api.github.com/users/MyLanPangzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MyLanPangzi/subscriptions","organizations_url":"https://api.github.com/users/MyLanPangzi/orgs","repos_url":"https://api.github.com/users/MyLanPangzi/repos","events_url":"https://api.github.com/users/MyLanPangzi/events{/privacy}","received_events_url":"https://api.github.com/users/MyLanPangzi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T06:29:50Z","updated_at":"2021-02-03T06:29:50Z","author_association":"CONTRIBUTOR","body":"find some bug","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772268874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772301128","html_url":"https://github.com/apache/hudi/pull/2359#issuecomment-772301128","issue_url":"https://api.github.com/repos/apache/hudi/issues/2359","id":772301128,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjMwMTEyOA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T07:34:03Z","updated_at":"2021-02-03T07:34:32Z","author_association":"CONTRIBUTOR","body":"> The concern I had was the part 2 where, a committed write could have been archived and we may end up skipping it. Can you please clarify again how we guard that? By ensuring the archival will wait for the cleaner to log this block?\r\n\r\n@vinothchandar I have made 2 changes for multi-writer. \r\n\r\n1. I changed the logic in `HoodieTimelineArchiveLog` to NOT archive anything after the oldest inflight. For long running jobs, we want to make sure that all instants that happened after it are present and not archived so conflict resolution can be done correctly. \r\n2. I have added a check in log scanning code that log blocks instant should be either a) in the commit timeline or earlier that the earliest commit and b) not present in the inflight timeline. \r\n\r\nNot following your ask around committed writes and skipping, can you elaborate ? Resolved other comments, left 1 open item.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772301128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772477828","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-772477828","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":772477828,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjQ3NzgyOA==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T12:39:08Z","updated_at":"2021-02-03T12:39:08Z","author_association":"NONE","body":"@n3nash any idea about how to solve the problem? I'm planing to start migrate Hudi to production in my next sprint :(","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772477828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772510104","html_url":"https://github.com/apache/hudi/issues/2498#issuecomment-772510104","issue_url":"https://api.github.com/repos/apache/hudi/issues/2498","id":772510104,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjUxMDEwNA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T13:34:59Z","updated_at":"2021-02-03T13:34:59Z","author_association":"CONTRIBUTOR","body":"Have filed a jira. Will follow up in the jira. thanks. https://issues.apache.org/jira/browse/HUDI-1578\r\nClosing this for now. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772510104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772538678","html_url":"https://github.com/apache/hudi/pull/2530#issuecomment-772538678","issue_url":"https://api.github.com/repos/apache/hudi/issues/2530","id":772538678,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjUzODY3OA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T14:10:53Z","updated_at":"2021-02-03T14:12:13Z","author_association":"CONTRIBUTOR","body":"This is just to try it out for now. Once this works, will work on the actual requirement. i.e. when an author responds to some clarifying question, the label of interest (\"waiting-for-user-input\") is removed and a new label is added. may be (\"needs-assistance\") or something. \r\nReference: https://renato66.github.io/auto-label/","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772538678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772568599","html_url":"https://github.com/apache/hudi/issues/2408#issuecomment-772568599","issue_url":"https://api.github.com/repos/apache/hudi/issues/2408","id":772568599,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjU2ODU5OQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T14:54:13Z","updated_at":"2021-02-03T14:54:13Z","author_association":"CONTRIBUTOR","body":"@umehrot2 : would you mind following up on this issue","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772568599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772569933","html_url":"https://github.com/apache/hudi/issues/2423#issuecomment-772569933","issue_url":"https://api.github.com/repos/apache/hudi/issues/2423","id":772569933,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjU2OTkzMw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T14:55:59Z","updated_at":"2021-02-03T14:55:59Z","author_association":"CONTRIBUTOR","body":"Closing this ticket(PR is landed). if you find any other issues, do let us know. Thanks for helping improve Hudi :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772569933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772571950","html_url":"https://github.com/apache/hudi/issues/2467#issuecomment-772571950","issue_url":"https://api.github.com/repos/apache/hudi/issues/2467","id":772571950,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjU3MTk1MA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T14:58:43Z","updated_at":"2021-02-03T14:58:43Z","author_association":"CONTRIBUTOR","body":"Closing the issue as have a tracking jira. Do open a new issue if you find anything else. As always, thanks for helping improve Hudi :)  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772571950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772582307","html_url":"https://github.com/apache/hudi/issues/2508#issuecomment-772582307","issue_url":"https://api.github.com/repos/apache/hudi/issues/2508","id":772582307,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjU4MjMwNw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T15:12:46Z","updated_at":"2021-02-03T15:12:46Z","author_association":"CONTRIBUTOR","body":"Sure. I will check it out. But in the mean time, can you(@rubenssoto ) confirm that you are not blocked as such and you were looking to get better performance w/ row writing. but in general, you are fine for now? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772582307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772583967","html_url":"https://github.com/apache/hudi/pull/2524#issuecomment-772583967","issue_url":"https://api.github.com/repos/apache/hudi/issues/2524","id":772583967,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjU4Mzk2Nw==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T15:14:58Z","updated_at":"2021-02-03T15:14:58Z","author_association":"CONTRIBUTOR","body":"@yanghua double check?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772583967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772598997","html_url":"https://github.com/apache/hudi/issues/2508#issuecomment-772598997","issue_url":"https://api.github.com/repos/apache/hudi/issues/2508","id":772598997,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjU5ODk5Nw==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T15:34:23Z","updated_at":"2021-02-03T15:34:23Z","author_association":"NONE","body":"@nsivabalan I only have this problem in one table, so, would be good it works in the future, but for now, it's fine.\r\n\r\nthanks for asking, you are the best! :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772598997/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772655440","html_url":"https://github.com/apache/hudi/issues/2508#issuecomment-772655440","issue_url":"https://api.github.com/repos/apache/hudi/issues/2508","id":772655440,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjY1NTQ0MA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T16:49:50Z","updated_at":"2021-02-03T16:52:17Z","author_association":"CONTRIBUTOR","body":"I did ran some local tests w/ array column and things are fine. given below is the schema that I tested locally. Also, from the stack trace, don't think encoders are the issue. but I too don't have much idea as of now. need more time to triage.\r\n@n3nash / @bvaradar : Can you guys spot any issues based on information given buy author. \r\n@rubenssote: I am sure you might have tested the schema and the stack trace also does not hint that. but anyways,  but wanted to confirm once. Did you ensure the schema is valid (and is backwards compatible ) ?  \r\n\r\n```\r\ndiagnostics: User class threw exception: java.lang.Exception: Error on Table: order, Error Message: org.apache.spark.SparkException: Job aborted due to stage failure: Task 7 in stage 28.0 failed 4 times, most recent failure: Lost task 7.3 in stage 28.0 (TID 530, ip-10-0-29-119.us-west-2.compute.internal, executor 5): org.apache.hudi.exception.HoodieUpsertException: Error upserting bucketType UPDATE for partition :7\r\nat org.apache.hudi.table.action.commit.BaseSparkCommitActionExecutor.handleUpsertPartition(BaseSparkCommitActionExecutor.java:279)\r\nat org.apache.hudi.table.action.commit.BaseSparkCommitActionExecutor.lambda$execute$ecf5068c$1(BaseSparkCommitActionExecutor.java:135)\r\n```\r\n\r\n```\r\npublic static final StructType STRUCT_TYPE = new StructType(new StructField[] {\r\n      new StructField(HoodieRecord.COMMIT_TIME_METADATA_FIELD, DataTypes.StringType, false, Metadata.empty()),\r\n      new StructField(HoodieRecord.COMMIT_SEQNO_METADATA_FIELD, DataTypes.StringType, false, Metadata.empty()),\r\n      new StructField(HoodieRecord.RECORD_KEY_METADATA_FIELD, DataTypes.StringType, false, Metadata.empty()),\r\n      new StructField(HoodieRecord.PARTITION_PATH_METADATA_FIELD, DataTypes.StringType, false, Metadata.empty()),\r\n      new StructField(HoodieRecord.FILENAME_METADATA_FIELD, DataTypes.StringType, false, Metadata.empty()),\r\n      new StructField(\"randomInt\", DataTypes.IntegerType, false, Metadata.empty()),\r\n      new StructField(\"randomLong\", DataTypes.LongType, false, Metadata.empty()),\r\n      new StructField(\"array_long\", DataTypes.createArrayType(DataTypes.LongType), false, Metadata.empty())\r\n  });public static final StructType STRUCT_TYPE = new StructType(new StructField[] {\r\n      new StructField(HoodieRecord.COMMIT_TIME_METADATA_FIELD, DataTypes.StringType, false, Metadata.empty()),\r\n      new StructField(HoodieRecord.COMMIT_SEQNO_METADATA_FIELD, DataTypes.StringType, false, Metadata.empty()),\r\n      new StructField(HoodieRecord.RECORD_KEY_METADATA_FIELD, DataTypes.StringType, false, Metadata.empty()),\r\n      new StructField(HoodieRecord.PARTITION_PATH_METADATA_FIELD, DataTypes.StringType, false, Metadata.empty()),\r\n      new StructField(HoodieRecord.FILENAME_METADATA_FIELD, DataTypes.StringType, false, Metadata.empty()),\r\n      new StructField(\"randomInt\", DataTypes.IntegerType, false, Metadata.empty()),\r\n      new StructField(\"randomLong\", DataTypes.LongType, false, Metadata.empty()),\r\n      new StructField(\"array_long\", DataTypes.createArrayType(DataTypes.LongType), false, Metadata.empty())\r\n  });\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772655440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772661097","html_url":"https://github.com/apache/hudi/issues/2508#issuecomment-772661097","issue_url":"https://api.github.com/repos/apache/hudi/issues/2508","id":772661097,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjY2MTA5Nw==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T16:57:20Z","updated_at":"2021-02-03T16:57:20Z","author_association":"NONE","body":"yeah, is valid, at night, I will test again, only for sure.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772661097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772662864","html_url":"https://github.com/apache/hudi/issues/2522#issuecomment-772662864","issue_url":"https://api.github.com/repos/apache/hudi/issues/2522","id":772662864,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjY2Mjg2NA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T16:59:32Z","updated_at":"2021-02-03T16:59:58Z","author_association":"CONTRIBUTOR","body":"@sleapfish : do you mean to say that, you can't control your source and hence it could fetch unchanged records as well to do upserts to Hudi? And with this, you want to ignore records already in Hudi(matching all values for an incoming row) and upsert only those records that has any changes? \r\nWould you mind confirming this. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772662864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772668176","html_url":"https://github.com/apache/hudi/issues/2522#issuecomment-772668176","issue_url":"https://api.github.com/repos/apache/hudi/issues/2522","id":772668176,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjY2ODE3Ng==","user":{"login":"sleapfish","id":78421682,"node_id":"MDQ6VXNlcjc4NDIxNjgy","avatar_url":"https://avatars.githubusercontent.com/u/78421682?v=4","gravatar_id":"","url":"https://api.github.com/users/sleapfish","html_url":"https://github.com/sleapfish","followers_url":"https://api.github.com/users/sleapfish/followers","following_url":"https://api.github.com/users/sleapfish/following{/other_user}","gists_url":"https://api.github.com/users/sleapfish/gists{/gist_id}","starred_url":"https://api.github.com/users/sleapfish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sleapfish/subscriptions","organizations_url":"https://api.github.com/users/sleapfish/orgs","repos_url":"https://api.github.com/users/sleapfish/repos","events_url":"https://api.github.com/users/sleapfish/events{/privacy}","received_events_url":"https://api.github.com/users/sleapfish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T17:06:38Z","updated_at":"2021-02-03T17:08:05Z","author_association":"NONE","body":"@nsivabalan That is correct! But maybe if you have control over source but let's say that you do something like extracting data from it with a rolling window of -3 days. And there is a case where some of the records from -3 days could change, but most of the records wouldn't. I want to commit only changed/new records to target Hudi table.\r\n\r\nWhen I do incremental query I don't want all 3 days worth of data in it, even tho only small portion of it actually changed","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772668176/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772787278","html_url":"https://github.com/apache/hudi/issues/2509#issuecomment-772787278","issue_url":"https://api.github.com/repos/apache/hudi/issues/2509","id":772787278,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Mjc4NzI3OA==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T20:07:16Z","updated_at":"2021-02-03T20:07:56Z","author_association":"MEMBER","body":"@zuyanton yes, as i mentioned earlier some changes are needed in query engines. Refer to [this](https://github.com/prestodb/presto/pull/15074) change in presto for example. See [this ticket](https://issues.apache.org/jira/browse/HIVE-21215) for how this is fixed upstream in hive. You likely need to port this change to your hive deployment to make this work. (Or you could also upgrade your hive version to 4)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772787278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772793891","html_url":"https://github.com/apache/hudi/issues/2509#issuecomment-772793891","issue_url":"https://api.github.com/repos/apache/hudi/issues/2509","id":772793891,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Mjc5Mzg5MQ==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T20:17:12Z","updated_at":"2021-02-03T20:17:12Z","author_association":"NONE","body":"@satishkotha could you help me how to explain to aws support which fixes should be applied to athena.\r\n\r\n@umehrot2 do you know if anything should be changed on emr?\r\n\r\nthank you","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772793891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772797323","html_url":"https://github.com/apache/hudi/pull/2485#issuecomment-772797323","issue_url":"https://api.github.com/repos/apache/hudi/issues/2485","id":772797323,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Mjc5NzMyMw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T20:22:41Z","updated_at":"2021-02-03T20:22:52Z","author_association":"MEMBER","body":"@pengzhiwei2018 I am planning to spend sometime on this as well. \r\n\r\nHigh level question. does the `offset` for the streaming read map to `_hoodie_commit_seq_no` in this implementation. This way we can actually do record level streams and even resume where we left off. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772797323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772798888","html_url":"https://github.com/apache/hudi/issues/2509#issuecomment-772798888","issue_url":"https://api.github.com/repos/apache/hudi/issues/2509","id":772798888,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Mjc5ODg4OA==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T20:25:11Z","updated_at":"2021-02-03T20:25:11Z","author_association":"MEMBER","body":"@rubenssoto AFAIK, athena is built on top of Presto. So you could ask them to apply above presto change. You can say this is needed for interpreting Parquet INT64 timestamp correctly.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772798888/reactions","total_count":3,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772801909","html_url":"https://github.com/apache/hudi/pull/2320#issuecomment-772801909","issue_url":"https://api.github.com/repos/apache/hudi/issues/2320","id":772801909,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjgwMTkwOQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T20:30:12Z","updated_at":"2021-02-03T20:30:12Z","author_association":"MEMBER","body":"AFAIK @prashantwason @vingov  are also interested in this. @manijndl7  are you still actively working on this? or do you mind if one of them take this across finish line/merge efforts? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772801909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772803517","html_url":"https://github.com/apache/hudi/pull/2320#issuecomment-772803517","issue_url":"https://api.github.com/repos/apache/hudi/issues/2320","id":772803517,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjgwMzUxNw==","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T20:32:58Z","updated_at":"2021-02-03T20:32:58Z","author_association":"MEMBER","body":"Yes, we are interested in ORC support. We have already started an internal project towards this end.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772803517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772807659","html_url":"https://github.com/apache/hudi/pull/2309#issuecomment-772807659","issue_url":"https://api.github.com/repos/apache/hudi/issues/2309","id":772807659,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjgwNzY1OQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T20:39:54Z","updated_at":"2021-02-03T20:39:54Z","author_association":"MEMBER","body":"@nbalajee @nsivabalan can you please summarize the status of this PR? is it ready to go after rebasing or should we spend more time in the review","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772807659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772872473","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-772872473","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":772872473,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Mjg3MjQ3Mw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T22:33:10Z","updated_at":"2021-02-03T22:33:10Z","author_association":"MEMBER","body":"Okay. For now, you can set a flag that does not fail the commit on archival failures. Let me fish that out for you","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772872473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772874368","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-772874368","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":772874368,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Mjg3NDM2OA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T22:37:02Z","updated_at":"2021-02-03T22:37:02Z","author_association":"MEMBER","body":"@rubenssoto can you try `hoodie.fail.on.timeline.archiving=false`  to get out of this situation. Its likely a schema issue. \r\n\r\n@n3nash did you find any schema changes that can affect this? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772874368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772875610","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-772875610","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":772875610,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Mjg3NTYxMA==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T22:39:30Z","updated_at":"2021-02-03T22:39:30Z","author_association":"NONE","body":"I will try, if you need any information on my side please let me know.\r\n\r\nthank you so much","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772875610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772878297","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-772878297","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":772878297,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Mjg3ODI5Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T22:45:18Z","updated_at":"2021-02-03T22:45:18Z","author_association":"MEMBER","body":"Its really weird, coz `HoodieCommitMetadata` schema has not changed at all  and you have all .commit/cow stuff \r\nhttps://github.com/apache/hudi/commits/master/hudi-common/src/main/avro/HoodieCommitMetadata.avsc \r\n\r\nSo, the key question actually is `21/02/01 08:12:22 ERROR HoodieTimelineArchiveLog: Failed to archive commits, .commit file: 20210201021259.commit.requested`, do we expect the .requested to be archived.? \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772878297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772879380","html_url":"https://github.com/apache/hudi/pull/2530#issuecomment-772879380","issue_url":"https://api.github.com/repos/apache/hudi/issues/2530","id":772879380,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Mjg3OTM4MA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T22:47:40Z","updated_at":"2021-02-03T22:47:40Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2530?src=pr&el=h1) Report\n> Merging [#2530](https://codecov.io/gh/apache/hudi/pull/2530?src=pr&el=desc) (1f2bfb8) into [master](https://codecov.io/gh/apache/hudi/commit/d74d8e208439df8cb2eb6c24019be55c002d00a5?el=desc) (d74d8e2) will **not change** coverage.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2530/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2530?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #2530   +/-   ##\n=========================================\n  Coverage     50.52%   50.52%           \n  Complexity     3123     3123           \n=========================================\n  Files           430      430           \n  Lines         19597    19597           \n  Branches       2008     2008           \n=========================================\n  Hits           9901     9901           \n  Misses         8887     8887           \n  Partials        809      809           \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `37.21% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `51.43% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiflink | `33.03% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.16% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `69.46% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisync | `48.61% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `66.49% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.48% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772879380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772906576","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-772906576","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":772906576,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjkwNjU3Ng==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T23:47:03Z","updated_at":"2021-02-03T23:47:03Z","author_association":"NONE","body":"To give you more information:\r\n\r\n\r\n`21/02/03 23:21:06 INFO S3NativeFileSystem: Opening 's3://dl/courier_api/customer_phone_number_validator/.hoodie/20210203003812.commit.requested' for reading\r\n21/02/03 23:21:06 INFO S3NativeFileSystem: Opening 's3://dl/courier_api/delivery_package/.hoodie/20210203230906.commit' for reading\r\n21/02/03 23:21:06 INFO S3NativeFileSystem: Opening 's3://dl/courier_api/customer_newsletter/.hoodie/20210203230900.commit' for reading\r\n21/02/03 23:21:06 INFO S3NativeFileSystem: Opening 's3://dl/courier_api/account_delete_audit_trail/.hoodie/20210203230905.commit' for reading\r\n21/02/03 23:21:06 INFO S3NativeFileSystem: Opening 's3://dl/courier_api/contact_rate/.hoodie/20210203230904.commit' for reading\r\n21/02/03 23:21:06 INFO S3NativeFileSystem: Opening 's3://dl/courier_api/customer_phone_number_validator/.hoodie/20210203003812.inflight' for reading\r\n21/02/03 23:21:06 INFO S3NativeFileSystem: Opening 's3://dl/courier_api/delivery_request/.hoodie/20210203230902.commit' for reading\r\n21/02/03 23:21:06 INFO S3NativeFileSystem: Opening 's3://dl/courier_api/customer_newsletter/.hoodie/20210203232021.commit' for reading\r\n21/02/03 23:21:06 INFO S3NativeFileSystem: Opening 's3://dl/courier_api/account_delete_audit_trail/.hoodie/20210203232026.commit' for reading\r\n21/02/03 23:21:06 INFO S3NativeFileSystem: Opening 's3://dl/courier_api/delivery_package/.hoodie/20210203232025.commit' for reading\r\n21/02/03 23:21:06 INFO S3NativeFileSystem: Opening 's3://dl/courier_api/contact_rate/.hoodie/20210203232023.commit' for reading\r\n21/02/03 23:21:06 INFO S3NativeFileSystem: Opening 's3://dl/courier_api/customer_phone_number_validator/.hoodie/20210203003812.commit' for reading\r\n21/02/03 23:21:06 INFO S3NativeFileSystem: Opening 's3://dl/courier_api/delivery_request/.hoodie/20210203232027.commit' for reading\r\n21/02/03 23:21:06 INFO S3NativeFileSystem: Opening 's3://dl/courier_api/customer_phone_number_validator/.hoodie/20210203021056.commit.requested' for reading\r\n21/02/03 23:21:06 INFO S3NativeFileSystem: Opening 's3://dl/courier_api/customer_phone_number_validator/.hoodie/20210203021056.inflight' for reading\r\n21/02/03 23:21:06 INFO S3NativeFileSystem: Opening 's3://dl/courier_api/customer_phone_number_validator/.hoodie/20210203021056.commit' for reading\r\n21/02/03 23:21:06 INFO S3NativeFileSystem: Opening 's3://dl/courier_api/customer_phone_number_validator/.hoodie/20210203022114.commit.requested' for reading\r\n21/02/03 23:21:06 INFO S3NativeFileSystem: Opening 's3://dl/courier_api/customer_phone_number_validator/.hoodie/20210203022114.inflight' for reading\r\n21/02/03 23:21:06 INFO S3NativeFileSystem: Opening 's3://dl/courier_api/customer_phone_number_validator/.hoodie/20210203022114.commit' for reading\r\n21/02/03 23:21:06 INFO S3NativeFileSystem: Opening 's3://dl/courier_api/customer_phone_number_validator/.hoodie/20210203023128.commit.requested' for reading\r\n21/02/03 23:21:07 ERROR HoodieTimelineArchiveLog: Failed to archive commits, .commit file: 20210203023128.commit.requested\r\njava.lang.NullPointerException: null of string of map of union in field extraMetadata of org.apache.hudi.avro.model.HoodieCommitMetadata of union in field hoodieCommitMetadata of org.apache.hudi.avro.model.HoodieArchivedMetaEntry\r\n\tat org.apache.avro.generic.GenericDatumWriter.npe(GenericDatumWriter.java:145)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeWithoutConversion(GenericDatumWriter.java:139)\r\n\tat org.apache.avro.generic.GenericDatumWriter.write(GenericDatumWriter.java:75)\r\n\tat org.apache.avro.generic.GenericDatumWriter.write(GenericDatumWriter.java:62)\r\n\tat org.apache.hudi.common.table.log.block.HoodieAvroDataBlock.serializeRecords(HoodieAvroDataBlock.java:106)\r\n\tat org.apache.hudi.common.table.log.block.HoodieDataBlock.getContentBytes(HoodieDataBlock.java:97)\r\n\tat org.apache.hudi.common.table.log.HoodieLogFormatWriter.appendBlocks(HoodieLogFormatWriter.java:164)\r\n\tat org.apache.hudi.common.table.log.HoodieLogFormatWriter.appendBlock(HoodieLogFormatWriter.java:142)\r\n\tat org.apache.hudi.table.HoodieTimelineArchiveLog.writeToFile(HoodieTimelineArchiveLog.java:361)\r\n\tat org.apache.hudi.table.HoodieTimelineArchiveLog.archive(HoodieTimelineArchiveLog.java:311)\r\n\tat org.apache.hudi.table.HoodieTimelineArchiveLog.archiveIfRequired(HoodieTimelineArchiveLog.java:138)` \r\n\r\n\r\nAll data related to the commit:\r\n\r\n[Arquivo Comprimido 2.zip](https://github.com/apache/hudi/files/5922188/Arquivo.Comprimido.2.zip)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772906576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772940950","html_url":"https://github.com/apache/hudi/pull/2524#issuecomment-772940950","issue_url":"https://api.github.com/repos/apache/hudi/issues/2524","id":772940950,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Mjk0MDk1MA==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T00:53:48Z","updated_at":"2021-02-04T00:53:48Z","author_association":"CONTRIBUTOR","body":"@ZhangChaoming Please check Travis's exception.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772940950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772943979","html_url":"https://github.com/apache/hudi/pull/2530#issuecomment-772943979","issue_url":"https://api.github.com/repos/apache/hudi/issues/2530","id":772943979,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Mjk0Mzk3OQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T01:01:42Z","updated_at":"2021-02-04T01:01:42Z","author_association":"MEMBER","body":"this is a great idea. may be we can do similar things for pull requests? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772943979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772964324","html_url":"https://github.com/apache/hudi/pull/2475#issuecomment-772964324","issue_url":"https://api.github.com/repos/apache/hudi/issues/2475","id":772964324,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Mjk2NDMyNA==","user":{"login":"teeyog","id":19678557,"node_id":"MDQ6VXNlcjE5Njc4NTU3","avatar_url":"https://avatars.githubusercontent.com/u/19678557?v=4","gravatar_id":"","url":"https://api.github.com/users/teeyog","html_url":"https://github.com/teeyog","followers_url":"https://api.github.com/users/teeyog/followers","following_url":"https://api.github.com/users/teeyog/following{/other_user}","gists_url":"https://api.github.com/users/teeyog/gists{/gist_id}","starred_url":"https://api.github.com/users/teeyog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teeyog/subscriptions","organizations_url":"https://api.github.com/users/teeyog/orgs","repos_url":"https://api.github.com/users/teeyog/repos","events_url":"https://api.github.com/users/teeyog/events{/privacy}","received_events_url":"https://api.github.com/users/teeyog/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T01:53:37Z","updated_at":"2021-02-04T01:53:37Z","author_association":"CONTRIBUTOR","body":"> Thanks for this! Seems very useful.\r\n> \r\n> One thing I wanted to understand was - whether an user can still do `basePath/2020/*/*` and have only the parquet files for 2020 read out for e.g?\r\n\r\nOf course it can, but it is specified by the parameter ```basePath=../2020/*/*```\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772964324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772986092","html_url":"https://github.com/apache/hudi/pull/2485#issuecomment-772986092","issue_url":"https://api.github.com/repos/apache/hudi/issues/2485","id":772986092,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Mjk4NjA5Mg==","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T02:48:21Z","updated_at":"2021-02-04T03:01:30Z","author_association":"NONE","body":"> @pengzhiwei2018 I am planning to spend sometime on this as well.\r\n> \r\n> High level question. does the `offset` for the streaming read map to `_hoodie_commit_seq_no` in this implementation. This way we can actually do record level streams and even resume where we left off.\r\n\r\nHi @vinothchandar , welcome to join this. \r\nCurrently the `HoodieSourceOffset` just keep the `commitTime` . In every min batch we consume the incremental data between `(lastCommitTime, currentCommitTime]`   If it failed during the consuming, It will recovered from the offset state and continue  to consuming the data between  `(lastCommitTime, currentCommitTime]`. It is a commit level recovery.\r\nIntroducing `_hoodie_commit_seq_no` to the `offset` may makes recovery more fine-grained to the record level. But the problem is how can we know the max `commit_seq_no` in the commit.  In the `getOffset` method, we must tell spark which `commit_seq_no` we will read to in the min batch. Currently in the hoodie meta data, we just record the commit time for each commit. So this is problem for slicing the offset.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772986092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772991754","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-772991754","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":772991754,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Mjk5MTc1NA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T03:04:28Z","updated_at":"2021-02-04T03:04:28Z","author_association":"MEMBER","body":"@rubenssoto I tried to reproduce this locally. the commit.requested file, actually has no content. So its all an empty record that gets  logged. \r\n\r\nthe conversion from pojo to avro model, seems to explicitly handle the null problem you encountered. Are you sure you are running with 0.7.0. I ask since users have tried to do this at times but end up picking up older jars from EMR\r\n\r\n```\r\npublic static org.apache.hudi.avro.model.HoodieCommitMetadata convertCommitMetadata(\r\n      HoodieCommitMetadata hoodieCommitMetadata) {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    // Need this to ignore other public get() methods\r\n    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    org.apache.hudi.avro.model.HoodieCommitMetadata avroMetaData =\r\n        mapper.convertValue(hoodieCommitMetadata, org.apache.hudi.avro.model.HoodieCommitMetadata.class);\r\n    // Do not archive Rolling Stats, cannot set to null since AVRO will throw null pointer\r\n    avroMetaData.getExtraMetadata().put(HoodieRollingStatMetadata.ROLLING_STAT_METADATA_KEY, \"\");\r\n    return avroMetaData;\r\n  }\r\n```\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772991754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772993801","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-772993801","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":772993801,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Mjk5MzgwMQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T03:10:38Z","updated_at":"2021-02-04T03:10:38Z","author_association":"MEMBER","body":"I tried to reproduce this based on the same file you gave us. No luck. it's fine. :( \r\n\r\n```\r\n@Test\r\n  public void testDeSer() throws IOException {\r\n    System.out.println(\"testDeSer\");\r\n    byte[] content = FileIOUtils.readAsByteArray(new FileInputStream(\"/tmp/20210203023128.commit.requested\"));\r\n    HoodieCommitMetadata commitMetadata = HoodieCommitMetadata.fromBytes(content, HoodieCommitMetadata.class);\r\n    org.apache.hudi.avro.model.HoodieCommitMetadata convertedCommitMetadata = HoodieTimelineArchiveLog.convertCommitMetadata(commitMetadata);\r\n    System.out.println(commitMetadata);\r\n    GenericDatumWriter< IndexedRecord > writer = new GenericDatumWriter<>(convertedCommitMetadata.getSchema());\r\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    DataOutputStream output = new DataOutputStream(baos);\r\n    ByteArrayOutputStream temp = new ByteArrayOutputStream();\r\n    BinaryEncoder encoder = EncoderFactory.get().binaryEncoder(temp, null);\r\n      // Encode the record into bytes\r\n    writer.write(convertedCommitMetadata, encoder);\r\n    encoder.flush();\r\n  }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772993801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772997018","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-772997018","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":772997018,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Mjk5NzAxOA==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T03:19:15Z","updated_at":"2021-02-04T03:19:15Z","author_association":"NONE","body":"Thank you so much for helping me....\r\n\r\nmy spark submit:\r\n`spark-submit --deploy-mode cluster --conf spark.executor.cores=5 --conf spark.executor.memoryOverhead=2000 --conf spark.executor.memory=32g --conf spark.yarn.maxAppAttempts=1 --conf spark.dynamicAllocation.maxExecutors=4 --conf spark.serializer=org.apache.spark.serializer.KryoSerializer --packages org.apache.spark:spark-avro_2.12:2.4.4,org.apache.hudi:hudi-spark-bundle_2.12:0.7.0 --jars s3://dl/lib/spark-daria_2.12-0.38.2.jar --class TableProcessorWrapper s3://dl/code/projects/data_projects/batch_processor_engine/batch-processor-engine_2.12-3.0.1_0.5.jar courier_api_group01`\r\n\r\n\r\nMy spark session:\r\n```\r\ntrait SparkSessionWrapper extends Serializable {\r\n\r\n  val spark = {\r\n    SparkSession.builder\r\n      .appName(\"Batch Processor Engine\")\r\n      .config(\r\n        \"spark.jars.packages\",\r\n        \"org.apache.spark:spark-avro_2.12:2.4.4,org.apache.hudi:hudi-spark-bundle_2.12:0.7.0\"\r\n      )\r\n      .config(\"spark.serializer\", \"org.apache.spark.serializer.KryoSerializer\")\r\n      .enableHiveSupport()\r\n      .getOrCreate()\r\n  }\r\n\r\n}\r\n```\r\n\r\nI am doing anything wrong?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/772997018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773004448","html_url":"https://github.com/apache/hudi/pull/2524#issuecomment-773004448","issue_url":"https://api.github.com/repos/apache/hudi/issues/2524","id":773004448,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzAwNDQ0OA==","user":{"login":"ChaomingZhangCN","id":72908278,"node_id":"MDQ6VXNlcjcyOTA4Mjc4","avatar_url":"https://avatars.githubusercontent.com/u/72908278?v=4","gravatar_id":"","url":"https://api.github.com/users/ChaomingZhangCN","html_url":"https://github.com/ChaomingZhangCN","followers_url":"https://api.github.com/users/ChaomingZhangCN/followers","following_url":"https://api.github.com/users/ChaomingZhangCN/following{/other_user}","gists_url":"https://api.github.com/users/ChaomingZhangCN/gists{/gist_id}","starred_url":"https://api.github.com/users/ChaomingZhangCN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChaomingZhangCN/subscriptions","organizations_url":"https://api.github.com/users/ChaomingZhangCN/orgs","repos_url":"https://api.github.com/users/ChaomingZhangCN/repos","events_url":"https://api.github.com/users/ChaomingZhangCN/events{/privacy}","received_events_url":"https://api.github.com/users/ChaomingZhangCN/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T03:40:59Z","updated_at":"2021-02-04T03:40:59Z","author_association":"CONTRIBUTOR","body":"@yanghua This exception may be possibly caused by Travis, because my code is clean.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773004448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773020297","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-773020297","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":773020297,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzAyMDI5Nw==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T04:31:02Z","updated_at":"2021-02-04T04:31:02Z","author_association":"NONE","body":"I made a new try...so...\r\nemr-6.2.0\r\nspark 3.0.1\r\n\r\ngit clone https://github.com/apache/hudi.git && cd hudi\r\n\r\nmvn clean package -DskipTests -Dspark3\r\n\r\nspark submit:\r\n`spark-submit --deploy-mode cluster --conf spark.executor.cores=5 --conf spark.executor.memoryOverhead=2000 --conf spark.executor.memory=32g --conf spark.yarn.maxAppAttempts=1 --conf spark.dynamicAllocation.maxExecutors=4 --conf spark.serializer=org.apache.spark.serializer.KryoSerializer --packages org.apache.spark:spark-avro_2.12:2.4.4 --jars s3://dl/lib/spark-daria_2.12-0.38.2.jar,s3://ze-data-etl/lib/hudi-spark-bundle_2.12-0.8.0-SNAPSHOT.jar --class TableProcessorWrapper s3://dl//code/projects/data_projects/batch_processor_engine/batch-processor-engine_2.12-3.0.1_0.5.jar courier_api_group01`\r\n\r\n\r\n```\r\ntrait SparkSessionWrapper extends Serializable {\r\n\r\n  val spark = {\r\n    SparkSession.builder\r\n      .appName(\"Batch Processor Engine\")\r\n      .config(\r\n        \"spark.jars.packages\",\r\n        \"org.apache.spark:spark-avro_2.12:2.4.4\"\r\n      )\r\n      .config(\"spark.jars\", \"s3://dl/lib/hudi-spark-bundle_2.12-0.8.0-SNAPSHOT.jar\")\r\n      .config(\"spark.serializer\", \"org.apache.spark.serializer.KryoSerializer\")\r\n      .enableHiveSupport()\r\n      .getOrCreate()\r\n  }\r\n\r\n}\r\n```\r\n\r\nSame Error :(\r\n\r\n\r\n```\r\nError on Table: deliveryman_route_history, Error Message: org.apache.hudi.exception.HoodieCommitException: Failed to archive commits\r\njava.lang.Exception: Error on Table: deliveryman_route_history, Error Message: org.apache.hudi.exception.HoodieCommitException: Failed to archive commits\r\n\tat jobs.TableProcessor.start(TableProcessor.scala:102)\r\n\tat TableProcessorWrapper$.$anonfun$main$2(TableProcessorWrapper.scala:23)\r\n\tat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n\tat scala.concurrent.Future$.$anonfun$apply$1(Future.scala:659)\r\n\tat scala.util.Success.$anonfun$map$1(Try.scala:255)\r\n\tat scala.util.Success.map(Try.scala:213)\r\n\tat scala.concurrent.Future.$anonfun$map$1(Future.scala:292)\r\n\tat scala.concurrent.impl.Promise.liftedTree1$1(Promise.scala:33)\r\n\tat scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)\r\n\tat scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)\r\n\tat java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:175)\r\n```\r\n\r\n```\r\n21/02/04 04:05:40 ERROR HoodieTimelineArchiveLog: Failed to archive commits, .commit file: 20210203023129.commit.requested\r\njava.lang.NullPointerException: null of string of map of union in field extraMetadata of org.apache.hudi.avro.model.HoodieCommitMetadata of union in field hoodieCommitMetadata of org.apache.hudi.avro.model.HoodieArchivedMetaEntry\r\n\tat org.apache.avro.generic.GenericDatumWriter.npe(GenericDatumWriter.java:145)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeWithoutConversion(GenericDatumWriter.java:139)\r\n\tat org.apache.avro.generic.GenericDatumWriter.write(GenericDatumWriter.java:75)\r\n\tat org.apache.avro.generic.GenericDatumWriter.write(GenericDatumWriter.java:62)\r\n\tat org.apache.hudi.common.table.log.block.HoodieAvroDataBlock.serializeRecords(HoodieAvroDataBlock.java:106)\r\n\tat org.apache.hudi.common.table.log.block.HoodieDataBlock.getContentBytes(HoodieDataBlock.java:97)\r\n\tat org.apache.hudi.common.table.log.HoodieLogFormatWriter.appendBlocks(HoodieLogFormatWriter.java:164)\r\n\tat org.apache.hudi.common.table.log.HoodieLogFormatWriter.appendBlock(HoodieLogFormatWriter.java:142)\r\n\tat org.apache.hudi.table.HoodieTimelineArchiveLog.writeToFile(HoodieTimelineArchiveLog.java:361)\r\n\tat org.apache.hudi.table.HoodieTimelineArchiveLog.archive(HoodieTimelineArchiveLog.java:311)\r\n\tat org.apache.hudi.table.HoodieTimelineArchiveLog.archiveIfRequired(HoodieTimelineArchiveLog.java:138)\r\n\tat org.apache.hudi.client.AbstractHoodieWriteClient.postCommit(AbstractHoodieWriteClient.java:426)\r\n\tat org.apache.hudi.client.AbstractHoodieWriteClient.commitStats(AbstractHoodieWriteClient.java:188)\r\n\tat org.apache.hudi.client.SparkRDDWriteClient.commit(SparkRDDWriteClient.java:110)\r\n\tat org.apache.hudi.HoodieSparkSqlWriter$.commitAndPerformPostOperations(HoodieSparkSqlWriter.scala:443)\r\n\tat org.apache.hudi.HoodieSparkSqlWriter$.write(HoodieSparkSqlWriter.scala:218)\r\n\tat org.apache.hudi.DefaultSource.createRelation(DefaultSource.scala:134)\r\n\tat org.apache.spark.sql.execution.datasources.SaveIntoDataSourceCommand.run(SaveIntoDataSourceCommand.scala:46)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:70)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:68)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.doExecute(commands.scala:90)\r\n\tat org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:180)\r\n\tat org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:218)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:215)\r\n\tat org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:176)\r\n\tat org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:124)\r\n\tat org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:123)\r\n\tat org.apache.spark.sql.DataFrameWriter.$anonfun$runCommand$1(DataFrameWriter.scala:963)\r\n\tat org.apache.spark.sql.catalyst.QueryPlanningTracker$.withTracker(QueryPlanningTracker.scala:104)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withTracker(SQLExecution.scala:227)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.executeQuery$1(SQLExecution.scala:107)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$6(SQLExecution.scala:132)\r\n\tat org.apache.spark.sql.catalyst.QueryPlanningTracker$.withTracker(QueryPlanningTracker.scala:104)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withTracker(SQLExecution.scala:227)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:132)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:248)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:131)\r\n\tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:764)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:68)\r\n\tat org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:963)\r\n\tat org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:415)\r\n\tat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:399)\r\n\tat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:288)\r\n\tat hudiwriter.HudiWriter.merge(HudiWriter.scala:72)\r\n\tat hudiwriter.HudiContext.writeToHudi(HudiContext.scala:35)\r\n\tat jobs.TableProcessor.start(TableProcessor.scala:84)\r\n\tat TableProcessorWrapper$.$anonfun$main$2(TableProcessorWrapper.scala:23)\r\n\tat scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n\tat scala.concurrent.Future$.$anonfun$apply$1(Future.scala:659)\r\n\tat scala.util.Success.$anonfun$map$1(Try.scala:255)\r\n\tat scala.util.Success.map(Try.scala:213)\r\n\tat scala.concurrent.Future.$anonfun$map$1(Future.scala:292)\r\n\tat scala.concurrent.impl.Promise.liftedTree1$1(Promise.scala:33)\r\n\tat scala.concurrent.impl.Promise.$anonfun$transform$1(Promise.scala:33)\r\n\tat scala.concurrent.impl.CallbackRunnable.run(Promise.scala:64)\r\n\tat java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:175)\r\nCaused by: java.lang.NullPointerException\r\n\tat org.apache.avro.io.Encoder.writeString(Encoder.java:121)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeString(GenericDatumWriter.java:267)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeString(GenericDatumWriter.java:262)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeWithoutConversion(GenericDatumWriter.java:128)\r\n\tat org.apache.avro.generic.GenericDatumWriter.write(GenericDatumWriter.java:75)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeMap(GenericDatumWriter.java:234)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeWithoutConversion(GenericDatumWriter.java:121)\r\n\tat org.apache.avro.generic.GenericDatumWriter.write(GenericDatumWriter.java:75)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeWithoutConversion(GenericDatumWriter.java:125)\r\n\tat org.apache.avro.generic.GenericDatumWriter.write(GenericDatumWriter.java:75)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeField(GenericDatumWriter.java:166)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeRecord(GenericDatumWriter.java:156)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeWithoutConversion(GenericDatumWriter.java:118)\r\n\tat org.apache.avro.generic.GenericDatumWriter.write(GenericDatumWriter.java:75)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeWithoutConversion(GenericDatumWriter.java:125)\r\n\tat org.apache.avro.generic.GenericDatumWriter.write(GenericDatumWriter.java:75)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeField(GenericDatumWriter.java:166)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeRecord(GenericDatumWriter.java:156)\r\n\tat org.apache.avro.generic.GenericDatumWriter.writeWithoutConversion(GenericDatumWriter.java:118)\r\n\t... 59 more\r\n```\r\n\r\n\r\nMap(hoodie.datasource.hive_sync.database -> raw_courier_api_hudi, \r\nhoodie.parquet.small.file.limit -> 67108864, \r\nhoodie.copyonwrite.record.size.estimate -> 1024, \r\nhoodie.datasource.write.precombine.field -> LineCreatedTimestamp, \r\nhoodie.datasource.hive_sync.partition_fields -> partitionpath, \r\nhoodie.datasource.hive_sync.partition_extractor_class -> org.apache.hudi.hive.MultiPartKeysValueExtractor, hoodie.parquet.max.file.size -> 134217728, \r\nhoodie.parquet.block.size -> 67108864, \r\nhoodie.datasource.hive_sync.table -> customer_notification, \r\nhoodie.datasource.write.operation -> upsert, \r\nhoodie.datasource.hive_sync.enable -> true, \r\nhoodie.datasource.write.recordkey.field -> id, \r\nhoodie.table.name -> customer_notification, \r\nhoodie.datasource.hive_sync.jdbcurl -> jdbc:hive2://ip-10-0-26-106.us-west-2.compute.internal:10000, hoodie.datasource.write.hive_style_partitioning -> true, \r\nhoodie.consistency.check.enabled -> true, \r\nhoodie.datasource.write.table.name -> customer_notification, \r\nhoodie.datasource.write.keygenerator.class -> org.apache.hudi.keygen.SimpleKeyGenerator, hoodie.upsert.shuffle.parallelism -> 50)\r\n\r\n\r\nIm using avro org.apache.spark:spark-avro_2.12:2.4.4 in spark 3, it could be the problem? I update to spark-avro_2.12-3.0.1.jar and the problem was not solved.\r\n\r\nDo I need to recreate the tables?\r\n\r\nthank you so much","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773020297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773044157","html_url":"https://github.com/apache/hudi/pull/2524#issuecomment-773044157","issue_url":"https://api.github.com/repos/apache/hudi/issues/2524","id":773044157,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzA0NDE1Nw==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T05:37:52Z","updated_at":"2021-02-04T05:37:52Z","author_association":"CONTRIBUTOR","body":"> @yanghua This exception may be possibly caused by Travis, because my code is clean.\r\n\r\nyou can push an empty commit to trigger the ci","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773044157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773067835","html_url":"https://github.com/apache/hudi/pull/2531#issuecomment-773067835","issue_url":"https://api.github.com/repos/apache/hudi/issues/2531","id":773067835,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzA2NzgzNQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T06:32:37Z","updated_at":"2021-02-04T06:32:37Z","author_association":"MEMBER","body":"Great job @wangxianghu @lw309637554.  优秀，向你们学习 👍 👍 👍 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773067835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773080531","html_url":"https://github.com/apache/hudi/pull/2531#issuecomment-773080531","issue_url":"https://api.github.com/repos/apache/hudi/issues/2531","id":773080531,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzA4MDUzMQ==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T06:58:47Z","updated_at":"2021-02-04T06:58:47Z","author_association":"CONTRIBUTOR","body":"> Great job @wangxianghu @lw309637554. 优秀，向你们学习 👍 👍 👍\r\n\r\nlearn from commiter lamber-ken ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773080531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773090615","html_url":"https://github.com/apache/hudi/pull/2374#issuecomment-773090615","issue_url":"https://api.github.com/repos/apache/hudi/issues/2374","id":773090615,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzA5MDYxNQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T07:18:21Z","updated_at":"2021-02-04T07:18:21Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Addressed your comments and replied to other ones, PTAL. I've also refactored the code to make the flow simpler. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773090615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773100796","html_url":"https://github.com/apache/hudi/pull/2506#issuecomment-773100796","issue_url":"https://api.github.com/repos/apache/hudi/issues/2506","id":773100796,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzEwMDc5Ng==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T07:38:47Z","updated_at":"2021-02-04T07:39:01Z","author_association":"CONTRIBUTOR","body":"@garyli1019 @wangxianghu Any review input? Let us land this PR at the end time towards tomorrow night?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773100796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773192292","html_url":"https://github.com/apache/hudi/pull/2526#issuecomment-773192292","issue_url":"https://api.github.com/repos/apache/hudi/issues/2526","id":773192292,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzE5MjI5Mg==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T10:11:55Z","updated_at":"2021-02-04T10:11:55Z","author_association":"CONTRIBUTOR","body":"@yanghua any other concern ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773192292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773200157","html_url":"https://github.com/apache/hudi/issues/2529#issuecomment-773200157","issue_url":"https://api.github.com/repos/apache/hudi/issues/2529","id":773200157,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzIwMDE1Nw==","user":{"login":"Magicbeanbuyer","id":40656281,"node_id":"MDQ6VXNlcjQwNjU2Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/40656281?v=4","gravatar_id":"","url":"https://api.github.com/users/Magicbeanbuyer","html_url":"https://github.com/Magicbeanbuyer","followers_url":"https://api.github.com/users/Magicbeanbuyer/followers","following_url":"https://api.github.com/users/Magicbeanbuyer/following{/other_user}","gists_url":"https://api.github.com/users/Magicbeanbuyer/gists{/gist_id}","starred_url":"https://api.github.com/users/Magicbeanbuyer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Magicbeanbuyer/subscriptions","organizations_url":"https://api.github.com/users/Magicbeanbuyer/orgs","repos_url":"https://api.github.com/users/Magicbeanbuyer/repos","events_url":"https://api.github.com/users/Magicbeanbuyer/events{/privacy}","received_events_url":"https://api.github.com/users/Magicbeanbuyer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T10:24:14Z","updated_at":"2021-02-04T10:24:14Z","author_association":"NONE","body":"Hey there,\r\n\r\nhow we worked around it is by running a [bootstrap action on EMR](https://docs.aws.amazon.com/emr/latest/ManagementGuide/emr-plan-bootstrap.html) installing the newest Hudi version. Later if you use `spark-submit`, you just need to pass the path of the downloaded Hudi jar as your application jar like [this](https://spark.apache.org/docs/latest/submitting-applications.html#launching-applications-with-spark-submit).","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773200157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773247045","html_url":"https://github.com/apache/hudi/pull/2210#issuecomment-773247045","issue_url":"https://api.github.com/repos/apache/hudi/issues/2210","id":773247045,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzI0NzA0NQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T11:44:57Z","updated_at":"2021-02-04T11:44:57Z","author_association":"CONTRIBUTOR","body":"@hotienvu : is there any comment to be addressed? If everything is good, I can go ahead and land it. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773247045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773247778","html_url":"https://github.com/apache/hudi/pull/2210#issuecomment-773247778","issue_url":"https://api.github.com/repos/apache/hudi/issues/2210","id":773247778,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzI0Nzc3OA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T11:46:14Z","updated_at":"2021-02-04T11:46:14Z","author_association":"CONTRIBUTOR","body":"Also, I have triggered Travis CI again. guess there is some flaky failure. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773247778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773248309","html_url":"https://github.com/apache/hudi/pull/2283#issuecomment-773248309","issue_url":"https://api.github.com/repos/apache/hudi/issues/2283","id":773248309,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzI0ODMwOQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T11:47:07Z","updated_at":"2021-02-04T11:47:07Z","author_association":"CONTRIBUTOR","body":"@pengzhiwei2018 : once you have addressed all comments, do let me know. so that I can review again.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773248309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773271814","html_url":"https://github.com/apache/hudi/pull/2449#issuecomment-773271814","issue_url":"https://api.github.com/repos/apache/hudi/issues/2449","id":773271814,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzI3MTgxNA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T12:31:59Z","updated_at":"2021-02-04T12:31:59Z","author_association":"CONTRIBUTOR","body":"@Trevor-zhang : can you please update the description(fill in details as per the template).","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773271814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773314581","html_url":"https://github.com/apache/hudi/pull/2514#issuecomment-773314581","issue_url":"https://api.github.com/repos/apache/hudi/issues/2514","id":773314581,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzMxNDU4MQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T13:48:20Z","updated_at":"2021-02-04T13:48:20Z","author_association":"CONTRIBUTOR","body":"@n3nash : addressed. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773314581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773314982","html_url":"https://github.com/apache/hudi/pull/2511#issuecomment-773314982","issue_url":"https://api.github.com/repos/apache/hudi/issues/2511","id":773314982,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzMxNDk4Mg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T13:49:00Z","updated_at":"2021-02-04T13:49:00Z","author_association":"CONTRIBUTOR","body":"> LGTM, from next time, we should just open multiple diffs or group all tickets under one and add that as a tag, seeing multiple different issues on the same PR can be confusing to folks.\r\n\r\nsounds good. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773314982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773320271","html_url":"https://github.com/apache/hudi/pull/2210#issuecomment-773320271","issue_url":"https://api.github.com/repos/apache/hudi/issues/2210","id":773320271,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzMyMDI3MQ==","user":{"login":"hotienvu","id":1747423,"node_id":"MDQ6VXNlcjE3NDc0MjM=","avatar_url":"https://avatars.githubusercontent.com/u/1747423?v=4","gravatar_id":"","url":"https://api.github.com/users/hotienvu","html_url":"https://github.com/hotienvu","followers_url":"https://api.github.com/users/hotienvu/followers","following_url":"https://api.github.com/users/hotienvu/following{/other_user}","gists_url":"https://api.github.com/users/hotienvu/gists{/gist_id}","starred_url":"https://api.github.com/users/hotienvu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hotienvu/subscriptions","organizations_url":"https://api.github.com/users/hotienvu/orgs","repos_url":"https://api.github.com/users/hotienvu/repos","events_url":"https://api.github.com/users/hotienvu/events{/privacy}","received_events_url":"https://api.github.com/users/hotienvu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T13:57:40Z","updated_at":"2021-02-04T13:57:40Z","author_association":"CONTRIBUTOR","body":"@nsivabalan  there is some timeout integration test, I tried to dig deeper but haven't succeed so far. I'm a bit busy this week so will try to look again this weekend. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773320271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773336965","html_url":"https://github.com/apache/hudi/pull/2486#issuecomment-773336965","issue_url":"https://api.github.com/repos/apache/hudi/issues/2486","id":773336965,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzMzNjk2NQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T14:17:05Z","updated_at":"2021-02-08T12:25:35Z","author_association":"CONTRIBUTOR","body":"if I am not wrong, preCombine is an optional field. don't think its a mandatory one. So, if not set, we might choose some default value. \r\nAlso, since this is a behavior change and not everyone prefers to filter out but rather fail, and this incurs additional processing as well, can we add a new config and guard it against it. If the config is not set, old behavior should be retained. only those users who are interested can enable it. \r\n@vinothchandar @n3nash : Any opinions on this PR is appreciated. \r\non a high level, this patch filters out those records considered to be invalid (i.e. w/ null record key field or null preCombine field) and proceeds w/ rest. if not for this patch, we will fail the operation. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/773336965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]