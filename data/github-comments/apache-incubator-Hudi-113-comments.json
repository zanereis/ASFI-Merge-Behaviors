[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805560787","html_url":"https://github.com/apache/hudi/pull/2708#issuecomment-805560787","issue_url":"https://api.github.com/repos/apache/hudi/issues/2708","id":805560787,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTU2MDc4Nw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T07:10:37Z","updated_at":"2021-03-24T07:10:37Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2708?src=pr&el=h1) Report\n> Merging [#2708](https://codecov.io/gh/apache/hudi/pull/2708?src=pr&el=desc) (1aaf8b1) into [master](https://codecov.io/gh/apache/hudi/commit/0e6909d3e241c794ed1b9318fcb9142a36cb0133?el=desc) (0e6909d) will **decrease** coverage by `37.03%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2708/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2708?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master   #2708       +/-   ##\n============================================\n- Coverage     46.43%   9.40%   -37.04%     \n+ Complexity     3278      48     -3230     \n============================================\n  Files           476      54      -422     \n  Lines         22583    1989    -20594     \n  Branches       2408     236     -2172     \n============================================\n- Hits          10487     187    -10300     \n+ Misses        11196    1789     -9407     \n+ Partials        900      13      -887     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `9.40% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2708?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ava/org/apache/hudi/exception/HoodieException.java](https://codecov.io/gh/apache/hudi/pull/2708/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvZXhjZXB0aW9uL0hvb2RpZUV4Y2VwdGlvbi5qYXZh) | | | |\n| [.../org/apache/hudi/sink/InstantGenerateOperator.java](https://codecov.io/gh/apache/hudi/pull/2708/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL0luc3RhbnRHZW5lcmF0ZU9wZXJhdG9yLmphdmE=) | | | |\n| [...in/java/org/apache/hudi/common/model/BaseFile.java](https://codecov.io/gh/apache/hudi/pull/2708/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0Jhc2VGaWxlLmphdmE=) | | | |\n| [...in/java/org/apache/hudi/cli/HoodiePrintHelper.java](https://codecov.io/gh/apache/hudi/pull/2708/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL0hvb2RpZVByaW50SGVscGVyLmphdmE=) | | | |\n| [...util/jvm/OpenJ9MemoryLayoutSpecification64bit.java](https://codecov.io/gh/apache/hudi/pull/2708/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvanZtL09wZW5KOU1lbW9yeUxheW91dFNwZWNpZmljYXRpb242NGJpdC5qYXZh) | | | |\n| [...mmon/table/log/block/HoodieDeleteBlockVersion.java](https://codecov.io/gh/apache/hudi/pull/2708/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9ibG9jay9Ib29kaWVEZWxldGVCbG9ja1ZlcnNpb24uamF2YQ==) | | | |\n| [.../org/apache/hudi/common/model/BaseAvroPayload.java](https://codecov.io/gh/apache/hudi/pull/2708/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0Jhc2VBdnJvUGF5bG9hZC5qYXZh) | | | |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2708/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | | | |\n| [...che/hudi/common/util/collection/ImmutablePair.java](https://codecov.io/gh/apache/hudi/pull/2708/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvY29sbGVjdGlvbi9JbW11dGFibGVQYWlyLmphdmE=) | | | |\n| [...rg/apache/hudi/metadata/HoodieMetadataPayload.java](https://codecov.io/gh/apache/hudi/pull/2708/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllTWV0YWRhdGFQYXlsb2FkLmphdmE=) | | | |\n| ... and [411 more](https://codecov.io/gh/apache/hudi/pull/2708/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805560787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805632411","html_url":"https://github.com/apache/hudi/pull/2711#issuecomment-805632411","issue_url":"https://api.github.com/repos/apache/hudi/issues/2711","id":805632411,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTYzMjQxMQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T09:13:18Z","updated_at":"2021-03-24T09:13:18Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2711?src=pr&el=h1) Report\n> Merging [#2711](https://codecov.io/gh/apache/hudi/pull/2711?src=pr&el=desc) (ae47544) into [master](https://codecov.io/gh/apache/hudi/commit/03668dbaf1a60428d7e0d68c6622605e0809150a?el=desc) (03668db) will **decrease** coverage by `0.01%`.\n> The diff coverage is `50.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2711/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2711?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2711      +/-   ##\n============================================\n- Coverage     51.74%   51.73%   -0.02%     \n+ Complexity     3602     3601       -1     \n============================================\n  Files           476      476              \n  Lines         22592    22595       +3     \n  Branches       2409     2409              \n============================================\n- Hits          11690    11689       -1     \n- Misses         9885     9888       +3     \n- Partials       1017     1018       +1     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `37.01% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.94% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiflink | `54.08% <50.00%> (-0.05%)` | `0.00 <0.00> (ø)` | |\n| hudihadoopmr | `33.44% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `70.87% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisync | `45.58% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.73% <ø> (-0.06%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2711?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...java/org/apache/hudi/table/HoodieTableFactory.java](https://codecov.io/gh/apache/hudi/pull/2711/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9Ib29kaWVUYWJsZUZhY3RvcnkuamF2YQ==) | `72.72% <50.00%> (-5.33%)` | `11.00 <0.00> (ø)` | |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/2711/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `71.37% <0.00%> (-0.35%)` | `55.00% <0.00%> (-1.00%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805632411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805645355","html_url":"https://github.com/apache/hudi/issues/2637#issuecomment-805645355","issue_url":"https://api.github.com/repos/apache/hudi/issues/2637","id":805645355,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTY0NTM1NQ==","user":{"login":"Sugamber","id":43312063,"node_id":"MDQ6VXNlcjQzMzEyMDYz","avatar_url":"https://avatars.githubusercontent.com/u/43312063?v=4","gravatar_id":"","url":"https://api.github.com/users/Sugamber","html_url":"https://github.com/Sugamber","followers_url":"https://api.github.com/users/Sugamber/followers","following_url":"https://api.github.com/users/Sugamber/following{/other_user}","gists_url":"https://api.github.com/users/Sugamber/gists{/gist_id}","starred_url":"https://api.github.com/users/Sugamber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sugamber/subscriptions","organizations_url":"https://api.github.com/users/Sugamber/orgs","repos_url":"https://api.github.com/users/Sugamber/repos","events_url":"https://api.github.com/users/Sugamber/events{/privacy}","received_events_url":"https://api.github.com/users/Sugamber/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T09:31:52Z","updated_at":"2021-03-24T10:27:06Z","author_association":"NONE","body":"There is an open pull request for partial update for CoW table.\r\nhttps://github.com/apache/hudi/pull/1929\r\n\r\nIt looks like my use case is similar to this .","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805645355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805652102","html_url":"https://github.com/apache/hudi/pull/2666#issuecomment-805652102","issue_url":"https://api.github.com/repos/apache/hudi/issues/2666","id":805652102,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTY1MjEwMg==","user":{"login":"Sugamber","id":43312063,"node_id":"MDQ6VXNlcjQzMzEyMDYz","avatar_url":"https://avatars.githubusercontent.com/u/43312063?v=4","gravatar_id":"","url":"https://api.github.com/users/Sugamber","html_url":"https://github.com/Sugamber","followers_url":"https://api.github.com/users/Sugamber/followers","following_url":"https://api.github.com/users/Sugamber/following{/other_user}","gists_url":"https://api.github.com/users/Sugamber/gists{/gist_id}","starred_url":"https://api.github.com/users/Sugamber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sugamber/subscriptions","organizations_url":"https://api.github.com/users/Sugamber/orgs","repos_url":"https://api.github.com/users/Sugamber/repos","events_url":"https://api.github.com/users/Sugamber/events{/privacy}","received_events_url":"https://api.github.com/users/Sugamber/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T09:41:31Z","updated_at":"2021-03-24T09:41:31Z","author_association":"NONE","body":"@liujinhui1994  We are also need the same feature in hudi. Is there any working branch which can be referred? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805652102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805655005","html_url":"https://github.com/apache/hudi/pull/2666#issuecomment-805655005","issue_url":"https://api.github.com/repos/apache/hudi/issues/2666","id":805655005,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTY1NTAwNQ==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T09:46:24Z","updated_at":"2021-03-24T09:46:24Z","author_association":"CONTRIBUTOR","body":"@Sugamber This branch should be available","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805655005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805666558","html_url":"https://github.com/apache/hudi/pull/2666#issuecomment-805666558","issue_url":"https://api.github.com/repos/apache/hudi/issues/2666","id":805666558,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTY2NjU1OA==","user":{"login":"Sugamber","id":43312063,"node_id":"MDQ6VXNlcjQzMzEyMDYz","avatar_url":"https://avatars.githubusercontent.com/u/43312063?v=4","gravatar_id":"","url":"https://api.github.com/users/Sugamber","html_url":"https://github.com/Sugamber","followers_url":"https://api.github.com/users/Sugamber/followers","following_url":"https://api.github.com/users/Sugamber/following{/other_user}","gists_url":"https://api.github.com/users/Sugamber/gists{/gist_id}","starred_url":"https://api.github.com/users/Sugamber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sugamber/subscriptions","organizations_url":"https://api.github.com/users/Sugamber/orgs","repos_url":"https://api.github.com/users/Sugamber/repos","events_url":"https://api.github.com/users/Sugamber/events{/privacy}","received_events_url":"https://api.github.com/users/Sugamber/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T10:03:18Z","updated_at":"2021-03-24T10:03:18Z","author_association":"NONE","body":"Is there any timeline for this pull request?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805666558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805667943","html_url":"https://github.com/apache/hudi/pull/2666#issuecomment-805667943","issue_url":"https://api.github.com/repos/apache/hudi/issues/2666","id":805667943,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTY2Nzk0Mw==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T10:05:16Z","updated_at":"2021-03-24T10:05:16Z","author_association":"CONTRIBUTOR","body":"Maybe after 0.8 is released\r\n\r\n\r\n\r\n\r\n------------------&nbsp;原始邮件&nbsp;------------------\r\n发件人:                                                                                                                        \"apache/hudi\"                                                                                    ***@***.***&gt;;\r\n发送时间:&nbsp;2021年3月24日(星期三) 晚上6:03\r\n***@***.***&gt;;\r\n***@***.******@***.***&gt;;\r\n主题:&nbsp;Re: [apache/hudi] [HUDI-1160] Support update partial fields for CoW table (#2666)\r\n\r\n\r\n\r\n\r\n\r\n \r\nIs there any timeline for this pull request?\r\n \r\n—\r\nYou are receiving this because you were mentioned.\r\nReply to this email directly, view it on GitHub, or unsubscribe.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805667943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805712787","html_url":"https://github.com/apache/hudi/pull/2713#issuecomment-805712787","issue_url":"https://api.github.com/repos/apache/hudi/issues/2713","id":805712787,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTcxMjc4Nw==","user":{"login":"IloveZiHan","id":24493165,"node_id":"MDQ6VXNlcjI0NDkzMTY1","avatar_url":"https://avatars.githubusercontent.com/u/24493165?v=4","gravatar_id":"","url":"https://api.github.com/users/IloveZiHan","html_url":"https://github.com/IloveZiHan","followers_url":"https://api.github.com/users/IloveZiHan/followers","following_url":"https://api.github.com/users/IloveZiHan/following{/other_user}","gists_url":"https://api.github.com/users/IloveZiHan/gists{/gist_id}","starred_url":"https://api.github.com/users/IloveZiHan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IloveZiHan/subscriptions","organizations_url":"https://api.github.com/users/IloveZiHan/orgs","repos_url":"https://api.github.com/users/IloveZiHan/repos","events_url":"https://api.github.com/users/IloveZiHan/events{/privacy}","received_events_url":"https://api.github.com/users/IloveZiHan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T10:47:15Z","updated_at":"2021-03-24T10:47:15Z","author_association":"NONE","body":"ok","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805712787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805713856","html_url":"https://github.com/apache/hudi/issues/2637#issuecomment-805713856","issue_url":"https://api.github.com/repos/apache/hudi/issues/2637","id":805713856,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTcxMzg1Ng==","user":{"login":"Sugamber","id":43312063,"node_id":"MDQ6VXNlcjQzMzEyMDYz","avatar_url":"https://avatars.githubusercontent.com/u/43312063?v=4","gravatar_id":"","url":"https://api.github.com/users/Sugamber","html_url":"https://github.com/Sugamber","followers_url":"https://api.github.com/users/Sugamber/followers","following_url":"https://api.github.com/users/Sugamber/following{/other_user}","gists_url":"https://api.github.com/users/Sugamber/gists{/gist_id}","starred_url":"https://api.github.com/users/Sugamber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sugamber/subscriptions","organizations_url":"https://api.github.com/users/Sugamber/orgs","repos_url":"https://api.github.com/users/Sugamber/repos","events_url":"https://api.github.com/users/Sugamber/events{/privacy}","received_events_url":"https://api.github.com/users/Sugamber/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T10:49:10Z","updated_at":"2021-03-24T10:49:10Z","author_association":"NONE","body":"@nsivabalan  Do we have any timeline for this pull request ?\r\nPull request 1- https://github.com/apache/hudi/pull/1929/\r\nPull request 2- https://github.com/apache/hudi/pull/2666\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805713856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805805044","html_url":"https://github.com/apache/hudi/issues/2675#issuecomment-805805044","issue_url":"https://api.github.com/repos/apache/hudi/issues/2675","id":805805044,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTgwNTA0NA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T13:07:29Z","updated_at":"2021-03-24T13:07:29Z","author_association":"CONTRIBUTOR","body":"1. do you use the RowBasedSchemaProvider and hence can't explicitly provide schema? If you were to use your own schema registry, you might as well provide an updated schema to hudi while writing. \r\n2. got it. would be nice to have some contribution. I can help review the patch. \r\nIn the mean time, I will give it a try schema evolution on my end with some local set up.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805805044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805810171","html_url":"https://github.com/apache/hudi/pull/2677#issuecomment-805810171","issue_url":"https://api.github.com/repos/apache/hudi/issues/2677","id":805810171,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTgxMDE3MQ==","user":{"login":"jsbali","id":1778470,"node_id":"MDQ6VXNlcjE3Nzg0NzA=","avatar_url":"https://avatars.githubusercontent.com/u/1778470?v=4","gravatar_id":"","url":"https://api.github.com/users/jsbali","html_url":"https://github.com/jsbali","followers_url":"https://api.github.com/users/jsbali/followers","following_url":"https://api.github.com/users/jsbali/following{/other_user}","gists_url":"https://api.github.com/users/jsbali/gists{/gist_id}","starred_url":"https://api.github.com/users/jsbali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jsbali/subscriptions","organizations_url":"https://api.github.com/users/jsbali/orgs","repos_url":"https://api.github.com/users/jsbali/repos","events_url":"https://api.github.com/users/jsbali/events{/privacy}","received_events_url":"https://api.github.com/users/jsbali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T13:14:38Z","updated_at":"2021-03-24T13:33:42Z","author_association":"CONTRIBUTOR","body":"@vinothchandar added [HUDI-1714](https://issues.apache.org/jira/browse/HUDI-1714) for it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/805810171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806141760","html_url":"https://github.com/apache/hudi/pull/2645#issuecomment-806141760","issue_url":"https://api.github.com/repos/apache/hudi/issues/2645","id":806141760,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjE0MTc2MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T19:56:26Z","updated_at":"2021-03-24T19:56:26Z","author_association":"MEMBER","body":"Let me see how/if we can simplify the inputSchema vs writeSchema thing. \r\n\r\nI went over the PR now. LGTM at a high level. \r\nFew questions though \r\n\r\n- I see we are introducing some antlr parsing and inject a custom parse for spark 2.x. Is this done for backwards compat with Spark 2 and will be eventually removed?\r\n- Do we reuse the MERGE/DELETE keywords from Spark 3? Is Spark 3 and Spark 2 syntax different. Can you comment on how we are approaching all this.\r\n- Have you done any production testing of this PR? \r\n\r\n\r\ncc @kwondw could you also please chime in. We would like to land something basic and iterate and get this out for 0.9.0 next month. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806141760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806159133","html_url":"https://github.com/apache/hudi/pull/2645#issuecomment-806159133","issue_url":"https://api.github.com/repos/apache/hudi/issues/2645","id":806159133,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjE1OTEzMw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T20:17:44Z","updated_at":"2021-03-24T20:17:44Z","author_association":"MEMBER","body":"Can we also handle DELETE in this PR itself?  That way, we have some basic support for all of the major DMLs ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806159133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806165264","html_url":"https://github.com/apache/hudi/pull/2645#issuecomment-806165264","issue_url":"https://api.github.com/repos/apache/hudi/issues/2645","id":806165264,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjE2NTI2NA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T20:28:22Z","updated_at":"2021-03-24T20:28:22Z","author_association":"MEMBER","body":"cc @vingov this may also be useful for you","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806165264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806300975","html_url":"https://github.com/apache/hudi/pull/2645#issuecomment-806300975","issue_url":"https://api.github.com/repos/apache/hudi/issues/2645","id":806300975,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjMwMDk3NQ==","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T01:52:48Z","updated_at":"2021-03-25T01:52:48Z","author_association":"CONTRIBUTOR","body":"@pengzhiwei2018  it's a great work, thanks.   MERGE/DELETE expresssions(MergeIntoTable, MergeAction... ) in your pr is copy from v2Commands.scala in spark 3.0 which will lead to class conflict if we implement sql suppor  for spark3 later.  could you shade those keywords\r\n\r\n@vinothchandar   \r\nMERGE/DELETE keywords from Spark 3 is incompatible with this pr， however it's not a problem,we can introduce a extra module hudi-spark3-extensions to resolve those incompatible, i will put forward a new pr for spark3 next few days。\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806300975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806348073","html_url":"https://github.com/apache/hudi/issues/2675#issuecomment-806348073","issue_url":"https://api.github.com/repos/apache/hudi/issues/2675","id":806348073,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjM0ODA3Mw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T04:07:01Z","updated_at":"2021-03-25T04:07:01Z","author_association":"CONTRIBUTOR","body":"yes, you are right. I was able to reproduce the issue(local spark). Have filed a [bug](https://issues.apache.org/jira/browse/HUDI-1716). \r\nI am yet to try out the hive issue. but it could be the same. Appreciate any contribution :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806348073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806393474","html_url":"https://github.com/apache/hudi/pull/2710#issuecomment-806393474","issue_url":"https://api.github.com/repos/apache/hudi/issues/2710","id":806393474,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjM5MzQ3NA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T06:16:11Z","updated_at":"2021-03-25T08:21:10Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2710?src=pr&el=h1) Report\n> Merging [#2710](https://codecov.io/gh/apache/hudi/pull/2710?src=pr&el=desc) (f9e9a12) into [master](https://codecov.io/gh/apache/hudi/commit/d7b18783bdd6edd6355ee68714982401d3321f86?el=desc) (d7b1878) will **decrease** coverage by `0.12%`.\n> The diff coverage is `6.25%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2710/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2710?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2710      +/-   ##\n============================================\n- Coverage     51.76%   51.63%   -0.13%     \n- Complexity     3601     3603       +2     \n============================================\n  Files           476      478       +2     \n  Lines         22583    22641      +58     \n  Branches       2408     2417       +9     \n============================================\n+ Hits          11689    11691       +2     \n- Misses         9877     9928      +51     \n- Partials       1017     1022       +5     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `37.01% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `100.00% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.73% <2.22%> (-0.21%)` | `0.00 <1.00> (ø)` | |\n| hudiflink | `54.08% <ø> (-0.20%)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.42% <66.66%> (-0.02%)` | `0.00 <0.00> (ø)` | |\n| hudisparkdatasource | `70.87% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisync | `45.58% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.73% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2710?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...che/hudi/common/config/HoodieErrorTableConfig.java](https://codecov.io/gh/apache/hudi/pull/2710/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2NvbmZpZy9Ib29kaWVFcnJvclRhYmxlQ29uZmlnLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...on/model/OverwriteWithLatestAvroSchemaPayload.java](https://codecov.io/gh/apache/hudi/pull/2710/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL092ZXJ3cml0ZVdpdGhMYXRlc3RBdnJvU2NoZW1hUGF5bG9hZC5qYXZh) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (?)` | |\n| [...va/org/apache/hudi/common/util/TablePathUtils.java](https://codecov.io/gh/apache/hudi/pull/2710/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvVGFibGVQYXRoVXRpbHMuamF2YQ==) | `59.52% <0.00%> (-8.05%)` | `17.00 <1.00> (+1.00)` | :arrow_down: |\n| [...n/scala/org/apache/hudi/HoodieSparkSqlWriter.scala](https://codecov.io/gh/apache/hudi/pull/2710/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0hvb2RpZVNwYXJrU3FsV3JpdGVyLnNjYWxh) | `57.79% <ø> (ø)` | `0.00 <0.00> (ø)` | |\n| [...rg/apache/hudi/hadoop/HoodieROTablePathFilter.java](https://codecov.io/gh/apache/hudi/pull/2710/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL0hvb2RpZVJPVGFibGVQYXRoRmlsdGVyLmphdmE=) | `64.19% <66.66%> (-0.81%)` | `14.00 <0.00> (ø)` | |\n| [...pache/hudi/common/table/HoodieTableMetaClient.java](https://codecov.io/gh/apache/hudi/pull/2710/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL0hvb2RpZVRhYmxlTWV0YUNsaWVudC5qYXZh) | `68.44% <100.00%> (+0.12%)` | `43.00 <0.00> (ø)` | |\n| [...java/org/apache/hudi/table/HoodieTableFactory.java](https://codecov.io/gh/apache/hudi/pull/2710/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9Ib29kaWVUYWJsZUZhY3RvcnkuamF2YQ==) | `72.72% <0.00%> (-5.33%)` | `11.00% <0.00%> (ø%)` | |\n| [.../java/org/apache/hudi/table/HoodieTableSource.java](https://codecov.io/gh/apache/hudi/pull/2710/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9Ib29kaWVUYWJsZVNvdXJjZS5qYXZh) | `61.44% <0.00%> (-3.53%)` | `28.00% <0.00%> (ø%)` | |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2710/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `78.12% <0.00%> (-1.57%)` | `26.00% <0.00%> (ø%)` | |\n| ... and [2 more](https://codecov.io/gh/apache/hudi/pull/2710/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806393474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806413911","html_url":"https://github.com/apache/hudi/pull/2334#issuecomment-806413911","issue_url":"https://api.github.com/repos/apache/hudi/issues/2334","id":806413911,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjQxMzkxMQ==","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T07:02:17Z","updated_at":"2021-03-25T07:02:17Z","author_association":"MEMBER","body":"So to rephrase the description this solves the case where the input-data has a compatible field (int) to be written to the table (long field). Can this issue not be solved at the input record level by converting the \"int\" data into the \"long\" before writing into HUDI?  \r\n\r\nhoodieTable.getTableSchema() always returns the \"latest\" schema which is the schema used for the last HoodieWriteClient (saved into commit instants). So when the \"int\" based RDD is written the table schema will no long have a \"long\" field. When this table schema is used to read an older file in the table (merge during updatehandle) then the reading should fail as a long (from parquet) cannot be converted to an int (from schema). This is actually a backward incompatible schema change and hence is not allowed by HUDI.\r\n\r\n@pengzhiwei2018 Can you add a test to verify my hypothesis? In your existing test in TestCOWDataSource, can you write a long to the table in the next write? Also, can you read all the data using the \"int\" schema, even the older records which contain a long?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806413911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806444132","html_url":"https://github.com/apache/hudi/pull/2645#issuecomment-806444132","issue_url":"https://api.github.com/repos/apache/hudi/issues/2645","id":806444132,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjQ0NDEzMg==","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T07:55:44Z","updated_at":"2021-03-25T07:55:44Z","author_association":"NONE","body":"> Can we also handle DELETE in this PR itself? That way, we have some basic support for all of the major DMLs\r\n\r\n\r\n\r\n> Can we also handle DELETE in this PR itself? That way, we have some basic support for all of the major DMLs\r\n\r\nYes ,I will add the implementation of DELTE & UPDATE to the PR too.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806444132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806450032","html_url":"https://github.com/apache/hudi/issues/2675#issuecomment-806450032","issue_url":"https://api.github.com/repos/apache/hudi/issues/2675","id":806450032,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjQ1MDAzMg==","user":{"login":"aditiwari01","id":16352977,"node_id":"MDQ6VXNlcjE2MzUyOTc3","avatar_url":"https://avatars.githubusercontent.com/u/16352977?v=4","gravatar_id":"","url":"https://api.github.com/users/aditiwari01","html_url":"https://github.com/aditiwari01","followers_url":"https://api.github.com/users/aditiwari01/followers","following_url":"https://api.github.com/users/aditiwari01/following{/other_user}","gists_url":"https://api.github.com/users/aditiwari01/gists{/gist_id}","starred_url":"https://api.github.com/users/aditiwari01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aditiwari01/subscriptions","organizations_url":"https://api.github.com/users/aditiwari01/orgs","repos_url":"https://api.github.com/users/aditiwari01/repos","events_url":"https://api.github.com/users/aditiwari01/events{/privacy}","received_events_url":"https://api.github.com/users/aditiwari01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T08:06:30Z","updated_at":"2021-03-25T09:02:00Z","author_association":"CONTRIBUTOR","body":"> * do you use the RowBasedSchemaProvider and hence can't explicitly provide schema? If you were to use your own schema registry, you might as well provide an updated schema to hudi while writing.\r\n> * got it. would be nice to have some contribution. I can help review the patch.\r\n>   In the mean time, I will give it a try schema evolution on my end with some local set up.\r\n\r\n1. Yes, RowBasedSchemaProvider  is used in creating GenericRecord. Not sure on how to pass row schema with defaults to spark writer (if at all its possible.). Also can't fine any way to pass custom SchemaProvoder class in writer options.\r\n\r\n2. The idea for path is to update to avro schema with default of null for all nullable fields. If you wish you can refer function **getAvroSchemaWithDefs** in my local branch: https://github.com/aditiwari01/hudi/commit/68a7ad20cc570f88940f2481d0ae19986254f1d8#diff-21ccee08cebace9de801e104f356bf4333c017d5d5c0cac4e3de63c7861f3c13R58\r\n\r\nThis is bit unstructured though. Will try to have a formal PR with tests and all by next week.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806450032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806465222","html_url":"https://github.com/apache/hudi/pull/2645#issuecomment-806465222","issue_url":"https://api.github.com/repos/apache/hudi/issues/2645","id":806465222,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjQ2NTIyMg==","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T08:33:30Z","updated_at":"2021-03-25T08:46:07Z","author_association":"NONE","body":"> Let me see how/if we can simplify the inputSchema vs writeSchema thing.\r\n> \r\n> I went over the PR now. LGTM at a high level.\r\n> Few questions though\r\n> \r\n> * I see we are introducing some antlr parsing and inject a custom parse for spark 2.x. Is this done for backwards compat with Spark 2 and will be eventually removed?\r\n> * Do we reuse the MERGE/DELETE keywords from Spark 3? Is Spark 3 and Spark 2 syntax different. Can you comment on how we are approaching all this.\r\n> * Have you done any production testing of this PR?\r\n> \r\n> cc @kwondw could you also please chime in. We would like to land something basic and iterate and get this out for 0.9.0 next month.\r\n\r\nThanks for you review @vinothchandar !\r\n\r\n> I see we are introducing some antlr parsing and inject a custom parse for spark 2.x. Is this done for backwards compat with Spark 2 and will be eventually removed?\r\n\r\nYes, It is for backwards for Spark2 and will be eventually removed for spark3 if there are no other syntax extend for the spark3.\r\n\r\n> Do we reuse the MERGE/DELETE keywords from Spark 3? Is Spark 3 and Spark 2 syntax different. Can you comment on how we are approaching all this.\r\n\r\nYes ,I reused the extended syntax( MERGE&DELETE) from spark 3. So they are the same between spark2 and spark3 in the syntax. \r\nFor spark3, spark can recognize the MERGE/DELTE syntax and parser it to LogicalPlan. For spark2, our extended sql parser will also parser it to the some LogicalPlan. After the parser, the LogicalPlan will goes to the same Rules（In `HoodieAnalysis`) to resolve and rewrite to  Hoodie Command. Hoodie Command will translate the logical plan to the hoodie api call.The Hoodie Command shared between spark2 & spark 3.\r\nSo except the sql parser for spark2, other parts can share between spark2 & spark3.\r\n\r\n> Have you done any production testing of this PR?\r\n\r\nYes, I have test it in Aliyun's EMR cluster.  And more test case will be done this week.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806465222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806471861","html_url":"https://github.com/apache/hudi/pull/2645#issuecomment-806471861","issue_url":"https://api.github.com/repos/apache/hudi/issues/2645","id":806471861,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjQ3MTg2MQ==","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T08:45:10Z","updated_at":"2021-03-25T08:45:10Z","author_association":"NONE","body":"> @pengzhiwei2018 it's a great work, thanks. MERGE/DELETE expresssions(MergeIntoTable, MergeAction... ) in your pr is copy from v2Commands.scala in spark 3.0 which will lead to class conflict if we implement sql suppor for spark3 later. could you shade those keywords\r\n> \r\n> @vinothchandar\r\n> MERGE/DELETE keywords from Spark 3 is incompatible with this pr， however it's not a problem,we can introduce a extra module hudi-spark3-extensions to resolve those incompatible, i will put forward a new pr for spark3 next few days。\r\n\r\nHi @xiarixiaoyao , Thanks for the review!\r\nThere is already exists a `hudi-spark3` module in the hudi project.  I think we should not need to add a hudi-spark3-extensions.\r\nThe `MergeIntoTable`  has the same package and class name with the that in spark3, So that they can use  the same rules `HoodieAnalysis` for resolve and rewrite. I think it will not conflict with the spark3  because we will not build the spark2 module together with the spark3. Only one `MergeIntoTable` will package in the bundle jar.\r\n\r\n> MERGE/DELETE keywords from Spark 3 is incompatible with this pr\r\n\r\nI am not understand the incompatible. They have the same syntax and logical plan between spark2 and spark3. Can your help me out?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806471861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806485150","html_url":"https://github.com/apache/hudi/pull/2645#issuecomment-806485150","issue_url":"https://api.github.com/repos/apache/hudi/issues/2645","id":806485150,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjQ4NTE1MA==","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T09:07:36Z","updated_at":"2021-03-25T09:07:36Z","author_association":"CONTRIBUTOR","body":"@pengzhiwei2018 Thank you for your reply。\r\nspark3 has it's own analyze logic and optimize logic.  and those logicals are continual enhanced.\r\nfor example:\r\nhttps://github.com/apache/spark/commit/d99135b66ab4ebab69973800990e12845c4ffeaa\r\nhttps://github.com/apache/spark/commit/1ad343238cb82a79e51ae9d46ae704bc482ff437\r\nhttps://github.com/apache/spark/commit/4d56d438386049b5f481ec83b69e3c89807be201\r\nand so on.\r\n  i think it will be better to respect spark3's logcials.  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806485150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806486974","html_url":"https://github.com/apache/hudi/pull/2645#issuecomment-806486974","issue_url":"https://api.github.com/repos/apache/hudi/issues/2645","id":806486974,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjQ4Njk3NA==","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T09:10:35Z","updated_at":"2021-03-25T09:10:35Z","author_association":"NONE","body":"> @pengzhiwei2018 Thank you for your reply。\r\n> spark3 has it's own analyze logic and optimize logic. and those logicals are continual enhanced.\r\n> for example:\r\n> [apache/spark@d99135b](https://github.com/apache/spark/commit/d99135b66ab4ebab69973800990e12845c4ffeaa)\r\n> [apache/spark@1ad3432](https://github.com/apache/spark/commit/1ad343238cb82a79e51ae9d46ae704bc482ff437)\r\n> [apache/spark@4d56d43](https://github.com/apache/spark/commit/4d56d438386049b5f481ec83b69e3c89807be201)\r\n> and so on.\r\n> i think it will be better to respect spark3's logcials.\r\n\r\nThanks for the input for me @xiarixiaoyao . I will take a look at this~","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806486974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806535452","html_url":"https://github.com/apache/hudi/pull/2716#issuecomment-806535452","issue_url":"https://api.github.com/repos/apache/hudi/issues/2716","id":806535452,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjUzNTQ1Mg==","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T10:27:12Z","updated_at":"2021-03-25T11:08:27Z","author_association":"CONTRIBUTOR","body":"test env: spark2.4.5, hadoop 3.1.1, hive 3.1.1\r\nbefore patch:\r\nstep1:\r\n\r\nval df = spark.range(0, 10000).toDF(\"keyid\")\r\n.withColumn(\"col3\", expr(\"keyid + 10000000\"))\r\n.withColumn(\"p\", lit(0))\r\n.withColumn(\"p1\", lit(0))\r\n.withColumn(\"p2\", lit(6))\r\n.withColumn(\"a1\", lit( Array[String] (\"sb1\", \"rz\") ) )\r\n.withColumn(\"a2\", lit( Array[String] (\"sb1\", \"rz\") ) )\r\n\r\n// bulk_insert df,   partition by p,p1,p2\r\n\r\n  merge(df, 4, \"default\", \"hive_8b\", DataSourceWriteOptions.MOR_TABLE_TYPE_OPT_VAL, op = \"bulk_insert\")\r\n\r\nstep2:\r\n\r\nval df = spark.range(0, 10000).toDF(\"keyid\")\r\n.withColumn(\"col3\", expr(\"keyid + 10000000\"))\r\n.withColumn(\"p\", lit(0))\r\n.withColumn(\"p1\", lit(0))\r\n.withColumn(\"p2\", lit(7))\r\n.withColumn(\"a1\", lit( Array[String] (\"sb1\", \"rz\") ) )\r\n.withColumn(\"a2\", lit( Array[String] (\"sb1\", \"rz\") ) )\r\n\r\n// upsert table hive8b\r\n\r\nmerge(df, 4, \"default\", \"hive_8b\", DataSourceWriteOptions.MOR_TABLE_TYPE_OPT_VAL, op = \"upsert\")\r\n\r\nstep3:\r\n\r\nstart hive beeline:\r\n\r\nset hive.input.format=org.apache.hudi.hadoop.hive.HoodieCombineHiveInputFormat;\r\n\r\nset hoodie.hive_8b.consume.mode=INCREMENTAL;\r\n\r\nset hoodie.hive_8b.consume.max.commits=3;\r\n\r\nset hoodie.hive_8b.consume.start.timestamp=20210325141300;  // this timestamp is smaller the earlist commit, so  we can query whole commits\r\n\r\nselect `p`, `p1`, `p2`,`keyid` from hive_8b_rt where `_hoodie_commit_time`>'20210325141300'\r\n\r\n2021-03-25 14:14:36,036 | INFO  | AsyncDispatcher event handler | Diagnostics report from attempt_1615883368881_0028_m_000000_3: Error: org.apache.hudi.org.apache.avro.SchemaParseException: Illegal character in: **p,p1,p2** 2021-03-25 14:14:36,036 | INFO  | AsyncDispatcher event handler | Diagnostics report from attempt_1615883368881_0028_m_000000_3: Error: org.apache.hudi.org.apache.avro.SchemaParseException: Illegal character in: **p,p1,p2** at org.apache.hudi.org.apache.avro.Schema.validateName(Schema.java:1151) at org.apache.hudi.org.apache.avro.Schema.access$200(Schema.java:81) at org.apache.hudi.org.apache.avro.Schema$Field.<init>(Schema.java:403) at org.apache.hudi.org.apache.avro.Schema$Field.<init>(Schema.java:396) at org.apache.hudi.avro.HoodieAvroUtils.appendNullSchemaFields(HoodieAvroUtils.java:268) at org.apache.hudi.hadoop.utils.HoodieRealtimeRecordReaderUtils.addPartitionFields(HoodieRealtimeRecordReaderUtils.java:286) at org.apache.hudi.hadoop.realtime.AbstractRealtimeRecordReader.init(AbstractRealtimeRecordReader.java:98) at org.apache.hudi.hadoop.realtime.AbstractRealtimeRecordReader.<init>(AbstractRealtimeRecordReader.java:67) at org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.<init>(RealtimeCompactedRecordReader.java:53) at org.apache.hudi.hadoop.realtime.HoodieRealtimeRecordReader.constructRecordReader(HoodieRealtimeRecordReader.java:70) at org.apache.hudi.hadoop.realtime.HoodieRealtimeRecordReader.<init>(HoodieRealtimeRecordReader.java:47) at org.apache.hudi.hadoop.realtime.HoodieParquetRealtimeInputFormat.getRecordReader(HoodieParquetRealtimeInputFormat.java:123) at org.apache.hudi.hadoop.hive.HoodieCombineHiveInputFormat$HoodieCombineFileInputFormatShim.getRecordReader(HoodieCombineHiveInputFormat.java:975) at org.apache.hudi.hadoop.hive.HoodieCombineHiveInputFormat.getRecordReader(HoodieCombineHiveInputFormat.java:556) at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.<init>(MapTask.java:175) at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:444) at org.apache.hadoop.mapred.MapTask.run(MapTask.java:349) at org.apache.hadoop.mapred.YarnChild$1.run(YarnChild.java:183) at java.security.AccessController.doPrivileged(Native Method) at javax.security.auth.Subject.doAs(Subject.java:422) at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1761) at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:177)\r\n\r\nafter patch:\r\n\t+----+-----+-----+--------+\r\n\t| p  | p1  | p2  | keyid  |\r\n\t+----+-----+-----+--------+\r\n\t| 0  | 0   | 6   | 5068   |\r\n\t| 0  | 0   | 6   | 6058   |\r\n\t| 0  | 0   | 6   | 823    |\r\n\t| 0  | 0   | 6   | 5031   |\r\n\t| 0  | 0   | 6   | 4445   |\r\n\t| 0  | 0   | 6   | 5082   |\r\n\r\n\r\nmerge function:\r\n  def merge(df: org.apache.spark.sql.DataFrame, par: Int, db: String, tableName: String,\r\n            tableType: String = DataSourceWriteOptions.COW_TABLE_TYPE_OPT_VAL,\r\n            hivePartitionExtract: String = \"org.apache.hudi.hive.MultiPartKeysValueExtractor\", op: String = \"upsert\"): Unit = {\r\n    val mode = if (op.equals(\"bulk_insert\")) {\r\n      Overwrite\r\n    } else {\r\n      Append\r\n    }\r\n    df.write.format(\"hudi\").\r\n      option(DataSourceWriteOptions.TABLE_TYPE_OPT_KEY, tableType).\r\n      option(HoodieCompactionConfig.INLINE_COMPACT_PROP, false).\r\n      option(PRECOMBINE_FIELD_OPT_KEY, \"col3\").\r\n      option(RECORDKEY_FIELD_OPT_KEY, \"keyid\").\r\n      option(PARTITIONPATH_FIELD_OPT_KEY, \"p,p1,p2\").\r\n      option(DataSourceWriteOptions.OPERATION_OPT_KEY, op).\r\n      option(HoodieWriteConfig.KEYGENERATOR_CLASS_PROP, classOf[ComplexKeyGenerator].getName).\r\n      option(\"hoodie.bulkinsert.shuffle.parallelism\", par.toString).\r\n      option(\"hoodie.metadata.enable\", \"false\").\r\n      option(\"hoodie.insert.shuffle.parallelism\", par.toString).\r\n      option(\"hoodie.upsert.shuffle.parallelism\", par.toString).\r\n      option(\"hoodie.delete.shuffle.parallelism\", par.toString).\r\n      option(DataSourceWriteOptions.HIVE_SYNC_ENABLED_OPT_KEY, \"true\").\r\n      option(DataSourceWriteOptions.HIVE_PARTITION_FIELDS_OPT_KEY, \"p,p1,p2\").\r\n      option(\"hoodie.datasource.hive_sync.support_timestamp\", \"true\").\r\n      option(HIVE_STYLE_PARTITIONING_OPT_KEY, \"true\").\r\n      option(DataSourceWriteOptions.HIVE_PARTITION_EXTRACTOR_CLASS_OPT_KEY, \"org.apache.hudi.hive.MultiPartKeysValueExtractor\").\r\n      option(HIVE_USE_JDBC_OPT_KEY, \"false\").\r\n      option(DataSourceWriteOptions.HIVE_DATABASE_OPT_KEY, db).\r\n      option(DataSourceWriteOptions.HIVE_TABLE_OPT_KEY, tableName).\r\n      option(TABLE_NAME, tableName).mode(mode).save(s\"/tmp/${db}/${tableName}\") \r\n}","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806535452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806562011","html_url":"https://github.com/apache/hudi/pull/2720#issuecomment-806562011","issue_url":"https://api.github.com/repos/apache/hudi/issues/2720","id":806562011,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjU2MjAxMQ==","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T11:07:50Z","updated_at":"2021-03-25T11:07:50Z","author_association":"CONTRIBUTOR","body":"test env: spark2.4.5, hadoop 3.1.1, hive 3.1.1\r\nbefore patch:\r\ntest step:\r\n\r\nstep1:\r\n\r\nval df = spark.range(0, 10000).toDF(\"keyid\")\r\n.withColumn(\"col3\", expr(\"keyid + 10000000\"))\r\n.withColumn(\"p\", lit(0))\r\n.withColumn(\"p1\", lit(0))\r\n.withColumn(\"p2\", lit(6))\r\n.withColumn(\"a1\", lit(Array[String] (\"sb1\", \"rz\")))\r\n.withColumn(\"a2\", lit(Array[String] (\"sb1\", \"rz\")))\r\n\r\n// create hudi table which has three  level partitions p,p1,p2\r\n\r\nmerge(df, 4, \"default\", \"hive_8b\", DataSourceWriteOptions.MOR_TABLE_TYPE_OPT_VAL, op = \"bulk_insert\")\r\n\r\n \r\n\r\nstep2:\r\n\r\nval df = spark.range(0, 10000).toDF(\"keyid\")\r\n.withColumn(\"col3\", expr(\"keyid + 10000000\"))\r\n.withColumn(\"p\", lit(0))\r\n.withColumn(\"p1\", lit(0))\r\n.withColumn(\"p2\", lit(7))\r\n.withColumn(\"a1\", lit(Array[String] (\"sb1\", \"rz\")))\r\n.withColumn(\"a2\", lit(Array[String] (\"sb1\", \"rz\")))\r\n\r\n// upsert current table\r\n\r\nmerge(df, 4, \"default\", \"hive_8b\", DataSourceWriteOptions.MOR_TABLE_TYPE_OPT_VAL, op = \"upsert\")\r\n\r\nhive beeline:\r\n\r\nset hive.input.format=org.apache.hudi.hadoop.hive.HoodieCombineHiveInputFormat;\r\n\r\nset hoodie.hive_8b.consume.mode=INCREMENTAL;\r\n\r\nset hoodie.hive_8b.consume.max.commits=3;\r\n\r\nset hoodie.hive_8b.consume.start.timestamp=20210325141300; // this timestamp is smaller the earlist commit, so  we can query whole commits\r\n\r\nselect `p`, `p1`, `p2`,`keyid` from hive_8b_rt where `_hoodie_commit_time`>'20210325141300' and `keyid` < 5;\r\nquery result:\r\n+----+-----+-----+--------+ \r\n| p  | p1  | p2  | keyid  | \r\n+----+-----+-----+--------+ \r\n| 0  | 0   | 6   | 0      | \r\n| 0  | 0   | 6   | 1      | \r\n| 0  | 0   | 6   | 2      | \r\n| 0  | 0   | 6   | 3      | \r\n| 0  | 0   | 6   | 4      | \r\n| 0  | 0   | 6   | 4      | \r\n| 0  | 0   | 6   | 0      | \r\n| 0  | 0   | 6   | 3      | \r\n| 0  | 0   | 6   | 2      | \r\n| 0  | 0   | 6   | 1      | \r\n+----+-----+-----+--------+\r\nthis result is wrong, since the second step we insert new data in table partition p2=7, however in the query result we cannot find p2=7, all p2= 6\r\n\r\nAfter patch:\r\n\t+----+-----+-----+--------+\r\n\t| p  | p1  | p2  | keyid  |\r\n\t+----+-----+-----+--------+\r\n\t| 0  | 0   | 6   | 0      |\r\n\t| 0  | 0   | 6   | 1      |\r\n\t| 0  | 0   | 6   | 2      |\r\n\t| 0  | 0   | 6   | 3      |\r\n\t| 0  | 0   | 6   | 4      |\r\n\t| 0  | 0   | 7   | 4      |\r\n\t| 0  | 0   | 7   | 0      |\r\n\t| 0  | 0   | 7   | 3      |\r\n\t| 0  | 0   | 7   | 2      |\r\n\t| 0  | 0   | 7   | 1      |\r\n\t+----+-----+-----+--------+\r\nthis result is correct.  \r\n\r\nmerge function:\r\ndef merge(df: org.apache.spark.sql.DataFrame, par: Int, db: String, tableName: String,\r\ntableType: String = DataSourceWriteOptions.COW_TABLE_TYPE_OPT_VAL,\r\nhivePartitionExtract: String = \"org.apache.hudi.hive.MultiPartKeysValueExtractor\", op: String = \"upsert\"): Unit = {\r\nval mode = if (op.equals(\"bulk_insert\")) {\r\nOverwrite\r\n} else {\r\nAppend\r\n}\r\ndf.write.format(\"hudi\").\r\noption(DataSourceWriteOptions.TABLE_TYPE_OPT_KEY, tableType).\r\noption(HoodieCompactionConfig.INLINE_COMPACT_PROP, false).\r\noption(PRECOMBINE_FIELD_OPT_KEY, \"col3\").\r\noption(RECORDKEY_FIELD_OPT_KEY, \"keyid\").\r\noption(PARTITIONPATH_FIELD_OPT_KEY, \"p,p1,p2\").\r\noption(DataSourceWriteOptions.OPERATION_OPT_KEY, op).\r\noption(HoodieWriteConfig.KEYGENERATOR_CLASS_PROP, classOf[ComplexKeyGenerator].getName).\r\noption(\"hoodie.bulkinsert.shuffle.parallelism\", par.toString).\r\noption(\"hoodie.metadata.enable\", \"false\").\r\noption(\"hoodie.insert.shuffle.parallelism\", par.toString).\r\noption(\"hoodie.upsert.shuffle.parallelism\", par.toString).\r\noption(\"hoodie.delete.shuffle.parallelism\", par.toString).\r\noption(DataSourceWriteOptions.HIVE_SYNC_ENABLED_OPT_KEY, \"true\").\r\noption(DataSourceWriteOptions.HIVE_PARTITION_FIELDS_OPT_KEY, \"p,p1,p2\").\r\noption(\"hoodie.datasource.hive_sync.support_timestamp\", \"true\").\r\noption(HIVE_STYLE_PARTITIONING_OPT_KEY, \"true\").\r\noption(DataSourceWriteOptions.HIVE_PARTITION_EXTRACTOR_CLASS_OPT_KEY, \"org.apache.hudi.hive.MultiPartKeysValueExtractor\").\r\noption(HIVE_USE_JDBC_OPT_KEY, \"false\").\r\noption(DataSourceWriteOptions.HIVE_DATABASE_OPT_KEY, db).\r\noption(DataSourceWriteOptions.HIVE_TABLE_OPT_KEY, tableName).\r\noption(TABLE_NAME, tableName).mode(mode).save(s\"/tmp/${db}/${tableName}\")\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806562011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806582989","html_url":"https://github.com/apache/hudi/pull/2721#issuecomment-806582989","issue_url":"https://api.github.com/repos/apache/hudi/issues/2721","id":806582989,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjU4Mjk4OQ==","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T11:42:18Z","updated_at":"2021-03-25T11:43:58Z","author_association":"CONTRIBUTOR","body":"test step:\r\n\r\nbefore patch：\r\n\r\nstep1:\r\n\r\nval df = spark.range(0, 1000000).toDF(\"keyid\")\r\n.withColumn(\"col3\", expr(\"keyid + 10000000\"))\r\n.withColumn(\"p\", lit(0))\r\n.withColumn(\"p1\", lit(0))\r\n.withColumn(\"p2\", lit(7))\r\n.withColumn(\"a1\", lit(Array[String] (\"sb1\", \"rz\")))\r\n.withColumn(\"a2\", lit(Array[String] (\"sb1\", \"rz\")))\r\n\r\n// bulk_insert 100w row (keyid from 0 to 1000000)\r\n\r\nmerge(df, 4, \"default\", \"hive_9b\", DataSourceWriteOptions.MOR_TABLE_TYPE_OPT_VAL, op = \"bulk_insert\")\r\n\r\nstep2:\r\n\r\nval df = spark.range(0, 900000).toDF(\"keyid\")\r\n.withColumn(\"col3\", expr(\"keyid + 10000000\"))\r\n.withColumn(\"p\", lit(0))\r\n.withColumn(\"p1\", lit(0))\r\n.withColumn(\"p2\", lit(7))\r\n.withColumn(\"a1\", lit(Array[String] (\"sb1\", \"rz\")))\r\n.withColumn(\"a2\", lit(Array[String] (\"sb1\", \"rz\")))\r\n\r\n// delete 90w row (keyid from 0 to 900000)\r\n\r\ndelete(df, 4, \"default\", \"hive_9b\")\r\n\r\nstep3:\r\n\r\nquery on beeline/spark-sql :  select count(col3)  from hive_9b_rt\r\n2021-03-25 15:33:29,029 | INFO  | main | RECORDS_OUT_OPERATOR_RS_3:1, RECORDS_OUT_INTERMEDIATE:1,  | Operator.java:10382021-03-25 15:33:29,029 | INFO  | main | RECORDS_OUT_OPERATOR_RS_3:1, RECORDS_OUT_INTERMEDIATE:1,  | Operator.java:10382021-03-25 15:33:29,029 | ERROR | main | Error running child : java.lang.StackOverflowError at org.apache.parquet.bytes.BytesUtils.readIntLittleEndian(BytesUtils.java:83) at org.apache.parquet.column.values.plain.BinaryPlainValuesReader.readBytes(BinaryPlainValuesReader.java:39) at org.apache.parquet.column.impl.ColumnReaderBase$2$6.read(ColumnReaderBase.java:344) at org.apache.parquet.column.impl.ColumnReaderBase.readValue(ColumnReaderBase.java:503) at org.apache.parquet.column.impl.ColumnReaderImpl.readValue(ColumnReaderImpl.java:30) at org.apache.parquet.column.impl.ColumnReaderBase.writeCurrentValueToConverter(ColumnReaderBase.java:409) at org.apache.parquet.column.impl.ColumnReaderImpl.writeCurrentValueToConverter(ColumnReaderImpl.java:30) at org.apache.parquet.io.RecordReaderImplementation.read(RecordReaderImplementation.java:406) at org.apache.parquet.hadoop.InternalParquetRecordReader.nextKeyValue(InternalParquetRecordReader.java:226) at org.apache.parquet.hadoop.ParquetRecordReader.nextKeyValue(ParquetRecordReader.java:207) at org.apache.hadoop.hive.ql.io.parquet.read.ParquetRecordReaderWrapper.next(ParquetRecordReaderWrapper.java:159) at org.apache.hadoop.hive.ql.io.parquet.read.ParquetRecordReaderWrapper.next(ParquetRecordReaderWrapper.java:41) at org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.next(RealtimeCompactedRecordReader.java:84) at org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.next(RealtimeCompactedRecordReader.java:106) at org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.next(RealtimeCompactedRecordReader.java:106) at org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.next(RealtimeCompactedRecordReader.java:106) at org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.next(RealtimeCompactedRecordReader.java:106) at org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.next(RealtimeCompactedRecordReader.java:106) at org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.next(RealtimeCompactedRecordReader.java:106) at org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.next(RealtimeCompactedRecordReader.java:106) at org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.next(RealtimeCompactedRecordReader.java:106) at org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.next(RealtimeCompactedRecordReader.java:106) at org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.next(RealtimeCompactedRecordReader.java:106) at org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.next(RealtimeCompactedRecordReader.java:106) at org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.next(RealtimeCompactedRecordReader.java:106) at org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.next(RealtimeCompactedRecordReader.java:106) at org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.next(RealtimeCompactedRecordReader.java:106) at org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.next(RealtimeCompactedRecordReader.java:106) at org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.next(RealtimeCompactedRecordReader.java:106) at org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.next(RealtimeCompactedRecordReader.java:106) at org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.next(RealtimeCompactedRecordReader.java:106) at org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.next(RealtimeCompactedRecordReader.java:106)\r\n\r\nAfter patch：\r\n\tselect count(col3) from hive_9b_rt\r\n\t+---------+\r\n\t|   _c0   |\r\n\t+---------+\r\n\t| 100000  |\r\n\t+---------+\r\nstep4： \r\n    val df = spark.range(900000, 1000000).toDF(\"keyid\")\r\n      .withColumn(\"col3\", expr(\"keyid + 10000000\"))\r\n      .withColumn(\"p\", lit(0))\r\n      .withColumn(\"p1\", lit(0))\r\n      .withColumn(\"p2\", lit(7))\r\n      .withColumn(\"a1\", lit(Array[String] (\"sb1\", \"rz\")))\r\n      .withColumn(\"a2\", lit(Array[String] (\"sb1\", \"rz\")))\r\n// delete remaining 10W lines\r\ndelete(df, 4, \"default\", \"hive_9b\")\r\nsparksql/hive-beeline:\r\nselect count(col3) from hive_9b_rt;\r\n+------+\r\n| _c0  |\r\n+------+\r\n| 0    |\r\n+------+\r\n\r\ndelete function:\r\n  def delete(df: DataFrame, par: Int, db: String, tableName: String, tableType: String = DataSourceWriteOptions.MOR_TABLE_TYPE_OPT_VAL): Unit = {\r\n    df.write.format(\"hudi\").\r\n      option(DataSourceWriteOptions.TABLE_TYPE_OPT_KEY, tableType).\r\n      option(HoodieCompactionConfig.INLINE_COMPACT_PROP, false).\r\n      option(PRECOMBINE_FIELD_OPT_KEY, \"col3\").\r\n      option(RECORDKEY_FIELD_OPT_KEY, \"keyid\").\r\n      option(PARTITIONPATH_FIELD_OPT_KEY, \"p,p1,p2\").\r\n      option(HoodieWriteConfig.KEYGENERATOR_CLASS_PROP, classOf[ComplexKeyGenerator].getName).\r\n      option(DataSourceWriteOptions.OPERATION_OPT_KEY, \"delete\").\r\n      option(\"hoodie.bulkinsert.shuffle.parallelism\", par.toString).\r\n      option(\"hoodie.insert.shuffle.parallelism\", par.toString).\r\n      option(\"hoodie.upsert.shuffle.parallelism\", par.toString).\r\n      option(\"hoodie.delete.shuffle.parallelism\", par.toString).\r\n      option(DataSourceWriteOptions.HIVE_SYNC_ENABLED_OPT_KEY, \"true\").\r\n      option(DataSourceWriteOptions.HIVE_PARTITION_FIELDS_OPT_KEY, \"p,p1,p2\").\r\n      option(DataSourceWriteOptions.HIVE_PARTITION_EXTRACTOR_CLASS_OPT_KEY, \"org.apache.hudi.hive.MultiPartKeysValueExtractor\").\r\n      option(\"hoodie.datasource.hive_sync.support_timestamp\", \"true\").\r\n      option(HIVE_STYLE_PARTITIONING_OPT_KEY, \"true\").\r\n      option(HIVE_USE_JDBC_OPT_KEY, \"false\").\r\n      option(DataSourceWriteOptions.HIVE_DATABASE_OPT_KEY, db).\r\n      option(DataSourceWriteOptions.HIVE_TABLE_OPT_KEY, tableName).\r\n      option(TABLE_NAME, tableName).mode(Append).save(s\"/tmp/${db}/${tableName}\")\r\n  }\r\n\r\nmerge function:\r\ndef merge(df: org.apache.spark.sql.DataFrame, par: Int, db: String, tableName: String,\r\ntableType: String = DataSourceWriteOptions.COW_TABLE_TYPE_OPT_VAL,\r\nhivePartitionExtract: String = \"org.apache.hudi.hive.MultiPartKeysValueExtractor\", op: String = \"upsert\"): Unit = {\r\nval mode = if (op.equals(\"bulk_insert\")) {\r\nOverwrite\r\n} else {\r\nAppend\r\n}\r\ndf.write.format(\"hudi\").\r\noption(DataSourceWriteOptions.TABLE_TYPE_OPT_KEY, tableType).\r\noption(HoodieCompactionConfig.INLINE_COMPACT_PROP, false).\r\noption(PRECOMBINE_FIELD_OPT_KEY, \"col3\").\r\noption(RECORDKEY_FIELD_OPT_KEY, \"keyid\").\r\noption(PARTITIONPATH_FIELD_OPT_KEY, \"p,p1,p2\").\r\noption(DataSourceWriteOptions.OPERATION_OPT_KEY, op).\r\noption(HoodieWriteConfig.KEYGENERATOR_CLASS_PROP, classOf[ComplexKeyGenerator].getName).\r\noption(\"hoodie.bulkinsert.shuffle.parallelism\", par.toString).\r\noption(\"hoodie.metadata.enable\", \"false\").\r\noption(\"hoodie.insert.shuffle.parallelism\", par.toString).\r\noption(\"hoodie.upsert.shuffle.parallelism\", par.toString).\r\noption(\"hoodie.delete.shuffle.parallelism\", par.toString).\r\noption(DataSourceWriteOptions.HIVE_SYNC_ENABLED_OPT_KEY, \"true\").\r\noption(DataSourceWriteOptions.HIVE_PARTITION_FIELDS_OPT_KEY, \"p,p1,p2\").\r\noption(\"hoodie.datasource.hive_sync.support_timestamp\", \"true\").\r\noption(HIVE_STYLE_PARTITIONING_OPT_KEY, \"true\").\r\noption(DataSourceWriteOptions.HIVE_PARTITION_EXTRACTOR_CLASS_OPT_KEY, \"org.apache.hudi.hive.MultiPartKeysValueExtractor\").\r\noption(HIVE_USE_JDBC_OPT_KEY, \"false\").\r\noption(DataSourceWriteOptions.HIVE_DATABASE_OPT_KEY, db).\r\noption(DataSourceWriteOptions.HIVE_TABLE_OPT_KEY, tableName).\r\noption(TABLE_NAME, tableName).mode(mode).save(s\"/tmp/${db}/${tableName}\")\r\n}\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806582989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806584382","html_url":"https://github.com/apache/hudi/pull/2721#issuecomment-806584382","issue_url":"https://api.github.com/repos/apache/hudi/issues/2721","id":806584382,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjU4NDM4Mg==","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T11:44:51Z","updated_at":"2021-03-25T11:44:51Z","author_association":"CONTRIBUTOR","body":"@garyli1019  could you help me review this pr, thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806584382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806584615","html_url":"https://github.com/apache/hudi/pull/2720#issuecomment-806584615","issue_url":"https://api.github.com/repos/apache/hudi/issues/2720","id":806584615,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjU4NDYxNQ==","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T11:45:17Z","updated_at":"2021-03-25T11:45:17Z","author_association":"CONTRIBUTOR","body":"@garyli1019  could you help me review this pr, thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806584615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806584838","html_url":"https://github.com/apache/hudi/pull/2716#issuecomment-806584838","issue_url":"https://api.github.com/repos/apache/hudi/issues/2716","id":806584838,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjU4NDgzOA==","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T11:45:42Z","updated_at":"2021-03-25T11:45:42Z","author_association":"CONTRIBUTOR","body":"@garyli1019  could you help me review this pr, thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806584838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806719923","html_url":"https://github.com/apache/hudi/pull/2716#issuecomment-806719923","issue_url":"https://api.github.com/repos/apache/hudi/issues/2716","id":806719923,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjcxOTkyMw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T13:14:15Z","updated_at":"2021-03-25T13:14:15Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2716?src=pr&el=h1) Report\n> Merging [#2716](https://codecov.io/gh/apache/hudi/pull/2716?src=pr&el=desc) (9ffe931) into [master](https://codecov.io/gh/apache/hudi/commit/6e803e08b1328b32a5c3a6acd8168fdabc8a1e50?el=desc) (6e803e0) will **decrease** coverage by `42.32%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2716/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2716?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master   #2716       +/-   ##\n============================================\n- Coverage     51.72%   9.40%   -42.33%     \n+ Complexity     3601      48     -3553     \n============================================\n  Files           476      54      -422     \n  Lines         22595    1989    -20606     \n  Branches       2409     236     -2173     \n============================================\n- Hits          11687     187    -11500     \n+ Misses         9889    1789     -8100     \n+ Partials       1019      13     -1006     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `9.40% <ø> (-60.34%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2716?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2716/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2716/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2716/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2716/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2716/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2716/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2716/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2716/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2716/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2716/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [452 more](https://codecov.io/gh/apache/hudi/pull/2716/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806719923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806721657","html_url":"https://github.com/apache/hudi/pull/2722#issuecomment-806721657","issue_url":"https://api.github.com/repos/apache/hudi/issues/2722","id":806721657,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjcyMTY1Nw==","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T13:15:17Z","updated_at":"2021-03-25T13:16:25Z","author_association":"CONTRIBUTOR","body":"test step:\r\nbefore patch:\r\nstep1:\r\n\r\nval df = spark.range(0, 100000).toDF(\"keyid\")\r\n.withColumn(\"col3\", expr(\"keyid\"))\r\n.withColumn(\"p\", lit(0))\r\n.withColumn(\"p1\", lit(0))\r\n.withColumn(\"p2\", lit(7))\r\n.withColumn(\"a1\", lit(Array[String] (\"sb1\", \"rz\")))\r\n.withColumn(\"a2\", lit(Array[String] (\"sb1\", \"rz\")))\r\n\r\n// create hoodie table hive_14b\r\n\r\n merge(df, 4, \"default\", \"hive_14b\", DataSourceWriteOptions.MOR_TABLE_TYPE_OPT_VAL, op = \"bulk_insert\")\r\n\r\nnotice:  bulk_insert will produce 4 files in hoodie table\r\n\r\nstep2:\r\n\r\n val df = spark.range(99999, 100002).toDF(\"keyid\")\r\n.withColumn(\"col3\", expr(\"keyid\"))\r\n.withColumn(\"p\", lit(0))\r\n.withColumn(\"p1\", lit(0))\r\n.withColumn(\"p2\", lit(7))\r\n.withColumn(\"a1\", lit(Array[String] (\"sb1\", \"rz\")))\r\n.withColumn(\"a2\", lit(Array[String] (\"sb1\", \"rz\")))\r\n\r\n// upsert table \r\n\r\nmerge(df, 4, \"default\", \"hive_14b\", DataSourceWriteOptions.MOR_TABLE_TYPE_OPT_VAL, op = \"upsert\")\r\n\r\n now :  we have four base files and one log file in hoodie table\r\n\r\nstep3: \r\n\r\nspark-sql/beeline: \r\n\r\n select count(col3) from hive_14b_rt;\r\n\r\nthen the query failed.\r\n2021-03-25 20:23:14,014 | INFO  | AsyncDispatcher event handler | Diagnostics report from attempt_1615883368881_0038_m_000000_0: Error: java.lang.NullPointerException2021-03-25 20:23:14,014 | INFO  | AsyncDispatcher event handler | Diagnostics report from attempt_1615883368881_0038_m_000000_0: Error: java.lang.NullPointerException at org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.next(RealtimeCompactedRecordReader.java:101) at org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.next(RealtimeCompactedRecordReader.java:43) at org.apache.hudi.hadoop.realtime.HoodieRealtimeRecordReader.next(HoodieRealtimeRecordReader.java:79) at org.apache.hudi.hadoop.realtime.HoodieRealtimeRecordReader.next(HoodieRealtimeRecordReader.java:36) at org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.next(RealtimeCompactedRecordReader.java:92) at org.apache.hudi.hadoop.realtime.RealtimeCompactedRecordReader.next(RealtimeCompactedRecordReader.java:43) at org.apache.hudi.hadoop.realtime.HoodieRealtimeRecordReader.next(HoodieRealtimeRecordReader.java:79) at org.apache.hudi.hadoop.realtime.HoodieCombineRealtimeRecordReader.next(HoodieCombineRealtimeRecordReader.java:68) at org.apache.hudi.hadoop.realtime.HoodieCombineRealtimeRecordReader.next(HoodieCombineRealtimeRecordReader.java:77) at org.apache.hudi.hadoop.realtime.HoodieCombineRealtimeRecordReader.next(HoodieCombineRealtimeRecordReader.java:42) at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.moveToNext(MapTask.java:205) at org.apache.hadoop.mapred.MapTask$TrackedRecordReader.next(MapTask.java:191) at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:52) at org.apache.hadoop.hive.ql.exec.mr.ExecMapRunner.run(ExecMapRunner.java:37) at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:465) at org.apache.hadoop.mapred.MapTask.run(MapTask.java:349) at org.apache.hadoop.mapred.YarnChild$1.run(YarnChild.java:183) at java.security.AccessController.doPrivileged(Native Method) at javax.security.auth.Subject.doAs(Subject.java:422) at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1761) at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:177)\r\n\r\n\r\nafter patch:\r\nspark-sql/hive-beeline \r\n select count(col3) from hive_14b_rt;\r\n+---------+\r\n|   _c0   |\r\n+---------+\r\n| 100002  |\r\n+---------+\r\n\r\nmerge function:\r\ndef merge(df: org.apache.spark.sql.DataFrame, par: Int, db: String, tableName: String,\r\ntableType: String = DataSourceWriteOptions.COW_TABLE_TYPE_OPT_VAL,\r\nhivePartitionExtract: String = \"org.apache.hudi.hive.MultiPartKeysValueExtractor\", op: String = \"upsert\"): Unit = {\r\nval mode = if (op.equals(\"bulk_insert\")) {\r\nOverwrite\r\n} else {\r\nAppend\r\n}\r\ndf.write.format(\"hudi\").\r\noption(DataSourceWriteOptions.TABLE_TYPE_OPT_KEY, tableType).\r\noption(HoodieCompactionConfig.INLINE_COMPACT_PROP, false).\r\noption(PRECOMBINE_FIELD_OPT_KEY, \"col3\").\r\noption(RECORDKEY_FIELD_OPT_KEY, \"keyid\").\r\noption(PARTITIONPATH_FIELD_OPT_KEY, \"p,p1,p2\").\r\noption(DataSourceWriteOptions.OPERATION_OPT_KEY, op).\r\noption(HoodieWriteConfig.KEYGENERATOR_CLASS_PROP, classOf[ComplexKeyGenerator].getName).\r\noption(\"hoodie.bulkinsert.shuffle.parallelism\", par.toString).\r\noption(\"hoodie.metadata.enable\", \"false\").\r\noption(\"hoodie.insert.shuffle.parallelism\", par.toString).\r\noption(\"hoodie.upsert.shuffle.parallelism\", par.toString).\r\noption(\"hoodie.delete.shuffle.parallelism\", par.toString).\r\noption(DataSourceWriteOptions.HIVE_SYNC_ENABLED_OPT_KEY, \"true\").\r\noption(DataSourceWriteOptions.HIVE_PARTITION_FIELDS_OPT_KEY, \"p,p1,p2\").\r\noption(\"hoodie.datasource.hive_sync.support_timestamp\", \"true\").\r\noption(HIVE_STYLE_PARTITIONING_OPT_KEY, \"true\").\r\noption(DataSourceWriteOptions.HIVE_PARTITION_EXTRACTOR_CLASS_OPT_KEY, \"org.apache.hudi.hive.MultiPartKeysValueExtractor\").\r\noption(HIVE_USE_JDBC_OPT_KEY, \"false\").\r\noption(DataSourceWriteOptions.HIVE_DATABASE_OPT_KEY, db).\r\noption(DataSourceWriteOptions.HIVE_TABLE_OPT_KEY, tableName).\r\noption(TABLE_NAME, tableName).mode(mode).save(s\"/tmp/db/{tableName}\")\r\n}","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806721657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806722454","html_url":"https://github.com/apache/hudi/pull/2722#issuecomment-806722454","issue_url":"https://api.github.com/repos/apache/hudi/issues/2722","id":806722454,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjcyMjQ1NA==","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T13:15:48Z","updated_at":"2021-03-25T13:15:48Z","author_association":"CONTRIBUTOR","body":"@garyli1019 could you pls help me review this pr, thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806722454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806823048","html_url":"https://github.com/apache/hudi/pull/2721#issuecomment-806823048","issue_url":"https://api.github.com/repos/apache/hudi/issues/2721","id":806823048,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjgyMzA0OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T14:10:15Z","updated_at":"2021-03-25T14:10:15Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2721?src=pr&el=h1) Report\n> Merging [#2721](https://codecov.io/gh/apache/hudi/pull/2721?src=pr&el=desc) (fb529db) into [master](https://codecov.io/gh/apache/hudi/commit/6e803e08b1328b32a5c3a6acd8168fdabc8a1e50?el=desc) (6e803e0) will **decrease** coverage by `42.32%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2721/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2721?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master   #2721       +/-   ##\n============================================\n- Coverage     51.72%   9.40%   -42.33%     \n+ Complexity     3601      48     -3553     \n============================================\n  Files           476      54      -422     \n  Lines         22595    1989    -20606     \n  Branches       2409     236     -2173     \n============================================\n- Hits          11687     187    -11500     \n+ Misses         9889    1789     -8100     \n+ Partials       1019      13     -1006     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `9.40% <ø> (-60.34%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2721?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2721/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2721/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2721/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2721/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2721/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2721/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2721/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2721/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2721/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2721/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [452 more](https://codecov.io/gh/apache/hudi/pull/2721/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/806823048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/807130229","html_url":"https://github.com/apache/hudi/pull/2678#issuecomment-807130229","issue_url":"https://api.github.com/repos/apache/hudi/issues/2678","id":807130229,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNzEzMDIyOQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T17:20:10Z","updated_at":"2021-03-25T17:20:10Z","author_association":"CONTRIBUTOR","body":"@jsbali Please file a jira ticket and add it to the heading of this PR ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/807130229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/807731807","html_url":"https://github.com/apache/hudi/pull/2699#issuecomment-807731807","issue_url":"https://api.github.com/repos/apache/hudi/issues/2699","id":807731807,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNzczMTgwNw==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T23:34:32Z","updated_at":"2021-03-25T23:34:32Z","author_association":"NONE","body":"Hello,\r\n\r\nHow this change about hive metastore uri works?\r\nI want to try hive metastore instead of hive to sync metadata.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/807731807/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/807731849","html_url":"https://github.com/apache/hudi/pull/2719#issuecomment-807731849","issue_url":"https://api.github.com/repos/apache/hudi/issues/2719","id":807731849,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNzczMTg0OQ==","user":{"login":"MyLanPangzi","id":46845236,"node_id":"MDQ6VXNlcjQ2ODQ1MjM2","avatar_url":"https://avatars.githubusercontent.com/u/46845236?v=4","gravatar_id":"","url":"https://api.github.com/users/MyLanPangzi","html_url":"https://github.com/MyLanPangzi","followers_url":"https://api.github.com/users/MyLanPangzi/followers","following_url":"https://api.github.com/users/MyLanPangzi/following{/other_user}","gists_url":"https://api.github.com/users/MyLanPangzi/gists{/gist_id}","starred_url":"https://api.github.com/users/MyLanPangzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MyLanPangzi/subscriptions","organizations_url":"https://api.github.com/users/MyLanPangzi/orgs","repos_url":"https://api.github.com/users/MyLanPangzi/repos","events_url":"https://api.github.com/users/MyLanPangzi/events{/privacy}","received_events_url":"https://api.github.com/users/MyLanPangzi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-25T23:34:34Z","updated_at":"2021-03-25T23:34:34Z","author_association":"CONTRIBUTOR","body":"Sorry,I forgot comment the issue \r\nhttps://github.com/apache/hudi/issues/2717","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/807731849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/807830171","html_url":"https://github.com/apache/hudi/pull/2651#issuecomment-807830171","issue_url":"https://api.github.com/repos/apache/hudi/issues/2651","id":807830171,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNzgzMDE3MQ==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T00:38:42Z","updated_at":"2021-03-26T00:40:17Z","author_association":"CONTRIBUTOR","body":"LGTM now. I mostly have just minor comments now which you can address.\r\n\r\nCan you run these unit tests you added once with `-Pspark3` to make sure this is running seamlessly for Spark 3 ? The travis tests right now don't run the tests with Spark 3.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/807830171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/807857780","html_url":"https://github.com/apache/hudi/issues/2623#issuecomment-807857780","issue_url":"https://api.github.com/repos/apache/hudi/issues/2623","id":807857780,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNzg1Nzc4MA==","user":{"login":"root18039532923","id":45333549,"node_id":"MDQ6VXNlcjQ1MzMzNTQ5","avatar_url":"https://avatars.githubusercontent.com/u/45333549?v=4","gravatar_id":"","url":"https://api.github.com/users/root18039532923","html_url":"https://github.com/root18039532923","followers_url":"https://api.github.com/users/root18039532923/followers","following_url":"https://api.github.com/users/root18039532923/following{/other_user}","gists_url":"https://api.github.com/users/root18039532923/gists{/gist_id}","starred_url":"https://api.github.com/users/root18039532923/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/root18039532923/subscriptions","organizations_url":"https://api.github.com/users/root18039532923/orgs","repos_url":"https://api.github.com/users/root18039532923/repos","events_url":"https://api.github.com/users/root18039532923/events{/privacy}","received_events_url":"https://api.github.com/users/root18039532923/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T01:18:51Z","updated_at":"2021-03-26T01:18:51Z","author_association":"NONE","body":"no reply","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/807857780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/807917549","html_url":"https://github.com/apache/hudi/pull/2651#issuecomment-807917549","issue_url":"https://api.github.com/repos/apache/hudi/issues/2651","id":807917549,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNzkxNzU0OQ==","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T03:56:25Z","updated_at":"2021-03-26T03:56:25Z","author_association":"NONE","body":"> LGTM now. I mostly have just minor comments now which you can address.\r\n> \r\n> Can you run these unit tests you added once with `-Pspark3` to make sure this is running seamlessly for Spark 3 ? The travis tests right now don't run the tests with Spark 3.\r\n\r\nThanks for your review @umehrot2 !\r\nI will address these comments soon and test the compile with `-Pspark3`.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/807917549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/807923018","html_url":"https://github.com/apache/hudi/pull/2718#issuecomment-807923018","issue_url":"https://api.github.com/repos/apache/hudi/issues/2718","id":807923018,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNzkyMzAxOA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T04:15:01Z","updated_at":"2021-03-26T04:15:57Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2718?src=pr&el=h1) Report\n> Merging [#2718](https://codecov.io/gh/apache/hudi/pull/2718?src=pr&el=desc) (f6f0f75) into [master](https://codecov.io/gh/apache/hudi/commit/6e803e08b1328b32a5c3a6acd8168fdabc8a1e50?el=desc) (6e803e0) will **increase** coverage by `0.02%`.\n> The diff coverage is `32.69%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2718/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2718?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2718      +/-   ##\n============================================\n+ Coverage     51.72%   51.74%   +0.02%     \n- Complexity     3601     3606       +5     \n============================================\n  Files           476      476              \n  Lines         22595    22611      +16     \n  Branches       2409     2410       +1     \n============================================\n+ Hits          11687    11701      +14     \n+ Misses         9889     9888       -1     \n- Partials       1019     1022       +3     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `37.01% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `∅ <ø> (∅)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.94% <ø> (+0.01%)` | `0.00 <ø> (ø)` | |\n| hudiflink | `54.18% <32.69%> (+0.09%)` | `0.00 <13.00> (ø)` | |\n| hudihadoopmr | `33.44% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `70.87% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisync | `45.58% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.73% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2718?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ache/hudi/sink/StreamWriteOperatorCoordinator.java](https://codecov.io/gh/apache/hudi/pull/2718/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL1N0cmVhbVdyaXRlT3BlcmF0b3JDb29yZGluYXRvci5qYXZh) | `68.94% <0.00%> (-0.44%)` | `32.00 <0.00> (ø)` | |\n| [...rg/apache/hudi/streamer/HoodieFlinkStreamerV2.java](https://codecov.io/gh/apache/hudi/pull/2718/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zdHJlYW1lci9Ib29kaWVGbGlua1N0cmVhbWVyVjIuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [...in/java/org/apache/hudi/table/HoodieTableSink.java](https://codecov.io/gh/apache/hudi/pull/2718/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9Ib29kaWVUYWJsZVNpbmsuamF2YQ==) | `12.19% <2.77%> (-2.10%)` | `2.00 <1.00> (ø)` | |\n| [.../java/org/apache/hudi/table/HoodieTableSource.java](https://codecov.io/gh/apache/hudi/pull/2718/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9Ib29kaWVUYWJsZVNvdXJjZS5qYXZh) | `60.97% <14.70%> (-0.48%)` | `25.00 <2.00> (-3.00)` | |\n| [...va/org/apache/hudi/configuration/FlinkOptions.java](https://codecov.io/gh/apache/hudi/pull/2718/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9jb25maWd1cmF0aW9uL0ZsaW5rT3B0aW9ucy5qYXZh) | `84.05% <76.92%> (-0.56%)` | `11.00 <4.00> (+4.00)` | :arrow_down: |\n| [...java/org/apache/hudi/table/HoodieTableFactory.java](https://codecov.io/gh/apache/hudi/pull/2718/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9Ib29kaWVUYWJsZUZhY3RvcnkuamF2YQ==) | `88.09% <94.11%> (+15.36%)` | `14.00 <6.00> (+3.00)` | |\n| [...c/main/java/org/apache/hudi/util/StreamerUtil.java](https://codecov.io/gh/apache/hudi/pull/2718/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS91dGlsL1N0cmVhbWVyVXRpbC5qYXZh) | `49.53% <100.00%> (ø)` | `17.00 <0.00> (+1.00)` | |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2718/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `79.68% <0.00%> (+1.56%)` | `26.00% <0.00%> (ø%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/807923018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/807969332","html_url":"https://github.com/apache/hudi/issues/2723#issuecomment-807969332","issue_url":"https://api.github.com/repos/apache/hudi/issues/2723","id":807969332,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNzk2OTMzMg==","user":{"login":"liijiankang","id":42951757,"node_id":"MDQ6VXNlcjQyOTUxNzU3","avatar_url":"https://avatars.githubusercontent.com/u/42951757?v=4","gravatar_id":"","url":"https://api.github.com/users/liijiankang","html_url":"https://github.com/liijiankang","followers_url":"https://api.github.com/users/liijiankang/followers","following_url":"https://api.github.com/users/liijiankang/following{/other_user}","gists_url":"https://api.github.com/users/liijiankang/gists{/gist_id}","starred_url":"https://api.github.com/users/liijiankang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liijiankang/subscriptions","organizations_url":"https://api.github.com/users/liijiankang/orgs","repos_url":"https://api.github.com/users/liijiankang/repos","events_url":"https://api.github.com/users/liijiankang/events{/privacy}","received_events_url":"https://api.github.com/users/liijiankang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T06:21:05Z","updated_at":"2021-03-26T06:21:05Z","author_association":"NONE","body":"Hudi version :0.6.0\r\n\r\nSpark version :2.4.0+cdh6.2.0\r\n\r\nHive version :2.1.1+cdh6.2.0\r\n\r\nHadoop version :3.0.0+cdh6.2.0","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/807969332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/807983997","html_url":"https://github.com/apache/hudi/pull/1946#issuecomment-807983997","issue_url":"https://api.github.com/repos/apache/hudi/issues/1946","id":807983997,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNzk4Mzk5Nw==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T06:53:20Z","updated_at":"2021-03-26T06:53:20Z","author_association":"CONTRIBUTOR","body":"Hi @hddong，I found the newest version of `Apache Log4j` is `2.14.1` for now, how about using `2.13.3` instead of `2.11.0` ?\r\nBesides, I ran the unit test locally and found some `No appenders could be found for logger (org.apache.hadoop.util.Shell)` warnings, It seems `log4j2.properties` is missed","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/807983997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808036420","html_url":"https://github.com/apache/hudi/pull/2651#issuecomment-808036420","issue_url":"https://api.github.com/repos/apache/hudi/issues/2651","id":808036420,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODAzNjQyMA==","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T08:31:44Z","updated_at":"2021-03-26T08:48:02Z","author_association":"NONE","body":"> LGTM now. I mostly have just minor comments now which you can address.\r\n> \r\n> Can you run these unit tests you added once with `-Pspark3` to make sure this is running seamlessly for Spark 3 ? The travis tests right now don't run the tests with Spark 3.\r\n\r\nHi @umehrot2 , I have address the comments you have mentioned above. And also have build the project with -Pspark3.  There is a method  parameter change for `PartitioningUtils.parsePartition` in spark3. So I add an `SparkParsePartitionUtil` interface to adapter  both spark2 and spark3, just like the `SparkRowSerDe` does.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808036420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808043186","html_url":"https://github.com/apache/hudi/issues/2712#issuecomment-808043186","issue_url":"https://api.github.com/repos/apache/hudi/issues/2712","id":808043186,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODA0MzE4Ng==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T08:44:21Z","updated_at":"2021-03-26T08:44:21Z","author_association":"CONTRIBUTOR","body":"@danny0405 @yanghua : Can you please help with this question ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808043186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808046990","html_url":"https://github.com/apache/hudi/issues/2717#issuecomment-808046990","issue_url":"https://api.github.com/repos/apache/hudi/issues/2717","id":808046990,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODA0Njk5MA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T08:51:24Z","updated_at":"2021-03-26T08:51:24Z","author_association":"CONTRIBUTOR","body":"@MyLanPangzi : Thanks for opening the issue along with a workaround. Can you open a PR with this changes. This needs to test with other versions of hive to make sure there is no regression bug. cc @nsivabalan  : Opened https://issues.apache.org/jira/browse/HUDI-1724 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808046990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808048273","html_url":"https://github.com/apache/hudi/issues/2712#issuecomment-808048273","issue_url":"https://api.github.com/repos/apache/hudi/issues/2712","id":808048273,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODA0ODI3Mw==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T08:53:44Z","updated_at":"2021-03-26T08:54:59Z","author_association":"CONTRIBUTOR","body":"Thanks @stayrascal , batch delete is not supported yet ~, Flink SQL now supports row level delete through the CDC source into hudi, if say, your format can produce messages with Flink `RowKind`: `INSERT/UPDATE/UPDATE_AFTER/UPDATE_BEFORE`.\r\n\r\nIf you use the flink cdc connector or use the cdc formar like `canal-json`, the `update/delete` would be row-level and very natural.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808048273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808059487","html_url":"https://github.com/apache/hudi/pull/2725#issuecomment-808059487","issue_url":"https://api.github.com/repos/apache/hudi/issues/2725","id":808059487,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODA1OTQ4Nw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T09:12:48Z","updated_at":"2021-03-26T09:12:48Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2725?src=pr&el=h1) Report\n> Merging [#2725](https://codecov.io/gh/apache/hudi/pull/2725?src=pr&el=desc) (352297b) into [master](https://codecov.io/gh/apache/hudi/commit/8b774fe3313757a8b94ca408079327c62b4a664c?el=desc) (8b774fe) will **decrease** coverage by `42.36%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2725/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2725?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master   #2725       +/-   ##\n============================================\n- Coverage     51.73%   9.36%   -42.37%     \n+ Complexity     3606      48     -3558     \n============================================\n  Files           476      54      -422     \n  Lines         22611    1996    -20615     \n  Branches       2410     238     -2172     \n============================================\n- Hits          11697     187    -11510     \n+ Misses         9891    1796     -8095     \n+ Partials       1023      13     -1010     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `9.36% <0.00%> (-60.37%)` | `0.00 <0.00> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2725?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...s/deltastreamer/HoodieMultiTableDeltaStreamer.java](https://codecov.io/gh/apache/hudi/pull/2725/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllTXVsdGlUYWJsZURlbHRhU3RyZWFtZXIuamF2YQ==) | `0.00% <0.00%> (-78.40%)` | `0.00 <0.00> (-18.00)` | |\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2725/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2725/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2725/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2725/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2725/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2725/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2725/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2725/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2725/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| ... and [454 more](https://codecov.io/gh/apache/hudi/pull/2725/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808059487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808060354","html_url":"https://github.com/apache/hudi/issues/2724#issuecomment-808060354","issue_url":"https://api.github.com/repos/apache/hudi/issues/2724","id":808060354,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODA2MDM1NA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T09:14:23Z","updated_at":"2021-03-26T09:14:23Z","author_association":"CONTRIBUTOR","body":"@satishkotha : Is this something you can take a look at ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808060354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808063676","html_url":"https://github.com/apache/hudi/issues/2723#issuecomment-808063676","issue_url":"https://api.github.com/repos/apache/hudi/issues/2723","id":808063676,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODA2MzY3Ng==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T09:20:25Z","updated_at":"2021-03-26T09:20:25Z","author_association":"CONTRIBUTOR","body":"This does look like some exception coming from cleaner. Can you look around the logs to see if there are more stack traces related to this ?\r\n\r\nCan you try setting hoodie.clean.async=False and see ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808063676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808072218","html_url":"https://github.com/apache/hudi/pull/2726#issuecomment-808072218","issue_url":"https://api.github.com/repos/apache/hudi/issues/2726","id":808072218,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODA3MjIxOA==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T09:34:53Z","updated_at":"2021-03-26T09:34:53Z","author_association":"CONTRIBUTOR","body":"@yanghua @danny0405 please take a look when free","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808072218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808081021","html_url":"https://github.com/apache/hudi/issues/2723#issuecomment-808081021","issue_url":"https://api.github.com/repos/apache/hudi/issues/2723","id":808081021,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODA4MTAyMQ==","user":{"login":"liijiankang","id":42951757,"node_id":"MDQ6VXNlcjQyOTUxNzU3","avatar_url":"https://avatars.githubusercontent.com/u/42951757?v=4","gravatar_id":"","url":"https://api.github.com/users/liijiankang","html_url":"https://github.com/liijiankang","followers_url":"https://api.github.com/users/liijiankang/followers","following_url":"https://api.github.com/users/liijiankang/following{/other_user}","gists_url":"https://api.github.com/users/liijiankang/gists{/gist_id}","starred_url":"https://api.github.com/users/liijiankang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liijiankang/subscriptions","organizations_url":"https://api.github.com/users/liijiankang/orgs","repos_url":"https://api.github.com/users/liijiankang/repos","events_url":"https://api.github.com/users/liijiankang/events{/privacy}","received_events_url":"https://api.github.com/users/liijiankang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T09:50:15Z","updated_at":"2021-03-26T09:50:15Z","author_association":"NONE","body":"![4](https://user-images.githubusercontent.com/42951757/112612764-41f97380-8e5a-11eb-8bca-c0eb8b358f48.png)\r\nThanks，I will test it .If this exception comes from a cleaner, do we have to set hoodie.clean.async = false? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808081021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808097639","html_url":"https://github.com/apache/hudi/pull/2726#issuecomment-808097639","issue_url":"https://api.github.com/repos/apache/hudi/issues/2726","id":808097639,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODA5NzYzOQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T10:18:22Z","updated_at":"2021-03-26T10:19:17Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2726?src=pr&el=h1) Report\n> Merging [#2726](https://codecov.io/gh/apache/hudi/pull/2726?src=pr&el=desc) (bd67e50) into [master](https://codecov.io/gh/apache/hudi/commit/8b774fe3313757a8b94ca408079327c62b4a664c?el=desc) (8b774fe) will **increase** coverage by `0.16%`.\n> The diff coverage is `50.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2726/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2726?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2726      +/-   ##\n============================================\n+ Coverage     51.73%   51.90%   +0.16%     \n+ Complexity     3606     3591      -15     \n============================================\n  Files           476      475       -1     \n  Lines         22611    22472     -139     \n  Branches       2410     2375      -35     \n============================================\n- Hits          11697    11663      -34     \n+ Misses         9891     9799      -92     \n+ Partials       1023     1010      -13     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `37.01% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `∅ <ø> (∅)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.92% <ø> (+0.01%)` | `0.00 <ø> (ø)` | |\n| hudiflink | `55.37% <50.00%> (+1.19%)` | `0.00 <0.00> (ø)` | |\n| hudihadoopmr | `33.44% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `70.87% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisync | `45.58% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.78% <ø> (+0.05%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2726?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...rg/apache/hudi/streamer/HoodieFlinkStreamerV2.java](https://codecov.io/gh/apache/hudi/pull/2726/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zdHJlYW1lci9Ib29kaWVGbGlua1N0cmVhbWVyVjIuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [...java/org/apache/hudi/table/HoodieTableFactory.java](https://codecov.io/gh/apache/hudi/pull/2726/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9Ib29kaWVUYWJsZUZhY3RvcnkuamF2YQ==) | `88.09% <ø> (ø)` | `14.00 <0.00> (ø)` | |\n| [.../java/org/apache/hudi/table/HoodieTableSource.java](https://codecov.io/gh/apache/hudi/pull/2726/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9Ib29kaWVUYWJsZVNvdXJjZS5qYXZh) | `60.97% <100.00%> (ø)` | `25.00 <0.00> (ø)` | |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/2726/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `71.72% <0.00%> (+0.34%)` | `56.00% <0.00%> (+1.00%)` | |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2726/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `78.12% <0.00%> (+1.56%)` | `26.00% <0.00%> (ø%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808097639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808099009","html_url":"https://github.com/apache/hudi/pull/2726#issuecomment-808099009","issue_url":"https://api.github.com/repos/apache/hudi/issues/2726","id":808099009,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODA5OTAwOQ==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T10:20:40Z","updated_at":"2021-03-26T10:20:40Z","author_association":"CONTRIBUTOR","body":"No, i actually keep the class intentionally, because this is a pure tool class and buggy (the code in Flink side was also written by me) and we may need to tweak based on hudi needs, so i would suggest to keep it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808099009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808123853","html_url":"https://github.com/apache/hudi/issues/2717#issuecomment-808123853","issue_url":"https://api.github.com/repos/apache/hudi/issues/2717","id":808123853,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODEyMzg1Mw==","user":{"login":"MyLanPangzi","id":46845236,"node_id":"MDQ6VXNlcjQ2ODQ1MjM2","avatar_url":"https://avatars.githubusercontent.com/u/46845236?v=4","gravatar_id":"","url":"https://api.github.com/users/MyLanPangzi","html_url":"https://github.com/MyLanPangzi","followers_url":"https://api.github.com/users/MyLanPangzi/followers","following_url":"https://api.github.com/users/MyLanPangzi/following{/other_user}","gists_url":"https://api.github.com/users/MyLanPangzi/gists{/gist_id}","starred_url":"https://api.github.com/users/MyLanPangzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MyLanPangzi/subscriptions","organizations_url":"https://api.github.com/users/MyLanPangzi/orgs","repos_url":"https://api.github.com/users/MyLanPangzi/repos","events_url":"https://api.github.com/users/MyLanPangzi/events{/privacy}","received_events_url":"https://api.github.com/users/MyLanPangzi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T11:03:36Z","updated_at":"2021-03-26T11:03:36Z","author_association":"CONTRIBUTOR","body":"this is my pr https://github.com/apache/hudi/pull/2719. but i think this that needs some test for hive2 and hive3","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808123853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808177220","html_url":"https://github.com/apache/hudi/pull/2726#issuecomment-808177220","issue_url":"https://api.github.com/repos/apache/hudi/issues/2726","id":808177220,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODE3NzIyMA==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T12:27:49Z","updated_at":"2021-03-26T12:27:49Z","author_association":"CONTRIBUTOR","body":"> No, i actually keep the class intentionally, because this is a pure tool class and buggy (the code in Flink side was also written by me) and we may need to tweak based on hudi needs, so i would suggest to keep it.\r\n\r\nok ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808177220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808296746","html_url":"https://github.com/apache/hudi/pull/2727#issuecomment-808296746","issue_url":"https://api.github.com/repos/apache/hudi/issues/2727","id":808296746,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODI5Njc0Ng==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T15:13:40Z","updated_at":"2021-03-26T16:13:10Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2727?src=pr&el=h1) Report\n> Merging [#2727](https://codecov.io/gh/apache/hudi/pull/2727?src=pr&el=desc) (cd81219) into [release-0.8.0](https://codecov.io/gh/apache/hudi/commit/9bfd810e745202bd27980fa696d61b47922f46a9?el=desc) (9bfd810) will **decrease** coverage by `42.32%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2727/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2727?src=pr&el=tree)\n\n```diff\n@@                 Coverage Diff                 @@\n##             release-0.8.0   #2727       +/-   ##\n===================================================\n- Coverage            51.72%   9.40%   -42.33%     \n+ Complexity            3601      48     -3553     \n===================================================\n  Files                  476      54      -422     \n  Lines                22595    1989    -20606     \n  Branches              2409     236     -2173     \n===================================================\n- Hits                 11687     187    -11500     \n+ Misses                9889    1789     -8100     \n+ Partials              1019      13     -1006     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `9.40% <ø> (-60.34%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2727?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2727/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2727/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2727/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2727/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2727/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2727/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2727/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2727/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2727/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2727/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [453 more](https://codecov.io/gh/apache/hudi/pull/2727/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808296746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808563383","html_url":"https://github.com/apache/hudi/issues/2637#issuecomment-808563383","issue_url":"https://api.github.com/repos/apache/hudi/issues/2637","id":808563383,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODU2MzM4Mw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-26T22:33:34Z","updated_at":"2021-03-26T22:34:03Z","author_association":"CONTRIBUTOR","body":"@Sugamber : we are currently busy with an upcoming release. Once completed, I will start reviewing this work item. And yes, the linked PRs are similar to your ask. Guess there are few other folks who were interested in this. We can target it for next release. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808563383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808605301","html_url":"https://github.com/apache/hudi/pull/2532#issuecomment-808605301","issue_url":"https://api.github.com/repos/apache/hudi/issues/2532","id":808605301,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODYwNTMwMQ==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-27T00:38:48Z","updated_at":"2021-03-27T00:38:48Z","author_association":"MEMBER","body":"@lhjzmn  we discussed this in one of the OSS meetings. we want to keep jdbc support for backward compatibility reasons. we can separate out MetastoreClient as a separate class though. please let me know what you think.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808605301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808606053","html_url":"https://github.com/apache/hudi/pull/2651#issuecomment-808606053","issue_url":"https://api.github.com/repos/apache/hudi/issues/2651","id":808606053,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODYwNjA1Mw==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-27T00:43:03Z","updated_at":"2021-03-27T00:44:53Z","author_association":"CONTRIBUTOR","body":"@pengzhiwei2018 I was testing Hudi without this patch via Spark SQL and I am a little confused. With Spark SQL I see partition pruning already works seamlessly for Hudi. Just start spark sql with:\r\n```\r\nspark-sql --conf \"spark.serializer=org.apache.spark.serializer.KryoSerializer\" --conf \"spark.hadoop.mapreduce.input.pathFilter.class=org.apache.hudi.hadoop.HoodieROTablePathFilter\" --jars /usr/lib/hudi/hudi-spark-bundle.jar\r\n```\r\nSpark is able to get the partition schema from the catalog using `CatalogFileIndex` and do the partition pruning. So this partition pruning support we are adding, is this to be able to support partition pruning for datasource based queries ? I think for hive style partition tables pruning should have already worked via Spark datasource too, because Spark tries to identify partition columns from the path, but not sure why it does not work. I want to understand clearly what we are gaining when this PR gets merged, is it partition pruning for Spark datasource queries ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808606053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808659555","html_url":"https://github.com/apache/hudi/pull/2729#issuecomment-808659555","issue_url":"https://api.github.com/repos/apache/hudi/issues/2729","id":808659555,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODY1OTU1NQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-27T05:29:01Z","updated_at":"2021-03-28T07:32:55Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2729?src=pr&el=h1) Report\n> Merging [#2729](https://codecov.io/gh/apache/hudi/pull/2729?src=pr&el=desc) (642264b) into [release-0.8.0](https://codecov.io/gh/apache/hudi/commit/b7c47b195861c90269f10932dd2838e2f53bf326?el=desc) (b7c47b1) will **increase** coverage by `0.13%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2729/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2729?src=pr&el=tree)\n\n```diff\n@@                 Coverage Diff                 @@\n##             release-0.8.0    #2729      +/-   ##\n===================================================\n+ Coverage            51.73%   51.87%   +0.13%     \n- Complexity            3602     3651      +49     \n===================================================\n  Files                  476      468       -8     \n  Lines                22598    22492     -106     \n  Branches              2409     2365      -44     \n===================================================\n- Hits                 11692    11668      -24     \n+ Misses                9888     9829      -59     \n+ Partials              1018      995      -23     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `37.06% <ø> (+0.05%)` | `0.00 <ø> (ø)` | |\n| hudiclient | `∅ <ø> (∅)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.92% <ø> (-0.05%)` | `0.00 <ø> (ø)` | |\n| hudiflink | `54.08% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.44% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `74.47% <ø> (+3.59%)` | `0.00 <ø> (ø)` | |\n| hudisync | `45.47% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.78% <ø> (+0.05%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2729?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ache/hudi/common/fs/inline/InMemoryFileSystem.java](https://codecov.io/gh/apache/hudi/pull/2729/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL2lubGluZS9Jbk1lbW9yeUZpbGVTeXN0ZW0uamF2YQ==) | `79.31% <0.00%> (-10.35%)` | `15.00% <0.00%> (-1.00%)` | |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2729/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `78.12% <0.00%> (-1.57%)` | `26.00% <0.00%> (ø%)` | |\n| [.../main/scala/org/apache/hudi/cli/SparkHelpers.scala](https://codecov.io/gh/apache/hudi/pull/2729/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL2NsaS9TcGFya0hlbHBlcnMuc2NhbGE=) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...ain/scala/org/apache/hudi/cli/DedupeSparkJob.scala](https://codecov.io/gh/apache/hudi/pull/2729/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL2NsaS9EZWR1cGVTcGFya0pvYi5zY2FsYQ==) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...spark/src/main/scala/org/apache/hudi/package.scala](https://codecov.io/gh/apache/hudi/pull/2729/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL3BhY2thZ2Uuc2NhbGE=) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...nal/HoodieBulkInsertDataInternalWriterFactory.java](https://codecov.io/gh/apache/hudi/pull/2729/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3BhcmszL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3NwYXJrMy9pbnRlcm5hbC9Ib29kaWVCdWxrSW5zZXJ0RGF0YUludGVybmFsV3JpdGVyRmFjdG9yeS5qYXZh) | | | |\n| [...org/apache/hudi/spark3/internal/DefaultSource.java](https://codecov.io/gh/apache/hudi/pull/2729/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3BhcmszL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3NwYXJrMy9pbnRlcm5hbC9EZWZhdWx0U291cmNlLmphdmE=) | | | |\n| [...nal/HoodieDataSourceInternalBatchWriteBuilder.java](https://codecov.io/gh/apache/hudi/pull/2729/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3BhcmszL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3NwYXJrMy9pbnRlcm5hbC9Ib29kaWVEYXRhU291cmNlSW50ZXJuYWxCYXRjaFdyaXRlQnVpbGRlci5qYXZh) | | | |\n| [...udi/spark3/internal/HoodieWriterCommitMessage.java](https://codecov.io/gh/apache/hudi/pull/2729/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3BhcmszL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3NwYXJrMy9pbnRlcm5hbC9Ib29kaWVXcml0ZXJDb21taXRNZXNzYWdlLmphdmE=) | | | |\n| [...rc/main/scala/org/apache/hudi/Spark3RowSerDe.scala](https://codecov.io/gh/apache/hudi/pull/2729/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3BhcmszL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvaHVkaS9TcGFyazNSb3dTZXJEZS5zY2FsYQ==) | | | |\n| ... and [17 more](https://codecov.io/gh/apache/hudi/pull/2729/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808659555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808660342","html_url":"https://github.com/apache/hudi/pull/2730#issuecomment-808660342","issue_url":"https://api.github.com/repos/apache/hudi/issues/2730","id":808660342,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODY2MDM0Mg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-27T05:33:17Z","updated_at":"2021-03-28T07:20:47Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2730?src=pr&el=h1) Report\n> Merging [#2730](https://codecov.io/gh/apache/hudi/pull/2730?src=pr&el=desc) (22820ce) into [release-0.8.0](https://codecov.io/gh/apache/hudi/commit/b7c47b195861c90269f10932dd2838e2f53bf326?el=desc) (b7c47b1) will **increase** coverage by `0.09%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2730/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2730?src=pr&el=tree)\n\n```diff\n@@                 Coverage Diff                 @@\n##             release-0.8.0    #2730      +/-   ##\n===================================================\n+ Coverage            51.73%   51.82%   +0.09%     \n- Complexity            3602     3651      +49     \n===================================================\n  Files                  476      470       -6     \n  Lines                22598    22516      -82     \n  Branches              2409     2365      -44     \n===================================================\n- Hits                 11692    11670      -22     \n+ Misses                9888     9851      -37     \n+ Partials              1018      995      -23     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `37.06% <ø> (+0.05%)` | `0.00 <ø> (ø)` | |\n| hudiclient | `∅ <ø> (∅)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.94% <ø> (-0.03%)` | `0.00 <ø> (ø)` | |\n| hudiflink | `54.08% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.44% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `73.27% <ø> (+2.40%)` | `0.00 <ø> (ø)` | |\n| hudisync | `45.47% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.78% <ø> (+0.05%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2730?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ache/hudi/common/fs/inline/InMemoryFileSystem.java](https://codecov.io/gh/apache/hudi/pull/2730/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL2lubGluZS9Jbk1lbW9yeUZpbGVTeXN0ZW0uamF2YQ==) | `79.31% <0.00%> (-10.35%)` | `15.00% <0.00%> (-1.00%)` | |\n| [.../main/scala/org/apache/hudi/cli/SparkHelpers.scala](https://codecov.io/gh/apache/hudi/pull/2730/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL2NsaS9TcGFya0hlbHBlcnMuc2NhbGE=) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...ain/scala/org/apache/hudi/cli/DedupeSparkJob.scala](https://codecov.io/gh/apache/hudi/pull/2730/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL2NsaS9EZWR1cGVTcGFya0pvYi5zY2FsYQ==) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...spark/src/main/scala/org/apache/hudi/package.scala](https://codecov.io/gh/apache/hudi/pull/2730/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL3BhY2thZ2Uuc2NhbGE=) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...i/internal/HoodieBulkInsertDataInternalWriter.java](https://codecov.io/gh/apache/hudi/pull/2730/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3BhcmsyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2ludGVybmFsL0hvb2RpZUJ1bGtJbnNlcnREYXRhSW50ZXJuYWxXcml0ZXIuamF2YQ==) | | | |\n| [.../hudi/internal/HoodieDataSourceInternalWriter.java](https://codecov.io/gh/apache/hudi/pull/2730/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3BhcmsyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2ludGVybmFsL0hvb2RpZURhdGFTb3VyY2VJbnRlcm5hbFdyaXRlci5qYXZh) | | | |\n| [...n/java/org/apache/hudi/internal/DefaultSource.java](https://codecov.io/gh/apache/hudi/pull/2730/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3BhcmsyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2ludGVybmFsL0RlZmF1bHRTb3VyY2UuamF2YQ==) | | | |\n| [...nal/HoodieBulkInsertDataInternalWriterFactory.java](https://codecov.io/gh/apache/hudi/pull/2730/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3BhcmsyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2ludGVybmFsL0hvb2RpZUJ1bGtJbnNlcnREYXRhSW50ZXJuYWxXcml0ZXJGYWN0b3J5LmphdmE=) | | | |\n| [...rc/main/scala/org/apache/hudi/Spark2RowSerDe.scala](https://codecov.io/gh/apache/hudi/pull/2730/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3BhcmsyL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvaHVkaS9TcGFyazJSb3dTZXJEZS5zY2FsYQ==) | | | |\n| [...pache/hudi/internal/HoodieWriterCommitMessage.java](https://codecov.io/gh/apache/hudi/pull/2730/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3BhcmsyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2ludGVybmFsL0hvb2RpZVdyaXRlckNvbW1pdE1lc3NhZ2UuamF2YQ==) | | | |\n| ... and [14 more](https://codecov.io/gh/apache/hudi/pull/2730/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808660342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808677959","html_url":"https://github.com/apache/hudi/pull/2731#issuecomment-808677959","issue_url":"https://api.github.com/repos/apache/hudi/issues/2731","id":808677959,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODY3Nzk1OQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-27T07:20:28Z","updated_at":"2021-03-27T16:37:25Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2731?src=pr&el=h1) Report\n> Merging [#2731](https://codecov.io/gh/apache/hudi/pull/2731?src=pr&el=desc) (34d1f05) into [master](https://codecov.io/gh/apache/hudi/commit/8b774fe3313757a8b94ca408079327c62b4a664c?el=desc) (8b774fe) will **increase** coverage by `0.00%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2731/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2731?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #2731   +/-   ##\n=========================================\n  Coverage     51.73%   51.73%           \n  Complexity     3606     3606           \n=========================================\n  Files           476      476           \n  Lines         22611    22614    +3     \n  Branches       2410     2410           \n=========================================\n+ Hits          11697    11699    +2     \n- Misses         9891     9892    +1     \n  Partials       1023     1023           \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `37.01% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `∅ <ø> (∅)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.92% <ø> (+0.01%)` | `0.00 <ø> (ø)` | |\n| hudiflink | `54.18% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.44% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `70.87% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisync | `45.47% <0.00%> (-0.12%)` | `0.00 <0.00> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.73% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2731?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ache/hudi/hive/HiveMetastoreBasedLockProvider.java](https://codecov.io/gh/apache/hudi/pull/2731/diff?src=pr&el=tree#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvSGl2ZU1ldGFzdG9yZUJhc2VkTG9ja1Byb3ZpZGVyLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2731/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `78.12% <0.00%> (+1.56%)` | `26.00% <0.00%> (ø%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808677959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808716532","html_url":"https://github.com/apache/hudi/pull/2732#issuecomment-808716532","issue_url":"https://api.github.com/repos/apache/hudi/issues/2732","id":808716532,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODcxNjUzMg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-27T11:23:17Z","updated_at":"2021-03-28T14:22:33Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2732?src=pr&el=h1) Report\n> Merging [#2732](https://codecov.io/gh/apache/hudi/pull/2732?src=pr&el=desc) (c96b2cc) into [master](https://codecov.io/gh/apache/hudi/commit/8b774fe3313757a8b94ca408079327c62b4a664c?el=desc) (8b774fe) will **increase** coverage by `18.00%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2732/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2732?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2732       +/-   ##\n=============================================\n+ Coverage     51.73%   69.73%   +18.00%     \n+ Complexity     3606      371     -3235     \n=============================================\n  Files           476       54      -422     \n  Lines         22611     1989    -20622     \n  Branches       2410      236     -2174     \n=============================================\n- Hits          11697     1387    -10310     \n+ Misses         9891      471     -9420     \n+ Partials       1023      131      -892     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `69.73% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2732?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...org/apache/hudi/hadoop/HoodieHFileInputFormat.java](https://codecov.io/gh/apache/hudi/pull/2732/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL0hvb2RpZUhGaWxlSW5wdXRGb3JtYXQuamF2YQ==) | | | |\n| [...org/apache/hudi/HoodieDatasetBulkInsertHelper.java](https://codecov.io/gh/apache/hudi/pull/2732/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvSG9vZGllRGF0YXNldEJ1bGtJbnNlcnRIZWxwZXIuamF2YQ==) | | | |\n| [...che/hudi/common/table/timeline/dto/InstantDTO.java](https://codecov.io/gh/apache/hudi/pull/2732/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL2R0by9JbnN0YW50RFRPLmphdmE=) | | | |\n| [...java/org/apache/hudi/table/HoodieTableFactory.java](https://codecov.io/gh/apache/hudi/pull/2732/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9Ib29kaWVUYWJsZUZhY3RvcnkuamF2YQ==) | | | |\n| [...g/apache/hudi/sink/StreamWriteOperatorFactory.java](https://codecov.io/gh/apache/hudi/pull/2732/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL1N0cmVhbVdyaXRlT3BlcmF0b3JGYWN0b3J5LmphdmE=) | | | |\n| [...in/scala/org/apache/hudi/HoodieStreamingSink.scala](https://codecov.io/gh/apache/hudi/pull/2732/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0hvb2RpZVN0cmVhbWluZ1Npbmsuc2NhbGE=) | | | |\n| [.../apache/hudi/common/model/HoodieRecordPayload.java](https://codecov.io/gh/apache/hudi/pull/2732/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZVJlY29yZFBheWxvYWQuamF2YQ==) | | | |\n| [...udi/timeline/service/handlers/TimelineHandler.java](https://codecov.io/gh/apache/hudi/pull/2732/diff?src=pr&el=tree#diff-aHVkaS10aW1lbGluZS1zZXJ2aWNlL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3RpbWVsaW5lL3NlcnZpY2UvaGFuZGxlcnMvVGltZWxpbmVIYW5kbGVyLmphdmE=) | | | |\n| [.../common/table/view/RocksDbBasedFileSystemView.java](https://codecov.io/gh/apache/hudi/pull/2732/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3ZpZXcvUm9ja3NEYkJhc2VkRmlsZVN5c3RlbVZpZXcuamF2YQ==) | | | |\n| [...va/org/apache/hudi/table/format/FilePathUtils.java](https://codecov.io/gh/apache/hudi/pull/2732/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9mb3JtYXQvRmlsZVBhdGhVdGlscy5qYXZh) | | | |\n| ... and [405 more](https://codecov.io/gh/apache/hudi/pull/2732/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808716532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808734748","html_url":"https://github.com/apache/hudi/pull/2651#issuecomment-808734748","issue_url":"https://api.github.com/repos/apache/hudi/issues/2651","id":808734748,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODczNDc0OA==","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-27T13:40:30Z","updated_at":"2021-03-27T13:40:30Z","author_association":"NONE","body":"> CatalogFileIndex\r\n\r\nHi @umehrot2\r\nI have test  query the hive table, the `CatalogFileIndex` can really do the partition prune. But the data source table is not work for the partition prune. The main reason is that we have not pass the partition schema to the `HadoopFsRelation` in the follow code in DefaultSource#getBaseFileOnlyView:\r\n\r\n> // simply return as a regular parquet relation\r\n>       DataSource.apply(\r\n>         sparkSession = sqlContext.sparkSession,\r\n>         paths = extraReadPaths,\r\n>         userSpecifiedSchema = Option(schema),\r\n>         className = \"parquet\",\r\n>         options = optParams)\r\n>         .resolveRelation()\r\nSo that spark trait it as a non-partitioned table which make the partition prune not work.\r\n\r\nIn our PR, we do a lot of the things to infer the partition schema which support partition prune for both URL_ENCODE_PARTITIONING_OPT_KEY = true or false. And also support the partition prune for the non-hive-styled partition.\r\n\r\nBy merge this PR, we can gain the follow things:\r\n- Support Partition Prune for hudi  datasource table.\r\n- Support Non-Star query for hudi.\r\n  This is very import for spark sql integration for hudi. The table path in the spark properties should not contain stars.\r\n  [HUDI-1415](https://github.com/apache/hudi/pull/2283) is still blocked on this feature.\r\n- We can do more optimize in the `HoodieFileIndex`. I have a few optimizations in mind.\r\n   1、Support time travel query for hudi，just like the delta does.  e.g. `select * from h0 where __hoodie_commit_time_ = '20210328'`, we can get the filter condition of `__hoodie_commit_time_` in the `HoodieFileIndex` and query the specified version of data.\r\n   2、Support rowKey skip for query. e.g. select * from h0 where rowKey = '10';  we can use the filter condition `rowKey = '10';` to skip the data by the bloom filter( currently hoodie store the bloom filter of rowKey in the parquet file), which can improve the query performance.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808734748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808752624","html_url":"https://github.com/apache/hudi/pull/2732#issuecomment-808752624","issue_url":"https://api.github.com/repos/apache/hudi/issues/2732","id":808752624,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODc1MjYyNA==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-27T15:51:52Z","updated_at":"2021-03-27T15:51:52Z","author_association":"CONTRIBUTOR","body":"Close and reopen to re-trigger the tests.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808752624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808810711","html_url":"https://github.com/apache/hudi/issues/2589#issuecomment-808810711","issue_url":"https://api.github.com/repos/apache/hudi/issues/2589","id":808810711,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODgxMDcxMQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-27T22:22:56Z","updated_at":"2021-03-28T01:23:17Z","author_association":"CONTRIBUTOR","body":"I assume you are using AvroKafkaSource. IIUC, reading from kafka does not need a schema provider. Have you tried not setting any schema provider? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808810711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808828818","html_url":"https://github.com/apache/hudi/issues/2675#issuecomment-808828818","issue_url":"https://api.github.com/repos/apache/hudi/issues/2675","id":808828818,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODgyODgxOA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-28T01:29:18Z","updated_at":"2021-03-28T01:29:58Z","author_association":"CONTRIBUTOR","body":"Yes, your approach should work. Only change is that, we might have to fix it where we generate avro schema from df schema in HoodieSparkSqlWriter. Eg: https://github.com/nsivabalan/hudi/commit/43b3fc845a7b2ea4c68f1b3fc3e13b41bfb2d17e\r\n(My method to regenerateSchema is not full fledged. But it does work for mor w/ evolved schema for string type. actual fix to regenerate schema w/ null defaults should look like what you have in your commit) We need to fix the schema in HoodieSparkSqlWriter, bcoz, thats what gets serialized in commit metadata and hence. Not sure if we need to fix HoodieSparkUtils.createRdd(). \r\n\r\nPlease go ahead and open up a PR. Would be happy to review. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808828818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808839630","html_url":"https://github.com/apache/hudi/issues/2675#issuecomment-808839630","issue_url":"https://api.github.com/repos/apache/hudi/issues/2675","id":808839630,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODgzOTYzMA==","user":{"login":"aditiwari01","id":16352977,"node_id":"MDQ6VXNlcjE2MzUyOTc3","avatar_url":"https://avatars.githubusercontent.com/u/16352977?v=4","gravatar_id":"","url":"https://api.github.com/users/aditiwari01","html_url":"https://github.com/aditiwari01","followers_url":"https://api.github.com/users/aditiwari01/followers","following_url":"https://api.github.com/users/aditiwari01/following{/other_user}","gists_url":"https://api.github.com/users/aditiwari01/gists{/gist_id}","starred_url":"https://api.github.com/users/aditiwari01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aditiwari01/subscriptions","organizations_url":"https://api.github.com/users/aditiwari01/orgs","repos_url":"https://api.github.com/users/aditiwari01/repos","events_url":"https://api.github.com/users/aditiwari01/events{/privacy}","received_events_url":"https://api.github.com/users/aditiwari01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-28T03:49:17Z","updated_at":"2021-03-28T03:49:17Z","author_association":"CONTRIBUTOR","body":"Yes. My changes are also in HoodieSparkSqlWriter where we generate avro schema from df schema. The only difference is where to keep the convertor function. Instead of having a separate DataSourceUtils.regenerateSchema function, I enhannced convertStructTypeToAvroSchema method itself to handle null values. Seems to me that this is a limitation in convertStructTypeToAvroSchema function and we need not have a separate util only to add default values. Anytime anyone needs to get schema from dataframe must get with defaults handled.\r\n\r\nUltimately from flow point of view, this flow also enhances HoodieSparkSqlWriter eventually.\r\n\r\nBesides this, is there any doc to run unit/integration tests on the project? Or is there any pipeline I can test my local branch on?\r\nDo we need Docker setup for unit tests as well? I tried \"mvn clean install -DskipITs\", but it also fails indefinately trying to connect to localhost:54522.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808839630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808858281","html_url":"https://github.com/apache/hudi/pull/2733#issuecomment-808858281","issue_url":"https://api.github.com/repos/apache/hudi/issues/2733","id":808858281,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODg1ODI4MQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-28T07:13:07Z","updated_at":"2021-03-28T07:33:00Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2733?src=pr&el=h1) Report\n> Merging [#2733](https://codecov.io/gh/apache/hudi/pull/2733?src=pr&el=desc) (ad21bee) into [release-0.8.0](https://codecov.io/gh/apache/hudi/commit/b7c47b195861c90269f10932dd2838e2f53bf326?el=desc) (b7c47b1) will **decrease** coverage by `0.01%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2733/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2733?src=pr&el=tree)\n\n```diff\n@@                 Coverage Diff                 @@\n##             release-0.8.0    #2733      +/-   ##\n===================================================\n- Coverage            51.73%   51.72%   -0.02%     \n+ Complexity            3602     3601       -1     \n===================================================\n  Files                  476      476              \n  Lines                22598    22598              \n  Branches              2409     2409              \n===================================================\n- Hits                 11692    11689       -3     \n- Misses                9888     9891       +3     \n  Partials              1018     1018              \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `37.01% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `∅ <ø> (∅)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.94% <ø> (-0.03%)` | `0.00 <ø> (ø)` | |\n| hudiflink | `54.08% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.44% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `70.87% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisync | `45.47% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.73% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2733?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ache/hudi/common/fs/inline/InMemoryFileSystem.java](https://codecov.io/gh/apache/hudi/pull/2733/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL2lubGluZS9Jbk1lbW9yeUZpbGVTeXN0ZW0uamF2YQ==) | `79.31% <0.00%> (-10.35%)` | `15.00% <0.00%> (-1.00%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808858281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808859046","html_url":"https://github.com/apache/hudi/pull/2734#issuecomment-808859046","issue_url":"https://api.github.com/repos/apache/hudi/issues/2734","id":808859046,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODg1OTA0Ng==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-28T07:23:15Z","updated_at":"2021-03-28T07:23:15Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2734?src=pr&el=h1) Report\n> Merging [#2734](https://codecov.io/gh/apache/hudi/pull/2734?src=pr&el=desc) (eef9891) into [master](https://codecov.io/gh/apache/hudi/commit/bec70413c0943f38ee5cdf62fa3a79af44d8cded?el=desc) (bec7041) will **decrease** coverage by `42.33%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2734/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2734?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master   #2734       +/-   ##\n============================================\n- Coverage     51.73%   9.40%   -42.34%     \n+ Complexity     3607      48     -3559     \n============================================\n  Files           476      54      -422     \n  Lines         22614    1989    -20625     \n  Branches       2410     236     -2174     \n============================================\n- Hits          11700     187    -11513     \n+ Misses         9892    1789     -8103     \n+ Partials       1022      13     -1009     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `9.40% <ø> (-60.39%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2734?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2734/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2734/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2734/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2734/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2734/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2734/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2734/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2734/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2734/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2734/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [453 more](https://codecov.io/gh/apache/hudi/pull/2734/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/808859046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809011948","html_url":"https://github.com/apache/hudi/issues/2712#issuecomment-809011948","issue_url":"https://api.github.com/repos/apache/hudi/issues/2712","id":809011948,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTAxMTk0OA==","user":{"login":"stayrascal","id":13775334,"node_id":"MDQ6VXNlcjEzNzc1MzM0","avatar_url":"https://avatars.githubusercontent.com/u/13775334?v=4","gravatar_id":"","url":"https://api.github.com/users/stayrascal","html_url":"https://github.com/stayrascal","followers_url":"https://api.github.com/users/stayrascal/followers","following_url":"https://api.github.com/users/stayrascal/following{/other_user}","gists_url":"https://api.github.com/users/stayrascal/gists{/gist_id}","starred_url":"https://api.github.com/users/stayrascal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stayrascal/subscriptions","organizations_url":"https://api.github.com/users/stayrascal/orgs","repos_url":"https://api.github.com/users/stayrascal/repos","events_url":"https://api.github.com/users/stayrascal/events{/privacy}","received_events_url":"https://api.github.com/users/stayrascal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T01:52:13Z","updated_at":"2021-03-29T01:52:13Z","author_association":"CONTRIBUTOR","body":"@danny0405 thanks for your reply, got it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809011948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809070684","html_url":"https://github.com/apache/hudi/pull/2697#issuecomment-809070684","issue_url":"https://api.github.com/repos/apache/hudi/issues/2697","id":809070684,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTA3MDY4NA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T05:12:49Z","updated_at":"2021-03-29T05:12:49Z","author_association":"CONTRIBUTOR","body":"fyi, we did merge a hot fix couple of days back on similar lines. locally, both funcational and Hudi-utilities tests ran parallel and we ran into some issues.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809070684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809123736","html_url":"https://github.com/apache/hudi/pull/2735#issuecomment-809123736","issue_url":"https://api.github.com/repos/apache/hudi/issues/2735","id":809123736,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTEyMzczNg==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T06:59:39Z","updated_at":"2021-03-29T06:59:39Z","author_association":"MEMBER","body":"These 3 commits already exist in the release-0.8.0 branch. So I guess I shouldn't squash this PR? WDYT? @n3nash @nsivabalan ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809123736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809134018","html_url":"https://github.com/apache/hudi/pull/2736#issuecomment-809134018","issue_url":"https://api.github.com/repos/apache/hudi/issues/2736","id":809134018,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTEzNDAxOA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T07:17:06Z","updated_at":"2021-03-29T10:18:31Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2736?src=pr&el=h1) Report\n> Merging [#2736](https://codecov.io/gh/apache/hudi/pull/2736?src=pr&el=desc) (013c0df) into [master](https://codecov.io/gh/apache/hudi/commit/d415d45416707ca4d5b1dbad65dc80e6fccfa378?el=desc) (d415d45) will **increase** coverage by `17.69%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2736/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2736?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2736       +/-   ##\n=============================================\n+ Coverage     52.04%   69.73%   +17.69%     \n+ Complexity     3624      371     -3253     \n=============================================\n  Files           479       54      -425     \n  Lines         22804     1989    -20815     \n  Branches       2415      236     -2179     \n=============================================\n- Hits          11868     1387    -10481     \n+ Misses         9911      471     -9440     \n+ Partials       1025      131      -894     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `69.73% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2736?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...rg/apache/hudi/common/fs/NoOpConsistencyGuard.java](https://codecov.io/gh/apache/hudi/pull/2736/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL05vT3BDb25zaXN0ZW5jeUd1YXJkLmphdmE=) | | | |\n| [...util/jvm/OpenJ9MemoryLayoutSpecification64bit.java](https://codecov.io/gh/apache/hudi/pull/2736/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvanZtL09wZW5KOU1lbW9yeUxheW91dFNwZWNpZmljYXRpb242NGJpdC5qYXZh) | | | |\n| [...org/apache/hudi/common/config/TypedProperties.java](https://codecov.io/gh/apache/hudi/pull/2736/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2NvbmZpZy9UeXBlZFByb3BlcnRpZXMuamF2YQ==) | | | |\n| [...pache/hudi/hadoop/PathWithBootstrapFileStatus.java](https://codecov.io/gh/apache/hudi/pull/2736/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL1BhdGhXaXRoQm9vdHN0cmFwRmlsZVN0YXR1cy5qYXZh) | | | |\n| [.../hadoop/realtime/AbstractRealtimeRecordReader.java](https://codecov.io/gh/apache/hudi/pull/2736/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL3JlYWx0aW1lL0Fic3RyYWN0UmVhbHRpbWVSZWNvcmRSZWFkZXIuamF2YQ==) | | | |\n| [.../common/table/log/block/HoodieLogBlockVersion.java](https://codecov.io/gh/apache/hudi/pull/2736/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9ibG9jay9Ib29kaWVMb2dCbG9ja1ZlcnNpb24uamF2YQ==) | | | |\n| [...nal/HoodieDataSourceInternalBatchWriteBuilder.java](https://codecov.io/gh/apache/hudi/pull/2736/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3BhcmszL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3NwYXJrMy9pbnRlcm5hbC9Ib29kaWVEYXRhU291cmNlSW50ZXJuYWxCYXRjaFdyaXRlQnVpbGRlci5qYXZh) | | | |\n| [...i/common/util/collection/ExternalSpillableMap.java](https://codecov.io/gh/apache/hudi/pull/2736/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvY29sbGVjdGlvbi9FeHRlcm5hbFNwaWxsYWJsZU1hcC5qYXZh) | | | |\n| [...e/hudi/common/util/collection/ImmutableTriple.java](https://codecov.io/gh/apache/hudi/pull/2736/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvY29sbGVjdGlvbi9JbW11dGFibGVUcmlwbGUuamF2YQ==) | | | |\n| [...i/common/model/OverwriteWithLatestAvroPayload.java](https://codecov.io/gh/apache/hudi/pull/2736/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL092ZXJ3cml0ZVdpdGhMYXRlc3RBdnJvUGF5bG9hZC5qYXZh) | | | |\n| ... and [415 more](https://codecov.io/gh/apache/hudi/pull/2736/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809134018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809134222","html_url":"https://github.com/apache/hudi/pull/2735#issuecomment-809134222","issue_url":"https://api.github.com/repos/apache/hudi/issues/2735","id":809134222,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTEzNDIyMg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T07:17:24Z","updated_at":"2021-03-29T07:17:24Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2735?src=pr&el=h1) Report\n> Merging [#2735](https://codecov.io/gh/apache/hudi/pull/2735?src=pr&el=desc) (a8962e9) into [master](https://codecov.io/gh/apache/hudi/commit/29b79c99b02d66ef9b087b56223e74c0d1f99e94?el=desc) (29b79c9) will **decrease** coverage by `42.33%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2735/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2735?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master   #2735       +/-   ##\n============================================\n- Coverage     51.73%   9.40%   -42.34%     \n+ Complexity     3601      48     -3553     \n============================================\n  Files           476      54      -422     \n  Lines         22595    1989    -20606     \n  Branches       2409     236     -2173     \n============================================\n- Hits          11689     187    -11502     \n+ Misses         9888    1789     -8099     \n+ Partials       1018      13     -1005     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `9.40% <ø> (-60.34%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2735?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2735/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2735/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2735/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2735/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2735/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2735/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2735/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2735/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2735/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2735/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [453 more](https://codecov.io/gh/apache/hudi/pull/2735/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809134222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809224318","html_url":"https://github.com/apache/hudi/pull/2734#issuecomment-809224318","issue_url":"https://api.github.com/repos/apache/hudi/issues/2734","id":809224318,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTIyNDMxOA==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T09:26:02Z","updated_at":"2021-03-29T09:26:02Z","author_association":"CONTRIBUTOR","body":"@leo-Iamok Thanks for your report. Would you also please consider flink module? cc @danny0405 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809224318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809244541","html_url":"https://github.com/apache/hudi/pull/2734#issuecomment-809244541","issue_url":"https://api.github.com/repos/apache/hudi/issues/2734","id":809244541,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTI0NDU0MQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T09:54:01Z","updated_at":"2021-03-29T09:54:01Z","author_association":"CONTRIBUTOR","body":"Hi @garyli1019 I suggest that we include this PR into 0.8.0. Currently, we have three classes with the same full-qualified name(`UpsertPartitioner`) in spark/java/flink module. It is extremely confusing.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809244541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809308540","html_url":"https://github.com/apache/hudi/pull/2734#issuecomment-809308540","issue_url":"https://api.github.com/repos/apache/hudi/issues/2734","id":809308540,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTMwODU0MA==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T11:37:39Z","updated_at":"2021-03-29T11:37:39Z","author_association":"MEMBER","body":"> Hi @garyli1019 I suggest that we include this PR into 0.8.0. Currently, we have three classes with the same full-qualified name(`UpsertPartitioner`) in spark/java/flink module. It is extremely confusing.\r\n\r\nHi @yanghua , we have almost done all the pre-release verification work. If adding more commits, we need to start over. So let's keep this for the next release cuz this doesn't look like a blocker.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809308540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809311188","html_url":"https://github.com/apache/hudi/pull/2734#issuecomment-809311188","issue_url":"https://api.github.com/repos/apache/hudi/issues/2734","id":809311188,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTMxMTE4OA==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T11:42:39Z","updated_at":"2021-03-29T11:42:39Z","author_association":"CONTRIBUTOR","body":"> > Hi @garyli1019 I suggest that we include this PR into 0.8.0. Currently, we have three classes with the same full-qualified name(`UpsertPartitioner`) in spark/java/flink module. It is extremely confusing.\r\n> \r\n> Hi @yanghua , we have almost done all the pre-release verification work. If adding more commits, we need to start over. So let's keep this for the next release cuz this doesn't look like a blocker.\r\n\r\nOK, it will cause an error when users load multiple `UpsertPartitioner`s. As an RM, you have the right to make the decision.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809311188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809334249","html_url":"https://github.com/apache/hudi/pull/2736#issuecomment-809334249","issue_url":"https://api.github.com/repos/apache/hudi/issues/2736","id":809334249,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTMzNDI0OQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T12:23:40Z","updated_at":"2021-03-29T12:43:56Z","author_association":"CONTRIBUTOR","body":"Guess wrt old-version.commit, may be you can fix the validate_staged_release.sh script only.\r\n```\r\nfind . -iname '*' -type f | grep -v NOTICE | grep -v LICENSE | grep -v '.json' | grep -v '.data' | grep -v DISCLAIMER | grep -v '.sqltemplate' | grep -v KEYS | grep -v '.mailmap' | grep -v 'ObjectSizeCalculator.java' | grep -v 'AvroConversionHelper.scala' | xargs grep -L \"Licensed to the Apache Software Foundation (ASF)\"\r\n```\r\nadd \".commit\" to this list. also, whereever we have such filtering, you might need to add \".commit\" over there as well.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809334249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809381115","html_url":"https://github.com/apache/hudi/issues/2688#issuecomment-809381115","issue_url":"https://api.github.com/repos/apache/hudi/issues/2688","id":809381115,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTM4MTExNQ==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T13:34:03Z","updated_at":"2021-03-29T13:34:03Z","author_association":"NONE","body":"Hello,\r\n\r\nsomebody could help? \r\n@n3nash ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809381115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809432020","html_url":"https://github.com/apache/hudi/pull/2645#issuecomment-809432020","issue_url":"https://api.github.com/repos/apache/hudi/issues/2645","id":809432020,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTQzMjAyMA==","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T14:36:49Z","updated_at":"2021-03-29T14:36:49Z","author_association":"NONE","body":"Hi @vinothchandar @xiarixiaoyao The PR has updated. Including the following changes:\r\n- Introduce `SparkSqlAdapter` to fit spark2 and spark3. We can compile with -Pspark3 for the project  now.\r\n- Support Update & Delete hoodie table.\r\n- Rename the test class name.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809432020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809439067","html_url":"https://github.com/apache/hudi/pull/2737#issuecomment-809439067","issue_url":"https://api.github.com/repos/apache/hudi/issues/2737","id":809439067,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTQzOTA2Nw==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T14:45:05Z","updated_at":"2021-03-29T14:45:05Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run travis","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809439067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809464352","html_url":"https://github.com/apache/hudi/pull/2737#issuecomment-809464352","issue_url":"https://api.github.com/repos/apache/hudi/issues/2737","id":809464352,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTQ2NDM1Mg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T15:15:01Z","updated_at":"2021-03-29T15:15:01Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2737?src=pr&el=h1) Report\n> Merging [#2737](https://codecov.io/gh/apache/hudi/pull/2737?src=pr&el=desc) (643256f) into [master](https://codecov.io/gh/apache/hudi/commit/d415d45416707ca4d5b1dbad65dc80e6fccfa378?el=desc) (d415d45) will **increase** coverage by `0.00%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2737/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2737?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #2737   +/-   ##\n=========================================\n  Coverage     52.04%   52.04%           \n  Complexity     3624     3624           \n=========================================\n  Files           479      479           \n  Lines         22804    22804           \n  Branches       2415     2415           \n=========================================\n+ Hits          11868    11869    +1     \n+ Misses         9911     9910    -1     \n  Partials       1025     1025           \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `37.01% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `∅ <ø> (∅)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.94% <ø> (+<0.01%)` | `0.00 <ø> (ø)` | |\n| hudiflink | `56.01% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.44% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `70.87% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisync | `45.47% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.73% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2737?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2737/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `79.68% <0.00%> (+0.78%)` | `26.00% <0.00%> (ø%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809464352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809485189","html_url":"https://github.com/apache/hudi/issues/2589#issuecomment-809485189","issue_url":"https://api.github.com/repos/apache/hudi/issues/2589","id":809485189,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTQ4NTE4OQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T15:42:03Z","updated_at":"2021-03-29T15:42:03Z","author_association":"CONTRIBUTOR","body":"hi @t0il3ts0ap. On a related note, with upcoming release, we have added support for [custom deserializer](https://github.com/apache/hudi/pull/2619) if you are using AvroKafkaSource. So, it will fetch latest schema from your schema registry and use that while deserialize kafka records. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809485189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809487669","html_url":"https://github.com/apache/hudi/issues/2592#issuecomment-809487669","issue_url":"https://api.github.com/repos/apache/hudi/issues/2592","id":809487669,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTQ4NzY2OQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T15:45:21Z","updated_at":"2021-03-30T16:44:01Z","author_association":"CONTRIBUTOR","body":"@bvaradar @umehrot2 : reminder to follow up on this issue. Also, once resolved, can you please add a faq entry w/o fail. once you respond, can you please remove \"awaiting-community-help\" label for the issue and add \"awaiting-user-response\" label. Or close out the ticket if resolved and all AIs are done(faq entry etc)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809487669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809490684","html_url":"https://github.com/apache/hudi/issues/2557#issuecomment-809490684","issue_url":"https://api.github.com/repos/apache/hudi/issues/2557","id":809490684,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTQ5MDY4NA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T15:49:20Z","updated_at":"2021-03-29T15:49:20Z","author_association":"CONTRIBUTOR","body":"@kingkongpoon : sorry for the late follow up. May I know why do you use Global bloom. Our default recommendation is to use regular \"BLOOM\" if you don't have any special requirement to use global version. Global bloom is expected to be slower depending on characteristics of your record keys. \r\nIf your record keys are completely random (no ordering or any timestamp in them), we would recommend using \"SIMPLE\" index which should perform better when compared to \"BLOOM\" index.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809490684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809492266","html_url":"https://github.com/apache/hudi/issues/2537#issuecomment-809492266","issue_url":"https://api.github.com/repos/apache/hudi/issues/2537","id":809492266,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTQ5MjI2Ng==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T15:51:27Z","updated_at":"2021-03-30T17:10:06Z","author_association":"CONTRIBUTOR","body":"@jiangjiguang : let us know once you have some avro. We are trying to iron out all issues related to schema and kafka issues. would be good to get this addressed as well. once you respond, can you please remove \"awaiting-user-response\" label for the issue. If possible add \"awaiting-community-help\" label. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809492266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809495394","html_url":"https://github.com/apache/hudi/issues/2544#issuecomment-809495394","issue_url":"https://api.github.com/repos/apache/hudi/issues/2544","id":809495394,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTQ5NTM5NA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T15:55:24Z","updated_at":"2021-03-29T15:55:24Z","author_association":"CONTRIBUTOR","body":"@cdmikechen : whats would be your advise on how to go about this. Would be nice to get this fixed for hudi users. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809495394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809498561","html_url":"https://github.com/apache/hudi/issues/2544#issuecomment-809498561","issue_url":"https://api.github.com/repos/apache/hudi/issues/2544","id":809498561,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTQ5ODU2MQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T15:57:44Z","updated_at":"2021-03-29T15:57:44Z","author_association":"CONTRIBUTOR","body":"Have filed a [tracking](https://issues.apache.org/jira/browse/HUDI-1736) ticket.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809498561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809502029","html_url":"https://github.com/apache/hudi/issues/2498#issuecomment-809502029","issue_url":"https://api.github.com/repos/apache/hudi/issues/2498","id":809502029,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTUwMjAyOQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T15:59:58Z","updated_at":"2021-03-29T15:59:58Z","author_association":"CONTRIBUTOR","body":"@zafer-sahin @Magicbeanbuyer : Can you folks try out w/ spark2 and let us know if you still encounter the same issue. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809502029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809504232","html_url":"https://github.com/apache/hudi/issues/2564#issuecomment-809504232","issue_url":"https://api.github.com/repos/apache/hudi/issues/2564","id":809504232,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTUwNDIzMg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T16:01:27Z","updated_at":"2021-03-29T16:01:27Z","author_association":"CONTRIBUTOR","body":"@n3nash : a gentle reminder on follow up. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809504232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809511285","html_url":"https://github.com/apache/hudi/issues/2566#issuecomment-809511285","issue_url":"https://api.github.com/repos/apache/hudi/issues/2566","id":809511285,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTUxMTI4NQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T16:09:20Z","updated_at":"2021-03-29T16:09:20Z","author_association":"CONTRIBUTOR","body":"@jtmzheng : we fixed the bundling issues in latest master. And we have an upcoming release. If you are doing POC, you can try to build from latest master and give it a try. If not, can wait for release to be complete and use the new maven artifacts. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809511285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809541159","html_url":"https://github.com/apache/hudi/issues/2513#issuecomment-809541159","issue_url":"https://api.github.com/repos/apache/hudi/issues/2513","id":809541159,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTU0MTE1OQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T16:53:54Z","updated_at":"2021-03-29T16:53:54Z","author_association":"CONTRIBUTOR","body":"@n3nash : user is awaiting your response. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809541159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809855336","html_url":"https://github.com/apache/hudi/pull/2740#issuecomment-809855336","issue_url":"https://api.github.com/repos/apache/hudi/issues/2740","id":809855336,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTg1NTMzNg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T02:22:49Z","updated_at":"2021-04-09T17:18:12Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2740?src=pr&el=h1) Report\n> Merging [#2740](https://codecov.io/gh/apache/hudi/pull/2740?src=pr&el=desc) (3e41f49) into [master](https://codecov.io/gh/apache/hudi/commit/6786581c4842e47e1a8a8e942f54003dc151c7c6?el=desc) (6786581) will **decrease** coverage by `43.17%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2740/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2740?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master   #2740       +/-   ##\n============================================\n- Coverage     52.54%   9.37%   -43.18%     \n+ Complexity     3707      48     -3659     \n============================================\n  Files           485      54      -431     \n  Lines         23171    1995    -21176     \n  Branches       2459     235     -2224     \n============================================\n- Hits          12176     187    -11989     \n+ Misses         9923    1795     -8128     \n+ Partials       1072      13     -1059     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `9.37% <ø> (-60.36%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2740?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2740/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2740/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2740/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2740/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2740/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2740/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2740/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2740/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2740/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2740/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [457 more](https://codecov.io/gh/apache/hudi/pull/2740/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809855336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809935902","html_url":"https://github.com/apache/hudi/issues/2589#issuecomment-809935902","issue_url":"https://api.github.com/repos/apache/hudi/issues/2589","id":809935902,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTkzNTkwMg==","user":{"login":"low-on-mana","id":8509512,"node_id":"MDQ6VXNlcjg1MDk1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/8509512?v=4","gravatar_id":"","url":"https://api.github.com/users/low-on-mana","html_url":"https://github.com/low-on-mana","followers_url":"https://api.github.com/users/low-on-mana/followers","following_url":"https://api.github.com/users/low-on-mana/following{/other_user}","gists_url":"https://api.github.com/users/low-on-mana/gists{/gist_id}","starred_url":"https://api.github.com/users/low-on-mana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/low-on-mana/subscriptions","organizations_url":"https://api.github.com/users/low-on-mana/orgs","repos_url":"https://api.github.com/users/low-on-mana/repos","events_url":"https://api.github.com/users/low-on-mana/events{/privacy}","received_events_url":"https://api.github.com/users/low-on-mana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T06:01:59Z","updated_at":"2021-03-30T06:02:55Z","author_association":"CONTRIBUTOR","body":"@nsivabalan Thats awesome. I will check it out.\r\nWe have recently shifted to COW table and not facing issue of column addition there.\r\nI will check out column addition on MOR Table once without schema provider and post my findings here.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809935902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809968181","html_url":"https://github.com/apache/hudi/pull/1565#issuecomment-809968181","issue_url":"https://api.github.com/repos/apache/hudi/issues/1565","id":809968181,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTk2ODE4MQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T07:03:38Z","updated_at":"2021-03-30T07:03:38Z","author_association":"CONTRIBUTOR","body":"@nsivabalan Should we close this PR in favor of the recent Kafka Avro Source that was landed ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809968181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809972020","html_url":"https://github.com/apache/hudi/pull/1817#issuecomment-809972020","issue_url":"https://api.github.com/repos/apache/hudi/issues/1817","id":809972020,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTk3MjAyMA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T07:09:36Z","updated_at":"2021-03-30T07:09:36Z","author_association":"CONTRIBUTOR","body":"@garyli1019 Is this PR addressed as part of https://github.com/apache/hudi/pull/1938 or should we revive this ? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809972020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809973649","html_url":"https://github.com/apache/hudi/pull/2725#issuecomment-809973649","issue_url":"https://api.github.com/repos/apache/hudi/issues/2725","id":809973649,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTk3MzY0OQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T07:12:15Z","updated_at":"2021-03-30T07:12:15Z","author_association":"CONTRIBUTOR","body":"@NickYoungPeng Hi, thanks for your contribution. Can you follow the contribution guide to create a jira ticket?  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/809973649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]