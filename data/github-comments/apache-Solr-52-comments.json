[{"url":"https://api.github.com/repos/apache/solr/issues/comments/1840794909","html_url":"https://github.com/apache/solr/pull/2065#issuecomment-1840794909","issue_url":"https://api.github.com/repos/apache/solr/issues/2065","id":1840794909,"node_id":"IC_kwDOFFj3yM5tuE0d","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T13:28:50Z","updated_at":"2023-12-05T13:38:47Z","author_association":"CONTRIBUTOR","body":"We should wait for 10.0.19 or explicitly exclude the bogous `org.awaitility:awaitility` dependency (see https://github.com/jetty/jetty.project/issues/10812)\r\n**edit** I pushed a commit to exclude awaitility, so that may make us merge this if we wish.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1840794909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1840871615","html_url":"https://github.com/apache/solr/pull/2099#issuecomment-1840871615","issue_url":"https://api.github.com/repos/apache/solr/issues/2099","id":1840871615,"node_id":"IC_kwDOFFj3yM5tuXi_","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T14:12:30Z","updated_at":"2023-12-06T11:31:37Z","author_association":"CONTRIBUTOR","body":"I'm tempted to merge this to main, still as `@BadApple`, and see whether [failure rate](http://fucit.org/solr-jenkins-reports/failure-report.html) comes down from 42% during the coming days. I'm uncertain what your finding about `localhost.localdomain` actually means. ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1840871615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1840901629","html_url":"https://github.com/apache/solr/pull/2084#issuecomment-1840901629","issue_url":"https://api.github.com/repos/apache/solr/issues/2084","id":1840901629,"node_id":"IC_kwDOFFj3yM5tue39","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T14:28:23Z","updated_at":"2023-12-05T14:28:23Z","author_association":"CONTRIBUTOR","body":"@psalagnac can you add a CHANGES.txt entry please?  In \"Other\" or \"Improvements\" depending on your point of view.  Try to both be brief and communicate the scope/impact -- kind of hard sometimes ;-)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1840901629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1840992838","html_url":"https://github.com/apache/solr/pull/2084#issuecomment-1840992838","issue_url":"https://api.github.com/repos/apache/solr/issues/2084","id":1840992838,"node_id":"IC_kwDOFFj3yM5tu1JG","user":{"login":"psalagnac","id":82967811,"node_id":"MDQ6VXNlcjgyOTY3ODEx","avatar_url":"https://avatars.githubusercontent.com/u/82967811?v=4","gravatar_id":"","url":"https://api.github.com/users/psalagnac","html_url":"https://github.com/psalagnac","followers_url":"https://api.github.com/users/psalagnac/followers","following_url":"https://api.github.com/users/psalagnac/following{/other_user}","gists_url":"https://api.github.com/users/psalagnac/gists{/gist_id}","starred_url":"https://api.github.com/users/psalagnac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psalagnac/subscriptions","organizations_url":"https://api.github.com/users/psalagnac/orgs","repos_url":"https://api.github.com/users/psalagnac/repos","events_url":"https://api.github.com/users/psalagnac/events{/privacy}","received_events_url":"https://api.github.com/users/psalagnac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T15:13:34Z","updated_at":"2023-12-05T15:13:49Z","author_association":"CONTRIBUTOR","body":"Thanks.\r\nI added an entry in \"Improvements\", but not sure whether it should go to bug \"Bug Fixes\". Maybe the code should have been like that the from the beginning.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1840992838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841197282","html_url":"https://github.com/apache/solr/pull/2112#issuecomment-1841197282","issue_url":"https://api.github.com/repos/apache/solr/issues/2112","id":1841197282,"node_id":"IC_kwDOFFj3yM5tvnDi","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T16:47:14Z","updated_at":"2023-12-05T16:47:14Z","author_association":"CONTRIBUTOR","body":"Finally; we're in much better shape.  The build took 8m and the vast majority of that was all in our build (Gradle etc.) which is under our control to improve further; not doing \"git clone\" or whatever.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841197282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841339272","html_url":"https://github.com/apache/solr/pull/2114#issuecomment-1841339272","issue_url":"https://api.github.com/repos/apache/solr/issues/2114","id":1841339272,"node_id":"IC_kwDOFFj3yM5twJuI","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T18:06:32Z","updated_at":"2023-12-05T18:06:32Z","author_association":"CONTRIBUTOR","body":"> A side: I recall some doubt as to whether Solr ought to even have a \"php\" writer in the first place. Maybe it should be deprecated. Surely JSON is the standard? WDYT CC @epugh\r\n\r\nI think it's a valid question..   That applies to all the language specific writer types...   Especially if we start supporting code generated API libraries that some of these wrappers for Solr could think about adopting?  @thomascorthals, maybe a conversation for mailing list, but I'd love you thoughts on if we generated a PHP library, would that make your life easier?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841339272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841341669","html_url":"https://github.com/apache/solr/pull/2114#issuecomment-1841341669","issue_url":"https://api.github.com/repos/apache/solr/issues/2114","id":1841341669,"node_id":"IC_kwDOFFj3yM5twKTl","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T18:08:15Z","updated_at":"2023-12-05T18:08:15Z","author_association":"CONTRIBUTOR","body":"So...  I think we are faced here with a different issue than how PHP is handling the output....   When I run the curl command that was shared, I also see the `cat` key come back mulitple times...  And that is a problem with the JSON output..  indeed, running \r\n```\r\ncurl 'http://localhost:8983/solr/techproducts/admin/luke?id=VDBDB1A16&json.nl=flat'  | jq .\r\n```\r\nand we drop the extra `cat` clauses from the original.   It seems like we actually have a bug???","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841341669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841348101","html_url":"https://github.com/apache/solr/pull/2114#issuecomment-1841348101","issue_url":"https://api.github.com/repos/apache/solr/issues/2114","id":1841348101,"node_id":"IC_kwDOFFj3yM5twL4F","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T18:12:56Z","updated_at":"2023-12-05T20:59:55Z","author_association":"CONTRIBUTOR","body":"Okay, so I see that `cat` is duplicated because it's a multivalued field, so we get:\r\n```\r\n      \"cat\":{\r\n        \"type\":\"string\",\r\n        \"schema\":\"I-S-UM----OF-----l\",\r\n        \"flags\":\"ITS-------OF------\",\r\n        \"value\":\"electronics\",\r\n        \"internal\":\"electronics\",\r\n        \"docFreq\":12\r\n      },\r\n      \"cat\":{\r\n        \"type\":\"string\",\r\n        \"schema\":\"I-S-UM----OF-----l\",\r\n        \"flags\":\"ITS-------OF------\",\r\n        \"value\":\"memory\",\r\n        \"internal\":\"memory\",\r\n        \"docFreq\":3\r\n      },\r\n```\r\n\r\nShouldn't this instead be instead an array of values for the `cat` key?   I know this changes things...:\r\n\r\n```\r\n      \"cat\":[{\r\n        \"type\":\"string\",\r\n        \"schema\":\"I-S-UM----OF-----l\",\r\n        \"flags\":\"ITS-------OF------\",\r\n        \"value\":\"electronics\",\r\n        \"internal\":\"electronics\",\r\n        \"docFreq\":12\r\n      },\r\n      {\r\n        \"type\":\"string\",\r\n        \"schema\":\"I-S-UM----OF-----l\",\r\n        \"flags\":\"ITS-------OF------\",\r\n        \"value\":\"memory\",\r\n        \"internal\":\"memory\",\r\n        \"docFreq\":3\r\n      }],\r\n```","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841348101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841380317","html_url":"https://github.com/apache/solr/pull/2089#issuecomment-1841380317","issue_url":"https://api.github.com/repos/apache/solr/issues/2089","id":1841380317,"node_id":"IC_kwDOFFj3yM5twTvd","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T18:32:03Z","updated_at":"2023-12-05T18:32:03Z","author_association":"CONTRIBUTOR","body":"On my mind here is wondering why we aren't simply calling `precommit` here?  Did we once have this but changed our minds (why?)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841380317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841432832","html_url":"https://github.com/apache/solr/pull/2065#issuecomment-1841432832","issue_url":"https://api.github.com/repos/apache/solr/issues/2065","id":1841432832,"node_id":"IC_kwDOFFj3yM5twgkA","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T18:55:41Z","updated_at":"2023-12-05T18:55:41Z","author_association":"CONTRIBUTOR","body":"Wdyt @risdenk ?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841432832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841541673","html_url":"https://github.com/apache/solr/pull/2114#issuecomment-1841541673","issue_url":"https://api.github.com/repos/apache/solr/issues/2114","id":1841541673,"node_id":"IC_kwDOFFj3yM5tw7Ip","user":{"login":"mkhludnev","id":807522,"node_id":"MDQ6VXNlcjgwNzUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/807522?v=4","gravatar_id":"","url":"https://api.github.com/users/mkhludnev","html_url":"https://github.com/mkhludnev","followers_url":"https://api.github.com/users/mkhludnev/followers","following_url":"https://api.github.com/users/mkhludnev/following{/other_user}","gists_url":"https://api.github.com/users/mkhludnev/gists{/gist_id}","starred_url":"https://api.github.com/users/mkhludnev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkhludnev/subscriptions","organizations_url":"https://api.github.com/users/mkhludnev/orgs","repos_url":"https://api.github.com/users/mkhludnev/repos","events_url":"https://api.github.com/users/mkhludnev/events{/privacy}","received_events_url":"https://api.github.com/users/mkhludnev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T20:10:38Z","updated_at":"2023-12-05T20:10:38Z","author_association":"MEMBER","body":"I hardly get common hesitation over duplicated JSON keys. Why it is a problem? Github come up with 480 json PHP parsers. Isn't there a library, which don't feel so unique about keys?  ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841541673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841566435","html_url":"https://github.com/apache/solr/pull/2119#issuecomment-1841566435","issue_url":"https://api.github.com/repos/apache/solr/issues/2119","id":1841566435,"node_id":"IC_kwDOFFj3yM5txBLj","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T20:30:27Z","updated_at":"2023-12-05T20:30:27Z","author_association":"CONTRIBUTOR","body":"Notwistanding the one test that failed, are the results good to you @uvatbc ?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841566435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841589697","html_url":"https://github.com/apache/solr/pull/2119#issuecomment-1841589697","issue_url":"https://api.github.com/repos/apache/solr/issues/2119","id":1841589697,"node_id":"IC_kwDOFFj3yM5txG3B","user":{"login":"uvatbc","id":8391225,"node_id":"MDQ6VXNlcjgzOTEyMjU=","avatar_url":"https://avatars.githubusercontent.com/u/8391225?v=4","gravatar_id":"","url":"https://api.github.com/users/uvatbc","html_url":"https://github.com/uvatbc","followers_url":"https://api.github.com/users/uvatbc/followers","following_url":"https://api.github.com/users/uvatbc/following{/other_user}","gists_url":"https://api.github.com/users/uvatbc/gists{/gist_id}","starred_url":"https://api.github.com/users/uvatbc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uvatbc/subscriptions","organizations_url":"https://api.github.com/users/uvatbc/orgs","repos_url":"https://api.github.com/users/uvatbc/repos","events_url":"https://api.github.com/users/uvatbc/events{/privacy}","received_events_url":"https://api.github.com/users/uvatbc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T20:48:53Z","updated_at":"2023-12-05T20:48:53Z","author_association":"CONTRIBUTOR","body":"> Notwistanding the one test that failed, are the results good to you @uvatbc ?\r\n\r\nYes. The most important part was that the directory of execution was `/crave-devspaces/pipeline/runs/7105372116_3656/solr`\r\nSee: https://foss.crave.io/app/#/build/info/74271?team=5\r\n\r\nThe one where it wasn't right was:https://foss.crave.io/app/#/build/info/74270?team=5 `/crave-devspaces/actions-runner1/_work/solr/solr`","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841589697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841596601","html_url":"https://github.com/apache/solr/pull/2025#issuecomment-1841596601","issue_url":"https://api.github.com/repos/apache/solr/issues/2025","id":1841596601,"node_id":"IC_kwDOFFj3yM5txIi5","user":{"login":"AndreyBozhko","id":22246447,"node_id":"MDQ6VXNlcjIyMjQ2NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/22246447?v=4","gravatar_id":"","url":"https://api.github.com/users/AndreyBozhko","html_url":"https://github.com/AndreyBozhko","followers_url":"https://api.github.com/users/AndreyBozhko/followers","following_url":"https://api.github.com/users/AndreyBozhko/following{/other_user}","gists_url":"https://api.github.com/users/AndreyBozhko/gists{/gist_id}","starred_url":"https://api.github.com/users/AndreyBozhko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndreyBozhko/subscriptions","organizations_url":"https://api.github.com/users/AndreyBozhko/orgs","repos_url":"https://api.github.com/users/AndreyBozhko/repos","events_url":"https://api.github.com/users/AndreyBozhko/events{/privacy}","received_events_url":"https://api.github.com/users/AndreyBozhko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T20:54:29Z","updated_at":"2023-12-05T20:54:29Z","author_association":"CONTRIBUTOR","body":"Hi @HoustonPutman @mkhludnev - anything else to address for this PR? If not, then it should be good to merge, but I don't have access to do so myself.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841596601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841596685","html_url":"https://github.com/apache/solr/pull/2114#issuecomment-1841596685","issue_url":"https://api.github.com/repos/apache/solr/issues/2114","id":1841596685,"node_id":"IC_kwDOFFj3yM5txIkN","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T20:54:33Z","updated_at":"2023-12-05T20:54:33Z","author_association":"CONTRIBUTOR","body":"Remember `json.nl` parameter options, which exist to balance convenience of the response with rigor over retrieving duplicated keys.  But that only applies to JSON.   https://solr.apache.org/guide/solr/latest/query-guide/response-writers.html#json-nl","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841596685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841603674","html_url":"https://github.com/apache/solr/pull/2114#issuecomment-1841603674","issue_url":"https://api.github.com/repos/apache/solr/issues/2114","id":1841603674,"node_id":"IC_kwDOFFj3yM5txKRa","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T21:00:19Z","updated_at":"2023-12-05T21:00:19Z","author_association":"CONTRIBUTOR","body":"I guess my point is that the actual API response, in JSON, is outputting invalid JSON.  That the fix is to change the way we handle multivalued fields to nest them as an array under the top level key....   ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841603674/reactions","total_count":1,"+1":0,"-1":1,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841636505","html_url":"https://github.com/apache/solr/pull/2114#issuecomment-1841636505","issue_url":"https://api.github.com/repos/apache/solr/issues/2114","id":1841636505,"node_id":"IC_kwDOFFj3yM5txSSZ","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T21:26:10Z","updated_at":"2023-12-05T21:26:10Z","author_association":"CONTRIBUTOR","body":"> I guess my point is that the actual API response, in JSON, is outputting invalid JSON. That the fix is to change the way we handle multivalued fields to nest them as an array under the top level key....\r\n\r\nIt's invalid but the user is in control of supplying a different value to `json.nl` which avoids the invalidity.  Use `json.nl=arrmap` for example.  No change in Solr is necessary.\r\n\r\nBut this work item is about php.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841636505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841669328","html_url":"https://github.com/apache/solr/pull/2114#issuecomment-1841669328","issue_url":"https://api.github.com/repos/apache/solr/issues/2114","id":1841669328,"node_id":"IC_kwDOFFj3yM5txaTQ","user":{"login":"thomascorthals","id":12425704,"node_id":"MDQ6VXNlcjEyNDI1NzA0","avatar_url":"https://avatars.githubusercontent.com/u/12425704?v=4","gravatar_id":"","url":"https://api.github.com/users/thomascorthals","html_url":"https://github.com/thomascorthals","followers_url":"https://api.github.com/users/thomascorthals/followers","following_url":"https://api.github.com/users/thomascorthals/following{/other_user}","gists_url":"https://api.github.com/users/thomascorthals/gists{/gist_id}","starred_url":"https://api.github.com/users/thomascorthals/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomascorthals/subscriptions","organizations_url":"https://api.github.com/users/thomascorthals/orgs","repos_url":"https://api.github.com/users/thomascorthals/repos","events_url":"https://api.github.com/users/thomascorthals/events{/privacy}","received_events_url":"https://api.github.com/users/thomascorthals/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T21:48:10Z","updated_at":"2023-12-05T21:48:10Z","author_association":"NONE","body":"> @thomascorthals, maybe a conversation for mailing list, but I'd love you thoughts on if we generated a PHP library, would that make your life easier?\r\n\r\nI had the same thought when I saw the generated Python client. [Solarium](https://github.com/solariumphp/solarium) aims at accurately modelling Solr by providing a fluent interface to build queries and parsing the results to PHP objects. The implementation for API requests is currently generic and just gets you the output from Solr as an array.\r\n\r\n> Isn't there a library, which don't feel so unique about keys?\r\n\r\nThere is, and I'm already using it to parse that particular piece of JSON. There are two things at play for me:\r\n* Solarium supports JSON and PHPS output since before I was using it. I'm trying not to break that. (If Solr deprecates PHPS, that's a different story of course.)\r\n* I was curious how parsing it would compare performance wise.\r\n\r\n> Remember `json.nl` parameter options\r\n\r\nThat is for `NamedList`s, the \"offending\" data structure is a `SimpleOrderedMap` and those aren't affected by `json.nl`.\r\n\r\n> the actual API response, in JSON, is outputting invalid JSON.\r\n\r\nTechnically, it isn't. ECMA-404 doesn't say anything about it. [RFC 8259](https://www.rfc-editor.org/rfc/rfc8259#section-4) says names SHOULD be unique, not MUST. But you can see how this becomes a nuisance when decoding to a language that has no internal data structure that allows duplicate keys.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841669328/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841762567","html_url":"https://github.com/apache/solr/pull/2114#issuecomment-1841762567","issue_url":"https://api.github.com/repos/apache/solr/issues/2114","id":1841762567,"node_id":"IC_kwDOFFj3yM5txxEH","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T22:57:24Z","updated_at":"2023-12-05T22:57:24Z","author_association":"CONTRIBUTOR","body":"Sorry; I wasn't paying enough attention.  We shouldn't be using a `SimpleOrderedMap` in any scenario where keys can be duplicated.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841762567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841766856","html_url":"https://github.com/apache/solr/pull/2084#issuecomment-1841766856","issue_url":"https://api.github.com/repos/apache/solr/issues/2084","id":1841766856,"node_id":"IC_kwDOFFj3yM5txyHI","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T23:01:54Z","updated_at":"2023-12-05T23:01:54Z","author_association":"CONTRIBUTOR","body":"By entering this CHANGES.txt into the 10.0 release section, it means you believe it should not be back ported to 9x.  Is that what you meant or was that accidental?  I'll move it and backport if you wish.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841766856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841829670","html_url":"https://github.com/apache/solr/pull/1221#issuecomment-1841829670","issue_url":"https://api.github.com/repos/apache/solr/issues/1221","id":1841829670,"node_id":"IC_kwDOFFj3yM5tyBcm","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-05T23:57:29Z","updated_at":"2023-12-05T23:57:29Z","author_association":"CONTRIBUTOR","body":"@heythm , for a very old PR, first get it up to date with main (merge main into this) *then* update CHANGES.txt.  Doing CHANGES.txt too early is no fun merging.  Also remember there is a bunch of feedback here that is still unanswered.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841829670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841843687","html_url":"https://github.com/apache/solr/pull/2117#issuecomment-1841843687","issue_url":"https://api.github.com/repos/apache/solr/issues/2117","id":1841843687,"node_id":"IC_kwDOFFj3yM5tyE3n","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T00:01:37Z","updated_at":"2023-12-06T00:01:37Z","author_association":"CONTRIBUTOR","body":"You tagged me for review but really any cherry pick has already been reviewed.  If you are seeking my permission to put it into 9.4.1 -- I think we use the list for that.  Any bug fix is eligible. \r\n\r\n(Or maybe we might actually do 9.5)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1841843687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1842173386","html_url":"https://github.com/apache/solr/pull/2025#issuecomment-1842173386","issue_url":"https://api.github.com/repos/apache/solr/issues/2025","id":1842173386,"node_id":"IC_kwDOFFj3yM5tzVXK","user":{"login":"mkhludnev","id":807522,"node_id":"MDQ6VXNlcjgwNzUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/807522?v=4","gravatar_id":"","url":"https://api.github.com/users/mkhludnev","html_url":"https://github.com/mkhludnev","followers_url":"https://api.github.com/users/mkhludnev/followers","following_url":"https://api.github.com/users/mkhludnev/following{/other_user}","gists_url":"https://api.github.com/users/mkhludnev/gists{/gist_id}","starred_url":"https://api.github.com/users/mkhludnev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkhludnev/subscriptions","organizations_url":"https://api.github.com/users/mkhludnev/orgs","repos_url":"https://api.github.com/users/mkhludnev/repos","events_url":"https://api.github.com/users/mkhludnev/events{/privacy}","received_events_url":"https://api.github.com/users/mkhludnev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T06:30:12Z","updated_at":"2023-12-06T06:30:12Z","author_association":"MEMBER","body":"Thanks @AndreyBozhko I'll check it next week","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1842173386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1842954763","html_url":"https://github.com/apache/solr/pull/2118#issuecomment-1842954763","issue_url":"https://api.github.com/repos/apache/solr/issues/2118","id":1842954763,"node_id":"IC_kwDOFFj3yM5t2UIL","user":{"login":"gbellaton","id":66298424,"node_id":"MDQ6VXNlcjY2Mjk4NDI0","avatar_url":"https://avatars.githubusercontent.com/u/66298424?v=4","gravatar_id":"","url":"https://api.github.com/users/gbellaton","html_url":"https://github.com/gbellaton","followers_url":"https://api.github.com/users/gbellaton/followers","following_url":"https://api.github.com/users/gbellaton/following{/other_user}","gists_url":"https://api.github.com/users/gbellaton/gists{/gist_id}","starred_url":"https://api.github.com/users/gbellaton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gbellaton/subscriptions","organizations_url":"https://api.github.com/users/gbellaton/orgs","repos_url":"https://api.github.com/users/gbellaton/repos","events_url":"https://api.github.com/users/gbellaton/events{/privacy}","received_events_url":"https://api.github.com/users/gbellaton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T14:04:38Z","updated_at":"2023-12-06T14:04:38Z","author_association":"CONTRIBUTOR","body":"I think that the distinction between cpuTime and localCpuTime is useful in the logs.\r\nIt allows to generate statistics from the logs that make the difference between distributed queries and shard level queries.\r\nHowever you are right saying that this is internal matter and should not appear to the caller.\r\nWhat would you think about keeping the logs as currently done but changing the response to always and only use cpuTime ?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1842954763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1843177371","html_url":"https://github.com/apache/solr/pull/2101#issuecomment-1843177371","issue_url":"https://api.github.com/repos/apache/solr/issues/2101","id":1843177371,"node_id":"IC_kwDOFFj3yM5t3Keb","user":{"login":"ahubold","id":592918,"node_id":"MDQ6VXNlcjU5MjkxOA==","avatar_url":"https://avatars.githubusercontent.com/u/592918?v=4","gravatar_id":"","url":"https://api.github.com/users/ahubold","html_url":"https://github.com/ahubold","followers_url":"https://api.github.com/users/ahubold/followers","following_url":"https://api.github.com/users/ahubold/following{/other_user}","gists_url":"https://api.github.com/users/ahubold/gists{/gist_id}","starred_url":"https://api.github.com/users/ahubold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahubold/subscriptions","organizations_url":"https://api.github.com/users/ahubold/orgs","repos_url":"https://api.github.com/users/ahubold/repos","events_url":"https://api.github.com/users/ahubold/events{/privacy}","received_events_url":"https://api.github.com/users/ahubold/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T15:50:21Z","updated_at":"2023-12-06T15:50:21Z","author_association":"NONE","body":"> Who is calling SolrCore.initializeMetrics? It's hard to tell; it's an override of a base abstraction so is being called generically somewhere. I'm wondering if we can delay initializeMetrics until the SolrCore constructor finishes.\r\n\r\nIt's called directly from the constructor at https://github.com/apache/solr/blob/0056e82a30d6239af4a80726527ca912a5ca3d31/solr/core/src/java/org/apache/solr/core/SolrCore.java#L1113\r\n\r\nI was also thinking about whether that could be moved further down. But I don't know much about this code, and if there's a reason for that call at that time.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1843177371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1843222328","html_url":"https://github.com/apache/solr/pull/1221#issuecomment-1843222328","issue_url":"https://api.github.com/repos/apache/solr/issues/1221","id":1843222328,"node_id":"IC_kwDOFFj3yM5t3Vc4","user":{"login":"heythm","id":6385842,"node_id":"MDQ6VXNlcjYzODU4NDI=","avatar_url":"https://avatars.githubusercontent.com/u/6385842?v=4","gravatar_id":"","url":"https://api.github.com/users/heythm","html_url":"https://github.com/heythm","followers_url":"https://api.github.com/users/heythm/followers","following_url":"https://api.github.com/users/heythm/following{/other_user}","gists_url":"https://api.github.com/users/heythm/gists{/gist_id}","starred_url":"https://api.github.com/users/heythm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heythm/subscriptions","organizations_url":"https://api.github.com/users/heythm/orgs","repos_url":"https://api.github.com/users/heythm/repos","events_url":"https://api.github.com/users/heythm/events{/privacy}","received_events_url":"https://api.github.com/users/heythm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T16:15:40Z","updated_at":"2023-12-06T16:15:40Z","author_association":"CONTRIBUTOR","body":"Sorry for the force-push, I did it to amend a commit message. It wasn't a good idea. \r\n@dsmiley knows about it.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1843222328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1843400180","html_url":"https://github.com/apache/solr/pull/2101#issuecomment-1843400180","issue_url":"https://api.github.com/repos/apache/solr/issues/2101","id":1843400180,"node_id":"IC_kwDOFFj3yM5t4A30","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T18:00:58Z","updated_at":"2023-12-06T18:00:58Z","author_association":"MEMBER","body":"> I was also thinking about whether that could be moved further down.\r\n\r\nI don't think that will help. there are some async things happening so simply moving the code would not provide a stronger guarantee.\r\n\r\n> I'm wondering if we can delay initializeMetrics until the SolrCore constructor finishes.\r\n\r\ndelaying the metrics was what I was going for. but would we need to delay all metrics or just the problematic ones? there is a 'latch' object that hints to provide some safety against events firing too early but I could not hook into this code due to complexity. https://github.com/apache/solr/pull/2101/files#diff-3bf44f923643744a743460bb0f64301618dd7529a602d945fe2f7f193d4cdde0R1166-R1168\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1843400180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1843427630","html_url":"https://github.com/apache/solr/pull/2084#issuecomment-1843427630","issue_url":"https://api.github.com/repos/apache/solr/issues/2084","id":1843427630,"node_id":"IC_kwDOFFj3yM5t4Hku","user":{"login":"psalagnac","id":82967811,"node_id":"MDQ6VXNlcjgyOTY3ODEx","avatar_url":"https://avatars.githubusercontent.com/u/82967811?v=4","gravatar_id":"","url":"https://api.github.com/users/psalagnac","html_url":"https://github.com/psalagnac","followers_url":"https://api.github.com/users/psalagnac/followers","following_url":"https://api.github.com/users/psalagnac/following{/other_user}","gists_url":"https://api.github.com/users/psalagnac/gists{/gist_id}","starred_url":"https://api.github.com/users/psalagnac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/psalagnac/subscriptions","organizations_url":"https://api.github.com/users/psalagnac/orgs","repos_url":"https://api.github.com/users/psalagnac/repos","events_url":"https://api.github.com/users/psalagnac/events{/privacy}","received_events_url":"https://api.github.com/users/psalagnac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T18:15:36Z","updated_at":"2023-12-06T18:15:36Z","author_association":"CONTRIBUTOR","body":"Yes, just main is fine.\r\nI want to follow-up on this work with other cleanups in leader election code. I don't think it is worth to backport them to 9x.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1843427630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1843768954","html_url":"https://github.com/apache/solr/pull/2101#issuecomment-1843768954","issue_url":"https://api.github.com/repos/apache/solr/issues/2101","id":1843768954,"node_id":"IC_kwDOFFj3yM5t5a56","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T22:09:16Z","updated_at":"2023-12-06T22:09:16Z","author_association":"CONTRIBUTOR","body":"Thanks for clarifying Andreas.  I propose initializing metrics at the very end of the constructor, which is when we can say the SolrCore is reasonably constructed.\r\n\r\n> simply moving the code would not provide a stronger guarantee.\r\n\r\nGuarantee of what?  Maybe you mean guarantee that there isn't some indirect call via SolrCore that isn't immediately obvious but registers metrics that might need a Searcher?  Okay.\r\n\r\n> delaying the metrics was what I was going for. but would we need to delay all metrics or just the problematic ones?\r\n\r\nThe calls to initializeMetrics() both on SolrCore and on solrFieldCacheBean.\r\n\r\nThe CountDownLatch \"latch\" in the constructor is interesting; notice it's closed at the very end.  \"latch\" was a poor name; ambiguous (it's like calling an int \"integer\").  We might generalize that slightly to a field that conveys the state of the SolrCore being constructed.  Call it \"constructedLatch\".  Then gate the metrics gauges on that & (and !closed) instead of refCount. I don't understand how `refCount <= 1` is a solution; there can be many simultaneous references (say 10) and we should expose values then.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1843768954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1843798621","html_url":"https://github.com/apache/solr/pull/2101#issuecomment-1843798621","issue_url":"https://api.github.com/repos/apache/solr/issues/2101","id":1843798621,"node_id":"IC_kwDOFFj3yM5t5iJd","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T22:36:03Z","updated_at":"2023-12-06T22:36:03Z","author_association":"CONTRIBUTOR","body":"We can still move metrics initialization to later in addition to other ideas here.  I think it belongs later conceptually.  `initPlugins(CircuitBreaker)` would move later as well (there's a comment saying it needs to follow metric initialization).\r\n\r\nMaybe another line of attack is to replace this ugly hack/trick:\r\nhttps://github.com/apache/solr/blob/195d18223f797824e0867101490358861cc1b978/solr/core/src/java/org/apache/solr/core/SolrCore.java#L1165-L1172\r\n\r\nInstead, we could grab the `openSearcherLock` (thus blocking use of that executor) and unlock it about the time we countDown on \"latch\".  Come to think of it, we don't need \"CountDownLatch\", we can just use openSearcherLock instead -- the \"latch\" exists only in relation to the searcher, after all.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1843798621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1843800021","html_url":"https://github.com/apache/solr/pull/2101#issuecomment-1843800021","issue_url":"https://api.github.com/repos/apache/solr/issues/2101","id":1843800021,"node_id":"IC_kwDOFFj3yM5t5ifV","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T22:37:13Z","updated_at":"2023-12-06T22:37:13Z","author_association":"CONTRIBUTOR","body":"BTW I'd be happy to throw up a proposal PR with my ideas, taking your test :-)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1843800021/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1843835253","html_url":"https://github.com/apache/solr/pull/2101#issuecomment-1843835253","issue_url":"https://api.github.com/repos/apache/solr/issues/2101","id":1843835253,"node_id":"IC_kwDOFFj3yM5t5rF1","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T23:10:12Z","updated_at":"2023-12-06T23:10:12Z","author_association":"MEMBER","body":"sure @dsmiley go for it","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1843835253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1843839631","html_url":"https://github.com/apache/solr/pull/2101#issuecomment-1843839631","issue_url":"https://api.github.com/repos/apache/solr/issues/2101","id":1843839631,"node_id":"IC_kwDOFFj3yM5t5sKP","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-06T23:14:34Z","updated_at":"2023-12-06T23:14:34Z","author_association":"MEMBER","body":"> I don't understand how refCount <= 1 is a solution; there can be many simultaneous references (say 10) and we should expose values then.\r\n\r\nread the PR again, you may be parsing it in reverse (I opted for keeping the 'isClosed' style to minimize changes and get the discussion going). this replaces 'isClosed' with a better state check something that reflect 'isOpen'.\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1843839631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1843999099","html_url":"https://github.com/apache/solr/pull/2045#issuecomment-1843999099","issue_url":"https://api.github.com/repos/apache/solr/issues/2045","id":1843999099,"node_id":"IC_kwDOFFj3yM5t6TF7","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T01:41:23Z","updated_at":"2023-12-07T01:41:23Z","author_association":"CONTRIBUTOR","body":"(a 9.4.1 will happen)","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1843999099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1844506632","html_url":"https://github.com/apache/solr/pull/2118#issuecomment-1844506632","issue_url":"https://api.github.com/repos/apache/solr/issues/2118","id":1844506632,"node_id":"IC_kwDOFFj3yM5t8PAI","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T05:29:52Z","updated_at":"2023-12-07T05:29:52Z","author_association":"CONTRIBUTOR","body":"> What would you think about keeping the logs as currently done but changing the response to always and only use cpuTime ?\r\n\r\nAh; that's a nice compromise!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1844506632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1845554961","html_url":"https://github.com/apache/solr/pull/2125#issuecomment-1845554961","issue_url":"https://api.github.com/repos/apache/solr/issues/2125","id":1845554961,"node_id":"IC_kwDOFFj3yM5uAO8R","user":{"login":"gerlowskija","id":9030708,"node_id":"MDQ6VXNlcjkwMzA3MDg=","avatar_url":"https://avatars.githubusercontent.com/u/9030708?v=4","gravatar_id":"","url":"https://api.github.com/users/gerlowskija","html_url":"https://github.com/gerlowskija","followers_url":"https://api.github.com/users/gerlowskija/followers","following_url":"https://api.github.com/users/gerlowskija/following{/other_user}","gists_url":"https://api.github.com/users/gerlowskija/gists{/gist_id}","starred_url":"https://api.github.com/users/gerlowskija/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerlowskija/subscriptions","organizations_url":"https://api.github.com/users/gerlowskija/orgs","repos_url":"https://api.github.com/users/gerlowskija/repos","events_url":"https://api.github.com/users/gerlowskija/events{/privacy}","received_events_url":"https://api.github.com/users/gerlowskija/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T15:29:17Z","updated_at":"2023-12-07T15:29:17Z","author_association":"CONTRIBUTOR","body":"One TODO remaining, if we choose to go this route, is to produce an \"*.asc\" signature for the OAS file.  The PR currently contains some logic that tries to do this, but it's still not working for whatever reason.  Something to work through at some point...","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1845554961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1845865301","html_url":"https://github.com/apache/solr/pull/2025#issuecomment-1845865301","issue_url":"https://api.github.com/repos/apache/solr/issues/2025","id":1845865301,"node_id":"IC_kwDOFFj3yM5uBatV","user":{"login":"mkhludnev","id":807522,"node_id":"MDQ6VXNlcjgwNzUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/807522?v=4","gravatar_id":"","url":"https://api.github.com/users/mkhludnev","html_url":"https://github.com/mkhludnev","followers_url":"https://api.github.com/users/mkhludnev/followers","following_url":"https://api.github.com/users/mkhludnev/following{/other_user}","gists_url":"https://api.github.com/users/mkhludnev/gists{/gist_id}","starred_url":"https://api.github.com/users/mkhludnev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkhludnev/subscriptions","organizations_url":"https://api.github.com/users/mkhludnev/orgs","repos_url":"https://api.github.com/users/mkhludnev/repos","events_url":"https://api.github.com/users/mkhludnev/events{/privacy}","received_events_url":"https://api.github.com/users/mkhludnev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T18:08:14Z","updated_at":"2023-12-07T18:08:14Z","author_association":"MEMBER","body":"@AndreyBozhko wdyt abt my changes? ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1845865301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1846143185","html_url":"https://github.com/apache/solr/pull/2125#issuecomment-1846143185","issue_url":"https://api.github.com/repos/apache/solr/issues/2125","id":1846143185,"node_id":"IC_kwDOFFj3yM5uCejR","user":{"login":"gerlowskija","id":9030708,"node_id":"MDQ6VXNlcjkwMzA3MDg=","avatar_url":"https://avatars.githubusercontent.com/u/9030708?v=4","gravatar_id":"","url":"https://api.github.com/users/gerlowskija","html_url":"https://github.com/gerlowskija","followers_url":"https://api.github.com/users/gerlowskija/followers","following_url":"https://api.github.com/users/gerlowskija/following{/other_user}","gists_url":"https://api.github.com/users/gerlowskija/gists{/gist_id}","starred_url":"https://api.github.com/users/gerlowskija/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerlowskija/subscriptions","organizations_url":"https://api.github.com/users/gerlowskija/orgs","repos_url":"https://api.github.com/users/gerlowskija/repos","events_url":"https://api.github.com/users/gerlowskija/events{/privacy}","received_events_url":"https://api.github.com/users/gerlowskija/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T21:32:03Z","updated_at":"2023-12-07T21:32:03Z","author_association":"CONTRIBUTOR","body":"Alright, worked through the signing issues with some help (Thanks @HoustonPutman !).  This should be functional and ready to go, assuming it's the route we want to take.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1846143185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1846231319","html_url":"https://github.com/apache/solr/pull/2099#issuecomment-1846231319","issue_url":"https://api.github.com/repos/apache/solr/issues/2099","id":1846231319,"node_id":"IC_kwDOFFj3yM5uC0EX","user":{"login":"jdyer1","id":6341181,"node_id":"MDQ6VXNlcjYzNDExODE=","avatar_url":"https://avatars.githubusercontent.com/u/6341181?v=4","gravatar_id":"","url":"https://api.github.com/users/jdyer1","html_url":"https://github.com/jdyer1","followers_url":"https://api.github.com/users/jdyer1/followers","following_url":"https://api.github.com/users/jdyer1/following{/other_user}","gists_url":"https://api.github.com/users/jdyer1/gists{/gist_id}","starred_url":"https://api.github.com/users/jdyer1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdyer1/subscriptions","organizations_url":"https://api.github.com/users/jdyer1/orgs","repos_url":"https://api.github.com/users/jdyer1/repos","events_url":"https://api.github.com/users/jdyer1/events{/privacy}","received_events_url":"https://api.github.com/users/jdyer1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T22:53:44Z","updated_at":"2023-12-07T22:53:44Z","author_association":"CONTRIBUTOR","body":"@janhoy  With my last update, I am cautiously optimistic this PR may help us with the failure rate.  With this change, the test passes even if I change `localhost` to `localhost.localdomain` in my `/etc/hosts` file.  (I am trying this as a modest attempt to mimic the environmental conditions when it fails in our CI.)  However, carefully consider the changes I am making to `JWTIssuerConfig.java`.  Here I am assuming the host name check bypass for `localhost` exists merely to help unit tests with self-signed certificates.  Perhaps we are also helping users who try this functionality on their laptops?  I think with my change it will work for either case, but maybe we also want to exempt `InetAddress.getLoopbackAddress().getHostName()` as well (as far as I can tell this will always return `localhost`).\r\n\r\nIt would be much better if we could use the Mock library's self-signed certificate generation, as you suggest.  This would greatly streamline this test and keep the focus were it belongs!  Unfortunately with the short amount of time I spent I was unable to make it work.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1846231319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1846233632","html_url":"https://github.com/apache/solr/pull/2125#issuecomment-1846233632","issue_url":"https://api.github.com/repos/apache/solr/issues/2125","id":1846233632,"node_id":"IC_kwDOFFj3yM5uC0og","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-07T22:56:23Z","updated_at":"2023-12-07T22:56:23Z","author_association":"CONTRIBUTOR","body":"Does anything test this, or must it be manually inspected?  Basically, how do we have confidence that this is basically working?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1846233632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1846880937","html_url":"https://github.com/apache/solr/pull/2065#issuecomment-1846880937","issue_url":"https://api.github.com/repos/apache/solr/issues/2065","id":1846880937,"node_id":"IC_kwDOFFj3yM5uFSqp","user":{"login":"solrbot","id":125606113,"node_id":"U_kgDOB3yY4Q","avatar_url":"https://avatars.githubusercontent.com/u/125606113?v=4","gravatar_id":"","url":"https://api.github.com/users/solrbot","html_url":"https://github.com/solrbot","followers_url":"https://api.github.com/users/solrbot/followers","following_url":"https://api.github.com/users/solrbot/following{/other_user}","gists_url":"https://api.github.com/users/solrbot/gists{/gist_id}","starred_url":"https://api.github.com/users/solrbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/solrbot/subscriptions","organizations_url":"https://api.github.com/users/solrbot/orgs","repos_url":"https://api.github.com/users/solrbot/repos","events_url":"https://api.github.com/users/solrbot/events{/privacy}","received_events_url":"https://api.github.com/users/solrbot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-08T09:53:08Z","updated_at":"2023-12-08T09:53:08Z","author_association":"COLLABORATOR","body":"### Edited/Blocked Notification\n\nRenovate will not automatically rebase this PR, because it does not recognize the last commit author and assumes somebody else may have edited the PR.\n\nYou can manually request rebase by checking the rebase/retry box above.\n\n  **Warning**: custom changes will be lost.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1846880937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1846887507","html_url":"https://github.com/apache/solr/pull/2047#issuecomment-1846887507","issue_url":"https://api.github.com/repos/apache/solr/issues/2047","id":1846887507,"node_id":"IC_kwDOFFj3yM5uFURT","user":{"login":"solrbot","id":125606113,"node_id":"U_kgDOB3yY4Q","avatar_url":"https://avatars.githubusercontent.com/u/125606113?v=4","gravatar_id":"","url":"https://api.github.com/users/solrbot","html_url":"https://github.com/solrbot","followers_url":"https://api.github.com/users/solrbot/followers","following_url":"https://api.github.com/users/solrbot/following{/other_user}","gists_url":"https://api.github.com/users/solrbot/gists{/gist_id}","starred_url":"https://api.github.com/users/solrbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/solrbot/subscriptions","organizations_url":"https://api.github.com/users/solrbot/orgs","repos_url":"https://api.github.com/users/solrbot/repos","events_url":"https://api.github.com/users/solrbot/events{/privacy}","received_events_url":"https://api.github.com/users/solrbot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-08T09:58:09Z","updated_at":"2024-04-10T12:54:27Z","author_association":"COLLABORATOR","body":"###  Artifact update problem\n\nRenovate failed to update an artifact related to this branch. You probably do not want to merge this PR as-is.\n\n Renovate will retry this branch, including artifacts, only when one of the following happens:\n\n - any of the package files in this branch needs updating, or \n - the branch becomes conflicted, or\n - you click the rebase/retry checkbox if found above, or\n - you rename this PR's title to start with \"rebase!\" to trigger it manually\n\nThe artifact failure details are included below:\n\n##### File name: undefined\n\n```\nCommand failed: ./gradlew updateLicenses\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n/home/ubuntu/.gradle/caches/modules-2/files-2.1/org.apache.logging.log4j/log4j-api/2.23.1/9c15c29c526d9c6783049c0a77722693c66706e1/log4j-api-2.23.1.jar(/org/apache/logging/log4j/Level.class): warning: Cannot find annotation method 'value()' in type 'BaselineIgnore': class file for aQute.bnd.annotation.baseline.BaselineIgnore not found\nerror: warnings found and -Werror specified\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n1 error\n1 warning\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':solr:test-framework:compileJava'.\n> Compilation failed; see the compiler error output for details.\n\n* Try:\n> Run with --info option to get more log output.\n\nBUILD FAILED in 29s\n\n```\n\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1846887507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1847186357","html_url":"https://github.com/apache/solr/pull/1221#issuecomment-1847186357","issue_url":"https://api.github.com/repos/apache/solr/issues/1221","id":1847186357,"node_id":"IC_kwDOFFj3yM5uGdO1","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-08T13:44:34Z","updated_at":"2023-12-08T13:44:34Z","author_association":"CONTRIBUTOR","body":"@risdenk I think your concerns have been addressed?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1847186357/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1847349592","html_url":"https://github.com/apache/solr/pull/2065#issuecomment-1847349592","issue_url":"https://api.github.com/repos/apache/solr/issues/2065","id":1847349592,"node_id":"IC_kwDOFFj3yM5uHFFY","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-08T15:11:49Z","updated_at":"2023-12-08T15:11:49Z","author_association":"CONTRIBUTOR","body":"> Wdyt @risdenk ?\r\n\r\neither works - the commit is fine or waiting until the next release.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1847349592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1847522543","html_url":"https://github.com/apache/solr/pull/2099#issuecomment-1847522543","issue_url":"https://api.github.com/repos/apache/solr/issues/2099","id":1847522543,"node_id":"IC_kwDOFFj3yM5uHvTv","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-08T16:56:00Z","updated_at":"2023-12-08T16:56:00Z","author_association":"CONTRIBUTOR","body":"Yes, disabling the name check will of course work for the localhost case. Normally the plugin will always connect to an external IDP to fetch JWKs or well-known, and then it will enable validation of cert CN. A pity we won't be able to test that here, but it is far better with a working test that tests everything else, than having full coverage.\r\n\r\nNot sure of the consequences of exempting canonicalHostName and not hostName. Perhaps safest to check both?\r\n\r\nWrt simplifying the generation, we can leave that as a follow up, perhaps there is a need for a PR upstream first.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1847522543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1847711918","html_url":"https://github.com/apache/solr/pull/2101#issuecomment-1847711918","issue_url":"https://api.github.com/repos/apache/solr/issues/2101","id":1847711918,"node_id":"IC_kwDOFFj3yM5uIdiu","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-08T19:33:48Z","updated_at":"2023-12-08T19:33:48Z","author_association":"CONTRIBUTOR","body":"I played a bit with my idea but it wasn't working out; perhaps because internal complexities around searcher lifecycle.\r\n\r\nI still don't understand why `getOpenCount() <= 1;` could be correct because a metrics request isn't going to increment the core count.  Maybe we should change the initial value to 0 and increment at the end of the constructor; albeit it will then appear as \"closed\" during this time?  A value of \"-1\" could be used to differentiate.  I went to a test, MetricsHandlerTest.test and set a breakpoint to inspect its response, which is only partially validated.  There are no validations for, say, \"segments\" (exposed as INDEX.segments), but if you look at the response in a debugger, there is a null value.  It should instead be the number of segments.  Obviously we have a testing gap here.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1847711918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1847834842","html_url":"https://github.com/apache/solr/pull/2101#issuecomment-1847834842","issue_url":"https://api.github.com/repos/apache/solr/issues/2101","id":1847834842,"node_id":"IC_kwDOFFj3yM5uI7ja","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-08T20:57:30Z","updated_at":"2023-12-08T20:57:30Z","author_association":"MEMBER","body":"> I played a bit with my idea but it wasn't working out; perhaps because internal complexities around searcher lifecycle.\r\n\r\nI hear you. as an aside if (at least) 3 people are trying to make sense of this code and can't - this is a pretty strong signal it needs some proper refactoring.\r\n\r\n> I still don't understand why getOpenCount() <= 1; could be correct because a metrics request isn't going to increment the core count. Maybe we should change the initial value to 0 and increment at the end of the constructor; albeit it will then appear as \"closed\" during this time? A value of \"-1\" could be used to differentiate.\r\n\r\nI used this as an indirect indicator that the init part is completed. metrics do not increase open count, they only expose some lazy computations which can trigger the deadlocking flow. as far as I can read this code the 'open count > 1' (strictly bigger) signals the 'open' method has been called, which is post-init phase. I find the 'open count = 1 by default' confusing too but I avoided messing around too much with it because that was not the core issue being addressed.\r\n\r\nthe way I understand it:\r\n - init phase -- open count = 1\r\n - \"open\" / \"close\" calls will increase and decrease open count\r\n - final 'close' will set open count to 0 and actually perform resource cleanup (doClose)\r\n\r\nIf the open count is not to your liking (I am not married to it, it was just a proposal) I think you had some thoughts on alternatives. it's just a matter of getting the timing right for the concurrent calls to the metrics, where simply moving the code below a few lines is not sufficient.\r\n\r\n> There are no validations for, say, \"segments\" (exposed as INDEX.segments), but if you look at the response in a debugger, there is a null value. It should instead be the number of segments. Obviously we have a testing gap here.\r\n\r\nI think some nulls can creep in if you call the metrics before they are made available in the metrics context. otherwise I agree there might be gaps here, and we can look at improving existing tests.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1847834842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1847836841","html_url":"https://github.com/apache/solr/pull/2099#issuecomment-1847836841","issue_url":"https://api.github.com/repos/apache/solr/issues/2099","id":1847836841,"node_id":"IC_kwDOFFj3yM5uI8Cp","user":{"login":"jdyer1","id":6341181,"node_id":"MDQ6VXNlcjYzNDExODE=","avatar_url":"https://avatars.githubusercontent.com/u/6341181?v=4","gravatar_id":"","url":"https://api.github.com/users/jdyer1","html_url":"https://github.com/jdyer1","followers_url":"https://api.github.com/users/jdyer1/followers","following_url":"https://api.github.com/users/jdyer1/following{/other_user}","gists_url":"https://api.github.com/users/jdyer1/gists{/gist_id}","starred_url":"https://api.github.com/users/jdyer1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdyer1/subscriptions","organizations_url":"https://api.github.com/users/jdyer1/orgs","repos_url":"https://api.github.com/users/jdyer1/repos","events_url":"https://api.github.com/users/jdyer1/events{/privacy}","received_events_url":"https://api.github.com/users/jdyer1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-08T20:59:44Z","updated_at":"2023-12-08T20:59:44Z","author_association":"CONTRIBUTOR","body":"I think we actually do have test coverage with the things you mention.  The way this test is working, it still goes out to both `https://{{host}}:{{port}}/default/.well-known/openid-configuration` and then to `https:///{{host}}:{{port}}/default/jwks`. By disabling hostname verification we allow the mock host to use a self-signed certificate.  I added back in the check for `hostName` as you suggest, just in case.  If this seems good to you, I can commit this in a few days.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1847836841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1847852463","html_url":"https://github.com/apache/solr/pull/2099#issuecomment-1847852463","issue_url":"https://api.github.com/repos/apache/solr/issues/2099","id":1847852463,"node_id":"IC_kwDOFFj3yM5uI_2v","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-08T21:16:25Z","updated_at":"2023-12-08T21:16:25Z","author_association":"CONTRIBUTOR","body":"+1, feel free to merge when you wish","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1847852463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1847923908","html_url":"https://github.com/apache/solr/pull/2101#issuecomment-1847923908","issue_url":"https://api.github.com/repos/apache/solr/issues/2101","id":1847923908,"node_id":"IC_kwDOFFj3yM5uJRTE","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-08T22:32:20Z","updated_at":"2023-12-08T22:32:20Z","author_association":"MEMBER","body":"the failing test was caused by my change, so I had to reduce the open count check to this metric only. I had extended it eagerly to all 3 metrics for some idea of consistency, but that didn't play well with the PlacementPluginIntegrationTest. I think there is some underlying expectation in the placement plugin test to have access to the metrics even if the core is not actively open and my change made it so there are no metrics available which broke the test.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1847923908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1848042217","html_url":"https://github.com/apache/solr/pull/2126#issuecomment-1848042217","issue_url":"https://api.github.com/repos/apache/solr/issues/2126","id":1848042217,"node_id":"IC_kwDOFFj3yM5uJuLp","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-09T01:09:02Z","updated_at":"2023-12-09T01:09:02Z","author_association":"CONTRIBUTOR","body":"Oh I totally missed an important concern that I raised with @pvcnt 's previous PR #2016.  The configuration is very generic (the specific plugins are effectively untyped in solr.xml).  I took this back to the parent JIRA with my comment here: https://issues.apache.org/jira/browse/SOLR-15782?focusedCommentId=17782415&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17782415","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1848042217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1848076667","html_url":"https://github.com/apache/solr/pull/2101#issuecomment-1848076667","issue_url":"https://api.github.com/repos/apache/solr/issues/2101","id":1848076667,"node_id":"IC_kwDOFFj3yM5uJ2l7","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-09T01:40:59Z","updated_at":"2023-12-09T01:40:59Z","author_association":"CONTRIBUTOR","body":"I do like the refCount==-1 during initialization idea I came up with but am unsure what you think.  I think this would address the matter and be clear to reason about.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1848076667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1848128863","html_url":"https://github.com/apache/solr/pull/2101#issuecomment-1848128863","issue_url":"https://api.github.com/repos/apache/solr/issues/2101","id":1848128863,"node_id":"IC_kwDOFFj3yM5uKDVf","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-09T03:00:56Z","updated_at":"2023-12-09T03:00:56Z","author_association":"MEMBER","body":"> I do like the refCount==-1 during initialization idea I came up with but am unsure what you think. I think this would address the matter and be clear to reason about.\r\n\r\nthanks for clarifying, I am good with this idea! good to see consensus on approaching this from the refCount side. I will try to give this a go in the following days, unless you are already working on a different PR.\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1848128863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1848397446","html_url":"https://github.com/apache/solr/pull/2142#issuecomment-1848397446","issue_url":"https://api.github.com/repos/apache/solr/issues/2142","id":1848397446,"node_id":"IC_kwDOFFj3yM5uLE6G","user":{"login":"solrbot","id":125606113,"node_id":"U_kgDOB3yY4Q","avatar_url":"https://avatars.githubusercontent.com/u/125606113?v=4","gravatar_id":"","url":"https://api.github.com/users/solrbot","html_url":"https://github.com/solrbot","followers_url":"https://api.github.com/users/solrbot/followers","following_url":"https://api.github.com/users/solrbot/following{/other_user}","gists_url":"https://api.github.com/users/solrbot/gists{/gist_id}","starred_url":"https://api.github.com/users/solrbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/solrbot/subscriptions","organizations_url":"https://api.github.com/users/solrbot/orgs","repos_url":"https://api.github.com/users/solrbot/repos","events_url":"https://api.github.com/users/solrbot/events{/privacy}","received_events_url":"https://api.github.com/users/solrbot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-09T12:33:28Z","updated_at":"2023-12-09T12:33:28Z","author_association":"COLLABORATOR","body":"###  Artifact update problem\n\nRenovate failed to update an artifact related to this branch. You probably do not want to merge this PR as-is.\n\n Renovate will retry this branch, including artifacts, only when one of the following happens:\n\n - any of the package files in this branch needs updating, or \n - the branch becomes conflicted, or\n - you click the rebase/retry checkbox if found above, or\n - you rename this PR's title to start with \"rebase!\" to trigger it manually\n\nThe artifact failure details are included below:\n\n##### File name: undefined\n\n```\nCommand failed: ./gradlew updateLicenses\nSLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:29: error: cannot find symbol\nimport org.apache.lucene.codecs.lucene95.Lucene95Codec;\n                                        ^\n  symbol:   class Lucene95Codec\n  location: package org.apache.lucene.codecs.lucene95\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:30: error: package org.apache.lucene.codecs.lucene95.Lucene95Codec does not exist\nimport org.apache.lucene.codecs.lucene95.Lucene95Codec.Mode;\n                                                      ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:31: error: cannot find symbol\nimport org.apache.lucene.codecs.lucene95.Lucene95HnswVectorsFormat;\n                                        ^\n  symbol:   class Lucene95HnswVectorsFormat\n  location: package org.apache.lucene.codecs.lucene95\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:57: error: cannot find symbol\n  public static final Mode SOLR_DEFAULT_COMPRESSION_MODE = Mode.BEST_SPEED;\n                      ^\n  symbol:   class Mode\n  location: class SchemaCodecFactory\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/schema/DenseVectorField.java:20: error: cannot find symbol\nimport static org.apache.lucene.codecs.lucene95.Lucene95HnswVectorsFormat.DEFAULT_BEAM_WIDTH;\n                                               ^\n  symbol:   class Lucene95HnswVectorsFormat\n  location: package org.apache.lucene.codecs.lucene95\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/schema/DenseVectorField.java:20: error: static import only from classes and interfaces\nimport static org.apache.lucene.codecs.lucene95.Lucene95HnswVectorsFormat.DEFAULT_BEAM_WIDTH;\n^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/schema/DenseVectorField.java:21: error: cannot find symbol\nimport static org.apache.lucene.codecs.lucene95.Lucene95HnswVectorsFormat.DEFAULT_MAX_CONN;\n                                               ^\n  symbol:   class Lucene95HnswVectorsFormat\n  location: package org.apache.lucene.codecs.lucene95\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/schema/DenseVectorField.java:21: error: static import only from classes and interfaces\nimport static org.apache.lucene.codecs.lucene95.Lucene95HnswVectorsFormat.DEFAULT_MAX_CONN;\n^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/handler/component/QueryElevationComponent.java:1329: error: ElevationComparatorSource is not abstract and does not override abstract method newComparator(String,int,Pruning,boolean) in FieldComparatorSource\n  private static class ElevationComparatorSource extends FieldComparatorSource {\n                 ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/handler/component/QueryElevationComponent.java:1351: error: method does not override or implement a method from a supertype\n    @Override\n    ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/schema/RandomSortField.java:112: error: <anonymous org.apache.solr.schema.RandomSortField$1> is not abstract and does not override abstract method newComparator(String,int,Pruning,boolean) in FieldComparatorSource\n      new FieldComparatorSource() {\n                                  ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/schema/RandomSortField.java:113: error: method does not override or implement a method from a supertype\n        @Override\n        ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:57: error: cannot find symbol\n  public static final Mode SOLR_DEFAULT_COMPRESSION_MODE = Mode.BEST_SPEED;\n                                                           ^\n  symbol:   variable Mode\n  location: class SchemaCodecFactory\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:82: error: cannot find symbol\n    Mode compressionMode;\n    ^\n  symbol:   class Mode\n  location: class SchemaCodecFactory\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:85: error: cannot find symbol\n        compressionMode = Mode.valueOf(compressionModeStr.toUpperCase(Locale.ROOT));\n                          ^\n  symbol:   variable Mode\n  location: class SchemaCodecFactory\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:92: error: cannot find symbol\n                + Arrays.toString(Mode.values()));\n                                  ^\n  symbol:   variable Mode\n  location: class SchemaCodecFactory\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:100: error: cannot find symbol\n        new Lucene95Codec(compressionMode) {\n            ^\n  symbol:   class Lucene95Codec\n  location: class SchemaCodecFactory\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:101: error: method does not override or implement a method from a supertype\n          @Override\n          ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:110: error: cannot find symbol\n            return super.getPostingsFormatForField(field);\n                        ^\n  symbol: method getPostingsFormatForField(String)\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:113: error: method does not override or implement a method from a supertype\n          @Override\n          ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:122: error: cannot find symbol\n            return super.getDocValuesFormatForField(field);\n                        ^\n  symbol: method getDocValuesFormatForField(String)\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:125: error: method does not override or implement a method from a supertype\n          @Override\n          ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:135: error: cannot find symbol\n                var delegate = new Lucene95HnswVectorsFormat(maxConn, beamWidth);\n                                   ^\n  symbol: class Lucene95HnswVectorsFormat\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:142: error: cannot find symbol\n            return super.getKnnVectorsFormatForField(field);\n                        ^\n  symbol: method getKnnVectorsFormatForField(String)\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/search/CollapsingQParserPlugin.java:3586: error: incompatible types: boolean cannot be converted to Pruning\n        fieldComparators[clause] = sf.getComparator(1, clause == 0);\n                                                              ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/search/join/ChildFieldValueSourceParser.java:126: error: method does not override or implement a method from a supertype\n        @Override\n        ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/search/join/ChildFieldValueSourceParser.java:128: error: incompatible types: boolean cannot be converted to Pruning\n          final FieldComparator<?> comparator = super.getComparator(numHits, enableSkipping);\n                                                                             ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/handler/component/ShardFieldSortedHitQueue.java:159: error: incompatible types: boolean cannot be converted to Pruning\n    final FieldComparator fieldComparator = sortField.getComparator(0, true);\n                                                                       ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/handler/component/QueryComponent.java:500: error: incompatible types: boolean cannot be converted to Pruning\n          FieldComparator<?> comparator = sortField.getComparator(1, true);\n                                                                     ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/index/SlowCompositeReaderWrapper.java:100: error: constructor LeafMetaData in class LeafMetaData cannot be applied to given types;\n      metaData = new LeafMetaData(Version.LATEST.major, Version.LATEST, null);\n                 ^\n  required: int,Version,Sort,boolean\n  found:    int,Version,<null>\n  reason: actual and formal argument lists differ in length\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/index/SlowCompositeReaderWrapper.java:114: error: constructor LeafMetaData in class LeafMetaData cannot be applied to given types;\n      metaData = new LeafMetaData(createdVersionMajor, minVersion, null);\n                 ^\n  required: int,Version,Sort,boolean\n  found:    int,Version,<null>\n  reason: actual and formal argument lists differ in length\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/schema/LatLonPointSpatialField.java:273: error: incompatible types: boolean cannot be converted to Pruning\n              (FieldComparator<Double>) getSortField(false).getComparator(1, false);\n                                                                             ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/schema/LatLonPointSpatialField.java:273: warning: [cast] redundant cast to FieldComparator<Double>\n              (FieldComparator<Double>) getSortField(false).getComparator(1, false);\n              ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/schema/DenseVectorField.java:144: error: cannot find symbol\n        ofNullable(args.get(HNSW_MAX_CONNECTIONS)).map(Integer::parseInt).orElse(DEFAULT_MAX_CONN);\n                                                                                 ^\n  symbol:   variable DEFAULT_MAX_CONN\n  location: class DenseVectorField\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/schema/DenseVectorField.java:148: error: cannot find symbol\n        ofNullable(args.get(HNSW_BEAM_WIDTH)).map(Integer::parseInt).orElse(DEFAULT_BEAM_WIDTH);\n                                                                            ^\n  symbol:   variable DEFAULT_BEAM_WIDTH\n  location: class DenseVectorField\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some messages have been simplified; recompile with -Xdiags:verbose to get full output\n34 errors\n1 warning\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':solr:core:compileJava'.\n> Compilation failed; see the compiler error output for details.\n\n* Try:\n> Run with --info option to get more log output.\n\nBUILD FAILED in 37s\n\n```\n\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1848397446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1848424908","html_url":"https://github.com/apache/solr/pull/2142#issuecomment-1848424908","issue_url":"https://api.github.com/repos/apache/solr/issues/2142","id":1848424908,"node_id":"IC_kwDOFFj3yM5uLLnM","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-09T14:26:51Z","updated_at":"2023-12-09T14:26:51Z","author_association":"CONTRIBUTOR","body":"Will be handled manually in https://issues.apache.org/jira/browse/SOLR-17097","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1848424908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1848441008","html_url":"https://github.com/apache/solr/pull/1935#issuecomment-1848441008","issue_url":"https://api.github.com/repos/apache/solr/issues/1935","id":1848441008,"node_id":"IC_kwDOFFj3yM5uLPiw","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-09T15:32:06Z","updated_at":"2023-12-09T15:32:06Z","author_association":"CONTRIBUTOR","body":"Thanks for your review @dsmiley  and sorry for late response. I updated PR.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1848441008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1848442796","html_url":"https://github.com/apache/solr/pull/1935#issuecomment-1848442796","issue_url":"https://api.github.com/repos/apache/solr/issues/1935","id":1848442796,"node_id":"IC_kwDOFFj3yM5uLP-s","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-09T15:39:35Z","updated_at":"2023-12-09T15:39:35Z","author_association":"CONTRIBUTOR","body":"In 28400bb72fa4bf06fbf7824b08a79da2ee3b55b1 I removed yet 20 lines from bin/solr :) ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1848442796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1848453861","html_url":"https://github.com/apache/solr/pull/2142#issuecomment-1848453861","issue_url":"https://api.github.com/repos/apache/solr/issues/2142","id":1848453861,"node_id":"IC_kwDOFFj3yM5uLSrl","user":{"login":"solrbot","id":125606113,"node_id":"U_kgDOB3yY4Q","avatar_url":"https://avatars.githubusercontent.com/u/125606113?v=4","gravatar_id":"","url":"https://api.github.com/users/solrbot","html_url":"https://github.com/solrbot","followers_url":"https://api.github.com/users/solrbot/followers","following_url":"https://api.github.com/users/solrbot/following{/other_user}","gists_url":"https://api.github.com/users/solrbot/gists{/gist_id}","starred_url":"https://api.github.com/users/solrbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/solrbot/subscriptions","organizations_url":"https://api.github.com/users/solrbot/orgs","repos_url":"https://api.github.com/users/solrbot/repos","events_url":"https://api.github.com/users/solrbot/events{/privacy}","received_events_url":"https://api.github.com/users/solrbot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-09T16:21:55Z","updated_at":"2023-12-09T16:21:55Z","author_association":"COLLABORATOR","body":"### Renovate Ignore Notification\n\nBecause you closed this PR without merging, Renovate will ignore this update (`9.9.0`). You will get a PR once a newer version is released. To ignore this dependency forever, add it to the `ignoreDeps` array of your Renovate config.\n\nIf you accidentally closed this PR, or if you changed your mind: rename this PR to get a fresh replacement PR.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1848453861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1850287249","html_url":"https://github.com/apache/solr/pull/2125#issuecomment-1850287249","issue_url":"https://api.github.com/repos/apache/solr/issues/2125","id":1850287249,"node_id":"IC_kwDOFFj3yM5uSSSR","user":{"login":"gerlowskija","id":9030708,"node_id":"MDQ6VXNlcjkwMzA3MDg=","avatar_url":"https://avatars.githubusercontent.com/u/9030708?v=4","gravatar_id":"","url":"https://api.github.com/users/gerlowskija","html_url":"https://github.com/gerlowskija","followers_url":"https://api.github.com/users/gerlowskija/followers","following_url":"https://api.github.com/users/gerlowskija/following{/other_user}","gists_url":"https://api.github.com/users/gerlowskija/gists{/gist_id}","starred_url":"https://api.github.com/users/gerlowskija/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerlowskija/subscriptions","organizations_url":"https://api.github.com/users/gerlowskija/orgs","repos_url":"https://api.github.com/users/gerlowskija/repos","events_url":"https://api.github.com/users/gerlowskija/events{/privacy}","received_events_url":"https://api.github.com/users/gerlowskija/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-11T15:17:58Z","updated_at":"2023-12-11T15:17:58Z","author_association":"CONTRIBUTOR","body":"> Does anything test this, or must it be manually inspected?\r\n\r\nI've been validating using the `buildAndPushRelease.py` script, paired with the smoketester.  As far as I know we don't have anything else around that validates our build/release automation itself?  This is one of the reasons I volunteered to be a possible RM over in `dev@`; I'd hate for something to go wrong and leave someone else on the hook for it.\r\n\r\n----\r\n\r\nActually, finding the right invocation of `buildAndPushRelease.py` was a bit of a pain, so I'll share it here just in case it helps anyone that wants to validate or stumbles across a need down the road...\r\n\r\n```\r\n$ echo \"foo\" | gpg --detach-sign --use-agent --pinentry-mode loopback --local-user <keypair-fingerprint>\r\n$ python3 -u dev-tools/scripts/buildAndPushRelease.py  --push-local <some-output-dir>  --rc-num 1 --mf-username gerlowskija --sign <keypair-fingerprint> --gpg-pass-noprompt\r\n```\r\n\r\nThe first command sets up gpg-agent to delegate your password when buildAndPushRelease.py asks for it.  It should prompt you for your password and then you're free to go \"get some coffee\", as the releaseWizard puts it.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1850287249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1850893336","html_url":"https://github.com/apache/solr/pull/2101#issuecomment-1850893336","issue_url":"https://api.github.com/repos/apache/solr/issues/2101","id":1850893336,"node_id":"IC_kwDOFFj3yM5uUmQY","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-11T21:10:38Z","updated_at":"2023-12-11T21:13:15Z","author_association":"MEMBER","body":"took a swing at it and could not get it working based on refCount only. I don't think it can be done without major changes (happy to be shown otherwise). the trouble I had was: the init code (`openNewSearcher`) checks for isClosed before opening a new searcher so in order for init to complete isClosed needs to return false, but same isClosed method for the same init window needs to return true so that the metrics do not become active.\r\nso instead of going and changing the hot path for creating a new searcher I went back to my PR and poked at the condition again and came up with another idea: what if we use an existing metric (newSearcherCounter) to track if any number of searchers have been created since the init phase. anything > 0 means init has happened so it is safe to activate the metrics. this also has the benefit that (unlike the refCount) does not decrease.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1850893336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1851332731","html_url":"https://github.com/apache/solr/pull/2101#issuecomment-1851332731","issue_url":"https://api.github.com/repos/apache/solr/issues/2101","id":1851332731,"node_id":"IC_kwDOFFj3yM5uWRh7","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-12T05:36:06Z","updated_at":"2023-12-12T05:36:06Z","author_association":"MEMBER","body":"> But I do think we need a new test to show that \"segments\" can return a non-null value. I think it should work now but I observed it didn't work on your first try. Basically, a new assertion; maybe a few lines to the existing metrics test.\r\n\r\nagreed. I added a few trivial assertions to the test.\r\n\r\n> I think it's hard to tell when we can simply look at isClosed() vs isNotOpen(). Maybe let's have a new method on the core like isReady()?\r\n\r\nintroduced `isReady()` and a best effort explanation as javadocs. please take a look and let me know if it can be explained better :) \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1851332731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1852329937","html_url":"https://github.com/apache/solr/pull/2146#issuecomment-1852329937","issue_url":"https://api.github.com/repos/apache/solr/issues/2146","id":1852329937,"node_id":"IC_kwDOFFj3yM5uaE_R","user":{"login":"mkhludnev","id":807522,"node_id":"MDQ6VXNlcjgwNzUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/807522?v=4","gravatar_id":"","url":"https://api.github.com/users/mkhludnev","html_url":"https://github.com/mkhludnev","followers_url":"https://api.github.com/users/mkhludnev/followers","following_url":"https://api.github.com/users/mkhludnev/following{/other_user}","gists_url":"https://api.github.com/users/mkhludnev/gists{/gist_id}","starred_url":"https://api.github.com/users/mkhludnev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkhludnev/subscriptions","organizations_url":"https://api.github.com/users/mkhludnev/orgs","repos_url":"https://api.github.com/users/mkhludnev/repos","events_url":"https://api.github.com/users/mkhludnev/events{/privacy}","received_events_url":"https://api.github.com/users/mkhludnev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-12T16:00:57Z","updated_at":"2023-12-12T16:00:57Z","author_association":"MEMBER","body":"Thanks, @AndreyBozhko ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1852329937/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1852819156","html_url":"https://github.com/apache/solr/pull/2024#issuecomment-1852819156","issue_url":"https://api.github.com/repos/apache/solr/issues/2024","id":1852819156,"node_id":"IC_kwDOFFj3yM5ub8bU","user":{"login":"AndreyBozhko","id":22246447,"node_id":"MDQ6VXNlcjIyMjQ2NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/22246447?v=4","gravatar_id":"","url":"https://api.github.com/users/AndreyBozhko","html_url":"https://github.com/AndreyBozhko","followers_url":"https://api.github.com/users/AndreyBozhko/followers","following_url":"https://api.github.com/users/AndreyBozhko/following{/other_user}","gists_url":"https://api.github.com/users/AndreyBozhko/gists{/gist_id}","starred_url":"https://api.github.com/users/AndreyBozhko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndreyBozhko/subscriptions","organizations_url":"https://api.github.com/users/AndreyBozhko/orgs","repos_url":"https://api.github.com/users/AndreyBozhko/repos","events_url":"https://api.github.com/users/AndreyBozhko/events{/privacy}","received_events_url":"https://api.github.com/users/AndreyBozhko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-12T21:12:38Z","updated_at":"2023-12-12T21:12:38Z","author_association":"CONTRIBUTOR","body":"Hi @epugh - could you please take a look once more?","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1852819156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1852831270","html_url":"https://github.com/apache/solr/pull/2024#issuecomment-1852831270","issue_url":"https://api.github.com/repos/apache/solr/issues/2024","id":1852831270,"node_id":"IC_kwDOFFj3yM5ub_Ym","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-12T21:22:41Z","updated_at":"2023-12-12T21:22:41Z","author_association":"CONTRIBUTOR","body":"Thank you @mkhludnev and @AndreyBozhko  for pinging me on this.  Really great to see our docs getting some :love:\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1852831270/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1853204160","html_url":"https://github.com/apache/solr/pull/2101#issuecomment-1853204160","issue_url":"https://api.github.com/repos/apache/solr/issues/2101","id":1853204160,"node_id":"IC_kwDOFFj3yM5udabA","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-13T03:19:09Z","updated_at":"2023-12-13T03:19:09Z","author_association":"MEMBER","body":"hmm, it seems the assertion introduced some chaos in the replication tests. will need to check.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1853204160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1854075362","html_url":"https://github.com/apache/solr/pull/1969#issuecomment-1854075362","issue_url":"https://api.github.com/repos/apache/solr/issues/1969","id":1854075362,"node_id":"IC_kwDOFFj3yM5ugvHi","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-13T14:59:03Z","updated_at":"2023-12-13T14:59:03Z","author_association":"CONTRIBUTOR","body":"This requires JDK 17, so must be targeted for main branch after we move to JDK17. Closing for now.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1854075362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1854108078","html_url":"https://github.com/apache/solr/pull/2125#issuecomment-1854108078","issue_url":"https://api.github.com/repos/apache/solr/issues/2125","id":1854108078,"node_id":"IC_kwDOFFj3yM5ug3Gu","user":{"login":"gerlowskija","id":9030708,"node_id":"MDQ6VXNlcjkwMzA3MDg=","avatar_url":"https://avatars.githubusercontent.com/u/9030708?v=4","gravatar_id":"","url":"https://api.github.com/users/gerlowskija","html_url":"https://github.com/gerlowskija","followers_url":"https://api.github.com/users/gerlowskija/followers","following_url":"https://api.github.com/users/gerlowskija/following{/other_user}","gists_url":"https://api.github.com/users/gerlowskija/gists{/gist_id}","starred_url":"https://api.github.com/users/gerlowskija/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerlowskija/subscriptions","organizations_url":"https://api.github.com/users/gerlowskija/orgs","repos_url":"https://api.github.com/users/gerlowskija/repos","events_url":"https://api.github.com/users/gerlowskija/events{/privacy}","received_events_url":"https://api.github.com/users/gerlowskija/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-13T15:14:23Z","updated_at":"2023-12-13T15:14:23Z","author_association":"CONTRIBUTOR","body":"> Agree a better name is solr-openapi-x.y.z\r\n\r\nOK, that makes sense.  Will make that change later this morning and merge.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1854108078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1854254524","html_url":"https://github.com/apache/solr/pull/1969#issuecomment-1854254524","issue_url":"https://api.github.com/repos/apache/solr/issues/1969","id":1854254524,"node_id":"IC_kwDOFFj3yM5uha28","user":{"login":"solrbot","id":125606113,"node_id":"U_kgDOB3yY4Q","avatar_url":"https://avatars.githubusercontent.com/u/125606113?v=4","gravatar_id":"","url":"https://api.github.com/users/solrbot","html_url":"https://github.com/solrbot","followers_url":"https://api.github.com/users/solrbot/followers","following_url":"https://api.github.com/users/solrbot/following{/other_user}","gists_url":"https://api.github.com/users/solrbot/gists{/gist_id}","starred_url":"https://api.github.com/users/solrbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/solrbot/subscriptions","organizations_url":"https://api.github.com/users/solrbot/orgs","repos_url":"https://api.github.com/users/solrbot/repos","events_url":"https://api.github.com/users/solrbot/events{/privacy}","received_events_url":"https://api.github.com/users/solrbot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-13T16:23:46Z","updated_at":"2023-12-13T16:23:46Z","author_association":"COLLABORATOR","body":"### Renovate Ignore Notification\n\nBecause you closed this PR without merging, Renovate will ignore this update. You will not get PRs for *any* future `2.x` releases. But if you manually upgrade to `2.x` then Renovate will re-enable `minor` and `patch` updates automatically.\n\nIf you accidentally closed this PR, or if you changed your mind: rename this PR to get a fresh replacement PR.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1854254524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1854772771","html_url":"https://github.com/apache/solr/pull/2145#issuecomment-1854772771","issue_url":"https://api.github.com/repos/apache/solr/issues/2145","id":1854772771,"node_id":"IC_kwDOFFj3yM5ujZYj","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-13T22:05:55Z","updated_at":"2023-12-13T22:05:55Z","author_association":"CONTRIBUTOR","body":"I get a gradle warning that the NOTICE file is not in use. I believe it is required only for ASL and BSD licenses, not for MIT. I don't think it hurts to keep it around though.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1854772771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1856373651","html_url":"https://github.com/apache/solr/pull/2154#issuecomment-1856373651","issue_url":"https://api.github.com/repos/apache/solr/issues/2154","id":1856373651,"node_id":"IC_kwDOFFj3yM5upgOT","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T18:29:13Z","updated_at":"2023-12-14T18:29:13Z","author_association":"CONTRIBUTOR","body":"Is this the only place where this is needed?  Or are there lots of directories similar?\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1856373651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1856382634","html_url":"https://github.com/apache/solr/pull/2154#issuecomment-1856382634","issue_url":"https://api.github.com/repos/apache/solr/issues/2154","id":1856382634,"node_id":"IC_kwDOFFj3yM5upiaq","user":{"login":"HoustonPutman","id":3376422,"node_id":"MDQ6VXNlcjMzNzY0MjI=","avatar_url":"https://avatars.githubusercontent.com/u/3376422?v=4","gravatar_id":"","url":"https://api.github.com/users/HoustonPutman","html_url":"https://github.com/HoustonPutman","followers_url":"https://api.github.com/users/HoustonPutman/followers","following_url":"https://api.github.com/users/HoustonPutman/following{/other_user}","gists_url":"https://api.github.com/users/HoustonPutman/gists{/gist_id}","starred_url":"https://api.github.com/users/HoustonPutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HoustonPutman/subscriptions","organizations_url":"https://api.github.com/users/HoustonPutman/orgs","repos_url":"https://api.github.com/users/HoustonPutman/repos","events_url":"https://api.github.com/users/HoustonPutman/events{/privacy}","received_events_url":"https://api.github.com/users/HoustonPutman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-14T18:33:27Z","updated_at":"2023-12-14T18:33:27Z","author_association":"CONTRIBUTOR","body":"Do you mean the restore code or the lib directories?\r\n\r\nFor the restore code, there might be more places we are writing user provided files, but I can't think of it.\r\n\r\nAs for the lib directories, this is all of them off of my head, but I could be missing a few. ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1856382634/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1857257832","html_url":"https://github.com/apache/solr/pull/2045#issuecomment-1857257832","issue_url":"https://api.github.com/repos/apache/solr/issues/2045","id":1857257832,"node_id":"IC_kwDOFFj3yM5us4Fo","user":{"login":"treygrainger","id":1043085,"node_id":"MDQ6VXNlcjEwNDMwODU=","avatar_url":"https://avatars.githubusercontent.com/u/1043085?v=4","gravatar_id":"","url":"https://api.github.com/users/treygrainger","html_url":"https://github.com/treygrainger","followers_url":"https://api.github.com/users/treygrainger/followers","following_url":"https://api.github.com/users/treygrainger/following{/other_user}","gists_url":"https://api.github.com/users/treygrainger/gists{/gist_id}","starred_url":"https://api.github.com/users/treygrainger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/treygrainger/subscriptions","organizations_url":"https://api.github.com/users/treygrainger/orgs","repos_url":"https://api.github.com/users/treygrainger/repos","events_url":"https://api.github.com/users/treygrainger/events{/privacy}","received_events_url":"https://api.github.com/users/treygrainger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-15T04:27:45Z","updated_at":"2023-12-15T04:27:45Z","author_association":"CONTRIBUTOR","body":"Thank you @dsmiley !","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1857257832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1857531973","html_url":"https://github.com/apache/solr/pull/2155#issuecomment-1857531973","issue_url":"https://api.github.com/repos/apache/solr/issues/2155","id":1857531973,"node_id":"IC_kwDOFFj3yM5ut7BF","user":{"login":"mkhludnev","id":807522,"node_id":"MDQ6VXNlcjgwNzUyMg==","avatar_url":"https://avatars.githubusercontent.com/u/807522?v=4","gravatar_id":"","url":"https://api.github.com/users/mkhludnev","html_url":"https://github.com/mkhludnev","followers_url":"https://api.github.com/users/mkhludnev/followers","following_url":"https://api.github.com/users/mkhludnev/following{/other_user}","gists_url":"https://api.github.com/users/mkhludnev/gists{/gist_id}","starred_url":"https://api.github.com/users/mkhludnev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkhludnev/subscriptions","organizations_url":"https://api.github.com/users/mkhludnev/orgs","repos_url":"https://api.github.com/users/mkhludnev/repos","events_url":"https://api.github.com/users/mkhludnev/events{/privacy}","received_events_url":"https://api.github.com/users/mkhludnev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-15T09:11:04Z","updated_at":"2023-12-15T09:11:04Z","author_association":"MEMBER","body":"thanks @mariemat ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1857531973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1857811258","html_url":"https://github.com/apache/solr/pull/1911#issuecomment-1857811258","issue_url":"https://api.github.com/repos/apache/solr/issues/1911","id":1857811258,"node_id":"IC_kwDOFFj3yM5uu_M6","user":{"login":"giancorderoortiz","id":46171897,"node_id":"MDQ6VXNlcjQ2MTcxODk3","avatar_url":"https://avatars.githubusercontent.com/u/46171897?v=4","gravatar_id":"","url":"https://api.github.com/users/giancorderoortiz","html_url":"https://github.com/giancorderoortiz","followers_url":"https://api.github.com/users/giancorderoortiz/followers","following_url":"https://api.github.com/users/giancorderoortiz/following{/other_user}","gists_url":"https://api.github.com/users/giancorderoortiz/gists{/gist_id}","starred_url":"https://api.github.com/users/giancorderoortiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/giancorderoortiz/subscriptions","organizations_url":"https://api.github.com/users/giancorderoortiz/orgs","repos_url":"https://api.github.com/users/giancorderoortiz/repos","events_url":"https://api.github.com/users/giancorderoortiz/events{/privacy}","received_events_url":"https://api.github.com/users/giancorderoortiz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-15T12:32:15Z","updated_at":"2023-12-15T12:32:15Z","author_association":"NONE","body":"This will help fix https://nvd.nist.gov/vuln/detail/CVE-2023-36478 for version 11.0.16 of Eclipse Jetty. \r\nSee https://github.com/jetty/jetty.project/releases/tag/jetty-11.0.16\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1857811258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1857911398","html_url":"https://github.com/apache/solr/pull/2066#issuecomment-1857911398","issue_url":"https://api.github.com/repos/apache/solr/issues/2066","id":1857911398,"node_id":"IC_kwDOFFj3yM5uvXpm","user":{"login":"gerlowskija","id":9030708,"node_id":"MDQ6VXNlcjkwMzA3MDg=","avatar_url":"https://avatars.githubusercontent.com/u/9030708?v=4","gravatar_id":"","url":"https://api.github.com/users/gerlowskija","html_url":"https://github.com/gerlowskija","followers_url":"https://api.github.com/users/gerlowskija/followers","following_url":"https://api.github.com/users/gerlowskija/following{/other_user}","gists_url":"https://api.github.com/users/gerlowskija/gists{/gist_id}","starred_url":"https://api.github.com/users/gerlowskija/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerlowskija/subscriptions","organizations_url":"https://api.github.com/users/gerlowskija/orgs","repos_url":"https://api.github.com/users/gerlowskija/repos","events_url":"https://api.github.com/users/gerlowskija/events{/privacy}","received_events_url":"https://api.github.com/users/gerlowskija/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-15T13:48:41Z","updated_at":"2023-12-15T13:48:41Z","author_association":"CONTRIBUTOR","body":"I've been thinking a bit about how to get this change in.  I imagine core-based URLs are pretty common in Solr - common enough that it'd be tough to switch them all over in this PR (or in any single PR).\r\n\r\nSo my thought was that this PR could stay pretty narrowly targeted on introducing the SolrClient and Builder plumbing, and that subsequent SOLR-17066 PRs would handle switching over various SolrClient instantiations to use this new plumbing.  Lmk if anyone can think of a better way to break this work up!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1857911398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1858062195","html_url":"https://github.com/apache/solr/pull/2066#issuecomment-1858062195","issue_url":"https://api.github.com/repos/apache/solr/issues/2066","id":1858062195,"node_id":"IC_kwDOFFj3yM5uv8dz","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-15T15:28:02Z","updated_at":"2023-12-15T15:28:02Z","author_association":"CONTRIBUTOR","body":"Makes sense!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1858062195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1858938602","html_url":"https://github.com/apache/solr/pull/2101#issuecomment-1858938602","issue_url":"https://api.github.com/repos/apache/solr/issues/2101","id":1858938602,"node_id":"IC_kwDOFFj3yM5uzSbq","user":{"login":"stillalex","id":61026,"node_id":"MDQ6VXNlcjYxMDI2","avatar_url":"https://avatars.githubusercontent.com/u/61026?v=4","gravatar_id":"","url":"https://api.github.com/users/stillalex","html_url":"https://github.com/stillalex","followers_url":"https://api.github.com/users/stillalex/followers","following_url":"https://api.github.com/users/stillalex/following{/other_user}","gists_url":"https://api.github.com/users/stillalex/gists{/gist_id}","starred_url":"https://api.github.com/users/stillalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stillalex/subscriptions","organizations_url":"https://api.github.com/users/stillalex/orgs","repos_url":"https://api.github.com/users/stillalex/repos","events_url":"https://api.github.com/users/stillalex/events{/privacy}","received_events_url":"https://api.github.com/users/stillalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-16T21:57:47Z","updated_at":"2023-12-16T21:57:47Z","author_association":"MEMBER","body":"finally had some time to look at the failures. turns out the counter idea was not the best because metrics can be disabled (seems the case for the failing replication tests where the counter is `org.apache.solr.metrics.MetricSuppliers$NoOpCounterSupplier$NoOpCounter@53f7aac1`) so the `isReady` check will fail.\r\nI am running out of ideas, so I introduced a dedicated variable to track if the init is completed.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1858938602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1859728625","html_url":"https://github.com/apache/solr/pull/2045#issuecomment-1859728625","issue_url":"https://api.github.com/repos/apache/solr/issues/2045","id":1859728625,"node_id":"IC_kwDOFFj3yM5u2TTx","user":{"login":"noah-dbc","id":56879983,"node_id":"MDQ6VXNlcjU2ODc5OTgz","avatar_url":"https://avatars.githubusercontent.com/u/56879983?v=4","gravatar_id":"","url":"https://api.github.com/users/noah-dbc","html_url":"https://github.com/noah-dbc","followers_url":"https://api.github.com/users/noah-dbc/followers","following_url":"https://api.github.com/users/noah-dbc/following{/other_user}","gists_url":"https://api.github.com/users/noah-dbc/gists{/gist_id}","starred_url":"https://api.github.com/users/noah-dbc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noah-dbc/subscriptions","organizations_url":"https://api.github.com/users/noah-dbc/orgs","repos_url":"https://api.github.com/users/noah-dbc/repos","events_url":"https://api.github.com/users/noah-dbc/events{/privacy}","received_events_url":"https://api.github.com/users/noah-dbc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-18T08:04:12Z","updated_at":"2023-12-18T08:04:12Z","author_association":"NONE","body":"Thanks, @dsmiley - looking forward to it! :pray: ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1859728625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1860910591","html_url":"https://github.com/apache/solr/pull/2158#issuecomment-1860910591","issue_url":"https://api.github.com/repos/apache/solr/issues/2158","id":1860910591,"node_id":"IC_kwDOFFj3yM5u6z3_","user":{"login":"jdyer1","id":6341181,"node_id":"MDQ6VXNlcjYzNDExODE=","avatar_url":"https://avatars.githubusercontent.com/u/6341181?v=4","gravatar_id":"","url":"https://api.github.com/users/jdyer1","html_url":"https://github.com/jdyer1","followers_url":"https://api.github.com/users/jdyer1/followers","following_url":"https://api.github.com/users/jdyer1/following{/other_user}","gists_url":"https://api.github.com/users/jdyer1/gists{/gist_id}","starred_url":"https://api.github.com/users/jdyer1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdyer1/subscriptions","organizations_url":"https://api.github.com/users/jdyer1/orgs","repos_url":"https://api.github.com/users/jdyer1/repos","events_url":"https://api.github.com/users/jdyer1/events{/privacy}","received_events_url":"https://api.github.com/users/jdyer1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-18T16:05:04Z","updated_at":"2023-12-18T16:05:04Z","author_association":"CONTRIBUTOR","body":"@mkhludnev  With this log4j file added, if I run the test with `-Ptests.verbose=true`, solr.log gets outputted to stdout.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1860910591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1862282707","html_url":"https://github.com/apache/solr/pull/2163#issuecomment-1862282707","issue_url":"https://api.github.com/repos/apache/solr/issues/2163","id":1862282707,"node_id":"IC_kwDOFFj3yM5vAC3T","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-19T07:57:51Z","updated_at":"2023-12-19T07:57:51Z","author_association":"CONTRIBUTOR","body":"Thanks!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1862282707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1863182688","html_url":"https://github.com/apache/solr/pull/1996#issuecomment-1863182688","issue_url":"https://api.github.com/repos/apache/solr/issues/1996","id":1863182688,"node_id":"IC_kwDOFFj3yM5vDelg","user":{"login":"justinrsweeney","id":25032688,"node_id":"MDQ6VXNlcjI1MDMyNjg4","avatar_url":"https://avatars.githubusercontent.com/u/25032688?v=4","gravatar_id":"","url":"https://api.github.com/users/justinrsweeney","html_url":"https://github.com/justinrsweeney","followers_url":"https://api.github.com/users/justinrsweeney/followers","following_url":"https://api.github.com/users/justinrsweeney/following{/other_user}","gists_url":"https://api.github.com/users/justinrsweeney/gists{/gist_id}","starred_url":"https://api.github.com/users/justinrsweeney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinrsweeney/subscriptions","organizations_url":"https://api.github.com/users/justinrsweeney/orgs","repos_url":"https://api.github.com/users/justinrsweeney/repos","events_url":"https://api.github.com/users/justinrsweeney/events{/privacy}","received_events_url":"https://api.github.com/users/justinrsweeney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-19T17:16:04Z","updated_at":"2023-12-19T17:16:04Z","author_association":"CONTRIBUTOR","body":"> My concern is duplication of logic between SolrReturnFields. If you think it's not an issue or is impossible to reconcile, then I trust you.\r\n\r\nI finally got back around to this. With the latest change, ExportWriter is using SolrReturnFields which in turn is using GlobPatternUtil so there is a consistent approach there.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1863182688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1863431065","html_url":"https://github.com/apache/solr/pull/1996#issuecomment-1863431065","issue_url":"https://api.github.com/repos/apache/solr/issues/1996","id":1863431065,"node_id":"IC_kwDOFFj3yM5vEbOZ","user":{"login":"justinrsweeney","id":25032688,"node_id":"MDQ6VXNlcjI1MDMyNjg4","avatar_url":"https://avatars.githubusercontent.com/u/25032688?v=4","gravatar_id":"","url":"https://api.github.com/users/justinrsweeney","html_url":"https://github.com/justinrsweeney","followers_url":"https://api.github.com/users/justinrsweeney/followers","following_url":"https://api.github.com/users/justinrsweeney/following{/other_user}","gists_url":"https://api.github.com/users/justinrsweeney/gists{/gist_id}","starred_url":"https://api.github.com/users/justinrsweeney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinrsweeney/subscriptions","organizations_url":"https://api.github.com/users/justinrsweeney/orgs","repos_url":"https://api.github.com/users/justinrsweeney/repos","events_url":"https://api.github.com/users/justinrsweeney/events{/privacy}","received_events_url":"https://api.github.com/users/justinrsweeney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-19T20:29:58Z","updated_at":"2023-12-19T20:29:58Z","author_association":"CONTRIBUTOR","body":"@risdenk Pinging for re-review when you have a chance","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1863431065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1864549057","html_url":"https://github.com/apache/solr/pull/2164#issuecomment-1864549057","issue_url":"https://api.github.com/repos/apache/solr/issues/2164","id":1864549057,"node_id":"IC_kwDOFFj3yM5vIsLB","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-20T14:16:24Z","updated_at":"2023-12-20T14:16:24Z","author_association":"CONTRIBUTOR","body":"Thank you for the fix!  I debated keeping this content, but until we do a overhaul of all the docker related stuff, we need working links!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1864549057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1866724918","html_url":"https://github.com/apache/solr/pull/1217#issuecomment-1866724918","issue_url":"https://api.github.com/repos/apache/solr/issues/1217","id":1866724918,"node_id":"IC_kwDOFFj3yM5vQ_Y2","user":{"login":"mtchorz","id":4405725,"node_id":"MDQ6VXNlcjQ0MDU3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/4405725?v=4","gravatar_id":"","url":"https://api.github.com/users/mtchorz","html_url":"https://github.com/mtchorz","followers_url":"https://api.github.com/users/mtchorz/followers","following_url":"https://api.github.com/users/mtchorz/following{/other_user}","gists_url":"https://api.github.com/users/mtchorz/gists{/gist_id}","starred_url":"https://api.github.com/users/mtchorz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mtchorz/subscriptions","organizations_url":"https://api.github.com/users/mtchorz/orgs","repos_url":"https://api.github.com/users/mtchorz/repos","events_url":"https://api.github.com/users/mtchorz/events{/privacy}","received_events_url":"https://api.github.com/users/mtchorz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-21T18:05:02Z","updated_at":"2023-12-21T18:17:05Z","author_association":"NONE","body":"@epugh After deprecating [setAliveCheckInterval](https://github.com/apache/solr/blob/releases/solr/9.4.0/solr/solrj/src/java/org/apache/solr/client/solrj/impl/LBSolrClient.java#L450), how I can set aliveCheckInterval for internal [LBHttp2SolrClient](https://github.com/apache/solr/blob/releases/solr/9.4.0/solr/solrj/src/java/org/apache/solr/client/solrj/impl/CloudHttp2SolrClient.java#L44C19-L44C19) when I am using CloudHttp2SolrClient for solr 9.x ?\r\n\r\nCloudHttp2SolrClient Builder does not provide a way to create LBHttp2SolrClient (most probably I would be cumbersome because it needs Http2SolrClient).","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1866724918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1867001842","html_url":"https://github.com/apache/solr/pull/2168#issuecomment-1867001842","issue_url":"https://api.github.com/repos/apache/solr/issues/2168","id":1867001842,"node_id":"IC_kwDOFFj3yM5vSC_y","user":{"login":"solrbot","id":125606113,"node_id":"U_kgDOB3yY4Q","avatar_url":"https://avatars.githubusercontent.com/u/125606113?v=4","gravatar_id":"","url":"https://api.github.com/users/solrbot","html_url":"https://github.com/solrbot","followers_url":"https://api.github.com/users/solrbot/followers","following_url":"https://api.github.com/users/solrbot/following{/other_user}","gists_url":"https://api.github.com/users/solrbot/gists{/gist_id}","starred_url":"https://api.github.com/users/solrbot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/solrbot/subscriptions","organizations_url":"https://api.github.com/users/solrbot/orgs","repos_url":"https://api.github.com/users/solrbot/repos","events_url":"https://api.github.com/users/solrbot/events{/privacy}","received_events_url":"https://api.github.com/users/solrbot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-21T22:20:15Z","updated_at":"2023-12-21T22:20:15Z","author_association":"COLLABORATOR","body":"###  Artifact update problem\n\nRenovate failed to update an artifact related to this branch. You probably do not want to merge this PR as-is.\n\n Renovate will retry this branch, including artifacts, only when one of the following happens:\n\n - any of the package files in this branch needs updating, or \n - the branch becomes conflicted, or\n - you click the rebase/retry checkbox if found above, or\n - you rename this PR's title to start with \"rebase!\" to trigger it manually\n\nThe artifact failure details are included below:\n\n##### File name: undefined\n\n```\nCommand failed: ./gradlew updateLicenses\nSLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/schema/DenseVectorField.java:20: error: cannot find symbol\nimport static org.apache.lucene.codecs.lucene95.Lucene95HnswVectorsFormat.DEFAULT_BEAM_WIDTH;\n                                               ^\n  symbol:   class Lucene95HnswVectorsFormat\n  location: package org.apache.lucene.codecs.lucene95\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/schema/DenseVectorField.java:20: error: static import only from classes and interfaces\nimport static org.apache.lucene.codecs.lucene95.Lucene95HnswVectorsFormat.DEFAULT_BEAM_WIDTH;\n^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/schema/DenseVectorField.java:21: error: cannot find symbol\nimport static org.apache.lucene.codecs.lucene95.Lucene95HnswVectorsFormat.DEFAULT_MAX_CONN;\n                                               ^\n  symbol:   class Lucene95HnswVectorsFormat\n  location: package org.apache.lucene.codecs.lucene95\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/schema/DenseVectorField.java:21: error: static import only from classes and interfaces\nimport static org.apache.lucene.codecs.lucene95.Lucene95HnswVectorsFormat.DEFAULT_MAX_CONN;\n^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:29: error: cannot find symbol\nimport org.apache.lucene.codecs.lucene95.Lucene95Codec;\n                                        ^\n  symbol:   class Lucene95Codec\n  location: package org.apache.lucene.codecs.lucene95\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:30: error: package org.apache.lucene.codecs.lucene95.Lucene95Codec does not exist\nimport org.apache.lucene.codecs.lucene95.Lucene95Codec.Mode;\n                                                      ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:31: error: cannot find symbol\nimport org.apache.lucene.codecs.lucene95.Lucene95HnswVectorsFormat;\n                                        ^\n  symbol:   class Lucene95HnswVectorsFormat\n  location: package org.apache.lucene.codecs.lucene95\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:57: error: cannot find symbol\n  public static final Mode SOLR_DEFAULT_COMPRESSION_MODE = Mode.BEST_SPEED;\n                      ^\n  symbol:   class Mode\n  location: class SchemaCodecFactory\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/schema/RandomSortField.java:112: error: <anonymous org.apache.solr.schema.RandomSortField$1> is not abstract and does not override abstract method newComparator(String,int,Pruning,boolean) in FieldComparatorSource\n      new FieldComparatorSource() {\n                                  ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/schema/RandomSortField.java:113: error: method does not override or implement a method from a supertype\n        @Override\n        ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/handler/component/QueryElevationComponent.java:1329: error: ElevationComparatorSource is not abstract and does not override abstract method newComparator(String,int,Pruning,boolean) in FieldComparatorSource\n  private static class ElevationComparatorSource extends FieldComparatorSource {\n                 ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/handler/component/QueryElevationComponent.java:1351: error: method does not override or implement a method from a supertype\n    @Override\n    ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/search/CollapsingQParserPlugin.java:3586: error: incompatible types: boolean cannot be converted to Pruning\n        fieldComparators[clause] = sf.getComparator(1, clause == 0);\n                                                              ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/search/join/ChildFieldValueSourceParser.java:126: error: method does not override or implement a method from a supertype\n        @Override\n        ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/search/join/ChildFieldValueSourceParser.java:128: error: incompatible types: boolean cannot be converted to Pruning\n          final FieldComparator<?> comparator = super.getComparator(numHits, enableSkipping);\n                                                                             ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/index/SlowCompositeReaderWrapper.java:100: error: constructor LeafMetaData in class LeafMetaData cannot be applied to given types;\n      metaData = new LeafMetaData(Version.LATEST.major, Version.LATEST, null);\n                 ^\n  required: int,Version,Sort,boolean\n  found:    int,Version,<null>\n  reason: actual and formal argument lists differ in length\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/index/SlowCompositeReaderWrapper.java:114: error: constructor LeafMetaData in class LeafMetaData cannot be applied to given types;\n      metaData = new LeafMetaData(createdVersionMajor, minVersion, null);\n                 ^\n  required: int,Version,Sort,boolean\n  found:    int,Version,<null>\n  reason: actual and formal argument lists differ in length\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/schema/DenseVectorField.java:144: error: cannot find symbol\n        ofNullable(args.get(HNSW_MAX_CONNECTIONS)).map(Integer::parseInt).orElse(DEFAULT_MAX_CONN);\n                                                                                 ^\n  symbol:   variable DEFAULT_MAX_CONN\n  location: class DenseVectorField\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/schema/DenseVectorField.java:148: error: cannot find symbol\n        ofNullable(args.get(HNSW_BEAM_WIDTH)).map(Integer::parseInt).orElse(DEFAULT_BEAM_WIDTH);\n                                                                            ^\n  symbol:   variable DEFAULT_BEAM_WIDTH\n  location: class DenseVectorField\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/schema/LatLonPointSpatialField.java:273: error: incompatible types: boolean cannot be converted to Pruning\n              (FieldComparator<Double>) getSortField(false).getComparator(1, false);\n                                                                             ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/schema/LatLonPointSpatialField.java:273: warning: [cast] redundant cast to FieldComparator<Double>\n              (FieldComparator<Double>) getSortField(false).getComparator(1, false);\n              ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:57: error: cannot find symbol\n  public static final Mode SOLR_DEFAULT_COMPRESSION_MODE = Mode.BEST_SPEED;\n                                                           ^\n  symbol:   variable Mode\n  location: class SchemaCodecFactory\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:82: error: cannot find symbol\n    Mode compressionMode;\n    ^\n  symbol:   class Mode\n  location: class SchemaCodecFactory\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:85: error: cannot find symbol\n        compressionMode = Mode.valueOf(compressionModeStr.toUpperCase(Locale.ROOT));\n                          ^\n  symbol:   variable Mode\n  location: class SchemaCodecFactory\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:92: error: cannot find symbol\n                + Arrays.toString(Mode.values()));\n                                  ^\n  symbol:   variable Mode\n  location: class SchemaCodecFactory\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:100: error: cannot find symbol\n        new Lucene95Codec(compressionMode) {\n            ^\n  symbol:   class Lucene95Codec\n  location: class SchemaCodecFactory\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:101: error: method does not override or implement a method from a supertype\n          @Override\n          ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:110: error: cannot find symbol\n            return super.getPostingsFormatForField(field);\n                        ^\n  symbol: method getPostingsFormatForField(String)\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:113: error: method does not override or implement a method from a supertype\n          @Override\n          ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:122: error: cannot find symbol\n            return super.getDocValuesFormatForField(field);\n                        ^\n  symbol: method getDocValuesFormatForField(String)\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:125: error: method does not override or implement a method from a supertype\n          @Override\n          ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:135: error: cannot find symbol\n                var delegate = new Lucene95HnswVectorsFormat(maxConn, beamWidth);\n                                   ^\n  symbol: class Lucene95HnswVectorsFormat\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/core/SchemaCodecFactory.java:142: error: cannot find symbol\n            return super.getKnnVectorsFormatForField(field);\n                        ^\n  symbol: method getKnnVectorsFormatForField(String)\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/handler/component/ShardFieldSortedHitQueue.java:159: error: incompatible types: boolean cannot be converted to Pruning\n    final FieldComparator fieldComparator = sortField.getComparator(0, true);\n                                                                       ^\n/tmp/renovate/repos/github/apache/solr/solr/core/src/java/org/apache/solr/handler/component/QueryComponent.java:500: error: incompatible types: boolean cannot be converted to Pruning\n          FieldComparator<?> comparator = sortField.getComparator(1, true);\n                                                                     ^\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some messages have been simplified; recompile with -Xdiags:verbose to get full output\n34 errors\n1 warning\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':solr:core:compileJava'.\n> Compilation failed; see the compiler error output for details.\n\n* Try:\n> Run with --info option to get more log output.\n\nBUILD FAILED in 37s\n\n```\n\n","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1867001842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1867982966","html_url":"https://github.com/apache/solr/pull/2057#issuecomment-1867982966","issue_url":"https://api.github.com/repos/apache/solr/issues/2057","id":1867982966,"node_id":"IC_kwDOFFj3yM5vVyh2","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-22T18:47:51Z","updated_at":"2023-12-22T18:47:51Z","author_association":"CONTRIBUTOR","body":"Proposed in 9.5 bug fix:\r\n\r\nSOLR-17108: Prometheus Exporter: don't throw NPE; gracefully handle no metrics\r\n\r\nI'll merge in January.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1867982966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1868368064","html_url":"https://github.com/apache/solr/pull/1935#issuecomment-1868368064","issue_url":"https://api.github.com/repos/apache/solr/issues/1935","id":1868368064,"node_id":"IC_kwDOFFj3yM5vXQjA","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-23T20:49:47Z","updated_at":"2023-12-23T20:49:47Z","author_association":"CONTRIBUTOR","body":"@HoustonPutman Thanks to your BATS ssl tests, we caught a problem in this PR. Needed to exclude all `SOLR_SSL_*` vars from auto conversion to SysProp.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1868368064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1868557774","html_url":"https://github.com/apache/solr/pull/2126#issuecomment-1868557774","issue_url":"https://api.github.com/repos/apache/solr/issues/2126","id":1868557774,"node_id":"IC_kwDOFFj3yM5vX-3O","user":{"login":"pvcnt","id":944506,"node_id":"MDQ6VXNlcjk0NDUwNg==","avatar_url":"https://avatars.githubusercontent.com/u/944506?v=4","gravatar_id":"","url":"https://api.github.com/users/pvcnt","html_url":"https://github.com/pvcnt","followers_url":"https://api.github.com/users/pvcnt/followers","following_url":"https://api.github.com/users/pvcnt/following{/other_user}","gists_url":"https://api.github.com/users/pvcnt/gists{/gist_id}","starred_url":"https://api.github.com/users/pvcnt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvcnt/subscriptions","organizations_url":"https://api.github.com/users/pvcnt/orgs","repos_url":"https://api.github.com/users/pvcnt/repos","events_url":"https://api.github.com/users/pvcnt/events{/privacy}","received_events_url":"https://api.github.com/users/pvcnt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-24T16:56:22Z","updated_at":"2023-12-24T16:56:22Z","author_association":"CONTRIBUTOR","body":"@dsmiley Ill have a more detailed look after my holidays. But one thing we should consider is that this PR follows a different design than what I did for replica placement plugins. For the latter, what goes inside solr.xml is applied as a first layer, and then cluster plugins as overrides. Here its one or the other, if my understanding is correct.\r\n\r\nI believe this PR is heading towards a promising direction, but we should make sure that cluster singletons and replica placement plugins are at least configured the same.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1868557774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1868940975","html_url":"https://github.com/apache/solr/pull/1935#issuecomment-1868940975","issue_url":"https://api.github.com/repos/apache/solr/issues/1935","id":1868940975,"node_id":"IC_kwDOFFj3yM5vZcav","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-25T11:31:42Z","updated_at":"2023-12-25T11:31:42Z","author_association":"CONTRIBUTOR","body":"Disabled locking and tests pass. I seem to recall that the GlobalCircuitBreaker tests would break. Ill try some beasting over Christmas..","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1868940975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1869822343","html_url":"https://github.com/apache/solr/pull/1935#issuecomment-1869822343","issue_url":"https://api.github.com/repos/apache/solr/issues/1935","id":1869822343,"node_id":"IC_kwDOFFj3yM5vczmH","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-12-26T23:36:07Z","updated_at":"2023-12-26T23:36:07Z","author_association":"CONTRIBUTOR","body":"Could not make the CB tests fail with beasting. So I fully removed all locking code. We'll soon discover if there are issues.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1869822343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1874248462","html_url":"https://github.com/apache/solr/pull/2144#issuecomment-1874248462","issue_url":"https://api.github.com/repos/apache/solr/issues/2144","id":1874248462,"node_id":"IC_kwDOFFj3yM5vtsMO","user":{"login":"gerlowskija","id":9030708,"node_id":"MDQ6VXNlcjkwMzA3MDg=","avatar_url":"https://avatars.githubusercontent.com/u/9030708?v=4","gravatar_id":"","url":"https://api.github.com/users/gerlowskija","html_url":"https://github.com/gerlowskija","followers_url":"https://api.github.com/users/gerlowskija/followers","following_url":"https://api.github.com/users/gerlowskija/following{/other_user}","gists_url":"https://api.github.com/users/gerlowskija/gists{/gist_id}","starred_url":"https://api.github.com/users/gerlowskija/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerlowskija/subscriptions","organizations_url":"https://api.github.com/users/gerlowskija/orgs","repos_url":"https://api.github.com/users/gerlowskija/repos","events_url":"https://api.github.com/users/gerlowskija/events{/privacy}","received_events_url":"https://api.github.com/users/gerlowskija/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-02T16:25:50Z","updated_at":"2024-01-02T16:25:50Z","author_association":"CONTRIBUTOR","body":"Hey - sorry for the delay in reviewing this over the holidays.  Taking a look now!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1874248462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1874249196","html_url":"https://github.com/apache/solr/pull/2128#issuecomment-1874249196","issue_url":"https://api.github.com/repos/apache/solr/issues/2128","id":1874249196,"node_id":"IC_kwDOFFj3yM5vtsXs","user":{"login":"gerlowskija","id":9030708,"node_id":"MDQ6VXNlcjkwMzA3MDg=","avatar_url":"https://avatars.githubusercontent.com/u/9030708?v=4","gravatar_id":"","url":"https://api.github.com/users/gerlowskija","html_url":"https://github.com/gerlowskija","followers_url":"https://api.github.com/users/gerlowskija/followers","following_url":"https://api.github.com/users/gerlowskija/following{/other_user}","gists_url":"https://api.github.com/users/gerlowskija/gists{/gist_id}","starred_url":"https://api.github.com/users/gerlowskija/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gerlowskija/subscriptions","organizations_url":"https://api.github.com/users/gerlowskija/orgs","repos_url":"https://api.github.com/users/gerlowskija/repos","events_url":"https://api.github.com/users/gerlowskija/events{/privacy}","received_events_url":"https://api.github.com/users/gerlowskija/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-02T16:26:23Z","updated_at":"2024-01-02T16:26:23Z","author_association":"CONTRIBUTOR","body":"Hey - sorry for the delay in reviewing this over the holidays.  Taking a look now!","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1874249196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1874355480","html_url":"https://github.com/apache/solr/pull/2171#issuecomment-1874355480","issue_url":"https://api.github.com/repos/apache/solr/issues/2171","id":1874355480,"node_id":"IC_kwDOFFj3yM5vuGUY","user":{"login":"epugh","id":22395,"node_id":"MDQ6VXNlcjIyMzk1","avatar_url":"https://avatars.githubusercontent.com/u/22395?v=4","gravatar_id":"","url":"https://api.github.com/users/epugh","html_url":"https://github.com/epugh","followers_url":"https://api.github.com/users/epugh/followers","following_url":"https://api.github.com/users/epugh/following{/other_user}","gists_url":"https://api.github.com/users/epugh/gists{/gist_id}","starred_url":"https://api.github.com/users/epugh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/epugh/subscriptions","organizations_url":"https://api.github.com/users/epugh/orgs","repos_url":"https://api.github.com/users/epugh/repos","events_url":"https://api.github.com/users/epugh/events{/privacy}","received_events_url":"https://api.github.com/users/epugh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-02T17:55:47Z","updated_at":"2024-01-02T17:55:47Z","author_association":"CONTRIBUTOR","body":"I have frequently asked \"where are the links\", so this is great...","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1874355480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1875068088","html_url":"https://github.com/apache/solr/pull/2175#issuecomment-1875068088","issue_url":"https://api.github.com/repos/apache/solr/issues/2175","id":1875068088,"node_id":"IC_kwDOFFj3yM5vw0S4","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-03T09:27:48Z","updated_at":"2024-01-03T09:27:48Z","author_association":"CONTRIBUTOR","body":"First attempt in efadf94dc6ac87027ef708c71c58d3848e7a9a0d:\r\n\r\nNave solution, explicitly calling `inform()` in `FieldTypePluginLoader`. The two tests from JIRA are added to this PR to demonstrate. \r\n\r\nThere may be a more elegant place to do the init. We risk double inform if not using SPI since we don't check that here. Perhaps there is some method somewhere that could be called on the entire chain instead of in each init(), such as the one in `ManagedIndexSchema#informResourceLoaderAwareObjectsInChain()`. I did not dive deep here. Open to suggestions from folks who know the code better.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1875068088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1875084210","html_url":"https://github.com/apache/solr/pull/2175#issuecomment-1875084210","issue_url":"https://api.github.com/repos/apache/solr/issues/2175","id":1875084210,"node_id":"IC_kwDOFFj3yM5vw4Oy","user":{"login":"janhoy","id":409128,"node_id":"MDQ6VXNlcjQwOTEyOA==","avatar_url":"https://avatars.githubusercontent.com/u/409128?v=4","gravatar_id":"","url":"https://api.github.com/users/janhoy","html_url":"https://github.com/janhoy","followers_url":"https://api.github.com/users/janhoy/followers","following_url":"https://api.github.com/users/janhoy/following{/other_user}","gists_url":"https://api.github.com/users/janhoy/gists{/gist_id}","starred_url":"https://api.github.com/users/janhoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janhoy/subscriptions","organizations_url":"https://api.github.com/users/janhoy/orgs","repos_url":"https://api.github.com/users/janhoy/repos","events_url":"https://api.github.com/users/janhoy/events{/privacy}","received_events_url":"https://api.github.com/users/janhoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-03T09:39:58Z","updated_at":"2024-01-03T09:39:58Z","author_association":"CONTRIBUTOR","body":"Second attempt:\r\n\r\nThe first attempt did not work for packages, since `FieldTypePluginLoader#init` was too early in the cycle to initialize analyzers from packages.\r\n\r\nManaged schema handled the missing `inform` call after SPI already, so moved the method `informResourceLoaderAwareObjectsForFieldType` from `ManagedIndexSchema` to `IndexSchema` and use it at the end of `IndexSchema#readSchema`. All tests pass.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1875084210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1875774998","html_url":"https://github.com/apache/solr/pull/2126#issuecomment-1875774998","issue_url":"https://api.github.com/repos/apache/solr/issues/2126","id":1875774998,"node_id":"IC_kwDOFFj3yM5vzg4W","user":{"login":"pjmcarthur","id":92818583,"node_id":"U_kgDOBYhMlw","avatar_url":"https://avatars.githubusercontent.com/u/92818583?v=4","gravatar_id":"","url":"https://api.github.com/users/pjmcarthur","html_url":"https://github.com/pjmcarthur","followers_url":"https://api.github.com/users/pjmcarthur/followers","following_url":"https://api.github.com/users/pjmcarthur/following{/other_user}","gists_url":"https://api.github.com/users/pjmcarthur/gists{/gist_id}","starred_url":"https://api.github.com/users/pjmcarthur/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjmcarthur/subscriptions","organizations_url":"https://api.github.com/users/pjmcarthur/orgs","repos_url":"https://api.github.com/users/pjmcarthur/repos","events_url":"https://api.github.com/users/pjmcarthur/events{/privacy}","received_events_url":"https://api.github.com/users/pjmcarthur/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-03T18:14:50Z","updated_at":"2024-01-03T18:14:50Z","author_association":"CONTRIBUTOR","body":"@pvcnt @dsmiley I think there should be a follow-up PR that addresses the replica placement plugin. My understanding is that from a user's perspective, the configuration of solr.xml wrt. the placement plugin would remain as it is, but the internal mechanics of instantiating the RPP factory would change to align with this PR. I would be able to commit to doing this follow-up PR if it is deemed the right path forward. ","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1875774998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1875808589","html_url":"https://github.com/apache/solr/pull/2126#issuecomment-1875808589","issue_url":"https://api.github.com/repos/apache/solr/issues/2126","id":1875808589,"node_id":"IC_kwDOFFj3yM5vzpFN","user":{"login":"pvcnt","id":944506,"node_id":"MDQ6VXNlcjk0NDUwNg==","avatar_url":"https://avatars.githubusercontent.com/u/944506?v=4","gravatar_id":"","url":"https://api.github.com/users/pvcnt","html_url":"https://github.com/pvcnt","followers_url":"https://api.github.com/users/pvcnt/followers","following_url":"https://api.github.com/users/pvcnt/following{/other_user}","gists_url":"https://api.github.com/users/pvcnt/gists{/gist_id}","starred_url":"https://api.github.com/users/pvcnt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvcnt/subscriptions","organizations_url":"https://api.github.com/users/pvcnt/orgs","repos_url":"https://api.github.com/users/pvcnt/repos","events_url":"https://api.github.com/users/pvcnt/events{/privacy}","received_events_url":"https://api.github.com/users/pvcnt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-03T18:44:31Z","updated_at":"2024-01-03T18:44:31Z","author_association":"CONTRIBUTOR","body":"I don't know when Solr 9.5 is going to be released, but IMHO we should make sure that it is not released with two different ways of configuring a cluster plugin in solr.xml, or even not released with a new way of configuring a cluster plugin in solr.xml that would be changing in Solr 9.6 (hence breaking backwards compatibility, etc.). I would hence be in favour of either doing both in a single PR, or starting by refactoring replica placement plugins. It would be a good exercice to validate that the approach can be extended to other cluster plugins.\r\n\r\nThe more philosophical question I have is about the behaviour. Do we want to be able to choose between solr.xml and plugin API (this PR) or to layer the latter on top of the former (my previous PR). I don't have a strong opinion on this, but that is a structuring question I believe.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1875808589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1876136104","html_url":"https://github.com/apache/solr/pull/2126#issuecomment-1876136104","issue_url":"https://api.github.com/repos/apache/solr/issues/2126","id":1876136104,"node_id":"IC_kwDOFFj3yM5v05Co","user":{"login":"dsmiley","id":377295,"node_id":"MDQ6VXNlcjM3NzI5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/377295?v=4","gravatar_id":"","url":"https://api.github.com/users/dsmiley","html_url":"https://github.com/dsmiley","followers_url":"https://api.github.com/users/dsmiley/followers","following_url":"https://api.github.com/users/dsmiley/following{/other_user}","gists_url":"https://api.github.com/users/dsmiley/gists{/gist_id}","starred_url":"https://api.github.com/users/dsmiley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dsmiley/subscriptions","organizations_url":"https://api.github.com/users/dsmiley/orgs","repos_url":"https://api.github.com/users/dsmiley/repos","events_url":"https://api.github.com/users/dsmiley/events{/privacy}","received_events_url":"https://api.github.com/users/dsmiley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-04T00:09:15Z","updated_at":"2024-01-04T00:09:15Z","author_association":"CONTRIBUTOR","body":"Agreed that 9.5 should not be released without reconciling the two approaches.\r\n\r\nI think I would prefer to revert SOLR-17079 as it exists today, then merge this PR SOLR-17096 (after whatever changes in the review process), then do a quick (?) follow-up PR for SOLR-17079 to return the essential functionality building on what's here.  Do you think that hypothetical PR would be straight-forward?  You raised concerns a while back that what Paul is doing here would maybe be too much work, if I recall.\r\n\r\nI don't think it's important/necessary to layer them as you did for replica placement.  That adds greater support requirements (testing that both can be used coherently) and nobody has asked for that.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1876136104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1876760283","html_url":"https://github.com/apache/solr/pull/2128#issuecomment-1876760283","issue_url":"https://api.github.com/repos/apache/solr/issues/2128","id":1876760283,"node_id":"IC_kwDOFFj3yM5v3Rbb","user":{"login":"iamsanjay","id":6595915,"node_id":"MDQ6VXNlcjY1OTU5MTU=","avatar_url":"https://avatars.githubusercontent.com/u/6595915?v=4","gravatar_id":"","url":"https://api.github.com/users/iamsanjay","html_url":"https://github.com/iamsanjay","followers_url":"https://api.github.com/users/iamsanjay/followers","following_url":"https://api.github.com/users/iamsanjay/following{/other_user}","gists_url":"https://api.github.com/users/iamsanjay/gists{/gist_id}","starred_url":"https://api.github.com/users/iamsanjay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamsanjay/subscriptions","organizations_url":"https://api.github.com/users/iamsanjay/orgs","repos_url":"https://api.github.com/users/iamsanjay/repos","events_url":"https://api.github.com/users/iamsanjay/events{/privacy}","received_events_url":"https://api.github.com/users/iamsanjay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-04T09:19:07Z","updated_at":"2024-01-04T09:19:07Z","author_association":"CONTRIBUTOR","body":"Also, I saw some APIs override the below method to mark it expensive. I believe, MERGEINDEXES is kind of expensive.\r\n```\r\nboolean isExpensive() {\r\n    return false;\r\n  }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1876760283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/solr/issues/comments/1876907601","html_url":"https://github.com/apache/solr/pull/2126#issuecomment-1876907601","issue_url":"https://api.github.com/repos/apache/solr/issues/2126","id":1876907601,"node_id":"IC_kwDOFFj3yM5v31ZR","user":{"login":"pvcnt","id":944506,"node_id":"MDQ6VXNlcjk0NDUwNg==","avatar_url":"https://avatars.githubusercontent.com/u/944506?v=4","gravatar_id":"","url":"https://api.github.com/users/pvcnt","html_url":"https://github.com/pvcnt","followers_url":"https://api.github.com/users/pvcnt/followers","following_url":"https://api.github.com/users/pvcnt/following{/other_user}","gists_url":"https://api.github.com/users/pvcnt/gists{/gist_id}","starred_url":"https://api.github.com/users/pvcnt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvcnt/subscriptions","organizations_url":"https://api.github.com/users/pvcnt/orgs","repos_url":"https://api.github.com/users/pvcnt/repos","events_url":"https://api.github.com/users/pvcnt/events{/privacy}","received_events_url":"https://api.github.com/users/pvcnt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-04T11:02:00Z","updated_at":"2024-01-04T11:02:00Z","author_association":"CONTRIBUTOR","body":"I believe it would still be interesting to have at least two different plugin types to validate that the generic approach is really generic, and what it takes to add a new type of plugin.\r\n\r\nAnother remark, it seems that there is no validation that a `<clusterSingleton/>` tag does indeed defines a cluster singleton. I believe the following would work and define a replica placement plugin:\r\n\r\n```xml\r\n<clusterSingleton name=\".placement-plugin\" class=\"org.apache.solr.cluster.placement.plugins.AffinityPlacementFactory\"/>\r\n```\r\n\r\nThis is why in SOLR-17079 we decided to go with an ad-hoc solution (i.e., one for every possible cluster plugin) instead of the generic solution. Otherwise, we are back to my initial proposal which is to have an untype `<plugin/>` tag in `solr.xml`, which is essentially what this PR does.","reactions":{"url":"https://api.github.com/repos/apache/solr/issues/comments/1876907601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]