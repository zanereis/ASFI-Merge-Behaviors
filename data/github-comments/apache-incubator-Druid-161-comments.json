[{"url":"https://api.github.com/repos/apache/druid/issues/comments/333629856","html_url":"https://github.com/apache/druid/pull/4848#issuecomment-333629856","issue_url":"https://api.github.com/repos/apache/druid/issues/4848","id":333629856,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzYyOTg1Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T18:53:27Z","updated_at":"2017-10-02T18:53:27Z","author_association":"CONTRIBUTOR","body":"From TPC EULA (http://www.tpc.org/tpc_documents_current_versions/source/tpc_eula.txt):\r\n\r\n> 4. Restrictions. The following restrictions apply to all use of the Materials by You.\r\n> a. General: You may not: (i) use, copy, print, modify, adapt, create derivative \r\n>works from, market, deliver, rent, lease, sublicense, make, have made, assign, pledge, transfer, \r\n>sell, offer to sell, import, reproduce, distribute, publicly perform, publicly display or otherwise \r\n>grant rights to the Materials, or any copy thereof, in whole or in part, except as expressly \r\n>permitted under this Agreement; (ii) use the Materials in any way that does not comply with all \r\n>applicable laws and regulations; or (iii) submit or contribute the Materials, or any part thereof, to \r\n>any open source software project or as part of any third-party software or project without the \r\n>express written consent of the TPC chair. \r\n\r\nPart a.iii. clearly forbids submitting \"the Materials\" to an OSS project. To my eye it's not clear if this includes data files generated by the program, but I would say better safe than sorry, and let's not include it.\r\n\r\nWe can use @jon-wei's test case instead.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333629856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333636636","html_url":"https://github.com/apache/druid/pull/4509#issuecomment-333636636","issue_url":"https://api.github.com/repos/apache/druid/issues/4509","id":333636636,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzYzNjYzNg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T19:18:22Z","updated_at":"2017-10-02T19:18:22Z","author_association":"MEMBER","body":"I think there is still a problem and this patch should be merged","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333636636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333636821","html_url":"https://github.com/apache/druid/pull/4886#issuecomment-333636821","issue_url":"https://api.github.com/repos/apache/druid/issues/4886","id":333636821,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzYzNjgyMQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T19:19:05Z","updated_at":"2017-10-02T19:19:05Z","author_association":"CONTRIBUTOR","body":"@leventov, re:\r\n\r\n> This PR fails on tests in SchemaEvolutionTest. According to them, numeric aggregation (e. g. longSum) on string dimension column should result to zeros, but currently with this PR it leads to exception. @himanshug @gianm what do you think it should do?\r\n\r\nI commented on https://github.com/druid-io/druid/issues/4888#issuecomment-333610705 in more detail but wanted to add here that SchemaEvolutionTest's purpose is to make sure you can change types of columns for newer segments and have the query system handle that elegantly. It isn't flawless right now (for example you would probably expect a \"sum\" aggregator of a string column to parse the strings, rather than return zero) but it works well for dimensions.\r\n\r\n> in the long term/general, what do you think about Druid to be \"weakly typed\", a-la MySQL, vs \"strongly typed\", a-la PostgreSQL?\r\n\r\nI see it as being even weaker than MySQL on a table level. MySQL has a table-wide schema and I don't see Druid as ever requiring that.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333636821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333646046","html_url":"https://github.com/apache/druid/issues/4888#issuecomment-333646046","issue_url":"https://api.github.com/repos/apache/druid/issues/4888","id":333646046,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzY0NjA0Ng==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T19:54:27Z","updated_at":"2017-10-02T19:54:27Z","author_association":"CONTRIBUTOR","body":"consistently doing (3) makes sense to me too specially to behave well with schema migration.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333646046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333649686","html_url":"https://github.com/apache/druid/pull/4848#issuecomment-333649686","issue_url":"https://api.github.com/repos/apache/druid/issues/4848","id":333649686,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzY0OTY4Ng==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T20:07:57Z","updated_at":"2017-10-02T20:07:57Z","author_association":"CONTRIBUTOR","body":"After merging master today, the test in this PR and in my comment pass even when `replaceInput()` is not implemented.\r\n\r\nProbably related to changes from https://github.com/druid-io/druid/pull/4846.\r\n\r\n`replaceInput()` should be implemented for `DruidOuterQueryRel` and `DruidSemiJoin`, but since we don't have a test case to verify the behavior anymore, I'm moving this out of 0.11.0.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333649686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333651611","html_url":"https://github.com/apache/druid/issues/4841#issuecomment-333651611","issue_url":"https://api.github.com/repos/apache/druid/issues/4841","id":333651611,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzY1MTYxMQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T20:15:33Z","updated_at":"2017-10-02T20:15:33Z","author_association":"CONTRIBUTOR","body":"sorry, I don't have first hand experience with AWS but here are a few observations...\r\n\r\n@sata Also, I checked 0.10.1 archive available for download at http://druid.io/downloads.html and it does contain `druid-0.10.1/extensions/druid-hdfs-storage/hadoop-aws-2.7.3.jar` so not sure why you had to manually pull it. Are you building druid yourself or using the archive available ? i hope you did not download it into `druid-0.10.1/lib` folder which created the conflict.\r\nalso, do you add any hadoop jars explicitly on the druid process classpath ?\r\n\r\nhowever, in case of clear conflict bug, this failure would happen every time so it would have been caught in manual testing of s3a use , @b-slim have you seen above error in your testing of 0.10.1 and s3a ?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333651611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333659386","html_url":"https://github.com/apache/druid/pull/4885#issuecomment-333659386","issue_url":"https://api.github.com/repos/apache/druid/issues/4885","id":333659386,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzY1OTM4Ng==","user":{"login":"niketh","id":626548,"node_id":"MDQ6VXNlcjYyNjU0OA==","avatar_url":"https://avatars.githubusercontent.com/u/626548?v=4","gravatar_id":"","url":"https://api.github.com/users/niketh","html_url":"https://github.com/niketh","followers_url":"https://api.github.com/users/niketh/followers","following_url":"https://api.github.com/users/niketh/following{/other_user}","gists_url":"https://api.github.com/users/niketh/gists{/gist_id}","starred_url":"https://api.github.com/users/niketh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketh/subscriptions","organizations_url":"https://api.github.com/users/niketh/orgs","repos_url":"https://api.github.com/users/niketh/repos","events_url":"https://api.github.com/users/niketh/events{/privacy}","received_events_url":"https://api.github.com/users/niketh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T20:44:38Z","updated_at":"2017-10-02T20:44:38Z","author_association":"CONTRIBUTOR","body":"Do we need another strategy here? This can be implemented using the `JavaScriptWorkerSelectStrategy`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333659386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333665153","html_url":"https://github.com/apache/druid/pull/4885#issuecomment-333665153","issue_url":"https://api.github.com/repos/apache/druid/issues/4885","id":333665153,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzY2NTE1Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T21:06:16Z","updated_at":"2017-10-02T21:06:16Z","author_association":"CONTRIBUTOR","body":"I think it makes sense to have a feature for this, it's useful behavior and the JS strategy has a pretty high barrier to entry since users must write a script to get it to work. And besides, some people disable JS for security reasons.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333665153/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333671389","html_url":"https://github.com/apache/druid/pull/4686#issuecomment-333671389","issue_url":"https://api.github.com/repos/apache/druid/issues/4686","id":333671389,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzY3MTM4OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T21:31:35Z","updated_at":"2017-10-02T21:31:35Z","author_association":"CONTRIBUTOR","body":"@praveev have you got time to fix the conflicts and the DetermineCardinalityReducer behavior in advance of the dev sync call tomorrow?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333671389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333672710","html_url":"https://github.com/apache/druid/pull/4870#issuecomment-333672710","issue_url":"https://api.github.com/repos/apache/druid/issues/4870","id":333672710,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzY3MjcxMA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T21:37:40Z","updated_at":"2017-10-02T21:37:40Z","author_association":"CONTRIBUTOR","body":"@gianm merged and fixed conflicts, thanks","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333672710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333679432","html_url":"https://github.com/apache/druid/pull/4870#issuecomment-333679432","issue_url":"https://api.github.com/repos/apache/druid/issues/4870","id":333679432,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzY3OTQzMg==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T22:08:51Z","updated_at":"2017-10-02T22:08:51Z","author_association":"MEMBER","body":"@jon-wei does this need to be backported to 0.11.0 ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333679432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333680231","html_url":"https://github.com/apache/druid/pull/4870#issuecomment-333680231","issue_url":"https://api.github.com/repos/apache/druid/issues/4870","id":333680231,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzY4MDIzMQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T22:13:05Z","updated_at":"2017-10-02T22:13:05Z","author_association":"CONTRIBUTOR","body":"@pjain1 Hm, it'd be nice to have, but 0.11.0 is code-frozen and this isn't a bug fix, so let's keep it out","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333680231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333688044","html_url":"https://github.com/apache/druid/pull/4890#issuecomment-333688044","issue_url":"https://api.github.com/repos/apache/druid/issues/4890","id":333688044,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzY4ODA0NA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T22:53:46Z","updated_at":"2017-10-02T22:53:46Z","author_association":"CONTRIBUTOR","body":"@gianm can you go in a little deeper on the motivation here? \r\n\r\nPreviously the druid stuff was solely dedicated to indexing. Is the purpose here to add in more advanced ETL because people don't want to run more than one type of \"worker\"? or is it because there's common very primitive ETLs that will help 85% of use cases you see?\r\n\r\nAs an alternative, what if we had more \"indexing\" extensions that plugged into different data writers or data syncs of different systems. Like a spark writer / hadoop output format. Or stuff specialized for certain other data processing frameworks? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333688044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333695838","html_url":"https://github.com/apache/druid/pull/4890#issuecomment-333695838","issue_url":"https://api.github.com/repos/apache/druid/issues/4890","id":333695838,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzY5NTgzOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-02T23:39:17Z","updated_at":"2017-10-02T23:41:39Z","author_association":"CONTRIBUTOR","body":"@drcrallen The motivation is to add some very basic stateless transforms to the Druid indexer to save people from the cost and hassle of running extra jobs when they want to do something basic. It's the same idea as the flattenSpec that exists for JSON and Avro.\r\n\r\nSome examples of problems that this solves:\r\n\r\n- I have a field called \"url\" but I only want to index the domain -> use a regexp_extract expression\r\n- I have two fields, \"firstName\" and \"lastName\" but I want to index them as a pair -> use a concat expression\r\n- I have two time columns (perhaps start time and settlement time for a transaction), I want one to be the primary timestamp but I want to store the other as an int64 dimension -> use a timestamp_parse expression\r\n- I want to normalize some field to lowercase -> use a lower expression\r\n- I have a field called \"eventType\" and I only want to index type \"beepBoop\" -> use a selector filter\r\n\r\nFor people that are just trying to plug Kafka streams into Druid and don't have stream processing infrastructure set up, this capability is huge. (A lot of people have pretty bare bones setups)\r\n\r\nEven for people that do have a stream processor set up, this approach is cheaper, since it doesn't require setting aside capacity in Kafka for processing and retention of the transformed topic.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333695838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333715252","html_url":"https://github.com/apache/druid/issues/4841#issuecomment-333715252","issue_url":"https://api.github.com/repos/apache/druid/issues/4841","id":333715252,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzcxNTI1Mg==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T01:45:11Z","updated_at":"2017-10-03T01:45:11Z","author_association":"CONTRIBUTOR","body":"@sata are you using the HDFS module to write segments to S3A support?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333715252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333722576","html_url":"https://github.com/apache/druid/pull/4848#issuecomment-333722576","issue_url":"https://api.github.com/repos/apache/druid/issues/4848","id":333722576,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzcyMjU3Ng==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T02:40:22Z","updated_at":"2017-10-03T02:41:33Z","author_association":"CONTRIBUTOR","body":"@jon-wei @gianm thank you for the review. \r\n\r\n> Part a.iii. clearly forbids submitting \"the Materials\" to an OSS project. To my eye it's not clear if this includes data files generated by the program, but I would say better safe than sorry, and let's not include it.\r\n\r\n@gianm I was thinking to send a check email to TPC. If it's not allowed, we can use https://github.com/airlift/tpch alternatively.\r\n\r\n> After merging master today, the test in this PR and in my comment pass even when replaceInput() is not implemented.\r\n\r\n@jon-wei interesting. However, I guess it could be possible for replaceInput() to be called for planning complicated queries. What do you think about adding only replaceInput() implementation first in this pr, and then adding unit tests later?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333722576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333724727","html_url":"https://github.com/apache/druid/pull/4848#issuecomment-333724727","issue_url":"https://api.github.com/repos/apache/druid/issues/4848","id":333724727,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzcyNDcyNw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T02:56:57Z","updated_at":"2017-10-03T02:56:57Z","author_association":"CONTRIBUTOR","body":"@jihoonson I think if we merge we should go ahead and keep the test, since it is something that should pass regardless of whether this bug exists, and when backported to 0.11.0 would verify the fix in that release.\r\n\r\n@gianm and I also briefly discussed keeping this unmerged and backporting #4846 to 0.11.0, and seeing if the issue reappears. \r\n\r\n@gianm, any thoughts on what you think the best option is?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333724727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333726688","html_url":"https://github.com/apache/druid/pull/4885#issuecomment-333726688","issue_url":"https://api.github.com/repos/apache/druid/issues/4885","id":333726688,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzcyNjY4OA==","user":{"login":"silverbullet233","id":3675229,"node_id":"MDQ6VXNlcjM2NzUyMjk=","avatar_url":"https://avatars.githubusercontent.com/u/3675229?v=4","gravatar_id":"","url":"https://api.github.com/users/silverbullet233","html_url":"https://github.com/silverbullet233","followers_url":"https://api.github.com/users/silverbullet233/followers","following_url":"https://api.github.com/users/silverbullet233/following{/other_user}","gists_url":"https://api.github.com/users/silverbullet233/gists{/gist_id}","starred_url":"https://api.github.com/users/silverbullet233/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/silverbullet233/subscriptions","organizations_url":"https://api.github.com/users/silverbullet233/orgs","repos_url":"https://api.github.com/users/silverbullet233/repos","events_url":"https://api.github.com/users/silverbullet233/events{/privacy}","received_events_url":"https://api.github.com/users/silverbullet233/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T03:13:28Z","updated_at":"2017-10-03T03:13:28Z","author_association":"NONE","body":"Affinity strategies can only isolate tasks based on data sources. Often, in the production environment, we will simultaneously capture data through real-time tasks, offline task validation data, real-time tasks will be higher priority, but this strategy can not be based on the type of task to do isolation, may lead to the problem is Offline tasks occupy slots and real-time tasks can only wait. Taking into account the task ID generation rules are fixed, we can through the restrictive strategy to achieve this effect.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333726688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333729809","html_url":"https://github.com/apache/druid/pull/4848#issuecomment-333729809","issue_url":"https://api.github.com/repos/apache/druid/issues/4848","id":333729809,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzcyOTgwOQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T03:38:14Z","updated_at":"2017-10-03T03:40:22Z","author_association":"CONTRIBUTOR","body":"I think it's best to merge this, with the test, since like you said: even if the test doesn't verify this code anymore, it's still a query that should work. And also, even if we can't find a test case, this is still a legitimate bug.\r\n\r\nSo that means to fix the bug in 0.11.0 we should backport #4846 and this. (And actually #4846 fixes another bug so that's good to backport for that reason)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333729809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333729888","html_url":"https://github.com/apache/druid/pull/4848#issuecomment-333729888","issue_url":"https://api.github.com/repos/apache/druid/issues/4848","id":333729888,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzcyOTg4OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T03:38:43Z","updated_at":"2017-10-03T03:38:43Z","author_association":"CONTRIBUTOR","body":"I'll mark the milestone back to 0.11.0 while this is being figured out.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333729888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333730027","html_url":"https://github.com/apache/druid/pull/4848#issuecomment-333730027","issue_url":"https://api.github.com/repos/apache/druid/issues/4848","id":333730027,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzczMDAyNw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T03:39:54Z","updated_at":"2017-10-03T03:39:54Z","author_association":"CONTRIBUTOR","body":"And actually, if we do merge this now, I think it's best to do it with @jon-wei's test rather than the TPC one, so we don't have to worry about or wait for clarification of permission from TPC.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333730027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333735322","html_url":"https://github.com/apache/druid/pull/4848#issuecomment-333735322","issue_url":"https://api.github.com/repos/apache/druid/issues/4848","id":333735322,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzczNTMyMg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T04:25:41Z","updated_at":"2017-10-03T04:25:41Z","author_association":"CONTRIBUTOR","body":"@jon-wei @gianm thanks for the comment. I added @jon-wei's unit test instead of that for TPC-H lineitem.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333735322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333766534","html_url":"https://github.com/apache/druid/pull/4762#issuecomment-333766534","issue_url":"https://api.github.com/repos/apache/druid/issues/4762","id":333766534,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzc2NjUzNA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T07:49:01Z","updated_at":"2017-10-03T07:49:01Z","author_association":"CONTRIBUTOR","body":"I finished my first pass review. I'll do another pass in couple of days.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333766534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333834248","html_url":"https://github.com/apache/druid/pull/4815#issuecomment-333834248","issue_url":"https://api.github.com/repos/apache/druid/issues/4815","id":333834248,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzgzNDI0OA==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T13:01:35Z","updated_at":"2017-10-03T13:01:35Z","author_association":"MEMBER","body":"Added fix for #4743 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333834248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333869616","html_url":"https://github.com/apache/druid/issues/4896#issuecomment-333869616","issue_url":"https://api.github.com/repos/apache/druid/issues/4896","id":333869616,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzg2OTYxNg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T14:58:46Z","updated_at":"2017-10-03T14:58:46Z","author_association":"MEMBER","body":"Thank you. How the publicness of the API is determined? In Druid we have `@PublicApi` and `@ExtensionPoint` annotations for that.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333869616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333873966","html_url":"https://github.com/apache/druid/pull/4881#issuecomment-333873966","issue_url":"https://api.github.com/repos/apache/druid/issues/4881","id":333873966,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzg3Mzk2Ng==","user":{"login":"Igosuki","id":406150,"node_id":"MDQ6VXNlcjQwNjE1MA==","avatar_url":"https://avatars.githubusercontent.com/u/406150?v=4","gravatar_id":"","url":"https://api.github.com/users/Igosuki","html_url":"https://github.com/Igosuki","followers_url":"https://api.github.com/users/Igosuki/followers","following_url":"https://api.github.com/users/Igosuki/following{/other_user}","gists_url":"https://api.github.com/users/Igosuki/gists{/gist_id}","starred_url":"https://api.github.com/users/Igosuki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Igosuki/subscriptions","organizations_url":"https://api.github.com/users/Igosuki/orgs","repos_url":"https://api.github.com/users/Igosuki/repos","events_url":"https://api.github.com/users/Igosuki/events{/privacy}","received_events_url":"https://api.github.com/users/Igosuki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T15:11:54Z","updated_at":"2017-10-03T15:11:54Z","author_association":"CONTRIBUTOR","body":"@gianm done","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333873966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333875562","html_url":"https://github.com/apache/druid/pull/4890#issuecomment-333875562","issue_url":"https://api.github.com/repos/apache/druid/issues/4890","id":333875562,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzg3NTU2Mg==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T15:16:59Z","updated_at":"2017-10-03T15:16:59Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333875562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333884828","html_url":"https://github.com/apache/druid/pull/4885#issuecomment-333884828","issue_url":"https://api.github.com/repos/apache/druid/issues/4885","id":333884828,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzg4NDgyOA==","user":{"login":"silverbullet233","id":3675229,"node_id":"MDQ6VXNlcjM2NzUyMjk=","avatar_url":"https://avatars.githubusercontent.com/u/3675229?v=4","gravatar_id":"","url":"https://api.github.com/users/silverbullet233","html_url":"https://github.com/silverbullet233","followers_url":"https://api.github.com/users/silverbullet233/followers","following_url":"https://api.github.com/users/silverbullet233/following{/other_user}","gists_url":"https://api.github.com/users/silverbullet233/gists{/gist_id}","starred_url":"https://api.github.com/users/silverbullet233/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/silverbullet233/subscriptions","organizations_url":"https://api.github.com/users/silverbullet233/orgs","repos_url":"https://api.github.com/users/silverbullet233/repos","events_url":"https://api.github.com/users/silverbullet233/events{/privacy}","received_events_url":"https://api.github.com/users/silverbullet233/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T15:46:53Z","updated_at":"2017-10-03T15:46:53Z","author_association":"NONE","body":"In accordance with your recommendations, I have made changes to the code and documentation, please review again, thank you:)  @gianm \r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333884828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333906905","html_url":"https://github.com/apache/druid/pull/4704#issuecomment-333906905","issue_url":"https://api.github.com/repos/apache/druid/issues/4704","id":333906905,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzkwNjkwNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T16:47:21Z","updated_at":"2017-10-03T16:48:32Z","author_association":"CONTRIBUTOR","body":"@jihoonson When I run the tests on this branch locally through `mvn test` on my Mac, I get this error:\r\n\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test (default-test) on project druid-processing: Execution default-test of goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test failed: java.lang.RuntimeException: java.io.FileNotFoundException: /Users/gian/Documents/imply/src/druid/processing/target/surefire-reports/io.druid.query.groupby.epinephelinae.ConcurrentGrouperTest-output.txt (Too many open files in system) -> [Help 1]\r\n```\r\n\r\nMy max files setting is already pretty large:\r\n\r\n```\r\n$ sysctl kern.maxfiles\r\nkern.maxfiles: 12288\r\n```\r\n\r\nIs the ConcurrentGrouperTest doing something that opens a really big number of files?\r\n\r\nFwiw, the tests pass after raising the setting:\r\n\r\n```\r\n$ sudo sysctl -w kern.maxfiles=20480\r\nkern.maxfiles: 12288 -> 20480\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333906905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333921751","html_url":"https://github.com/apache/druid/pull/4889#issuecomment-333921751","issue_url":"https://api.github.com/repos/apache/druid/issues/4889","id":333921751,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzkyMTc1MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T17:39:23Z","updated_at":"2017-10-03T17:39:23Z","author_association":"CONTRIBUTOR","body":"Just merged master into this branch and found that the test added in #4848 fails with this patch. I'm not sure why, but it may be connected to the Calcite upgrade.\r\n\r\n```\r\nTests run: 167, Failures: 0, Errors: 1, Skipped: 4, Time elapsed: 38.066 sec <<< FAILURE! - in io.druid.sql.calcite.CalciteQueryTest\r\ntestNestedGroupBy(io.druid.sql.calcite.CalciteQueryTest)  Time elapsed: 0.113 sec  <<< ERROR!\r\norg.apache.calcite.tools.ValidationException: org.apache.calcite.runtime.CalciteContextException: From line 2, column 11 to line 2, column 16: Expression 'EXPR$0.__time' is not being grouped\r\n\tat org.apache.calcite.prepare.PlannerImpl.validate(PlannerImpl.java:195)\r\n\tat io.druid.sql.calcite.planner.DruidPlanner.plan(DruidPlanner.java:112)\r\n\tat io.druid.sql.calcite.planner.DruidPlanner.plan(DruidPlanner.java:97)\r\n\tat io.druid.sql.calcite.CalciteQueryTest.getResults(CalciteQueryTest.java:5814)\r\n\tat io.druid.sql.calcite.CalciteQueryTest.testQuery(CalciteQueryTest.java:5773)\r\n\tat io.druid.sql.calcite.CalciteQueryTest.testQuery(CalciteQueryTest.java:5744)\r\n\tat io.druid.sql.calcite.CalciteQueryTest.testNestedGroupBy(CalciteQueryTest.java:3332)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat org.junit.rules.ExternalResource$1.evaluate(ExternalResource.java:48)\r\n\tat io.druid.sql.calcite.util.QueryLogHook$1.evaluate(QueryLogHook.java:101)\r\n\tat org.junit.rules.RunRules.evaluate(RunRules.java:20)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:367)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:274)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:161)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:290)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:242)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:121)\r\nCaused by: org.apache.calcite.runtime.CalciteContextException: From line 2, column 11 to line 2, column 16: Expression 'EXPR$0.__time' is not being grouped\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat org.apache.calcite.runtime.Resources$ExInstWithCause.ex(Resources.java:463)\r\n\tat org.apache.calcite.sql.SqlUtil.newContextException(SqlUtil.java:803)\r\n\tat org.apache.calcite.sql.SqlUtil.newContextException(SqlUtil.java:788)\r\n\tat org.apache.calcite.sql.validate.SqlValidatorImpl.newValidationError(SqlValidatorImpl.java:4654)\r\n\tat org.apache.calcite.sql.validate.AggChecker.visit(AggChecker.java:117)\r\n\tat org.apache.calcite.sql.validate.AggChecker.visit(AggChecker.java:41)\r\n\tat org.apache.calcite.sql.SqlIdentifier.accept(SqlIdentifier.java:344)\r\n\tat org.apache.calcite.sql.util.SqlBasicVisitor$ArgHandlerImpl.visitChild(SqlBasicVisitor.java:123)\r\n\tat org.apache.calcite.sql.SqlOperator.acceptCall(SqlOperator.java:859)\r\n\tat org.apache.calcite.sql.validate.AggChecker.visit(AggChecker.java:212)\r\n\tat org.apache.calcite.sql.validate.AggChecker.visit(AggChecker.java:41)\r\n\tat org.apache.calcite.sql.SqlCall.accept(SqlCall.java:138)\r\n\tat org.apache.calcite.sql.util.SqlBasicVisitor$ArgHandlerImpl.visitChild(SqlBasicVisitor.java:123)\r\n\tat org.apache.calcite.sql.SqlAsOperator.acceptCall(SqlAsOperator.java:121)\r\n\tat org.apache.calcite.sql.validate.AggChecker.visit(AggChecker.java:212)\r\n\tat org.apache.calcite.sql.validate.AggChecker.visit(AggChecker.java:41)\r\n\tat org.apache.calcite.sql.SqlCall.accept(SqlCall.java:138)\r\n\tat org.apache.calcite.sql.validate.AggregatingSelectScope.checkAggregateExpr(AggregatingSelectScope.java:231)\r\n\tat org.apache.calcite.sql.validate.AggregatingSelectScope.validateExpr(AggregatingSelectScope.java:240)\r\n\tat org.apache.calcite.sql.validate.SqlValidatorImpl.validateExpr(SqlValidatorImpl.java:4016)\r\n\tat org.apache.calcite.sql.validate.SqlValidatorImpl.validateSelectList(SqlValidatorImpl.java:3989)\r\n\tat org.apache.calcite.sql.validate.SqlValidatorImpl.validateSelect(SqlValidatorImpl.java:3218)\r\n\tat org.apache.calcite.sql.validate.SelectNamespace.validateImpl(SelectNamespace.java:60)\r\n\tat org.apache.calcite.sql.validate.AbstractNamespace.validate(AbstractNamespace.java:84)\r\n\tat org.apache.calcite.sql.validate.SqlValidatorImpl.validateNamespace(SqlValidatorImpl.java:945)\r\n\tat org.apache.calcite.sql.validate.SqlValidatorImpl.validateQuery(SqlValidatorImpl.java:926)\r\n\tat org.apache.calcite.sql.SqlSelect.validate(SqlSelect.java:226)\r\n\tat org.apache.calcite.sql.validate.SqlValidatorImpl.validateScopedExpression(SqlValidatorImpl.java:901)\r\n\tat org.apache.calcite.sql.validate.SqlValidatorImpl.validate(SqlValidatorImpl.java:611)\r\n\tat org.apache.calcite.prepare.PlannerImpl.validate(PlannerImpl.java:193)\r\n\t... 35 more\r\nCaused by: org.apache.calcite.sql.validate.SqlValidatorException: Expression 'EXPR$0.__time' is not being grouped\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat org.apache.calcite.runtime.Resources$ExInstWithCause.ex(Resources.java:463)\r\n\tat org.apache.calcite.runtime.Resources$ExInst.ex(Resources.java:572)\r\n\t... 64 more\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333921751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333957660","html_url":"https://github.com/apache/druid/pull/4894#issuecomment-333957660","issue_url":"https://api.github.com/repos/apache/druid/issues/4894","id":333957660,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzk1NzY2MA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T19:49:46Z","updated_at":"2017-10-03T19:49:46Z","author_association":"MEMBER","body":"Need backport?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333957660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333962606","html_url":"https://github.com/apache/druid/pull/4894#issuecomment-333962606","issue_url":"https://api.github.com/repos/apache/druid/issues/4894","id":333962606,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzk2MjYwNg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T20:07:34Z","updated_at":"2017-10-03T20:07:34Z","author_association":"CONTRIBUTOR","body":"@leventov thanks for reminding, yes it should be backported actually. @AlexanderSaydakov can you backport it to 0.11.0 branch ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333962606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333963948","html_url":"https://github.com/apache/druid/pull/4900#issuecomment-333963948","issue_url":"https://api.github.com/repos/apache/druid/issues/4900","id":333963948,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzk2Mzk0OA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T20:12:50Z","updated_at":"2017-10-03T20:12:50Z","author_association":"CONTRIBUTOR","body":":+1:\r\n\r\n@jon-wei a bit unrelated, but can you add client's hostname/ip-address in the error messages created so that we have a shot of knowing where the request came from and consequently try to find who is trying those (in case intent is malicious )? thanks.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333963948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333974866","html_url":"https://github.com/apache/druid/pull/4900#issuecomment-333974866","issue_url":"https://api.github.com/repos/apache/druid/issues/4900","id":333974866,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzk3NDg2Ng==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T20:52:43Z","updated_at":"2017-10-03T20:52:43Z","author_association":"CONTRIBUTOR","body":"@himanshug added the client IP/hostname to the log message in that situation","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333974866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/333990060","html_url":"https://github.com/apache/druid/pull/4902#issuecomment-333990060","issue_url":"https://api.github.com/repos/apache/druid/issues/4902","id":333990060,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzk5MDA2MA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-03T21:52:49Z","updated_at":"2017-10-03T21:52:49Z","author_association":"CONTRIBUTOR","body":":+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/333990060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334072764","html_url":"https://github.com/apache/druid/issues/4896#issuecomment-334072764","issue_url":"https://api.github.com/repos/apache/druid/issues/4896","id":334072764,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDA3Mjc2NA==","user":{"login":"lvc","id":1517837,"node_id":"MDQ6VXNlcjE1MTc4Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/1517837?v=4","gravatar_id":"","url":"https://api.github.com/users/lvc","html_url":"https://github.com/lvc","followers_url":"https://api.github.com/users/lvc/followers","following_url":"https://api.github.com/users/lvc/following{/other_user}","gists_url":"https://api.github.com/users/lvc/gists{/gist_id}","starred_url":"https://api.github.com/users/lvc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lvc/subscriptions","organizations_url":"https://api.github.com/users/lvc/orgs","repos_url":"https://api.github.com/users/lvc/repos","events_url":"https://api.github.com/users/lvc/events{/privacy}","received_events_url":"https://api.github.com/users/lvc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T07:32:37Z","updated_at":"2017-10-04T07:32:37Z","author_association":"NONE","body":"In this report, Public API==\"Methods, classes and interfaces with public or protected access level\". In the next release of Druid I'll filter out private symbols from the report with the help of annotations.\r\n\r\nThank you.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334072764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334183155","html_url":"https://github.com/apache/druid/pull/4889#issuecomment-334183155","issue_url":"https://api.github.com/repos/apache/druid/issues/4889","id":334183155,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDE4MzE1NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T14:56:19Z","updated_at":"2017-10-04T14:56:19Z","author_association":"CONTRIBUTOR","body":"Noticed that this test passes if group-by-alias is disabled in DruidConformance. So I think it's a regression in Calcite; I'm looking into that. In the meantime I may just disable group-by-alias for this patch, since it wasn't supported beforehand anyway, so no loss there.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334183155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334183779","html_url":"https://github.com/apache/druid/pull/4903#issuecomment-334183779","issue_url":"https://api.github.com/repos/apache/druid/issues/4903","id":334183779,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDE4Mzc3OQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T14:58:12Z","updated_at":"2017-10-04T14:58:12Z","author_association":"CONTRIBUTOR","body":"@kevinconaway looks good, are you using tranquility and making updates to that so that each tranquility client gets a unique producerId when running in a distributed environment (e.g. Storm) ? or are you managing tasks using some other system and in that case how is producerId assignment handled?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334183779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334186536","html_url":"https://github.com/apache/druid/pull/4903#issuecomment-334186536","issue_url":"https://api.github.com/repos/apache/druid/issues/4903","id":334186536,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDE4NjUzNg==","user":{"login":"kevinconaway","id":6921953,"node_id":"MDQ6VXNlcjY5MjE5NTM=","avatar_url":"https://avatars.githubusercontent.com/u/6921953?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinconaway","html_url":"https://github.com/kevinconaway","followers_url":"https://api.github.com/users/kevinconaway/followers","following_url":"https://api.github.com/users/kevinconaway/following{/other_user}","gists_url":"https://api.github.com/users/kevinconaway/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinconaway/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinconaway/subscriptions","organizations_url":"https://api.github.com/users/kevinconaway/orgs","repos_url":"https://api.github.com/users/kevinconaway/repos","events_url":"https://api.github.com/users/kevinconaway/events{/privacy}","received_events_url":"https://api.github.com/users/kevinconaway/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T15:06:04Z","updated_at":"2017-10-04T15:06:04Z","author_association":"CONTRIBUTOR","body":">  are you using tranquility and making updates to that so that each tranquility client gets a unique producerId \r\n\r\nSimilar to this, yes.\r\n\r\nWe have a dedicated writer per task and that task gets a unique producer ID","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334186536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334189602","html_url":"https://github.com/apache/druid/pull/4889#issuecomment-334189602","issue_url":"https://api.github.com/repos/apache/druid/issues/4889","id":334189602,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDE4OTYwMg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T15:14:55Z","updated_at":"2017-10-04T15:14:55Z","author_association":"CONTRIBUTOR","body":"Hmm upon further looking into this I'm not sure if it's really a bug or not. The issue is that this patch enables group-by-alias, letting you write queries such as:\r\n\r\n```\r\nSELECT x AS anAlias, COUNT(*) FROM druid.foo GROUP BY anAlias\r\n```\r\n\r\nBut what if you do a query like this:\r\n\r\n```\r\nSELECT TRIM(x) AS x, COUNT(*) FROM druid.foo GROUP BY TRIM(x)\r\n```\r\n\r\nWhat should that mean? In master, it runs fine and is interpreted as selecting `TRIM(foo.x)` and grouping on `TRIM(foo.x)`. In this patch, it fails, since (I think) `GROUP BY TRIM(x)` is interpreted by the validator as applying to the alias `x` and not the table column `foo.x`. I'm not really sure how this should be handled.\r\n\r\nI think disabling group-by-alias is probably the right call for now until this can be sorted out. And maybe disabling order-by-alias as well?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334189602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334192295","html_url":"https://github.com/apache/druid/pull/4889#issuecomment-334192295","issue_url":"https://api.github.com/repos/apache/druid/issues/4889","id":334192295,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDE5MjI5NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T15:23:04Z","updated_at":"2017-10-04T15:23:04Z","author_association":"CONTRIBUTOR","body":"> I'm not really sure how this should be handled.\r\n\r\nUpon even further reflection, I think it'd make sense if the group-by and order-by alias functionality only treated something as an alias if it is unadorned. So `GROUP BY x` should look at the alias x. But `GROUP BY TRIM(x)` should not treat x as an alias. Will look into how to make this happen.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334192295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334201495","html_url":"https://github.com/apache/druid/pull/4903#issuecomment-334201495","issue_url":"https://api.github.com/repos/apache/druid/issues/4903","id":334201495,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDIwMTQ5NQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T15:51:02Z","updated_at":"2017-10-04T15:51:02Z","author_association":"CONTRIBUTOR","body":"> We have a dedicated writer per task and that task gets a unique producer ID\r\n\r\nYou mean producerIDs are manually assigned to writer processes via static configuration? How do you manage the deployment of the writer processes , are they deployed manually on a fixed set of machines?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334201495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334212092","html_url":"https://github.com/apache/druid/pull/4889#issuecomment-334212092","issue_url":"https://api.github.com/repos/apache/druid/issues/4889","id":334212092,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDIxMjA5Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T16:25:49Z","updated_at":"2017-10-04T16:25:49Z","author_association":"CONTRIBUTOR","body":"Marking WIP while the aliasing issue is sorted out.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334212092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334212524","html_url":"https://github.com/apache/druid/pull/4890#issuecomment-334212524","issue_url":"https://api.github.com/repos/apache/druid/issues/4890","id":334212524,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDIxMjUyNA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T16:27:19Z","updated_at":"2017-10-04T16:27:19Z","author_association":"CONTRIBUTOR","body":"@drcrallen Does that rationale seem reasonable to you?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334212524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334216924","html_url":"https://github.com/apache/druid/pull/4570#issuecomment-334216924","issue_url":"https://api.github.com/repos/apache/druid/issues/4570","id":334216924,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDIxNjkyNA==","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T16:42:44Z","updated_at":"2017-10-04T16:42:44Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334216924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334220396","html_url":"https://github.com/apache/druid/issues/4841#issuecomment-334220396","issue_url":"https://api.github.com/repos/apache/druid/issues/4841","id":334220396,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDIyMDM5Ng==","user":{"login":"sata","id":226054,"node_id":"MDQ6VXNlcjIyNjA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/226054?v=4","gravatar_id":"","url":"https://api.github.com/users/sata","html_url":"https://github.com/sata","followers_url":"https://api.github.com/users/sata/followers","following_url":"https://api.github.com/users/sata/following{/other_user}","gists_url":"https://api.github.com/users/sata/gists{/gist_id}","starred_url":"https://api.github.com/users/sata/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sata/subscriptions","organizations_url":"https://api.github.com/users/sata/orgs","repos_url":"https://api.github.com/users/sata/repos","events_url":"https://api.github.com/users/sata/events{/privacy}","received_events_url":"https://api.github.com/users/sata/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T16:54:50Z","updated_at":"2017-10-04T16:54:50Z","author_association":"NONE","body":"@himanshug We're not using HDFS extension, at all. For deep storage we use S3. We are using the stable release and not building ourselves though we're stripping away unused extensions such as druid-hdfs-storage.\r\n\r\n@b-slim No. We're not using HDFS but relying on S3 for deep storage. Are you saying to be able to use S3A the HDFS extension needs to be loaded and available through druid.extensions.loadList?\r\n\r\nPreferably it would be good not needing to rely on HDFS extension for S3A support if we aren't  intending on using HDFS as deep storage solution. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334220396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334222982","html_url":"https://github.com/apache/druid/pull/4890#issuecomment-334222982","issue_url":"https://api.github.com/repos/apache/druid/issues/4890","id":334222982,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDIyMjk4Mg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T17:04:04Z","updated_at":"2017-10-04T17:04:04Z","author_association":"CONTRIBUTOR","body":"@drcrallen @gianm sounds good for a feature, i have also seen the needs for simple transformations at ingestion time.\r\ndoes undocumented in this case mean that you don't want users to use this feature just yet because things may change very rapidly or that you want to do more testing and ensure it works ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334222982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334230879","html_url":"https://github.com/apache/druid/pull/4890#issuecomment-334230879","issue_url":"https://api.github.com/repos/apache/druid/issues/4890","id":334230879,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDIzMDg3OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T17:32:28Z","updated_at":"2017-10-04T17:32:28Z","author_association":"CONTRIBUTOR","body":"@himanshug just undocumented because nothing expression-related is documented yet. I'm intending to do another patch before too long that will add documentation for all of them, linking through to the existing `math-expr.md`.\r\n\r\nAlso for the reason in the original comment -- there is not really a clear place to put docs for stuff in dataSchema, since the docs probably need a refactor.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334230879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334232166","html_url":"https://github.com/apache/druid/issues/4841#issuecomment-334232166","issue_url":"https://api.github.com/repos/apache/druid/issues/4841","id":334232166,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDIzMjE2Ng==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T17:36:11Z","updated_at":"2017-10-04T17:36:11Z","author_association":"CONTRIBUTOR","body":"@sata yes you can use the hdfs deep storage extension to write data via Hadoop indexing jobs (in the end of the day you are using hadoop to run jobs so why not use native hadoop API to write to S3 via S3A driver, that's how I tested it).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334232166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334241269","html_url":"https://github.com/apache/druid/pull/4686#issuecomment-334241269","issue_url":"https://api.github.com/repos/apache/druid/issues/4686","id":334241269,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDI0MTI2OQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T18:06:00Z","updated_at":"2017-10-04T18:06:00Z","author_association":"CONTRIBUTOR","body":"@praveev @niketh \r\n\r\nThis is one of the few remaining open PRs blocking 0.11.0-rc1 release, do we plan to get this merged or should we move it out?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334241269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334254502","html_url":"https://github.com/apache/druid/pull/4903#issuecomment-334254502","issue_url":"https://api.github.com/repos/apache/druid/issues/4903","id":334254502,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDI1NDUwMg==","user":{"login":"kevinconaway","id":6921953,"node_id":"MDQ6VXNlcjY5MjE5NTM=","avatar_url":"https://avatars.githubusercontent.com/u/6921953?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinconaway","html_url":"https://github.com/kevinconaway","followers_url":"https://api.github.com/users/kevinconaway/followers","following_url":"https://api.github.com/users/kevinconaway/following{/other_user}","gists_url":"https://api.github.com/users/kevinconaway/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinconaway/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinconaway/subscriptions","organizations_url":"https://api.github.com/users/kevinconaway/orgs","repos_url":"https://api.github.com/users/kevinconaway/repos","events_url":"https://api.github.com/users/kevinconaway/events{/privacy}","received_events_url":"https://api.github.com/users/kevinconaway/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T18:52:03Z","updated_at":"2017-10-04T18:52:03Z","author_association":"CONTRIBUTOR","body":"> You mean producerIDs are manually assigned to writer processes via static configuration?\r\n\r\nNo, its per task.  So whatever writer is responsible for that task gets a unique producer ID (of their choosing).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334254502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334299652","html_url":"https://github.com/apache/druid/pull/4903#issuecomment-334299652","issue_url":"https://api.github.com/repos/apache/druid/issues/4903","id":334299652,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDI5OTY1Mg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T21:48:41Z","updated_at":"2017-10-04T21:48:41Z","author_association":"CONTRIBUTOR","body":"hmmm, you mean one realtimeIndexTask is receiving events from single writer process which can choose any producerId or just \"1\".\r\n\r\nBTW, this conversation is probably independent of this PR but I'm just curious and hence this conversation.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334299652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334306821","html_url":"https://github.com/apache/druid/pull/4570#issuecomment-334306821","issue_url":"https://api.github.com/repos/apache/druid/issues/4570","id":334306821,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDMwNjgyMQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T22:23:17Z","updated_at":"2017-10-04T22:23:17Z","author_association":"MEMBER","body":"@akashdw  this PR broke compilation of the project. Please fix","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334306821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334307781","html_url":"https://github.com/apache/druid/pull/4754#issuecomment-334307781","issue_url":"https://api.github.com/repos/apache/druid/issues/4754","id":334307781,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDMwNzc4MQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T22:28:08Z","updated_at":"2017-10-04T22:28:08Z","author_association":"MEMBER","body":"@nishantmonu51 please let me know when address or comment on my review","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334307781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334308696","html_url":"https://github.com/apache/druid/pull/4570#issuecomment-334308696","issue_url":"https://api.github.com/repos/apache/druid/issues/4570","id":334308696,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDMwODY5Ng==","user":{"login":"akashdw","id":5886276,"node_id":"MDQ6VXNlcjU4ODYyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5886276?v=4","gravatar_id":"","url":"https://api.github.com/users/akashdw","html_url":"https://github.com/akashdw","followers_url":"https://api.github.com/users/akashdw/followers","following_url":"https://api.github.com/users/akashdw/following{/other_user}","gists_url":"https://api.github.com/users/akashdw/gists{/gist_id}","starred_url":"https://api.github.com/users/akashdw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akashdw/subscriptions","organizations_url":"https://api.github.com/users/akashdw/orgs","repos_url":"https://api.github.com/users/akashdw/repos","events_url":"https://api.github.com/users/akashdw/events{/privacy}","received_events_url":"https://api.github.com/users/akashdw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T22:32:35Z","updated_at":"2017-10-04T22:32:35Z","author_association":"CONTRIBUTOR","body":"@leventov Having a look.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334308696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334310415","html_url":"https://github.com/apache/druid/pull/4570#issuecomment-334310415","issue_url":"https://api.github.com/repos/apache/druid/issues/4570","id":334310415,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDMxMDQxNQ==","user":{"login":"akashdw","id":5886276,"node_id":"MDQ6VXNlcjU4ODYyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5886276?v=4","gravatar_id":"","url":"https://api.github.com/users/akashdw","html_url":"https://github.com/akashdw","followers_url":"https://api.github.com/users/akashdw/followers","following_url":"https://api.github.com/users/akashdw/following{/other_user}","gists_url":"https://api.github.com/users/akashdw/gists{/gist_id}","starred_url":"https://api.github.com/users/akashdw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akashdw/subscriptions","organizations_url":"https://api.github.com/users/akashdw/orgs","repos_url":"https://api.github.com/users/akashdw/repos","events_url":"https://api.github.com/users/akashdw/events{/privacy}","received_events_url":"https://api.github.com/users/akashdw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T22:41:31Z","updated_at":"2017-10-04T22:41:31Z","author_association":"CONTRIBUTOR","body":"@leventov QueryMetrics now has a new method, `void identity(String identity);` not implemented in `DefaultSelectQueryMetrics` and `DefaultSearchQueryMetrics`. Creating a pr for the fix.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334310415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334315168","html_url":"https://github.com/apache/druid/pull/4570#issuecomment-334315168","issue_url":"https://api.github.com/repos/apache/druid/issues/4570","id":334315168,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDMxNTE2OA==","user":{"login":"akashdw","id":5886276,"node_id":"MDQ6VXNlcjU4ODYyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5886276?v=4","gravatar_id":"","url":"https://api.github.com/users/akashdw","html_url":"https://github.com/akashdw","followers_url":"https://api.github.com/users/akashdw/followers","following_url":"https://api.github.com/users/akashdw/following{/other_user}","gists_url":"https://api.github.com/users/akashdw/gists{/gist_id}","starred_url":"https://api.github.com/users/akashdw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akashdw/subscriptions","organizations_url":"https://api.github.com/users/akashdw/orgs","repos_url":"https://api.github.com/users/akashdw/repos","events_url":"https://api.github.com/users/akashdw/events{/privacy}","received_events_url":"https://api.github.com/users/akashdw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T23:09:13Z","updated_at":"2017-10-04T23:09:13Z","author_association":"CONTRIBUTOR","body":"@leventov Created a pr for the fix https://github.com/druid-io/druid/pull/4906, please review.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334315168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334317729","html_url":"https://github.com/apache/druid/pull/4903#issuecomment-334317729","issue_url":"https://api.github.com/repos/apache/druid/issues/4903","id":334317729,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDMxNzcyOQ==","user":{"login":"kevinconaway","id":6921953,"node_id":"MDQ6VXNlcjY5MjE5NTM=","avatar_url":"https://avatars.githubusercontent.com/u/6921953?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinconaway","html_url":"https://github.com/kevinconaway","followers_url":"https://api.github.com/users/kevinconaway/followers","following_url":"https://api.github.com/users/kevinconaway/following{/other_user}","gists_url":"https://api.github.com/users/kevinconaway/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinconaway/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinconaway/subscriptions","organizations_url":"https://api.github.com/users/kevinconaway/orgs","repos_url":"https://api.github.com/users/kevinconaway/repos","events_url":"https://api.github.com/users/kevinconaway/events{/privacy}","received_events_url":"https://api.github.com/users/kevinconaway/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-04T23:25:20Z","updated_at":"2017-10-04T23:25:20Z","author_association":"CONTRIBUTOR","body":"> you mean one realtimeIndexTask is receiving events from single writer process which can choose any producerId or just \"1\".\r\n\r\nCorrect. \r\n\r\n> BTW, this conversation is probably independent of this PR but I'm just curious and hence this conversation.\r\n\r\nNo worries, I'm happy to explain.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334317729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334334582","html_url":"https://github.com/apache/druid/pull/4905#issuecomment-334334582","issue_url":"https://api.github.com/repos/apache/druid/issues/4905","id":334334582,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDMzNDU4Mg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T01:29:28Z","updated_at":"2017-10-05T01:29:28Z","author_association":"CONTRIBUTOR","body":":+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334334582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334340079","html_url":"https://github.com/apache/druid/issues/4545#issuecomment-334340079","issue_url":"https://api.github.com/repos/apache/druid/issues/4545","id":334340079,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDM0MDA3OQ==","user":{"login":"donpinkus","id":987092,"node_id":"MDQ6VXNlcjk4NzA5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/987092?v=4","gravatar_id":"","url":"https://api.github.com/users/donpinkus","html_url":"https://github.com/donpinkus","followers_url":"https://api.github.com/users/donpinkus/followers","following_url":"https://api.github.com/users/donpinkus/following{/other_user}","gists_url":"https://api.github.com/users/donpinkus/gists{/gist_id}","starred_url":"https://api.github.com/users/donpinkus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/donpinkus/subscriptions","organizations_url":"https://api.github.com/users/donpinkus/orgs","repos_url":"https://api.github.com/users/donpinkus/repos","events_url":"https://api.github.com/users/donpinkus/events{/privacy}","received_events_url":"https://api.github.com/users/donpinkus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T02:15:02Z","updated_at":"2017-10-05T02:15:18Z","author_association":"NONE","body":"### Which queries in Druid are sortable, and what is the syntax?\r\n\r\nSomeone wrote a docs page, without actually documenting the API / syntax. \r\nhttp://druid.io/docs/latest/querying/sorting-orders.html","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334340079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334340839","html_url":"https://github.com/apache/druid/issues/4545#issuecomment-334340839","issue_url":"https://api.github.com/repos/apache/druid/issues/4545","id":334340839,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDM0MDgzOQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T02:21:43Z","updated_at":"2017-10-05T02:23:44Z","author_association":"CONTRIBUTOR","body":"those sorting orders are just string names of comparators, this part of the doc you linked to points to the syntax in the contexts where these comparator names are used:\r\n\r\n>These sorting orders are used by the TopNMetricSpec, SearchQuery, GroupByQuery's LimitSpec, and BoundFilter.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334340839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334341634","html_url":"https://github.com/apache/druid/issues/4545#issuecomment-334341634","issue_url":"https://api.github.com/repos/apache/druid/issues/4545","id":334341634,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDM0MTYzNA==","user":{"login":"donpinkus","id":987092,"node_id":"MDQ6VXNlcjk4NzA5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/987092?v=4","gravatar_id":"","url":"https://api.github.com/users/donpinkus","html_url":"https://github.com/donpinkus","followers_url":"https://api.github.com/users/donpinkus/followers","following_url":"https://api.github.com/users/donpinkus/following{/other_user}","gists_url":"https://api.github.com/users/donpinkus/gists{/gist_id}","starred_url":"https://api.github.com/users/donpinkus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/donpinkus/subscriptions","organizations_url":"https://api.github.com/users/donpinkus/orgs","repos_url":"https://api.github.com/users/donpinkus/repos","events_url":"https://api.github.com/users/donpinkus/events{/privacy}","received_events_url":"https://api.github.com/users/donpinkus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T02:28:13Z","updated_at":"2017-10-05T02:29:19Z","author_association":"NONE","body":"@jon-wei thanks for the quick answer. \r\n\r\nSo I want to sort by a column in a \"select\" query. \r\n\r\n1. Is that possible? (not sure how I find this out. On the 'select' page's docs it has a \"descending\" option, but the docs don't say what it's descending by. Maybe it's time?)\r\n2. If so, what is the syntax? Is there an example of a select query that uses a sort order?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334341634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334343162","html_url":"https://github.com/apache/druid/issues/4545#issuecomment-334343162","issue_url":"https://api.github.com/repos/apache/druid/issues/4545","id":334343162,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDM0MzE2Mg==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T02:40:53Z","updated_at":"2017-10-05T02:40:53Z","author_association":"CONTRIBUTOR","body":"@donpinkus \r\n\r\nThe docs could certainly be improved; I would say the current \"rule\" for whether the query supports sorting is \"if there's nothing in the query specific docs that mention user configurable sorting, it's not supported.\"\r\n\r\nSelect will only order by time, the most you can configure there is whether you want ascending or descending ordering by time.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334343162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334344283","html_url":"https://github.com/apache/druid/issues/4545#issuecomment-334344283","issue_url":"https://api.github.com/repos/apache/druid/issues/4545","id":334344283,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDM0NDI4Mw==","user":{"login":"donpinkus","id":987092,"node_id":"MDQ6VXNlcjk4NzA5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/987092?v=4","gravatar_id":"","url":"https://api.github.com/users/donpinkus","html_url":"https://github.com/donpinkus","followers_url":"https://api.github.com/users/donpinkus/followers","following_url":"https://api.github.com/users/donpinkus/following{/other_user}","gists_url":"https://api.github.com/users/donpinkus/gists{/gist_id}","starred_url":"https://api.github.com/users/donpinkus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/donpinkus/subscriptions","organizations_url":"https://api.github.com/users/donpinkus/orgs","repos_url":"https://api.github.com/users/donpinkus/repos","events_url":"https://api.github.com/users/donpinkus/events{/privacy}","received_events_url":"https://api.github.com/users/donpinkus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T02:49:56Z","updated_at":"2017-10-05T02:50:19Z","author_association":"NONE","body":"@jon-wei got it. \r\n\r\nSo in SQL:\r\n\r\n```\r\nSELECT *\r\nFROM my_table\r\nORDER BY col_a DESC\r\nLIMIT 10\r\n```\r\n\r\nIs that possible in Druid? \r\n\r\nShould I be writing some GroupBy query, where I try not to actually GroupBy anything? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334344283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334348473","html_url":"https://github.com/apache/druid/issues/4907#issuecomment-334348473","issue_url":"https://api.github.com/repos/apache/druid/issues/4907","id":334348473,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDM0ODQ3Mw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T03:24:33Z","updated_at":"2017-10-05T03:24:33Z","author_association":"MEMBER","body":"@pcarrier thanks. Could you submit a patch that fixes this problem? We don't have any kind of Java 9 environment yet for tests.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334348473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334356912","html_url":"https://github.com/apache/druid/issues/4545#issuecomment-334356912","issue_url":"https://api.github.com/repos/apache/druid/issues/4545","id":334356912,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDM1NjkxMg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T04:38:56Z","updated_at":"2017-10-05T04:38:56Z","author_association":"CONTRIBUTOR","body":"@donpinkus that query is not possible (in fact you could run it with Druid SQL and it will complain that it's not plannable).\r\n\r\nIn general, I guess, Druid is really best for aggregation workloads and the \"select\" functionality (such as it is) is not as well developed as the aggregation functionality.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334356912/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334364465","html_url":"https://github.com/apache/druid/issues/4545#issuecomment-334364465","issue_url":"https://api.github.com/repos/apache/druid/issues/4545","id":334364465,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDM2NDQ2NQ==","user":{"login":"donpinkus","id":987092,"node_id":"MDQ6VXNlcjk4NzA5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/987092?v=4","gravatar_id":"","url":"https://api.github.com/users/donpinkus","html_url":"https://github.com/donpinkus","followers_url":"https://api.github.com/users/donpinkus/followers","following_url":"https://api.github.com/users/donpinkus/following{/other_user}","gists_url":"https://api.github.com/users/donpinkus/gists{/gist_id}","starred_url":"https://api.github.com/users/donpinkus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/donpinkus/subscriptions","organizations_url":"https://api.github.com/users/donpinkus/orgs","repos_url":"https://api.github.com/users/donpinkus/repos","events_url":"https://api.github.com/users/donpinkus/events{/privacy}","received_events_url":"https://api.github.com/users/donpinkus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T05:39:22Z","updated_at":"2017-10-05T05:39:22Z","author_association":"NONE","body":"Thanks @gianm! Appreciate the answer. I'll close this issue.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334364465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334365498","html_url":"https://github.com/apache/druid/issues/4545#issuecomment-334365498","issue_url":"https://api.github.com/repos/apache/druid/issues/4545","id":334365498,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDM2NTQ5OA==","user":{"login":"donpinkus","id":987092,"node_id":"MDQ6VXNlcjk4NzA5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/987092?v=4","gravatar_id":"","url":"https://api.github.com/users/donpinkus","html_url":"https://github.com/donpinkus","followers_url":"https://api.github.com/users/donpinkus/followers","following_url":"https://api.github.com/users/donpinkus/following{/other_user}","gists_url":"https://api.github.com/users/donpinkus/gists{/gist_id}","starred_url":"https://api.github.com/users/donpinkus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/donpinkus/subscriptions","organizations_url":"https://api.github.com/users/donpinkus/orgs","repos_url":"https://api.github.com/users/donpinkus/repos","events_url":"https://api.github.com/users/donpinkus/events{/privacy}","received_events_url":"https://api.github.com/users/donpinkus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T05:47:35Z","updated_at":"2017-10-05T05:48:06Z","author_association":"NONE","body":"Actually - @gianm is there some way to hack it?\r\n\r\nQuery 1. TopN query, using col_a as the metric.\r\nQuery 2. Create a \"filter\" clause using the results from Query 1 (basically filter on the time & a few other columns), then do a Select query with this filter clause?\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334365498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334475943","html_url":"https://github.com/apache/druid/issues/4841#issuecomment-334475943","issue_url":"https://api.github.com/repos/apache/druid/issues/4841","id":334475943,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDQ3NTk0Mw==","user":{"login":"sata","id":226054,"node_id":"MDQ6VXNlcjIyNjA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/226054?v=4","gravatar_id":"","url":"https://api.github.com/users/sata","html_url":"https://github.com/sata","followers_url":"https://api.github.com/users/sata/followers","following_url":"https://api.github.com/users/sata/following{/other_user}","gists_url":"https://api.github.com/users/sata/gists{/gist_id}","starred_url":"https://api.github.com/users/sata/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sata/subscriptions","organizations_url":"https://api.github.com/users/sata/orgs","repos_url":"https://api.github.com/users/sata/repos","events_url":"https://api.github.com/users/sata/events{/privacy}","received_events_url":"https://api.github.com/users/sata/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T14:07:55Z","updated_at":"2017-10-05T14:08:41Z","author_association":"NONE","body":"@b-slim According to the docs of hdfs deep storage I need to set druid.storage.type to hdfs and define `druid.storage.storageDirectory`.  If I leave `druid.storage.type` to s3 and leave `druid.storage.storageDirectory` undefined, I get  \r\n\r\n> 2017-10-05T14:03:00,954 ERROR [main] io.druid.cli.CliPeon - Error when starting up.  Failing.\r\n> com.google.inject.ProvisionException: Unable to provision, see the following errors:\r\n> \r\n> 1) Error injecting constructor, java.lang.IllegalArgumentException: Can not create a Path from an empty string\r\n>   at io.druid.storage.hdfs.HdfsDataSegmentKiller.<init>(HdfsDataSegmentKiller.java:46)\r\n\r\nHas anyone tested to write to S3 with HDFS extension when using s3 as deep storage?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334475943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334491543","html_url":"https://github.com/apache/druid/issues/4545#issuecomment-334491543","issue_url":"https://api.github.com/repos/apache/druid/issues/4545","id":334491543,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDQ5MTU0Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T14:58:05Z","updated_at":"2017-10-05T14:58:05Z","author_association":"CONTRIBUTOR","body":"@donpinkus That isn't quite the same query but maybe it would be close enough for government work. You'd need to pick some dimension `col_b` to group on when looking for the topN `col_a` values. In SQL it would be:\r\n\r\n```\r\nSELECT *\r\nFROM my_table\r\nWHERE col_b IN (\r\n  SELECT col_b\r\n  FROM my_table\r\n  GROUP BY col_b\r\n  ORDER BY col_a DESC\r\n  LIMIT 10)\r\nLIMIT 10\r\n```\r\n\r\nAnd actually, the above query should run fine in Druid SQL.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334491543/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334500412","html_url":"https://github.com/apache/druid/pull/4686#issuecomment-334500412","issue_url":"https://api.github.com/repos/apache/druid/issues/4686","id":334500412,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDUwMDQxMg==","user":{"login":"praveev","id":297278,"node_id":"MDQ6VXNlcjI5NzI3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297278?v=4","gravatar_id":"","url":"https://api.github.com/users/praveev","html_url":"https://github.com/praveev","followers_url":"https://api.github.com/users/praveev/followers","following_url":"https://api.github.com/users/praveev/following{/other_user}","gists_url":"https://api.github.com/users/praveev/gists{/gist_id}","starred_url":"https://api.github.com/users/praveev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praveev/subscriptions","organizations_url":"https://api.github.com/users/praveev/orgs","repos_url":"https://api.github.com/users/praveev/repos","events_url":"https://api.github.com/users/praveev/events{/privacy}","received_events_url":"https://api.github.com/users/praveev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T15:25:28Z","updated_at":"2017-10-05T15:25:28Z","author_association":"CONTRIBUTOR","body":"@jon-wei @gianm sorry for the delay. pushed the changes. pls take a look.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334500412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334526170","html_url":"https://github.com/apache/druid/pull/4905#issuecomment-334526170","issue_url":"https://api.github.com/repos/apache/druid/issues/4905","id":334526170,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDUyNjE3MA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T16:53:55Z","updated_at":"2017-10-05T16:53:55Z","author_association":"MEMBER","body":"@pjain1 please restart Travis build on the Travis build page, to not create so much noise","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334526170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334529434","html_url":"https://github.com/apache/druid/issues/4373#issuecomment-334529434","issue_url":"https://api.github.com/repos/apache/druid/issues/4373","id":334529434,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDUyOTQzNA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T17:06:08Z","updated_at":"2017-10-05T17:06:08Z","author_association":"CONTRIBUTOR","body":"We had few conversations internally and it appears tracking record-offset within kafka record introduces additional metadata to be tracked and increases code complexity for the Kafka Indexing Service related code. So, for now the proposal is to not track record-offset within kafka record and that means if `InputRowParser.parseBatch(kafka-record-bytes)` returns more than one `InputRow` then `exactly-once` behavior is not guaranteed but best effort. This behavior could be changed in future if necessary.\r\nSo, for now, a user who requires `exactly-once` guarantee would use batching support provided by kafka so that each kafka record stays single Druid row.\r\n\r\n@gianm does that sound ok?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334529434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334529573","html_url":"https://github.com/apache/druid/issues/4841#issuecomment-334529573","issue_url":"https://api.github.com/repos/apache/druid/issues/4841","id":334529573,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDUyOTU3Mw==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T17:06:35Z","updated_at":"2017-10-05T17:06:35Z","author_association":"CONTRIBUTOR","body":"@sata yes `druid.storage.type` must be `hdfs` and path can be `s3a://bucket/dir`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334529573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334531545","html_url":"https://github.com/apache/druid/issues/4841#issuecomment-334531545","issue_url":"https://api.github.com/repos/apache/druid/issues/4841","id":334531545,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDUzMTU0NQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T17:13:48Z","updated_at":"2017-10-05T17:13:48Z","author_association":"CONTRIBUTOR","body":"@sata you might want to  look at this for the security setups to read/write on S3a https://hortonworks.github.io/hdp-aws/s3-security/index.html","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334531545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334549054","html_url":"https://github.com/apache/druid/pull/4540#issuecomment-334549054","issue_url":"https://api.github.com/repos/apache/druid/issues/4540","id":334549054,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDU0OTA1NA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T18:17:52Z","updated_at":"2017-10-05T18:17:52Z","author_association":"CONTRIBUTOR","body":"`io.druid.server.initialization.jetty.JettyBindings#addQosFilter` has some similar functionality, is there any particular reason a similar approach would not be used here?\r\n\r\nFor example, do you really need to specify the atomic counter in order to achieve what you want?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334549054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334550122","html_url":"https://github.com/apache/druid/pull/4540#issuecomment-334550122","issue_url":"https://api.github.com/repos/apache/druid/issues/4540","id":334550122,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDU1MDEyMg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T18:21:56Z","updated_at":"2017-10-05T18:22:35Z","author_association":"CONTRIBUTOR","body":"@drcrallen `QoSFilter` can probably be used but looked way more complex to me to handle this case of applying a hard limit , LimitRequestsFilter does least amount of work and is very very fast. I chose to write it given that its being used for all the incoming requests.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334550122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334572651","html_url":"https://github.com/apache/druid/issues/4373#issuecomment-334572651","issue_url":"https://api.github.com/repos/apache/druid/issues/4373","id":334572651,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDU3MjY1MQ==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T19:48:30Z","updated_at":"2017-10-05T19:49:41Z","author_association":"MEMBER","body":"The parse batch thing in KafkaIndexTask can be put behind a config, which when set explicitly will enable parsing of batch. This config can be documented with the warning that, when enabled task does not support exactly once and can also be printed as warning message in the task logs.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334572651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334602338","html_url":"https://github.com/apache/druid/pull/4886#issuecomment-334602338","issue_url":"https://api.github.com/repos/apache/druid/issues/4886","id":334602338,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDYwMjMzOA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T21:51:53Z","updated_at":"2017-10-05T21:51:53Z","author_association":"MEMBER","body":"Could someone please review this PR?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334602338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334604241","html_url":"https://github.com/apache/druid/pull/4886#issuecomment-334604241","issue_url":"https://api.github.com/repos/apache/druid/issues/4886","id":334604241,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDYwNDI0MQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T22:00:18Z","updated_at":"2017-10-05T22:00:18Z","author_association":"CONTRIBUTOR","body":"i'll try and review it tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334604241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334604421","html_url":"https://github.com/apache/druid/pull/4886#issuecomment-334604421","issue_url":"https://api.github.com/repos/apache/druid/issues/4886","id":334604421,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDYwNDQyMQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-05T22:01:11Z","updated_at":"2017-10-05T22:01:11Z","author_association":"MEMBER","body":"@himanshug thank you","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334604421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334648230","html_url":"https://github.com/apache/druid/issues/4695#issuecomment-334648230","issue_url":"https://api.github.com/repos/apache/druid/issues/4695","id":334648230,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDY0ODIzMA==","user":{"login":"pld","id":50706,"node_id":"MDQ6VXNlcjUwNzA2","avatar_url":"https://avatars.githubusercontent.com/u/50706?v=4","gravatar_id":"","url":"https://api.github.com/users/pld","html_url":"https://github.com/pld","followers_url":"https://api.github.com/users/pld/followers","following_url":"https://api.github.com/users/pld/following{/other_user}","gists_url":"https://api.github.com/users/pld/gists{/gist_id}","starred_url":"https://api.github.com/users/pld/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pld/subscriptions","organizations_url":"https://api.github.com/users/pld/orgs","repos_url":"https://api.github.com/users/pld/repos","events_url":"https://api.github.com/users/pld/events{/privacy}","received_events_url":"https://api.github.com/users/pld/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T03:21:02Z","updated_at":"2017-10-06T03:21:02Z","author_association":"NONE","body":"@JLLNANA looks like your `runtime.properties` is missing the `druid.realtime.specFile` property and its value","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334648230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334650096","html_url":"https://github.com/apache/druid/pull/4532#issuecomment-334650096","issue_url":"https://api.github.com/repos/apache/druid/issues/4532","id":334650096,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDY1MDA5Ng==","user":{"login":"chunghochen","id":254066,"node_id":"MDQ6VXNlcjI1NDA2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/254066?v=4","gravatar_id":"","url":"https://api.github.com/users/chunghochen","html_url":"https://github.com/chunghochen","followers_url":"https://api.github.com/users/chunghochen/followers","following_url":"https://api.github.com/users/chunghochen/following{/other_user}","gists_url":"https://api.github.com/users/chunghochen/gists{/gist_id}","starred_url":"https://api.github.com/users/chunghochen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chunghochen/subscriptions","organizations_url":"https://api.github.com/users/chunghochen/orgs","repos_url":"https://api.github.com/users/chunghochen/repos","events_url":"https://api.github.com/users/chunghochen/events{/privacy}","received_events_url":"https://api.github.com/users/chunghochen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T03:39:54Z","updated_at":"2017-10-06T03:39:54Z","author_association":"CONTRIBUTOR","body":"@jihoonson and @jon-wei, can you guys please help?\r\n\r\nNot sure why it fails on both checks?\r\nInspections: pull requests (Druid) — TeamCity build failed, it shows the following\r\n  server/src/main/java/io/druid/client/cache\r\n CaffeineCacheConfig.java (3)\r\n server/src/main/java/io/druid/segment/realtime/firehose\r\n ServiceAnnouncingChatHandlerProvider.java (1)\r\nHowever, the above is not my code.\r\n\r\ncontinuous-integration/travis-ci/pr — The Travis CI build failed\r\nI can't read the log to notice how druid-server fails.\r\nIn any event, my mvn regressions passed in my laptop environment before merging with master, as well as after merging with master.\r\n\r\nPlease help!!\r\nBTW, my change here is very trivial - simply removing some blocks per review comments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334650096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334657724","html_url":"https://github.com/apache/druid/pull/4532#issuecomment-334657724","issue_url":"https://api.github.com/repos/apache/druid/issues/4532","id":334657724,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDY1NzcyNA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T04:50:37Z","updated_at":"2017-10-06T04:50:37Z","author_association":"CONTRIBUTOR","body":"@chunghochen \r\n\r\nThe CI test failed again because of an unrelated test timeout (happens to a lot of PRs), I've restarted the build for that test suite.\r\n\r\nI believe the TeamCity build is failing because some PRs that introduced failures were committed without fixing the TeamCity issues, future builds for new PRs are still picking up the unaddressed inspection issues, your PR is fine and we can ignore them since none of the files are related to your changes.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334657724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334663999","html_url":"https://github.com/apache/druid/pull/4686#issuecomment-334663999","issue_url":"https://api.github.com/repos/apache/druid/issues/4686","id":334663999,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDY2Mzk5OQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T05:46:04Z","updated_at":"2017-10-06T05:46:04Z","author_association":"CONTRIBUTOR","body":":+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334663999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334759163","html_url":"https://github.com/apache/druid/pull/4774#issuecomment-334759163","issue_url":"https://api.github.com/repos/apache/druid/issues/4774","id":334759163,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDc1OTE2Mw==","user":{"login":"KenjiTakahashi","id":431488,"node_id":"MDQ6VXNlcjQzMTQ4OA==","avatar_url":"https://avatars.githubusercontent.com/u/431488?v=4","gravatar_id":"","url":"https://api.github.com/users/KenjiTakahashi","html_url":"https://github.com/KenjiTakahashi","followers_url":"https://api.github.com/users/KenjiTakahashi/followers","following_url":"https://api.github.com/users/KenjiTakahashi/following{/other_user}","gists_url":"https://api.github.com/users/KenjiTakahashi/gists{/gist_id}","starred_url":"https://api.github.com/users/KenjiTakahashi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KenjiTakahashi/subscriptions","organizations_url":"https://api.github.com/users/KenjiTakahashi/orgs","repos_url":"https://api.github.com/users/KenjiTakahashi/repos","events_url":"https://api.github.com/users/KenjiTakahashi/events{/privacy}","received_events_url":"https://api.github.com/users/KenjiTakahashi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T13:45:12Z","updated_at":"2017-10-06T13:45:12Z","author_association":"CONTRIBUTOR","body":"We've been running it on staging for a couple of days and for some time it worked fine. But now tasks are consistently failing with\r\n\r\n```bash\r\n2017-10-06T13:39:35,888 WARN [task-runner-0-priority-0] io.druid.segment.realtime.SegmentTracker - Cannot allocate segment for timestamp[2017-09-05T00:00:00.000Z], sequenceName[index_realtime_logdb_data_0_2017-10-06T13:39:26.855Z_ohinnidg].\r\n2017-10-06T13:39:35,910 ERROR [task-runner-0-priority-0] io.druid.indexing.common.task.RealtimeIndexTask - Exception aborted realtime processing[logdb_data]: {class=io.druid.indexing.common.task.RealtimeIndexTask, exceptionType=class java.lang.NullPointerException, exceptionMessage=null}\r\njava.lang.NullPointerException\r\n        at java.util.concurrent.ConcurrentHashMap.get(ConcurrentHashMap.java:936) ~[?:1.8.0_131]\r\n        at io.druid.segment.realtime.plumber.RealtimePlumber.getSink(RealtimePlumber.java:255) ~[druid-server-0.11.0-SNAPSHOT.jar:0.11.0-SNAPSHOT]\r\n        at io.druid.segment.realtime.plumber.RealtimePlumber.add(RealtimePlumber.java:238) ~[druid-server-0.11.0-SNAPSHOT.jar:0.11.0-SNAPSHOT]\r\n        at io.druid.segment.realtime.plumber.Plumbers.addNextRow(Plumbers.java:77) ~[druid-server-0.11.0-SNAPSHOT.jar:0.11.0-SNAPSHOT]\r\n        at io.druid.indexing.common.task.RealtimeIndexTask.run(RealtimeIndexTask.java:350) [druid-indexing-service-0.11.0-SNAPSHOT.jar:0.11.0-SNAPSHOT]\r\n        at io.druid.indexing.overlord.ThreadPoolTaskRunner$ThreadPoolTaskRunnerCallable.call(ThreadPoolTaskRunner.java:436) [druid-indexing-service-0.11.0-SNAPSHOT.jar:0.11.0-SNAPSHOT]\r\n        at io.druid.indexing.overlord.ThreadPoolTaskRunner$ThreadPoolTaskRunnerCallable.call(ThreadPoolTaskRunner.java:408) [druid-indexing-service-0.11.0-SNAPSHOT.jar:0.11.0-SNAPSHOT]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_131]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_131]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_131]\r\n        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_131]\r\n```\r\n\r\n@kevinconaway Any idea what might be causing this?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334759163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334760843","html_url":"https://github.com/apache/druid/pull/4774#issuecomment-334760843","issue_url":"https://api.github.com/repos/apache/druid/issues/4774","id":334760843,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDc2MDg0Mw==","user":{"login":"kevinconaway","id":6921953,"node_id":"MDQ6VXNlcjY5MjE5NTM=","avatar_url":"https://avatars.githubusercontent.com/u/6921953?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinconaway","html_url":"https://github.com/kevinconaway","followers_url":"https://api.github.com/users/kevinconaway/followers","following_url":"https://api.github.com/users/kevinconaway/following{/other_user}","gists_url":"https://api.github.com/users/kevinconaway/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinconaway/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinconaway/subscriptions","organizations_url":"https://api.github.com/users/kevinconaway/orgs","repos_url":"https://api.github.com/users/kevinconaway/repos","events_url":"https://api.github.com/users/kevinconaway/events{/privacy}","received_events_url":"https://api.github.com/users/kevinconaway/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T13:51:45Z","updated_at":"2017-10-06T13:51:45Z","author_association":"CONTRIBUTOR","body":"We've been running for ~2 weeks now and haven't experienced any issues after I fixed https://github.com/druid-io/druid/pull/4774/commits/5ef8fa5981003c45c2703cbeacc832a9eb08b847 but that was related to segments not being handed off.\r\n\r\nThere should be some more logging around why the segments can't be allocated.  Do you want to create a gist with the entire task log and share it here?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334760843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334762916","html_url":"https://github.com/apache/druid/pull/4774#issuecomment-334762916","issue_url":"https://api.github.com/repos/apache/druid/issues/4774","id":334762916,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDc2MjkxNg==","user":{"login":"KenjiTakahashi","id":431488,"node_id":"MDQ6VXNlcjQzMTQ4OA==","avatar_url":"https://avatars.githubusercontent.com/u/431488?v=4","gravatar_id":"","url":"https://api.github.com/users/KenjiTakahashi","html_url":"https://github.com/KenjiTakahashi","followers_url":"https://api.github.com/users/KenjiTakahashi/followers","following_url":"https://api.github.com/users/KenjiTakahashi/following{/other_user}","gists_url":"https://api.github.com/users/KenjiTakahashi/gists{/gist_id}","starred_url":"https://api.github.com/users/KenjiTakahashi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KenjiTakahashi/subscriptions","organizations_url":"https://api.github.com/users/KenjiTakahashi/orgs","repos_url":"https://api.github.com/users/KenjiTakahashi/repos","events_url":"https://api.github.com/users/KenjiTakahashi/events{/privacy}","received_events_url":"https://api.github.com/users/KenjiTakahashi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T13:59:11Z","updated_at":"2017-10-06T13:59:11Z","author_association":"CONTRIBUTOR","body":"We do have that fix anyway, so it's not that. Here's the whole log: https://gist.github.com/KenjiTakahashi/602a3d29055a18855e3cb6e9ccc254ac","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334762916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334798013","html_url":"https://github.com/apache/druid/issues/4909#issuecomment-334798013","issue_url":"https://api.github.com/repos/apache/druid/issues/4909","id":334798013,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDc5ODAxMw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T16:02:28Z","updated_at":"2017-10-06T16:02:28Z","author_association":"CONTRIBUTOR","body":"@leventov what kind of environment are you running this in?\r\n\r\nIt seems like the code in `Calcites.setSystemProperties()` is either not getting run, or it is getting run but the properties are not being respected. Ordinarily it's done by setUp for CalciteQueryTest and by SqlModule for an actual Druid server.\r\n\r\nIt's a little weird that the charset for literals must be set through a property but I didn't see a cleaner way to do it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334798013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334801587","html_url":"https://github.com/apache/druid/issues/4373#issuecomment-334801587","issue_url":"https://api.github.com/repos/apache/druid/issues/4373","id":334801587,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDgwMTU4Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T16:16:21Z","updated_at":"2017-10-06T16:16:21Z","author_association":"CONTRIBUTOR","body":"@himanshug In principle, it sounds ok to me to have some non-exactly-once-features as long as they're disabled by default and clearly marked. I think by default we should be exactly once and users should need to change configs somehow if they want to break that.\r\n\r\nHowever there is a difficulty with dropping exactly-once behavior: the segment-allocate stuff (pending segments etc) assumes that replica tasks will do exactly the same thing given the same set of inputs. If they don't do exactly the same thing then they can get out of sync with regard to which messages go in which segments, and that can cause the segment sets not to line up, and that can cause allocation errors.\r\n\r\nInstead what do you think about keeping exactly-once behavior by basically forcing an entire batch to be processed all-or-nothing? In practice it would mean adding an `addAll` method to Appenderator, and not doing any persists or publishes in the middle of a batch. To handle the situation where a limit (maxRowsPerSegment or something) could be hit in the middle of a batch, we could either persisting early (before a batch) or late (by allowing to going a little past the limit).\r\n\r\nI think this might be the cleanest approach.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334801587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334805677","html_url":"https://github.com/apache/druid/pull/4871#issuecomment-334805677","issue_url":"https://api.github.com/repos/apache/druid/issues/4871","id":334805677,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDgwNTY3Nw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T16:32:40Z","updated_at":"2017-10-06T16:32:40Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334805677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334815304","html_url":"https://github.com/apache/druid/pull/4905#issuecomment-334815304","issue_url":"https://api.github.com/repos/apache/druid/issues/4905","id":334815304,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDgxNTMwNA==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T17:11:34Z","updated_at":"2017-10-06T17:11:34Z","author_association":"MEMBER","body":"@leventov ok","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334815304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334816419","html_url":"https://github.com/apache/druid/pull/4754#issuecomment-334816419","issue_url":"https://api.github.com/repos/apache/druid/issues/4754","id":334816419,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDgxNjQxOQ==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T17:16:21Z","updated_at":"2017-10-06T17:16:21Z","author_association":"MEMBER","body":"@leventov have addressed your comments, please check again. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334816419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334824532","html_url":"https://github.com/apache/druid/issues/4911#issuecomment-334824532","issue_url":"https://api.github.com/repos/apache/druid/issues/4911","id":334824532,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDgyNDUzMg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T17:47:05Z","updated_at":"2017-10-06T17:47:05Z","author_association":"CONTRIBUTOR","body":"i'm checking.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334824532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334833732","html_url":"https://github.com/apache/druid/issues/4911#issuecomment-334833732","issue_url":"https://api.github.com/repos/apache/druid/issues/4911","id":334833732,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDgzMzczMg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T18:24:58Z","updated_at":"2017-10-06T18:24:58Z","author_association":"CONTRIBUTOR","body":"@himanshug I raised a patch in #4913 that I am verifying now.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334833732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334834369","html_url":"https://github.com/apache/druid/pull/4913#issuecomment-334834369","issue_url":"https://api.github.com/repos/apache/druid/issues/4913","id":334834369,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDgzNDM2OQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T18:27:36Z","updated_at":"2017-10-06T18:27:36Z","author_association":"CONTRIBUTOR","body":"i was doing it but you're too quick :)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334834369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334834891","html_url":"https://github.com/apache/druid/pull/4913#issuecomment-334834891","issue_url":"https://api.github.com/repos/apache/druid/issues/4913","id":334834891,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDgzNDg5MQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T18:29:44Z","updated_at":"2017-10-06T18:29:44Z","author_association":"CONTRIBUTOR","body":"can you add `ChannelException` to catch list at https://github.com/druid-io/druid/blob/master/server/src/main/java/io/druid/discovery/DruidLeaderClient.java#L131 too ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334834891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334835494","html_url":"https://github.com/apache/druid/pull/4913#issuecomment-334835494","issue_url":"https://api.github.com/repos/apache/druid/issues/4913","id":334835494,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDgzNTQ5NA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T18:32:18Z","updated_at":"2017-10-06T18:37:26Z","author_association":"CONTRIBUTOR","body":"also, please change https://github.com/druid-io/druid/blob/master/server/src/main/java/io/druid/discovery/DruidLeaderClient.java#L58 `MAX_RETRIES` to `5` so that it tries to follow 4 redirects, just in case, before giving up.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334835494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334835698","html_url":"https://github.com/apache/druid/pull/4912#issuecomment-334835698","issue_url":"https://api.github.com/repos/apache/druid/issues/4912","id":334835698,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDgzNTY5OA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T18:33:04Z","updated_at":"2017-10-06T18:33:04Z","author_association":"CONTRIBUTOR","body":":+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334835698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/334836385","html_url":"https://github.com/apache/druid/pull/4902#issuecomment-334836385","issue_url":"https://api.github.com/repos/apache/druid/issues/4902","id":334836385,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDgzNjM4NQ==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-06T18:35:48Z","updated_at":"2017-10-06T18:35:48Z","author_association":"MEMBER","body":"@jon-wei @nishantmonu51 @gianm can anyone of you take a look ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/334836385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]