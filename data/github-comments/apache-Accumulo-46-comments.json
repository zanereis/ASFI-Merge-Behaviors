[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587504173","html_url":"https://github.com/apache/accumulo/pull/1504#issuecomment-587504173","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1504","id":587504173,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzUwNDE3Mw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T15:04:14Z","updated_at":"2020-02-18T15:04:14Z","author_association":"CONTRIBUTOR","body":"I am currently looking into these test failures.  Rerunning the failed test on this branch and in master.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587504173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587564513","html_url":"https://github.com/apache/accumulo/pull/1504#issuecomment-587564513","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1504","id":587564513,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzU2NDUxMw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T16:58:29Z","updated_at":"2020-02-18T16:58:29Z","author_association":"CONTRIBUTOR","body":"I ran MetadataMaxFilesIT and MetaRecoveryIT a few times in this branch and the master branch.  For both branches the test would fail sometimes and succeed sometimes.  So those test seem to be a bit flaky even w/o this change.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587564513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587571394","html_url":"https://github.com/apache/accumulo/pull/1504#issuecomment-587571394","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1504","id":587571394,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzU3MTM5NA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T17:12:46Z","updated_at":"2020-02-18T17:12:46Z","author_association":"CONTRIBUTOR","body":"@MuazmaZ  thanks for the contribution.  If you would like to add yourself as a contributor to the Accumulo people page [please submit a PR](https://github.com/apache/accumulo-website/edit/master/pages/people.md).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587571394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587595634","html_url":"https://github.com/apache/accumulo/pull/1504#issuecomment-587595634","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1504","id":587595634,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzU5NTYzNA==","user":{"login":"MuazmaZ","id":38145027,"node_id":"MDQ6VXNlcjM4MTQ1MDI3","avatar_url":"https://avatars.githubusercontent.com/u/38145027?v=4","gravatar_id":"","url":"https://api.github.com/users/MuazmaZ","html_url":"https://github.com/MuazmaZ","followers_url":"https://api.github.com/users/MuazmaZ/followers","following_url":"https://api.github.com/users/MuazmaZ/following{/other_user}","gists_url":"https://api.github.com/users/MuazmaZ/gists{/gist_id}","starred_url":"https://api.github.com/users/MuazmaZ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MuazmaZ/subscriptions","organizations_url":"https://api.github.com/users/MuazmaZ/orgs","repos_url":"https://api.github.com/users/MuazmaZ/repos","events_url":"https://api.github.com/users/MuazmaZ/events{/privacy}","received_events_url":"https://api.github.com/users/MuazmaZ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T18:04:31Z","updated_at":"2020-02-18T18:04:31Z","author_association":"CONTRIBUTOR","body":"Thanks @keith-turner @ctubbsii and @billierinaldi for resolving this. I also ran maven verify and got no errors.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587595634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587710407","html_url":"https://github.com/apache/accumulo/pull/1495#issuecomment-587710407","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1495","id":587710407,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzcxMDQwNw==","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T19:31:05Z","updated_at":"2020-02-18T19:31:05Z","author_association":"CONTRIBUTOR","body":"Fixes #1495 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587710407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587767933","html_url":"https://github.com/apache/accumulo/issues/1428#issuecomment-587767933","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1428","id":587767933,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Nzc2NzkzMw==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T20:10:43Z","updated_at":"2020-02-18T20:10:43Z","author_association":"CONTRIBUTOR","body":"@ron-rico - take a look at the AccumuloClusterHarness.java class on line 362.  \r\nMaybe changing changing the function to: \r\n```java\r\n@Override\r\n  public void configureMiniCluster(MiniAccumuloConfigImpl cfg, Configuration hadoopCoreSite) {\r\n    hadoopCoreSite.set(\"fs.file.impl\", RawLocalFileSystem.class.getName());\r\n  }\r\n```\r\n might work.  \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587767933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587796409","html_url":"https://github.com/apache/accumulo/pull/1495#issuecomment-587796409","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1495","id":587796409,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Nzc5NjQwOQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T20:30:27Z","updated_at":"2020-02-18T20:30:27Z","author_association":"MEMBER","body":"This was merged in 6e8787e36e5b89dbc9c5af5e2d2b35bab74b7f36","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587796409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587807687","html_url":"https://github.com/apache/accumulo/pull/1495#issuecomment-587807687","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1495","id":587807687,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzgwNzY4Nw==","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T20:38:22Z","updated_at":"2020-02-18T20:38:22Z","author_association":"CONTRIBUTOR","body":"@ctubbsii do you know why this page is indicating it is closed with unmerged commits even though the changes have been merged into master? ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587807687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587813938","html_url":"https://github.com/apache/accumulo/issues/1512#issuecomment-587813938","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1512","id":587813938,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NzgxMzkzOA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T20:42:38Z","updated_at":"2020-02-18T20:42:38Z","author_association":"CONTRIBUTOR","body":"Looked at this test briefly and I think it is overly complicated.  I will look at it again but I think we can just remove the log4j stuff and test the cache if the error was logged.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587813938/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587942947","html_url":"https://github.com/apache/accumulo/issues/1512#issuecomment-587942947","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1512","id":587942947,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Nzk0Mjk0Nw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T22:47:20Z","updated_at":"2020-02-18T22:47:20Z","author_association":"MEMBER","body":"@milleruntime I initially assigned it to myself, because I expected to work on it, but if you have a good idea for how to improve it, I'd be happy to pass it off to you. I think you're right that it should be sufficient to check the cache.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587942947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587945569","html_url":"https://github.com/apache/accumulo/issues/1520#issuecomment-587945569","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1520","id":587945569,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Nzk0NTU2OQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T22:55:04Z","updated_at":"2020-02-18T22:55:32Z","author_association":"MEMBER","body":"@dan-blum Creating a mutation large enough to trigger this seems like a bad idea. So, the exception seems like a reasonable one to throw under circumstances involving such a huge mutation. At the very least, it seems better to let the JVM throw that exception than to try to accommodate specific JVM behaviors.\r\n\r\nIs there a way to determine programmatically the actual JVM limit? Or, do you have an alternate solution for limiting the mutation buffer size that doesn't involve hard-coding specific \"known\" JVM behaviors?\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587945569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587946615","html_url":"https://github.com/apache/accumulo/pull/1495#issuecomment-587946615","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1495","id":587946615,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Nzk0NjYxNQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T22:58:08Z","updated_at":"2020-02-18T22:58:08Z","author_association":"MEMBER","body":"@jmark99 The only time I've seen that is if the commit was rewritten and merged on the command-line, rather than via the web UI. If you merged it via the web UI, or didn't re-write the commit, it could just be a weird screwy thing with GitHub. I wouldn't worry about it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587946615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587952353","html_url":"https://github.com/apache/accumulo/issues/1520#issuecomment-587952353","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1520","id":587952353,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Nzk1MjM1Mw==","user":{"login":"dan-blum","id":61207849,"node_id":"MDQ6VXNlcjYxMjA3ODQ5","avatar_url":"https://avatars.githubusercontent.com/u/61207849?v=4","gravatar_id":"","url":"https://api.github.com/users/dan-blum","html_url":"https://github.com/dan-blum","followers_url":"https://api.github.com/users/dan-blum/followers","following_url":"https://api.github.com/users/dan-blum/following{/other_user}","gists_url":"https://api.github.com/users/dan-blum/gists{/gist_id}","starred_url":"https://api.github.com/users/dan-blum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dan-blum/subscriptions","organizations_url":"https://api.github.com/users/dan-blum/orgs","repos_url":"https://api.github.com/users/dan-blum/repos","events_url":"https://api.github.com/users/dan-blum/events{/privacy}","received_events_url":"https://api.github.com/users/dan-blum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T23:15:33Z","updated_at":"2020-02-18T23:15:33Z","author_association":"NONE","body":"I agree, but you'd have to convince the people actually using it.\r\n\r\nIn 2.0.0 Mutation will in fact throw a good exception when you're about to put data that will make the overall Mutation size grow too large, which I think is fine.\r\n\r\nNote that this is the overall mutation size, not just this buffer. So in fact if this buffer ever got close to MAX_VALUE in size the Mutation would fail anyway, regardless of JVM. So the simplest solution would be to have Mutation tell UnsynchronizedBuffer the maximum size to use, which subtracts everything else from the Mutation maximum size.\r\n\r\nOf course if you end up putting all of the Mutation in a single byte array you will run into the same problem at that point (I didn't check this part of the code). In this case MAX_MUTATION_SIZE should be lower. The code for ArrayList assumes Integer.MAX_VALUE-8 is the maximum array size, which seems a reasonable number to use - I don't know how to get at it programmatically.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587952353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587952695","html_url":"https://github.com/apache/accumulo/issues/1520#issuecomment-587952695","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1520","id":587952695,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Nzk1MjY5NQ==","user":{"login":"dan-blum","id":61207849,"node_id":"MDQ6VXNlcjYxMjA3ODQ5","avatar_url":"https://avatars.githubusercontent.com/u/61207849?v=4","gravatar_id":"","url":"https://api.github.com/users/dan-blum","html_url":"https://github.com/dan-blum","followers_url":"https://api.github.com/users/dan-blum/followers","following_url":"https://api.github.com/users/dan-blum/following{/other_user}","gists_url":"https://api.github.com/users/dan-blum/gists{/gist_id}","starred_url":"https://api.github.com/users/dan-blum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dan-blum/subscriptions","organizations_url":"https://api.github.com/users/dan-blum/orgs","repos_url":"https://api.github.com/users/dan-blum/repos","events_url":"https://api.github.com/users/dan-blum/events{/privacy}","received_events_url":"https://api.github.com/users/dan-blum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T23:16:45Z","updated_at":"2020-02-18T23:16:45Z","author_association":"NONE","body":"Note, in case it's not clear - the OutOfMemory exception gets thrown when the buffer exceeds half the maximum size. That is admittedly large but it's not pushing the limit.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587952695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587953484","html_url":"https://github.com/apache/accumulo/issues/1520#issuecomment-587953484","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1520","id":587953484,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Nzk1MzQ4NA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T23:19:08Z","updated_at":"2020-02-18T23:19:08Z","author_association":"MEMBER","body":"> Of course if you end up putting all of the Mutation in a single byte array you will run into the same problem at that point \r\n\r\nThat would almost certainly happen later, when the mutation is put on the wire by Thrift.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587953484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587955713","html_url":"https://github.com/apache/accumulo/issues/1520#issuecomment-587955713","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1520","id":587955713,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Nzk1NTcxMw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T23:26:24Z","updated_at":"2020-02-18T23:26:24Z","author_association":"MEMBER","body":"> The code for ArrayList assumes Integer.MAX_VALUE-8 is the maximum array size, which seems a reasonable number to use - I don't know how to get at it programmatically.\r\n\r\nI'd be fine with updating UnsynchronizedBuffer to use that instead, since it's hard-coded in ArrayList, and likely a stable enough number to use. Though... anybody creating mutations big enough to hit this will still be asking for trouble elsewhere. Although we don't impose a limit, I'd subjectively say that anything larger than low 10s of MBs for a mutation is probably too large.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587955713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587957931","html_url":"https://github.com/apache/accumulo/issues/1520#issuecomment-587957931","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1520","id":587957931,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Nzk1NzkzMQ==","user":{"login":"mjwall","id":2342,"node_id":"MDQ6VXNlcjIzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/2342?v=4","gravatar_id":"","url":"https://api.github.com/users/mjwall","html_url":"https://github.com/mjwall","followers_url":"https://api.github.com/users/mjwall/followers","following_url":"https://api.github.com/users/mjwall/following{/other_user}","gists_url":"https://api.github.com/users/mjwall/gists{/gist_id}","starred_url":"https://api.github.com/users/mjwall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjwall/subscriptions","organizations_url":"https://api.github.com/users/mjwall/orgs","repos_url":"https://api.github.com/users/mjwall/repos","events_url":"https://api.github.com/users/mjwall/events{/privacy}","received_events_url":"https://api.github.com/users/mjwall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-18T23:34:24Z","updated_at":"2020-02-18T23:34:24Z","author_association":"MEMBER","body":"This is handled in 2.0 I think see https://issues.apache.org/jira/browse/ACCUMULO-4709 and https://issues.apache.org/jira/browse/ACCUMULO-4708","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/587957931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/588261584","html_url":"https://github.com/apache/accumulo/issues/1512#issuecomment-588261584","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1512","id":588261584,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODI2MTU4NA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T14:29:57Z","updated_at":"2020-02-19T14:29:57Z","author_association":"CONTRIBUTOR","body":"OK I have a fix which removes the log4j and just checks the size of the cache to see if it was logged or not.  I think that is sufficient.  There is no need to check the string of the logger to make sure the error was logged.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/588261584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/588262260","html_url":"https://github.com/apache/accumulo/issues/1520#issuecomment-588262260","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1520","id":588262260,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODI2MjI2MA==","user":{"login":"dan-blum","id":61207849,"node_id":"MDQ6VXNlcjYxMjA3ODQ5","avatar_url":"https://avatars.githubusercontent.com/u/61207849?v=4","gravatar_id":"","url":"https://api.github.com/users/dan-blum","html_url":"https://github.com/dan-blum","followers_url":"https://api.github.com/users/dan-blum/followers","following_url":"https://api.github.com/users/dan-blum/following{/other_user}","gists_url":"https://api.github.com/users/dan-blum/gists{/gist_id}","starred_url":"https://api.github.com/users/dan-blum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dan-blum/subscriptions","organizations_url":"https://api.github.com/users/dan-blum/orgs","repos_url":"https://api.github.com/users/dan-blum/repos","events_url":"https://api.github.com/users/dan-blum/events{/privacy}","received_events_url":"https://api.github.com/users/dan-blum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T14:31:08Z","updated_at":"2020-02-19T14:31:08Z","author_association":"NONE","body":"It's not handled in 2.0 - when the buffer first gets beyond 2^30 bytes it will throw an exception, long before the overall Mutation size reaches the limit.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/588262260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/588262981","html_url":"https://github.com/apache/accumulo/issues/1520#issuecomment-588262981","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1520","id":588262981,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODI2Mjk4MQ==","user":{"login":"dan-blum","id":61207849,"node_id":"MDQ6VXNlcjYxMjA3ODQ5","avatar_url":"https://avatars.githubusercontent.com/u/61207849?v=4","gravatar_id":"","url":"https://api.github.com/users/dan-blum","html_url":"https://github.com/dan-blum","followers_url":"https://api.github.com/users/dan-blum/followers","following_url":"https://api.github.com/users/dan-blum/following{/other_user}","gists_url":"https://api.github.com/users/dan-blum/gists{/gist_id}","starred_url":"https://api.github.com/users/dan-blum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dan-blum/subscriptions","organizations_url":"https://api.github.com/users/dan-blum/orgs","repos_url":"https://api.github.com/users/dan-blum/repos","events_url":"https://api.github.com/users/dan-blum/events{/privacy}","received_events_url":"https://api.github.com/users/dan-blum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T14:32:32Z","updated_at":"2020-02-19T14:32:32Z","author_association":"NONE","body":"I agree that creating very large Mutations is probably not a great idea\r\n\r\n> > The code for ArrayList assumes Integer.MAX_VALUE-8 is the maximum array size, which seems a reasonable number to use - I don't know how to get at it programmatically.\r\n> \r\n> I'd be fine with updating UnsynchronizedBuffer to use that instead, since it's hard-coded in ArrayList, and likely a stable enough number to use. Though... anybody creating mutations big enough to hit this will still be asking for trouble elsewhere. Although we don't impose a limit, I'd subjectively say that anything larger than low 10s of MBs for a mutation is probably too large.\r\n\r\nI agree, but note that there's no way (at least as of 1.9.3, I didn't check 2.0) for the caller to see just how large the Mutation has gotten.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/588262981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/588274532","html_url":"https://github.com/apache/accumulo/issues/1520#issuecomment-588274532","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1520","id":588274532,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODI3NDUzMg==","user":{"login":"mjwall","id":2342,"node_id":"MDQ6VXNlcjIzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/2342?v=4","gravatar_id":"","url":"https://api.github.com/users/mjwall","html_url":"https://github.com/mjwall","followers_url":"https://api.github.com/users/mjwall/followers","following_url":"https://api.github.com/users/mjwall/following{/other_user}","gists_url":"https://api.github.com/users/mjwall/gists{/gist_id}","starred_url":"https://api.github.com/users/mjwall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjwall/subscriptions","organizations_url":"https://api.github.com/users/mjwall/orgs","repos_url":"https://api.github.com/users/mjwall/repos","events_url":"https://api.github.com/users/mjwall/events{/privacy}","received_events_url":"https://api.github.com/users/mjwall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T14:55:30Z","updated_at":"2020-02-19T14:55:30Z","author_association":"MEMBER","body":"> It's not handled in 2.0 - when the buffer first gets beyond 2^30 bytes it will throw an exception, long before the overall Mutation size reaches the limit.\r\n\r\nHey @dan-blum, sorry I didn't mean to imply this issue is fixed in 2.0.  Only that the OOM appears to be handled *better* in 2.0 and link the existing tickets for that change.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/588274532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/588346560","html_url":"https://github.com/apache/accumulo/issues/1512#issuecomment-588346560","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1512","id":588346560,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODM0NjU2MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T17:36:16Z","updated_at":"2020-02-19T17:36:16Z","author_association":"MEMBER","body":"Awesome! Thanks @milleruntime !","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/588346560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/588419403","html_url":"https://github.com/apache/accumulo/pull/1522#issuecomment-588419403","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1522","id":588419403,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODQxOTQwMw==","user":{"login":"alerman","id":119506,"node_id":"MDQ6VXNlcjExOTUwNg==","avatar_url":"https://avatars.githubusercontent.com/u/119506?v=4","gravatar_id":"","url":"https://api.github.com/users/alerman","html_url":"https://github.com/alerman","followers_url":"https://api.github.com/users/alerman/followers","following_url":"https://api.github.com/users/alerman/following{/other_user}","gists_url":"https://api.github.com/users/alerman/gists{/gist_id}","starred_url":"https://api.github.com/users/alerman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alerman/subscriptions","organizations_url":"https://api.github.com/users/alerman/orgs","repos_url":"https://api.github.com/users/alerman/repos","events_url":"https://api.github.com/users/alerman/events{/privacy}","received_events_url":"https://api.github.com/users/alerman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T19:58:26Z","updated_at":"2020-02-19T19:58:41Z","author_association":"CONTRIBUTOR","body":"The class that does not support env:PASS is RemoveEntriesForMissingFiles, which is an accumulo class. We have had a problem with Rfiles periodically going missing, which is an issue. Until that can be fixed we want to be able to run this periodically to get ahead of the compactions failing.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/588419403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/588433299","html_url":"https://github.com/apache/accumulo/pull/1522#issuecomment-588433299","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1522","id":588433299,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODQzMzI5OQ==","user":{"login":"alerman","id":119506,"node_id":"MDQ6VXNlcjExOTUwNg==","avatar_url":"https://avatars.githubusercontent.com/u/119506?v=4","gravatar_id":"","url":"https://api.github.com/users/alerman","html_url":"https://github.com/alerman","followers_url":"https://api.github.com/users/alerman/followers","following_url":"https://api.github.com/users/alerman/following{/other_user}","gists_url":"https://api.github.com/users/alerman/gists{/gist_id}","starred_url":"https://api.github.com/users/alerman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alerman/subscriptions","organizations_url":"https://api.github.com/users/alerman/orgs","repos_url":"https://api.github.com/users/alerman/repos","events_url":"https://api.github.com/users/alerman/events{/privacy}","received_events_url":"https://api.github.com/users/alerman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T20:28:11Z","updated_at":"2020-02-19T20:28:11Z","author_association":"CONTRIBUTOR","body":"I'll make sure this works as expected in 2.0 in which case We can just close this issue and wait for that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/588433299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/588473063","html_url":"https://github.com/apache/accumulo/pull/1522#issuecomment-588473063","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1522","id":588473063,"node_id":"MDEyOklzc3VlQ29tbWVudDU4ODQ3MzA2Mw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-19T21:12:58Z","updated_at":"2020-02-19T21:12:58Z","author_association":"MEMBER","body":"Now that I know what class you're using, I feel I must offer a disclaimer. That class has largely remained untouched since the initial public release of Accumulo. It was always intended to be a \"use-at-your-own-risk\" administrator surgery utility, but since it has largely received on attention across versions which separated the root table, switched to absolute paths, added multiple-volume support, and numerous metadata schema changes, I'd be surprised if it worked reliably and suggest it be used with *extreme* care. It even predates the use of RFiles, still referring to them as \"Map Files\".\r\n\r\nAs for its use of the password, as a system utility, it could probably be rewritten to use the system password / system context.\r\n\r\nFor 2.x, there's no need to add command-line features for passwords, because newer utilities should use either the system user (via the system properties file) or behave as a client (using client properties file, which already has commons-configuration2 features to interface with system environment and property injection).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/588473063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589168064","html_url":"https://github.com/apache/accumulo/pull/1527#issuecomment-589168064","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1527","id":589168064,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTE2ODA2NA==","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-20T16:29:17Z","updated_at":"2020-02-20T16:29:17Z","author_association":"CONTRIBUTOR","body":"@keith-turner do you think this invalidates the need for #1249? I have been looking into this ticket and working to create a dedicated Fate logger with standardized output for each operation.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589168064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589172770","html_url":"https://github.com/apache/accumulo/pull/140#issuecomment-589172770","issue_url":"https://api.github.com/repos/apache/accumulo/issues/140","id":589172770,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTE3Mjc3MA==","user":{"login":"phrocker","id":1781585,"node_id":"MDQ6VXNlcjE3ODE1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/1781585?v=4","gravatar_id":"","url":"https://api.github.com/users/phrocker","html_url":"https://github.com/phrocker","followers_url":"https://api.github.com/users/phrocker/followers","following_url":"https://api.github.com/users/phrocker/following{/other_user}","gists_url":"https://api.github.com/users/phrocker/gists{/gist_id}","starred_url":"https://api.github.com/users/phrocker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phrocker/subscriptions","organizations_url":"https://api.github.com/users/phrocker/orgs","repos_url":"https://api.github.com/users/phrocker/repos","events_url":"https://api.github.com/users/phrocker/events{/privacy}","received_events_url":"https://api.github.com/users/phrocker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-20T16:37:12Z","updated_at":"2020-02-20T16:37:12Z","author_association":"CONTRIBUTOR","body":"@ctubbsii and @keith-turner  thanks for prior reviews. I've rebased and am testing this on a cluster. I built and ran tests locally but did not run verify. I will do that now and allow travis to do its thing. I'll post an update when it's ready for another set of eyes, which I would totally appreciate. Sorry for the mixup on my part. This was a PR that had a positive impact on production systems -- I just became too peanut buttered. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589172770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589177945","html_url":"https://github.com/apache/accumulo/pull/1527#issuecomment-589177945","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1527","id":589177945,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTE3Nzk0NQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-20T16:47:10Z","updated_at":"2020-02-20T17:00:53Z","author_association":"CONTRIBUTOR","body":"> @keith-turner do you think this invalidates the need for #1249? \r\n\r\nI don't think it does.  I think materializing the goal and status info into a human readable form would still be useful. Could possibly store that info in FATE properties.\r\n\r\nAlso, the work in the PR is extremely low level and very verbose.  I suspect no one would turn this on w/o a good reason.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589177945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589183319","html_url":"https://github.com/apache/accumulo/pull/1527#issuecomment-589183319","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1527","id":589183319,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTE4MzMxOQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-20T16:58:05Z","updated_at":"2020-02-20T17:03:10Z","author_association":"CONTRIBUTOR","body":"@jmark99 if you have any branches for #1249 with work in progress commits and want me to take a look I would be happy to.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589183319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589195097","html_url":"https://github.com/apache/accumulo/pull/1527#issuecomment-589195097","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1527","id":589195097,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTE5NTA5Nw==","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-20T17:07:44Z","updated_at":"2020-02-20T17:07:44Z","author_association":"CONTRIBUTOR","body":"@keith-turner Ok thanks! I will continue to look into the ticket. Where are the FATE properties to which you refer?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589195097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589205510","html_url":"https://github.com/apache/accumulo/pull/1527#issuecomment-589205510","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1527","id":589205510,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTIwNTUxMA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-20T17:14:47Z","updated_at":"2020-02-20T17:14:47Z","author_association":"CONTRIBUTOR","body":"> Where are the FATE properties to which you refer?\r\n\r\n@jmark99 I was thinking of the following.\r\n\r\nhttps://github.com/apache/accumulo/blob/1d95efe569eda9d6660b1d61baa3bc406abfcb06/core/src/main/java/org/apache/accumulo/fate/Fate.java#L259\r\n\r\nMaybe could do something like `store.setProperty(tid, GOAL_PROP, theGoal)` ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589205510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589212887","html_url":"https://github.com/apache/accumulo/pull/1527#issuecomment-589212887","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1527","id":589212887,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTIxMjg4Nw==","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-20T17:27:29Z","updated_at":"2020-02-20T17:27:29Z","author_association":"CONTRIBUTOR","body":"@keith-turner thanks for the reference","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589212887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589643440","html_url":"https://github.com/apache/accumulo/pull/1528#issuecomment-589643440","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1528","id":589643440,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTY0MzQ0MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-21T13:00:47Z","updated_at":"2020-02-21T13:00:47Z","author_association":"MEMBER","body":"@EdColeman I think you'll be happy to know that I tested the automatic reconfiguration by simple editing of the log4j2.properties while the shell was running, and it worked perfectly. It's a great alternative to, and much more powerful than, the 'debug on' feature of the shell that was crippled in 2.0.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589643440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589671711","html_url":"https://github.com/apache/accumulo/pull/1528#issuecomment-589671711","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1528","id":589671711,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTY3MTcxMQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-21T14:17:51Z","updated_at":"2020-02-21T14:17:51Z","author_association":"MEMBER","body":"Biggest frustration is that ZooKeeper (at least, 3.4; I haven't checked 3.5) has a hard runtime dependency on the log4j 1.2 jar, which could conflict with the log4j-1.2-api shim for log4j2 (which contains most log4j 1.2 API classes, but not all of those, including some that ZK needs). This doesn't matter so much or most of our code, since the ZK client code doesn't seem to need it, so we can just leave it off the class path for most processes. However, the ZK server seems to need it for some JMX stuff it is doing, which means that Minicluster, and anything that uses Minicluster will be affected (such as our ITs). Hopefully this is a non-issue in ZooKeeper 3.5, but I haven't checked.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589671711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589674542","html_url":"https://github.com/apache/accumulo/pull/1528#issuecomment-589674542","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1528","id":589674542,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTY3NDU0Mg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-21T14:24:19Z","updated_at":"2020-02-21T14:24:19Z","author_association":"MEMBER","body":"Related ZooKeeper issues: https://issues.apache.org/jira/browse/ZOOKEEPER-1371 and https://issues.apache.org/jira/browse/ZOOKEEPER-850\r\nThe ClassNotFoundException I was seeing at runtime with ZK 3.4.14 was org.apache.log4j.jmx.HierarchyDynamicMBean ; this may be resolved in the latest 3.5.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589674542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589725351","html_url":"https://github.com/apache/accumulo/issues/1428#issuecomment-589725351","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1428","id":589725351,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTcyNTM1MQ==","user":{"login":"ron-rico","id":59926147,"node_id":"MDQ6VXNlcjU5OTI2MTQ3","avatar_url":"https://avatars.githubusercontent.com/u/59926147?v=4","gravatar_id":"","url":"https://api.github.com/users/ron-rico","html_url":"https://github.com/ron-rico","followers_url":"https://api.github.com/users/ron-rico/followers","following_url":"https://api.github.com/users/ron-rico/following{/other_user}","gists_url":"https://api.github.com/users/ron-rico/gists{/gist_id}","starred_url":"https://api.github.com/users/ron-rico/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ron-rico/subscriptions","organizations_url":"https://api.github.com/users/ron-rico/orgs","repos_url":"https://api.github.com/users/ron-rico/repos","events_url":"https://api.github.com/users/ron-rico/events{/privacy}","received_events_url":"https://api.github.com/users/ron-rico/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-21T16:21:40Z","updated_at":"2020-02-21T16:21:40Z","author_association":"NONE","body":"Hi @ctubbsii ,\r\nHow would you suggest I test this issue once I integrate my code changes to default to RawLocalFileSystem? Sync is mentioned. Is there a unit test touches this sync function?\r\nThanks.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589725351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589742736","html_url":"https://github.com/apache/accumulo/issues/1428#issuecomment-589742736","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1428","id":589742736,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTc0MjczNg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-21T17:02:23Z","updated_at":"2020-02-21T17:02:23Z","author_association":"MEMBER","body":"DurabilityIT is one such IT. It currently overrides the LocalFileSystem to be RawLocalFileSystem, as do several other tests where it might matter. As long as those ITs pass, that should be sufficient. You need not wait until the ITs pass for you before you submit a PR. I can test the ITs once the PR is created and the change is reviewed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589742736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589945578","html_url":"https://github.com/apache/accumulo/pull/1528#issuecomment-589945578","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1528","id":589945578,"node_id":"MDEyOklzc3VlQ29tbWVudDU4OTk0NTU3OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-22T11:08:19Z","updated_at":"2020-02-22T11:15:39Z","author_association":"MEMBER","body":"All ITs pass with these latest changes, except for:\r\n```\r\norg.apache.accumulo.test.fate.zookeeper.ZooLockTest.testTryLock\r\norg.apache.accumulo.test.functional.GarbageCollectorIT.gcLotsOfCandidatesIT\r\norg.apache.accumulo.test.replication.CyclicReplicationIT.dataIsNotOverReplicated\r\norg.apache.accumulo.test.replication.KerberosReplicationIT.dataReplicatedToCorrectTable\r\norg.apache.accumulo.test.replication.ReplicationIT.verifyReplicationTableConfig\r\norg.apache.accumulo.test.replication.UnorderedWorkAssignerReplicationIT.dataWasReplicatedToThePeerWithoutDrain\r\n```\r\nwhich are all previously flakey tests.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/589945578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/590451149","html_url":"https://github.com/apache/accumulo/pull/1528#issuecomment-590451149","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1528","id":590451149,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDQ1MTE0OQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T17:27:36Z","updated_at":"2020-02-24T17:27:36Z","author_association":"CONTRIBUTOR","body":"Any ideas how to verify that the properties files were converted over correctly?  This is rather tricky to review since all the files have completely different format now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/590451149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/590554782","html_url":"https://github.com/apache/accumulo/pull/1528#issuecomment-590554782","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1528","id":590554782,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDU1NDc4Mg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T21:21:51Z","updated_at":"2020-02-24T21:21:51Z","author_association":"MEMBER","body":"> Any ideas how to verify that the properties files were converted over correctly? This is rather tricky to review since all the files have completely different format now.\r\n\r\nThe config files need less review than the code. Unfortunately, since it's all related, I wasn't able to break it into separate pieces for easier review.\r\n\r\nAs for the config files:\r\n\r\nNone of the test config files (log4j2-test.properties) actually matter unless they affect a test. They are mostly personal preference while debugging build test failures. So, they don't really matter. But... I did verify the tests pass (after some initially failed before I converted them over), so those are all fine, for sure. They can be tweaked later if we want to log differently for our build testing. Log4j2 itself would also have logged something in the test output if the config files were malformed, and I didn't see anything like that. For the ITs in the test module, the ones that use minicluster are easily to verify also, by looking at the mini log directory.\r\n\r\nThe best way to test the config files in the tarball assembly is to use Uno (https://github.com/apache/fluo-uno) to start up an Accumulo instance.\r\n\r\nUsing Uno, it is easy to verify the logs get sent to the Monitor properly with the out-of-the-box configs, as well as to the log directories (log4j2-service.properties). Uno also makes it easy to run a shell and verify the console logging for the shell works well (log4j2.properties). (Try `debug` or `flush` to see various colorized output.)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/590554782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/590555739","html_url":"https://github.com/apache/accumulo/pull/1024#issuecomment-590555739","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1024","id":590555739,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDU1NTczOQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T21:24:12Z","updated_at":"2020-02-24T21:24:12Z","author_association":"MEMBER","body":"Superseded by #1495 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/590555739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/590556351","html_url":"https://github.com/apache/accumulo/pull/1519#issuecomment-590556351","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1519","id":590556351,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDU1NjM1MQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-24T21:25:32Z","updated_at":"2020-02-24T21:25:32Z","author_association":"MEMBER","body":"@milleruntime I can't tell if you're still working on this or if it's ready for re-review. If you want a re-review, feel free to tag me.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/590556351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/590634717","html_url":"https://github.com/apache/accumulo/pull/1528#issuecomment-590634717","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1528","id":590634717,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDYzNDcxNw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T01:29:04Z","updated_at":"2020-02-25T01:29:04Z","author_association":"MEMBER","body":"More details on the ZooKeeper issue I mentioned above is handled in a separate PR (#1531) and the referenced ZOOKEEPER JIRA issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/590634717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/590860714","html_url":"https://github.com/apache/accumulo/pull/1519#issuecomment-590860714","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1519","id":590860714,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDg2MDcxNA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T13:15:34Z","updated_at":"2020-02-25T13:15:34Z","author_association":"CONTRIBUTOR","body":"> @milleruntime I can't tell if you're still working on this or if it's ready for re-review. If you want a re-review, feel free to tag me.\r\n\r\nI am still working on this...  I started another branch since these changes are involved.  I will merge it with this branch and ping you when its ready.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/590860714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/590892877","html_url":"https://github.com/apache/accumulo/pull/1531#issuecomment-590892877","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1531","id":590892877,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDg5Mjg3Nw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T14:27:24Z","updated_at":"2020-02-25T14:27:24Z","author_association":"CONTRIBUTOR","body":"@ctubbsii do you know if Zookeepers hard coded dependency on log4j 1 in its server and/or client code?  Wondering this impact Accumulo clients or if it only impact mini accumulo.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/590892877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/590959324","html_url":"https://github.com/apache/accumulo/pull/1531#issuecomment-590959324","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1531","id":590959324,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDk1OTMyNA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T16:52:58Z","updated_at":"2020-02-25T16:52:58Z","author_association":"MEMBER","body":"> @ctubbsii do you know if Zookeepers hard coded dependency on log4j 1 in its server and/or client code? Wondering this impact Accumulo clients or if it only impact mini accumulo.\r\n\r\nAs far as I can tell, it's only in the server code, and only affects mini. Either way, bumping doesn't remove our dependency on log4j1 on the class path, so there's no good reason to bump to it right now (unless there's some 3.5-only feature we want). Hence, the stall.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/590959324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591033196","html_url":"https://github.com/apache/accumulo/pull/1519#issuecomment-591033196","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1519","id":591033196,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTAzMzE5Ng==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T19:42:54Z","updated_at":"2020-02-25T19:42:54Z","author_association":"CONTRIBUTOR","body":"@ctubbsii I made the updates you and @keith-turner suggested so this PR can be reviewed.  I know of at least 1 IT that is failing, SplitRecoveryIT that i am still trying to fix. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591033196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591225446","html_url":"https://github.com/apache/accumulo/pull/1531#issuecomment-591225446","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1531","id":591225446,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTIyNTQ0Ng==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T03:52:42Z","updated_at":"2020-02-26T03:52:42Z","author_association":"MEMBER","body":"A workaround was suggested, and works for the log4j 1.2 jmx ClassNotFoundException. So, this PR is now ready for review (though I'm still waiting for tests to finish). I think there might be some issue with a new port being listened to on 8080 by ZK servers... I haven't looked into it, but it seems likely to be something we'd want to set the port explicitly to some other random port instead of using 8080.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591225446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591236647","html_url":"https://github.com/apache/accumulo/pull/1531#issuecomment-591236647","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1531","id":591236647,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTIzNjY0Nw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T04:47:49Z","updated_at":"2020-02-26T04:47:49Z","author_association":"MEMBER","body":"It turns out the thing listening on port 8080 was the new admin server (a REST-based alternative to the 4lw interface), and it's both optional and trivial to disable.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591236647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591409687","html_url":"https://github.com/apache/accumulo/pull/1518#issuecomment-591409687","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1518","id":591409687,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTQwOTY4Nw==","user":{"login":"cradal","id":20303105,"node_id":"MDQ6VXNlcjIwMzAzMTA1","avatar_url":"https://avatars.githubusercontent.com/u/20303105?v=4","gravatar_id":"","url":"https://api.github.com/users/cradal","html_url":"https://github.com/cradal","followers_url":"https://api.github.com/users/cradal/followers","following_url":"https://api.github.com/users/cradal/following{/other_user}","gists_url":"https://api.github.com/users/cradal/gists{/gist_id}","starred_url":"https://api.github.com/users/cradal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cradal/subscriptions","organizations_url":"https://api.github.com/users/cradal/orgs","repos_url":"https://api.github.com/users/cradal/repos","events_url":"https://api.github.com/users/cradal/events{/privacy}","received_events_url":"https://api.github.com/users/cradal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T12:50:13Z","updated_at":"2020-02-26T12:50:13Z","author_association":"CONTRIBUTOR","body":"@ctubbsii @keith-turner I'm not sure if you all get notifications of new commits, but I added the table name limits to the rest of the table operations. Also I did the same for namespaces, including fast-fails and unit test. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591409687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591536791","html_url":"https://github.com/apache/accumulo/pull/1519#issuecomment-591536791","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1519","id":591536791,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTUzNjc5MQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T17:08:31Z","updated_at":"2020-02-26T17:08:31Z","author_association":"CONTRIBUTOR","body":"@keith-turner I added a TODO to take a close look at the compaction code [here](https://github.com/apache/accumulo/blob/95b92c555b8e78bfc1577eccd59a55f12fa80708/server/tserver/src/main/java/org/apache/accumulo/tserver/tablet/DatafileManager.java#L548).  I noticed a difference in the order metadata is updated between minor and major compactions.  During minor compactions, we update the metadata table first and then update the Tablet data in memory.  Major compactions update the tablet data in memory first (with the tablet lock) then outside the lock wait for scans and then finally update the metadata table.  Do you know why the metadata isn't updated first during major compaction? ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591536791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591566479","html_url":"https://github.com/apache/accumulo/pull/1453#issuecomment-591566479","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1453","id":591566479,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTU2NjQ3OQ==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T18:14:27Z","updated_at":"2020-02-26T18:14:27Z","author_association":"CONTRIBUTOR","body":"I removed a function that was leftover from the previous iteration. I haven't tested this code since my last commit but everything should be in order.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591566479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591597950","html_url":"https://github.com/apache/accumulo/pull/1519#issuecomment-591597950","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1519","id":591597950,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTU5Nzk1MA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T19:21:39Z","updated_at":"2020-02-26T19:21:39Z","author_association":"CONTRIBUTOR","body":"https://issues.apache.org/jira/browse/ACCUMULO-18","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591597950/reactions","total_count":2,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591598250","html_url":"https://github.com/apache/accumulo/pull/1453#issuecomment-591598250","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1453","id":591598250,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTU5ODI1MA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T19:22:19Z","updated_at":"2020-02-26T19:22:19Z","author_association":"CONTRIBUTOR","body":"Deleted that pesky line. Was a long road coming for that one line change but I shall cherish it forever. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591598250/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591604110","html_url":"https://github.com/apache/accumulo/pull/1453#issuecomment-591604110","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1453","id":591604110,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTYwNDExMA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T19:34:35Z","updated_at":"2020-02-26T19:34:35Z","author_association":"CONTRIBUTOR","body":"@EdColeman @keith-turner the complexity of this PR has drastically been reduced so unless either of you have any more concerns, I will merge it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591604110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591607792","html_url":"https://github.com/apache/accumulo/pull/1453#issuecomment-591607792","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1453","id":591607792,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTYwNzc5Mg==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T19:43:04Z","updated_at":"2020-02-26T19:43:04Z","author_association":"CONTRIBUTOR","body":"Since the last location is set on assignment, could remove setting it after compactions.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591607792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591609949","html_url":"https://github.com/apache/accumulo/pull/1453#issuecomment-591609949","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1453","id":591609949,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTYwOTk0OQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T19:48:02Z","updated_at":"2020-02-26T19:48:23Z","author_association":"CONTRIBUTOR","body":"Below are locations that are setting it.\r\n\r\nhttps://github.com/apache/accumulo/blob/19e4f7dd23d383833a4c12f7cb9223401c449a4a/server/base/src/main/java/org/apache/accumulo/server/util/MasterMetadataUtil.java#L199\r\n\r\nhttps://github.com/apache/accumulo/blob/19e4f7dd23d383833a4c12f7cb9223401c449a4a/server/base/src/main/java/org/apache/accumulo/server/util/MasterMetadataUtil.java#L229\r\n\r\nAlso, that code deletes any previous last locations.  This may need to be done at assignment also.\r\n\r\nhttps://github.com/apache/accumulo/blob/19e4f7dd23d383833a4c12f7cb9223401c449a4a/server/base/src/main/java/org/apache/accumulo/server/util/MasterMetadataUtil.java#L233","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591609949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591640460","html_url":"https://github.com/apache/accumulo/issues/1532#issuecomment-591640460","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1532","id":591640460,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTY0MDQ2MA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T20:58:48Z","updated_at":"2020-02-26T20:58:48Z","author_association":"CONTRIBUTOR","body":"I see you are using JDK 12... perhaps this is a change from 11 to 12.  I haven't tried running 12 yet.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591640460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591647622","html_url":"https://github.com/apache/accumulo/issues/1532#issuecomment-591647622","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1532","id":591647622,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTY0NzYyMg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T21:15:16Z","updated_at":"2020-02-26T21:15:16Z","author_association":"MEMBER","body":"In the 1.9 branch, we have a dependency on commons-configuration 1.6. That dependency's pom.xml declares an optional dependency on an older version of ant:\r\n\r\n```xml\r\n    <dependency>                                                                                    \r\n      <groupId>ant</groupId>                                                                        \r\n      <artifactId>ant</artifactId>                                                                  \r\n      <version>1.6.5</version>                                                                      \r\n      <optional>true</optional>                                                                     \r\n    </dependency>\r\n```\r\n\r\nIt appears that your IDE is trying to include that dependency, but it is unavailable on your IDE's class path. I do not know enough about IntelliJ to know why it's even trying to include this dependency at all, but it is most certainly a problem specific to your environment, and not necessarily one for Accumulo.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591647622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591652063","html_url":"https://github.com/apache/accumulo/pull/1527#issuecomment-591652063","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1527","id":591652063,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTY1MjA2Mw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T21:25:53Z","updated_at":"2020-02-26T21:25:53Z","author_association":"MEMBER","body":"Oh @keith-turner , you should probably test with log4j2 configuration files, since those changes were already merged and your description above mentions the old log4j1 files.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591652063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591658406","html_url":"https://github.com/apache/accumulo/pull/1524#issuecomment-591658406","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1524","id":591658406,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTY1ODQwNg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T21:40:48Z","updated_at":"2020-02-26T21:40:48Z","author_association":"MEMBER","body":"Disabling these ITs shortened our full build time by about 2 hours, down to 4 from 6.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591658406/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591664990","html_url":"https://github.com/apache/accumulo/pull/1519#issuecomment-591664990","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1519","id":591664990,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTY2NDk5MA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-26T21:56:54Z","updated_at":"2020-02-26T21:56:54Z","author_association":"CONTRIBUTOR","body":"Seeing a failure in BadIteratorMincIT:\r\n```\r\n2020-02-26 16:13:35,689 [tablet.Compactor] ERROR: null\r\njava.lang.NullPointerException\r\n        at org.apache.accumulo.test.functional.BadIterator.hasTop(BadIterator.java:36)\r\n        at org.apache.accumulo.tserver.tablet.Compactor.compactLocalityGroup(Compactor.java:380)\r\n        at org.apache.accumulo.tserver.tablet.Compactor.call(Compactor.java:231)\r\n        at org.apache.accumulo.tserver.tablet.MinorCompactor.call(MinorCompactor.java:128)\r\n        at org.apache.accumulo.tserver.tablet.Tablet.minorCompact(Tablet.java:820)\r\n        at org.apache.accumulo.tserver.tablet.MinorCompactionTask.run(MinorCompactionTask.java:94)\r\n        at org.apache.accumulo.fate.util.LoggingRunnable.run(LoggingRunnable.java:37)\r\n        at org.apache.htrace.wrappers.TraceRunnable.run(TraceRunnable.java:57)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at org.apache.accumulo.fate.util.LoggingRunnable.run(LoggingRunnable.java:37)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591664990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591979867","html_url":"https://github.com/apache/accumulo/pull/1453#issuecomment-591979867","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1453","id":591979867,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTk3OTg2Nw==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T13:48:32Z","updated_at":"2020-02-27T13:48:32Z","author_association":"CONTRIBUTOR","body":"I removed setting last location after compactions. I am going to test out clearing out previous last locations on assignment so I haven't pushed those changes yet. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591979867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591983733","html_url":"https://github.com/apache/accumulo/issues/1507#issuecomment-591983733","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1507","id":591983733,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTk4MzczMw==","user":{"login":"cradal","id":20303105,"node_id":"MDQ6VXNlcjIwMzAzMTA1","avatar_url":"https://avatars.githubusercontent.com/u/20303105?v=4","gravatar_id":"","url":"https://api.github.com/users/cradal","html_url":"https://github.com/cradal","followers_url":"https://api.github.com/users/cradal/followers","following_url":"https://api.github.com/users/cradal/following{/other_user}","gists_url":"https://api.github.com/users/cradal/gists{/gist_id}","starred_url":"https://api.github.com/users/cradal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cradal/subscriptions","organizations_url":"https://api.github.com/users/cradal/orgs","repos_url":"https://api.github.com/users/cradal/repos","events_url":"https://api.github.com/users/cradal/events{/privacy}","received_events_url":"https://api.github.com/users/cradal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T13:56:56Z","updated_at":"2020-02-27T13:56:56Z","author_association":"CONTRIBUTOR","body":"@milleruntime Hello. I was looking at this issue as my possible next task, but I see some things which indicate some work might have already been done. For example, the metadataEntry field in TabletFile errors out if an attempt is made to instantiate it with a null metadataEntry. Hence, it seems that any call to getMetaDataEntry() will return something. Also, getMetadataEntry() is already being called on createDeleteMutation and minor/major compactions. Has this issue already been worked?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591983733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591999750","html_url":"https://github.com/apache/accumulo/issues/1507#issuecomment-591999750","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1507","id":591999750,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTk5OTc1MA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T14:27:00Z","updated_at":"2020-02-27T14:27:00Z","author_association":"CONTRIBUTOR","body":"Yes it is almost completed in #1519.  Thanks for the ping though I had forgotten I created an issue!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/591999750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/592040265","html_url":"https://github.com/apache/accumulo/issues/1532#issuecomment-592040265","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1532","id":592040265,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjA0MDI2NQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T16:08:40Z","updated_at":"2020-02-27T16:08:40Z","author_association":"CONTRIBUTOR","body":"This isn't a build environment issue.  I was able to reproduce this error on the command line running the GcMetricsIT and enabling the two properties, ```gc.metrics.enabled``` and ```general.legacy.metrics```.   The issue was introduced with the backport of GC_METRICS_ENABLED in the commit 0d7d976085ca06ce0d303151803824386dbc6ad2.  There should be a test for this feature as well.  \r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/592040265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/592041713","html_url":"https://github.com/apache/accumulo/issues/1532#issuecomment-592041713","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1532","id":592041713,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjA0MTcxMw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T16:11:28Z","updated_at":"2020-02-27T16:11:28Z","author_association":"CONTRIBUTOR","body":"If this a conflict with the legacy metrics and the GC metrics, we may have to drop the support for legacy metrics if it is polluting the classpath with really old commons-configuration.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/592041713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/592049874","html_url":"https://github.com/apache/accumulo/issues/1532#issuecomment-592049874","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1532","id":592049874,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjA0OTg3NA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T16:26:53Z","updated_at":"2020-02-27T16:26:53Z","author_association":"MEMBER","body":"I see. Since we've already dropped support for the legacy metrics in 2.x and upgraded to commons-configuration2, it kind of feels like this backport might be more trouble than it's worth... causing us to revisit already solved issues.\r\n\r\nIf backporting these GC metrics to 1.x is going to cause significant problems that can't easily be worked around, I'm inclined to just revert those changes in 1.x and make people wait until they upgrade to get the new GC metrics if they need them.\r\n\r\nIf it's an easy fix, though... without breaking the legacy metrics in 1.x, that's preferred, of course (best of both worlds, and all that). Is it possible to just throw ant on the class path ourselves (as optional) to fix the problem? And, if that works, we can just tell people they might need ant on their class path to get the feature in 1.x.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/592049874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/592144911","html_url":"https://github.com/apache/accumulo/issues/1532#issuecomment-592144911","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1532","id":592144911,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjE0NDkxMQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T19:48:07Z","updated_at":"2020-02-27T19:48:07Z","author_association":"MEMBER","body":"Fixed in 3779cf9de0a286d951f0bd92553edb345f1ada8e","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/592144911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/592255829","html_url":"https://github.com/apache/accumulo/issues/1451#issuecomment-592255829","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1451","id":592255829,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjI1NTgyOQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-28T00:58:19Z","updated_at":"2020-02-28T00:58:19Z","author_association":"CONTRIBUTOR","body":"An alternative approach : apache/accumulo-website#223","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/592255829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/592550667","html_url":"https://github.com/apache/accumulo/pull/1536#issuecomment-592550667","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1536","id":592550667,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjU1MDY2Nw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-28T14:59:54Z","updated_at":"2020-02-28T14:59:54Z","author_association":"CONTRIBUTOR","body":"I am taking a look at this pull request but wanted to clarify that these changes are new to both 1.9 and master?  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/592550667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/592692974","html_url":"https://github.com/apache/accumulo/issues/1525#issuecomment-592692974","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1525","id":592692974,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjY5Mjk3NA==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-28T19:39:41Z","updated_at":"2020-02-28T19:39:41Z","author_association":"CONTRIBUTOR","body":"@ctubbsii ,  this consistently fails for me on the 1.9 branch.  I am looking into this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/592692974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/592705741","html_url":"https://github.com/apache/accumulo/issues/1473#issuecomment-592705741","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1473","id":592705741,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjcwNTc0MQ==","user":{"login":"cradal","id":20303105,"node_id":"MDQ6VXNlcjIwMzAzMTA1","avatar_url":"https://avatars.githubusercontent.com/u/20303105?v=4","gravatar_id":"","url":"https://api.github.com/users/cradal","html_url":"https://github.com/cradal","followers_url":"https://api.github.com/users/cradal/followers","following_url":"https://api.github.com/users/cradal/following{/other_user}","gists_url":"https://api.github.com/users/cradal/gists{/gist_id}","starred_url":"https://api.github.com/users/cradal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cradal/subscriptions","organizations_url":"https://api.github.com/users/cradal/orgs","repos_url":"https://api.github.com/users/cradal/repos","events_url":"https://api.github.com/users/cradal/events{/privacy}","received_events_url":"https://api.github.com/users/cradal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-28T20:06:56Z","updated_at":"2020-02-28T20:06:56Z","author_association":"CONTRIBUTOR","body":"@keith-turner I would like to delve into this issue. However, I can only see one build() method in TabletsMetadata, the one that takes a client. Has some work on this already been done?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/592705741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/592736424","html_url":"https://github.com/apache/accumulo/issues/1473#issuecomment-592736424","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1473","id":592736424,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjczNjQyNA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-28T21:26:27Z","updated_at":"2020-02-28T21:26:27Z","author_association":"CONTRIBUTOR","body":"@cradal  looking at history, I think the changes in 8c9a4e1 removed the other build method.  This changes is still valid and the changes in 8c9a4e1 may make this change easier.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/592736424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/592738490","html_url":"https://github.com/apache/accumulo/issues/1525#issuecomment-592738490","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1525","id":592738490,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjczODQ5MA==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-28T21:32:19Z","updated_at":"2020-02-28T21:32:19Z","author_association":"CONTRIBUTOR","body":"@ctubbsii , @milleruntime  This commit broke the VolumeIT.testRemovesVolumes (it is a consistent error for me not occasional) :\r\n\r\ncommit 7513626cc504e5d93760c4218868dcb2dd6d49a5 (HEAD)\r\nAuthor: Mike Miller <mmiller@apache.org>\r\nDate:   Wed Feb 12 08:28:02 2020 -0500\r\n\r\n    Optimize Tablet volume replacement (#1505)\r\n    \r\n    * Stop volume replacements from checking every file when not used\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/592738490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/592759855","html_url":"https://github.com/apache/accumulo/issues/1473#issuecomment-592759855","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1473","id":592759855,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mjc1OTg1NQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-28T22:32:49Z","updated_at":"2020-02-28T22:32:49Z","author_association":"MEMBER","body":"@cradal I've set the assignee to you, since you have expressed interest in this. :smiley_cat:","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/592759855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593461044","html_url":"https://github.com/apache/accumulo/pull/1539#issuecomment-593461044","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1539","id":593461044,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzQ2MTA0NA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T15:32:44Z","updated_at":"2020-03-02T15:32:44Z","author_association":"CONTRIBUTOR","body":"This is odd, because it is passing in master with this change.  Comparing the IT across the two versions is rather difficult though since there have been so many changes.  \r\n\r\nI am also not sure why the original change doesn't work.  If you look at the code that calls this method [here](https://github.com/apache/accumulo/blob/94844b3ef88bc9e02b5cb5c8eeff81411ac8221d/server/tserver/src/main/java/org/apache/accumulo/tserver/tablet/Tablet.java#L344), the ```tabletPaths``` object should be initialized with all of the entries.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593461044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593462147","html_url":"https://github.com/apache/accumulo/pull/1539#issuecomment-593462147","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1539","id":593462147,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzQ2MjE0Nw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T15:34:53Z","updated_at":"2020-03-02T15:34:53Z","author_association":"CONTRIBUTOR","body":"Here is the 1.9 code that calls this method: https://github.com/apache/accumulo/blob/9c957ab55f28f10dde1321eb613a9ec3e2fa5322/server/tserver/src/main/java/org/apache/accumulo/tserver/tablet/Tablet.java#L359","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593462147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593468853","html_url":"https://github.com/apache/accumulo/pull/1537#issuecomment-593468853","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1537","id":593468853,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzQ2ODg1Mw==","user":{"login":"drewfarris","id":110922,"node_id":"MDQ6VXNlcjExMDkyMg==","avatar_url":"https://avatars.githubusercontent.com/u/110922?v=4","gravatar_id":"","url":"https://api.github.com/users/drewfarris","html_url":"https://github.com/drewfarris","followers_url":"https://api.github.com/users/drewfarris/followers","following_url":"https://api.github.com/users/drewfarris/following{/other_user}","gists_url":"https://api.github.com/users/drewfarris/gists{/gist_id}","starred_url":"https://api.github.com/users/drewfarris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drewfarris/subscriptions","organizations_url":"https://api.github.com/users/drewfarris/orgs","repos_url":"https://api.github.com/users/drewfarris/repos","events_url":"https://api.github.com/users/drewfarris/events{/privacy}","received_events_url":"https://api.github.com/users/drewfarris/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T15:48:17Z","updated_at":"2020-03-02T15:49:07Z","author_association":"CONTRIBUTOR","body":"> @drewfarris Do these changes work on the current development branch? (master) Specifically, I'm concerned that Formatter is not public API, and adding it here could cause problems between branches.\r\n> \r\n\r\n@ctubbsii Would Keith's suggestion of `BiFunction<Key, Value, String>` address this concern? It eliminates the reliance on the Formatter API entirely.\r\n\r\n> Also, new features typically shouldn't be added to maintenance branches. [..] . I could be convinced that these are important enough changes that we definitely need them in 1.10... but normally, I'd argue for changes like these to be put in the next version.\r\n\r\nI agree with the principle of adding this to the newest branch. We really shouldn't be adding features to a 'legacy' baseline. I don't have a compelling argument for putting in in `1.10` other than it is the version we're using in our development and production environments currently and I have a _practical need_ for this feature in that environment. I'd prefer not to maintain a patch/fork for this somewhat trivial feature that most folks won't observe.\r\n\r\nI agree with your point about the fact that this should be targeted at all branches 1.10, 2.0, 2.1 - and I intend to do that based on your feedback. Unfortunately there's just not a nice way to do that without opening multiple PR's which I'd like to avoid until we all have notional agreement that this is a good thing to do (in order to maintain a single conversation thread.)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593468853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593498309","html_url":"https://github.com/apache/accumulo/pull/1538#issuecomment-593498309","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1538","id":593498309,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzQ5ODMwOQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T16:45:21Z","updated_at":"2020-03-02T16:45:21Z","author_association":"CONTRIBUTOR","body":"Thanks @keith-turner ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593498309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593522604","html_url":"https://github.com/apache/accumulo/pull/1539#issuecomment-593522604","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1539","id":593522604,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzUyMjYwNA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T17:35:42Z","updated_at":"2020-03-02T17:35:42Z","author_association":"MEMBER","body":"> This is odd, because it is passing in master with this change. Comparing the IT across the two versions is rather difficult though since there have been so many changes.\r\n> \r\n> I am also not sure why the original change doesn't work. If you look at the code that calls this method [here](https://github.com/apache/accumulo/blob/94844b3ef88bc9e02b5cb5c8eeff81411ac8221d/server/tserver/src/main/java/org/apache/accumulo/tserver/tablet/Tablet.java#L344), the `tabletPaths` object should be initialized with all of the entries.\r\n\r\nThe TabletFiles that is initialized there isn't the one that gets returned from this method. The one returned from this method is initialized at https://github.com/apache/accumulo/blob/94844b3ef88bc9e02b5cb5c8eeff81411ac8221d/server/base/src/main/java/org/apache/accumulo/server/fs/VolumeUtil.java#L151","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593522604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593555118","html_url":"https://github.com/apache/accumulo/pull/1539#issuecomment-593555118","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1539","id":593555118,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzU1NTExOA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T18:44:13Z","updated_at":"2020-03-02T18:44:13Z","author_association":"CONTRIBUTOR","body":"> There is specialized code that deals with previously configured volumes [here](https://github.com/apache/accumulo/pull/1539/files#diff-1f6b72391ba6b0e4ae0508ea1ba77793L255), regardless if the replacements property is currently set so this revert will fix it.\r\n\r\nThis code no longer exists in master.  I am not sure why but it explains the difference in behavior between the versions and why the IT fails in 1.9 branch. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593555118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593555900","html_url":"https://github.com/apache/accumulo/pull/1539#issuecomment-593555900","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1539","id":593555900,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzU1NTkwMA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T18:45:55Z","updated_at":"2020-03-02T18:45:55Z","author_association":"CONTRIBUTOR","body":"> > This is odd, because it is passing in master with this change. Comparing the IT across the two versions is rather difficult though since there have been so many changes.\r\n> > I am also not sure why the original change doesn't work. If you look at the code that calls this method [here](https://github.com/apache/accumulo/blob/94844b3ef88bc9e02b5cb5c8eeff81411ac8221d/server/tserver/src/main/java/org/apache/accumulo/tserver/tablet/Tablet.java#L344), the `tabletPaths` object should be initialized with all of the entries.\r\n> \r\n> The TabletFiles that is initialized there isn't the one that gets returned from this method. The one returned from this method is initialized at\r\n> \r\n> https://github.com/apache/accumulo/blob/94844b3ef88bc9e02b5cb5c8eeff81411ac8221d/server/base/src/main/java/org/apache/accumulo/server/fs/VolumeUtil.java#L151\r\n\r\nTrue but that's not what the optimization returned. This change returned the same one passed as a parameter.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593555900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593569031","html_url":"https://github.com/apache/accumulo/issues/1473#issuecomment-593569031","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1473","id":593569031,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzU2OTAzMQ==","user":{"login":"cradal","id":20303105,"node_id":"MDQ6VXNlcjIwMzAzMTA1","avatar_url":"https://avatars.githubusercontent.com/u/20303105?v=4","gravatar_id":"","url":"https://api.github.com/users/cradal","html_url":"https://github.com/cradal","followers_url":"https://api.github.com/users/cradal/followers","following_url":"https://api.github.com/users/cradal/following{/other_user}","gists_url":"https://api.github.com/users/cradal/gists{/gist_id}","starred_url":"https://api.github.com/users/cradal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cradal/subscriptions","organizations_url":"https://api.github.com/users/cradal/orgs","repos_url":"https://api.github.com/users/cradal/repos","events_url":"https://api.github.com/users/cradal/events{/privacy}","received_events_url":"https://api.github.com/users/cradal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T19:14:51Z","updated_at":"2020-03-02T19:14:51Z","author_association":"CONTRIBUTOR","body":"@keith-turner My idea for this is to define readTablets in the Ample interface, where it would take the TableId vice the KeyExtent as a parameter. Then an Options object can be built forTable(tableId) in the implementation.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593569031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593575819","html_url":"https://github.com/apache/accumulo/issues/1428#issuecomment-593575819","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1428","id":593575819,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzU3NTgxOQ==","user":{"login":"ron-rico","id":59926147,"node_id":"MDQ6VXNlcjU5OTI2MTQ3","avatar_url":"https://avatars.githubusercontent.com/u/59926147?v=4","gravatar_id":"","url":"https://api.github.com/users/ron-rico","html_url":"https://github.com/ron-rico","followers_url":"https://api.github.com/users/ron-rico/followers","following_url":"https://api.github.com/users/ron-rico/following{/other_user}","gists_url":"https://api.github.com/users/ron-rico/gists{/gist_id}","starred_url":"https://api.github.com/users/ron-rico/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ron-rico/subscriptions","organizations_url":"https://api.github.com/users/ron-rico/orgs","repos_url":"https://api.github.com/users/ron-rico/repos","events_url":"https://api.github.com/users/ron-rico/events{/privacy}","received_events_url":"https://api.github.com/users/ron-rico/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T19:29:30Z","updated_at":"2020-03-02T19:29:30Z","author_association":"NONE","body":"The class ConfigurableMacBase is extended by many IT classes.\r\nThe class ConfigurableMacBase has a protected method called configure that passes properties\r\nfor MiniAccumulo configuration and hadoop configuration .\r\nIn many instances the IT classes that extend ConfigurableMacBase override the configure method\r\nto define the FileSystem type as RawLocalFileSystem (the hadoop configuration) with the point being that\r\nRawLocalFileSystem had desired test characteristics over LocalFileSystem.(checksum vs no checksum)\r\nIt is proposed that defining the ConfigurableMacBase.configure method to use RawLocalFileSystem would\r\nallow any new classes that extend ConfigurableMacBase to use RawLocalFileSystem by default without a need to define an\r\noverriding configure method. Any extending class that prefers LocalFileSystem can create an overriding configure method.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593575819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593581190","html_url":"https://github.com/apache/accumulo/pull/1539#issuecomment-593581190","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1539","id":593581190,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzU4MTE5MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T19:41:41Z","updated_at":"2020-03-02T19:41:41Z","author_association":"MEMBER","body":"> True but that's not what the optimization returned. This change returned the same one passed as a parameter.\r\n\r\nRight. My point was that the optimization assumed that the `ret` one that was constructed in the method would have been the same as the parameter by the time the method was finished and `ret` was returned. However, that appears not be the case. It seems there is some difference between the parameter `TabletFiles` and the `TabletFiles ret`. When the test fails, I'm curious what the exact difference is between the two.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593581190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593592769","html_url":"https://github.com/apache/accumulo/pull/1539#issuecomment-593592769","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1539","id":593592769,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzU5Mjc2OQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T20:07:27Z","updated_at":"2020-03-02T20:07:27Z","author_association":"CONTRIBUTOR","body":"> When the test fails, I'm curious what the exact difference is between the two.\r\n\r\nI can do some more debugging because I am too.  But i think you may have missed my comment earlier since you posted at almost the exact same time.  There is a block of code at the bottom of the method that was removed in master which the optimization prevents from executing: https://github.com/apache/accumulo/blob/1.9/server/base/src/main/java/org/apache/accumulo/server/fs/VolumeUtil.java#L255","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593592769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593629267","html_url":"https://github.com/apache/accumulo/issues/1428#issuecomment-593629267","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1428","id":593629267,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzYyOTI2Nw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T21:23:21Z","updated_at":"2020-03-02T21:23:21Z","author_association":"MEMBER","body":"@ron-rico You shouldn't have to touch any code in the `test/` module to implement the change, only in the `minicluster` module. After doing so, it may be possible to remove some redundant configuration that sets it to `RawLocalFileSystem` in the `test/` module, but it shouldn't be necessary to implement.\r\n\r\nThat said, this one might be more complicated and annoying that I had realized at first:\r\n\r\nThe constructor for `MiniAccumuloClusterImpl` takes a `MiniAccumuloConfigImpl`. In there, there is setup of config files, depending on `.useMiniDFS()`. I had initially thought it would be simple to add in the `fs.file.impl` property (similar to @jzgithub1 said above) if the user hadn't already overridden it.\r\n\r\nHowever, I now realize that the way we create the Hadoop configuration, override the config files with additional properties, and retrieve the FileSystem for use by callers of MiniAccumuloCluster, is done inconsistently at various points in time, and this isn't as simple as I had initially thought.\r\n\r\nSpecifically, in `MiniAccumuloClusterImpl`'s constructor, it doesn't even appear to write out a config file at all for the relevant case (when `!useMiniDFS() && !useExistingInstance()`), and when `getFileSystem()` is called, it doesn't use the config files at all, but uses the value of `dfsUri` variable with a `new Configuration(false)` (a new empty configuration), which doesn't seem right.\r\n\r\nAdditionally, when certain properties are overridden, such as in `ConfigurableMacBase`, it does so by taking the current contents of the config file (if it exists) and clobbers the explicitly set test properties if they have the same name (that's how `.addResource()` works), rather than the other way around.\r\n\r\nSo, the code related to this issue is a lot more complicated (and convoluted) than I first believed. It's probably that way to support the various use cases for `MiniAccumuloCluster` that have evolved over time, but it makes this task harder.\r\n\r\nIf you'd like to continue trying to implement this one, please feel free to do so... but I'm going to go ahead and remove the clearly incorrect \"good first issue\" label. :smiley_cat:","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593629267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593637210","html_url":"https://github.com/apache/accumulo/pull/1539#issuecomment-593637210","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1539","id":593637210,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzYzNzIxMA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T21:40:40Z","updated_at":"2020-03-02T21:40:40Z","author_association":"MEMBER","body":"> But i think you may have missed my comment earlier since you posted at almost the exact same time.\r\n\r\nI did miss that. Thanks. That could explain the difference. If that's the reason for the failure, then I think it might make sense to re-apply the optimization to the master branch only.\r\n\r\nFor what it's worth, that code was removed in #1389, which makes sense, since that change made the tablet dir no longer store a persistent absolute volume which would be subject to replacements/decommissioning.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593637210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593637948","html_url":"https://github.com/apache/accumulo/pull/1539#issuecomment-593637948","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1539","id":593637948,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzYzNzk0OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T21:42:18Z","updated_at":"2020-03-02T21:42:18Z","author_association":"MEMBER","body":"(By re-apply, I mean only revert from 1.x, keep the change in 2.x).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593637948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593644739","html_url":"https://github.com/apache/accumulo/issues/1534#issuecomment-593644739","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1534","id":593644739,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzY0NDczOQ==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T21:59:01Z","updated_at":"2020-03-02T21:59:01Z","author_association":"CONTRIBUTOR","body":"@milleruntime ,  I am looking into this.  It fails one time out of 10 consecutive runs for me.  I am trying to see how I can check if the lock is held before trying to delete it in the killMacGc function in the GarbageCollectorIT.  It only times out trying to remove the lock for some reason.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593644739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593684388","html_url":"https://github.com/apache/accumulo/issues/1534#issuecomment-593684388","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1534","id":593684388,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzY4NDM4OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T23:56:08Z","updated_at":"2020-03-02T23:56:08Z","author_association":"MEMBER","body":"@jzgithub1 Do you know where in the code it is getting stuck? Can you run jstack on the process to see what it's doing?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593684388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593978837","html_url":"https://github.com/apache/accumulo/issues/1534#issuecomment-593978837","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1534","id":593978837,"node_id":"MDEyOklzc3VlQ29tbWVudDU5Mzk3ODgzNw==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T14:28:44Z","updated_at":"2020-03-03T15:56:02Z","author_association":"CONTRIBUTOR","body":"@ctubbsii  between 10-20% of the runs I do fail here:\r\n`org.junit.runners.model.TestTimedOutException: test timed out after 300 seconds\r\n\r\n\tat java.base@11.0.6/sun.nio.cs.UTF_8$Decoder.decodeArrayLoop(UTF_8.java:236)\r\n\tat java.base@11.0.6/sun.nio.cs.UTF_8$Decoder.decodeLoop(UTF_8.java:414)\r\n\tat java.base@11.0.6/java.nio.charset.CharsetDecoder.decode(CharsetDecoder.java:576)\r\n\tat java.base@11.0.6/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:318)\r\n\tat java.base@11.0.6/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\r\n\tat java.base@11.0.6/java.io.InputStreamReader.read(InputStreamReader.java:185)\r\n\tat java.base@11.0.6/java.io.Reader.read(Reader.java:229)\r\n\tat app//org.apache.commons.io.IOUtils.copyLarge(IOUtils.java:2537)\r\n\tat app//org.apache.commons.io.IOUtils.copyLarge(IOUtils.java:2516)\r\n\tat app//org.apache.commons.io.IOUtils.copy(IOUtils.java:2493)\r\n\tat app//org.apache.commons.io.IOUtils.copy(IOUtils.java:2441)\r\n\tat app//org.apache.commons.io.IOUtils.toString(IOUtils.java:1084)\r\n\tat app//org.apache.accumulo.miniclusterImpl.MiniAccumuloClusterImpl$ProcessInfo.readStdOut(MiniAccumuloClusterImpl.java:195)\r\n\tat app//org.apache.accumulo.test.functional.GarbageCollectorIT.gcLotsOfCandidatesIT(GarbageCollectorIT.java:156)\r\n\tat java.base@11.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@11.0.6/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base@11.0.6/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@11.0.6/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat app//org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat app//org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat app//org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat app//org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat app//org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat app//org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat app//org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)\r\n\tat app//org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)\r\n\tat java.base@11.0.6/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base@11.0.6/java.lang.Thread.run(Thread.java:834)\r\n`","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/593978837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/594052732","html_url":"https://github.com/apache/accumulo/pull/1539#issuecomment-594052732","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1539","id":594052732,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDA1MjczMg==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T16:52:11Z","updated_at":"2020-03-03T16:52:11Z","author_association":"CONTRIBUTOR","body":"> For what it's worth, that code was removed in #1389, which makes sense, since that change made the tablet dir no longer store a persistent absolute volume which would be subject to replacements/decommissioning.\r\n\r\nThanks for looking that up, I was very curious what that code was doing and why it was removed.\r\n\r\n> (By re-apply, I mean only revert from 1.x, keep the change in 2.x).\r\n\r\nYep, I was thinking the same thing.  Now that we solved the case of the strange code chunk disappearance, I feel better about keeping it in 2.x.  I will merge this PR into 1.x and then do a no-op merge forward. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/594052732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/594054633","html_url":"https://github.com/apache/accumulo/issues/1534#issuecomment-594054633","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1534","id":594054633,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDA1NDYzMw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T16:55:43Z","updated_at":"2020-03-03T16:55:43Z","author_association":"CONTRIBUTOR","body":"@jzgithub1 thanks for looking at this.\r\n\r\nI have seen that ```TestTimedOutException``` but I am not sure how useful that is.  The same goes with the similar client exception I have seen:\r\n```\r\njava.lang.IllegalStateException: No lock is held at /accumulo/1d1562ff-4b75-47e1-b7d0-edf08778bd96/gc/lock\r\n\tat org.apache.accumulo.fate.zookeeper.ZooLock.deleteLock(ZooLock.java:499) ~[accumulo-core-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n\tat org.apache.accumulo.test.functional.GarbageCollectorIT.killMacGc(GarbageCollectorIT.java:106) [classes/:?]\r\n\tat org.apache.accumulo.test.functional.GarbageCollectorIT.gcLotsOfCandidatesIT(GarbageCollectorIT.java:145) [classes/:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) [junit-4.12.jar:4.12]\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26) [junit-4.12.jar:4.12]\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27) [junit-4.12.jar:4.12]\r\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298) [junit-4.12.jar:4.12]\r\n\tat org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292) [junit-4.12.jar:4.12]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:264) [?:?]\r\n\tat java.lang.Thread.run(Thread.java:834) [?:?]\r\n```\r\n\r\nWe need to figure out what is happening on the server side that is causing the timeout.  Try doing a ```jstack``` on the pid of one of the IT processes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/594054633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/594058617","html_url":"https://github.com/apache/accumulo/issues/1534#issuecomment-594058617","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1534","id":594058617,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDA1ODYxNw==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T17:03:27Z","updated_at":"2020-03-03T17:03:27Z","author_association":"CONTRIBUTOR","body":"Could there be a race condition with the shutdown?  From one of the stack traces it seemed to hint that the gc was shutdown (which should remove the lock) and then the clean-up is trying to delete the now non-existant lock.\r\n\r\nIf that is the case, then if gc shutdown is called, the delete could accept that the lock has already been removed by catching / ignoring the node does not exist exception.\r\n\r\nOr, is this test also trying to validate the gc behavior w.r.t. losing the lock?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/594058617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/594088076","html_url":"https://github.com/apache/accumulo/issues/1534#issuecomment-594088076","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1534","id":594088076,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDA4ODA3Ng==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T18:06:24Z","updated_at":"2020-03-03T18:06:24Z","author_association":"CONTRIBUTOR","body":"Looking at the IT, it is waiting for a specific output, which could have changed:\r\n```\r\n      while (!output.contains(\"delete candidates has exceeded\")) {\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/594088076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/594091179","html_url":"https://github.com/apache/accumulo/issues/1534#issuecomment-594091179","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1534","id":594091179,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDA5MTE3OQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T18:13:06Z","updated_at":"2020-03-03T18:13:06Z","author_association":"CONTRIBUTOR","body":"> Looking at the IT, it is waiting for a specific output, which could have changed:\r\n> \r\n> ```\r\n>       while (!output.contains(\"delete candidates has exceeded\")) {\r\n> ```\r\n\r\nThe output I think it is waiting for is here:\r\n\r\nhttps://github.com/apache/accumulo/blob/e4b69f976c7223ff7dc3fd930462c323da0ef7ae/server/gc/src/main/java/org/apache/accumulo/gc/SimpleGarbageCollector.java#L219-L222\r\n\r\nPerhaps with recent improvements, it is not running out of memory so never meets this condition.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/594091179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/594097009","html_url":"https://github.com/apache/accumulo/issues/1534#issuecomment-594097009","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1534","id":594097009,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDA5NzAwOQ==","user":{"login":"jzgithub1","id":5930146,"node_id":"MDQ6VXNlcjU5MzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/5930146?v=4","gravatar_id":"","url":"https://api.github.com/users/jzgithub1","html_url":"https://github.com/jzgithub1","followers_url":"https://api.github.com/users/jzgithub1/followers","following_url":"https://api.github.com/users/jzgithub1/following{/other_user}","gists_url":"https://api.github.com/users/jzgithub1/gists{/gist_id}","starred_url":"https://api.github.com/users/jzgithub1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzgithub1/subscriptions","organizations_url":"https://api.github.com/users/jzgithub1/orgs","repos_url":"https://api.github.com/users/jzgithub1/repos","events_url":"https://api.github.com/users/jzgithub1/events{/privacy}","received_events_url":"https://api.github.com/users/jzgithub1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T18:25:41Z","updated_at":"2020-03-03T18:25:41Z","author_association":"CONTRIBUTOR","body":"I never hit those lines when I set breakpoints in them.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/594097009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/594100874","html_url":"https://github.com/apache/accumulo/issues/1534#issuecomment-594100874","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1534","id":594100874,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDEwMDg3NA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-03T18:34:27Z","updated_at":"2020-03-03T18:34:27Z","author_association":"CONTRIBUTOR","body":"Are you seeing this in the SimpleGarbageCollector error log?\r\n```bash\r\ncat test/target/mini-tests/org.apache.accumulo.test.functional.GarbageCollectorIT_gcLotsOfCandidatesIT/logs/SimpleGarbageCollector_*.err\r\n\r\nException: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread \"Thread-2\"\r\n\r\nException: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread \"org.apache.accumulo.gc.SimpleGarbageCollector\"\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/594100874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]