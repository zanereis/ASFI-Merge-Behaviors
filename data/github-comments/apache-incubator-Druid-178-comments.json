[{"url":"https://api.github.com/repos/apache/druid/issues/comments/368946026","html_url":"https://github.com/apache/druid/pull/5421#issuecomment-368946026","issue_url":"https://api.github.com/repos/apache/druid/issues/5421","id":368946026,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODk0NjAyNg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-27T16:51:21Z","updated_at":"2018-02-27T16:51:21Z","author_association":"CONTRIBUTOR","body":"I think @bolkedebruin is correct here, having a config for this would be rather nasty and on the scope of the injectable `IndexIO` refactor, which was not small.\r\n\r\nI'm ok with the \"default to on\" mode here as long as the fallback path works.\r\n\r\n@bolkedebruin can you add an explicit test case that makes sure if the `fd` stuff is not supported (returns -1) the file still gets copied?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/368946026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/368958303","html_url":"https://github.com/apache/druid/pull/5429#issuecomment-368958303","issue_url":"https://api.github.com/repos/apache/druid/issues/5429","id":368958303,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODk1ODMwMw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-27T17:27:06Z","updated_at":"2018-02-27T17:27:06Z","author_association":"CONTRIBUTOR","body":"failing from\r\n\r\n```\r\nERROR] Please refer to /home/travis/build/druid-io/druid/integration-tests/target/failsafe-reports for the individual test results.\r\n[ERROR] Please refer to dump files (if any exist) [date]-jvmRun[N].dump, [date].dumpstream and [date]-jvmRun[N].dumpstream.\r\n[ERROR] org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process\r\n[ERROR] Max number of retries[10] exceeded for Task[Waiting for instance to be ready: [http://172.17.0.1:8082]]. Failing.\r\n[ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:673)\r\n[ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:535)\r\n[ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:280)\r\n[ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:245)\r\n[ERROR] \tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1124)\r\n[ERROR] \tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:954)\r\n[ERROR] \tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:832)\r\n[ERROR] \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:154)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:146)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n[ERROR] \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:309)\r\n[ERROR] \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:194)\r\n[ERROR] \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:107)\r\n[ERROR] \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:993)\r\n[ERROR] \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:345)\r\n[ERROR] \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:191)\r\n[ERROR] \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n[ERROR] \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n[ERROR] \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n[ERROR] \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n[ERROR] \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n[ERROR] \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n[ERROR] \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n[ERROR] \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/368958303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/368967984","html_url":"https://github.com/apache/druid/issues/5428#issuecomment-368967984","issue_url":"https://api.github.com/repos/apache/druid/issues/5428","id":368967984,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODk2Nzk4NA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-27T17:56:33Z","updated_at":"2018-02-27T17:57:35Z","author_association":"CONTRIBUTOR","body":"@nishantmonu51 thanks for your comment!\r\n\r\n> 1. additional to task context, would be nice to support this via overlord config. would make configuration easy.\r\n\r\nGood point. I'll add it.\r\n\r\n> 2. i am assuming after this change a transition of status from running -> failed -> running will be valid. Need to have way for user to know for a task with status failed, whether its going to be retried or not.\r\n\r\nI'm thinking to `retryCount` to taskStatus, so users can check how many times a task failed before succeeding via overlord's taskStatus API (`http://<OVERLORD_IP>:<port>/druid/indexer/v1/task/{taskId}/status`). Does it make sense?\r\n\r\n> 3. IMO this is a useful as a generic feature for all task types, not only batch ingestion. E.g same retry concept can be applied to Merge/Append/Kill/Compaction tasks too.\r\n\r\nMakes sense. I changed the title to `Support retrying on failures for non-realtime ingestion` because supervisors or tranquilities are responsible for retrying in realtime ingestion.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/368967984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/368968336","html_url":"https://github.com/apache/druid/pull/5402#issuecomment-368968336","issue_url":"https://api.github.com/repos/apache/druid/issues/5402","id":368968336,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODk2ODMzNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-27T17:57:36Z","updated_at":"2018-02-27T17:57:36Z","author_association":"CONTRIBUTOR","body":"@nishantmonu51 @leventov updated per your comments & added an integration test.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/368968336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/368969408","html_url":"https://github.com/apache/druid/pull/5402#issuecomment-368969408","issue_url":"https://api.github.com/repos/apache/druid/issues/5402","id":368969408,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODk2OTQwOA==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-27T18:00:56Z","updated_at":"2018-02-27T18:00:56Z","author_association":"MEMBER","body":"thanks @gianm ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/368969408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/368970619","html_url":"https://github.com/apache/druid/pull/5421#issuecomment-368970619","issue_url":"https://api.github.com/repos/apache/druid/issues/5421","id":368970619,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODk3MDYxOQ==","user":{"login":"bolkedebruin","id":4282712,"node_id":"MDQ6VXNlcjQyODI3MTI=","avatar_url":"https://avatars.githubusercontent.com/u/4282712?v=4","gravatar_id":"","url":"https://api.github.com/users/bolkedebruin","html_url":"https://github.com/bolkedebruin","followers_url":"https://api.github.com/users/bolkedebruin/followers","following_url":"https://api.github.com/users/bolkedebruin/following{/other_user}","gists_url":"https://api.github.com/users/bolkedebruin/gists{/gist_id}","starred_url":"https://api.github.com/users/bolkedebruin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bolkedebruin/subscriptions","organizations_url":"https://api.github.com/users/bolkedebruin/orgs","repos_url":"https://api.github.com/users/bolkedebruin/repos","events_url":"https://api.github.com/users/bolkedebruin/events{/privacy}","received_events_url":"https://api.github.com/users/bolkedebruin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-27T18:04:49Z","updated_at":"2018-02-27T18:08:42Z","author_association":"CONTRIBUTOR","body":"@drcrallen I assume you want me to test `trySkipCache` not being able to set the `fadvise_dont_need` flag? If the `getfd` returns `-1` the `RandomAccessFile` is also not working as it will need an `fd` to do its work. Thus then you want it to raise an Exception which is tested for. Is there an accepted way to set private variables for testing? Something like a `@VisibleForTesting` annotation?\r\n\r\nAre you happy with the fact that in case `fadvisePossible` is `false` the file is still opened with `rwd`, ie. a direct flag which will sync the file to the filesystem every 8mb. Copying could be a bit slower therefore.\r\n\r\nUpdate: found a `@VisibleForTesting`\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/368970619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/368973622","html_url":"https://github.com/apache/druid/pull/5421#issuecomment-368973622","issue_url":"https://api.github.com/repos/apache/druid/issues/5421","id":368973622,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODk3MzYyMg==","user":{"login":"bolkedebruin","id":4282712,"node_id":"MDQ6VXNlcjQyODI3MTI=","avatar_url":"https://avatars.githubusercontent.com/u/4282712?v=4","gravatar_id":"","url":"https://api.github.com/users/bolkedebruin","html_url":"https://github.com/bolkedebruin","followers_url":"https://api.github.com/users/bolkedebruin/followers","following_url":"https://api.github.com/users/bolkedebruin/following{/other_user}","gists_url":"https://api.github.com/users/bolkedebruin/gists{/gist_id}","starred_url":"https://api.github.com/users/bolkedebruin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bolkedebruin/subscriptions","organizations_url":"https://api.github.com/users/bolkedebruin/orgs","repos_url":"https://api.github.com/users/bolkedebruin/repos","events_url":"https://api.github.com/users/bolkedebruin/events{/privacy}","received_events_url":"https://api.github.com/users/bolkedebruin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-27T18:14:22Z","updated_at":"2018-02-27T18:14:22Z","author_association":"CONTRIBUTOR","body":"@drcrallen done.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/368973622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369018914","html_url":"https://github.com/apache/druid/pull/5429#issuecomment-369018914","issue_url":"https://api.github.com/repos/apache/druid/issues/5429","id":369018914,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTAxODkxNA==","user":{"login":"niketh","id":626548,"node_id":"MDQ6VXNlcjYyNjU0OA==","avatar_url":"https://avatars.githubusercontent.com/u/626548?v=4","gravatar_id":"","url":"https://api.github.com/users/niketh","html_url":"https://github.com/niketh","followers_url":"https://api.github.com/users/niketh/followers","following_url":"https://api.github.com/users/niketh/following{/other_user}","gists_url":"https://api.github.com/users/niketh/gists{/gist_id}","starred_url":"https://api.github.com/users/niketh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketh/subscriptions","organizations_url":"https://api.github.com/users/niketh/orgs","repos_url":"https://api.github.com/users/niketh/repos","events_url":"https://api.github.com/users/niketh/events{/privacy}","received_events_url":"https://api.github.com/users/niketh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-27T20:42:03Z","updated_at":"2018-02-27T20:42:03Z","author_association":"CONTRIBUTOR","body":"@drcrallen  With PR https://github.com/druid-io/druid/pull/4716 when I deployed it in production, I still saw channel disconnect issue. This was some time ago though, so I don't remember the issue. Let me re-deploy 4716 in production and confirm if I no longer see that issue.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369018914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369035237","html_url":"https://github.com/apache/druid/issues/5428#issuecomment-369035237","issue_url":"https://api.github.com/repos/apache/druid/issues/5428","id":369035237,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTAzNTIzNw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-27T21:38:30Z","updated_at":"2018-02-27T21:38:30Z","author_association":"CONTRIBUTOR","body":"I this this is a good direction to go -- it's nicer for Druid to take on retrying rather than to push the burden to users. However we need to try to do it right, and the main thing there imo is ensuring idempotency.\r\n\r\nIt is possible for tasks to have side effects and yet still fail (for example: it publishes and then immediately crashes before it can do final acts like uploading its log files). This means when retrying we have to verify that tasks are idempotent. Otherwise - we will potentially load the same data twice. With Kafka based ingestion, we are OK because of the metadata check (verifying offsets when segments are published). With batch indexing, in overwrite mode we are OK too (since overwriting is idempotent). But in append mode, extra work is needed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369035237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369040971","html_url":"https://github.com/apache/druid/issues/5428#issuecomment-369040971","issue_url":"https://api.github.com/repos/apache/druid/issues/5428","id":369040971,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTA0MDk3MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-27T21:57:37Z","updated_at":"2018-02-27T21:57:37Z","author_association":"CONTRIBUTOR","body":"@gianm that's a good point. Maybe we need finer-granular task status tracking to avoid extra work.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369040971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369042422","html_url":"https://github.com/apache/druid/issues/5428#issuecomment-369042422","issue_url":"https://api.github.com/repos/apache/druid/issues/5428","id":369042422,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTA0MjQyMg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-27T22:02:17Z","updated_at":"2018-02-27T22:02:17Z","author_association":"CONTRIBUTOR","body":"@jihoonson I don’t worry too much about extra work, as long as the task does the correct thing. What I do really worry about is the possibilty of appending the same data twice due to retrying after some data had been published.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369042422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369054896","html_url":"https://github.com/apache/druid/issues/5428#issuecomment-369054896","issue_url":"https://api.github.com/repos/apache/druid/issues/5428","id":369054896,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTA1NDg5Ng==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-27T22:47:38Z","updated_at":"2018-02-27T22:47:38Z","author_association":"CONTRIBUTOR","body":"@gianm ah yeah, it's more important to make sure there is no duplicated work.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369054896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369063066","html_url":"https://github.com/apache/druid/issues/5404#issuecomment-369063066","issue_url":"https://api.github.com/repos/apache/druid/issues/5404","id":369063066,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTA2MzA2Ng==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-27T23:20:54Z","updated_at":"2018-02-27T23:20:54Z","author_association":"MEMBER","body":"Docs can be updated if you are sure the problem in discussion is because of log compaction. I think some form of logging should be there indicating that offsets are being skipped, may be just count the number of skipped offsets and log it every X seconds and switch the current log to debug level if it logs too much.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369063066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369064222","html_url":"https://github.com/apache/druid/issues/5404#issuecomment-369064222","issue_url":"https://api.github.com/repos/apache/druid/issues/5404","id":369064222,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTA2NDIyMg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-27T23:26:13Z","updated_at":"2018-02-27T23:26:13Z","author_association":"CONTRIBUTOR","body":"@b-slim are you sure the issue reported in the thread is because of compaction? I don't see a reason why the user's topic would have been compacted. Also he said that when he turned off transactionality then he stopped having issues. It seems more likely to me that Kafka is playing some games and not returning messages for every single offset (e.g. when those messages are part of failed transactions). That would make sense to me if the offset is assigned optimistically before the transaction commits.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369064222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369070214","html_url":"https://github.com/apache/druid/pull/5403#issuecomment-369070214","issue_url":"https://api.github.com/repos/apache/druid/issues/5403","id":369070214,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTA3MDIxNA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-27T23:55:16Z","updated_at":"2018-02-27T23:55:16Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369070214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369077509","html_url":"https://github.com/apache/druid/pull/5435#issuecomment-369077509","issue_url":"https://api.github.com/repos/apache/druid/issues/5435","id":369077509,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTA3NzUwOQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-28T00:32:05Z","updated_at":"2018-02-28T00:32:05Z","author_association":"CONTRIBUTOR","body":"This looks reasonable, but now I'm wondering, is there a reason why any of the proxied paths have security checks? In those cases I would think you could do a pass-through and let the target verify authentication & authorization.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369077509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369088370","html_url":"https://github.com/apache/druid/pull/5435#issuecomment-369088370","issue_url":"https://api.github.com/repos/apache/druid/issues/5435","id":369088370,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTA4ODM3MA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-28T01:27:10Z","updated_at":"2018-02-28T01:27:10Z","author_association":"CONTRIBUTOR","body":"I don't think auth checks are necessary for the proxied paths at the Router (extraneous but doesn't break anything), I'll take a look at removing those as well","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369088370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369088977","html_url":"https://github.com/apache/druid/pull/5435#issuecomment-369088977","issue_url":"https://api.github.com/repos/apache/druid/issues/5435","id":369088977,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTA4ODk3Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-28T01:30:25Z","updated_at":"2018-02-28T01:30:25Z","author_association":"CONTRIBUTOR","body":"@jon-wei I think there's no need to do that in this patch, especially if you want to backport it to 0.12.0, in which case it should be as targeted as possible to the bug being fixed. I was just wondering since it seemed like a weird inconsistency to check for other paths but not for the Avatica JDBC path. It set off a red flag: \"surely there must be some reason we were checking authorization on these paths; is it a security hole to set it to unsecured?\"\r\n\r\nIf that red flag is not actually warranted, there should at least be a comment here about why it's ok that we aren't checking this path. And making the paths more generally consistent would be good as a separate patch to master.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369088977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369089234","html_url":"https://github.com/apache/druid/pull/5435#issuecomment-369089234","issue_url":"https://api.github.com/repos/apache/druid/issues/5435","id":369089234,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTA4OTIzNA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-28T01:31:42Z","updated_at":"2018-02-28T01:31:42Z","author_association":"CONTRIBUTOR","body":"@gianm Alright, sounds good, I'll keep this WIP for now though (adding an integration test)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369089234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369097973","html_url":"https://github.com/apache/druid/pull/5435#issuecomment-369097973","issue_url":"https://api.github.com/repos/apache/druid/issues/5435","id":369097973,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTA5Nzk3Mw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-28T02:18:35Z","updated_at":"2018-02-28T02:18:35Z","author_association":"CONTRIBUTOR","body":"added an integration test for broker/router avatica queries with authentication","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369097973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369106843","html_url":"https://github.com/apache/druid/issues/5430#issuecomment-369106843","issue_url":"https://api.github.com/repos/apache/druid/issues/5430","id":369106843,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTEwNjg0Mw==","user":{"login":"Llinjing","id":20414903,"node_id":"MDQ6VXNlcjIwNDE0OTAz","avatar_url":"https://avatars.githubusercontent.com/u/20414903?v=4","gravatar_id":"","url":"https://api.github.com/users/Llinjing","html_url":"https://github.com/Llinjing","followers_url":"https://api.github.com/users/Llinjing/followers","following_url":"https://api.github.com/users/Llinjing/following{/other_user}","gists_url":"https://api.github.com/users/Llinjing/gists{/gist_id}","starred_url":"https://api.github.com/users/Llinjing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Llinjing/subscriptions","organizations_url":"https://api.github.com/users/Llinjing/orgs","repos_url":"https://api.github.com/users/Llinjing/repos","events_url":"https://api.github.com/users/Llinjing/events{/privacy}","received_events_url":"https://api.github.com/users/Llinjing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-28T03:10:13Z","updated_at":"2018-02-28T03:10:13Z","author_association":"NONE","body":"![lx_clip1519715851492](https://user-images.githubusercontent.com/20414903/36767473-9b6e5e1c-1c75-11e8-9be4-2c9d88cd79f0.jpg)\r\n\r\nI have no idea on this issue. I am not  sure is this cost function bug. (Https://github.com/druid-io/druid/pull/2972). Or , it was due to extreme dynamic configuration of the coordinator ??\r\n\r\n Do you have any good solution? \r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369106843/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369136160","html_url":"https://github.com/apache/druid/issues/5433#issuecomment-369136160","issue_url":"https://api.github.com/repos/apache/druid/issues/5433","id":369136160,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTEzNjE2MA==","user":{"login":"saurabh3091","id":17564120,"node_id":"MDQ6VXNlcjE3NTY0MTIw","avatar_url":"https://avatars.githubusercontent.com/u/17564120?v=4","gravatar_id":"","url":"https://api.github.com/users/saurabh3091","html_url":"https://github.com/saurabh3091","followers_url":"https://api.github.com/users/saurabh3091/followers","following_url":"https://api.github.com/users/saurabh3091/following{/other_user}","gists_url":"https://api.github.com/users/saurabh3091/gists{/gist_id}","starred_url":"https://api.github.com/users/saurabh3091/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saurabh3091/subscriptions","organizations_url":"https://api.github.com/users/saurabh3091/orgs","repos_url":"https://api.github.com/users/saurabh3091/repos","events_url":"https://api.github.com/users/saurabh3091/events{/privacy}","received_events_url":"https://api.github.com/users/saurabh3091/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-28T06:32:18Z","updated_at":"2018-02-28T06:32:18Z","author_association":"NONE","body":"I am also facing the same issue and its a blocker for us. Will really appreciate if somebody can provide an explanation/fix.\r\nRegards","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369136160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369204676","html_url":"https://github.com/apache/druid/issues/5430#issuecomment-369204676","issue_url":"https://api.github.com/repos/apache/druid/issues/5430","id":369204676,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTIwNDY3Ng==","user":{"login":"Llinjing","id":20414903,"node_id":"MDQ6VXNlcjIwNDE0OTAz","avatar_url":"https://avatars.githubusercontent.com/u/20414903?v=4","gravatar_id":"","url":"https://api.github.com/users/Llinjing","html_url":"https://github.com/Llinjing","followers_url":"https://api.github.com/users/Llinjing/followers","following_url":"https://api.github.com/users/Llinjing/following{/other_user}","gists_url":"https://api.github.com/users/Llinjing/gists{/gist_id}","starred_url":"https://api.github.com/users/Llinjing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Llinjing/subscriptions","organizations_url":"https://api.github.com/users/Llinjing/orgs","repos_url":"https://api.github.com/users/Llinjing/repos","events_url":"https://api.github.com/users/Llinjing/events{/privacy}","received_events_url":"https://api.github.com/users/Llinjing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-28T11:01:04Z","updated_at":"2018-02-28T11:01:04Z","author_association":"NONE","body":"@leventov Do you know how to solve this problem? \r\nIs it because maxSegmentsToMove value is too small (what i set is 10), resulting in coordinator synchronization is too slow ？","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369204676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369283208","html_url":"https://github.com/apache/druid/pull/2362#issuecomment-369283208","issue_url":"https://api.github.com/repos/apache/druid/issues/2362","id":369283208,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTI4MzIwOA==","user":{"login":"sascha-coenen","id":1635350,"node_id":"MDQ6VXNlcjE2MzUzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/1635350?v=4","gravatar_id":"","url":"https://api.github.com/users/sascha-coenen","html_url":"https://github.com/sascha-coenen","followers_url":"https://api.github.com/users/sascha-coenen/followers","following_url":"https://api.github.com/users/sascha-coenen/following{/other_user}","gists_url":"https://api.github.com/users/sascha-coenen/gists{/gist_id}","starred_url":"https://api.github.com/users/sascha-coenen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sascha-coenen/subscriptions","organizations_url":"https://api.github.com/users/sascha-coenen/orgs","repos_url":"https://api.github.com/users/sascha-coenen/repos","events_url":"https://api.github.com/users/sascha-coenen/events{/privacy}","received_events_url":"https://api.github.com/users/sascha-coenen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-28T15:51:09Z","updated_at":"2018-02-28T15:51:09Z","author_association":"NONE","body":"slightly off topic, but the way that the Union Datasource currently works is that it executes all queries sequentially, which was yielding a performance that was not feasible for our usecases. Are there any plans to improve this? A first optimization might be to submit the individual queries in parallel and a second optimization might be to modify the segment queries sent to the historicals such that each segment reference also contains the datasource it belongs to. This way, each historical could already merge results across queries.\r\nthanks","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369283208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369340197","html_url":"https://github.com/apache/druid/pull/5438#issuecomment-369340197","issue_url":"https://api.github.com/repos/apache/druid/issues/5438","id":369340197,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTM0MDE5Nw==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-28T18:43:20Z","updated_at":"2018-02-28T18:43:20Z","author_association":"MEMBER","body":"@korablevalexander please fix travis failures,\r\nfailing to compile currently - \r\n[ERROR] /home/travis/build/druid-io/druid/server/src/main/java/io/druid/client/cache/MemcachedCache.java:72: Using a static member import should be avoided - io.druid.java.util.common.StringUtils.toUpperCase. [AvoidStaticImport]","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369340197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369362703","html_url":"https://github.com/apache/druid/pull/5438#issuecomment-369362703","issue_url":"https://api.github.com/repos/apache/druid/issues/5438","id":369362703,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTM2MjcwMw==","user":{"login":"kor85","id":8151803,"node_id":"MDQ6VXNlcjgxNTE4MDM=","avatar_url":"https://avatars.githubusercontent.com/u/8151803?v=4","gravatar_id":"","url":"https://api.github.com/users/kor85","html_url":"https://github.com/kor85","followers_url":"https://api.github.com/users/kor85/followers","following_url":"https://api.github.com/users/kor85/following{/other_user}","gists_url":"https://api.github.com/users/kor85/gists{/gist_id}","starred_url":"https://api.github.com/users/kor85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kor85/subscriptions","organizations_url":"https://api.github.com/users/kor85/orgs","repos_url":"https://api.github.com/users/kor85/repos","events_url":"https://api.github.com/users/kor85/events{/privacy}","received_events_url":"https://api.github.com/users/kor85/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-28T19:55:20Z","updated_at":"2018-02-28T19:55:20Z","author_association":"CONTRIBUTOR","body":"This flap is not a my fault https://travis-ci.org/druid-io/druid/jobs/347423481. Restart plz.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369362703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369366488","html_url":"https://github.com/apache/druid/pull/5440#issuecomment-369366488","issue_url":"https://api.github.com/repos/apache/druid/issues/5440","id":369366488,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTM2NjQ4OA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-28T20:08:18Z","updated_at":"2018-02-28T20:08:18Z","author_association":"CONTRIBUTOR","body":"could you please fill CLA http://druid.io/community/cla.html ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369366488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369369215","html_url":"https://github.com/apache/druid/pull/2362#issuecomment-369369215","issue_url":"https://api.github.com/repos/apache/druid/issues/2362","id":369369215,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTM2OTIxNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-28T20:18:22Z","updated_at":"2018-02-28T20:18:22Z","author_association":"CONTRIBUTOR","body":"@sascha-coenen I thought they were already submitted in parallel. Are you sure they are not?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369369215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369371159","html_url":"https://github.com/apache/druid/pull/5435#issuecomment-369371159","issue_url":"https://api.github.com/repos/apache/druid/issues/5435","id":369371159,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTM3MTE1OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-28T20:25:29Z","updated_at":"2018-02-28T20:25:29Z","author_association":"CONTRIBUTOR","body":"@jon-wei could you please do the backport?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369371159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369398961","html_url":"https://github.com/apache/druid/pull/5440#issuecomment-369398961","issue_url":"https://api.github.com/repos/apache/druid/issues/5440","id":369398961,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTM5ODk2MQ==","user":{"login":"njhartwell","id":2574830,"node_id":"MDQ6VXNlcjI1NzQ4MzA=","avatar_url":"https://avatars.githubusercontent.com/u/2574830?v=4","gravatar_id":"","url":"https://api.github.com/users/njhartwell","html_url":"https://github.com/njhartwell","followers_url":"https://api.github.com/users/njhartwell/followers","following_url":"https://api.github.com/users/njhartwell/following{/other_user}","gists_url":"https://api.github.com/users/njhartwell/gists{/gist_id}","starred_url":"https://api.github.com/users/njhartwell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/njhartwell/subscriptions","organizations_url":"https://api.github.com/users/njhartwell/orgs","repos_url":"https://api.github.com/users/njhartwell/repos","events_url":"https://api.github.com/users/njhartwell/events{/privacy}","received_events_url":"https://api.github.com/users/njhartwell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-28T22:03:15Z","updated_at":"2018-02-28T22:03:15Z","author_association":"CONTRIBUTOR","body":"Hi @b-slim, thanks for the quick feedback. I will work with my employer (Target) to get the ball rolling on signing the corporate CLA. It might take a while but I will let you know as soon as I hear from the authorities.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369398961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369424799","html_url":"https://github.com/apache/druid/pull/5442#issuecomment-369424799","issue_url":"https://api.github.com/repos/apache/druid/issues/5442","id":369424799,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTQyNDc5OQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-02-28T23:52:21Z","updated_at":"2018-02-28T23:52:21Z","author_association":"CONTRIBUTOR","body":"TeamCity inspection errors are from changes not in this PR, merging now","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369424799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369441392","html_url":"https://github.com/apache/druid/pull/5438#issuecomment-369441392","issue_url":"https://api.github.com/repos/apache/druid/issues/5438","id":369441392,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTQ0MTM5Mg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T01:17:06Z","updated_at":"2018-03-01T01:17:06Z","author_association":"CONTRIBUTOR","body":"ah shoot, I forgot to check cla first, checking","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369441392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369441661","html_url":"https://github.com/apache/druid/pull/5438#issuecomment-369441661","issue_url":"https://api.github.com/repos/apache/druid/issues/5438","id":369441661,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTQ0MTY2MQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T01:18:27Z","updated_at":"2018-03-01T01:18:27Z","author_association":"CONTRIBUTOR","body":"@korablevalexander would you mind filling out http://druid.io/community/cla.html please?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369441661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369452262","html_url":"https://github.com/apache/druid/pull/5444#issuecomment-369452262","issue_url":"https://api.github.com/repos/apache/druid/issues/5444","id":369452262,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTQ1MjI2Mg==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T02:20:12Z","updated_at":"2018-03-01T02:20:12Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369452262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369478831","html_url":"https://github.com/apache/druid/pull/5438#issuecomment-369478831","issue_url":"https://api.github.com/repos/apache/druid/issues/5438","id":369478831,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTQ3ODgzMQ==","user":{"login":"kor85","id":8151803,"node_id":"MDQ6VXNlcjgxNTE4MDM=","avatar_url":"https://avatars.githubusercontent.com/u/8151803?v=4","gravatar_id":"","url":"https://api.github.com/users/kor85","html_url":"https://github.com/kor85","followers_url":"https://api.github.com/users/kor85/followers","following_url":"https://api.github.com/users/kor85/following{/other_user}","gists_url":"https://api.github.com/users/kor85/gists{/gist_id}","starred_url":"https://api.github.com/users/kor85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kor85/subscriptions","organizations_url":"https://api.github.com/users/kor85/orgs","repos_url":"https://api.github.com/users/kor85/repos","events_url":"https://api.github.com/users/kor85/events{/privacy}","received_events_url":"https://api.github.com/users/kor85/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T05:32:47Z","updated_at":"2018-03-01T05:32:47Z","author_association":"CONTRIBUTOR","body":"Done)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369478831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369487906","html_url":"https://github.com/apache/druid/pull/5444#issuecomment-369487906","issue_url":"https://api.github.com/repos/apache/druid/issues/5444","id":369487906,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTQ4NzkwNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T06:29:27Z","updated_at":"2018-03-01T06:29:27Z","author_association":"CONTRIBUTOR","body":"@jihoonson could you backport please?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369487906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369492146","html_url":"https://github.com/apache/druid/pull/5444#issuecomment-369492146","issue_url":"https://api.github.com/repos/apache/druid/issues/5444","id":369492146,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTQ5MjE0Ng==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T06:46:35Z","updated_at":"2018-03-01T06:46:35Z","author_association":"CONTRIBUTOR","body":"@gianm sure. Raised https://github.com/druid-io/druid/pull/5446.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369492146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369504414","html_url":"https://github.com/apache/druid/issues/5445#issuecomment-369504414","issue_url":"https://api.github.com/repos/apache/druid/issues/5445","id":369504414,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTUwNDQxNA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T07:45:02Z","updated_at":"2018-03-01T07:45:02Z","author_association":"CONTRIBUTOR","body":"Hi @pavanab4u, I think you meant to do `YYYY-w` or `YYYY-ww` rather than `yyyy-w`. Y is year of weekyear and y is year of date. So if you did that then 20171231 would give you `2018-01` which does make more sense.\r\n\r\nHowever there is another wrinkle- this formatter uses java's GregorianCalendar which is not strictly ISO: https://docs.oracle.com/javase/9/docs/api/java/util/GregorianCalendar.html#week_year. ISO reckoning would have said 2017-12-31 is weekyear-week 2017-52. Although in any reckoning, weekyear and calendar year are not always the same, so the 31st of a month could be considered to be in the first week of the next year. Exactly which years this happens for differs from reckoning to reckoning.\r\n\r\nProbably ISO reckoning would be preferred, since it's more common in Druid. So it'd be nice to add an option for that. Probably also an option to use joda formatter strings rather than SimpleDateFormat strings, since those aren't compatible either, and joda is also more common in Druid.\r\n\r\nGoing to change this from a bug to an improvement request since it does not seem like a bug to me anymore.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369504414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369506151","html_url":"https://github.com/apache/druid/issues/5419#issuecomment-369506151","issue_url":"https://api.github.com/repos/apache/druid/issues/5419","id":369506151,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTUwNjE1MQ==","user":{"login":"Hailei","id":1724869,"node_id":"MDQ6VXNlcjE3MjQ4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/1724869?v=4","gravatar_id":"","url":"https://api.github.com/users/Hailei","html_url":"https://github.com/Hailei","followers_url":"https://api.github.com/users/Hailei/followers","following_url":"https://api.github.com/users/Hailei/following{/other_user}","gists_url":"https://api.github.com/users/Hailei/gists{/gist_id}","starred_url":"https://api.github.com/users/Hailei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hailei/subscriptions","organizations_url":"https://api.github.com/users/Hailei/orgs","repos_url":"https://api.github.com/users/Hailei/repos","events_url":"https://api.github.com/users/Hailei/events{/privacy}","received_events_url":"https://api.github.com/users/Hailei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T07:52:32Z","updated_at":"2018-03-01T07:54:13Z","author_association":"CONTRIBUTOR","body":"It's not a bug,You should define type information,add a field as following\r\n\"typeString\": \"struct<druid__time:timestamp,city_id:string,province_id:string,pv:bigint,duration:bigint>”\r\nby default, the type of field is string","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369506151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369522383","html_url":"https://github.com/apache/druid/pull/5403#issuecomment-369522383","issue_url":"https://api.github.com/repos/apache/druid/issues/5403","id":369522383,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTUyMjM4Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T08:59:48Z","updated_at":"2018-03-01T08:59:48Z","author_association":"CONTRIBUTOR","body":"> Might be worth creating an issue then.\r\n\r\nSure I think that makes sense and will do it if this patch is merged as is.\r\n\r\nI have not had a chance to figure out how to do the verification you suggested in https://github.com/druid-io/druid/pull/5403#discussion_r169687503 and I was hoping you have some tips about how to do that.\r\n\r\n>  So today, I think this change really just affects IncrementalIndex filtering.\r\n\r\nI thought about this a little more and I realized there is a case where this change will affect QueryableIndex based queries. Filtered aggregators call makeMatcher unconditionally so they will always use this matcher code. I believe that it's still worth it though, since in the benchmarks we see 5% slowdown in the bad case and 50x speedup in an ideal case.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369522383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369537807","html_url":"https://github.com/apache/druid/issues/5419#issuecomment-369537807","issue_url":"https://api.github.com/repos/apache/druid/issues/5419","id":369537807,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTUzNzgwNw==","user":{"login":"13Homer","id":3685431,"node_id":"MDQ6VXNlcjM2ODU0MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3685431?v=4","gravatar_id":"","url":"https://api.github.com/users/13Homer","html_url":"https://github.com/13Homer","followers_url":"https://api.github.com/users/13Homer/followers","following_url":"https://api.github.com/users/13Homer/following{/other_user}","gists_url":"https://api.github.com/users/13Homer/gists{/gist_id}","starred_url":"https://api.github.com/users/13Homer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/13Homer/subscriptions","organizations_url":"https://api.github.com/users/13Homer/orgs","repos_url":"https://api.github.com/users/13Homer/repos","events_url":"https://api.github.com/users/13Homer/events{/privacy}","received_events_url":"https://api.github.com/users/13Homer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T09:50:02Z","updated_at":"2018-03-01T09:50:02Z","author_association":"NONE","body":"It is defined as a float:\r\n\"typeString\":\"struct<ts:date,dimension1:string,metric1:float>\"\r\ndimension is defined as a float too:\r\n{ \"name\": \"metric1\", \"type\": \"float\" }\r\nWhat am I missing?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369537807/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369539152","html_url":"https://github.com/apache/druid/issues/4909#issuecomment-369539152","issue_url":"https://api.github.com/repos/apache/druid/issues/4909","id":369539152,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTUzOTE1Mg==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T09:55:00Z","updated_at":"2018-03-01T09:55:00Z","author_association":"MEMBER","body":"Hitting similar issue on travis in my fork - https://travis-ci.org/nishantmonu51/druid/jobs/347669365\r\n\r\n@gianm Any thoughts, do we set any custom env variables to get around this ? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369539152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369543048","html_url":"https://github.com/apache/druid/issues/4909#issuecomment-369543048","issue_url":"https://api.github.com/repos/apache/druid/issues/4909","id":369543048,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTU0MzA0OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T10:09:35Z","updated_at":"2018-03-01T10:09:35Z","author_association":"CONTRIBUTOR","body":"Does restarting the job work? I have not seen these sorts of errors on master before. I don't have much to add beyond what I said in my earlier comment (you can check out `Calcites.setSystemProperties()` to see what it's doing).\r\n\r\nThe only better thing I can think of is modifying Calcite such that these properties are settable through something other than system properties.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369543048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369546191","html_url":"https://github.com/apache/druid/pull/5437#issuecomment-369546191","issue_url":"https://api.github.com/repos/apache/druid/issues/5437","id":369546191,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTU0NjE5MQ==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T10:20:55Z","updated_at":"2018-03-01T10:20:55Z","author_association":"MEMBER","body":"Just to add some more Context here - \r\nWe internally make nightly snapshot builds of Druid where we build and test it against hive snapshot builds too. To get that working, we explicitly set the repoUrl to the internal hortonworks repo via setting the repoURL in the maven command. This small addition helps us achieve that. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369546191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369546401","html_url":"https://github.com/apache/druid/pull/5437#issuecomment-369546401","issue_url":"https://api.github.com/repos/apache/druid/issues/5437","id":369546401,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTU0NjQwMQ==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T10:21:40Z","updated_at":"2018-03-01T10:21:40Z","author_association":"MEMBER","body":"@vineshcpaul : Can you please fill in  Druid CLA (http://druid.io/community/cla.html)\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369546401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369547362","html_url":"https://github.com/apache/druid/pull/5437#issuecomment-369547362","issue_url":"https://api.github.com/repos/apache/druid/issues/5437","id":369547362,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTU0NzM2Mg==","user":{"login":"vineshcpaul","id":14140785,"node_id":"MDQ6VXNlcjE0MTQwNzg1","avatar_url":"https://avatars.githubusercontent.com/u/14140785?v=4","gravatar_id":"","url":"https://api.github.com/users/vineshcpaul","html_url":"https://github.com/vineshcpaul","followers_url":"https://api.github.com/users/vineshcpaul/followers","following_url":"https://api.github.com/users/vineshcpaul/following{/other_user}","gists_url":"https://api.github.com/users/vineshcpaul/gists{/gist_id}","starred_url":"https://api.github.com/users/vineshcpaul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vineshcpaul/subscriptions","organizations_url":"https://api.github.com/users/vineshcpaul/orgs","repos_url":"https://api.github.com/users/vineshcpaul/repos","events_url":"https://api.github.com/users/vineshcpaul/events{/privacy}","received_events_url":"https://api.github.com/users/vineshcpaul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T10:25:31Z","updated_at":"2018-03-01T10:25:31Z","author_association":"CONTRIBUTOR","body":"Thank you @nishantmonu51 . Filled and submitted Druid CLA","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369547362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369573830","html_url":"https://github.com/apache/druid/pull/5403#issuecomment-369573830","issue_url":"https://api.github.com/repos/apache/druid/issues/5403","id":369573830,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTU3MzgzMA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T12:16:09Z","updated_at":"2018-03-01T12:16:09Z","author_association":"MEMBER","body":"To me, the patch could be merged (if some issues are created), @drcrallen what do you think?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369573830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369630840","html_url":"https://github.com/apache/druid/pull/5438#issuecomment-369630840","issue_url":"https://api.github.com/repos/apache/druid/issues/5438","id":369630840,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTYzMDg0MA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T15:37:11Z","updated_at":"2018-03-01T15:37:11Z","author_association":"CONTRIBUTOR","body":"Thanks!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369630840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369630899","html_url":"https://github.com/apache/druid/pull/5443#issuecomment-369630899","issue_url":"https://api.github.com/repos/apache/druid/issues/5443","id":369630899,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTYzMDg5OQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T15:37:21Z","updated_at":"2018-03-01T15:37:21Z","author_association":"CONTRIBUTOR","body":"non-issue","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369630899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369632367","html_url":"https://github.com/apache/druid/pull/5421#issuecomment-369632367","issue_url":"https://api.github.com/repos/apache/druid/issues/5421","id":369632367,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTYzMjM2Nw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T15:41:40Z","updated_at":"2018-03-01T15:41:50Z","author_association":"CONTRIBUTOR","body":"I suspect this can make a big difference on new nodes or recovering from coordinator segment balancing down-time.\r\n\r\nSince the change is very isolated and, if needed, could be easily reverted, I'm good here. Thanks @bolkedebruin !\r\n\r\nWould you mind filling out the CLA at http://druid.io/community/cla.html please?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369632367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369632645","html_url":"https://github.com/apache/druid/pull/5421#issuecomment-369632645","issue_url":"https://api.github.com/repos/apache/druid/issues/5421","id":369632645,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTYzMjY0NQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T15:42:35Z","updated_at":"2018-03-01T15:42:35Z","author_association":"CONTRIBUTOR","body":"I think @b-slim wanted to review the stuff some more.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369632645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369639709","html_url":"https://github.com/apache/druid/pull/5421#issuecomment-369639709","issue_url":"https://api.github.com/repos/apache/druid/issues/5421","id":369639709,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTYzOTcwOQ==","user":{"login":"bolkedebruin","id":4282712,"node_id":"MDQ6VXNlcjQyODI3MTI=","avatar_url":"https://avatars.githubusercontent.com/u/4282712?v=4","gravatar_id":"","url":"https://api.github.com/users/bolkedebruin","html_url":"https://github.com/bolkedebruin","followers_url":"https://api.github.com/users/bolkedebruin/followers","following_url":"https://api.github.com/users/bolkedebruin/following{/other_user}","gists_url":"https://api.github.com/users/bolkedebruin/gists{/gist_id}","starred_url":"https://api.github.com/users/bolkedebruin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bolkedebruin/subscriptions","organizations_url":"https://api.github.com/users/bolkedebruin/orgs","repos_url":"https://api.github.com/users/bolkedebruin/repos","events_url":"https://api.github.com/users/bolkedebruin/events{/privacy}","received_events_url":"https://api.github.com/users/bolkedebruin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T16:03:48Z","updated_at":"2018-03-01T16:03:48Z","author_association":"CONTRIBUTOR","body":"@drcrallen excellent. I will also have a look at the local copying and zipping/unzipping as a follow up. CLA done.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369639709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369642972","html_url":"https://github.com/apache/druid/issues/5445#issuecomment-369642972","issue_url":"https://api.github.com/repos/apache/druid/issues/5445","id":369642972,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTY0Mjk3Mg==","user":{"login":"pavanab4u","id":26097447,"node_id":"MDQ6VXNlcjI2MDk3NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/26097447?v=4","gravatar_id":"","url":"https://api.github.com/users/pavanab4u","html_url":"https://github.com/pavanab4u","followers_url":"https://api.github.com/users/pavanab4u/followers","following_url":"https://api.github.com/users/pavanab4u/following{/other_user}","gists_url":"https://api.github.com/users/pavanab4u/gists{/gist_id}","starred_url":"https://api.github.com/users/pavanab4u/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavanab4u/subscriptions","organizations_url":"https://api.github.com/users/pavanab4u/orgs","repos_url":"https://api.github.com/users/pavanab4u/repos","events_url":"https://api.github.com/users/pavanab4u/events{/privacy}","received_events_url":"https://api.github.com/users/pavanab4u/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T16:13:16Z","updated_at":"2018-03-01T16:13:16Z","author_association":"NONE","body":"Hi @gianm , makes sense, thanks!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369642972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369653549","html_url":"https://github.com/apache/druid/issues/4909#issuecomment-369653549","issue_url":"https://api.github.com/repos/apache/druid/issues/4909","id":369653549,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTY1MzU0OQ==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T16:44:27Z","updated_at":"2018-03-01T16:44:27Z","author_association":"MEMBER","body":"@gianm: Submitted a fix https://github.com/druid-io/druid/pull/5451\r\n\r\nIts not an ideal one but works until we change calcite to not rely on System.properties. \r\n\r\nAnother fix would be to manually set proper encodings for calcite in druid pom.xml and travis.yml file. \r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369653549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369655009","html_url":"https://github.com/apache/druid/pull/5335#issuecomment-369655009","issue_url":"https://api.github.com/repos/apache/druid/issues/5335","id":369655009,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTY1NTAwOQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T16:48:46Z","updated_at":"2018-03-01T16:48:54Z","author_association":"CONTRIBUTOR","body":"Sorry for delay. I'll try to finish my review by this weekend.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369655009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369686219","html_url":"https://github.com/apache/druid/pull/5429#issuecomment-369686219","issue_url":"https://api.github.com/repos/apache/druid/issues/5429","id":369686219,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTY4NjIxOQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T18:32:05Z","updated_at":"2018-03-01T18:32:05Z","author_association":"CONTRIBUTOR","body":"@clintropolis I put in the changes to do the native shutdown stuff. Now the logs look something like this:\r\n\r\n```\r\n2018-03-01T18:28:25,074 INFO [Thread-50] io.druid.java.util.common.lifecycle.Lifecycle - Running shutdown hook\r\n2018-03-01T18:28:25,085 INFO [Thread-50] io.druid.curator.discovery.CuratorDruidNodeAnnouncer - Unannouncing [DiscoveryDruidNode{druidNode=DruidNode{serviceName='druid/historical', host='127.0.0.1', port=-1, plaintextPort=8083, enablePlaintextPort=true, tlsPort=-1, enableTlsPort=false}, nodeType='historical', services={dataNodeService=DataNodeService{tier='_default_tier', maxSize=0, type=historical, priority=0}, lookupNodeService=LookupNodeService{lookupTier='__default'}}}].\r\n2018-03-01T18:28:25,085 INFO [Thread-50] io.druid.curator.announcement.Announcer - unannouncing [/druid/internal-discovery/historical/127.0.0.1:8083]\r\n2018-03-01T18:28:25,103 INFO [Thread-50] io.druid.curator.discovery.CuratorDruidNodeAnnouncer - Unannounced [DiscoveryDruidNode{druidNode=DruidNode{serviceName='druid/historical', host='127.0.0.1', port=-1, plaintextPort=8083, enablePlaintextPort=true, tlsPort=-1, enableTlsPort=false}, nodeType='historical', services={dataNodeService=DataNodeService{tier='_default_tier', maxSize=0, type=historical, priority=0}, lookupNodeService=LookupNodeService{lookupTier='__default'}}}].\r\n2018-03-01T18:28:25,104 INFO [Thread-50] io.druid.java.util.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking stop method[public void io.druid.server.listener.announcer.ListenerResourceAnnouncer.stop()] on object[io.druid.query.lookup.LookupResourceListenerAnnouncer@6cbbb9c4].\r\n2018-03-01T18:28:25,104 INFO [Thread-50] io.druid.curator.announcement.Announcer - unannouncing [/druid/listeners/lookups/__default/http:127.0.0.1:8083]\r\n2018-03-01T18:28:25,105 INFO [Thread-50] io.druid.server.listener.announcer.ListenerResourceAnnouncer - Unannouncing start time on [/druid/listeners/lookups/__default/http:127.0.0.1:8083]\r\n2018-03-01T18:28:25,105 INFO [Thread-50] io.druid.java.util.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking stop method[public void io.druid.query.lookup.LookupReferencesManager.stop()] on object[io.druid.query.lookup.LookupReferencesManager@1cd43562].\r\n2018-03-01T18:28:25,105 INFO [Thread-50] io.druid.query.lookup.LookupReferencesManager - LookupReferencesManager is stopping.\r\n2018-03-01T18:28:25,105 INFO [LookupReferencesManager-MainThread] io.druid.query.lookup.LookupReferencesManager - Lookup Management loop exited, Lookup notices are not handled anymore.\r\n2018-03-01T18:28:25,106 INFO [Thread-50] io.druid.query.lookup.LookupReferencesManager - LookupReferencesManager is stopped.\r\n2018-03-01T18:28:25,106 INFO [Thread-50] io.druid.java.util.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking stop method[public void io.druid.discovery.DruidLeaderClient.stop()] on object[io.druid.discovery.DruidLeaderClient@310ed6b4].\r\n2018-03-01T18:28:25,106 INFO [Thread-50] io.druid.discovery.DruidLeaderClient - Stopped.\r\n2018-03-01T18:28:25,106 INFO [Thread-50] io.druid.java.util.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking stop method[public void io.druid.curator.discovery.ServerDiscoverySelector.stop() throws java.io.IOException] on object[io.druid.curator.discovery.ServerDiscoverySelector@3440e9cd].\r\n2018-03-01T18:28:25,109 INFO [Thread-50] io.druid.java.util.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking stop method[public void io.druid.curator.discovery.CuratorDruidNodeDiscoveryProvider.stop()] on object[io.druid.curator.discovery.CuratorDruidNodeDiscoveryProvider@6088451e].\r\n2018-03-01T18:28:25,109 INFO [Thread-50] io.druid.curator.discovery.CuratorDruidNodeDiscoveryProvider - stopping\r\n2018-03-01T18:28:25,109 INFO [Thread-50] io.druid.curator.discovery.CuratorDruidNodeDiscoveryProvider - stopped\r\n2018-03-01T18:28:25,109 INFO [Thread-50] io.druid.java.util.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking stop method[public void io.druid.java.util.http.client.NettyHttpClient.stop()] on object[io.druid.java.util.http.client.NettyHttpClient@441fbe89].\r\n2018-03-01T18:28:25,142 INFO [Thread-50] io.druid.java.util.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking stop method[public void io.druid.server.coordination.ZkCoordinator.stop()] on object[io.druid.server.coordination.ZkCoordinator@1665fa54].\r\n2018-03-01T18:28:25,143 INFO [Thread-50] io.druid.server.coordination.ZkCoordinator - Stopping ZkCoordinator for [DruidServerMetadata{name='127.0.0.1:8083', hostAndPort='127.0.0.1:8083', hostAndTlsPort='null', maxSize=0, tier='_default_tier', type=historical, priority=0}]\r\n2018-03-01T18:28:25,143 INFO [Thread-50] io.druid.java.util.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking stop method[public void io.druid.server.coordination.SegmentLoadDropHandler.stop()] on object[io.druid.server.coordination.SegmentLoadDropHandler@36b9cb99].\r\n2018-03-01T18:28:25,143 INFO [Thread-50] io.druid.server.coordination.SegmentLoadDropHandler - Stopping...\r\n2018-03-01T18:28:25,143 INFO [Thread-50] io.druid.server.coordination.CuratorDataSegmentServerAnnouncer - Unannouncing self[DruidServerMetadata{name='127.0.0.1:8083', hostAndPort='127.0.0.1:8083', hostAndTlsPort='null', maxSize=0, tier='_default_tier', type=historical, priority=0}] at [/druid/announcements/127.0.0.1:8083]\r\n2018-03-01T18:28:25,143 INFO [Thread-50] io.druid.curator.announcement.Announcer - unannouncing [/druid/announcements/127.0.0.1:8083]\r\n2018-03-01T18:28:25,145 INFO [Thread-50] io.druid.server.coordination.SegmentLoadDropHandler - Stopped.\r\n2018-03-01T18:28:25,145 INFO [Thread-50] io.druid.server.initialization.jetty.JettyServerModule - Stopping jetty server...\r\n2018-03-01T18:28:25,151 INFO [Thread-50] org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@619c446a{HTTP/1.1,[http/1.1]}{0.0.0.0:8083}\r\n2018-03-01T18:28:25,152 INFO [Thread-50] org.eclipse.jetty.server.handler.ContextHandler - Stopped o.e.j.s.ServletContextHandler@2ffb3aec{/,null,UNAVAILABLE}\r\n2018-03-01T18:28:25,154 INFO [Thread-50] io.druid.java.util.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking stop method[public void io.druid.java.util.metrics.MonitorScheduler.stop()] on object[io.druid.java.util.metrics.MonitorScheduler@6342d610].\r\n2018-03-01T18:28:25,154 INFO [Thread-50] io.druid.java.util.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking stop method[public void io.druid.java.util.emitter.service.ServiceEmitter.close() throws java.io.IOException] on object[ServiceEmitter{serviceDimensions={service=druid/historical, host=127.0.0.1:8083, version=}, emitter=io.druid.java.util.emitter.core.NoopEmitter@1a5f7e7c}].\r\n2018-03-01T18:28:25,154 INFO [Thread-50] io.druid.java.util.common.lifecycle.Lifecycle$AnnotationBasedHandler - Invoking stop method[public void io.druid.initialization.Log4jShutterDownerModule$Log4jShutterDowner.stop()] on object[io.druid.initialization.Log4jShutterDownerModule$Log4jShutterDowner@53f4c1e6].\r\n```\r\n on shutdown.\r\n\r\nThe jetty shut down happens after unannouncing, but it probably needs to wait a short time before simply rejecting connections or else folks will get rejected connection exceptions.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369686219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369688806","html_url":"https://github.com/apache/druid/issues/5445#issuecomment-369688806","issue_url":"https://api.github.com/repos/apache/druid/issues/5445","id":369688806,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTY4ODgwNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T18:41:07Z","updated_at":"2018-03-01T18:41:07Z","author_association":"CONTRIBUTOR","body":"Hi @pavanab4u - I also raised #5448 with a patch to add support for joda formats with ISO reckoning, which may also be interesting to you.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369688806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369701139","html_url":"https://github.com/apache/druid/issues/5445#issuecomment-369701139","issue_url":"https://api.github.com/repos/apache/druid/issues/5445","id":369701139,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTcwMTEzOQ==","user":{"login":"pavanab4u","id":26097447,"node_id":"MDQ6VXNlcjI2MDk3NDQ3","avatar_url":"https://avatars.githubusercontent.com/u/26097447?v=4","gravatar_id":"","url":"https://api.github.com/users/pavanab4u","html_url":"https://github.com/pavanab4u","followers_url":"https://api.github.com/users/pavanab4u/followers","following_url":"https://api.github.com/users/pavanab4u/following{/other_user}","gists_url":"https://api.github.com/users/pavanab4u/gists{/gist_id}","starred_url":"https://api.github.com/users/pavanab4u/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavanab4u/subscriptions","organizations_url":"https://api.github.com/users/pavanab4u/orgs","repos_url":"https://api.github.com/users/pavanab4u/repos","events_url":"https://api.github.com/users/pavanab4u/events{/privacy}","received_events_url":"https://api.github.com/users/pavanab4u/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T19:22:39Z","updated_at":"2018-03-01T19:22:39Z","author_association":"NONE","body":"Hi @gianm This is going to be helpful, thanks !","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369701139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369721594","html_url":"https://github.com/apache/druid/issues/5447#issuecomment-369721594","issue_url":"https://api.github.com/repos/apache/druid/issues/5447","id":369721594,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTcyMTU5NA==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T20:32:26Z","updated_at":"2018-03-01T20:32:26Z","author_association":"MEMBER","body":"seems like you are building some alibaba specific druid fork. \r\nPlease raise an issue on alibaba repo. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369721594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369754740","html_url":"https://github.com/apache/druid/issues/5428#issuecomment-369754740","issue_url":"https://api.github.com/repos/apache/druid/issues/5428","id":369754740,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTc1NDc0MA==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T22:33:56Z","updated_at":"2018-03-01T22:33:56Z","author_association":"MEMBER","body":"@jihoonson: Adding retryCount to the task status sounds good. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369754740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369756998","html_url":"https://github.com/apache/druid/issues/5428#issuecomment-369756998","issue_url":"https://api.github.com/repos/apache/druid/issues/5428","id":369756998,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTc1Njk5OA==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-01T22:43:28Z","updated_at":"2018-03-01T22:43:28Z","author_association":"MEMBER","body":"One way to achieve idempotency and avoid duplicate data could be to add a publisher field to the metadata storage when publishing segments.  \r\n\r\nFor tasks it can be the taskID, when the task is retried, the retry attempts can check whether there are any segments already published with the same task id or not. This has following assumptions though - \r\n* TaskID is same for each retry attempt. We might need to add a retryAttempt field to tasks table in metadata storage. \r\n* auto-retryable task always publishes segments in a single metadata transaction atomically. \r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369756998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369800782","html_url":"https://github.com/apache/druid/pull/5453#issuecomment-369800782","issue_url":"https://api.github.com/repos/apache/druid/issues/5453","id":369800782,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTgwMDc4Mg==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T02:30:42Z","updated_at":"2018-03-02T02:30:42Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369800782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369802993","html_url":"https://github.com/apache/druid/pull/5448#issuecomment-369802993","issue_url":"https://api.github.com/repos/apache/druid/issues/5448","id":369802993,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTgwMjk5Mw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T02:44:05Z","updated_at":"2018-03-02T02:44:05Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369802993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369811570","html_url":"https://github.com/apache/druid/pull/5454#issuecomment-369811570","issue_url":"https://api.github.com/repos/apache/druid/issues/5454","id":369811570,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTgxMTU3MA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T03:45:37Z","updated_at":"2018-03-02T03:45:37Z","author_association":"CONTRIBUTOR","body":"Looks like there is a compilation error.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369811570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369840825","html_url":"https://github.com/apache/druid/pull/5429#issuecomment-369840825","issue_url":"https://api.github.com/repos/apache/druid/issues/5429","id":369840825,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTg0MDgyNQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T07:07:05Z","updated_at":"2018-03-02T07:07:05Z","author_association":"MEMBER","body":"@drcrallen I think you are right, a delay before graceful jetty shutdown makes sense and would be more graceful than rejecting outright. That way we can handle incoming stuff for a reasonable period where we might be perceived to be announced (I'm not sure offhand what this value is), and then finish as many of those requests as possible.\r\n\r\nI guess long enough delay after unannouncing sort of does negate the need for jetty to gracefully shutdown... and we've gone full circle 😜 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369840825/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369852817","html_url":"https://github.com/apache/druid/pull/5448#issuecomment-369852817","issue_url":"https://api.github.com/repos/apache/druid/issues/5448","id":369852817,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTg1MjgxNw==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T08:18:16Z","updated_at":"2018-03-02T08:18:16Z","author_association":"MEMBER","body":"@gianm this can be merged once intellij inspections are fixed. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369852817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369991888","html_url":"https://github.com/apache/druid/pull/5429#issuecomment-369991888","issue_url":"https://api.github.com/repos/apache/druid/issues/5429","id":369991888,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTk5MTg4OA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T17:29:19Z","updated_at":"2018-03-02T17:29:19Z","author_association":"CONTRIBUTOR","body":"@clintropolis the timeframe between \"unnanounce\" and \"reject any more connections\" should be on the order of the propagation time of the unannouncement\r\n\r\nI think I'll just add a config option for setting this extra delay, with a comment that it is additive to the graceful shutdown and is related to how fast nodes can act on a zookeeper unannouncement.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369991888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/369996788","html_url":"https://github.com/apache/druid/pull/5429#issuecomment-369996788","issue_url":"https://api.github.com/repos/apache/druid/issues/5429","id":369996788,"node_id":"MDEyOklzc3VlQ29tbWVudDM2OTk5Njc4OA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T17:46:15Z","updated_at":"2018-03-02T17:46:15Z","author_association":"CONTRIBUTOR","body":"@clintropolis / @niketh can you check and see if the latest changes make sense to you?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/369996788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370000000","html_url":"https://github.com/apache/druid/pull/5452#issuecomment-370000000","issue_url":"https://api.github.com/repos/apache/druid/issues/5452","id":370000000,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDAwMDAwMA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T17:57:29Z","updated_at":"2018-03-02T17:57:29Z","author_association":"CONTRIBUTOR","body":"\n\n\n\nReviewed 45 of 167 files at r1.\nReview status: 45 of 167 files reviewed at latest revision, 1 unresolved discussion.\n\n---\n\n*[processing/src/main/java/io/druid/guice/GuiceInjectors.java, line 45 at r1](https://reviewable.io:443/reviews/druid-io/druid/5452#-L6bm-ZHWBQ5oh4JNF9d:-L6bm-ZHWBQ5oh4JNF9e:b99b0l3) ([raw file](https://github.com/druid-io/druid/blob/a5b6f9bea97bec9a2547b3019e72fa460b11509d/processing/src/main/java/io/druid/guice/GuiceInjectors.java#L45)):*\n> ```Java\n>         new PropertiesModule(Arrays.asList(\"common.runtime.properties\", \"runtime.properties\")),\n>         new ConfigModule(),\n>         new NullHandlingModule(),\n> ```\n\nI thought this was done part of the previous patch? \n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io:443/reviews/druid-io/druid/5452)*\n<!-- Sent from Reviewable.io -->\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370000000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370018124","html_url":"https://github.com/apache/druid/issues/5458#issuecomment-370018124","issue_url":"https://api.github.com/repos/apache/druid/issues/5458","id":370018124,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDAxODEyNA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T18:55:58Z","updated_at":"2018-03-02T18:55:58Z","author_association":"CONTRIBUTOR","body":"I don't think it is universally accepted that strictly adhering to the substitution principle in Java is a good thing. Using getClass has a benefit: `x.equals(y)` may return true improperly if y's class extends x's class and adds more fields. They are really not equal in that case (y, with more fields added, is really a different kind of thing from x). For this reason I usually use getClass rather than instanceof when writing equals methods.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370018124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370018308","html_url":"https://github.com/apache/druid/issues/5458#issuecomment-370018308","issue_url":"https://api.github.com/repos/apache/druid/issues/5458","id":370018308,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDAxODMwOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T18:56:36Z","updated_at":"2018-03-02T18:57:20Z","author_association":"CONTRIBUTOR","body":"I acknowledge that this is controversial, though: https://www.artima.com/intv/bloch17.html. But my personal feeling is that both approaches can lead to surprising behavior, and I prefer the surprising behaviors of getClass to the surprising behaviors of instanceof.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370018308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370020461","html_url":"https://github.com/apache/druid/pull/5459#issuecomment-370020461","issue_url":"https://api.github.com/repos/apache/druid/issues/5459","id":370020461,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDAyMDQ2MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T19:04:18Z","updated_at":"2018-03-02T19:04:18Z","author_association":"CONTRIBUTOR","body":"Closing since I think @jon-wei is working on a version that adds a test too, which is better.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370020461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370022618","html_url":"https://github.com/apache/druid/issues/5458#issuecomment-370022618","issue_url":"https://api.github.com/repos/apache/druid/issues/5458","id":370022618,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDAyMjYxOA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T19:12:15Z","updated_at":"2018-03-02T19:12:15Z","author_association":"MEMBER","body":"The approach when there is no such controversal class extensions, and composition is used instead, leaves no surprises. As far as I understand, we use extension because we don't want to add another level of nesting in configs. I wonder if there is an option to \"flatten\" such nested entities in Jackson.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370022618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370025124","html_url":"https://github.com/apache/druid/issues/5458#issuecomment-370025124","issue_url":"https://api.github.com/repos/apache/druid/issues/5458","id":370025124,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDAyNTEyNA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T19:21:24Z","updated_at":"2018-03-02T19:21:24Z","author_association":"CONTRIBUTOR","body":"> The approach when there is no such controversal class extensions, and composition is used instead, leaves no surprises. As far as I understand, we use extension because we don't want to add another level of nesting in configs. I wonder if there is an option to \"flatten\" such nested entities in Jackson.\r\n\r\nI think that's indeed the reason that HttpRemoteTaskRunnerConfig extends RemoteTaskRunnerConfig.\r\n\r\nWe could simply copy and paste rather than doing a subclass, but I think we want to reduce code duplication and the maintenance burden it adds. One compromise could be to do composition, but flatten manually in the new class's constructor. It creates some more code in the new class (a constructor is needed) but avoids both the problems of equals and of too much code duplication. I don't know if Jackson has an option to do it automatically or not.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370025124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370028353","html_url":"https://github.com/apache/druid/pull/5148#issuecomment-370028353","issue_url":"https://api.github.com/repos/apache/druid/issues/5148","id":370028353,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDAyODM1Mw==","user":{"login":"AlexanderSaydakov","id":13126686,"node_id":"MDQ6VXNlcjEzMTI2Njg2","avatar_url":"https://avatars.githubusercontent.com/u/13126686?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderSaydakov","html_url":"https://github.com/AlexanderSaydakov","followers_url":"https://api.github.com/users/AlexanderSaydakov/followers","following_url":"https://api.github.com/users/AlexanderSaydakov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderSaydakov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderSaydakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderSaydakov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderSaydakov/orgs","repos_url":"https://api.github.com/users/AlexanderSaydakov/repos","events_url":"https://api.github.com/users/AlexanderSaydakov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderSaydakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T19:32:33Z","updated_at":"2018-03-02T19:38:42Z","author_association":"CONTRIBUTOR","body":"Regarding documentation, I have added the following to the module class:\r\n```\r\n/**\r\n * This module is to support numeric Tuple sketches, which extend the functionality of the count-distinct\r\n * Theta sketches by adding arrays of double values associated with unique keys.\r\n * \r\n * https://datasketches.github.io/docs/Tuple/TupleOverview.html\r\n */\r\n```\r\n\r\nI know it is not enough. I think the goal is to restructure the page about the datasketches extension, which currently talks about the Theta sketches only, but the extension already includes the Quantiles sketches module as well. And I have new HLL sketch aggregator module to submit after this one.\r\n\r\nhttp://druid.io/docs/0.11.0/development/extensions-core/datasketches-aggregators.html\r\n\r\nIn the meantime I would suggest looking at the tests, where three basic scenarios are given in Json: ingesting sketches, building sketches during ingestion from raw data and building sketches at query time.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370028353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370065982","html_url":"https://github.com/apache/druid/issues/4605#issuecomment-370065982","issue_url":"https://api.github.com/repos/apache/druid/issues/4605","id":370065982,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDA2NTk4Mg==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T22:03:59Z","updated_at":"2018-03-02T22:03:59Z","author_association":"CONTRIBUTOR","body":"https://groups.google.com/d/msg/druid-development/VEYkW_5dWd8/AKL6_uk5AwAJ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370065982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370067692","html_url":"https://github.com/apache/druid/pull/5461#issuecomment-370067692","issue_url":"https://api.github.com/repos/apache/druid/issues/5461","id":370067692,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDA2NzY5Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T22:11:51Z","updated_at":"2018-03-02T22:11:51Z","author_association":"CONTRIBUTOR","body":"Thanks @leventov this is great housekeeping! I was surprised to learn that DataSegmentPuller isn't used anywhere 🌈⭐️\r\n\r\nI don't see a reason to remove \"redundant throws\" in extension point interfaces. For example, this patch removes \"throws Exception\" in FirehoseV2's start method. Why? What's wrong with letting extensions throw exceptions there if they want to?\r\n\r\nI think this patch could be done in a non-incompatible way and it might even be better off like that.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370067692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370067855","html_url":"https://github.com/apache/druid/pull/5461#issuecomment-370067855","issue_url":"https://api.github.com/repos/apache/druid/issues/5461","id":370067855,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDA2Nzg1NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T22:12:38Z","updated_at":"2018-03-02T22:12:38Z","author_association":"CONTRIBUTOR","body":"Okay, nevermind, it must be incompatible because of the removal of DataSegmentPuller. But I still am skeptical of the removal of `throws` clauses from extension interfaces.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370067855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370075478","html_url":"https://github.com/apache/druid/issues/5455#issuecomment-370075478","issue_url":"https://api.github.com/repos/apache/druid/issues/5455","id":370075478,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDA3NTQ3OA==","user":{"login":"kor85","id":8151803,"node_id":"MDQ6VXNlcjgxNTE4MDM=","avatar_url":"https://avatars.githubusercontent.com/u/8151803?v=4","gravatar_id":"","url":"https://api.github.com/users/kor85","html_url":"https://github.com/kor85","followers_url":"https://api.github.com/users/kor85/followers","following_url":"https://api.github.com/users/kor85/following{/other_user}","gists_url":"https://api.github.com/users/kor85/gists{/gist_id}","starred_url":"https://api.github.com/users/kor85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kor85/subscriptions","organizations_url":"https://api.github.com/users/kor85/orgs","repos_url":"https://api.github.com/users/kor85/repos","events_url":"https://api.github.com/users/kor85/events{/privacy}","received_events_url":"https://api.github.com/users/kor85/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T22:48:42Z","updated_at":"2018-03-02T22:51:51Z","author_association":"CONTRIBUTOR","body":"It's terrible, i'm scared this plugin on Dru.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370075478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370077193","html_url":"https://github.com/apache/druid/issues/5455#issuecomment-370077193","issue_url":"https://api.github.com/repos/apache/druid/issues/5455","id":370077193,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDA3NzE5Mw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T22:53:30Z","updated_at":"2018-03-02T22:53:30Z","author_association":"CONTRIBUTOR","body":"Hi @korablevalexander would you try `mvn clean install -DskipTests`?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370077193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370079163","html_url":"https://github.com/apache/druid/issues/5455#issuecomment-370079163","issue_url":"https://api.github.com/repos/apache/druid/issues/5455","id":370079163,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDA3OTE2Mw==","user":{"login":"kor85","id":8151803,"node_id":"MDQ6VXNlcjgxNTE4MDM=","avatar_url":"https://avatars.githubusercontent.com/u/8151803?v=4","gravatar_id":"","url":"https://api.github.com/users/kor85","html_url":"https://github.com/kor85","followers_url":"https://api.github.com/users/kor85/followers","following_url":"https://api.github.com/users/kor85/following{/other_user}","gists_url":"https://api.github.com/users/kor85/gists{/gist_id}","starred_url":"https://api.github.com/users/kor85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kor85/subscriptions","organizations_url":"https://api.github.com/users/kor85/orgs","repos_url":"https://api.github.com/users/kor85/repos","events_url":"https://api.github.com/users/kor85/events{/privacy}","received_events_url":"https://api.github.com/users/kor85/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T22:59:07Z","updated_at":"2018-03-02T22:59:07Z","author_association":"CONTRIBUTOR","body":"It's produce the same error.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370079163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370080632","html_url":"https://github.com/apache/druid/issues/5455#issuecomment-370080632","issue_url":"https://api.github.com/repos/apache/druid/issues/5455","id":370080632,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDA4MDYzMg==","user":{"login":"kor85","id":8151803,"node_id":"MDQ6VXNlcjgxNTE4MDM=","avatar_url":"https://avatars.githubusercontent.com/u/8151803?v=4","gravatar_id":"","url":"https://api.github.com/users/kor85","html_url":"https://github.com/kor85","followers_url":"https://api.github.com/users/kor85/followers","following_url":"https://api.github.com/users/kor85/following{/other_user}","gists_url":"https://api.github.com/users/kor85/gists{/gist_id}","starred_url":"https://api.github.com/users/kor85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kor85/subscriptions","organizations_url":"https://api.github.com/users/kor85/orgs","repos_url":"https://api.github.com/users/kor85/repos","events_url":"https://api.github.com/users/kor85/events{/privacy}","received_events_url":"https://api.github.com/users/kor85/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T23:03:29Z","updated_at":"2018-03-02T23:03:29Z","author_association":"CONTRIBUTOR","body":"It's forced to disable this plugin. But in ur Travis it's work. What is the difference?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370080632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370087786","html_url":"https://github.com/apache/druid/issues/5455#issuecomment-370087786","issue_url":"https://api.github.com/repos/apache/druid/issues/5455","id":370087786,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDA4Nzc4Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T23:34:01Z","updated_at":"2018-03-02T23:34:01Z","author_association":"CONTRIBUTOR","body":"The plugin isn't strictly needed right now -- its purpose is to verify that our code will run on older JVMs than the one we compiled with. It was useful when we used to compile on Java 8 and support both Java 7 and 8. But today we only support Java 8 at runtime. However, we might as well keep the plugin enabled, since it will help once we start compiling on Java 9 and supporting Java 8 and 9.\r\n\r\nI haven't ever seen such problems with it -- @korablevalexander perhaps consider upgrading your Maven version or clearing out your Maven cache? I am on Maven 3.5.2 if that helps.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370087786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370091102","html_url":"https://github.com/apache/druid/issues/5404#issuecomment-370091102","issue_url":"https://api.github.com/repos/apache/druid/issues/5404","id":370091102,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDA5MTEwMg==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T23:52:39Z","updated_at":"2018-03-02T23:52:39Z","author_association":"CONTRIBUTOR","body":"@gianm I thought Druid is using old consumer client that reads committed and uncommitted, so not sure why the consumer will not see a sequential order of offsets. Also according to my understanding commits are stored at Brokers and I don't think they get written on the log itself. The original claim says turned on exactly once am not sure what that means in practice I don't think there is such a flag.   Anyway, this seems like the black swan...","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370091102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370091765","html_url":"https://github.com/apache/druid/issues/5404#issuecomment-370091765","issue_url":"https://api.github.com/repos/apache/druid/issues/5404","id":370091765,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDA5MTc2NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-02T23:56:55Z","updated_at":"2018-03-02T23:56:55Z","author_association":"CONTRIBUTOR","body":"Hmm, I don't know enough about how Kafka transactions work to know what to do. Is anyone listening to the thread that has enough Kafka expertise to know for sure if we should be expecting offset gaps in transactional topics or not?\r\n\r\nFwiw, we are using the new consumer API, kafka-clients version 0.10.2.0.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370091765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370092275","html_url":"https://github.com/apache/druid/issues/5404#issuecomment-370092275","issue_url":"https://api.github.com/repos/apache/druid/issues/5404","id":370092275,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDA5MjI3NQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-03T00:00:05Z","updated_at":"2018-03-03T00:00:05Z","author_association":"CONTRIBUTOR","body":"Transaction is 0.11 https://issues.apache.org/jira/browse/KAFKA-4815.\r\n  ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370092275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370103546","html_url":"https://github.com/apache/druid/pull/5434#issuecomment-370103546","issue_url":"https://api.github.com/repos/apache/druid/issues/5434","id":370103546,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDEwMzU0Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-03T01:25:51Z","updated_at":"2018-03-03T01:25:51Z","author_association":"CONTRIBUTOR","body":"@nishantmonu51, @clintropolis has done this work while at Imply so should be covered.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370103546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370104473","html_url":"https://github.com/apache/druid/issues/5462#issuecomment-370104473","issue_url":"https://api.github.com/repos/apache/druid/issues/5462","id":370104473,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDEwNDQ3Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-03T01:34:32Z","updated_at":"2018-03-03T01:34:32Z","author_association":"CONTRIBUTOR","body":"I am gonna move this to 0.13.0 as we have been discussing on the list.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370104473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370104882","html_url":"https://github.com/apache/druid/pull/5448#issuecomment-370104882","issue_url":"https://api.github.com/repos/apache/druid/issues/5448","id":370104882,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDEwNDg4Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-03T01:39:34Z","updated_at":"2018-03-03T01:39:34Z","author_association":"CONTRIBUTOR","body":"I'm trying rerunning the inspections. They didn't look related to what I had changed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370104882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370115160","html_url":"https://github.com/apache/druid/pull/5464#issuecomment-370115160","issue_url":"https://api.github.com/repos/apache/druid/issues/5464","id":370115160,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDExNTE2MA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-03T03:59:07Z","updated_at":"2018-03-03T03:59:07Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370115160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370145482","html_url":"https://github.com/apache/druid/issues/5455#issuecomment-370145482","issue_url":"https://api.github.com/repos/apache/druid/issues/5455","id":370145482,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDE0NTQ4Mg==","user":{"login":"kor85","id":8151803,"node_id":"MDQ6VXNlcjgxNTE4MDM=","avatar_url":"https://avatars.githubusercontent.com/u/8151803?v=4","gravatar_id":"","url":"https://api.github.com/users/kor85","html_url":"https://github.com/kor85","followers_url":"https://api.github.com/users/kor85/followers","following_url":"https://api.github.com/users/kor85/following{/other_user}","gists_url":"https://api.github.com/users/kor85/gists{/gist_id}","starred_url":"https://api.github.com/users/kor85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kor85/subscriptions","organizations_url":"https://api.github.com/users/kor85/orgs","repos_url":"https://api.github.com/users/kor85/repos","events_url":"https://api.github.com/users/kor85/events{/privacy}","received_events_url":"https://api.github.com/users/kor85/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-03T12:52:56Z","updated_at":"2018-03-03T12:52:56Z","author_association":"CONTRIBUTOR","body":"I'm already on maven 3.5.2. I tried clean local repository but it has no effect.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370145482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370147728","html_url":"https://github.com/apache/druid/issues/5455#issuecomment-370147728","issue_url":"https://api.github.com/repos/apache/druid/issues/5455","id":370147728,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDE0NzcyOA==","user":{"login":"kor85","id":8151803,"node_id":"MDQ6VXNlcjgxNTE4MDM=","avatar_url":"https://avatars.githubusercontent.com/u/8151803?v=4","gravatar_id":"","url":"https://api.github.com/users/kor85","html_url":"https://github.com/kor85","followers_url":"https://api.github.com/users/kor85/followers","following_url":"https://api.github.com/users/kor85/following{/other_user}","gists_url":"https://api.github.com/users/kor85/gists{/gist_id}","starred_url":"https://api.github.com/users/kor85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kor85/subscriptions","organizations_url":"https://api.github.com/users/kor85/orgs","repos_url":"https://api.github.com/users/kor85/repos","events_url":"https://api.github.com/users/kor85/events{/privacy}","received_events_url":"https://api.github.com/users/kor85/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-03T13:31:10Z","updated_at":"2018-03-03T13:31:29Z","author_association":"CONTRIBUTOR","body":"I solve this problem by flush cache and building druid without our private proxies of public repos. I'll try to understand the true cause of this issue.\r\nNow forbiddenapis fails on druid-sql\r\n```\r\n[ERROR] Forbidden method invocation: java.lang.String#format(java.lang.String,java.lang.Object[]) [Uses default locale]\r\n[ERROR]   in io.druid.sql.calcite.table.RowSignature (RowSignature.java, method body of '$$$reportNull$$$0(int)')\r\n[ERROR] Scanned 148 (and 599 related) class file(s) for forbidden API invocations (in 0.30s), 1 error(s).\r\n```\r\nI'm on tag druid-0.11.0.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370147728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370149051","html_url":"https://github.com/apache/druid/issues/5455#issuecomment-370149051","issue_url":"https://api.github.com/repos/apache/druid/issues/5455","id":370149051,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDE0OTA1MQ==","user":{"login":"kor85","id":8151803,"node_id":"MDQ6VXNlcjgxNTE4MDM=","avatar_url":"https://avatars.githubusercontent.com/u/8151803?v=4","gravatar_id":"","url":"https://api.github.com/users/kor85","html_url":"https://github.com/kor85","followers_url":"https://api.github.com/users/kor85/followers","following_url":"https://api.github.com/users/kor85/following{/other_user}","gists_url":"https://api.github.com/users/kor85/gists{/gist_id}","starred_url":"https://api.github.com/users/kor85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kor85/subscriptions","organizations_url":"https://api.github.com/users/kor85/orgs","repos_url":"https://api.github.com/users/kor85/repos","events_url":"https://api.github.com/users/kor85/events{/privacy}","received_events_url":"https://api.github.com/users/kor85/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-03T13:53:11Z","updated_at":"2018-03-03T13:53:11Z","author_association":"CONTRIBUTOR","body":"`mvn clean` solve it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370149051/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370163778","html_url":"https://github.com/apache/druid/issues/5466#issuecomment-370163778","issue_url":"https://api.github.com/repos/apache/druid/issues/5466","id":370163778,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDE2Mzc3OA==","user":{"login":"kor85","id":8151803,"node_id":"MDQ6VXNlcjgxNTE4MDM=","avatar_url":"https://avatars.githubusercontent.com/u/8151803?v=4","gravatar_id":"","url":"https://api.github.com/users/kor85","html_url":"https://github.com/kor85","followers_url":"https://api.github.com/users/kor85/followers","following_url":"https://api.github.com/users/kor85/following{/other_user}","gists_url":"https://api.github.com/users/kor85/gists{/gist_id}","starred_url":"https://api.github.com/users/kor85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kor85/subscriptions","organizations_url":"https://api.github.com/users/kor85/orgs","repos_url":"https://api.github.com/users/kor85/repos","events_url":"https://api.github.com/users/kor85/events{/privacy}","received_events_url":"https://api.github.com/users/kor85/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-03T17:13:44Z","updated_at":"2018-03-03T17:13:44Z","author_association":"CONTRIBUTOR","body":"pr https://github.com/druid-io/druid/pull/5467","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370163778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370209043","html_url":"https://github.com/apache/druid/pull/5465#issuecomment-370209043","issue_url":"https://api.github.com/repos/apache/druid/issues/5465","id":370209043,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDIwOTA0Mw==","user":{"login":"gauravkumar37","id":2500570,"node_id":"MDQ6VXNlcjI1MDA1NzA=","avatar_url":"https://avatars.githubusercontent.com/u/2500570?v=4","gravatar_id":"","url":"https://api.github.com/users/gauravkumar37","html_url":"https://github.com/gauravkumar37","followers_url":"https://api.github.com/users/gauravkumar37/followers","following_url":"https://api.github.com/users/gauravkumar37/following{/other_user}","gists_url":"https://api.github.com/users/gauravkumar37/gists{/gist_id}","starred_url":"https://api.github.com/users/gauravkumar37/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gauravkumar37/subscriptions","organizations_url":"https://api.github.com/users/gauravkumar37/orgs","repos_url":"https://api.github.com/users/gauravkumar37/repos","events_url":"https://api.github.com/users/gauravkumar37/events{/privacy}","received_events_url":"https://api.github.com/users/gauravkumar37/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-04T07:50:08Z","updated_at":"2018-03-04T07:50:08Z","author_association":"CONTRIBUTOR","body":"Failed build is due to a timeout exception in kafka-indexing-service tests, unrelated to my PR. Can somebody retrigger the build?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370209043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370299058","html_url":"https://github.com/apache/druid/pull/5450#issuecomment-370299058","issue_url":"https://api.github.com/repos/apache/druid/issues/5450","id":370299058,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDI5OTA1OA==","user":{"login":"zhztheplayer","id":11284395,"node_id":"MDQ6VXNlcjExMjg0Mzk1","avatar_url":"https://avatars.githubusercontent.com/u/11284395?v=4","gravatar_id":"","url":"https://api.github.com/users/zhztheplayer","html_url":"https://github.com/zhztheplayer","followers_url":"https://api.github.com/users/zhztheplayer/followers","following_url":"https://api.github.com/users/zhztheplayer/following{/other_user}","gists_url":"https://api.github.com/users/zhztheplayer/gists{/gist_id}","starred_url":"https://api.github.com/users/zhztheplayer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhztheplayer/subscriptions","organizations_url":"https://api.github.com/users/zhztheplayer/orgs","repos_url":"https://api.github.com/users/zhztheplayer/repos","events_url":"https://api.github.com/users/zhztheplayer/events{/privacy}","received_events_url":"https://api.github.com/users/zhztheplayer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-05T03:20:16Z","updated_at":"2018-03-05T03:20:16Z","author_association":"MEMBER","body":"It seems that an unrelated timeout error from [**other modules test**](https://travis-ci.org/druid-io/druid/jobs/348148669) blocks the travis build.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370299058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370403876","html_url":"https://github.com/apache/druid/pull/2362#issuecomment-370403876","issue_url":"https://api.github.com/repos/apache/druid/issues/2362","id":370403876,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDQwMzg3Ng==","user":{"login":"sascha-coenen","id":1635350,"node_id":"MDQ6VXNlcjE2MzUzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/1635350?v=4","gravatar_id":"","url":"https://api.github.com/users/sascha-coenen","html_url":"https://github.com/sascha-coenen","followers_url":"https://api.github.com/users/sascha-coenen/followers","following_url":"https://api.github.com/users/sascha-coenen/following{/other_user}","gists_url":"https://api.github.com/users/sascha-coenen/gists{/gist_id}","starred_url":"https://api.github.com/users/sascha-coenen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sascha-coenen/subscriptions","organizations_url":"https://api.github.com/users/sascha-coenen/orgs","repos_url":"https://api.github.com/users/sascha-coenen/repos","events_url":"https://api.github.com/users/sascha-coenen/events{/privacy}","received_events_url":"https://api.github.com/users/sascha-coenen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-05T12:26:26Z","updated_at":"2018-03-05T12:26:26Z","author_association":"NONE","body":"Hi Gian,\r\nI'm pretty sure that sequential execution was what we saw during tests although I couldn't underpin these findings based on source code but that's because I don't understand the code.\r\n\r\nTo give a little context: \r\na colleague of mine tested UNION query performance using a setup where he partitioned a dataset into N equal disjunct parts and created N datasources from it. He also created a datasource that had all the data in it. He then tested query performance of UNION queries vs a reference query that would directly touch the big datasource. He found out that the query latency for UNION queries increases linearly with the number of datasources that are unioned.\r\nA query that unioned over 4 datasources took 4 times longer than the query that was sent against the big datasource. This result was unexpected as the number of segments queried were equal in both cases.\r\nHe used Druid 0.9.2 for his tests. I double checked his results and also looked into the Druid codebase to see if there were any code changes in later releases that might have an effect on parallelism but couldn't find anything.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370403876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370435358","html_url":"https://github.com/apache/druid/pull/5441#issuecomment-370435358","issue_url":"https://api.github.com/repos/apache/druid/issues/5441","id":370435358,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDQzNTM1OA==","user":{"login":"a2l007","id":4603202,"node_id":"MDQ6VXNlcjQ2MDMyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/4603202?v=4","gravatar_id":"","url":"https://api.github.com/users/a2l007","html_url":"https://github.com/a2l007","followers_url":"https://api.github.com/users/a2l007/followers","following_url":"https://api.github.com/users/a2l007/following{/other_user}","gists_url":"https://api.github.com/users/a2l007/gists{/gist_id}","starred_url":"https://api.github.com/users/a2l007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2l007/subscriptions","organizations_url":"https://api.github.com/users/a2l007/orgs","repos_url":"https://api.github.com/users/a2l007/repos","events_url":"https://api.github.com/users/a2l007/events{/privacy}","received_events_url":"https://api.github.com/users/a2l007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-05T14:26:47Z","updated_at":"2018-03-05T14:26:47Z","author_association":"CONTRIBUTOR","body":"@gianm @jihoonson Could you please review?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370435358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370622860","html_url":"https://github.com/apache/druid/issues/5466#issuecomment-370622860","issue_url":"https://api.github.com/repos/apache/druid/issues/5466","id":370622860,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDYyMjg2MA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-06T00:59:17Z","updated_at":"2018-03-06T00:59:17Z","author_association":"CONTRIBUTOR","body":"Fixed by #5467 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370622860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/370631342","html_url":"https://github.com/apache/druid/pull/5288#issuecomment-370631342","issue_url":"https://api.github.com/repos/apache/druid/issues/5288","id":370631342,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDYzMTM0Mg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-06T01:43:07Z","updated_at":"2018-03-06T01:43:07Z","author_association":"CONTRIBUTOR","body":"Hi @samarthjain, I'm working on #5382 which includes some parts of this patch, and I think it's almost done. Do you think this PR is still needed?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/370631342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]