[{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1277930219","html_url":"https://github.com/apache/myfaces/pull/325#issuecomment-1277930219","issue_url":"https://api.github.com/repos/apache/myfaces/issues/325","id":1277930219,"node_id":"IC_kwDOB-dSOs5MK6rr","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-13T17:12:30Z","updated_at":"2022-10-13T17:13:08Z","author_association":"CONTRIBUTOR","body":"Working on it, there was an issue in the new codebase as well.\r\nThe updated code should be in the codebase tomorrow.\r\nAlso I added this case to my integration tests. Same push into the pull request tomorrow.\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1277930219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1278859854","html_url":"https://github.com/apache/myfaces/pull/343#issuecomment-1278859854","issue_url":"https://api.github.com/repos/apache/myfaces/issues/343","id":1278859854,"node_id":"IC_kwDOB-dSOs5MOdpO","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T11:07:30Z","updated_at":"2022-10-14T11:07:30Z","author_association":"CONTRIBUTOR","body":"Will merge as soon as the building is done, all tests pass as good as before the changes.\r\nIntegration tests now have the nonce tests backported in the github project.\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1278859854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1279233646","html_url":"https://github.com/apache/myfaces/pull/342#issuecomment-1279233646","issue_url":"https://api.github.com/repos/apache/myfaces/issues/342","id":1279233646,"node_id":"IC_kwDOB-dSOs5MP45u","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-14T16:40:09Z","updated_at":"2022-10-14T16:40:09Z","author_association":"CONTRIBUTOR","body":"Closing it, already implemented differently","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1279233646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1280898768","html_url":"https://github.com/apache/myfaces/pull/338#issuecomment-1280898768","issue_url":"https://api.github.com/repos/apache/myfaces/issues/338","id":1280898768,"node_id":"IC_kwDOB-dSOs5MWPbQ","user":{"login":"tandraschko","id":2485545,"node_id":"MDQ6VXNlcjI0ODU1NDU=","avatar_url":"https://avatars.githubusercontent.com/u/2485545?v=4","gravatar_id":"","url":"https://api.github.com/users/tandraschko","html_url":"https://github.com/tandraschko","followers_url":"https://api.github.com/users/tandraschko/followers","following_url":"https://api.github.com/users/tandraschko/following{/other_user}","gists_url":"https://api.github.com/users/tandraschko/gists{/gist_id}","starred_url":"https://api.github.com/users/tandraschko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandraschko/subscriptions","organizations_url":"https://api.github.com/users/tandraschko/orgs","repos_url":"https://api.github.com/users/tandraschko/repos","events_url":"https://api.github.com/users/tandraschko/events{/privacy}","received_events_url":"https://api.github.com/users/tandraschko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T13:53:13Z","updated_at":"2022-10-17T13:53:13Z","author_association":"MEMBER","body":"please try to get the integrationtests running\r\nwe have some tests for the viewId mapping stuff, which must not fail after this commit","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1280898768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1281406050","html_url":"https://github.com/apache/myfaces/pull/338#issuecomment-1281406050","issue_url":"https://api.github.com/repos/apache/myfaces/issues/338","id":1281406050,"node_id":"IC_kwDOB-dSOs5MYLRi","user":{"login":"volosied","id":5934310,"node_id":"MDQ6VXNlcjU5MzQzMTA=","avatar_url":"https://avatars.githubusercontent.com/u/5934310?v=4","gravatar_id":"","url":"https://api.github.com/users/volosied","html_url":"https://github.com/volosied","followers_url":"https://api.github.com/users/volosied/followers","following_url":"https://api.github.com/users/volosied/following{/other_user}","gists_url":"https://api.github.com/users/volosied/gists{/gist_id}","starred_url":"https://api.github.com/users/volosied/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/volosied/subscriptions","organizations_url":"https://api.github.com/users/volosied/orgs","repos_url":"https://api.github.com/users/volosied/repos","events_url":"https://api.github.com/users/volosied/events{/privacy}","received_events_url":"https://api.github.com/users/volosied/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-17T19:58:23Z","updated_at":"2022-10-17T19:58:23Z","author_association":"CONTRIBUTOR","body":"@tandraschko  I've added a test to verify the programmatic facelet works.  TCK also passes with these change. If no other concerns, please merge this. ","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1281406050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1281927134","html_url":"https://github.com/apache/myfaces/pull/338#issuecomment-1281927134","issue_url":"https://api.github.com/repos/apache/myfaces/issues/338","id":1281927134,"node_id":"IC_kwDOB-dSOs5MaKfe","user":{"login":"tandraschko","id":2485545,"node_id":"MDQ6VXNlcjI0ODU1NDU=","avatar_url":"https://avatars.githubusercontent.com/u/2485545?v=4","gravatar_id":"","url":"https://api.github.com/users/tandraschko","html_url":"https://github.com/tandraschko","followers_url":"https://api.github.com/users/tandraschko/followers","following_url":"https://api.github.com/users/tandraschko/following{/other_user}","gists_url":"https://api.github.com/users/tandraschko/gists{/gist_id}","starred_url":"https://api.github.com/users/tandraschko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandraschko/subscriptions","organizations_url":"https://api.github.com/users/tandraschko/orgs","repos_url":"https://api.github.com/users/tandraschko/repos","events_url":"https://api.github.com/users/tandraschko/events{/privacy}","received_events_url":"https://api.github.com/users/tandraschko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T07:24:41Z","updated_at":"2022-10-18T07:24:41Z","author_association":"MEMBER","body":"yeah but you removed the \"view exists\" check, which is there by design. So we should run all integration tests to get sure, it still works. we have many viewid-mapping integration tests (not sure if they run currently because of jakarta <> arquillian?)","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1281927134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1282459917","html_url":"https://github.com/apache/myfaces/pull/325#issuecomment-1282459917","issue_url":"https://api.github.com/repos/apache/myfaces/issues/325","id":1282459917,"node_id":"IC_kwDOB-dSOs5McMkN","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T14:09:05Z","updated_at":"2022-10-18T14:09:33Z","author_association":"CONTRIBUTOR","body":"Hi I think both the codebase and the tests are now in a shape that we theoretically can merge. I spent another week on fixes and improvements to the already well working codebase.\r\n\r\nIf possible test the code with the projects you have, given that the code is going into a release candidate.\r\nI will work on smaller improvements like documentation and typo fixes until the merge.\r\n\r\nBut I do not expect any heavy bugfixes or codechanges anymore (the last big one was the nonce issue, which came in unexpectedly)\r\n\r\nThe same goes for the new improved integration tests, which have also an RC3 target\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1282459917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1282471268","html_url":"https://github.com/apache/myfaces/pull/331#issuecomment-1282471268","issue_url":"https://api.github.com/repos/apache/myfaces/issues/331","id":1282471268,"node_id":"IC_kwDOB-dSOs5McPVk","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T14:16:44Z","updated_at":"2022-10-18T14:17:14Z","author_association":"CONTRIBUTOR","body":"Integration tests are now basically ready for merge, but before the merge we have to retarget the faces.js include in the imports.xhtml file.\r\nAtm it is pointing towards at my embedded github implementation which is the downstream for myfaces.\r\nI will spend another few rounts on fixing typos and documentation and code improvement, but it is already mergable.\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1282471268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1282775721","html_url":"https://github.com/apache/myfaces/pull/338#issuecomment-1282775721","issue_url":"https://api.github.com/repos/apache/myfaces/issues/338","id":1282775721,"node_id":"IC_kwDOB-dSOs5MdZqp","user":{"login":"volosied","id":5934310,"node_id":"MDQ6VXNlcjU5MzQzMTA=","avatar_url":"https://avatars.githubusercontent.com/u/5934310?v=4","gravatar_id":"","url":"https://api.github.com/users/volosied","html_url":"https://github.com/volosied","followers_url":"https://api.github.com/users/volosied/followers","following_url":"https://api.github.com/users/volosied/following{/other_user}","gists_url":"https://api.github.com/users/volosied/gists{/gist_id}","starred_url":"https://api.github.com/users/volosied/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/volosied/subscriptions","organizations_url":"https://api.github.com/users/volosied/orgs","repos_url":"https://api.github.com/users/volosied/repos","events_url":"https://api.github.com/users/volosied/events{/privacy}","received_events_url":"https://api.github.com/users/volosied/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-18T17:41:21Z","updated_at":"2022-10-18T17:41:21Z","author_association":"CONTRIBUTOR","body":"I'm not sure how to run the arquillian tests ( are there any?) \r\n\r\nHowever, I've refactored this change to keep the \"view exists\" check.   I now check for the facelet via the CDIUtils in the isViewExistent method. \r\n\r\nLet me know what you think. ","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1282775721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1283757935","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1283757935","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1283757935,"node_id":"IC_kwDOB-dSOs5MhJdv","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T10:11:31Z","updated_at":"2022-10-19T10:25:04Z","author_association":"CONTRIBUTOR","body":"@melloware I just had to rename the branch, I had accidentally added the wrong jira issue reference.\r\nPlease reconfirm\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1283757935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1283777807","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1283777807","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1283777807,"node_id":"IC_kwDOB-dSOs5MhOUP","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T10:25:09Z","updated_at":"2022-10-19T10:25:09Z","author_association":"CONTRIBUTOR","body":"I will squash the commits at the final merge into master, the so the accidentally referenced myfaces-4456 commits will be squashed into one single big commit with a myfaces-4466 reference.\r\nRenaming atm is not possible anymore due to rebase problems.","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1283777807/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1284406926","html_url":"https://github.com/apache/myfaces/pull/314#issuecomment-1284406926","issue_url":"https://api.github.com/repos/apache/myfaces/issues/314","id":1284406926,"node_id":"IC_kwDOB-dSOs5Mjn6O","user":{"login":"melloware","id":4399574,"node_id":"MDQ6VXNlcjQzOTk1NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4399574?v=4","gravatar_id":"","url":"https://api.github.com/users/melloware","html_url":"https://github.com/melloware","followers_url":"https://api.github.com/users/melloware/followers","following_url":"https://api.github.com/users/melloware/following{/other_user}","gists_url":"https://api.github.com/users/melloware/gists{/gist_id}","starred_url":"https://api.github.com/users/melloware/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/melloware/subscriptions","organizations_url":"https://api.github.com/users/melloware/orgs","repos_url":"https://api.github.com/users/melloware/repos","events_url":"https://api.github.com/users/melloware/events{/privacy}","received_events_url":"https://api.github.com/users/melloware/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T18:23:30Z","updated_at":"2022-10-19T18:23:30Z","author_association":"CONTRIBUTOR","body":"\" JDK 11 is the minimal version to use Quarkus 2.0.\"  So for 2.3-NEXT I can't bump to 2.X branch.  Closing this PR","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1284406926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1284526273","html_url":"https://github.com/apache/myfaces/pull/338#issuecomment-1284526273","issue_url":"https://api.github.com/repos/apache/myfaces/issues/338","id":1284526273,"node_id":"IC_kwDOB-dSOs5MkFDB","user":{"login":"volosied","id":5934310,"node_id":"MDQ6VXNlcjU5MzQzMTA=","avatar_url":"https://avatars.githubusercontent.com/u/5934310?v=4","gravatar_id":"","url":"https://api.github.com/users/volosied","html_url":"https://github.com/volosied","followers_url":"https://api.github.com/users/volosied/followers","following_url":"https://api.github.com/users/volosied/following{/other_user}","gists_url":"https://api.github.com/users/volosied/gists{/gist_id}","starred_url":"https://api.github.com/users/volosied/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/volosied/subscriptions","organizations_url":"https://api.github.com/users/volosied/orgs","repos_url":"https://api.github.com/users/volosied/repos","events_url":"https://api.github.com/users/volosied/events{/privacy}","received_events_url":"https://api.github.com/users/volosied/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-19T20:18:27Z","updated_at":"2022-10-19T20:18:27Z","author_association":"CONTRIBUTOR","body":"``` [INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.25 s - in org.apache.myfaces.view.facelets.impl.ProgrammaticViewTest```\r\n\r\nAddressed Thomas' comments.  Merging code in. ","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1284526273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1285073291","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1285073291","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1285073291,"node_id":"IC_kwDOB-dSOs5MmKmL","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T07:31:40Z","updated_at":"2022-10-20T07:31:52Z","author_association":"CONTRIBUTOR","body":"I will revisit the topic regarding the mapping files again. Atm we have solved that by adding a special extension which allows if mapped to the faces servlet to load the map file for faces-development.\r\nGiven I want mapping to be optional, I will revisit this issue again, I probably will provide a special servlet filter on the impl side, which adds the mapping file data automatically in the js file depending on the faces servlet setting, if wanted.\r\n\r\nI will open a jira enhancement issue for this and will provide the code.\r\n ","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1285073291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1285746656","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1285746656","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1285746656,"node_id":"IC_kwDOB-dSOs5Mou_g","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-20T15:27:44Z","updated_at":"2022-10-20T15:28:47Z","author_association":"CONTRIBUTOR","body":"4487 is in, I had to alter the resource loader call chain slightly and have introduce one which does the mapping file referencing upon load time.\r\nPlease test properly whether this raises any issues.\r\n\r\nThe behavior is now that the mapping files are automatically referenced in development mode, but dropped in production.\r\n\r\nThis is probably my last big addition in the myfaces  4.0.0 jsf.js related codebase, unless something crawls up bugwise.\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1285746656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1291389054","html_url":"https://github.com/apache/myfaces/pull/364#issuecomment-1291389054","issue_url":"https://api.github.com/repos/apache/myfaces/issues/364","id":1291389054,"node_id":"IC_kwDOB-dSOs5M-Qh-","user":{"login":"melloware","id":4399574,"node_id":"MDQ6VXNlcjQzOTk1NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4399574?v=4","gravatar_id":"","url":"https://api.github.com/users/melloware","html_url":"https://github.com/melloware","followers_url":"https://api.github.com/users/melloware/followers","following_url":"https://api.github.com/users/melloware/following{/other_user}","gists_url":"https://api.github.com/users/melloware/gists{/gist_id}","starred_url":"https://api.github.com/users/melloware/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/melloware/subscriptions","organizations_url":"https://api.github.com/users/melloware/orgs","repos_url":"https://api.github.com/users/melloware/repos","events_url":"https://api.github.com/users/melloware/events{/privacy}","received_events_url":"https://api.github.com/users/melloware/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T01:58:37Z","updated_at":"2022-10-26T01:58:37Z","author_association":"CONTRIBUTOR","body":"Nice change. I looked at this trying to figure out how to add the depredations. Now it makes sense. ","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1291389054/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1291432955","html_url":"https://github.com/apache/myfaces/pull/364#issuecomment-1291432955","issue_url":"https://api.github.com/repos/apache/myfaces/issues/364","id":1291432955,"node_id":"IC_kwDOB-dSOs5M-bP7","user":{"login":"pnicolucci","id":29307632,"node_id":"MDQ6VXNlcjI5MzA3NjMy","avatar_url":"https://avatars.githubusercontent.com/u/29307632?v=4","gravatar_id":"","url":"https://api.github.com/users/pnicolucci","html_url":"https://github.com/pnicolucci","followers_url":"https://api.github.com/users/pnicolucci/followers","following_url":"https://api.github.com/users/pnicolucci/following{/other_user}","gists_url":"https://api.github.com/users/pnicolucci/gists{/gist_id}","starred_url":"https://api.github.com/users/pnicolucci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnicolucci/subscriptions","organizations_url":"https://api.github.com/users/pnicolucci/orgs","repos_url":"https://api.github.com/users/pnicolucci/repos","events_url":"https://api.github.com/users/pnicolucci/events{/privacy}","received_events_url":"https://api.github.com/users/pnicolucci/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-26T03:03:03Z","updated_at":"2022-10-26T03:03:03Z","author_association":"CONTRIBUTOR","body":"> Nice change. I looked at this trying to figure out how to add the depredations. Now it makes sense.\r\n\r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1291432955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1296305974","html_url":"https://github.com/apache/myfaces/pull/365#issuecomment-1296305974","issue_url":"https://api.github.com/repos/apache/myfaces/issues/365","id":1296305974,"node_id":"IC_kwDOB-dSOs5NRA82","user":{"login":"tandraschko","id":2485545,"node_id":"MDQ6VXNlcjI0ODU1NDU=","avatar_url":"https://avatars.githubusercontent.com/u/2485545?v=4","gravatar_id":"","url":"https://api.github.com/users/tandraschko","html_url":"https://github.com/tandraschko","followers_url":"https://api.github.com/users/tandraschko/followers","following_url":"https://api.github.com/users/tandraschko/following{/other_user}","gists_url":"https://api.github.com/users/tandraschko/gists{/gist_id}","starred_url":"https://api.github.com/users/tandraschko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandraschko/subscriptions","organizations_url":"https://api.github.com/users/tandraschko/orgs","repos_url":"https://api.github.com/users/tandraschko/repos","events_url":"https://api.github.com/users/tandraschko/events{/privacy}","received_events_url":"https://api.github.com/users/tandraschko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-30T17:15:24Z","updated_at":"2022-10-30T17:15:24Z","author_association":"MEMBER","body":"Something is wrong, you changed over 2000 files","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1296305974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1296312049","html_url":"https://github.com/apache/myfaces/pull/365#issuecomment-1296312049","issue_url":"https://api.github.com/repos/apache/myfaces/issues/365","id":1296312049,"node_id":"IC_kwDOB-dSOs5NRCbx","user":{"login":"volosied","id":5934310,"node_id":"MDQ6VXNlcjU5MzQzMTA=","avatar_url":"https://avatars.githubusercontent.com/u/5934310?v=4","gravatar_id":"","url":"https://api.github.com/users/volosied","html_url":"https://github.com/volosied","followers_url":"https://api.github.com/users/volosied/followers","following_url":"https://api.github.com/users/volosied/following{/other_user}","gists_url":"https://api.github.com/users/volosied/gists{/gist_id}","starred_url":"https://api.github.com/users/volosied/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/volosied/subscriptions","organizations_url":"https://api.github.com/users/volosied/orgs","repos_url":"https://api.github.com/users/volosied/repos","events_url":"https://api.github.com/users/volosied/events{/privacy}","received_events_url":"https://api.github.com/users/volosied/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-30T17:43:55Z","updated_at":"2022-10-30T17:44:50Z","author_association":"CONTRIBUTOR","body":"I agree. Check which branches you're trying to merge into. This is for main or 2.3-next? ","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1296312049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1296313317","html_url":"https://github.com/apache/myfaces/pull/365#issuecomment-1296313317","issue_url":"https://api.github.com/repos/apache/myfaces/issues/365","id":1296313317,"node_id":"IC_kwDOB-dSOs5NRCvl","user":{"login":"cristof","id":1236873,"node_id":"MDQ6VXNlcjEyMzY4NzM=","avatar_url":"https://avatars.githubusercontent.com/u/1236873?v=4","gravatar_id":"","url":"https://api.github.com/users/cristof","html_url":"https://github.com/cristof","followers_url":"https://api.github.com/users/cristof/followers","following_url":"https://api.github.com/users/cristof/following{/other_user}","gists_url":"https://api.github.com/users/cristof/gists{/gist_id}","starred_url":"https://api.github.com/users/cristof/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cristof/subscriptions","organizations_url":"https://api.github.com/users/cristof/orgs","repos_url":"https://api.github.com/users/cristof/repos","events_url":"https://api.github.com/users/cristof/events{/privacy}","received_events_url":"https://api.github.com/users/cristof/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-30T17:50:02Z","updated_at":"2022-10-30T17:50:02Z","author_association":"CONTRIBUTOR","body":"Indeed. I've used the wrong branch. I'll close this one and open another pull request pointing to the proper branches.","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1296313317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1299148181","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1299148181","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1299148181,"node_id":"IC_kwDOB-dSOs5Nb22V","user":{"login":"volosied","id":5934310,"node_id":"MDQ6VXNlcjU5MzQzMTA=","avatar_url":"https://avatars.githubusercontent.com/u/5934310?v=4","gravatar_id":"","url":"https://api.github.com/users/volosied","html_url":"https://github.com/volosied","followers_url":"https://api.github.com/users/volosied/followers","following_url":"https://api.github.com/users/volosied/following{/other_user}","gists_url":"https://api.github.com/users/volosied/gists{/gist_id}","starred_url":"https://api.github.com/users/volosied/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/volosied/subscriptions","organizations_url":"https://api.github.com/users/volosied/orgs","repos_url":"https://api.github.com/users/volosied/repos","events_url":"https://api.github.com/users/volosied/events{/privacy}","received_events_url":"https://api.github.com/users/volosied/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-01T20:59:24Z","updated_at":"2022-11-01T20:59:24Z","author_association":"CONTRIBUTOR","body":"One item I found -- this code doesn't seem to handle `jakarta.faces.Resource` in ajax responses Such as \r\n`<?xml version=\"1.0\" encoding=\"UTF-8\"?><partial-response id=\"j_id__v_0\"><changes><update id=\"jakarta.faces.Resource\"><![CDATA[<script src=\"/test-faces23-ajax-4466/jakarta.faces.resource/addedViaHead.js.xhtml?ln=spec1423\"></script>]]></update>`. \r\n\r\nFeel free to test spec1423.xhtml\r\n\r\n[test-faces23-ajax.war.zip](https://github.com/apache/myfaces/files/9913931/test-faces23-ajax.war.zip)\r\n\r\nSource code is from: https://github.com/jakartaee/faces/tree/4.0.1/tck/faces23/ajax\r\n\r\nHere's our current code for the resource check: https://github.com/apache/myfaces/blob/89c747e85615e3f33265e664c8361789f38ea7db/api/src/main/javascript/META-INF/resources/myfaces/_impl/xhrCore/_AjaxResponse.js#L531-L535 \r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1299148181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1299803155","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1299803155","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1299803155,"node_id":"IC_kwDOB-dSOs5NeWwT","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T08:27:03Z","updated_at":"2022-11-02T08:27:03Z","author_association":"CONTRIBUTOR","body":"Hi guys, I would be ready for merge, now... please complete the review and if you have objections please point them out for correction. If all goes well I can wrap everything up this week.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1299803155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1299923553","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1299923553","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1299923553,"node_id":"IC_kwDOB-dSOs5Ne0Jh","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T09:21:00Z","updated_at":"2022-11-02T09:21:00Z","author_association":"CONTRIBUTOR","body":"Ok just saw the comment, I will fix the issue.\r\nThanks for the feedback and BBohman who pointed me towards it.\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1299923553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1299924085","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1299924085","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1299924085,"node_id":"IC_kwDOB-dSOs5Ne0R1","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T09:21:21Z","updated_at":"2022-11-02T10:02:02Z","author_association":"CONTRIBUTOR","body":"> One item I found -- this code doesn't seem to handle `jakarta.faces.Resource` in ajax responses Such as `<?xml version=\"1.0\" encoding=\"UTF-8\"?><partial-response id=\"j_id__v_0\"><changes><update id=\"jakarta.faces.Resource\"><![CDATA[<script src=\"/test-faces23-ajax-4466/jakarta.faces.resource/addedViaHead.js.xhtml?ln=spec1423\"></script>]]></update>`.\r\n> \r\n> Feel free to test spec1423.xhtml\r\n> \r\n> [test-faces23-ajax.war.zip](https://github.com/apache/myfaces/files/9913931/test-faces23-ajax.war.zip)\r\n> \r\n> Source code is from: https://github.com/jakartaee/faces/tree/4.0.1/tck/faces23/ajax\r\n> \r\n> Here's our current code for the resource check:\r\n> \r\n> https://github.com/apache/myfaces/blob/89c747e85615e3f33265e664c8361789f38ea7db/api/src/main/javascript/META-INF/resources/myfaces/_impl/xhrCore/_AjaxResponse.js#L531-L535\r\n\r\nHi I will have a look, thanks for reporting it.\r\n\r\nReedit: \r\nSpec section to this:\r\nIf an update element is found in the response with the identifier jakarta.faces.Resource:\r\n\r\n&lt;update id=\"jakarta.faces.Resource\"&gt;\r\n   &lt;![CDATA[...]]&gt;\r\n&lt;/update&gt;\r\nappend any element found in the CDATA contents which is absent in the document to the document's head section.\r\n\r\nI already have added the unit tests on my github project to cover this, consider it fixed in the next few hours.\r\n\r\n> One item I found -- this code doesn't seem to handle `jakarta.faces.Resource` in ajax responses Such as `<?xml version=\"1.0\" encoding=\"UTF-8\"?><partial-response id=\"j_id__v_0\"><changes><update id=\"jakarta.faces.Resource\"><![CDATA[<script src=\"/test-faces23-ajax-4466/jakarta.faces.resource/addedViaHead.js.xhtml?ln=spec1423\"></script>]]></update>`.\r\n> \r\n> Feel free to test spec1423.xhtml\r\n> \r\n> [test-faces23-ajax.war.zip](https://github.com/apache/myfaces/files/9913931/test-faces23-ajax.war.zip)\r\n> \r\n> Source code is from: https://github.com/jakartaee/faces/tree/4.0.1/tck/faces23/ajax\r\n> \r\n> Here's our current code for the resource check:\r\n> \r\n> https://github.com/apache/myfaces/blob/89c747e85615e3f33265e664c8361789f38ea7db/api/src/main/javascript/META-INF/resources/myfaces/_impl/xhrCore/_AjaxResponse.js#L531-L535\r\n\r\nHi I will have a look, thanks for reporting it.\r\n\r\nReedit: \r\nSpec section to this:\r\nIf an update element is found in the response with the identifier jakarta.faces.Resource:\r\n\r\n&lt;update id=\"jakarta.faces.Resource\"&gt;\r\n   &lt;![CDATA[...]]&gt;\r\n&lt;/update&gt;\r\nappend any element found in the CDATA contents which is absent in the document to the document's head section.\r\n\r\nI already have added the unit tests on my github project to cover this, consider it fixed in the next few hours.\r\n\r\n@volosied I have added you as reviewer, please retest as soon as it is fixed\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1299924085/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1300527603","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1300527603","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1300527603,"node_id":"IC_kwDOB-dSOs5NhHnz","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T14:26:59Z","updated_at":"2022-11-02T14:26:59Z","author_association":"CONTRIBUTOR","body":"I have fixed the reported resource processing, issue reported in\r\nhttps://github.com/apache/myfaces/pull/356#issuecomment-1299148181\r\n\r\n and also documented under \r\nhttps://github.com/werpu/jsfs_js_ts/issues/25\r\n\r\nI have added 3 tests, and also have covered one corner case where a resource theoretically (will never happen, but it would be possible from the protocol itself) could come in as embedded script or css.\r\nEither way unit tests are in place now which test for exactly the issue reported and which cover the spec and the additional possible side behavior.\r\nImplementation works on the unit tests.\r\nPlease also test against the TCK!\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1300527603/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1300673807","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1300673807","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1300673807,"node_id":"IC_kwDOB-dSOs5NhrUP","user":{"login":"volosied","id":5934310,"node_id":"MDQ6VXNlcjU5MzQzMTA=","avatar_url":"https://avatars.githubusercontent.com/u/5934310?v=4","gravatar_id":"","url":"https://api.github.com/users/volosied","html_url":"https://github.com/volosied","followers_url":"https://api.github.com/users/volosied/followers","following_url":"https://api.github.com/users/volosied/following{/other_user}","gists_url":"https://api.github.com/users/volosied/gists{/gist_id}","starred_url":"https://api.github.com/users/volosied/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/volosied/subscriptions","organizations_url":"https://api.github.com/users/volosied/orgs","repos_url":"https://api.github.com/users/volosied/repos","events_url":"https://api.github.com/users/volosied/events{/privacy}","received_events_url":"https://api.github.com/users/volosied/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T15:25:43Z","updated_at":"2022-11-02T15:25:43Z","author_association":"CONTRIBUTOR","body":"@werpu  Thanks for working on this! \r\n\r\nI tested it out, and it's improved. However, I still see some odd behavior. \r\n- The CSS stylesheets are applied (i.e background color changes), but the JS scripts aren't executed nor do I see network requests for them?  \r\n\r\n- The other thing I noticed is that resources are applied to the HEAD more than once ( which I don't think is intended per the TCK)\r\n\r\n<img width=\"800\" alt=\"image\" src=\"https://user-images.githubusercontent.com/5934310/199529954-bb786461-47a7-46c9-bf65-5b9fa3b862d5.png\"> \r\n ","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1300673807/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1300789844","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1300789844","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1300789844,"node_id":"IC_kwDOB-dSOs5NiHpU","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T16:10:31Z","updated_at":"2022-11-02T16:36:22Z","author_association":"CONTRIBUTOR","body":"> @werpu Thanks for working on this!\r\n> \r\n> I tested it out, and it's improved. However, I still see some odd behavior.\r\n> \r\n> * The CSS stylesheets are applied (i.e background color changes), but the JS scripts aren't executed nor do I see network requests for them?\r\n> * The other thing I noticed is that resources are applied to the HEAD more than once ( which I don't think is intended per the TCK)\r\n> \r\n> <img alt=\"image\" width=\"800\" src=\"https://user-images.githubusercontent.com/5934310/199529954-bb786461-47a7-46c9-bf65-5b9fa3b862d5.png\">\r\n\r\n\r\n\r\n> I tested it out, and it's improved. However, I still see some odd behavior.\r\n> \r\n> * The CSS stylesheets are applied (i.e background color changes), but the JS scripts aren't executed nor do I see network requests for them?\r\n> * The other thing I noticed is that resources are applied to the HEAD more than once ( which I don't think is intended per the TCK)\r\n\r\nOk I will do another round of testing... no resources should not be applied more than once...\r\nI have to check that and scripts should be executed. I will add additional tests and check where the problem is, thanks for testing. I will use your example now for testing (I thought the fix was easy enough to cover it with my unit tests only.\r\nWell sloppyness bites back instantly.\r\n\r\n\r\nreedit:\r\nalready found the issue for the not loading of resources, my fault. I did not trigger the explicit xhr loading code, browsers do not load automatically new code after the initial page load via the head appendix eval method. I did not write a testcase testing explicitely the loading because I assumed it would happen automativally.\r\n\r\nAs for the double includes, I have to check your example, wich I will do tomorrow.\r\nAtm i just append the resources as they come in, the spec just states whatever is in the cdata needs to be appended. \r\nSo now if a resource is coming in twice, atm it is appended twice.\r\nIf it is only coming in once then i have a problem in my code.\r\nOtherwise I have to check our old code how we handled that case.\r\nWe probably simply can ignore resources already present in the page.\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1300789844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1301010056","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1301010056","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1301010056,"node_id":"IC_kwDOB-dSOs5Ni9aI","user":{"login":"volosied","id":5934310,"node_id":"MDQ6VXNlcjU5MzQzMTA=","avatar_url":"https://avatars.githubusercontent.com/u/5934310?v=4","gravatar_id":"","url":"https://api.github.com/users/volosied","html_url":"https://github.com/volosied","followers_url":"https://api.github.com/users/volosied/followers","following_url":"https://api.github.com/users/volosied/following{/other_user}","gists_url":"https://api.github.com/users/volosied/gists{/gist_id}","starred_url":"https://api.github.com/users/volosied/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/volosied/subscriptions","organizations_url":"https://api.github.com/users/volosied/orgs","repos_url":"https://api.github.com/users/volosied/repos","events_url":"https://api.github.com/users/volosied/events{/privacy}","received_events_url":"https://api.github.com/users/volosied/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T17:48:46Z","updated_at":"2022-11-02T17:48:46Z","author_association":"CONTRIBUTOR","body":"\r\nFor the duplicates, I click the button twice which then add the script / link elements each time.   I saw Mojarra had map to avoid this problem. Could we do the same? ","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1301010056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1301040923","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1301040923","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1301040923,"node_id":"IC_kwDOB-dSOs5NjE8b","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-02T18:18:11Z","updated_at":"2022-11-02T18:44:47Z","author_association":"CONTRIBUTOR","body":"> For the duplicates, I click the button twice which then add the script / link elements each time. I saw Mojarra had map to avoid this problem. Could we do the same?\r\n\r\nYes definitely, another solution simply would be to check for elements with the same tags and src or hrefs. Given we use querySelectorall, the speed impact for doing this is neglectable.\r\n\r\nI will add a fix and improved unit tests for this issue tomorrow, and I will also test the final code against your testcase, to make it watertight.\r\n\r\nNot sure if a filter map really is the best way there because it ignores that a resource already might be on the dom once the first ajax call delivers a resource request, so you end up having a dom lookup to fix this. Then in a replace head or viewroot situation you have to clear the map anyway. So in the end you add additional bookkeeping and only gain a minor speed improvement in an area where speed is not critical anyway (how long des a querySelectorAll on the head take, probably not even measurable in nanoseconds).\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1301040923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1302330608","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1302330608","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1302330608,"node_id":"IC_kwDOB-dSOs5Nn_zw","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-03T16:01:34Z","updated_at":"2022-11-03T16:03:51Z","author_association":"CONTRIBUTOR","body":"Short update... Still working on the issue. While fixing this one I noticed that script src elements in Ajax calls were loaded asynchronously thus causing race conditions for mixed script src and embedded script tags. Apparently a bug which we also have in the old implementation, but never reported. So I had to fix this area as well. The solution was to change the way we eval script src=\"xxx\" tags, i moved those also to the head appendix method which we already use for embedded scripts instead of running an xhr fetch request.\r\n\r\nI have the fix now running and all my eval tests pass, but I broke one of my nonce tests along the way with the new code (the final integration test fails which tests for one of the nonce corner conditions)\r\n\r\nSo I will fix this one as well, and after that run the code against the linked war. But for now it is getting late, and I am calling it a day.\r\nSorry for the delay. The merge probably can happen early next week.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1302330608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1303521479","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1303521479","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1303521479,"node_id":"IC_kwDOB-dSOs5NsijH","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-04T13:10:27Z","updated_at":"2022-11-04T13:10:27Z","author_association":"CONTRIBUTOR","body":"Status update: Sorry it took longer, but given I discovered a race condition with a mix of script and script src= tag elements I had to overhaul the algorithm how we load script src= elements. We probably have the same issue in the old code.\r\nThe code now works on my side, I also added unit tests for the reported cases of double include and src files not being loaded (some test code is now externalized into test fixtures which was before inline)\r\n\r\nThe last test pending is the one against the attached war, I will do that now before giving the general ok. But if you want to start testing feel free not to wait for me.\r\nIf all goes well I then I will start the merge on monday.\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1303521479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1303608273","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1303608273","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1303608273,"node_id":"IC_kwDOB-dSOs5Ns3vR","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-04T14:05:47Z","updated_at":"2022-11-04T14:06:29Z","author_association":"CONTRIBUTOR","body":"Ok, thumbs up.\r\nThe tests posted here now work for me as well.\r\nI noticed however that the tests themselves have a test which is not implementable. \r\n\r\nAdd resource to body the spec does not allow that ATM (javax.faces.Resource must be attached to the head)\r\n\r\nresults in:\r\n\r\na standard resource definition on the response protocol. atm. the resource response has no target attribute, so it is automatically attached to the head (not sure what the point of this test is)\r\n\r\nEither way the tests now pass, please continue testing. I will monitor the pr,\r\nand if nothing else crawls up, will merge on monday.","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1303608273/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1305207331","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1305207331","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1305207331,"node_id":"IC_kwDOB-dSOs5Ny-Ij","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-07T07:49:19Z","updated_at":"2022-11-07T07:49:19Z","author_association":"CONTRIBUTOR","body":"Ok... I also got a positive report in from Tobago... so @volosied if you can give the ok from your side, I would be ready to merge.\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1305207331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1305224968","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1305224968","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1305224968,"node_id":"IC_kwDOB-dSOs5NzCcI","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-07T08:06:52Z","updated_at":"2022-11-07T08:06:52Z","author_association":"CONTRIBUTOR","body":"Btw. theoretically we also could replace the codebase or add the next gen codebase to 2.3 (as second loading option) the codebase can work in both namespaces, via frontend shims)\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1305224968/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1306143241","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1306143241","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1306143241,"node_id":"IC_kwDOB-dSOs5N2ioJ","user":{"login":"volosied","id":5934310,"node_id":"MDQ6VXNlcjU5MzQzMTA=","avatar_url":"https://avatars.githubusercontent.com/u/5934310?v=4","gravatar_id":"","url":"https://api.github.com/users/volosied","html_url":"https://github.com/volosied","followers_url":"https://api.github.com/users/volosied/followers","following_url":"https://api.github.com/users/volosied/following{/other_user}","gists_url":"https://api.github.com/users/volosied/gists{/gist_id}","starred_url":"https://api.github.com/users/volosied/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/volosied/subscriptions","organizations_url":"https://api.github.com/users/volosied/orgs","repos_url":"https://api.github.com/users/volosied/repos","events_url":"https://api.github.com/users/volosied/events{/privacy}","received_events_url":"https://api.github.com/users/volosied/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-07T20:22:46Z","updated_at":"2022-11-07T20:22:46Z","author_association":"CONTRIBUTOR","body":"@werpu \r\n\r\nWanted to give you a quick update.  Most tests are passing, but I see a few issues \r\n\r\n1)  f:param doesn't to be properly sent.  For example: \r\n\r\n```\r\n            <h:commandButton id=\"submitButton\" value=\"Click here\" action=\"#{elImplicitObjectBean.execute}\">\r\n                <f:param name=\"message\" value=\"Hello World\"/>\r\n            </h:commandButton>\r\n```\r\nThe code above sends the following in the form data: `0\t\"message,Hello+World\"`.  \r\n```\r\n0\t\"message,Hello+World\"\r\nform1_SUBMIT\t\"1\"\r\njakarta.faces.ViewState\t\"N2RjNThlYTRlZjExNjJiODAwMDAwMDAz\"\r\njakarta.faces.ClientWindow\t\"10tijvumt\"\r\nform1:_idcl\t\"form1:submitButton\"\r\n```\r\nHowever, previously (working case), `message\t\"Hello+World\"` was sent. \r\n```\r\nform1_SUBMIT\t\"1\"\r\njakarta.faces.ViewState\t\"ZjAyNTllMDgwODcxZTFlOTAwMDAwMDA0\"\r\njakarta.faces.ClientWindow\t\"-uveyxftzi\"\r\nmessage\t\"Hello+World\"\r\nform1:_idcl\t\"form1:submitButton\"\r\n```\r\n\r\nThis causes our app to fail since ExternalContext's getRequestParameterMap() cannot find \"message\". \r\n\r\n2)  Clicking \"Click Here\" on `ELImplicitObjectsViaCDI/index.xhtml` open up a new tab, but this shouldn't happen. See apps and source. \r\n\r\n\r\n3)  Our Websocket Listener's onOpen call is called during the page loading, but it should only occur on the button click.\r\n\r\n<img width=\"490\" alt=\"image\" src=\"https://user-images.githubusercontent.com/5934310/200405665-cb383264-3a5c-44c8-9eae-47bee0c85f15.png\">\r\n\r\nURL is: `WebSocket/faces40/OpenCloseWebSocketTest.jsf` \r\n\r\n4)  Related to the websocket issue above, pressing the onClose button (to close websocket channel) encounter this exception: \r\n```\r\nUncaught TypeError: e.components[s].onclose is not a function\r\n    onclose http://localhost:9080/WebSocket/jakarta.faces.resource/faces.js.jsf?ln=jakarta.faces:2\r\n    onclose http://localhost:9080/WebSocket/jakarta.faces.resource/faces.js.jsf?ln=jakarta.faces:2\r\n    bindCallbacks http://localhost:9080/WebSocket/jakarta.faces.resource/faces.js.jsf?ln=jakarta.faces:2\r\n    open http://localhost:9080/WebSocket/jakarta.faces.resource/faces.js.jsf?ln=jakarta.faces:2\r\n    open http://localhost:9080/WebSocket/jakarta.faces.resource/faces.js.jsf?ln=jakarta.faces:2\r\n    open http://localhost:9080/WebSocket/jakarta.faces.resource/faces.js.jsf?ln=jakarta.faces:2\r\n    init http://localhost:9080/WebSocket/jakarta.faces.resource/faces.js.jsf?ln=jakarta.faces:2\r\n    init http://localhost:9080/WebSocket/jakarta.faces.resource/faces.js.jsf?ln=jakarta.faces:2\r\n    <anonymous> http://localhost:9080/WebSocket/faces40/OpenCloseWebSocketTest.jsf:20\r\n```\r\n\r\n5)  Our html unit library is encoutnering a script exception? I don't don't see this in the browser, so I think it's just our library.  We'll try to see if it goes away with a version update.  I validated the JavaScript syntax myself (compressed and uncompressed files) and I didn't find anything. However, could you also double check?   Exception isn't clear where this \"error\" is. \r\n\r\n```\r\ncom.gargoylesoftware.htmlunit.ScriptException: syntax error (http://localhost:8010/CDIManagedProperty/jakarta.faces.resource/faces.js.jsf?ln=jakarta.faces#2)\r\n```\r\n\r\n\r\nSource code can be found: \r\nhttps://github.com/OpenLiberty/open-liberty/tree/integration/dev/com.ibm.ws.jsf.2.3_fat/test-applications/ELImplicitObjectsViaCDI.war\r\n\r\nhttps://github.com/OpenLiberty/open-liberty/tree/integration/dev/com.ibm.ws.jsf.2.3_fat/test-applications/WebSocket.war\r\n\r\nBut I've also attached the apps. \r\n[Apps.zip](https://github.com/apache/myfaces/files/9955133/Apps.zip)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1306143241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1306168003","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1306168003","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1306168003,"node_id":"IC_kwDOB-dSOs5N2orD","user":{"login":"volosied","id":5934310,"node_id":"MDQ6VXNlcjU5MzQzMTA=","avatar_url":"https://avatars.githubusercontent.com/u/5934310?v=4","gravatar_id":"","url":"https://api.github.com/users/volosied","html_url":"https://github.com/volosied","followers_url":"https://api.github.com/users/volosied/followers","following_url":"https://api.github.com/users/volosied/following{/other_user}","gists_url":"https://api.github.com/users/volosied/gists{/gist_id}","starred_url":"https://api.github.com/users/volosied/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/volosied/subscriptions","organizations_url":"https://api.github.com/users/volosied/orgs","repos_url":"https://api.github.com/users/volosied/repos","events_url":"https://api.github.com/users/volosied/events{/privacy}","received_events_url":"https://api.github.com/users/volosied/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-07T20:46:20Z","updated_at":"2022-11-07T20:46:20Z","author_association":"CONTRIBUTOR","body":"Another thing I just noticed: The ajax file submissions (single / multiple) doesn't seem to work.  \r\n\r\nhttps://github.com/jakartaee/faces/tree/master/tck/faces40/inputFile  ","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1306168003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1306315248","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1306315248","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1306315248,"node_id":"IC_kwDOB-dSOs5N3Mnw","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-07T22:29:16Z","updated_at":"2022-11-07T22:32:57Z","author_association":"CONTRIBUTOR","body":"Thanks for the reports, I will tackle every single one of those issues tomorrow.\r\nthe f:param is clearly still an issue in the new form encoding code as for the rest I will have a deeper look. I have fixed an issue in this area a while ago, but as it seems, I might have missed a corner case there.\r\n\r\nFile submissions used to work, but I need to recheck them, i have moved them to the appropriate form javascript elements now from the old multi part mechanism, this might be a backend issue, but nevertheless I will check this as well.\r\n\r\nMost if not all should be fixed tomorrow or the day after tomorrow.\r\n\r\nThanks for reporting the test results.\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1306315248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1306750505","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1306750505","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1306750505,"node_id":"IC_kwDOB-dSOs5N424p","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T07:29:04Z","updated_at":"2022-11-08T13:43:31Z","author_association":"CONTRIBUTOR","body":"I have created an issue on my github side:\r\nhttps://github.com/werpu/jsfs_js_ts/issues/26\r\n\r\nI will fix the bugs there first and will keep an update on the status. Once everything is fixed, it is merged back into the pull request.\r\nSo if you want to keep track of things, you can follow there.\r\n\r\nShort update: Could not reproduce the parameter issue (see linked issues comments, this could reference to an outdated faces.js codebase, I am in contact regarding this with @volosied )\r\nI found the issue regarding the file uploads, and fixed it in my github codebase.\r\nTackling now the push issue, which is weird, because thats the code I basically have not touched at all except for putting it into the new namespace. Might be a porting regression.\r\n\r\nupdate:\r\nRegarding the push issue, there seems to have been a silent api change (or I have missed it in the spec change overview), apparently the Push Init\r\nhas a breaking change in 4.0, you now must pass an onerror handler after onmessage\r\nin the init call.\r\nThis change was done in 4.0 because 3.0 does not have it yet. This explains the auto connect issue we have had, because instead of the boolean flag autoConnect the parameter before that was passed as value and hence interpreted always as true.\r\nI have fixed this locally but cannot test it because I cannot open a socket connection in our impl.\r\nGetting a Socked refused despite having everything by the book (Sockets enabled in the web.xml, Server can run sockets, having the beans declared as Named and ApplicationScoped\r\n\r\n```java\r\n@ApplicationScoped\r\n@Named\r\npublic class WebsocketEndpoint implements Serializable {\r\n    @Inject\r\n    @Push(channel = \"hello\")\r\n    PushContext hello;\r\n\r\n\r\n    public String doSimplePush() {\r\n        hello.send(\"Hello from Websocket endpoint\");\r\n        return null;\r\n    }\r\n\r\n}\r\n```\r\n\r\nproduces following Error:\r\n```\r\nWebSocket connection to 'ws://localhost:8080/IntegrationJSTest/jakarta.faces.push/hello?07c148497ef95e29205f8ba55bd3044d' failed: \r\n```\r\n\r\nI now have moved my integration test code from Weld, to Openwebbeans,\r\nsame result. Not getting any connection despite Tomcat allowing websocket connections.\r\nThe problem definitely is on our impl. I will isolate the problem and then send in a bug with a war showing the issue.\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1306750505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1307321421","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1307321421","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1307321421,"node_id":"IC_kwDOB-dSOs5N7CRN","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-08T14:37:10Z","updated_at":"2022-11-08T14:41:44Z","author_association":"CONTRIBUTOR","body":"I for now have fixed the file upload issue and the push.init issue (silent api change), the f:param issue was not reproducible.\r\nI cannot test the push code atm because of a myfaces issue I face. I will isolate the problem in a self starting jar tomorrow and file a bugreport. The fixes are all comitted.\r\n\r\nThe script library issue very likely just is a test engine issue, I will investigate this tomorrow. Very likely we touch parts of the dom the library does not support, or the EcmaScript level is too high. (Atm es2015 is the compile target) We can compile to a lower level if needed, it just was not necessary because the browsers we support all are on es1015 level.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1307321421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1308394228","html_url":"https://github.com/apache/myfaces/pull/377#issuecomment-1308394228","issue_url":"https://api.github.com/repos/apache/myfaces/issues/377","id":1308394228,"node_id":"IC_kwDOB-dSOs5N_IL0","user":{"login":"tandraschko","id":2485545,"node_id":"MDQ6VXNlcjI0ODU1NDU=","avatar_url":"https://avatars.githubusercontent.com/u/2485545?v=4","gravatar_id":"","url":"https://api.github.com/users/tandraschko","html_url":"https://github.com/tandraschko","followers_url":"https://api.github.com/users/tandraschko/followers","following_url":"https://api.github.com/users/tandraschko/following{/other_user}","gists_url":"https://api.github.com/users/tandraschko/gists{/gist_id}","starred_url":"https://api.github.com/users/tandraschko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandraschko/subscriptions","organizations_url":"https://api.github.com/users/tandraschko/orgs","repos_url":"https://api.github.com/users/tandraschko/repos","events_url":"https://api.github.com/users/tandraschko/events{/privacy}","received_events_url":"https://api.github.com/users/tandraschko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-09T08:34:53Z","updated_at":"2022-11-09T08:34:53Z","author_association":"MEMBER","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1308394228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1308394538","html_url":"https://github.com/apache/myfaces/pull/372#issuecomment-1308394538","issue_url":"https://api.github.com/repos/apache/myfaces/issues/372","id":1308394538,"node_id":"IC_kwDOB-dSOs5N_IQq","user":{"login":"tandraschko","id":2485545,"node_id":"MDQ6VXNlcjI0ODU1NDU=","avatar_url":"https://avatars.githubusercontent.com/u/2485545?v=4","gravatar_id":"","url":"https://api.github.com/users/tandraschko","html_url":"https://github.com/tandraschko","followers_url":"https://api.github.com/users/tandraschko/followers","following_url":"https://api.github.com/users/tandraschko/following{/other_user}","gists_url":"https://api.github.com/users/tandraschko/gists{/gist_id}","starred_url":"https://api.github.com/users/tandraschko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandraschko/subscriptions","organizations_url":"https://api.github.com/users/tandraschko/orgs","repos_url":"https://api.github.com/users/tandraschko/repos","events_url":"https://api.github.com/users/tandraschko/events{/privacy}","received_events_url":"https://api.github.com/users/tandraschko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-09T08:35:12Z","updated_at":"2022-11-09T08:35:12Z","author_association":"MEMBER","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1308394538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1308395377","html_url":"https://github.com/apache/myfaces/pull/371#issuecomment-1308395377","issue_url":"https://api.github.com/repos/apache/myfaces/issues/371","id":1308395377,"node_id":"IC_kwDOB-dSOs5N_Idx","user":{"login":"tandraschko","id":2485545,"node_id":"MDQ6VXNlcjI0ODU1NDU=","avatar_url":"https://avatars.githubusercontent.com/u/2485545?v=4","gravatar_id":"","url":"https://api.github.com/users/tandraschko","html_url":"https://github.com/tandraschko","followers_url":"https://api.github.com/users/tandraschko/followers","following_url":"https://api.github.com/users/tandraschko/following{/other_user}","gists_url":"https://api.github.com/users/tandraschko/gists{/gist_id}","starred_url":"https://api.github.com/users/tandraschko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandraschko/subscriptions","organizations_url":"https://api.github.com/users/tandraschko/orgs","repos_url":"https://api.github.com/users/tandraschko/repos","events_url":"https://api.github.com/users/tandraschko/events{/privacy}","received_events_url":"https://api.github.com/users/tandraschko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-09T08:35:53Z","updated_at":"2022-11-09T08:35:53Z","author_association":"MEMBER","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1308395377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1308521951","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1308521951","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1308521951,"node_id":"IC_kwDOB-dSOs5N_nXf","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-09T10:14:23Z","updated_at":"2022-11-09T10:14:23Z","author_association":"CONTRIBUTOR","body":"Hi I have isolated the problem and filed a bugreport: \r\nhttps://issues.apache.org/jira/browse/MYFACES-4496\r\n\r\nIf anyone wants to look into this, self running example for demonstrating it is linked to a github project I just opened!\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1308521951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1308697053","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1308697053","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1308697053,"node_id":"IC_kwDOB-dSOs5OASHd","user":{"login":"melloware","id":4399574,"node_id":"MDQ6VXNlcjQzOTk1NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4399574?v=4","gravatar_id":"","url":"https://api.github.com/users/melloware","html_url":"https://github.com/melloware","followers_url":"https://api.github.com/users/melloware/followers","following_url":"https://api.github.com/users/melloware/following{/other_user}","gists_url":"https://api.github.com/users/melloware/gists{/gist_id}","starred_url":"https://api.github.com/users/melloware/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/melloware/subscriptions","organizations_url":"https://api.github.com/users/melloware/orgs","repos_url":"https://api.github.com/users/melloware/repos","events_url":"https://api.github.com/users/melloware/events{/privacy}","received_events_url":"https://api.github.com/users/melloware/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-09T12:44:57Z","updated_at":"2022-11-09T12:44:57Z","author_association":"CONTRIBUTOR","body":"cc @milansie as WebSockets was just refactored with this PR: https://github.com/apache/myfaces/pull/327","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1308697053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1308715686","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1308715686","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1308715686,"node_id":"IC_kwDOB-dSOs5OAWqm","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-09T13:00:55Z","updated_at":"2022-11-09T13:00:55Z","author_association":"CONTRIBUTOR","body":"Cool thanks waiting for the merge then, after that I will check the issue again, and if fixed can close it.\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1308715686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1308798406","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1308798406","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1308798406,"node_id":"IC_kwDOB-dSOs5OAq3G","user":{"login":"milansie","id":43399120,"node_id":"MDQ6VXNlcjQzMzk5MTIw","avatar_url":"https://avatars.githubusercontent.com/u/43399120?v=4","gravatar_id":"","url":"https://api.github.com/users/milansie","html_url":"https://github.com/milansie","followers_url":"https://api.github.com/users/milansie/followers","following_url":"https://api.github.com/users/milansie/following{/other_user}","gists_url":"https://api.github.com/users/milansie/gists{/gist_id}","starred_url":"https://api.github.com/users/milansie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milansie/subscriptions","organizations_url":"https://api.github.com/users/milansie/orgs","repos_url":"https://api.github.com/users/milansie/repos","events_url":"https://api.github.com/users/milansie/events{/privacy}","received_events_url":"https://api.github.com/users/milansie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-09T13:52:30Z","updated_at":"2022-11-09T13:52:30Z","author_association":"CONTRIBUTOR","body":"hi, onerror was added here https://issues.apache.org/jira/browse/MYFACES-4415\r\n\r\n@werpu you do not have  `**jakarta**.faces.ENABLE_WEBSOCKET_ENDPOINT` enabled in your app. If you enable it, your demo will work..","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1308798406/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1308981736","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1308981736","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1308981736,"node_id":"IC_kwDOB-dSOs5OBXno","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-09T16:01:30Z","updated_at":"2022-11-10T06:55:17Z","author_association":"CONTRIBUTOR","body":"> hi, onerror was added here https://issues.apache.org/jira/browse/MYFACES-4415\r\n> \r\n> @werpu you do not have `**jakarta**.faces.ENABLE_WEBSOCKET_ENDPOINT` enabled in your app. If you enable it, your demo will work..\r\n\r\nUuups yes, indeed, I was using the javax.namespace for the websocket web.xml init params, the error now is gone if I move over to the faces one. (stupid me)\r\nThanks for pointing it out.\r\nI have closed the issue now as invalid.\r\n\r\nMy push test now passes... so for me push is fixed. The error reported indeed was a small api change from faces 3.0 to faces4.0 in jsf.push.init\r\n\r\n@volosied, can you retry your tests with the current codebase? Everything is in myfaces under this pull request.\r\nI will have another look at your parameter problem, but my personal guess is given I now have this covered by an integration test and could not reproduce it that this was a problem that an old codebase was overriding my implementation or you had an old codebase:\r\n\r\n```html\r\n  <ui:define name=\"content\">\r\n\r\n        <components:jasmineTest testRunner=\"test25-f-param.js\"/>\r\n\r\n        <h:form id=\"form1\" prependId=\"false\">\r\n            <!-- needed for the test trigger -->\r\n            <h:commandLink id=\"submitButton\" value=\"Click here\" action=\"#{myBean2.execute}\">\r\n                <f:ajax execute=\"@this\" render=\"output\" />\r\n                <f:param name=\"hello2\" value=\"Hello from f:param\"/>\r\n                <f:param name=\"Hello World\" value=\"Hello from f:param2\"/>\r\n            </h:commandLink>\r\n\r\n            <h:panelGroup id=\"results\">\r\n                <h:outputText id=\"output\" value=\"#{myBean2.helloWorld}\"></h:outputText>\r\n            </h:panelGroup>\r\n        </h:form>\r\n    </ui:define>\r\n```\r\n```java\r\n public String execute() {\r\n        Map<String,String> params =\r\n                FacesContext.getCurrentInstance().getExternalContext().getRequestParameterMap();\r\n        this.helloWorld = params.get(\"hello2\");\r\n        return null;\r\n    }\r\n```\r\n<img width=\"716\" alt=\"image\" src=\"https://user-images.githubusercontent.com/530547/200882815-9804d653-7e40-4e34-a24c-4101b7993052.png\">\r\n<img width=\"716\" alt=\"image\" src=\"https://user-images.githubusercontent.com/530547/200882931-a60c819c-15f1-417b-9f96-84461e61ab22.png\">\r\n\r\nI will check the html unit problem you face tomorrow, but I guess it is simply a deficit in the driver used by HTMLUnit.\r\nAs you said the browsers do not expose the problem. I am running my teste here with puppeteer and jasmine aka... the tests run in a semi recent embedded chromium engine. Given we have our cut off with Chromium/Safari/Firefox and maybe (Trident) The used HTMLUnit driver might not cover our baseline entirely. The fix might simply be to move HTMLUnit to chrome or whatever semi recent engine is supported but not to run it on a custom driver interpreting a browser.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1308981736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1310011363","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1310011363","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1310011363,"node_id":"IC_kwDOB-dSOs5OFS_j","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-10T09:36:13Z","updated_at":"2022-11-10T20:52:23Z","author_association":"CONTRIBUTOR","body":"Found the issue, apparently html unit bundles Mozilla Rhino and the bundled version or any version (still not fully done with my research on that yet) does not support Ecmascript 2015 syntax. After compiling the files down to es5 I get a more meaningful error in my internal testing framework that the keyword class (explicit classes were introduced in es2015) is not allowed.\r\nI checked on Mozillas site and found this:\r\nhttps://mozilla.github.io/rhino/compat/engines.html\r\n\r\nThere are two possible fixes to move forward\r\na) We can return to an ES5 compile target, which is rather pointless given the apis we use, and might run into compatibility issues with html unit anyway (we use FormData elements XhrObject, querySelectorAll etc... which are APIs which might not exist on ES5 level browser implementations)\r\nBut nevertheless it is worth a shot, but my hopes are somewhat limited. In my opinion HTML Unit is outdated, unless they fix their Rhino problem. There are alternatives.\r\n\r\nb) You guys can have a look to get the unit tests out of this ES5 level maybe move the tests to Selenium where you can use different drivers or move to a client side testing framework. I know this is a little but much to ask. But as it seems HTMLUnit for now as testrunner seems to be a dead end as long as it uses Rhino and/or Rhino does not move forward.\r\n\r\n\r\nA viable option for a testing with a more recent engine would be to use Selenium Webdrivers with headless chrome\r\n(you need to have a chrome instance preinstalled in the testing environment though)\r\n\r\nhttps://gist.github.com/werpu/5f212b8c6ee8864cbfdceec8bbff226b\r\n\r\nGives you the idea how to pull this off.\r\n\r\nAnd the configuration for it would be:\r\nhttps://gist.github.com/werpu/94f4a74007ac6efae9561e111e216b42\r\n\r\nSo you get the idea... \r\n\r\nBasically the same as html unit but with chrome as engine (headless) or firefox etc... in non headless mode.\r\n\r\nThis then can be combined by the usual means into tests. Just to sum it up outside of having a browser engine in pure java and maybe having the need to check for explicity es5 compatibility for legacy reasons, there is no advantage in using HTMLUnit, you still can use it as a webdriver in such a setup, but then you will get all downsides the same way we did by calling it directly.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1310011363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1310293842","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1310293842","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1310293842,"node_id":"IC_kwDOB-dSOs5OGX9S","user":{"login":"melloware","id":4399574,"node_id":"MDQ6VXNlcjQzOTk1NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4399574?v=4","gravatar_id":"","url":"https://api.github.com/users/melloware","html_url":"https://github.com/melloware","followers_url":"https://api.github.com/users/melloware/followers","following_url":"https://api.github.com/users/melloware/following{/other_user}","gists_url":"https://api.github.com/users/melloware/gists{/gist_id}","starred_url":"https://api.github.com/users/melloware/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/melloware/subscriptions","organizations_url":"https://api.github.com/users/melloware/orgs","repos_url":"https://api.github.com/users/melloware/repos","events_url":"https://api.github.com/users/melloware/events{/privacy}","received_events_url":"https://api.github.com/users/melloware/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-10T13:37:44Z","updated_at":"2022-11-10T13:37:44Z","author_association":"CONTRIBUTOR","body":"My two cents not sure if it helps or not but...\r\n\r\n1. I don't want to go back to ES5 compatibility just to make the HTMLUnit tests work.\r\n2. Upgrading from HtmlUnit to Selenium would be a MUCH bigger change.","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1310293842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1310300622","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1310300622","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1310300622,"node_id":"IC_kwDOB-dSOs5OGZnO","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-10T13:43:08Z","updated_at":"2022-11-10T14:21:29Z","author_association":"CONTRIBUTOR","body":"As I said, sticking with html unit and downcompiling it for es5 might work or not, but my gut feeling is we will run into other issues of outdated and not implemented apis on the dom side of htmlunit.\r\nWe can give it a shot (turning the build down from es2015 is just a compile flag thanks to typescript)\r\nbut I also agree stepping down to es5 just because we rely on an outdated testing framework is basically the wrong way to fix it. But I also would not block such a decision, I just do not have too many hopes that it fixes all problems.\r\nIn the end this is a community decision like so many other things.\r\n\r\nJust to give some metrics... stepping down to ES5 is basically one compiler flag in a tsconfig.json\r\nbut..\r\n20% more code produced roughtly\r\nIn the end both versions work the same way, use the same dom apis, they are just slightly different how they address certain constructs\r\nclass for instance is translated straight to class in es2015\r\nand \r\nin es5 it is a prototype construct (which is similar but on a lower level and more verbose)\r\n\r\nBoth compilation results will absolutely work on modern browsers, but the apis we touch wont work below a certain browser threshold anyway so it is pointless to go for es5 (the reason why I switched up in the first place)\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1310300622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1310351363","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1310351363","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1310351363,"node_id":"IC_kwDOB-dSOs5OGmAD","user":{"login":"melloware","id":4399574,"node_id":"MDQ6VXNlcjQzOTk1NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4399574?v=4","gravatar_id":"","url":"https://api.github.com/users/melloware","html_url":"https://github.com/melloware","followers_url":"https://api.github.com/users/melloware/followers","following_url":"https://api.github.com/users/melloware/following{/other_user}","gists_url":"https://api.github.com/users/melloware/gists{/gist_id}","starred_url":"https://api.github.com/users/melloware/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/melloware/subscriptions","organizations_url":"https://api.github.com/users/melloware/orgs","repos_url":"https://api.github.com/users/melloware/repos","events_url":"https://api.github.com/users/melloware/events{/privacy}","received_events_url":"https://api.github.com/users/melloware/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-10T14:19:53Z","updated_at":"2022-11-10T14:19:53Z","author_association":"CONTRIBUTOR","body":"Thanks for the metrics!","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1310351363/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1310397275","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1310397275","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1310397275,"node_id":"IC_kwDOB-dSOs5OGxNb","user":{"login":"pnicolucci","id":29307632,"node_id":"MDQ6VXNlcjI5MzA3NjMy","avatar_url":"https://avatars.githubusercontent.com/u/29307632?v=4","gravatar_id":"","url":"https://api.github.com/users/pnicolucci","html_url":"https://github.com/pnicolucci","followers_url":"https://api.github.com/users/pnicolucci/followers","following_url":"https://api.github.com/users/pnicolucci/following{/other_user}","gists_url":"https://api.github.com/users/pnicolucci/gists{/gist_id}","starred_url":"https://api.github.com/users/pnicolucci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnicolucci/subscriptions","organizations_url":"https://api.github.com/users/pnicolucci/orgs","repos_url":"https://api.github.com/users/pnicolucci/repos","events_url":"https://api.github.com/users/pnicolucci/events{/privacy}","received_events_url":"https://api.github.com/users/pnicolucci/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-10T14:43:17Z","updated_at":"2022-11-10T14:43:17Z","author_association":"CONTRIBUTOR","body":"The Faces TCK also uses HTMLUnit as a test client. There does exist https://htmlunit.sourceforge.io/apidocs/com/gargoylesoftware/htmlunit/WebClientOptions.html#setThrowExceptionOnScriptError-boolean- which if that allows any of the tck tests failing due to a javascript error (according to HTMLUnit) then it would be possible to challenge those tests from a test client problem perspective. @volosied  was going to test and see how many tck tests are hitting this and if that would solve the errors.","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1310397275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1310479713","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1310479713","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1310479713,"node_id":"IC_kwDOB-dSOs5OHFVh","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-10T15:38:19Z","updated_at":"2022-11-10T15:46:03Z","author_association":"CONTRIBUTOR","body":"Guess I have opened a pandoras box here.\r\n\r\nNot sure if we can proceed with our revamped codebase if the TCKs fail on a simple faces.js load because they use an engine which requires es5 (es5 definitely is not a base level per spec in fact which base level for Ecmascript and DOM have to be supported is not specified at all)... they definitely will pass if we compile against ES5 as long as they just check for the interfaces to be there. If they run rountrip testing then they might fail as well.\r\n\r\nAs for me, I will compile tomorrow against ES5 locally and then run 1-2 base tests against HTMLUnit to see whether the base functionality works that way. If a simple Roundtrip passes, then we can expect that the TCKs work as well but nevertheless they will have to move forward as well regarding the testing frameworks, but without any pressure, they can push for that for faces 5 or so.\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1310479713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1310515902","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1310515902","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1310515902,"node_id":"IC_kwDOB-dSOs5OHOK-","user":{"login":"volosied","id":5934310,"node_id":"MDQ6VXNlcjU5MzQzMTA=","avatar_url":"https://avatars.githubusercontent.com/u/5934310?v=4","gravatar_id":"","url":"https://api.github.com/users/volosied","html_url":"https://github.com/volosied","followers_url":"https://api.github.com/users/volosied/followers","following_url":"https://api.github.com/users/volosied/following{/other_user}","gists_url":"https://api.github.com/users/volosied/gists{/gist_id}","starred_url":"https://api.github.com/users/volosied/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/volosied/subscriptions","organizations_url":"https://api.github.com/users/volosied/orgs","repos_url":"https://api.github.com/users/volosied/repos","events_url":"https://api.github.com/users/volosied/events{/privacy}","received_events_url":"https://api.github.com/users/volosied/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-10T15:58:56Z","updated_at":"2022-11-10T16:41:22Z","author_association":"CONTRIBUTOR","body":"@werpu \r\n\r\nTo follow up on the f:param problem, I think it's related to the  `<f:ajax execute=\"@this\" render=\"output\" />`: \r\n\r\nWith f:ajax:\r\n```\r\nhello2: Hello from f:param\r\nHello World: Hello from f:param2\r\n```\r\nI also noticed the array was structured with curly brackets and  `myfaces.ab` is called.\r\nonclick=\"faces.util.chain(this, event,function(event){myfaces.ab(this,event,'action','form1:submitButton2','form1:submitButton2',**{'hello2':'Hello from f:param','Hello World':'Hello from f:param2'})})**\r\n\r\n\r\nWithout f:ajax: \r\n```\r\n0: hello2,Hello from f:param\r\n1: Hello World,Hello from f:param2\r\n```\r\nSqaure Brackets and `myfaces.oam.submitForm` is called instead: \r\n onclick=\"return myfaces.oam.submitForm('form1','form1:submitButton2',null,**[['hello2','Hello from f:param'],['Hello World','Hello from f:param2']]**);\" \r\n\r\n\r\nI don't understand where the 0 is coming from during the Stream call: \r\n<img width=\"214\" alt=\"image\" src=\"https://user-images.githubusercontent.com/5934310/201153546-f406e54d-43ab-4a52-abab-09b2340245c0.png\">\r\n \r\n         Stream.ofAssoc(params).each((param: [string, any]) => {\r\n            myfaces.oam.setHiddenInput(formName, param[0], param[1]); <--- \r\n        });\r\n        \r\n        I'm assuming it need key value pairs, so it uses a 0 as a key when it's missing  (since an array is passed instead of dictionary) \r\n\r\nOur test doesn't use f:ajax, so the latter case occurs. \r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1310515902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1310527405","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1310527405","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1310527405,"node_id":"IC_kwDOB-dSOs5OHQ-t","user":{"login":"volosied","id":5934310,"node_id":"MDQ6VXNlcjU5MzQzMTA=","avatar_url":"https://avatars.githubusercontent.com/u/5934310?v=4","gravatar_id":"","url":"https://api.github.com/users/volosied","html_url":"https://github.com/volosied","followers_url":"https://api.github.com/users/volosied/followers","following_url":"https://api.github.com/users/volosied/following{/other_user}","gists_url":"https://api.github.com/users/volosied/gists{/gist_id}","starred_url":"https://api.github.com/users/volosied/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/volosied/subscriptions","organizations_url":"https://api.github.com/users/volosied/orgs","repos_url":"https://api.github.com/users/volosied/repos","events_url":"https://api.github.com/users/volosied/events{/privacy}","received_events_url":"https://api.github.com/users/volosied/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-10T16:06:19Z","updated_at":"2022-11-10T16:06:19Z","author_association":"CONTRIBUTOR","body":"Websockets looks to be fixed, though. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1310527405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1310573765","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1310573765","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1310573765,"node_id":"IC_kwDOB-dSOs5OHcTF","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-10T16:37:49Z","updated_at":"2022-11-11T07:44:59Z","author_association":"CONTRIBUTOR","body":"@volosied thanks for the additional input, I will look into this tomorrow again.\r\n\r\nAnd yes you are right with your assumption the parameters must be passed as associative array (aka key, value pairs)\r\nFor now you cannot send parameters in a syntax like \r\n[['hello2','Hello from f:param'],['Hello World','Hello from f:param2']]\r\n\r\n(Reedit): The spec defines a certain amount of parameters to be passed as options, it does not state however the format of the passthrough values.\r\nSo whatever internally is passed into ajax.request must be key value pairs and additional options can be any format under the key params. (we had a bug there which I am fixing atm, we allowed anything which is not within the reserved keys to be a passthrough parameter, this is clearly not right)\r\n\r\nAlso if a simple string is passed under parameters, we probably have to add a third code path which is a json parse code path, but given we do not have any pattern for this in our code, this is unlikely, so we can omit it for now.\r\n\r\nI probably simply will deal with this case on my code level, given it makes sense to support it.\r\nWe might add a third options passing a json string describing one of the two patterns in the future.\r\nYou will get a fix tomorrow.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1310573765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1311101287","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1311101287","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1311101287,"node_id":"IC_kwDOB-dSOs5OJdFn","user":{"login":"volosied","id":5934310,"node_id":"MDQ6VXNlcjU5MzQzMTA=","avatar_url":"https://avatars.githubusercontent.com/u/5934310?v=4","gravatar_id":"","url":"https://api.github.com/users/volosied","html_url":"https://github.com/volosied","followers_url":"https://api.github.com/users/volosied/followers","following_url":"https://api.github.com/users/volosied/following{/other_user}","gists_url":"https://api.github.com/users/volosied/gists{/gist_id}","starred_url":"https://api.github.com/users/volosied/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/volosied/subscriptions","organizations_url":"https://api.github.com/users/volosied/orgs","repos_url":"https://api.github.com/users/volosied/repos","events_url":"https://api.github.com/users/volosied/events{/privacy}","received_events_url":"https://api.github.com/users/volosied/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-11T01:07:29Z","updated_at":"2022-11-11T01:07:29Z","author_association":"CONTRIBUTOR","body":"Thank you. Alternatively, we could change it  in the backend to generate {key:value} objects instead.  I'm not sure what's most appropriate here. \r\n\r\nAlso I tested the file upload and the single upload via ajax is working now. However, the multiple file is not?  I only saw one file encoded. \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1311101287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1311285354","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1311285354","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1311285354,"node_id":"IC_kwDOB-dSOs5OKKBq","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-11T06:32:11Z","updated_at":"2022-11-11T12:20:14Z","author_association":"CONTRIBUTOR","body":"> Thank you. Alternatively, we could change it in the backend to generate {key:value} objects instead. I'm not sure what's most appropriate here.\r\n> \r\n\r\nI think it would make sense to detect both patterns, given it is easy to detect them on ecmascript level, and it is only a few locs extra it makes sense. However using a nested array as params array will very likely break the ri.\r\n\r\nHowever what definitely is not possible, although theoretically I could support it (but the spec is clear on the the data format here), is following\r\n```javascript\r\njsf.ajax.request(..., [[\"render\", \"render ids\"], [\"execute\": \"execute ids\"], ....]) \r\n```\r\n\r\nSpec:\r\noptions: The *set* of available options that can be sent as request parameters to control client and/or server side request processing. Acceptable *name/value* pair options are!\r\nYou get the idea... we could nudge here our boundaries a little bit, but every code passing it as nested array and not a will break the RI (almost 100% sure of that)\r\n\r\nVery likely neither would:\r\n\r\n```javascript\r\njsf.ajax.request(... {render: \"render ids\". params: [[\"param1\", \"value1\"],  [\"param2\", \"value2\"]})\r\n``` \r\n\r\nwork on the RI as stated above.\r\n\r\nAlthough will supporting it with the next update, because the spec leaves it open and we can nudge here a little bit.\r\n\r\nSo if your test uses a pattern like one of the two being passed into the ajax request cycle, the RI clearly would break on both cases.\r\n\r\n\r\nAnother note:\r\n\r\nBy stepping over the docs I noticed a bug which we have been carrying around for a long time.\r\n\r\nThe spec jsdoc states, that passthrough parameters must be put under the key *params*,\r\nin our original code however we do not do that, and that was carried over.\r\n(my fault i programmed this back then) we used whatever was not in a reserved keyword as passthrough value.\r\n\r\nSo I have to fix this, but have also (with a deprecation notice) carry the non spec conform, old behavior along\r\nwhere we just pass anything not being within the context of the reserved keys like render as passthrough parameter.\r\nThis is the offiending code in our original impl:\r\n\r\n```Ecmascript\r\n        /*\r\n         * We make a copy of our options because\r\n         * we should not touch the incoming params!\r\n         * this copy is also the pass through parameters\r\n         * which are sent down our request\r\n         */\r\n        var passThrgh = _Lang.mixMaps({}, options, true, this._BLOCKFILTER);\r\n        //the blockfilter is a list of reserved keys not being usable as params\r\n```\r\n\r\nThis will go in as well with my fix. I will allow both patterns until it is clear that removing our old non spec behavior does not break anything.\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1311285354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1311425893","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1311425893","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1311425893,"node_id":"IC_kwDOB-dSOs5OKsVl","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-11T09:09:45Z","updated_at":"2022-11-11T09:12:05Z","author_association":"CONTRIBUTOR","body":"> Also I tested the file upload and the single upload via ajax is working now. However, the multiple file is not? I only saw one file encoded.\r\n\r\nMultiple true flag, will add a test accordingly and fix it. I pretty much know where the error is.\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1311425893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1311626485","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1311626485","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1311626485,"node_id":"IC_kwDOB-dSOs5OLdT1","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-11T12:15:59Z","updated_at":"2022-11-11T14:09:12Z","author_association":"CONTRIBUTOR","body":"Ok I have fixed both reported \"issues\"\r\nThe multiple files upload now works as expected:\r\nExample:\r\n\r\n```\r\n         <h:form id=\"testForm\" type=\"multipart/form-data\" enctype=\"multipart/form-data\">\r\n            <h:inputFile id=\"bla\" value=\"#{fileupload.uploaded3}\" multiple=\"true\">\r\n            </h:inputFile>\r\n\r\n            <h:commandLink id=\"bla2\" value=\"Upload\" action=\"#{fileupload.doUpload2}\" type=\"button\">\r\n                <f:ajax execute=\"@form\" render=\"successfield\" />\r\n            </h:commandLink>\r\n            <h:outputText id=\"successfield\" value=\"#{fileupload.msg}\"></h:outputText>\r\n        </h:form>\r\n\r\n```\r\n\r\n```java\r\n@Named\r\n@RequestScoped\r\npublic class Fileupload {\r\n   \r\n    private List<Part> uploaded3;\r\n...\r\n\r\n  public void doUpload2() {\r\n        if(uploaded3 != null) {\r\n            msg = \"success\";\r\n        }\r\n    }\r\n```\r\n\r\nResults in a success message and the number of incoming parts as well as their dats looks correct.\r\nalso if you want to pass outside passthrough data, the implementation follows now closely the spec:\r\n\r\n```javascript\r\nfaces.ajax.request(element, null, {\r\n                execute: \"input_1\",\r\n                resetValues: true,\r\n                render: \"@form\",\r\n                params: {\r\n                    pass1: \"pass1\",\r\n                    pass2: \"pass2\"\r\n                }\r\n            });\r\n```\r\n\r\nIt used to be:\r\n```javascript\r\nfaces.ajax.request(element, null, {\r\n                execute: \"input_1\",\r\n                resetValues: true,\r\n                render: \"@form\",\r\n               \r\n                pass1: \"pass1\",\r\n                pass2: \"pass2\"\r\n           \r\n            });\r\n```\r\nAtm I support both formats, but I marked the second one (the old one in our code as deprecated to take it out once it is clear we do not have to support this anymore)\r\nWe also have this issue in our old code, this is clearly a spec breach from our side, so it needs to be fixed.\r\nWill take care of that on monday, by adding the option 1 of the two to our old code and still allow the \"faulty\" way to pass those parameters.\r\n\r\nAlso to solve the issue for @volosied I added an option to allow the passthrough of parameters as tuple arrays:\r\nFor now only this construct (which is really bending the spec) works:\r\n\r\n```javascript\r\n  faces.ajax.request(element, null, {\r\n                execute: \"input_1\",\r\n                render: \"@form\",\r\n                params: [[\"pass1\", \"pass1\"],\r\n                    [\"pass2\", \"pass2\"]],\r\n```\r\n\r\nI hope this resolves the test problem from @volosied but in the end I would recommend to shift the parameter passing to an associative array instead of tuple arrays. Because the RI definitely will break on such a construct.\r\n(I can take it out again, if not wanted, it is just 3 loc and a test)\r\n\r\nThis leaves as last issue the HTMLUnit issue, I will look at this on monday by shifting our build to ES5 and then see whether a simple request passes in HTMLUnit, if that one fails, I will have to challenge the TCK to use a more modern testing framework as second option at least.\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1311626485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1311973354","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1311973354","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1311973354,"node_id":"IC_kwDOB-dSOs5OMx_q","user":{"login":"volosied","id":5934310,"node_id":"MDQ6VXNlcjU5MzQzMTA=","avatar_url":"https://avatars.githubusercontent.com/u/5934310?v=4","gravatar_id":"","url":"https://api.github.com/users/volosied","html_url":"https://github.com/volosied","followers_url":"https://api.github.com/users/volosied/followers","following_url":"https://api.github.com/users/volosied/following{/other_user}","gists_url":"https://api.github.com/users/volosied/gists{/gist_id}","starred_url":"https://api.github.com/users/volosied/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/volosied/subscriptions","organizations_url":"https://api.github.com/users/volosied/orgs","repos_url":"https://api.github.com/users/volosied/repos","events_url":"https://api.github.com/users/volosied/events{/privacy}","received_events_url":"https://api.github.com/users/volosied/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-11T17:28:01Z","updated_at":"2022-11-11T17:28:39Z","author_association":"CONTRIBUTOR","body":"File uploads look good! \r\n```\r\n    field: multipleSelection, name: test2.txt, size: 13\r\n    field: multipleSelection, name: test1.txt, size: 13\r\n```\r\n\r\nThe f:param still isn't working for me...?  However, I created a java fix here to use object notation over Arrays for params and it works with the patch.  Could you apply to your pr (or we can apply it separately) \r\n\r\n```\r\ndiff --git a/impl/src/main/java/org/apache/myfaces/renderkit/html/base/HtmlButtonRendererBase.java b/impl/src/main/java/org/apache/myfaces/renderkit/html/base/HtmlButtonRendererBase.java\r\nindex ec08b2a60..588ba1eb2 100644\r\n--- a/impl/src/main/java/org/apache/myfaces/renderkit/html/base/HtmlButtonRendererBase.java\r\n+++ b/impl/src/main/java/org/apache/myfaces/renderkit/html/base/HtmlButtonRendererBase.java\r\n@@ -346,7 +346,7 @@ private StringBuilder addChildParameters(FacesContext context, List<UIParameter>\r\n     {\r\n         //add child parameters\r\n         StringBuilder params = SharedStringBuilder.get(context, SB_ADD_CHILD_PARAMETERS);\r\n-        params.append('[');\r\n+        // params.append('[');\r\n         \r\n         for (int i = 0, size = validParams.size(); i < size; i++)\r\n         {\r\n@@ -398,13 +398,13 @@ else if (buff != null)\r\n                 params.append(',');\r\n             }\r\n \r\n-            params.append(\"['\");\r\n+            params.append(\"{'\");\r\n             params.append(name);\r\n-            params.append(\"','\");\r\n+            params.append(\"':'\");\r\n             params.append(strParamValue);\r\n-            params.append(\"']\");\r\n+            params.append(\"'}\");\r\n         }\r\n-        params.append(']');\r\n+        // params.append(']');\r\n         return params;\r\n     }\r\n \r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1311973354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1312000272","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1312000272","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1312000272,"node_id":"IC_kwDOB-dSOs5OM4kQ","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-11T17:55:02Z","updated_at":"2022-11-11T17:55:02Z","author_association":"CONTRIBUTOR","body":"Hi, as I wrote before, theoretically sending params as array is not covered by the spec, so very likely our implementation is wrong here anyway, so the patch seems valid to me, does it break anything outside the Ajax area (already out of work for today, so I can check it on monday)?\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1312000272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1312062441","html_url":"https://github.com/apache/myfaces/pull/379#issuecomment-1312062441","issue_url":"https://api.github.com/repos/apache/myfaces/issues/379","id":1312062441,"node_id":"IC_kwDOB-dSOs5ONHvp","user":{"login":"pnicolucci","id":29307632,"node_id":"MDQ6VXNlcjI5MzA3NjMy","avatar_url":"https://avatars.githubusercontent.com/u/29307632?v=4","gravatar_id":"","url":"https://api.github.com/users/pnicolucci","html_url":"https://github.com/pnicolucci","followers_url":"https://api.github.com/users/pnicolucci/followers","following_url":"https://api.github.com/users/pnicolucci/following{/other_user}","gists_url":"https://api.github.com/users/pnicolucci/gists{/gist_id}","starred_url":"https://api.github.com/users/pnicolucci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnicolucci/subscriptions","organizations_url":"https://api.github.com/users/pnicolucci/orgs","repos_url":"https://api.github.com/users/pnicolucci/repos","events_url":"https://api.github.com/users/pnicolucci/events{/privacy}","received_events_url":"https://api.github.com/users/pnicolucci/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-11T18:42:01Z","updated_at":"2022-11-11T18:42:01Z","author_association":"CONTRIBUTOR","body":"Just some minor clean up for the 3.0 branch. To be consistent.","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1312062441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1312138070","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1312138070","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1312138070,"node_id":"IC_kwDOB-dSOs5ONaNW","user":{"login":"volosied","id":5934310,"node_id":"MDQ6VXNlcjU5MzQzMTA=","avatar_url":"https://avatars.githubusercontent.com/u/5934310?v=4","gravatar_id":"","url":"https://api.github.com/users/volosied","html_url":"https://github.com/volosied","followers_url":"https://api.github.com/users/volosied/followers","following_url":"https://api.github.com/users/volosied/following{/other_user}","gists_url":"https://api.github.com/users/volosied/gists{/gist_id}","starred_url":"https://api.github.com/users/volosied/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/volosied/subscriptions","organizations_url":"https://api.github.com/users/volosied/orgs","repos_url":"https://api.github.com/users/volosied/repos","events_url":"https://api.github.com/users/volosied/events{/privacy}","received_events_url":"https://api.github.com/users/volosied/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-11T19:46:42Z","updated_at":"2022-11-11T19:46:42Z","author_association":"CONTRIBUTOR","body":"I'll do some testing, but it shouldn't break anything. We'll talk Monday! ","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1312138070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1312729547","html_url":"https://github.com/apache/myfaces/pull/369#issuecomment-1312729547","issue_url":"https://api.github.com/repos/apache/myfaces/issues/369","id":1312729547,"node_id":"IC_kwDOB-dSOs5OPqnL","user":{"login":"melloware","id":4399574,"node_id":"MDQ6VXNlcjQzOTk1NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4399574?v=4","gravatar_id":"","url":"https://api.github.com/users/melloware","html_url":"https://github.com/melloware","followers_url":"https://api.github.com/users/melloware/followers","following_url":"https://api.github.com/users/melloware/following{/other_user}","gists_url":"https://api.github.com/users/melloware/gists{/gist_id}","starred_url":"https://api.github.com/users/melloware/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/melloware/subscriptions","organizations_url":"https://api.github.com/users/melloware/orgs","repos_url":"https://api.github.com/users/melloware/repos","events_url":"https://api.github.com/users/melloware/events{/privacy}","received_events_url":"https://api.github.com/users/melloware/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-13T13:22:09Z","updated_at":"2022-11-13T13:22:09Z","author_association":"CONTRIBUTOR","body":"@cristof Just report back here once the TCK test is implemented.","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1312729547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1313201984","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1313201984","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1313201984,"node_id":"IC_kwDOB-dSOs5ORd9A","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T07:18:34Z","updated_at":"2022-11-14T12:51:44Z","author_association":"CONTRIBUTOR","body":"#### I now finally got it \r\nAs you stated before, the f:ajax makes the difference (and hence it never crawled up as a bug because it is none)\r\nFollowing, your test does not use f:ajax but is decorating probably  the oam.submitForm to trigger the Ajax cycle.\r\n\r\nUsing the submit without any ajax produces following code on a commandButton:\r\n\r\n```html\r\n\r\n<input id=\"submitButton\" name=\"submitButton\" type=\"submit\" value=\"Click here\" onclick=\"return myfaces.oam.submitForm('form1','submitButton',null,\r\n[['hello2','Hello from f:param'],['Hello World','Hello from f:param2']]);\"/>\r\n\r\n```\r\n\r\nHere we see the \"infamous\" tuples array.\r\n\r\n\r\nOnce I add\r\n\r\n```html\r\n<f:ajax ..../>\r\n```\r\n\r\nTo the mix the code suddenly becomes ajax spec conform:\r\n\r\n```html\r\n<input id=\"submitButton\" name=\"submitButton\" type=\"submit\" value=\"Click here\" onclick=\"faces.util.chain(this, event,function(event){myfaces.ab(this,event,'action','@form','@form',\r\n{'hello2':'Hello from f:param','Hello World':'Hello from f:param2'})}); return false;\">\r\n```\r\n\r\nI now checked the old code on our oamsubmit, there is a deviation in the implementation, so the bug is on my side on the javascript side.\r\n\r\n```javascript\r\n if ((typeof params != 'undefined') && params != null) {\r\n                for (var i = 0, param; (param = params[i]); i++) {\r\n                    myfaces.oam.setHiddenInput(formName, param[0], param[1]);\r\n                }\r\n}\r\n```\r\nWheras new:\r\n```typescript\r\nStream.ofAssoc(params).each((param: [string, any]) => {\r\n            myfaces.oam.setHiddenInput(formName, param[0], param[1]);\r\n});\r\n```\r\nHowever the incoming parameters are not an associative array but an array.\r\nThis will be fixed.\r\nMakes sense on the oamsubmit side to support both formats!\r\nSo that we can pass either Tuples, or an Associative Array.","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1313201984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1313725724","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1313725724","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1313725724,"node_id":"IC_kwDOB-dSOs5OTd0c","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T13:37:53Z","updated_at":"2022-11-15T14:53:46Z","author_association":"CONTRIBUTOR","body":"OamSubmit now is fixed, should work as expected, I am now covering both methods of parameters and added 5 new Unit Tests to cover this api. You now can either pass tuples or associative arrays:\r\n\r\nhttps://github.com/apache/myfaces/pull/356/commits/4545045fa901d42bc862d7546e281ebf7d9adac3#diff-b7998247c1ec37ef6a46d490efa49d3b385ea436fc765ab3dd02f68485aab44b\r\n\r\nYou get the idea from the newly added tests!\r\n@volosied let me know if this fixes your last remaining issue, without having to patch the ButtonRenderer!\r\n\r\nAddition: I just did a preliminary test against HTMLUnit with an es5 compiled version of our scripts. As expected HTMLUnit chokes, it throws in this case an error on perfectly valid code which is even es5. So it is not even the Dom it has started to choke on.\r\nThe best bet would be to challenge the TCK in this area to use a better engine for client side testing. It wont brake the RI codebase by for instance moving to webdrivers but would help us a lot.\r\n\r\nI just had a look at the ajax parts of the TCK, it should be portable, not sure how many tests 30-40 I think, but most of them should be a straight port forward. The problem is I am not sure whether I am allowed to do this porting, given the ties I have to the Apache code and its more liberal license.\r\n\r\nThe main culprit is the usage of html unit, I will do a port of those tests tomorrow against selenium webdriver and will open a ticket/pull request and then lets see what they say about it. I guess we have a higher chance to get this changed if we spare them the work of doing it themselves.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1313725724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1314345459","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1314345459","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1314345459,"node_id":"IC_kwDOB-dSOs5OV1Hz","user":{"login":"volosied","id":5934310,"node_id":"MDQ6VXNlcjU5MzQzMTA=","avatar_url":"https://avatars.githubusercontent.com/u/5934310?v=4","gravatar_id":"","url":"https://api.github.com/users/volosied","html_url":"https://github.com/volosied","followers_url":"https://api.github.com/users/volosied/followers","following_url":"https://api.github.com/users/volosied/following{/other_user}","gists_url":"https://api.github.com/users/volosied/gists{/gist_id}","starred_url":"https://api.github.com/users/volosied/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/volosied/subscriptions","organizations_url":"https://api.github.com/users/volosied/orgs","repos_url":"https://api.github.com/users/volosied/repos","events_url":"https://api.github.com/users/volosied/events{/privacy}","received_events_url":"https://api.github.com/users/volosied/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-14T20:33:13Z","updated_at":"2022-11-14T20:33:13Z","author_association":"CONTRIBUTOR","body":"@werpu  Thank you for getting the array issue fixed! It looks good now. \r\n\r\nAnd thanks again for looking into the html unit problem, too. Keep us updated. ","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1314345459/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1314908927","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1314908927","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1314908927,"node_id":"IC_kwDOB-dSOs5OX-r_","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T07:42:34Z","updated_at":"2022-11-15T07:42:34Z","author_association":"CONTRIBUTOR","body":"Command back, oamsubmit is not entirely fixed, I have to roll another small fix and another unit test.\r\nthe case myfaces.oam.submitForm('form1','doSubmit') of simple submits without parameters is not working atm.\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1314908927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1314985861","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1314985861","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1314985861,"node_id":"IC_kwDOB-dSOs5OYReF","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T08:53:14Z","updated_at":"2022-11-15T08:53:14Z","author_association":"CONTRIBUTOR","body":"Fixed and 3 new testcases added which test for reduce submitForm patterns.","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1314985861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1315432298","html_url":"https://github.com/apache/myfaces/pull/369#issuecomment-1315432298","issue_url":"https://api.github.com/repos/apache/myfaces/issues/369","id":1315432298,"node_id":"IC_kwDOB-dSOs5OZ-dq","user":{"login":"melloware","id":4399574,"node_id":"MDQ6VXNlcjQzOTk1NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4399574?v=4","gravatar_id":"","url":"https://api.github.com/users/melloware","html_url":"https://github.com/melloware","followers_url":"https://api.github.com/users/melloware/followers","following_url":"https://api.github.com/users/melloware/following{/other_user}","gists_url":"https://api.github.com/users/melloware/gists{/gist_id}","starred_url":"https://api.github.com/users/melloware/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/melloware/subscriptions","organizations_url":"https://api.github.com/users/melloware/orgs","repos_url":"https://api.github.com/users/melloware/repos","events_url":"https://api.github.com/users/melloware/events{/privacy}","received_events_url":"https://api.github.com/users/melloware/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T14:59:04Z","updated_at":"2022-11-15T14:59:04Z","author_association":"CONTRIBUTOR","body":"TCK Test: https://github.com/jakartaee/faces/pull/1721","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1315432298/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1315489032","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1315489032","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1315489032,"node_id":"IC_kwDOB-dSOs5OaMUI","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T15:37:48Z","updated_at":"2022-11-15T15:37:48Z","author_association":"CONTRIBUTOR","body":"I have now added a TCK challenge regarding the usage of HTMLUnit. The question is, can we provide a port of the existing Ajax TCKs to Selenium without \"staining ourselves, by having worked on non ASL code\"?\r\nThe situation is more relaxed now that the TCK is not closed source anymore, but the issue of an incompatible license persists.\r\nI have asked the question as legal question in the mailing list, but have not gotten any answer, so I am trying here.\r\nIf the answer is ok, i can fork the RI, to prepare a pull request, I would start to work immediately on the Webdriver TCK pull request.\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1315489032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1315500525","html_url":"https://github.com/apache/myfaces/pull/384#issuecomment-1315500525","issue_url":"https://api.github.com/repos/apache/myfaces/issues/384","id":1315500525,"node_id":"IC_kwDOB-dSOs5OaPHt","user":{"login":"volosied","id":5934310,"node_id":"MDQ6VXNlcjU5MzQzMTA=","avatar_url":"https://avatars.githubusercontent.com/u/5934310?v=4","gravatar_id":"","url":"https://api.github.com/users/volosied","html_url":"https://github.com/volosied","followers_url":"https://api.github.com/users/volosied/followers","following_url":"https://api.github.com/users/volosied/following{/other_user}","gists_url":"https://api.github.com/users/volosied/gists{/gist_id}","starred_url":"https://api.github.com/users/volosied/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/volosied/subscriptions","organizations_url":"https://api.github.com/users/volosied/orgs","repos_url":"https://api.github.com/users/volosied/repos","events_url":"https://api.github.com/users/volosied/events{/privacy}","received_events_url":"https://api.github.com/users/volosied/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-15T15:45:37Z","updated_at":"2022-11-15T15:45:37Z","author_association":"CONTRIBUTOR","body":"I have some additional testing running now to verify no other regressions occur. ","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1315500525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1318517652","html_url":"https://github.com/apache/myfaces/pull/385#issuecomment-1318517652","issue_url":"https://api.github.com/repos/apache/myfaces/issues/385","id":1318517652,"node_id":"IC_kwDOB-dSOs5OlvuU","user":{"login":"tandraschko","id":2485545,"node_id":"MDQ6VXNlcjI0ODU1NDU=","avatar_url":"https://avatars.githubusercontent.com/u/2485545?v=4","gravatar_id":"","url":"https://api.github.com/users/tandraschko","html_url":"https://github.com/tandraschko","followers_url":"https://api.github.com/users/tandraschko/followers","following_url":"https://api.github.com/users/tandraschko/following{/other_user}","gists_url":"https://api.github.com/users/tandraschko/gists{/gist_id}","starred_url":"https://api.github.com/users/tandraschko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandraschko/subscriptions","organizations_url":"https://api.github.com/users/tandraschko/orgs","repos_url":"https://api.github.com/users/tandraschko/repos","events_url":"https://api.github.com/users/tandraschko/events{/privacy}","received_events_url":"https://api.github.com/users/tandraschko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T11:47:17Z","updated_at":"2022-11-17T11:47:17Z","author_association":"MEMBER","body":"IMO we should not make it per default\r\nwe didnt had any user since 10 years which requires this\r\n\r\ncan someone start a dicussion with mojarra team?\r\n\r\notherwise i would introduce a webcontext param","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1318517652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1318522154","html_url":"https://github.com/apache/myfaces/pull/354#issuecomment-1318522154","issue_url":"https://api.github.com/repos/apache/myfaces/issues/354","id":1318522154,"node_id":"IC_kwDOB-dSOs5Olw0q","user":{"login":"tandraschko","id":2485545,"node_id":"MDQ6VXNlcjI0ODU1NDU=","avatar_url":"https://avatars.githubusercontent.com/u/2485545?v=4","gravatar_id":"","url":"https://api.github.com/users/tandraschko","html_url":"https://github.com/tandraschko","followers_url":"https://api.github.com/users/tandraschko/followers","following_url":"https://api.github.com/users/tandraschko/following{/other_user}","gists_url":"https://api.github.com/users/tandraschko/gists{/gist_id}","starred_url":"https://api.github.com/users/tandraschko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandraschko/subscriptions","organizations_url":"https://api.github.com/users/tandraschko/orgs","repos_url":"https://api.github.com/users/tandraschko/repos","events_url":"https://api.github.com/users/tandraschko/events{/privacy}","received_events_url":"https://api.github.com/users/tandraschko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T11:51:22Z","updated_at":"2022-11-17T11:51:22Z","author_association":"MEMBER","body":"i dont understand the case exactly but when it works and doesnt break something else -> +1","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1318522154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1318783645","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1318783645","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1318783645,"node_id":"IC_kwDOB-dSOs5Omwqd","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T15:14:36Z","updated_at":"2022-11-17T16:24:50Z","author_association":"CONTRIBUTOR","body":"Hi short update, I got the two tck bugs in, have not had time to fix them today, I will fix them probably tomorrow. As I am busy atm porting the TCK tests to Webdriver. I have now about 70% of the mojarra JSF 2.2 TCK tests ported and have solved all missing pieces which HTMLUnit had but webdriver does not (aka request response data is not exposed by WebDriver, but you can solve it over the Chrome debugging engine) \r\nSo I am making good progress, to get the TCKs updated. I probably will have a pull request on the jakarta side ready sometime next week.\r\n\r\nReedit: I would love to postpone the fixes until I have the TCK ported, if anyone has objections I will do them tomorrow otherwise sometimes next week.\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1318783645/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1318821908","html_url":"https://github.com/apache/myfaces/pull/385#issuecomment-1318821908","issue_url":"https://api.github.com/repos/apache/myfaces/issues/385","id":1318821908,"node_id":"IC_kwDOB-dSOs5Om6AU","user":{"login":"volosied","id":5934310,"node_id":"MDQ6VXNlcjU5MzQzMTA=","avatar_url":"https://avatars.githubusercontent.com/u/5934310?v=4","gravatar_id":"","url":"https://api.github.com/users/volosied","html_url":"https://github.com/volosied","followers_url":"https://api.github.com/users/volosied/followers","following_url":"https://api.github.com/users/volosied/following{/other_user}","gists_url":"https://api.github.com/users/volosied/gists{/gist_id}","starred_url":"https://api.github.com/users/volosied/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/volosied/subscriptions","organizations_url":"https://api.github.com/users/volosied/orgs","repos_url":"https://api.github.com/users/volosied/repos","events_url":"https://api.github.com/users/volosied/events{/privacy}","received_events_url":"https://api.github.com/users/volosied/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-17T15:39:22Z","updated_at":"2022-11-17T15:39:22Z","author_association":"CONTRIBUTOR","body":"Hey Thomas, I see you had commented in the original issue here: https://github.com/eclipse-ee4j/mojarra/issues/4957#issuecomment-996785168 \r\n\r\nYou mentioned the viewstate size might be an issue here (and the fact this behavior isn't strictly necessary)?  As this test is part of the TCK, (1) we'll have to challenge it or (2) at least enable this behavior by default with an web parameter to turn it off.  \r\n\r\nPerhaps might could create a challenge as I'm not sure all of the concerns here and since you were involved in the original issue? Otherwise, I would prefer to go with option 2.  \r\n\r\nLet know how you'd like to proceed. Thanks! \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1318821908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1320313122","html_url":"https://github.com/apache/myfaces/pull/385#issuecomment-1320313122","issue_url":"https://api.github.com/repos/apache/myfaces/issues/385","id":1320313122,"node_id":"IC_kwDOB-dSOs5OsmEi","user":{"login":"volosied","id":5934310,"node_id":"MDQ6VXNlcjU5MzQzMTA=","avatar_url":"https://avatars.githubusercontent.com/u/5934310?v=4","gravatar_id":"","url":"https://api.github.com/users/volosied","html_url":"https://github.com/volosied","followers_url":"https://api.github.com/users/volosied/followers","following_url":"https://api.github.com/users/volosied/following{/other_user}","gists_url":"https://api.github.com/users/volosied/gists{/gist_id}","starred_url":"https://api.github.com/users/volosied/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/volosied/subscriptions","organizations_url":"https://api.github.com/users/volosied/orgs","repos_url":"https://api.github.com/users/volosied/repos","events_url":"https://api.github.com/users/volosied/events{/privacy}","received_events_url":"https://api.github.com/users/volosied/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-18T17:22:55Z","updated_at":"2022-11-18T17:22:55Z","author_association":"CONTRIBUTOR","body":"@tandraschko Following up regarding the comment above.","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1320313122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1322259356","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1322259356","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1322259356,"node_id":"IC_kwDOB-dSOs5O0BOc","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T15:43:57Z","updated_at":"2022-11-21T15:47:49Z","author_association":"CONTRIBUTOR","body":"Another short status update. I have ported now all 70 or so Ajax TCK tests to Selenium. I now am waiting on feedback, on how they want the tests integrated in the pull requests (Selenium  - side by side to the old code, or as full replacement)\r\nOnce the pull request is out I will pick up the work on my MyFaces side again and finally fix the 2 pending issues. Then we also should have a full working TCK testsuite for the new myfaces codebase. The good news, is, that I basically have reimplemted vital parts of html unit the TCKs were using, which WebDriver does not support (like response investigation, http status code investigation etc...) so theoretically they can roll the rest of the TCKs which touch the frontend over, as well (which I am not going to do)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1322259356/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1323821092","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1323821092","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1323821092,"node_id":"IC_kwDOB-dSOs5O5-gk","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T15:05:35Z","updated_at":"2022-11-22T15:05:35Z","author_association":"CONTRIBUTOR","body":"Ok I now have offered the pull request with the Selenium ported TCKs to the Jakarta project https://github.com/jakartaee/faces/pull/1732 they can take over from there.\r\nI will commence now from tomorrow onwards on our codebase again, and finally will fix the 2 reported bugs.\r\nFeel free to take the Selenium code from the tck for your own testing. The 2 reported bugs should be fixed soon!\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1323821092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1323936332","html_url":"https://github.com/apache/myfaces/pull/385#issuecomment-1323936332","issue_url":"https://api.github.com/repos/apache/myfaces/issues/385","id":1323936332,"node_id":"IC_kwDOB-dSOs5O6apM","user":{"login":"volosied","id":5934310,"node_id":"MDQ6VXNlcjU5MzQzMTA=","avatar_url":"https://avatars.githubusercontent.com/u/5934310?v=4","gravatar_id":"","url":"https://api.github.com/users/volosied","html_url":"https://github.com/volosied","followers_url":"https://api.github.com/users/volosied/followers","following_url":"https://api.github.com/users/volosied/following{/other_user}","gists_url":"https://api.github.com/users/volosied/gists{/gist_id}","starred_url":"https://api.github.com/users/volosied/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/volosied/subscriptions","organizations_url":"https://api.github.com/users/volosied/orgs","repos_url":"https://api.github.com/users/volosied/repos","events_url":"https://api.github.com/users/volosied/events{/privacy}","received_events_url":"https://api.github.com/users/volosied/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T16:27:37Z","updated_at":"2022-11-22T16:27:37Z","author_association":"CONTRIBUTOR","body":"I added a new web parameter: `org.apache.myfaces.UI_REPEAT_STATE_SAVING`, but the new behavior is the default.","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1323936332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1324502217","html_url":"https://github.com/apache/myfaces/pull/390#issuecomment-1324502217","issue_url":"https://api.github.com/repos/apache/myfaces/issues/390","id":1324502217,"node_id":"IC_kwDOB-dSOs5O8kzJ","user":{"login":"volosied","id":5934310,"node_id":"MDQ6VXNlcjU5MzQzMTA=","avatar_url":"https://avatars.githubusercontent.com/u/5934310?v=4","gravatar_id":"","url":"https://api.github.com/users/volosied","html_url":"https://github.com/volosied","followers_url":"https://api.github.com/users/volosied/followers","following_url":"https://api.github.com/users/volosied/following{/other_user}","gists_url":"https://api.github.com/users/volosied/gists{/gist_id}","starred_url":"https://api.github.com/users/volosied/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/volosied/subscriptions","organizations_url":"https://api.github.com/users/volosied/orgs","repos_url":"https://api.github.com/users/volosied/repos","events_url":"https://api.github.com/users/volosied/events{/privacy}","received_events_url":"https://api.github.com/users/volosied/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-23T03:22:06Z","updated_at":"2022-11-29T19:14:22Z","author_association":"CONTRIBUTOR","body":"```\r\nError:  Failures: \r\nError:    NumberConverterTest.testGetAsObjectWithBigIntegerAndParsePosition:218\r\n```\r\n\r\n[I think \"1,0.0,00.00\" is just  a bad test case...?](https://github.com/apache/myfaces/blob/89c747e85615e3f33265e664c8361789f38ea7db/impl/src/test/java/jakarta/faces/convert/NumberConverterTest.java#L217) Might be better to update it because it parses to 1, if you use NumberFormat.    \r\n\r\nI'll update it to have setParseIntegerOnly as false instead.\r\n\r\n\r\nI will add the test from the TCK for additional coverage. \r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1324502217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1326669169","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1326669169","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1326669169,"node_id":"IC_kwDOB-dSOs5PE11x","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-24T16:40:34Z","updated_at":"2022-11-24T16:40:34Z","author_association":"CONTRIBUTOR","body":"Number of Unit Tests on the codebase now 177!\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1326669169/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1327639884","html_url":"https://github.com/apache/myfaces/pull/396#issuecomment-1327639884","issue_url":"https://api.github.com/repos/apache/myfaces/issues/396","id":1327639884,"node_id":"IC_kwDOB-dSOs5PIi1M","user":{"login":"tandraschko","id":2485545,"node_id":"MDQ6VXNlcjI0ODU1NDU=","avatar_url":"https://avatars.githubusercontent.com/u/2485545?v=4","gravatar_id":"","url":"https://api.github.com/users/tandraschko","html_url":"https://github.com/tandraschko","followers_url":"https://api.github.com/users/tandraschko/followers","following_url":"https://api.github.com/users/tandraschko/following{/other_user}","gists_url":"https://api.github.com/users/tandraschko/gists{/gist_id}","starred_url":"https://api.github.com/users/tandraschko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandraschko/subscriptions","organizations_url":"https://api.github.com/users/tandraschko/orgs","repos_url":"https://api.github.com/users/tandraschko/repos","events_url":"https://api.github.com/users/tandraschko/events{/privacy}","received_events_url":"https://api.github.com/users/tandraschko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-25T15:41:31Z","updated_at":"2022-11-25T15:41:31Z","author_association":"MEMBER","body":"@melloware thats just not enough\r\nwe need to remove all configs as they are NOT overwriteable by a user\r\nalso the primefaces settings","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1327639884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1327684491","html_url":"https://github.com/apache/myfaces/pull/396#issuecomment-1327684491","issue_url":"https://api.github.com/repos/apache/myfaces/issues/396","id":1327684491,"node_id":"IC_kwDOB-dSOs5PItuL","user":{"login":"melloware","id":4399574,"node_id":"MDQ6VXNlcjQzOTk1NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4399574?v=4","gravatar_id":"","url":"https://api.github.com/users/melloware","html_url":"https://github.com/melloware","followers_url":"https://api.github.com/users/melloware/followers","following_url":"https://api.github.com/users/melloware/following{/other_user}","gists_url":"https://api.github.com/users/melloware/gists{/gist_id}","starred_url":"https://api.github.com/users/melloware/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/melloware/subscriptions","organizations_url":"https://api.github.com/users/melloware/orgs","repos_url":"https://api.github.com/users/melloware/repos","events_url":"https://api.github.com/users/melloware/events{/privacy}","received_events_url":"https://api.github.com/users/melloware/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-25T16:36:41Z","updated_at":"2022-11-25T16:36:41Z","author_association":"CONTRIBUTOR","body":"OK i will remove them all!","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1327684491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1329032734","html_url":"https://github.com/apache/myfaces/pull/399#issuecomment-1329032734","issue_url":"https://api.github.com/repos/apache/myfaces/issues/399","id":1329032734,"node_id":"IC_kwDOB-dSOs5PN24e","user":{"login":"tandraschko","id":2485545,"node_id":"MDQ6VXNlcjI0ODU1NDU=","avatar_url":"https://avatars.githubusercontent.com/u/2485545?v=4","gravatar_id":"","url":"https://api.github.com/users/tandraschko","html_url":"https://github.com/tandraschko","followers_url":"https://api.github.com/users/tandraschko/followers","following_url":"https://api.github.com/users/tandraschko/following{/other_user}","gists_url":"https://api.github.com/users/tandraschko/gists{/gist_id}","starred_url":"https://api.github.com/users/tandraschko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandraschko/subscriptions","organizations_url":"https://api.github.com/users/tandraschko/orgs","repos_url":"https://api.github.com/users/tandraschko/repos","events_url":"https://api.github.com/users/tandraschko/events{/privacy}","received_events_url":"https://api.github.com/users/tandraschko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T12:49:53Z","updated_at":"2022-11-28T12:49:53Z","author_association":"MEMBER","body":"should we leave the old lookup as fallback if ELManager returns null?","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1329032734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1329101260","html_url":"https://github.com/apache/myfaces/pull/399#issuecomment-1329101260","issue_url":"https://api.github.com/repos/apache/myfaces/issues/399","id":1329101260,"node_id":"IC_kwDOB-dSOs5POHnM","user":{"login":"pnicolucci","id":29307632,"node_id":"MDQ6VXNlcjI5MzA3NjMy","avatar_url":"https://avatars.githubusercontent.com/u/29307632?v=4","gravatar_id":"","url":"https://api.github.com/users/pnicolucci","html_url":"https://github.com/pnicolucci","followers_url":"https://api.github.com/users/pnicolucci/followers","following_url":"https://api.github.com/users/pnicolucci/following{/other_user}","gists_url":"https://api.github.com/users/pnicolucci/gists{/gist_id}","starred_url":"https://api.github.com/users/pnicolucci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnicolucci/subscriptions","organizations_url":"https://api.github.com/users/pnicolucci/orgs","repos_url":"https://api.github.com/users/pnicolucci/repos","events_url":"https://api.github.com/users/pnicolucci/events{/privacy}","received_events_url":"https://api.github.com/users/pnicolucci/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T13:35:10Z","updated_at":"2022-11-28T13:35:10Z","author_association":"CONTRIBUTOR","body":"> should we leave the old lookup as fallback if ELManager returns null?\r\n\r\n@tandraschko I'd prefer not to unless we find that it is necessary this keeps the code clean IMO. Looking at the ELManager Java Doc: https://jakarta.ee/specifications/expression-language/5.0/apidocs/jakarta.el/jakarta/el/elmanager#getExpressionFactory() and the Tomcat implementation for example https://github.com/apache/tomcat/blob/main/java/jakarta/el/Util.java#L97 I think we'll always get an instance back.","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1329101260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1329105438","html_url":"https://github.com/apache/myfaces/pull/399#issuecomment-1329105438","issue_url":"https://api.github.com/repos/apache/myfaces/issues/399","id":1329105438,"node_id":"IC_kwDOB-dSOs5POIoe","user":{"login":"tandraschko","id":2485545,"node_id":"MDQ6VXNlcjI0ODU1NDU=","avatar_url":"https://avatars.githubusercontent.com/u/2485545?v=4","gravatar_id":"","url":"https://api.github.com/users/tandraschko","html_url":"https://github.com/tandraschko","followers_url":"https://api.github.com/users/tandraschko/followers","following_url":"https://api.github.com/users/tandraschko/following{/other_user}","gists_url":"https://api.github.com/users/tandraschko/gists{/gist_id}","starred_url":"https://api.github.com/users/tandraschko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandraschko/subscriptions","organizations_url":"https://api.github.com/users/tandraschko/orgs","repos_url":"https://api.github.com/users/tandraschko/repos","events_url":"https://api.github.com/users/tandraschko/events{/privacy}","received_events_url":"https://api.github.com/users/tandraschko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T13:38:18Z","updated_at":"2022-11-28T13:38:18Z","author_association":"MEMBER","body":"all right, then +1","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1329105438/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1329942517","html_url":"https://github.com/apache/myfaces/pull/385#issuecomment-1329942517","issue_url":"https://api.github.com/repos/apache/myfaces/issues/385","id":1329942517,"node_id":"IC_kwDOB-dSOs5PRU_1","user":{"login":"pnicolucci","id":29307632,"node_id":"MDQ6VXNlcjI5MzA3NjMy","avatar_url":"https://avatars.githubusercontent.com/u/29307632?v=4","gravatar_id":"","url":"https://api.github.com/users/pnicolucci","html_url":"https://github.com/pnicolucci","followers_url":"https://api.github.com/users/pnicolucci/followers","following_url":"https://api.github.com/users/pnicolucci/following{/other_user}","gists_url":"https://api.github.com/users/pnicolucci/gists{/gist_id}","starred_url":"https://api.github.com/users/pnicolucci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pnicolucci/subscriptions","organizations_url":"https://api.github.com/users/pnicolucci/orgs","repos_url":"https://api.github.com/users/pnicolucci/repos","events_url":"https://api.github.com/users/pnicolucci/events{/privacy}","received_events_url":"https://api.github.com/users/pnicolucci/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T01:04:40Z","updated_at":"2022-11-29T01:04:40Z","author_association":"CONTRIBUTOR","body":"@tandraschko are you ok with this enabled by default? Or are you thinking we should create a TCK Challenge for this test/behavior? I think we need to either make this the default behavior or challenge the tck.","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1329942517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1332184612","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1332184612","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1332184612,"node_id":"IC_kwDOB-dSOs5PZ4Yk","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T13:53:43Z","updated_at":"2022-11-30T13:53:43Z","author_association":"CONTRIBUTOR","body":"Number of unit tests in codebase now 181, 4 new ones covering the view id namespacing (portlet scenario) same are as TCK-790","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1332184612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1333529606","html_url":"https://github.com/apache/myfaces/pull/385#issuecomment-1333529606","issue_url":"https://api.github.com/repos/apache/myfaces/issues/385","id":1333529606,"node_id":"IC_kwDOB-dSOs5PfAwG","user":{"login":"tandraschko","id":2485545,"node_id":"MDQ6VXNlcjI0ODU1NDU=","avatar_url":"https://avatars.githubusercontent.com/u/2485545?v=4","gravatar_id":"","url":"https://api.github.com/users/tandraschko","html_url":"https://github.com/tandraschko","followers_url":"https://api.github.com/users/tandraschko/followers","following_url":"https://api.github.com/users/tandraschko/following{/other_user}","gists_url":"https://api.github.com/users/tandraschko/gists{/gist_id}","starred_url":"https://api.github.com/users/tandraschko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandraschko/subscriptions","organizations_url":"https://api.github.com/users/tandraschko/orgs","repos_url":"https://api.github.com/users/tandraschko/repos","events_url":"https://api.github.com/users/tandraschko/events{/privacy}","received_events_url":"https://api.github.com/users/tandraschko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-01T10:13:06Z","updated_at":"2022-12-01T10:13:06Z","author_association":"MEMBER","body":"Could anyone check that case again and talk with the Mojarra guys, if this case is really required?\r\nAs i said in my small statement in the linked issue, we have this \"issue\" since 10 years propably and noone ever openend a JIRA issue\r\nmaybe because the case is not that valid\r\n\r\nOtherwise i'm ok with it","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1333529606/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1335154536","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1335154536","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1335154536,"node_id":"IC_kwDOB-dSOs5PlNdo","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-02T12:18:29Z","updated_at":"2022-12-02T12:18:29Z","author_association":"CONTRIBUTOR","body":"Rolled in another bunches of fixes coming from the old codebase for 4511, unit tests now 182, all pass, integration tests also pass, tck tests as well!\r\nI consider it fixed, will roll pull requests for 2.3-Next and master as well","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1335154536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1335169931","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1335169931","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1335169931,"node_id":"IC_kwDOB-dSOs5PlROL","user":{"login":"melloware","id":4399574,"node_id":"MDQ6VXNlcjQzOTk1NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4399574?v=4","gravatar_id":"","url":"https://api.github.com/users/melloware","html_url":"https://github.com/melloware","followers_url":"https://api.github.com/users/melloware/followers","following_url":"https://api.github.com/users/melloware/following{/other_user}","gists_url":"https://api.github.com/users/melloware/gists{/gist_id}","starred_url":"https://api.github.com/users/melloware/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/melloware/subscriptions","organizations_url":"https://api.github.com/users/melloware/orgs","repos_url":"https://api.github.com/users/melloware/repos","events_url":"https://api.github.com/users/melloware/events{/privacy}","received_events_url":"https://api.github.com/users/melloware/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-02T12:35:29Z","updated_at":"2022-12-02T12:35:29Z","author_association":"CONTRIBUTOR","body":"Looks like you have a couple of conflicts?","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1335169931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1335239311","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1335239311","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1335239311,"node_id":"IC_kwDOB-dSOs5PliKP","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-02T13:31:19Z","updated_at":"2022-12-02T13:31:19Z","author_association":"CONTRIBUTOR","body":"conflicts fixed","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1335239311/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1336971903","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1336971903","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1336971903,"node_id":"IC_kwDOB-dSOs5PsJJ_","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-05T08:50:37Z","updated_at":"2022-12-05T18:41:30Z","author_association":"CONTRIBUTOR","body":"I was finally able to run the 2.2 TCK tests against our new codebase.\r\nFollowing Tests are still failing (note, not all of them might \r\nhave a js issue as base): \r\n\r\n[ERROR]   Issue2041IT.testIssue2041:48\r\n[ERROR]   Issue2179IT.testDecodeException:57\r\n[ERROR]   Issue2179IT.testEncodeException:40\r\n[ERROR]   Issue2439IT.testUpdateAttributeNamedValue:41\r\n[ERROR]   Issue2636IT.testCommandLinksInRepeat:38\r\n[ERROR]   Issue2674IT.testProgrammaticAjaxBehavior:36\r\n[ERROR]   Issue2906IT.testCommandLinksInRepeat:40\r\n[ERROR]   Issue3097IT.testViewExpired1:45\r\n[ERROR]   Issue3473IT.testButtonOnlySubmitsOne:41\r\n[ERROR]   Issue3833IT.testUIRepeatStateSaving:56\r\n[ERROR]   Spec1296IT.testPartialResponseWriterOutsideFacesServlet:36\r\n\r\nI will investigate them and fix them long the lines (also unit tests will be added wherever they are possible to cover the failing tests.\r\nWill run the same against the old codebase later on.\r\n\r\n**2041**: TCK issue, there is no ajax code executed despite being in the tck ajax section, the error lies within my test framework\r\nwhere the updated page is not evaluated because a url change is performed instead of just a content change.\r\n(full post update). \r\nIssue now fixed on my side, by updating my selenium based testing framework.\r\n\r\n**Issue2179IT**: Definitely an implementation issue, a simple page get does not trigger the encodeAll of the underlying error throwing component in the TCK.\r\nWill file a bugreport later. Test is not fixable on my side, but the the java part is at fault here.\r\n\r\n**Issue 2439**: Fails for several reasons:\r\na) the test searches for RI specific apis (mojarra.ab) in its result analysis.\r\nThis needs to be challenged.\r\n\r\nb) We have a bug in our impl, a dual f:ajax does not seem to overwrite the previous one\r\naka the first f:ajax removes an onchange handler in the final result\r\nthe second one should reenable it again, but does not.\r\nI will file a bug on this one later! (the test explicitely tests for such cases)\r\n\r\n```xml\r\n  <h:inputText id=\"input2\">\r\n\t  <f:ajax execute=\"@all\" render=\"@all\" disabled=\"true\"/>\r\n          <f:ajax execute=\"@this\" render=\"@all\"/>\r\n   </h:inputText>\r\n```\r\n\r\n**Issue2906IT**: Tag html seems to be missing in the myfaces taglib:\r\nh:html is not working and produces an error (Impl Problem)\r\nAfter fixing that in the source to html, test works. MyFaces bugreport\r\nwill be added.\r\n\r\n**Issue2674IT**: Again Test is faulty here testing for specific mojarra.ab patterns instead of \r\ndoing a more generic test\r\n\r\n**Issue2906IT**: Again impl issue, &amp;nbsp; seems to be swallowed or mangled instead of being passed through, after the initial http get, test fails because it checks explicitly for rendered whitespaces.\r\n\r\n\r\n**Issue3097IT**: ViewExpired exception is appended twice to the error listener, and string class is missing in front of\r\njakarta.faces.ViewExpiredException.\r\nThis is definitely at least partially a client side issue. Will be fixed.\r\nthe response protocol shows: \r\n\r\n```xml\r\n\r\n\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<partial-response>\r\n    <error>\r\n         <error-name>jakarta.faces.application.ViewExpiredException</error-name>\r\n         <error-message><![CDATA[View \"/viewExpired1.xhtml\" could not be restored.]]></error-message>\r\n    </error>\r\n</partial-response>\r\n\r\n```\r\n\r\nTesting for class in front of jakarta.faces.application.ViewExpiredException is questionable at best, it probably should not be tested especially given it is not very likely part of the spec.\r\nHaving the error being appended twice due to the listener being called twice is definitely on my plate. I will cover this with a unit test.\r\n\r\nMyFaces in my opinion is correct. The error handler is only called once, but given we have an embedded script with an addOnError, hit is added twice and triggered twice.\r\nNow we have two options... we could clear the listeners before evaluating embedded javascripts again.\r\nOr we simply let the user deal with it.\r\nBut in any case the jsf code is static even after a render all, so basically having the user deal with this is probably better\r\nwe have a local error handling anyway on request level.\r\nSo the only issue, which remains, is that the class is missing in front of the error name, but thats a non issue in my opinion or maybe even an RI bug!\r\nI will file a bug on the RI side for this one!\r\n\r\n**Issue3473IT**: \r\nExpected: Error from form:commandButton\r\nResult: Error from undefined\r\n\r\nWe clearly have a deviation here which needs to be fixed on the client side.\r\nFixed in the downstream code... the source was not passed down as element like the\r\ntext expects it to be.\r\n\r\n-merged already into the pull request\r\n\r\n**Issue3833IT**:\r\n\r\nThe test fails on the third selection, something is problematic in the viewstate handling, but definitely not the client.\r\nThe viewstate is passed correctly down and returned\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<partial-response id=\"j_id__v_0\">\r\n    <changes>\r\n        <update id=\"form:message\"><![CDATA[\r\n            <div id=\"form:message\">null -&gt; 1</div>\r\n            ]]>\r\n        </update>\r\n        <update id=\"j_id__v_0:jakarta.faces.ViewState:1\"><![CDATA[NjVjNmFjMGU5MjY0OWVmMzAwMDAwMDAx]]></update>\r\n    </changes>\r\n</partial-response>\r\n\r\n```\r\n After the update, the Viewstate is definitely\r\nNjVjNmFjMGU5MjY0OWVmMzAwMDAwMDAx\r\n\r\nSo the identifier is passed down correctly\r\nAfter the third attempt following is passed down:\r\n```javascript\r\nform:repeat:0:list=2\r\nform:repeat:1:list=3\r\nform_SUBMIT=1\r\njakarta.faces.ViewState=YzNkZjU3NjY2ZjkwYWZjYTAwMDAwMDAx\r\njakarta.faces.behavior.event=change\r\njakarta.faces.partial.event=change\r\njakarta.faces.source=form:repeat:0:list\r\njakarta.faces.partial.ajax=true\r\nform=form\r\njakarta.faces.partial.execute=form:repeat:0:list\r\njakarta.faces.partial.render=form:message\r\n```\r\n\r\nbut the ViewState is passed down with an element being:\r\n<input type=\"hidden\" name=\"jakarta.faces.ViewState\" id=\"j_id__v_0:jakarta.faces.ViewState:1\" value=\"YzNkZjU3NjY2ZjkwYWZjYTAwMDAwMDAx\" autocomplete=\"off\">\r\n\r\nbut the before value is null instead of 1!!!!\r\nSo the viewtate loses the before value for the testcase and fails\r\nVery likely a server problem, will file a MyFaces bugreport!\r\n\r\n**Spec1296IT**: Test seems to pass correctly, however\r\nThe test references again the html response writer from the com.sun.faces namespace\r\nAnd the regexp in the version string searches for a single quote, we render a double quote however,\r\nboth is correct, but the test fails because of that reason.\r\nAgain bugreport to the RI side of things.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1336971903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1337187920","html_url":"https://github.com/apache/myfaces/pull/404#issuecomment-1337187920","issue_url":"https://api.github.com/repos/apache/myfaces/issues/404","id":1337187920,"node_id":"IC_kwDOB-dSOs5Ps95Q","user":{"login":"tandraschko","id":2485545,"node_id":"MDQ6VXNlcjI0ODU1NDU=","avatar_url":"https://avatars.githubusercontent.com/u/2485545?v=4","gravatar_id":"","url":"https://api.github.com/users/tandraschko","html_url":"https://github.com/tandraschko","followers_url":"https://api.github.com/users/tandraschko/followers","following_url":"https://api.github.com/users/tandraschko/following{/other_user}","gists_url":"https://api.github.com/users/tandraschko/gists{/gist_id}","starred_url":"https://api.github.com/users/tandraschko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandraschko/subscriptions","organizations_url":"https://api.github.com/users/tandraschko/orgs","repos_url":"https://api.github.com/users/tandraschko/repos","events_url":"https://api.github.com/users/tandraschko/events{/privacy}","received_events_url":"https://api.github.com/users/tandraschko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-05T11:39:32Z","updated_at":"2022-12-05T11:39:32Z","author_association":"MEMBER","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1337187920/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1337745728","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1337745728","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1337745728,"node_id":"IC_kwDOB-dSOs5PvGFA","user":{"login":"volosied","id":5934310,"node_id":"MDQ6VXNlcjU5MzQzMTA=","avatar_url":"https://avatars.githubusercontent.com/u/5934310?v=4","gravatar_id":"","url":"https://api.github.com/users/volosied","html_url":"https://github.com/volosied","followers_url":"https://api.github.com/users/volosied/followers","following_url":"https://api.github.com/users/volosied/following{/other_user}","gists_url":"https://api.github.com/users/volosied/gists{/gist_id}","starred_url":"https://api.github.com/users/volosied/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/volosied/subscriptions","organizations_url":"https://api.github.com/users/volosied/orgs","repos_url":"https://api.github.com/users/volosied/repos","events_url":"https://api.github.com/users/volosied/events{/privacy}","received_events_url":"https://api.github.com/users/volosied/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-05T17:06:26Z","updated_at":"2022-12-05T17:06:26Z","author_association":"CONTRIBUTOR","body":"Thanks for testing the codebase against the 2.2 TCK. How did you get it set up to run against MyFaces? I'm curious as my team's only option is testing through Open-Liberty's faces-4.0 feature.\r\n\r\nDid your tests use htmlunit or the Selenium?\r\n\r\nWhich version of the TCK did you use? 4.0.1 or the main branch? We've made numerous challenges so far, and a few of the tests have already been updated (particularly - removing Mojarra specific checks, such as [Issue2674IT](https://github.com/jakartaee/faces/commit/069d2c9b190892af984e59b83d2f8ccd0b61599f)).\r\n\r\nLastly, one issue in the list that I noticed is [Issue2439IT#testDisabledBehaviors](https://github.com/jakartaee/faces/blob/master/tck/faces22/ajax/src/test/java/ee/jakarta/tck/faces/test/servlet30/ajax/Issue2439IT.java#L43). I had spent some time looking at it previously (but haven't made any jira yet) and I agree it's a Java-side issue.  We don't register the handler at all due to the return on this line: https://github.com/apache/myfaces/blob/main/impl/src/main/java/org/apache/myfaces/view/facelets/tag/faces/core/AjaxHandler.java#L391  I removed the return and test still failed because it rendered `onchange=\"\"`.  We'd have to include a empty string check to avoid writing on change. Maybe there's another way to fix it.  Also, the comment just above the return refers to the example below in the JSF 2.0 spec.  Our impl thinks one is an inner and the other an outer handler. \r\n```\r\nFor this example, the inner <f:ajax/> would apply to button1. The outer (wrapping) <f:ajax> would not be applied, since it is the same type of submitting behavior (AjaxBehavior) and the same event type (action).  For this example, since the event types are the same, the inner <f:ajax> event overrides the outer one.\r\n\r\n<f:ajax event=click>\r\n   <h:inputText id=text1>\r\n      <f:ajax event=click/>\r\n   </h:inputText>\r\n</f:ajax>\r\n``` \r\n\r\nI'm not sure if we should challenge this test or try to fix our implementation?  Firstly, Issue2439IT was created due to a syntax error.  Secondly, does it make sense to have two f:ajax tags for h:inputText for the same on change event?  \r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1337745728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1337899980","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1337899980","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1337899980,"node_id":"IC_kwDOB-dSOs5PvrvM","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-05T18:22:25Z","updated_at":"2022-12-05T18:31:56Z","author_association":"CONTRIBUTOR","body":"Hi I forked away the TCK codebase and use Selenium as test base for it running an Embedded Tomcat (the original code uses HTMLUnit and Glassfish) - I already have shared a pull request with Selenium Webdriver ports of the tests into the TCK.\r\n\r\nAs for the embedded Tomcat, I atm have not shared the fork yet on github, but, I will open a Github project tomorrow.\r\n\r\nI atm use the 4.0x branch and the new scripts for testing, the fork, is only for the Ajax parts of the TCK. \r\n\r\nI wanted originally to share it once I have ported all tests over and have fixed everything which I encounter on my side, but I can share the fork if wanted earlier so that you guys can pick it up. \r\n\r\nThe other reason why I have not shared it yet is, that i still have a small problem when starting the tests from the main project, once the tests switch over from one project to another I run into the issue, that the embedded tomcat is not properly shut down, but it works fine as long as you start from a submoudle (jsf22 ajax for instance)\r\n\r\nBut again if the need is there to get your hands on it, then I will open a github public repo for it tomorrow.\r\n\r\n```\r\nI'm not sure if we should challenge this test or try to fix our implementation? Firstly, Issue2439IT was created due to a syntax error. Secondly, does it make sense to have two f:ajax tags for h:inputText for the same on change event?\r\n```\r\n\r\nI dont think this is a huge issue either.. or an issue at all, to my understanding f:ajax never was defined to be nested or serialized, but oh well, the EG should decide that.\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1337899980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1338956652","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1338956652","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1338956652,"node_id":"IC_kwDOB-dSOs5Pztts","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T08:29:12Z","updated_at":"2022-12-06T08:29:12Z","author_association":"CONTRIBUTOR","body":"@volosied I have opened a public github repository with my work so far: https://github.com/werpu/tckworkbench\r\nI also have solved the issue with the multi projects. Theoretically you can now run the tests from the main pom instead of going into the subprojects. Practically the 22 tests will fail, if you exclude those it will start to pass.\r\n\r\nJava11 is required and so is a working chrome installation on the testing machine.\r\n\r\n\r\nMy test setup is:\r\nI compile Myfyces from the pull request (or my local pr branch https://github.com/werpu/myfaces/tree/feature/MYFACES-4466) and then given it already is in the 4.0-SNAPSHOT namespace, just start the tests.\r\n\r\nWhatever is registered under 4.0 snapshot on the local machine is picked up!\r\n\r\nThat way you also can run the tests against the current main (which was not my goal atm but it is possible). \r\n\r\nI have not ported all tests over - due to time constraints, but there is a PR on the jakarta side which has all ported tests, so it is a matter of copy pasting the test over, I will add the tests on the fly, so expect a fuller coverage of the Ajax parts soon.\r\n\r\nRe license, I cannot relicense the TCK, so the workbench is under EPL, however my framework code sitting on top of Selenium adding the missing apis HTMLUnit has for request and response handling and inspection,  is relicensed under ASL2.0 because it is 100% written by me (you can mix EPL and ASL, but the end result will be ESL, the other way around is not possible to my knowledge, so making an ASL2 project out of such a mix is impossible, but it does not matter, we cannot integrate it in MyFaces anyway)\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1338956652/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1338988239","html_url":"https://github.com/apache/myfaces/pull/356#issuecomment-1338988239","issue_url":"https://api.github.com/repos/apache/myfaces/issues/356","id":1338988239,"node_id":"IC_kwDOB-dSOs5Pz1bP","user":{"login":"werpu","id":530547,"node_id":"MDQ6VXNlcjUzMDU0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/530547?v=4","gravatar_id":"","url":"https://api.github.com/users/werpu","html_url":"https://github.com/werpu","followers_url":"https://api.github.com/users/werpu/followers","following_url":"https://api.github.com/users/werpu/following{/other_user}","gists_url":"https://api.github.com/users/werpu/gists{/gist_id}","starred_url":"https://api.github.com/users/werpu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/werpu/subscriptions","organizations_url":"https://api.github.com/users/werpu/orgs","repos_url":"https://api.github.com/users/werpu/repos","events_url":"https://api.github.com/users/werpu/events{/privacy}","received_events_url":"https://api.github.com/users/werpu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-06T08:58:04Z","updated_at":"2022-12-06T10:24:18Z","author_association":"CONTRIBUTOR","body":"TCK Faces 23 Tests\r\n**Spec1412**:\r\n```java\r\n\r\n        button.click();\r\n        page.waitReqJs(Duration.ofMillis(60000));\r\n        assertTrue(page.isInPage(\"Success!\"));\r\n```\r\nFails... \r\n\r\n\r\nNot a client problem, at least not for now\r\nthe eval scripts api does not produce eval attributes in the response\r\n\r\n\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?><partial-response id=\"j_id__v_0\"><changes><update id=\"jakarta.faces.ViewRoot\"><![CDATA[<!DOCTYPE html>\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\"><head>\r\n        <title>JAVASERVERFACES_SPEC_PUBLIC-1412 - Integration Test for new PartialViewContext#getEvalScripts()</title><script src=\"/162dafb2-d50b-48d6-811c-93c15bc1ec6d/jakarta.faces.resource/faces.js.xhtml?ln=jakarta.faces&amp;stage=Development\"></script></head><body><form id=\"form\" name=\"form\" method=\"post\" action=\"/162dafb2-d50b-48d6-811c-93c15bc1ec6d/spec1412.xhtml\" enctype=\"application/x-www-form-urlencoded\"><input id=\"form:button\" name=\"form:button\" type=\"submit\" value=\"foo\" onclick=\"faces.util.chain(this, event,function(event){myfaces.ab(this,event,'action','','@all')}); return false;\" /><input type=\"hidden\" name=\"form_SUBMIT\" value=\"1\" /></form>\r\n        <div id=\"text\"></div><div id=\"jakarta_faces_developmentstage_messages\"></div></body>\r\n</html>]]></update><update id=\"j_id__v_0:jakarta.faces.ViewState:1\"><![CDATA[ZmI1NGJjNTZhNGNmOWQyMjAwMDAwMDAx]]></update></changes>\r\n</partial-response>\r\n\r\n```\r\n\r\nThe original triggered java code is:\r\n```java\r\n    public void addEvalScripts() {\r\n        List<String> evalScripts = FacesContext.getCurrentInstance().getPartialViewContext().getEvalScripts();\r\n        evalScripts.add(\"document.getElementById('text').innerHTML='Success!'\");\r\n        evalScripts.add(\"document.getElementById('form:button').value='bar'\");\r\n    }\r\n\r\n```\r\n\r\nWith a facelets code of:\r\n\r\n```xml\r\n<h:form id=\"form\">\r\n            <h:commandButton id=\"button\" value=\"foo\" action=\"#{spec1412.addEvalScripts}\">\r\n                <f:ajax></f:ajax>\r\n            </h:commandButton>\r\n        </h:form>\r\n```\r\n\r\na render all does not make any difference. So the culprit here really is our implementation\r\n\r\n\r\n**Spec1423**:   \r\n```java\r\nassertTrue(page.findElement(By.id(\"scriptResult\")).getText().trim().equals(\"addedViaInclude\")); \r\n```\r\nfails \r\nThis is also a server side issue, the include component is rendered correctly but the nested component is not resolved, resulting in a html \r\n\r\n```xml\r\n   <my:spec1423ComponentAddedViaInclude />\r\n```\r\n\r\ninstead of the resource definitions defined in:\r\n\r\n```java\r\n@FacesComponent(createTag=true)\r\n@ResourceDependencies({\r\n    @ResourceDependency(library=\"spec1423\", name=\"addedViaInclude.js\"),\r\n    @ResourceDependency(library=\"spec1423\", name=\"addedViaInclude.css\")\r\n})\r\n```\r\n\r\nI will file a bug on both issues against our implementation\r\n\r\n\r\nFaces 4.0 TCK:\r\nBoth tests are failing, but the first test only fails because of Mojarra specific pattern match, functionality wise the results are the same:\r\n```javascript\r\n[ERROR]   Issue5032IT.testExplicitThis:60 f:ajax execute of form2:input2 is still @this expected:<m[ojarra.ab(this,event,'valueChange','@this]','@form')> but was:<m[yfaces.ab(this,event,'valueChange','form2:inputs:input2]','@form')>\r\n[ERROR]   Issue5032IT.testImplicitThis:41 f:ajax execute of form1:input2 is implied as @this expected:<m[ojarra.ab(this,event,'valueChange',0],'@form')> but was:<m[yfaces.ab(this,event,'valueChange',''],'@form')>\r\n[\r\n```\r\n\r\nThe only test which really exposes a bug, and again this is an impl bug where a composite component f:ajax is wrongly resolved:\r\n\r\n```javascript\r\n Spec1567IT.test:42->validateRenderedMarkup:176 input1 and input2 are implied as @this expected:<m[ojarra.ab(this,event,'change','form1:inputs:input1 form1:inputs:input2]','form1:messages')> but was:<m[yfaces.ab(this,event,'change',']','form1:messages')>\r\n```\r\n\r\nHere the render attributes are wrongly resolved and @this is omitted:\r\n\r\n```xml\r\n <f:ajax render=\"@this messages\" />\r\n```\r\n\r\nThis concludes my testing, all issues on my own client side ts codebase are fixed which crawled up. I will file bugreports for the server side issues!\r\n","reactions":{"url":"https://api.github.com/repos/apache/myfaces/issues/comments/1338988239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]