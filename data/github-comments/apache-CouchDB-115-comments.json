[{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1428227206","html_url":"https://github.com/apache/couchdb/issues/4421#issuecomment-1428227206","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4421","id":1428227206,"node_id":"IC_kwDOAAMmUc5VIQSG","user":{"login":"satheeshp2e","id":116266117,"node_id":"U_kgDOBu4UhQ","avatar_url":"https://avatars.githubusercontent.com/u/116266117?v=4","gravatar_id":"","url":"https://api.github.com/users/satheeshp2e","html_url":"https://github.com/satheeshp2e","followers_url":"https://api.github.com/users/satheeshp2e/followers","following_url":"https://api.github.com/users/satheeshp2e/following{/other_user}","gists_url":"https://api.github.com/users/satheeshp2e/gists{/gist_id}","starred_url":"https://api.github.com/users/satheeshp2e/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satheeshp2e/subscriptions","organizations_url":"https://api.github.com/users/satheeshp2e/orgs","repos_url":"https://api.github.com/users/satheeshp2e/repos","events_url":"https://api.github.com/users/satheeshp2e/events{/privacy}","received_events_url":"https://api.github.com/users/satheeshp2e/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-13T16:17:45Z","updated_at":"2023-02-13T16:17:45Z","author_association":"NONE","body":"My bad.\r\nActually installed version of couchdb is: \r\ncouchdb/jammy,now 3.3.1~jammy amd64 [installed]","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1428227206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1428334911","html_url":"https://github.com/apache/couchdb/issues/4421#issuecomment-1428334911","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4421","id":1428334911,"node_id":"IC_kwDOAAMmUc5VIqk_","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-13T17:15:46Z","updated_at":"2023-02-13T18:36:56Z","author_association":"CONTRIBUTOR","body":"Then you have the fixes for erlang, if ipv6 is disabled. Can you remove your system erlang and try again?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1428334911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1429135497","html_url":"https://github.com/apache/couchdb/pull/4423#issuecomment-1429135497","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4423","id":1429135497,"node_id":"IC_kwDOAAMmUc5VLuCJ","user":{"login":"jaydoane","id":51209,"node_id":"MDQ6VXNlcjUxMjA5","avatar_url":"https://avatars.githubusercontent.com/u/51209?v=4","gravatar_id":"","url":"https://api.github.com/users/jaydoane","html_url":"https://github.com/jaydoane","followers_url":"https://api.github.com/users/jaydoane/followers","following_url":"https://api.github.com/users/jaydoane/following{/other_user}","gists_url":"https://api.github.com/users/jaydoane/gists{/gist_id}","starred_url":"https://api.github.com/users/jaydoane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaydoane/subscriptions","organizations_url":"https://api.github.com/users/jaydoane/orgs","repos_url":"https://api.github.com/users/jaydoane/repos","events_url":"https://api.github.com/users/jaydoane/events{/privacy}","received_events_url":"https://api.github.com/users/jaydoane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-14T05:17:04Z","updated_at":"2023-02-14T05:17:04Z","author_association":"CONTRIBUTOR","body":"Closing in favor of https://github.com/apache/couchdb/pull/4424","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1429135497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1430672806","html_url":"https://github.com/apache/couchdb/pull/4425#issuecomment-1430672806","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4425","id":1430672806,"node_id":"IC_kwDOAAMmUc5VRlWm","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-15T02:43:30Z","updated_at":"2023-02-15T02:43:30Z","author_association":"CONTRIBUTOR","body":"+1 if it passes tests","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1430672806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1430956503","html_url":"https://github.com/apache/couchdb/pull/4426#issuecomment-1430956503","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4426","id":1430956503,"node_id":"IC_kwDOAAMmUc5VSqnX","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-15T08:49:21Z","updated_at":"2023-02-15T08:49:44Z","author_association":"CONTRIBUTOR","body":"Hi,\r\n\r\nthank you for digging into this topic. I think it should be `{db}` for all url paths, because it should show the user, thats a dynamic value for a database name. If it's `db` then it looks like a static url path, which it isn't. An equivalent is `{node_name}` which should show the user, that the path is dynamic - dependent of the given node name.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1430956503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1430959108","html_url":"https://github.com/apache/couchdb/pull/4426#issuecomment-1430959108","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4426","id":1430959108,"node_id":"IC_kwDOAAMmUc5VSrQE","user":{"login":"alxndrsn","id":191496,"node_id":"MDQ6VXNlcjE5MTQ5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/191496?v=4","gravatar_id":"","url":"https://api.github.com/users/alxndrsn","html_url":"https://github.com/alxndrsn","followers_url":"https://api.github.com/users/alxndrsn/followers","following_url":"https://api.github.com/users/alxndrsn/following{/other_user}","gists_url":"https://api.github.com/users/alxndrsn/gists{/gist_id}","starred_url":"https://api.github.com/users/alxndrsn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alxndrsn/subscriptions","organizations_url":"https://api.github.com/users/alxndrsn/orgs","repos_url":"https://api.github.com/users/alxndrsn/repos","events_url":"https://api.github.com/users/alxndrsn/events{/privacy}","received_events_url":"https://api.github.com/users/alxndrsn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-15T08:51:35Z","updated_at":"2023-02-15T08:51:35Z","author_association":"CONTRIBUTOR","body":"@big-r81 I agree that would be clearer.  If that's the preferred approach, I can change the PR to use the `/{db}/` format, and remove the guidance shown in the second screenshot.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1430959108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1431296682","html_url":"https://github.com/apache/couchdb/pull/4425#issuecomment-1431296682","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4425","id":1431296682,"node_id":"IC_kwDOAAMmUc5VT9qq","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-15T12:31:19Z","updated_at":"2023-02-15T12:31:19Z","author_association":"CONTRIBUTOR","body":"@jaydoane thanks for improving my work further!  In retrospect, now I see that the version I originally created was a bit clumsy, it should already have been like you did.\r\n\r\nI was able to run Clouseau locally, so please find the test results below when Clouseau is running (all the irrelevant parts of the output is omitted):\r\n\r\n```console\r\n$ make elixir-search\r\n[..]\r\nSearchTest [test/elixir/test/search_test.exs]\r\n  * test search returns all items for POST (404.7ms) [L#126]\r\n  * test clean up search index with invalid design document (110.8ms) [L#217]\r\n  * test drilldown multiple query definitions for POST (145.4ms) [L#204]\r\n  * test drilldown multiple keys multiple values for POST (155.0ms) [L#191]\r\n  * test drilldown single key multiple values for GET (129.1ms) [L#86]\r\n  * test drilldown multiple query definitions for GET (156.2ms) [L#112]\r\n  * test drilldown single key single value for POST (174.8ms) [L#139]\r\n  * test drilldown multiple keys single values for POST (137.1ms) [L#165]\r\n  * test search returns all items for GET (133.9ms) [L#60]\r\n  * test drilldown three keys single values for POST (155.2ms) [L#178]\r\n  * test drilldown single key single value for GET (147.1ms) [L#73]\r\n  * test drilldown single key multiple values for POST (152.8ms) [L#152]\r\n  * test drilldown multiple keys single values for GET (148.9ms) [L#99]\r\n[..]\r\nPartitionSearchTest [test/elixir/test/partition_search_test.exs]\r\n  * test Cannot do global query with partition view (86.1ms) [L#134]\r\n  * test restricted parameters are not allowed in query or body (92.0ms) [L#221]\r\n  * test rejects conflicting partition values (187.1ms) [L#210]\r\n  * test normal search on non-partitioned dbs with over limit (142.0ms) [L#199]\r\n  * test Works with bookmarks and limit (169.9ms) [L#84]\r\n  * test Works with limit using POST for partitioned db (193.5ms) [L#123]\r\n  * test Cannot do partition query with global search ddoc (87.1ms) [L#147]\r\n  * test normal search on non-partitioned dbs without limit (144.1ms) [L#173]\r\n  * test Simple query returns partitioned search results (188.1ms) [L#52]\r\n  * test normal search on non-partitioned dbs with limit (151.0ms) [L#186]\r\n  * test Only returns docs in partition not those in shard (137.4ms) [L#71]\r\n  * test normal search on non-partitioned dbs still work (246.2ms) [L#160]\r\n  * test Works with limit using POST for on non-partitioned db (140.8ms) [L#112]\r\n[..]\r\nFinished in 6.7 seconds (0.00s async, 6.7s sync)\r\n26 tests, 0 failures\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1431296682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1431556003","html_url":"https://github.com/apache/couchdb/issues/4421#issuecomment-1431556003","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4421","id":1431556003,"node_id":"IC_kwDOAAMmUc5VU8-j","user":{"login":"satheeshp2e","id":116266117,"node_id":"U_kgDOBu4UhQ","avatar_url":"https://avatars.githubusercontent.com/u/116266117?v=4","gravatar_id":"","url":"https://api.github.com/users/satheeshp2e","html_url":"https://github.com/satheeshp2e","followers_url":"https://api.github.com/users/satheeshp2e/followers","following_url":"https://api.github.com/users/satheeshp2e/following{/other_user}","gists_url":"https://api.github.com/users/satheeshp2e/gists{/gist_id}","starred_url":"https://api.github.com/users/satheeshp2e/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satheeshp2e/subscriptions","organizations_url":"https://api.github.com/users/satheeshp2e/orgs","repos_url":"https://api.github.com/users/satheeshp2e/repos","events_url":"https://api.github.com/users/satheeshp2e/events{/privacy}","received_events_url":"https://api.github.com/users/satheeshp2e/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-15T15:32:47Z","updated_at":"2023-02-15T15:33:59Z","author_association":"NONE","body":"After disabling ipv6, here is the output of ip command.\r\n$ ip a\r\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\r\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\r\n    inet 127.0.0.1/8 scope host lo\r\n       valid_lft forever preferred_lft forever\r\n    inet6 ::1/128 scope host \r\n       valid_lft forever preferred_lft forever\r\n2: ens5: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 9001 qdisc mq state UP group default qlen 1000\r\n    link/ether xx:xx:xx:xx:xx:xx brd ff:ff:ff:ff:ff:ff\r\n    inet xx.x.xx.x/20 metric 100 brd 10.0.15.255 scope global dynamic ens5\r\n       valid_lft 2869sec preferred_lft 2869sec\r\n3: docker0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc noqueue state DOWN group default \r\n    link/ether xx:xx:xx:xx:xx:xx brd ff:ff:ff:ff:ff:ff\r\n    inet xxx.xx.x.x/16 brd xxx.xx.xxx.xxx scope global docker0\r\n       valid_lft forever preferred_lft forever\r\n\r\nWith this, when starting couchdb service, bind error is not seen, but couchdb is not listening on 5984 and it keeps changing the process id.\r\n\r\n$ ps -aef | grep couchdb\r\ncouchdb   661190       1  0 14:56 ?        00:00:00 /opt/couchdb/bin/../erts-12.3.2.7/bin/beam.smp -K true -A 16 -Bd -- -root /opt/couchdb/bin/.. -progname couchdb -- -home /opt/couchdb -- -boot /opt/couchdb/bin/../releases/3.3.1/couchdb -name couchdb@127.0.0.1 -setcookie 5 -kernel inet_dist_use_interface {127,0,0,1} -kernel error_logger silent -sasl sasl_error_logger false -noshell -noinput -smp enable -ssl session_lifetime 300 -- -config /opt/couchdb/bin/../releases/3.3.1/sys.config --\r\ncouchdb   661201       1  0 14:56 ?        00:00:00 /opt/couchdb/bin/../erts-12.3.2.7/bin/epmd -daemon\r\ncouchdb   661220  661190  0 14:56 ?        00:00:00 erl_child_setup 65536\r\n\r\n$ ps -aef | grep couchdb\r\ncouchdb   661241       1  0 14:56 ?        00:00:00 /opt/couchdb/bin/../erts-12.3.2.7/bin/beam.smp -K true -A 16 -Bd -- -root /opt/couchdb/bin/.. -progname couchdb -- -home /opt/couchdb -- -boot /opt/couchdb/bin/../releases/3.3.1/couchdb -name couchdb@127.0.0.1 -setcookie 5 -kernel inet_dist_use_interface {127,0,0,1} -kernel error_logger silent -sasl sasl_error_logger false -noshell -noinput -smp enable -ssl session_lifetime 300 -- -config /opt/couchdb/bin/../releases/3.3.1/sys.config --\r\ncouchdb   661252       1  0 14:56 ?        00:00:00 /opt/couchdb/bin/../erts-12.3.2.7/bin/epmd -daemon\r\ncouchdb   661271  661241  0 14:56 ?        00:00:00 erl_child_setup 65536\r\n\r\n**sudo systemctl status couchdb**\r\ncouchdb.service - Apache CouchDB\r\n     Loaded: loaded (/lib/systemd/system/couchdb.service; enabled; vendor preset: enabled)\r\n     Active: active (running) since Wed 2023-02-15 15:31:12 UTC; 215ms ago\r\n   Main PID: 703243 (beam.smp)\r\n      Tasks: 37 (limit: 9401)\r\n     Memory: 19.6M\r\n        CPU: 236ms\r\n     CGroup: /system.slice/couchdb.service\r\n             ├─703243 /opt/couchdb/bin/../erts-12.3.2.7/bin/beam.smp -K true -A 16 -Bd -- -root /opt/couchdb/bin/.. -progname couchdb -- -home /opt/couchdb -- -boot /o>\r\n             ├─703254 /opt/couchdb/bin/../erts-12.3.2.7/bin/epmd -daemon\r\n             └─703273 erl_child_setup 65536\r\n\r\nFeb 15 15:31:12 ip-xx-xx-xx-xx systemd[1]: Started Apache CouchDB.\r\n\r\nBut beam.smp is not listening on 5984 port.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1431556003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1432057250","html_url":"https://github.com/apache/couchdb/pull/4426#issuecomment-1432057250","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4426","id":1432057250,"node_id":"IC_kwDOAAMmUc5VW3Wi","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-15T21:27:59Z","updated_at":"2023-02-15T21:27:59Z","author_association":"CONTRIBUTOR","body":"Thank you, @alxndrsn for a very nice improvement @big-r81, for the suggestion to make it consistent.\r\n\r\nWonder if it would be possible to do the same to the rest of the API index?\r\n\r\n<img width=\"420\" alt=\"Screen Shot 2023-02-15 at 4 26 52 PM\" src=\"https://user-images.githubusercontent.com/211822/219171432-62efcebd-01a5-4922-b8c6-d15cddfc19cd.png\">\r\n\r\nI found at least these additional files:\r\n\r\n```\r\napi/ddoc/common.rst\r\napi/ddoc/render.rst\r\napi/ddoc/rewrites.rst\r\napi/ddoc/search.rst\r\napi/ddoc/views.rst\r\napi/document/common.rst\r\napi/document/attachments.rst\r\napi/partitioned-dbs.rst\r\napi/local.rst\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1432057250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1432166563","html_url":"https://github.com/apache/couchdb/pull/4425#issuecomment-1432166563","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4425","id":1432166563,"node_id":"IC_kwDOAAMmUc5VXSCj","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-15T22:40:37Z","updated_at":"2023-02-15T22:40:37Z","author_association":"CONTRIBUTOR","body":"I can confirm that the `elixir-search` target works on Windows as expected.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1432166563/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1432542966","html_url":"https://github.com/apache/couchdb/issues/4421#issuecomment-1432542966","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4421","id":1432542966,"node_id":"IC_kwDOAAMmUc5VYt72","user":{"login":"satheeshp2e","id":116266117,"node_id":"U_kgDOBu4UhQ","avatar_url":"https://avatars.githubusercontent.com/u/116266117?v=4","gravatar_id":"","url":"https://api.github.com/users/satheeshp2e","html_url":"https://github.com/satheeshp2e","followers_url":"https://api.github.com/users/satheeshp2e/followers","following_url":"https://api.github.com/users/satheeshp2e/following{/other_user}","gists_url":"https://api.github.com/users/satheeshp2e/gists{/gist_id}","starred_url":"https://api.github.com/users/satheeshp2e/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satheeshp2e/subscriptions","organizations_url":"https://api.github.com/users/satheeshp2e/orgs","repos_url":"https://api.github.com/users/satheeshp2e/repos","events_url":"https://api.github.com/users/satheeshp2e/events{/privacy}","received_events_url":"https://api.github.com/users/satheeshp2e/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-16T05:33:05Z","updated_at":"2023-02-16T05:33:05Z","author_association":"NONE","body":"> Then you have the fixes for erlang, if ipv6 is disabled. Can you remove your system erlang and try again?\r\n\r\nHow do I remove system erlang ? ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1432542966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1432651507","html_url":"https://github.com/apache/couchdb/issues/4421#issuecomment-1432651507","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4421","id":1432651507,"node_id":"IC_kwDOAAMmUc5VZIbz","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-16T07:41:37Z","updated_at":"2023-02-16T07:41:37Z","author_association":"CONTRIBUTOR","body":"> > Then you have the fixes for erlang, if ipv6 is disabled. Can you remove your system erlang and try again?\r\n> \r\n> How do I remove system erlang ?\r\n\r\nhttps://www.how2shout.com/linux/how-to-install-erlang-on-ubuntu-20-04-lts-linux/#7_Uninstall_or_Remove_Erlang_from_Ubuntu_2004 ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1432651507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1432782111","html_url":"https://github.com/apache/couchdb/pull/4428#issuecomment-1432782111","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4428","id":1432782111,"node_id":"IC_kwDOAAMmUc5VZoUf","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-16T09:29:50Z","updated_at":"2023-02-16T09:29:50Z","author_association":"CONTRIBUTOR","body":"Thanks @nickva !  Maybe @big-r81 could help us to verify the changes and comment about them.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1432782111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1432841582","html_url":"https://github.com/apache/couchdb/pull/4428#issuecomment-1432841582","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4428","id":1432841582,"node_id":"IC_kwDOAAMmUc5VZ21u","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-16T10:12:22Z","updated_at":"2023-02-16T10:12:22Z","author_association":"CONTRIBUTOR","body":"Maybe an additional small nit.\r\nChange\r\n`# target: couch - Build CouchDB core, use ERL_COMPILER_OPTIONS to provide custom compiler's options`\r\nto\r\n`# target: couch - Build CouchDB core, use ERL_COMPILER_OPTIONS to provide custom compiler options`","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1432841582/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1434177828","html_url":"https://github.com/apache/couchdb/issues/4427#issuecomment-1434177828","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4427","id":1434177828,"node_id":"IC_kwDOAAMmUc5Ve9Ek","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-17T06:56:47Z","updated_at":"2023-02-17T06:56:47Z","author_association":"CONTRIBUTOR","body":"You installed CouchDB via the msi installer? Can you install CouchDB into a path without spaces an test again?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1434177828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1434221614","html_url":"https://github.com/apache/couchdb/pull/4426#issuecomment-1434221614","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4426","id":1434221614,"node_id":"IC_kwDOAAMmUc5VfHwu","user":{"login":"alxndrsn","id":191496,"node_id":"MDQ6VXNlcjE5MTQ5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/191496?v=4","gravatar_id":"","url":"https://api.github.com/users/alxndrsn","html_url":"https://github.com/alxndrsn","followers_url":"https://api.github.com/users/alxndrsn/followers","following_url":"https://api.github.com/users/alxndrsn/following{/other_user}","gists_url":"https://api.github.com/users/alxndrsn/gists{/gist_id}","starred_url":"https://api.github.com/users/alxndrsn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alxndrsn/subscriptions","organizations_url":"https://api.github.com/users/alxndrsn/orgs","repos_url":"https://api.github.com/users/alxndrsn/repos","events_url":"https://api.github.com/users/alxndrsn/events{/privacy}","received_events_url":"https://api.github.com/users/alxndrsn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-17T07:24:24Z","updated_at":"2023-02-17T07:24:24Z","author_association":"CONTRIBUTOR","body":"@nickva I've updated for all path variables:\r\n\r\n![Screenshot_2023-02-17_10-23-18](https://user-images.githubusercontent.com/191496/219577412-61c32156-ad35-47fe-99b2-52bb22d87789.png)\r\n![Screenshot_2023-02-17_10-23-02](https://user-images.githubusercontent.com/191496/219577436-cb87fa7f-ea25-466b-8535-702f81188426.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1434221614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1434685648","html_url":"https://github.com/apache/couchdb/issues/4421#issuecomment-1434685648","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4421","id":1434685648,"node_id":"IC_kwDOAAMmUc5Vg5DQ","user":{"login":"ctsatheesh","id":41685744,"node_id":"MDQ6VXNlcjQxNjg1NzQ0","avatar_url":"https://avatars.githubusercontent.com/u/41685744?v=4","gravatar_id":"","url":"https://api.github.com/users/ctsatheesh","html_url":"https://github.com/ctsatheesh","followers_url":"https://api.github.com/users/ctsatheesh/followers","following_url":"https://api.github.com/users/ctsatheesh/following{/other_user}","gists_url":"https://api.github.com/users/ctsatheesh/gists{/gist_id}","starred_url":"https://api.github.com/users/ctsatheesh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctsatheesh/subscriptions","organizations_url":"https://api.github.com/users/ctsatheesh/orgs","repos_url":"https://api.github.com/users/ctsatheesh/repos","events_url":"https://api.github.com/users/ctsatheesh/events{/privacy}","received_events_url":"https://api.github.com/users/ctsatheesh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-17T13:56:24Z","updated_at":"2023-02-17T13:56:24Z","author_association":"NONE","body":"Looks like, ipv6 is not completely disabled in the system. After disabling ipv6(with a reboot of the system), we are able to bring up couchdb and process is listening on 5984 port. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1434685648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1434764920","html_url":"https://github.com/apache/couchdb/issues/4397#issuecomment-1434764920","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4397","id":1434764920,"node_id":"IC_kwDOAAMmUc5VhMZ4","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-17T14:59:07Z","updated_at":"2023-02-17T14:59:07Z","author_association":"CONTRIBUTOR","body":"\r\n```\r\n\r\n[2023-02-17T07:40:34.978Z]   Test LRU limits\r\n\r\n[2023-02-17T07:40:34.978Z]     ets_lru_test:274: -test_limits/2-fun-1- (Max object count ok)...[0.038 s] ok\r\n\r\n[2023-02-17T07:40:34.978Z]     ets_lru_test:279: -test_limits/2-fun-3- (Max size ok)...[0.070 s] ok\r\n\r\n[2023-02-17T07:40:34.978Z]     ets_lru_test:285: -test_limits/2-fun-7- (Expire leaves new entries)...ok\r\n\r\n[2023-02-17T07:40:34.978Z]     ets_lru_test:292: -test_limits/2-fun-5- (Entry was expired)...*failed*\r\n\r\n[2023-02-17T07:40:34.978Z] in function ets_lru_test:'-test_limits/2-fun-5-'/2 (test/ets_lru_test.erl, line 294)\r\n\r\n[2023-02-17T07:40:34.978Z] in call from eunit_test:run_testfun/1 (eunit_test.erl, line 71)\r\n\r\n[2023-02-17T07:40:34.978Z] in call from eunit_proc:run_test/1 (eunit_proc.erl, line 531)\r\n\r\n[2023-02-17T07:40:34.978Z] in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 356)\r\n\r\n[2023-02-17T07:40:34.978Z] in call from eunit_proc:handle_test/2 (eunit_proc.erl, line 514)\r\n\r\n[2023-02-17T07:40:34.978Z] in call from eunit_proc:tests_inorder/3 (eunit_proc.erl, line 456)\r\n\r\n[2023-02-17T07:40:34.978Z] in call from eunit_proc:with_timeout/3 (eunit_proc.erl, line 346)\r\n\r\n[2023-02-17T07:40:34.978Z] in call from eunit_proc:run_group/2 (eunit_proc.erl, line 570)\r\n\r\n[2023-02-17T07:40:34.978Z] **error:{assertEqual,[{module,ets_lru_test},\r\n\r\n[2023-02-17T07:40:34.978Z]               {line,294},\r\n\r\n[2023-02-17T07:40:34.978Z]               {expression,\"ets_lru : lookup ( LRU , foo )\"},\r\n\r\n[2023-02-17T07:40:34.978Z]               {expected,not_found},\r\n\r\n[2023-02-17T07:40:34.978Z]               {value,{ok,bar}}]}\r\n\r\n[2023-02-17T07:40:34.978Z]   output:<<\"\">>\r\n\r\n[2023-02-17T07:40:34.978Z] \r\n\r\n[2023-02-17T07:40:34.978Z]     [done in 0.370 s]\r\n\r\n[2023-02-17T07:40:34.978Z]   Test match functions\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1434764920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1435948658","html_url":"https://github.com/apache/couchdb/issues/4427#issuecomment-1435948658","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4427","id":1435948658,"node_id":"IC_kwDOAAMmUc5VltZy","user":{"login":"Chetan-K-Desai","id":117310263,"node_id":"U_kgDOBv4DNw","avatar_url":"https://avatars.githubusercontent.com/u/117310263?v=4","gravatar_id":"","url":"https://api.github.com/users/Chetan-K-Desai","html_url":"https://github.com/Chetan-K-Desai","followers_url":"https://api.github.com/users/Chetan-K-Desai/followers","following_url":"https://api.github.com/users/Chetan-K-Desai/following{/other_user}","gists_url":"https://api.github.com/users/Chetan-K-Desai/gists{/gist_id}","starred_url":"https://api.github.com/users/Chetan-K-Desai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Chetan-K-Desai/subscriptions","organizations_url":"https://api.github.com/users/Chetan-K-Desai/orgs","repos_url":"https://api.github.com/users/Chetan-K-Desai/repos","events_url":"https://api.github.com/users/Chetan-K-Desai/events{/privacy}","received_events_url":"https://api.github.com/users/Chetan-K-Desai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-19T10:20:18Z","updated_at":"2023-02-19T10:20:18Z","author_association":"NONE","body":"Yes i install it by msi, and without any space,\n\nI already try that,\nAny more guidance! Please ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1435948658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1436473564","html_url":"https://github.com/apache/couchdb/issues/4427#issuecomment-1436473564","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4427","id":1436473564,"node_id":"IC_kwDOAAMmUc5Vntjc","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-20T07:24:23Z","updated_at":"2023-02-20T07:24:23Z","author_association":"CONTRIBUTOR","body":"OK, let us do the following:\r\n\r\n1. Completly uninstall CouchDB\r\n2. Install CouchDB into a directory without spaces\r\n3. Start CouchDB (sigle node), login into Fauxton (web interface) and run run \"Verify CouchDB Installation\"\r\n4. Paste the result\r\n\r\nIf this is all working, please show, what do you change to configure a cluster (changed config files, etc.). ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1436473564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1437341948","html_url":"https://github.com/apache/couchdb/issues/4434#issuecomment-1437341948","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4434","id":1437341948,"node_id":"IC_kwDOAAMmUc5VrBj8","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-20T17:18:55Z","updated_at":"2023-02-20T17:18:55Z","author_association":"CONTRIBUTOR","body":"It's probably because of `list_to_existing_atom` in https://github.com/apache/couchdb/blob/a1fc8075f3e86ec2242eedd2b1bbbd15758515e7/src/couch/src/couch_flags_config.erl#L161\r\n\r\nThere may be a chicken-and-egg problem: we're trying to load the flags before we're loading the first instance or anything creating the partitioned` atom.\r\n\r\nWe should see if `list_to_existing_atom` actually protects us from unauthorized users creating unreasonable amount of atoms (normally are not allowed unrestricted access to populate .ini config files). Or, we could have to predefined somewhere a list of expected atoms which may appear in flags.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1437341948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1438048355","html_url":"https://github.com/apache/couchdb/pull/4437#issuecomment-1438048355","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4437","id":1438048355,"node_id":"IC_kwDOAAMmUc5VtuBj","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-21T08:36:34Z","updated_at":"2023-02-21T08:36:34Z","author_association":"CONTRIBUTOR","body":"At the end, can you squash this into one commit?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1438048355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1438058569","html_url":"https://github.com/apache/couchdb/issues/4435#issuecomment-1438058569","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4435","id":1438058569,"node_id":"IC_kwDOAAMmUc5VtwhJ","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-21T08:42:15Z","updated_at":"2023-02-21T08:42:15Z","author_association":"CONTRIBUTOR","body":"Hi,\r\n\r\nIs this file available/accessable from the file system?\r\nWhat's in your log file?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1438058569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1438367379","html_url":"https://github.com/apache/couchdb/pull/4437#issuecomment-1438367379","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4437","id":1438367379,"node_id":"IC_kwDOAAMmUc5Vu76T","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-21T12:06:24Z","updated_at":"2023-02-21T12:06:24Z","author_association":"CONTRIBUTOR","body":"Shall I squash everything into a single commit?  I kept them separate because it was suggested by the development guidelines, e.g. separate whitespace and code changes, each commit should embody a single logical group of change, and so on.  I am fine with both ways.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1438367379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1438376818","html_url":"https://github.com/apache/couchdb/pull/4437#issuecomment-1438376818","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4437","id":1438376818,"node_id":"IC_kwDOAAMmUc5Vu-Ny","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-21T12:12:43Z","updated_at":"2023-02-21T12:12:43Z","author_association":"CONTRIBUTOR","body":"I would squash it into \"one\" logical piece, for easier reading of the git history. Let us wait what others think... @nickva \r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1438376818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1438903690","html_url":"https://github.com/apache/couchdb/pull/4437#issuecomment-1438903690","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4437","id":1438903690,"node_id":"IC_kwDOAAMmUc5Vw-2K","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-21T18:10:36Z","updated_at":"2023-02-21T18:10:36Z","author_association":"CONTRIBUTOR","body":"Regrouped the commits, hopefully now the PR looks better.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1438903690/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1439007055","html_url":"https://github.com/apache/couchdb/pull/4432#issuecomment-1439007055","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4432","id":1439007055,"node_id":"IC_kwDOAAMmUc5VxYFP","user":{"login":"ckruse","id":175095,"node_id":"MDQ6VXNlcjE3NTA5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/175095?v=4","gravatar_id":"","url":"https://api.github.com/users/ckruse","html_url":"https://github.com/ckruse","followers_url":"https://api.github.com/users/ckruse/followers","following_url":"https://api.github.com/users/ckruse/following{/other_user}","gists_url":"https://api.github.com/users/ckruse/gists{/gist_id}","starred_url":"https://api.github.com/users/ckruse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ckruse/subscriptions","organizations_url":"https://api.github.com/users/ckruse/orgs","repos_url":"https://api.github.com/users/ckruse/repos","events_url":"https://api.github.com/users/ckruse/events{/privacy}","received_events_url":"https://api.github.com/users/ckruse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-21T19:47:42Z","updated_at":"2023-02-21T19:51:52Z","author_association":"NONE","body":"In my tests there is no `<<\"signature\">>` field in purge docs. But besides that, I like your approach! :+1: what do you think of this variant?\r\n\r\nAll other fields don't seem to be particularly suitable to me:\r\n\r\n```\r\n[{<<\"type\">>,<<\"internal_replication\">>},{<<\"updated_on\">>,1677008682},{<<\"purge_seq\">>,12},{<<\"source\">>,<<\"node1@127.0.0.1\">>},{<<\"target\">>,<<\"node2@127.0.0.1\">>},{<<\"range\">>,undefined}]\r\n```\r\n\r\nRegarding tests: will add them tomorrow according to your suggestions. :+1: Thank you very much!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1439007055/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1439014027","html_url":"https://github.com/apache/couchdb/pull/4432#issuecomment-1439014027","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4432","id":1439014027,"node_id":"IC_kwDOAAMmUc5VxZyL","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-21T19:53:26Z","updated_at":"2023-02-21T19:54:47Z","author_association":"CONTRIBUTOR","body":"> In my tests there is no `<<\"signature\">>` field in purge docs. But besides that, I like your approach! 👍 what do you think of this variant?\r\n> \r\n\r\nLooks great, I hadn't considered internal replication purge checkpoints. `\"purge_seq\"` should be enough to avoid accidents, I think.\r\n\r\nAlso you named the function better than I did. Your version is more descriptive.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1439014027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1440703954","html_url":"https://github.com/apache/couchdb/pull/4432#issuecomment-1440703954","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4432","id":1440703954,"node_id":"IC_kwDOAAMmUc5V32XS","user":{"login":"ckruse","id":175095,"node_id":"MDQ6VXNlcjE3NTA5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/175095?v=4","gravatar_id":"","url":"https://api.github.com/users/ckruse","html_url":"https://github.com/ckruse","followers_url":"https://api.github.com/users/ckruse/followers","following_url":"https://api.github.com/users/ckruse/following{/other_user}","gists_url":"https://api.github.com/users/ckruse/gists{/gist_id}","starred_url":"https://api.github.com/users/ckruse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ckruse/subscriptions","organizations_url":"https://api.github.com/users/ckruse/orgs","repos_url":"https://api.github.com/users/ckruse/repos","events_url":"https://api.github.com/users/ckruse/events{/privacy}","received_events_url":"https://api.github.com/users/ckruse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-22T19:48:10Z","updated_at":"2023-02-22T19:48:10Z","author_association":"NONE","body":"Currently I am still working on the tests (I don‘t yet understand why my documents don‘t get created), so I am afraid that creating another btree is beyond my abilities. Sorry.\r\n\r\nBut if you are still interested (I am not sure based on this conversation) I will finish the tests and fix the change requests to make the PR mergable.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1440703954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1440706610","html_url":"https://github.com/apache/couchdb/pull/4432#issuecomment-1440706610","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4432","id":1440706610,"node_id":"IC_kwDOAAMmUc5V33Ay","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-22T19:50:40Z","updated_at":"2023-02-22T19:50:40Z","author_association":"CONTRIBUTOR","body":">  Those local docs can still be fetched, updated, deleted, if you know the ids. Just scrubbing them from the /dbname/_local_docs response is a partial fix.\r\n\r\nNot really, it's a random chance if reading and writting those would work. They are below the cluster level so doc id hashing isn't guaranteed to land it on a right shard\r\n\r\n\r\n```\r\n% http put $DB/db'?q=8'\r\n% http post $DB/db/_bulk_docs docs:='[{}, {}, {}]'\r\n% http $DB/db/_local_docs\r\n      ....\r\n       {\r\n            \"id\": \"_local/shard-sync-lX9QKOM429Elg1zgQVjY2A-k77wY4rMfBIYkHRoBveQXA\",\r\n            \"key\": \"_local/shard-sync-lX9QKOM429Elg1zgQVjY2A-k77wY4rMfBIYkHRoBveQXA\",\r\n            \"value\": {\r\n                \"rev\": \"0-1\"\r\n            }\r\n        }\r\n     ...\r\n}\r\n\r\n\r\n% http $DB/db/_local/shard-sync-lX9QKOM429Elg1zgQVjY2A-k77wY4rMfBIYkHRoBveQXA\r\n{\r\n    \"error\": \"not_found\",\r\n    \"reason\": \"missing\"\r\n}\r\n\r\n```\r\n\r\n> This reminded me that actually nothing stops a user with sufficient privilege from writing a doc of these two forms (not that it would be wise to do so).\r\n\r\nThat's plausible a user who can write to the db can randomly destroy or those checkpoint and mess up mem3 replicator or view purges. I think we're just trying to hide the noise from users not necessarily prevent them from manipulating these documents.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1440706610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1441383670","html_url":"https://github.com/apache/couchdb/issues/3356#issuecomment-1441383670","issue_url":"https://api.github.com/repos/apache/couchdb/issues/3356","id":1441383670,"node_id":"IC_kwDOAAMmUc5V6cT2","user":{"login":"adrienverge","id":5244945,"node_id":"MDQ6VXNlcjUyNDQ5NDU=","avatar_url":"https://avatars.githubusercontent.com/u/5244945?v=4","gravatar_id":"","url":"https://api.github.com/users/adrienverge","html_url":"https://github.com/adrienverge","followers_url":"https://api.github.com/users/adrienverge/followers","following_url":"https://api.github.com/users/adrienverge/following{/other_user}","gists_url":"https://api.github.com/users/adrienverge/gists{/gist_id}","starred_url":"https://api.github.com/users/adrienverge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adrienverge/subscriptions","organizations_url":"https://api.github.com/users/adrienverge/orgs","repos_url":"https://api.github.com/users/adrienverge/repos","events_url":"https://api.github.com/users/adrienverge/events{/privacy}","received_events_url":"https://api.github.com/users/adrienverge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-23T08:43:17Z","updated_at":"2023-02-23T08:43:17Z","author_association":"CONTRIBUTOR","body":"@janl I didn't understand \"*for a AP vs CP system, this is not a bug*\"? Again, this is happening on a **one-node** CouchDB, so is AP / CP relevant here?\r\n\r\nThis bug still happens (a lot, approximately 50× / day), most of the time the database is still not accessible to user after ~7 seconds.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1441383670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1441506630","html_url":"https://github.com/apache/couchdb/pull/4432#issuecomment-1441506630","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4432","id":1441506630,"node_id":"IC_kwDOAAMmUc5V66VG","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-23T10:18:19Z","updated_at":"2023-02-23T10:18:19Z","author_association":"MEMBER","body":"@ckruse Please continue. I agree with Nick that it's worthwhile to suppress these items (by default) from casual viewing in the `/$db/_local_docs` response even if its only a partial solution to the internal use of local documents versus their intended purpose.\r\n\r\nThe suggestion about a new btree was for the wider team, I agree it would be quite a lot to expect someone new to our codebase to deliver. Should we do that, and change the internal uses to write there instead of into the local_btree, we could then come back and revert this work easily enough (as the items to be suppressed would no longer exist).\r\n\r\nThis change improves the current situation, I have no objections.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1441506630/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1441712531","html_url":"https://github.com/apache/couchdb/issues/4439#issuecomment-1441712531","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4439","id":1441712531,"node_id":"IC_kwDOAAMmUc5V7smT","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-23T12:46:52Z","updated_at":"2023-02-23T12:46:52Z","author_association":"CONTRIBUTOR","body":"Is the view getting fully build when you query it?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1441712531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1442069662","html_url":"https://github.com/apache/couchdb/issues/4439#issuecomment-1442069662","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4439","id":1442069662,"node_id":"IC_kwDOAAMmUc5V9Dye","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-23T16:25:35Z","updated_at":"2023-02-23T16:27:30Z","author_association":"CONTRIBUTOR","body":"Try increasing the [[query_server_config] os_process_limit](https://github.com/apache/couchdb/blob/f7cafa30a695c6c00652f0858dcfa90f5d19c35a/rel/overlay/etc/default.ini#L458) to something higher, say 500 and see if that helps.\r\n\r\nDo you see any other errors or crashes in the log? Or use any reduce functions that may produce large results.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1442069662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1442160355","html_url":"https://github.com/apache/couchdb/pull/4432#issuecomment-1442160355","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4432","id":1442160355,"node_id":"IC_kwDOAAMmUc5V9Z7j","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-23T17:25:55Z","updated_at":"2023-02-23T17:25:55Z","author_association":"CONTRIBUTOR","body":"@rnewson good point, these checkpoints and internal docs would ideally live in a separate btree\r\n\r\n@ckruse don't hesitate to reach out for help with tests, they can be a bit daunting to figure out. Feel free to drop by our Slack (https://couchdb.apache.org/#slack) `#dev` channel. My username there `vatamane`.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1442160355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1444513380","html_url":"https://github.com/apache/couchdb/pull/4432#issuecomment-1444513380","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4432","id":1444513380,"node_id":"IC_kwDOAAMmUc5WGYZk","user":{"login":"ckruse","id":175095,"node_id":"MDQ6VXNlcjE3NTA5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/175095?v=4","gravatar_id":"","url":"https://api.github.com/users/ckruse","html_url":"https://github.com/ckruse","followers_url":"https://api.github.com/users/ckruse/followers","following_url":"https://api.github.com/users/ckruse/following{/other_user}","gists_url":"https://api.github.com/users/ckruse/gists{/gist_id}","starred_url":"https://api.github.com/users/ckruse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ckruse/subscriptions","organizations_url":"https://api.github.com/users/ckruse/orgs","repos_url":"https://api.github.com/users/ckruse/repos","events_url":"https://api.github.com/users/ckruse/events{/privacy}","received_events_url":"https://api.github.com/users/ckruse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-24T21:20:07Z","updated_at":"2023-02-24T21:20:28Z","author_association":"NONE","body":"Ok, I guess this PR is ready for review…?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1444513380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1444527546","html_url":"https://github.com/apache/couchdb/pull/4432#issuecomment-1444527546","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4432","id":1444527546,"node_id":"IC_kwDOAAMmUc5WGb26","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-24T21:25:51Z","updated_at":"2023-02-24T21:25:51Z","author_association":"CONTRIBUTOR","body":"@ckruse almost there! Thanks for writting the test. Let's move it to a separate test module and then I think it will be good to go. Make a new module `chttpd_local_docs_tests.erl` and move just your suite and needed helper functions to it.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1444527546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1444541671","html_url":"https://github.com/apache/couchdb/pull/4432#issuecomment-1444541671","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4432","id":1444541671,"node_id":"IC_kwDOAAMmUc5WGfTn","user":{"login":"ckruse","id":175095,"node_id":"MDQ6VXNlcjE3NTA5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/175095?v=4","gravatar_id":"","url":"https://api.github.com/users/ckruse","html_url":"https://github.com/ckruse","followers_url":"https://api.github.com/users/ckruse/followers","following_url":"https://api.github.com/users/ckruse/following{/other_user}","gists_url":"https://api.github.com/users/ckruse/gists{/gist_id}","starred_url":"https://api.github.com/users/ckruse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ckruse/subscriptions","organizations_url":"https://api.github.com/users/ckruse/orgs","repos_url":"https://api.github.com/users/ckruse/repos","events_url":"https://api.github.com/users/ckruse/events{/privacy}","received_events_url":"https://api.github.com/users/ckruse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-24T21:34:18Z","updated_at":"2023-02-24T21:34:18Z","author_association":"NONE","body":"Ok, makes sense. Done :-)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1444541671/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1444585038","html_url":"https://github.com/apache/couchdb/pull/4432#issuecomment-1444585038","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4432","id":1444585038,"node_id":"IC_kwDOAAMmUc5WGp5O","user":{"login":"ckruse","id":175095,"node_id":"MDQ6VXNlcjE3NTA5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/175095?v=4","gravatar_id":"","url":"https://api.github.com/users/ckruse","html_url":"https://github.com/ckruse","followers_url":"https://api.github.com/users/ckruse/followers","following_url":"https://api.github.com/users/ckruse/following{/other_user}","gists_url":"https://api.github.com/users/ckruse/gists{/gist_id}","starred_url":"https://api.github.com/users/ckruse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ckruse/subscriptions","organizations_url":"https://api.github.com/users/ckruse/orgs","repos_url":"https://api.github.com/users/ckruse/repos","events_url":"https://api.github.com/users/ckruse/events{/privacy}","received_events_url":"https://api.github.com/users/ckruse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-24T22:08:59Z","updated_at":"2023-02-24T22:08:59Z","author_association":"NONE","body":"🥳 thanks for merging! And thanks for your support!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1444585038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1444671638","html_url":"https://github.com/apache/couchdb/pull/4443#issuecomment-1444671638","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4443","id":1444671638,"node_id":"IC_kwDOAAMmUc5WG_CW","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-24T23:19:11Z","updated_at":"2023-02-24T23:19:11Z","author_association":"CONTRIBUTOR","body":"@rnewson updated as requested","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1444671638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1445439255","html_url":"https://github.com/apache/couchdb/pull/4446#issuecomment-1445439255","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4446","id":1445439255,"node_id":"IC_kwDOAAMmUc5WJ6cX","user":{"login":"KangTheTerrible","id":7072176,"node_id":"MDQ6VXNlcjcwNzIxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/7072176?v=4","gravatar_id":"","url":"https://api.github.com/users/KangTheTerrible","html_url":"https://github.com/KangTheTerrible","followers_url":"https://api.github.com/users/KangTheTerrible/followers","following_url":"https://api.github.com/users/KangTheTerrible/following{/other_user}","gists_url":"https://api.github.com/users/KangTheTerrible/gists{/gist_id}","starred_url":"https://api.github.com/users/KangTheTerrible/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KangTheTerrible/subscriptions","organizations_url":"https://api.github.com/users/KangTheTerrible/orgs","repos_url":"https://api.github.com/users/KangTheTerrible/repos","events_url":"https://api.github.com/users/KangTheTerrible/events{/privacy}","received_events_url":"https://api.github.com/users/KangTheTerrible/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-26T19:07:45Z","updated_at":"2023-02-26T19:07:45Z","author_association":"CONTRIBUTOR","body":"I'll dig deeper, thanks","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1445439255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1445694572","html_url":"https://github.com/apache/couchdb/issues/4439#issuecomment-1445694572","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4439","id":1445694572,"node_id":"IC_kwDOAAMmUc5WK4xs","user":{"login":"DoubleBoba","id":6170801,"node_id":"MDQ6VXNlcjYxNzA4MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6170801?v=4","gravatar_id":"","url":"https://api.github.com/users/DoubleBoba","html_url":"https://github.com/DoubleBoba","followers_url":"https://api.github.com/users/DoubleBoba/followers","following_url":"https://api.github.com/users/DoubleBoba/following{/other_user}","gists_url":"https://api.github.com/users/DoubleBoba/gists{/gist_id}","starred_url":"https://api.github.com/users/DoubleBoba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DoubleBoba/subscriptions","organizations_url":"https://api.github.com/users/DoubleBoba/orgs","repos_url":"https://api.github.com/users/DoubleBoba/repos","events_url":"https://api.github.com/users/DoubleBoba/events{/privacy}","received_events_url":"https://api.github.com/users/DoubleBoba/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T04:37:59Z","updated_at":"2023-02-27T05:11:00Z","author_association":"NONE","body":"@big-r81, I wait until all tasks in tasks view are done, and only then trying to open view.\r\n\r\n@nickva, thank you for the suggestion. It doesn't help, i even tried 50000, but problem is still here. I don't use any reduce function at all. Tried _count, but result is same.\r\n\r\nAlso I've updated my couchdb installation to 3.3.1, but it doesn't help too.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1445694572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1445744970","html_url":"https://github.com/apache/couchdb/issues/4405#issuecomment-1445744970","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4405","id":1445744970,"node_id":"IC_kwDOAAMmUc5WLFFK","user":{"login":"imskr","id":42062622,"node_id":"MDQ6VXNlcjQyMDYyNjIy","avatar_url":"https://avatars.githubusercontent.com/u/42062622?v=4","gravatar_id":"","url":"https://api.github.com/users/imskr","html_url":"https://github.com/imskr","followers_url":"https://api.github.com/users/imskr/followers","following_url":"https://api.github.com/users/imskr/following{/other_user}","gists_url":"https://api.github.com/users/imskr/gists{/gist_id}","starred_url":"https://api.github.com/users/imskr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imskr/subscriptions","organizations_url":"https://api.github.com/users/imskr/orgs","repos_url":"https://api.github.com/users/imskr/repos","events_url":"https://api.github.com/users/imskr/events{/privacy}","received_events_url":"https://api.github.com/users/imskr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T05:47:37Z","updated_at":"2023-02-27T05:47:37Z","author_association":"NONE","body":"Can I work on this? I'm new to this project","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1445744970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1445770954","html_url":"https://github.com/apache/couchdb/issues/4405#issuecomment-1445770954","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4405","id":1445770954,"node_id":"IC_kwDOAAMmUc5WLLbK","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T06:15:24Z","updated_at":"2023-02-27T06:15:24Z","author_association":"CONTRIBUTOR","body":"> Can I work on this? I'm new to this project\r\n\r\n@imskr \r\nSure! 👍","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1445770954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1446104329","html_url":"https://github.com/apache/couchdb/issues/4439#issuecomment-1446104329","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4439","id":1446104329,"node_id":"IC_kwDOAAMmUc5WMc0J","user":{"login":"DoubleBoba","id":6170801,"node_id":"MDQ6VXNlcjYxNzA4MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6170801?v=4","gravatar_id":"","url":"https://api.github.com/users/DoubleBoba","html_url":"https://github.com/DoubleBoba","followers_url":"https://api.github.com/users/DoubleBoba/followers","following_url":"https://api.github.com/users/DoubleBoba/following{/other_user}","gists_url":"https://api.github.com/users/DoubleBoba/gists{/gist_id}","starred_url":"https://api.github.com/users/DoubleBoba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DoubleBoba/subscriptions","organizations_url":"https://api.github.com/users/DoubleBoba/orgs","repos_url":"https://api.github.com/users/DoubleBoba/repos","events_url":"https://api.github.com/users/DoubleBoba/events{/privacy}","received_events_url":"https://api.github.com/users/DoubleBoba/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T10:50:55Z","updated_at":"2023-02-27T10:50:55Z","author_association":"NONE","body":"Installed couchdb locally on my macbook and have got exactly same problem with same data. I found that there are document with more than 120mb of data. I have deleted this document from database and view was loaded successfully. But it doesn't eliminate the problem. I need this document to be in my database and i cannot see any problem for couch to hold and process it.  My `max_document_size` is equals to 524288000 (500mb).\r\n\r\nFact that couchdb doesn't provide any meaningful error message is very frustrating. Process obviously doesn't time out, it just fails at some point. I've enabled debug logs and found the id of last processed document logged before error has happened and it was exactly same id that I've deleted. I tried to increase all possible process limits but it didn't affect situation at all. It continued to fail after 5-10 seconds when i opened view. \r\n\r\nQuestion is still here: how to eliminate the error and put 120mb document to database?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1446104329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1446200640","html_url":"https://github.com/apache/couchdb/issues/4439#issuecomment-1446200640","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4439","id":1446200640,"node_id":"IC_kwDOAAMmUc5WM0VA","user":{"login":"DoubleBoba","id":6170801,"node_id":"MDQ6VXNlcjYxNzA4MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6170801?v=4","gravatar_id":"","url":"https://api.github.com/users/DoubleBoba","html_url":"https://github.com/DoubleBoba","followers_url":"https://api.github.com/users/DoubleBoba/followers","following_url":"https://api.github.com/users/DoubleBoba/following{/other_user}","gists_url":"https://api.github.com/users/DoubleBoba/gists{/gist_id}","starred_url":"https://api.github.com/users/DoubleBoba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DoubleBoba/subscriptions","organizations_url":"https://api.github.com/users/DoubleBoba/orgs","repos_url":"https://api.github.com/users/DoubleBoba/repos","events_url":"https://api.github.com/users/DoubleBoba/events{/privacy}","received_events_url":"https://api.github.com/users/DoubleBoba/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T11:58:46Z","updated_at":"2023-02-27T11:58:46Z","author_association":"NONE","body":"After some research i've got much more ridiculous behavior. I've loaded big document back to reproduce error again and for some reason error is different now. It just crashes with out of memory after it eats all available 10GB of available RAM.\r\n```\r\ncouchdb-couchdb-1  | out of memory\r\ncouchdb-couchdb-1  | [error] 2023-02-27T11:43:22.305878Z nonode@nohost <0.735.0> -------- OS Process Error <0.756.0> :: {os_process_error,{exit_status,1}}\r\ncouchdb-couchdb-1  | [info] 2023-02-27T11:43:22.305884Z nonode@nohost <0.274.0> -------- couch_proc_manager <0.756.0> died normal\r\ncouchdb-couchdb-1  | [error] 2023-02-27T11:43:22.306495Z nonode@nohost <0.719.0> 7f0651721d rexi_server: from: nonode@nohost(<0.562.0>) mfa: fabric_rpc:map_view/5 throw:{os_process_error,{exit_status,1}} [{couch_mrview_util,get_view_index_state,5,[{file,\"src/couch_mrview_util.erl\"},{line,208}]},{couch_mrview_util,get_view,4,[{file,\"src/couch_mrview_util.erl\"},{line,153}]},{couch_mrview,query_view,6,[{file,\"src/couch_mrview.erl\"},{line,286}]},{rexi_server,init_p,3,[{file,\"src/rexi_server.erl\"},{line,146}]}]\r\ncouchdb-couchdb-1  | [error] 2023-02-27T11:43:22.306650Z nonode@nohost emulator -------- Error in process <0.735.0> with exit value:\r\ncouchdb-couchdb-1  | {{nocatch,{os_process_error,{exit_status,1}}},[{couch_os_process,prompt,2,[{file,\"src/couch_os_process.erl\"},{line,59}]},{couch_query_servers,map_doc_raw,2,[{file,\"src/couch_query_servers.erl\"},{line,73}]},{couch_mrview_updater,'-map_docs/2-fun-0-',3,[{file,\"src/couch_mrview_updater.erl\"},{line,174}]},{lists,foldl,3,[{file,\"lists.erl\"},{line,1267}]},{couch_mrview_updater,map_docs,2,[{file,\"src/couch_mrview_updater.erl\"},{line,181}]}]}\r\ncouchdb-couchdb-1  |\r\ncouchdb-couchdb-1  | [error] 2023-02-27T11:43:22.306791Z nonode@nohost emulator -------- Error in process <0.735.0> with exit value:\r\ncouchdb-couchdb-1  | {{nocatch,{os_process_error,{exit_status,1}}},[{couch_os_process,prompt,2,[{file,\"src/couch_os_process.erl\"},{line,59}]},{couch_query_servers,map_doc_raw,2,[{file,\"src/couch_query_servers.erl\"},{line,73}]},{couch_mrview_updater,'-map_docs/2-fun-0-',3,[{file,\"src/couch_mrview_updater.erl\"},{line,174}]},{lists,foldl,3,[{file,\"lists.erl\"},{line,1267}]},{couch_mrview_updater,map_docs,2,[{file,\"src/couch_mrview_updater.erl\"},{line,181}]}]}\r\ncouchdb-couchdb-1  |\r\ncouchdb-couchdb-1  | [error] 2023-02-27T11:43:22.306886Z nonode@nohost <0.562.0> 7f0651721d req_err(810725583) os_process_error : {exit_status,1}\r\ncouchdb-couchdb-1  |     [<<\"couch_mrview_util:get_view_index_state/5 L208\">>,<<\"couch_mrview_util:get_view/4 L153\">>,<<\"couch_mrview:query_view/6 L286\">>,<<\"rexi_server:init_p/3 L146\">>]\r\ncouchdb-couchdb-1  | [notice] 2023-02-27T11:43:22.307330Z nonode@nohost <0.562.0> 7f0651721d localhost:25984 172.18.0.1 admin GET /nvd/_design/test_view/_view/new-view?reduce=false&skip=0&limit=21 500 ok 13040\r\ncouchdb-couchdb-1  | [debug] 2023-02-27T11:45:08.436952Z nonode@nohost <0.723.0> -------- Index shutdown by monitor notice for db: shards/80000000-ffffffff/nvd.1677477593 idx: _design/test_view\r\ncouchdb-couchdb-1  | [debug] 2023-02-27T11:45:08.437287Z nonode@nohost <0.723.0> -------- Closing index for db: shards/80000000-ffffffff/nvd.1677477593 idx: _design/test_view sig: \"9a0adb2bcc4e63b9bb9de044429dd869\" because normal\r\ncouchdb-couchdb-1  | [debug] 2023-02-27T11:46:09.438794Z nonode@nohost <0.724.0> -------- Index shutdown by monitor notice for db: shards/00000000-7fffffff/nvd.1677477593 idx: _design/test_view\r\ncouchdb-couchdb-1  | [debug] 2023-02-27T11:46:09.439016Z nonode@nohost <0.724.0> -------- Closing index for db: shards/00000000-7fffffff/nvd.1677477593 idx: _design/test_view sig: \"9a0adb2bcc4e63b9bb9de044429dd869\" because normal\r\n```\r\nIt happens while processing exactly same document. Checked my another server with same problem and memory usage is normal while i still get os process timed out error.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1446200640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1446424808","html_url":"https://github.com/apache/couchdb/issues/4439#issuecomment-1446424808","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4439","id":1446424808,"node_id":"IC_kwDOAAMmUc5WNrDo","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T14:29:38Z","updated_at":"2023-02-27T15:40:21Z","author_association":"CONTRIBUTOR","body":"Hi,\r\n\r\nsome suggestions:\r\n\r\n1. You shouldn't put such large documents in your db.\r\n2. Did your view process this large file? Can you exclude it from view-processing?\r\n3. You can also try to increase `[couchdb] os_process_timeout`, but I'm really shure you hit an request timeout.\r\n4. Try to increase `[fabric] request_timeout`.\r\n5. Maybe you hit the memory limit of the Javascript view server (default 64MB).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1446424808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1446556794","html_url":"https://github.com/apache/couchdb/issues/4439#issuecomment-1446556794","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4439","id":1446556794,"node_id":"IC_kwDOAAMmUc5WOLR6","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T15:38:19Z","updated_at":"2023-02-27T15:38:38Z","author_association":"CONTRIBUTOR","body":"@big-r81 good idea about couchjs memory limit.\r\n\r\nSeeing `{{nocatch,{os_process_error,{exit_status,1}}},` point to that as well. \r\n\r\nWith documents that large couchjs process will crash because it has a heap size limit of 64Mb by default. You can try to increase using the `-S ...` parameter. That parameter can be inserted in the  `COUCHDB_QUERY_SERVER_JAVASCRIPT=\".../couchjs -S 536870912 .../main.js`.  Normally that's defined in `bin/couchdb` startup script but you can set it outside of it and it will take your value. \r\n\r\nSee https://docs.couchdb.org/en/stable/config/query-servers.html#query-servers-definition for more info about it\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1446556794/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1447073535","html_url":"https://github.com/apache/couchdb/issues/4442#issuecomment-1447073535","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4442","id":1447073535,"node_id":"IC_kwDOAAMmUc5WQJb_","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T20:54:28Z","updated_at":"2023-02-27T21:14:40Z","author_association":"CONTRIBUTOR","body":"A basic TLS request to google or postman-echo seems to work from a FIPS-enabled instance:\r\n\r\n```\r\nhttpc:request(get, {\"https://postman-echo.com/post\", []}, [], []).\r\n```\r\n\r\nBut the default cipher list from `ssl` app list shows un-approved ciphers:\r\n\r\n```\r\n[erlang:display(S) || S <- ssl:cipher_suites(default, 'tlsv1.2', openssl)], ok.\r\n...\r\n\"ECDHE-ECDSA-CHACHA20-POLY1305\"\r\n\"ECDHE-RSA-CHACHA20-POLY1305\"\r\n...\r\n```\r\nThat may be expected since if we filter algorithms to the ones supported by crypto lib (OpenSSL) then we get a better list:\r\n\r\n```\r\n[erlang:display(ssl:suite_to_openssl_str(S)) || S <- ssl:filter_cipher_suites(ssl:cipher_suites(default, 'tlsv1.2'), [])], ok.\r\n\"ECDHE-ECDSA-AES256-GCM-SHA384\"\r\n\"ECDHE-RSA-AES256-GCM-SHA384\"\r\n\"ECDHE-ECDSA-AES256-CCM\"\r\n\"ECDHE-ECDSA-AES256-CCM8\"\r\n\"ECDHE-ECDSA-AES256-SHA384\"\r\n\"ECDHE-RSA-AES256-SHA384\"\r\n\"ECDHE-ECDSA-AES128-GCM-SHA256\"\r\n\"ECDHE-RSA-AES128-GCM-SHA256\"\r\n\"ECDHE-ECDSA-AES128-CCM\"\r\n\"ECDHE-ECDSA-AES128-CCM8\"\r\n\"ECDH-ECDSA-AES256-GCM-SHA384\"\r\n\"ECDH-RSA-AES256-GCM-SHA384\"\r\n\"ECDH-ECDSA-AES256-SHA384\"\r\n\"ECDH-RSA-AES256-SHA384\"\r\n\"ECDH-ECDSA-AES128-GCM-SHA256\"\r\n\"ECDH-RSA-AES128-GCM-SHA256\"\r\n\"ECDHE-ECDSA-AES128-SHA256\"\r\n\"ECDHE-RSA-AES128-SHA256\"\r\n\"ECDH-ECDSA-AES128-SHA256\"\r\n\"ECDH-RSA-AES128-SHA256\"\r\n\"DHE-RSA-AES256-GCM-SHA384\"\r\n\"DHE-DSS-AES256-GCM-SHA384\"\r\n\"DHE-RSA-AES256-SHA256\"\r\n\"DHE-DSS-AES256-SHA256\"\r\n\"DHE-RSA-AES128-GCM-SHA256\"\r\n\"DHE-DSS-AES128-GCM-SHA256\"\r\n\"DHE-RSA-AES128-SHA256\"\r\n\"DHE-DSS-AES128-SHA256\"\r\n\"ECDHE-ECDSA-AES256-SHA\"\r\n\"ECDHE-RSA-AES256-SHA\"\r\n\"ECDH-ECDSA-AES256-SHA\"\r\n\"ECDH-RSA-AES256-SHA\"\r\n\"ECDHE-ECDSA-AES128-SHA\"\r\n\"ECDHE-RSA-AES128-SHA\"\r\n\"ECDH-ECDSA-AES128-SHA\"\r\n\"ECDH-RSA-AES128-SHA\"\r\n\"DHE-RSA-AES256-SHA\"\r\n\"DHE-DSS-AES256-SHA\"\r\n\"DHE-RSA-AES128-SHA\"\r\n\"DHE-DSS-AES128-SHA\"\r\n```\r\n\r\nI didn't verify that they actually match with the FIPS approved list, but at least it does seem to filter out ChaCha20 and Poly1305 curve ones.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1447073535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1447106072","html_url":"https://github.com/apache/couchdb/issues/4448#issuecomment-1447106072","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4448","id":1447106072,"node_id":"IC_kwDOAAMmUc5WQRYY","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T21:19:27Z","updated_at":"2023-02-27T21:19:56Z","author_association":"CONTRIBUTOR","body":"Great initiative @nickva!  According to its web site, the last release of QuickJS was almost 2 years ago.  Would not it cause problems or is this actually an advantage (because it suggests stability)?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1447106072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1447111213","html_url":"https://github.com/apache/couchdb/issues/4448#issuecomment-1447111213","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4448","id":1447111213,"node_id":"IC_kwDOAAMmUc5WQSot","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T21:23:09Z","updated_at":"2023-02-27T21:23:26Z","author_association":"CONTRIBUTOR","body":"@pgj a stable and simple API geared for embedding would be an advantage as opposed chasing a fast moving API made for Web browsers.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1447111213/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1447196423","html_url":"https://github.com/apache/couchdb/issues/4448#issuecomment-1447196423","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4448","id":1447196423,"node_id":"IC_kwDOAAMmUc5WQncH","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-27T22:14:34Z","updated_at":"2023-02-27T22:14:34Z","author_association":"CONTRIBUTOR","body":"https://gist.github.com/nickva/08f6100af20d23cde6dbdd65911c02e0\r\n\r\nA very quick and dirty benchmark of basic startup and init differences between QuickJS and SM 91. It just times initializing an empty runtime and context. then free-ing and exiting the process.\r\n\r\nSome example runs from the gist (see that for actual patches) and more run times:\r\n\r\n**SM91**\r\n```\r\n% ./configure --dev --spidermonkey-version 91 && make\r\n% TIMEFMT=$'Total (sec): \\t%*E\\nMax RSS(kb): \\t%M\\n'\r\n% time ./couchjs\r\n\r\nInit (usec): \t755.000000\r\nFree (usec): \t772.000000\r\nTotal (sec): \t0.016\r\nMax RSS(kb): \t3336\r\n```\r\n\r\n**QuickJS**\r\n```\r\n% ./configure --dev --spidermonkey-version quickjs && make\r\n% TIMEFMT=$'Total (sec): \\t%*E\\nMax RSS(kb): \\t%M\\n'\r\n% time ./couchjs\r\n\r\nInit (usec): \t372.000000\r\nFree (usec): \t102.000000\r\nTotal (sec): \t0.008\r\nMax RSS(kb): \t980\r\n```\r\n\r\nTime-wise it looks about 2x as fast to initialize and takes about 3x less memory so at least is shows some promise there.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1447196423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1447644325","html_url":"https://github.com/apache/couchdb/issues/4439#issuecomment-1447644325","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4439","id":1447644325,"node_id":"IC_kwDOAAMmUc5WSUyl","user":{"login":"DoubleBoba","id":6170801,"node_id":"MDQ6VXNlcjYxNzA4MDE=","avatar_url":"https://avatars.githubusercontent.com/u/6170801?v=4","gravatar_id":"","url":"https://api.github.com/users/DoubleBoba","html_url":"https://github.com/DoubleBoba","followers_url":"https://api.github.com/users/DoubleBoba/followers","following_url":"https://api.github.com/users/DoubleBoba/following{/other_user}","gists_url":"https://api.github.com/users/DoubleBoba/gists{/gist_id}","starred_url":"https://api.github.com/users/DoubleBoba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DoubleBoba/subscriptions","organizations_url":"https://api.github.com/users/DoubleBoba/orgs","repos_url":"https://api.github.com/users/DoubleBoba/repos","events_url":"https://api.github.com/users/DoubleBoba/events{/privacy}","received_events_url":"https://api.github.com/users/DoubleBoba/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-28T06:14:08Z","updated_at":"2023-02-28T06:14:08Z","author_association":"NONE","body":"@nickva, thank you. It works as expected now. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1447644325/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1454236489","html_url":"https://github.com/apache/couchdb/issues/4451#issuecomment-1454236489","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4451","id":1454236489,"node_id":"IC_kwDOAAMmUc5WreNJ","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-03T22:58:35Z","updated_at":"2023-03-28T05:03:14Z","author_association":"CONTRIBUTOR","body":"I have observed this oddness too. I think it's because of how slide_uniform histograms are used for statistics \r\n\r\n\r\nThe update code seems to be in [couchdb-folsom](https://github.com/apache/couchdb-folsom/blob/67742acd21b561343ff9e3075f017201852a6424/src/folsom_sample_slide_uniform.erl#L42-L56)\r\n\r\nThe initialization code is: https://github.com/apache/couchdb/blob/c0b8839bf28bd2c914d71a4dfafd3ea508c3040a/src/couch_stats/src/couch_stats.erl#L61-L62 where `DEFAULT_INTERVAL` is `10` (seconds)\r\n\r\nThe histogram might work better with a constant stream of requests and fails on rare, intermittent ones.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1454236489/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1454795820","html_url":"https://github.com/apache/couchdb/issues/4397#issuecomment-1454795820","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4397","id":1454795820,"node_id":"IC_kwDOAAMmUc5Wtmws","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-04T16:32:52Z","updated_at":"2023-03-04T16:32:52Z","author_association":"CONTRIBUTOR","body":"I think that clears most of the common flaky tests we saw. Please re-open and add more flaky tests if you find any.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1454795820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1455889707","html_url":"https://github.com/apache/couchdb/issues/4450#issuecomment-1455889707","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4450","id":1455889707,"node_id":"IC_kwDOAAMmUc5Wxx0r","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-06T10:40:11Z","updated_at":"2023-03-06T10:40:11Z","author_association":"CONTRIBUTOR","body":"Hi,\r\n\r\nit should be safe to remove those files manually (do a bykup for safety reasons), if you removed the db from the cluster. I would additional check the membership of your nodes to see, if the cluster has all nodes. I recommend you think about updating to the latest version, there are many security fixes and other improvments. I will close this for now, if you have any further questions, please reopen this thread.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1455889707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1456072709","html_url":"https://github.com/apache/couchdb/issues/4456#issuecomment-1456072709","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4456","id":1456072709,"node_id":"IC_kwDOAAMmUc5WyegF","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-06T12:49:04Z","updated_at":"2023-03-06T12:49:04Z","author_association":"CONTRIBUTOR","body":"Hi @8thblock,\r\n\r\nwould you like to make a PR to fix this?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1456072709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1456081474","html_url":"https://github.com/apache/couchdb/issues/4450#issuecomment-1456081474","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4450","id":1456081474,"node_id":"IC_kwDOAAMmUc5WygpC","user":{"login":"remi0023","id":6489491,"node_id":"MDQ6VXNlcjY0ODk0OTE=","avatar_url":"https://avatars.githubusercontent.com/u/6489491?v=4","gravatar_id":"","url":"https://api.github.com/users/remi0023","html_url":"https://github.com/remi0023","followers_url":"https://api.github.com/users/remi0023/followers","following_url":"https://api.github.com/users/remi0023/following{/other_user}","gists_url":"https://api.github.com/users/remi0023/gists{/gist_id}","starred_url":"https://api.github.com/users/remi0023/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/remi0023/subscriptions","organizations_url":"https://api.github.com/users/remi0023/orgs","repos_url":"https://api.github.com/users/remi0023/repos","events_url":"https://api.github.com/users/remi0023/events{/privacy}","received_events_url":"https://api.github.com/users/remi0023/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-06T12:56:21Z","updated_at":"2023-03-06T12:56:21Z","author_association":"NONE","body":"Hi,\r\n\r\nI have moved the files away and it worked out without any problems.:)\r\nThanks a lot for your help and have a good day. M","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1456081474/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1456224009","html_url":"https://github.com/apache/couchdb/pull/4457#issuecomment-1456224009","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4457","id":1456224009,"node_id":"IC_kwDOAAMmUc5WzDcJ","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-06T14:19:45Z","updated_at":"2023-03-06T14:19:45Z","author_association":"CONTRIBUTOR","body":"Hi @jiahuili430,\r\n\r\nthanks for taking a look and fixing this. Do you only concentrate to fix the `/_replicate` endpoint, or do you search for other occurences of this behavior in the docs as Nick suggested?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1456224009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1456233902","html_url":"https://github.com/apache/couchdb/pull/4457#issuecomment-1456233902","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4457","id":1456233902,"node_id":"IC_kwDOAAMmUc5WzF2u","user":{"login":"jiahuili430","id":54631519,"node_id":"MDQ6VXNlcjU0NjMxNTE5","avatar_url":"https://avatars.githubusercontent.com/u/54631519?v=4","gravatar_id":"","url":"https://api.github.com/users/jiahuili430","html_url":"https://github.com/jiahuili430","followers_url":"https://api.github.com/users/jiahuili430/followers","following_url":"https://api.github.com/users/jiahuili430/following{/other_user}","gists_url":"https://api.github.com/users/jiahuili430/gists{/gist_id}","starred_url":"https://api.github.com/users/jiahuili430/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiahuili430/subscriptions","organizations_url":"https://api.github.com/users/jiahuili430/orgs","repos_url":"https://api.github.com/users/jiahuili430/repos","events_url":"https://api.github.com/users/jiahuili430/events{/privacy}","received_events_url":"https://api.github.com/users/jiahuili430/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-06T14:24:52Z","updated_at":"2023-03-06T14:24:52Z","author_association":"CONTRIBUTOR","body":"I only checked the `1.7.4 Replication` and `2. Replication` sections.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1456233902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1462482448","html_url":"https://github.com/apache/couchdb/issues/4459#issuecomment-1462482448","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4459","id":1462482448,"node_id":"IC_kwDOAAMmUc5XK7YQ","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-09T17:39:33Z","updated_at":"2023-03-09T23:14:51Z","author_association":"CONTRIBUTOR","body":"We go through https://www.erlang.org/doc/man/file.html#rename-2 Erlang's wrapper and we rely on POSIX rename atomicity guarantees during compaction file swapping. However, the Erlang API doesn't mention it provides any atomicity. We know on unix-y systems it would patch to the `rename(2)` system call, as evidenced [here](https://github.com/erlang/otp/blob/master/erts/emulator/nifs/unix/unix_prim_file.c#L943). And then, of course, it would matter that the file system itself has POSIX semantics.\r\n\r\nFor Windows it's not clear if atomicity holds based on [win_prim_file.c](https://github.com/erlang/otp/blob/master/erts/emulator/nifs/win32/win_prim_file.c#L1300-L1360)\r\n\r\n```c\r\n           /* This is pretty iffy; the public documentation says that the\r\n             * operation may EACCES on some systems when either file is open,\r\n             * which gives us room to use MOVEFILE_REPLACE_EXISTING and be done\r\n             * with it, but the old implementation simulated Unix semantics and\r\n             * there's a lot of code that relies on that.\r\n             *\r\n             * The simulation renames the destination to a scratch name to get\r\n             * around the fact that it's impossible to open (and by extension\r\n             * rename) a file that's been deleted while open. It has a few\r\n             * drawbacks though;\r\n             *\r\n             * 1) It's not atomic as there's a small window where there's no\r\n             *    file at all on the destination path.\r\n             * 2) It will confuse applications that subscribe to folder\r\n             *    changes.\r\n             * 3) It will fail if we lack general permission to write in the\r\n             *    same folder. */\r\n\r\n```\r\n\r\nSo at least as far as all of Windows usage is concerned for us we probably should not recommend or encourage production usage of it, just like we don't for network mounted file system. It's great for testing and trying things out though, of course.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1462482448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1462519128","html_url":"https://github.com/apache/couchdb/issues/4459#issuecomment-1462519128","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4459","id":1462519128,"node_id":"IC_kwDOAAMmUc5XLEVY","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-09T18:00:07Z","updated_at":"2023-03-09T18:10:12Z","author_association":"CONTRIBUTOR","body":"Another interesting thing in regards to WSL2 is that Windows files are effectively accessed as a remote file system [via the 9P protocol](https://devblogs.microsoft.com/commandline/whats-new-for-wsl-in-windows-10-version-1903/#how-it-works). That might explain toot.cat user's `ENOENT` error, as they described it a bit further down. It's one of the signs of users trying to use NFS (a remote FS) as a POSIX file system as seen [here](https://serverfault.com/questions/817887/rename-on-nfs-atomicity)\r\n\r\nIn a weird twist of fate, it may be that it's actually safer to use WSL2 with Linux-only (in VM) files than using Windows or WSL2 and mounting Windows paths into the VM.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1462519128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1463769701","html_url":"https://github.com/apache/couchdb/issues/4466#issuecomment-1463769701","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4466","id":1463769701,"node_id":"IC_kwDOAAMmUc5XP1pl","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-10T12:59:23Z","updated_at":"2023-03-10T12:59:23Z","author_association":"MEMBER","body":"what happens if you `curl http://127.0.0.1:15984/`?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1463769701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1463771382","html_url":"https://github.com/apache/couchdb/issues/4462#issuecomment-1463771382","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4462","id":1463771382,"node_id":"IC_kwDOAAMmUc5XP2D2","user":{"login":"janl","id":11321,"node_id":"MDQ6VXNlcjExMzIx","avatar_url":"https://avatars.githubusercontent.com/u/11321?v=4","gravatar_id":"","url":"https://api.github.com/users/janl","html_url":"https://github.com/janl","followers_url":"https://api.github.com/users/janl/followers","following_url":"https://api.github.com/users/janl/following{/other_user}","gists_url":"https://api.github.com/users/janl/gists{/gist_id}","starred_url":"https://api.github.com/users/janl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/janl/subscriptions","organizations_url":"https://api.github.com/users/janl/orgs","repos_url":"https://api.github.com/users/janl/repos","events_url":"https://api.github.com/users/janl/events{/privacy}","received_events_url":"https://api.github.com/users/janl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-10T13:00:41Z","updated_at":"2023-03-10T13:00:41Z","author_association":"MEMBER","body":"can you share a concrete example of JS functions that you think should not reset the index?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1463771382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1463777101","html_url":"https://github.com/apache/couchdb/issues/4466#issuecomment-1463777101","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4466","id":1463777101,"node_id":"IC_kwDOAAMmUc5XP3dN","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-10T13:05:11Z","updated_at":"2023-03-10T13:05:11Z","author_association":"CONTRIBUTOR","body":"> what happens if you `curl http://127.0.0.1:15984/`?\r\n\r\nall other things seem to work...\r\n\r\n```\r\nPS C:\\relax\\couchdb> curl.exe -s http://a:a@127.0.0.1:15984\r\n\r\n{\"couchdb\":\"Welcome\",\"version\":\"3.3.1-8ec7b57\",\"git_sha\":\"8ec7b57\",\"uuid\":\"fake_uuid_for_dev\",\"features\":[\"access-ready\",\"partitioned\",\"pluggable-storage-engines\",\"reshard\",\"scheduler\"],\"vendor\":{\"name\":\"The Apache Software Foundation\"}}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1463777101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1463936020","html_url":"https://github.com/apache/couchdb/issues/4462#issuecomment-1463936020","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4462","id":1463936020,"node_id":"IC_kwDOAAMmUc5XQeQU","user":{"login":"j3k0","id":191881,"node_id":"MDQ6VXNlcjE5MTg4MQ==","avatar_url":"https://avatars.githubusercontent.com/u/191881?v=4","gravatar_id":"","url":"https://api.github.com/users/j3k0","html_url":"https://github.com/j3k0","followers_url":"https://api.github.com/users/j3k0/followers","following_url":"https://api.github.com/users/j3k0/following{/other_user}","gists_url":"https://api.github.com/users/j3k0/gists{/gist_id}","starred_url":"https://api.github.com/users/j3k0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/j3k0/subscriptions","organizations_url":"https://api.github.com/users/j3k0/orgs","repos_url":"https://api.github.com/users/j3k0/repos","events_url":"https://api.github.com/users/j3k0/events{/privacy}","received_events_url":"https://api.github.com/users/j3k0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-10T15:05:38Z","updated_at":"2023-03-10T15:05:38Z","author_association":"NONE","body":"Sure, a simplified pseudo example (our actual views are hundreds of lines)\r\n\r\nContext: an \"events\" database that contains the interactions (REST and Webhook calls) with various payment providers.\r\n\r\nWe want to emit the history of states for all transactions.\r\n\r\n## Before updating the design document\r\n\r\n```js\r\nfunction (event) {\r\n  switch (event.type) {\r\n\r\n    case \"appstore.webhook\":\r\n      event.appleTransactions.forEach(function(appleTransaction) {\r\n        emit([appleTransaction.id, event.date], appleTransaction.transactionState);\r\n      }); break;\r\n\r\n    case \"appstore.verifyReceipt\":\r\n      // handle specific data stored in \"apple.verifyReceipt\" events.\r\n  }\r\n}\r\n```\r\n\r\n## After updating the design document\r\n\r\nNow we want to add support for Google Play to our system.\r\n\r\n```js\r\nfunction (event) {\r\n  switch (event.type) {\r\n\r\n    // UNCHANGED\r\n    case \"appstore.webhook\":\r\n      event.appleTransactions.forEach(function(appleTransaction) {\r\n        emit([appleTransaction.id, event.date], appleTransaction.transactionState);\r\n      }); break;\r\n\r\n    case \"appstore.verifyReceipt\":\r\n      // handle specific data stored in \"apple.verifyReceipt\" events.\r\n\r\n    // +++ ADDITION HERE +++ we add support for google-play-style server-to-server notifications.\r\n    case \"googleplay.notification\":\r\n      emit([event.googlePurchase.purchaseToken, event.date], event.googleNotification.type);\r\n      break;\r\n\r\n    // and more event types...\r\n  }\r\n}\r\n```\r\n\r\nWe could in principle redeploy this view to production without recomputing the index, because there's no event with `type: \"googleplay.notification\"` in the database yet. Note: our DB is 5TB and it contains 500M documents.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1463936020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1464005748","html_url":"https://github.com/apache/couchdb/issues/4467#issuecomment-1464005748","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4467","id":1464005748,"node_id":"IC_kwDOAAMmUc5XQvR0","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-10T15:50:40Z","updated_at":"2023-03-10T17:25:08Z","author_association":"CONTRIBUTOR","body":"Great idea, @janl. \r\n\r\nA good page to keep an eye on is [upcoming_incompatibilities](https://www.erlang.org/doc/general_info/upcoming_incompatibilities.html)\r\n\r\nFor clouseau (search) which implements its own dist protocol there are some things to fix up:\r\n - [ ] DFLAG_V4_NC\r\n - [ ] [New link protocol](https://www.erlang.org/doc/apps/erts/erl_dist_protocol.html#new_link_protocol) is mandatory\r\n\r\nA tricky one may be that term_to_binary is changing:\r\n - [ ] [erlang:term_to_binary/1,2](https://www.erlang.org/doc/man/erlang.html#term_to_binary-1) and [erlang:term_to_iovec/1,2](https://www.erlang.org/doc/man/erlang.html#term_to_iovec-1) will now encode atoms as UTF8 by default. We use term_to_binary for on-disk storage. I think we can try toggling `{minor_version, 2}` in more places to ensure we use a forward compatible format. As far back as R16 can already read that format. A potential pitfall here is a case where in the compactor we may not necessarily re-encode all doc bodies or other bits when we copy. That means we could potentially carry forward future-incompatible compression format, or term_to_binary ({minor_version, 0} ?) or such without noticing or compaction having a way to upgrade it.\r\n  - [ ] [erlang:term_to_binary/1,2](https://www.erlang.org/doc/man/erlang.html#term_to_binary-1)  has a new `deterministic` option since OTP 24. ```can be used to ensure that within the same major release of Erlang/OTP, the same encoded representation is returned for the same term. There is still no guarantee that the encoded representation remains the same between major releases of Erlang/OTP.``` wonder if there is any need or use for that.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1464005748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1464551031","html_url":"https://github.com/apache/couchdb/issues/4372#issuecomment-1464551031","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4372","id":1464551031,"node_id":"IC_kwDOAAMmUc5XS0Z3","user":{"login":"jonathanwork","id":15095348,"node_id":"MDQ6VXNlcjE1MDk1MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/15095348?v=4","gravatar_id":"","url":"https://api.github.com/users/jonathanwork","html_url":"https://github.com/jonathanwork","followers_url":"https://api.github.com/users/jonathanwork/followers","following_url":"https://api.github.com/users/jonathanwork/following{/other_user}","gists_url":"https://api.github.com/users/jonathanwork/gists{/gist_id}","starred_url":"https://api.github.com/users/jonathanwork/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonathanwork/subscriptions","organizations_url":"https://api.github.com/users/jonathanwork/orgs","repos_url":"https://api.github.com/users/jonathanwork/repos","events_url":"https://api.github.com/users/jonathanwork/events{/privacy}","received_events_url":"https://api.github.com/users/jonathanwork/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-10T22:20:30Z","updated_at":"2023-03-10T22:20:30Z","author_association":"NONE","body":"\r\n[info] 2023-03-10T22:17:19.187164Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27265.3> died normal\r\n[error] 2023-03-10T22:17:19.187259Z couchdb@localhost <0.661.0> f66c84532b OS Process Error <0.27265.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.190168Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27261.3> died normal\r\n[error] 2023-03-10T22:17:19.190274Z couchdb@localhost <0.7281.0> -------- OS Process Error <0.27261.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.203529Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27267.3> died normal\r\n[error] 2023-03-10T22:17:19.203605Z couchdb@localhost <0.27621.1> -------- OS Process Error <0.27267.3> :: {os_process_error,{exit_status,134}}\r\n[error] 2023-03-10T22:17:19.310265Z couchdb@localhost <0.7281.0> -------- OS Process Error <0.27274.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.310379Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27274.3> died normal\r\n[info] 2023-03-10T22:17:19.311886Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27272.3> died normal\r\n[error] 2023-03-10T22:17:19.312112Z couchdb@localhost <0.661.0> f66c84532b OS Process Error <0.27272.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.370408Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27276.3> died {badarg,[{erlang,port_command,[#Port<0.79505>,[<<\"[\\\"reset\\\",{\\\"reduce_limit\\\":true,\\\"timeout\\\":5000}]\">>,10]],[{error_info,#{module => erl_erts_errors}}]},{couch_os_process,writeline,2,[{file,\"src/couch_os_process.erl\"},{line,65}]},{couch_os_process,writejson,2,[{file,\"src/couch_os_process.erl\"},{line,102}]},{couch_os_process,handle_call,3,[{file,\"src/couch_os_process.erl\"},{line,209}]},{gen_server,try_handle_call,4,[{file,\"gen_server.erl\"},{line,1149}]},{gen_server,handle_msg,6,[{file,\"gen_server.erl\"},{line,1178}]},{proc_lib,init_p_do_apply,3,[{file,\"proc_lib.erl\"},{line,240}]}]}\r\n[error] 2023-03-10T22:17:19.371532Z couchdb@localhost <0.27276.3> -------- gen_server <0.27276.3> terminated with reason: bad argument in call to erlang:port_command(#Port<0.79505>, [<<\"[\\\"reset\\\",{\\\"reduce_limit\\\":true,\\\"timeout\\\":5000}]\">>,10]) at couch_os_process:writeline/2(line:65) <= couch_os_process:writejson/2(line:102) <= couch_os_process:handle_call/3(line:209) <= gen_server:try_handle_call/4(line:1149) <= gen_server:handle_msg/6(line:1178) <= proc_lib:init_p_do_apply/3(line:240)\r\n  last msg: redacted\r\n     state: {os_proc,\"./bin/couchjs ./share/server/main.js\",#Port<0.79505>,fun couch_os_process:writejson/2,fun couch_os_process:readjson/1,5000,300000}\r\n    extra: [<0.27621.1>,[{gen,do_call,4,[{file,\"gen.erl\"},{line,237}]},{gen_server,call,3,[{file,\"gen_server.erl\"},{line,381}]},{couch_os_process,prompt,2,[{file,\"src/couch_os_process.erl\"},{line,54}]},{couch_query_servers,proc_prompt,2,[{file,\"src/couch_query_servers.erl\"},{line,581}]},{couch_query_servers,get_os_process,1,[{file,\"src/couch_query_servers.erl\"},{line,698}]},{couch_mrview,validate,2,[{file,\"src/couch_mrview.erl\"},{line,241}]},{lists,foreach_1,2,[{file,\"lists.erl\"},{line,1442}]},{couch_db,validate_ddoc,2,[{file,\"src/couch_db.erl\"},{line,934}]}]]\r\n[error] 2023-03-10T22:17:19.375409Z couchdb@localhost <0.27276.3> -------- gen_server <0.27276.3> terminated with reason: bad argument in call to erlang:port_command(#Port<0.79505>, [<<\"[\\\"reset\\\",{\\\"reduce_limit\\\":true,\\\"timeout\\\":5000}]\">>,10]) at couch_os_process:writeline/2(line:65) <= couch_os_process:writejson/2(line:102) <= couch_os_process:handle_call/3(line:209) <= gen_server:try_handle_call/4(line:1149) <= gen_server:handle_msg/6(line:1178) <= proc_lib:init_p_do_apply/3(line:240)\r\n  last msg: redacted\r\n     state: {os_proc,\"./bin/couchjs ./share/server/main.js\",#Port<0.79505>,fun couch_os_process:writejson/2,fun couch_os_process:readjson/1,5000,300000}\r\n    extra: [<0.27621.1>,[{gen,do_call,4,[{file,\"gen.erl\"},{line,237}]},{gen_server,call,3,[{file,\"gen_server.erl\"},{line,381}]},{couch_os_process,prompt,2,[{file,\"src/couch_os_process.erl\"},{line,54}]},{couch_query_servers,proc_prompt,2,[{file,\"src/couch_query_servers.erl\"},{line,581}]},{couch_query_servers,get_os_process,1,[{file,\"src/couch_query_servers.erl\"},{line,698}]},{couch_mrview,validate,2,[{file,\"src/couch_mrview.erl\"},{line,241}]},{lists,foreach_1,2,[{file,\"lists.erl\"},{line,1442}]},{couch_db,validate_ddoc,2,[{file,\"src/couch_db.erl\"},{line,934}]}]]\r\n[error] 2023-03-10T22:17:19.375651Z couchdb@localhost <0.27276.3> -------- CRASH REPORT Process  (<0.27276.3>) with 0 neighbors crashed with reason: bad argument in call to erlang:port_command(#Port<0.79505>, [<<\"[\\\"reset\\\",{\\\"reduce_limit\\\":true,\\\"timeout\\\":5000}]\">>,10]) at couch_os_process:writeline/2(line:65) <= couch_os_process:writejson/2(line:102) <= couch_os_process:handle_call/3(line:209) <= gen_server:try_handle_call/4(line:1149) <= gen_server:handle_msg/6(line:1178) <= proc_lib:init_p_do_apply/3(line:240); initial_call: {couch_os_process,init,['Argument__1']}, ancestors: [<0.27275.3>], message_queue_len: 1, links: [<0.274.0>], dictionary: [], trap_exit: false, status: running, heap_size: 1598, stack_size: 28, reductions: 859\r\n[error] 2023-03-10T22:17:19.375835Z couchdb@localhost <0.27276.3> -------- CRASH REPORT Process  (<0.27276.3>) with 0 neighbors crashed with reason: bad argument in call to erlang:port_command(#Port<0.79505>, [<<\"[\\\"reset\\\",{\\\"reduce_limit\\\":true,\\\"timeout\\\":5000}]\">>,10]) at couch_os_process:writeline/2(line:65) <= couch_os_process:writejson/2(line:102) <= couch_os_process:handle_call/3(line:209) <= gen_server:try_handle_call/4(line:1149) <= gen_server:handle_msg/6(line:1178) <= proc_lib:init_p_do_apply/3(line:240); initial_call: {couch_os_process,init,['Argument__1']}, ancestors: [<0.27275.3>], message_queue_len: 1, links: [<0.274.0>], dictionary: [], trap_exit: false, status: running, heap_size: 1598, stack_size: 28, reductions: 859\r\n[info] 2023-03-10T22:17:19.399625Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27280.3> died normal\r\n[error] 2023-03-10T22:17:19.399724Z couchdb@localhost <0.7281.0> -------- OS Process Error <0.27280.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.426358Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27282.3> died normal\r\n[error] 2023-03-10T22:17:19.426495Z couchdb@localhost <0.661.0> f66c84532b OS Process Error <0.27282.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.426556Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27285.3> died normal\r\n[error] 2023-03-10T22:17:19.426625Z couchdb@localhost <0.27621.1> -------- OS Process Error <0.27285.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.495635Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27289.3> died normal\r\n[error] 2023-03-10T22:17:19.495705Z couchdb@localhost <0.7281.0> -------- OS Process Error <0.27289.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.499630Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27292.3> died normal\r\n[error] 2023-03-10T22:17:19.499696Z couchdb@localhost <0.661.0> f66c84532b OS Process Error <0.27292.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.507891Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27294.3> died normal\r\n[error] 2023-03-10T22:17:19.507972Z couchdb@localhost <0.27621.1> -------- OS Process Error <0.27294.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.556673Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27298.3> died normal\r\n[error] 2023-03-10T22:17:19.557024Z couchdb@localhost <0.7281.0> -------- OS Process Error <0.27298.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.570883Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27301.3> died normal\r\n[error] 2023-03-10T22:17:19.571173Z couchdb@localhost <0.661.0> f66c84532b OS Process Error <0.27301.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.571993Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27303.3> died normal\r\n[error] 2023-03-10T22:17:19.574316Z couchdb@localhost <0.27621.1> -------- OS Process Error <0.27303.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.670434Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27310.3> died normal\r\n[error] 2023-03-10T22:17:19.670522Z couchdb@localhost <0.661.0> f66c84532b OS Process Error <0.27310.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.671444Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27308.3> died normal\r\n[error] 2023-03-10T22:17:19.671505Z couchdb@localhost <0.7281.0> -------- OS Process Error <0.27308.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.678139Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27312.3> died normal\r\n[error] 2023-03-10T22:17:19.678254Z couchdb@localhost <0.27621.1> -------- OS Process Error <0.27312.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.712932Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27319.3> died normal\r\n[error] 2023-03-10T22:17:19.713024Z couchdb@localhost <0.7281.0> -------- OS Process Error <0.27319.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.713697Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27317.3> died normal\r\n[error] 2023-03-10T22:17:19.713776Z couchdb@localhost <0.661.0> f66c84532b OS Process Error <0.27317.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.724381Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27321.3> died normal\r\n[error] 2023-03-10T22:17:19.724652Z couchdb@localhost <0.27621.1> -------- OS Process Error <0.27321.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.759664Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27326.3> died normal\r\n[error] 2023-03-10T22:17:19.759856Z couchdb@localhost <0.7281.0> -------- OS Process Error <0.27326.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.763217Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27328.3> died normal\r\n[error] 2023-03-10T22:17:19.763877Z couchdb@localhost <0.661.0> f66c84532b OS Process Error <0.27328.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.773185Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27330.3> died normal\r\n[error] 2023-03-10T22:17:19.773278Z couchdb@localhost <0.27621.1> -------- OS Process Error <0.27330.3> :: {os_process_error,{exit_status,134}}\r\n[error] 2023-03-10T22:17:19.806338Z couchdb@localhost <0.661.0> f66c84532b OS Process Error <0.27337.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.806798Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27337.3> died normal\r\n[info] 2023-03-10T22:17:19.807139Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27334.3> died normal\r\n[error] 2023-03-10T22:17:19.807190Z couchdb@localhost <0.7281.0> -------- OS Process Error <0.27334.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.826525Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27339.3> died normal\r\n[error] 2023-03-10T22:17:19.826607Z couchdb@localhost <0.27621.1> -------- OS Process Error <0.27339.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.871561Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27348.3> died epipe\r\n[info] 2023-03-10T22:17:19.872111Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27345.3> died normal\r\n[error] 2023-03-10T22:17:19.872341Z couchdb@localhost <0.7281.0> -------- OS Process Error <0.27345.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.873195Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27343.3> died normal\r\n[error] 2023-03-10T22:17:19.873315Z couchdb@localhost <0.661.0> f66c84532b OS Process Error <0.27343.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.943320Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27353.3> died normal\r\n[error] 2023-03-10T22:17:19.943404Z couchdb@localhost <0.27621.1> -------- OS Process Error <0.27353.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.956781Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27355.3> died normal\r\n[error] 2023-03-10T22:17:19.956888Z couchdb@localhost <0.7281.0> -------- OS Process Error <0.27355.3> :: {os_process_error,{exit_status,134}}\r\n[error] 2023-03-10T22:17:19.974194Z couchdb@localhost <0.661.0> f66c84532b OS Process Error <0.27357.3> :: {os_process_error,{exit_status,134}}\r\n[info] 2023-03-10T22:17:19.974266Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27357.3> died normal\r\n[info] 2023-03-10T22:17:19.993030Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27361.3> died normal\r\n\r\n\r\nmine produces this error and fries up the computer of mac os big sur ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1464551031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1464583734","html_url":"https://github.com/apache/couchdb/issues/4372#issuecomment-1464583734","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4372","id":1464583734,"node_id":"IC_kwDOAAMmUc5XS8Y2","user":{"login":"jonathanwork","id":15095348,"node_id":"MDQ6VXNlcjE1MDk1MzQ4","avatar_url":"https://avatars.githubusercontent.com/u/15095348?v=4","gravatar_id":"","url":"https://api.github.com/users/jonathanwork","html_url":"https://github.com/jonathanwork","followers_url":"https://api.github.com/users/jonathanwork/followers","following_url":"https://api.github.com/users/jonathanwork/following{/other_user}","gists_url":"https://api.github.com/users/jonathanwork/gists{/gist_id}","starred_url":"https://api.github.com/users/jonathanwork/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonathanwork/subscriptions","organizations_url":"https://api.github.com/users/jonathanwork/orgs","repos_url":"https://api.github.com/users/jonathanwork/repos","events_url":"https://api.github.com/users/jonathanwork/events{/privacy}","received_events_url":"https://api.github.com/users/jonathanwork/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-10T22:42:25Z","updated_at":"2023-03-10T22:42:25Z","author_association":"NONE","body":"> [info] 2023-03-10T22:17:19.187164Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27265.3> died normal [error] 2023-03-10T22:17:19.187259Z couchdb@localhost <0.661.0> f66c84532b OS Process Error <0.27265.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.190168Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27261.3> died normal [error] 2023-03-10T22:17:19.190274Z couchdb@localhost <0.7281.0> -------- OS Process Error <0.27261.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.203529Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27267.3> died normal [error] 2023-03-10T22:17:19.203605Z couchdb@localhost <0.27621.1> -------- OS Process Error <0.27267.3> :: {os_process_error,{exit_status,134}} [error] 2023-03-10T22:17:19.310265Z couchdb@localhost <0.7281.0> -------- OS Process Error <0.27274.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.310379Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27274.3> died normal [info] 2023-03-10T22:17:19.311886Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27272.3> died normal [error] 2023-03-10T22:17:19.312112Z couchdb@localhost <0.661.0> f66c84532b OS Process Error <0.27272.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.370408Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27276.3> died {badarg,[{erlang,port_command,[#Port<0.79505>,[<<\"[\"reset\",{\"reduce_limit\":true,\"timeout\":5000}]\">>,10]],[{error_info,#{module => erl_erts_errors}}]},{couch_os_process,writeline,2,[{file,\"src/couch_os_process.erl\"},{line,65}]},{couch_os_process,writejson,2,[{file,\"src/couch_os_process.erl\"},{line,102}]},{couch_os_process,handle_call,3,[{file,\"src/couch_os_process.erl\"},{line,209}]},{gen_server,try_handle_call,4,[{file,\"gen_server.erl\"},{line,1149}]},{gen_server,handle_msg,6,[{file,\"gen_server.erl\"},{line,1178}]},{proc_lib,init_p_do_apply,3,[{file,\"proc_lib.erl\"},{line,240}]}]} [error] 2023-03-10T22:17:19.371532Z couchdb@localhost <0.27276.3> -------- gen_server <0.27276.3> terminated with reason: bad argument in call to erlang:port_command(#Port<0.79505>, [<<\"[\"reset\",{\"reduce_limit\":true,\"timeout\":5000}]\">>,10]) at couch_os_process:writeline/2(line:65) <= couch_os_process:writejson/2(line:102) <= couch_os_process:handle_call/3(line:209) <= gen_server:try_handle_call/4(line:1149) <= gen_server:handle_msg/6(line:1178) <= proc_lib:init_p_do_apply/3(line:240) last msg: redacted state: {os_proc,\"./bin/couchjs ./share/server/main.js\",#Port<0.79505>,fun couch_os_process:writejson/2,fun couch_os_process:readjson/1,5000,300000} extra: [<0.27621.1>,[{gen,do_call,4,[{file,\"gen.erl\"},{line,237}]},{gen_server,call,3,[{file,\"gen_server.erl\"},{line,381}]},{couch_os_process,prompt,2,[{file,\"src/couch_os_process.erl\"},{line,54}]},{couch_query_servers,proc_prompt,2,[{file,\"src/couch_query_servers.erl\"},{line,581}]},{couch_query_servers,get_os_process,1,[{file,\"src/couch_query_servers.erl\"},{line,698}]},{couch_mrview,validate,2,[{file,\"src/couch_mrview.erl\"},{line,241}]},{lists,foreach_1,2,[{file,\"lists.erl\"},{line,1442}]},{couch_db,validate_ddoc,2,[{file,\"src/couch_db.erl\"},{line,934}]}]] [error] 2023-03-10T22:17:19.375409Z couchdb@localhost <0.27276.3> -------- gen_server <0.27276.3> terminated with reason: bad argument in call to erlang:port_command(#Port<0.79505>, [<<\"[\"reset\",{\"reduce_limit\":true,\"timeout\":5000}]\">>,10]) at couch_os_process:writeline/2(line:65) <= couch_os_process:writejson/2(line:102) <= couch_os_process:handle_call/3(line:209) <= gen_server:try_handle_call/4(line:1149) <= gen_server:handle_msg/6(line:1178) <= proc_lib:init_p_do_apply/3(line:240) last msg: redacted state: {os_proc,\"./bin/couchjs ./share/server/main.js\",#Port<0.79505>,fun couch_os_process:writejson/2,fun couch_os_process:readjson/1,5000,300000} extra: [<0.27621.1>,[{gen,do_call,4,[{file,\"gen.erl\"},{line,237}]},{gen_server,call,3,[{file,\"gen_server.erl\"},{line,381}]},{couch_os_process,prompt,2,[{file,\"src/couch_os_process.erl\"},{line,54}]},{couch_query_servers,proc_prompt,2,[{file,\"src/couch_query_servers.erl\"},{line,581}]},{couch_query_servers,get_os_process,1,[{file,\"src/couch_query_servers.erl\"},{line,698}]},{couch_mrview,validate,2,[{file,\"src/couch_mrview.erl\"},{line,241}]},{lists,foreach_1,2,[{file,\"lists.erl\"},{line,1442}]},{couch_db,validate_ddoc,2,[{file,\"src/couch_db.erl\"},{line,934}]}]] [error] 2023-03-10T22:17:19.375651Z couchdb@localhost <0.27276.3> -------- CRASH REPORT Process (<0.27276.3>) with 0 neighbors crashed with reason: bad argument in call to erlang:port_command(#Port<0.79505>, [<<\"[\"reset\",{\"reduce_limit\":true,\"timeout\":5000}]\">>,10]) at couch_os_process:writeline/2(line:65) <= couch_os_process:writejson/2(line:102) <= couch_os_process:handle_call/3(line:209) <= gen_server:try_handle_call/4(line:1149) <= gen_server:handle_msg/6(line:1178) <= proc_lib:init_p_do_apply/3(line:240); initial_call: {couch_os_process,init,['Argument__1']}, ancestors: [<0.27275.3>], message_queue_len: 1, links: [<0.274.0>], dictionary: [], trap_exit: false, status: running, heap_size: 1598, stack_size: 28, reductions: 859 [error] 2023-03-10T22:17:19.375835Z couchdb@localhost <0.27276.3> -------- CRASH REPORT Process (<0.27276.3>) with 0 neighbors crashed with reason: bad argument in call to erlang:port_command(#Port<0.79505>, [<<\"[\"reset\",{\"reduce_limit\":true,\"timeout\":5000}]\">>,10]) at couch_os_process:writeline/2(line:65) <= couch_os_process:writejson/2(line:102) <= couch_os_process:handle_call/3(line:209) <= gen_server:try_handle_call/4(line:1149) <= gen_server:handle_msg/6(line:1178) <= proc_lib:init_p_do_apply/3(line:240); initial_call: {couch_os_process,init,['Argument__1']}, ancestors: [<0.27275.3>], message_queue_len: 1, links: [<0.274.0>], dictionary: [], trap_exit: false, status: running, heap_size: 1598, stack_size: 28, reductions: 859 [info] 2023-03-10T22:17:19.399625Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27280.3> died normal [error] 2023-03-10T22:17:19.399724Z couchdb@localhost <0.7281.0> -------- OS Process Error <0.27280.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.426358Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27282.3> died normal [error] 2023-03-10T22:17:19.426495Z couchdb@localhost <0.661.0> f66c84532b OS Process Error <0.27282.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.426556Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27285.3> died normal [error] 2023-03-10T22:17:19.426625Z couchdb@localhost <0.27621.1> -------- OS Process Error <0.27285.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.495635Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27289.3> died normal [error] 2023-03-10T22:17:19.495705Z couchdb@localhost <0.7281.0> -------- OS Process Error <0.27289.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.499630Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27292.3> died normal [error] 2023-03-10T22:17:19.499696Z couchdb@localhost <0.661.0> f66c84532b OS Process Error <0.27292.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.507891Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27294.3> died normal [error] 2023-03-10T22:17:19.507972Z couchdb@localhost <0.27621.1> -------- OS Process Error <0.27294.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.556673Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27298.3> died normal [error] 2023-03-10T22:17:19.557024Z couchdb@localhost <0.7281.0> -------- OS Process Error <0.27298.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.570883Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27301.3> died normal [error] 2023-03-10T22:17:19.571173Z couchdb@localhost <0.661.0> f66c84532b OS Process Error <0.27301.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.571993Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27303.3> died normal [error] 2023-03-10T22:17:19.574316Z couchdb@localhost <0.27621.1> -------- OS Process Error <0.27303.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.670434Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27310.3> died normal [error] 2023-03-10T22:17:19.670522Z couchdb@localhost <0.661.0> f66c84532b OS Process Error <0.27310.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.671444Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27308.3> died normal [error] 2023-03-10T22:17:19.671505Z couchdb@localhost <0.7281.0> -------- OS Process Error <0.27308.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.678139Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27312.3> died normal [error] 2023-03-10T22:17:19.678254Z couchdb@localhost <0.27621.1> -------- OS Process Error <0.27312.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.712932Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27319.3> died normal [error] 2023-03-10T22:17:19.713024Z couchdb@localhost <0.7281.0> -------- OS Process Error <0.27319.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.713697Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27317.3> died normal [error] 2023-03-10T22:17:19.713776Z couchdb@localhost <0.661.0> f66c84532b OS Process Error <0.27317.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.724381Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27321.3> died normal [error] 2023-03-10T22:17:19.724652Z couchdb@localhost <0.27621.1> -------- OS Process Error <0.27321.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.759664Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27326.3> died normal [error] 2023-03-10T22:17:19.759856Z couchdb@localhost <0.7281.0> -------- OS Process Error <0.27326.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.763217Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27328.3> died normal [error] 2023-03-10T22:17:19.763877Z couchdb@localhost <0.661.0> f66c84532b OS Process Error <0.27328.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.773185Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27330.3> died normal [error] 2023-03-10T22:17:19.773278Z couchdb@localhost <0.27621.1> -------- OS Process Error <0.27330.3> :: {os_process_error,{exit_status,134}} [error] 2023-03-10T22:17:19.806338Z couchdb@localhost <0.661.0> f66c84532b OS Process Error <0.27337.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.806798Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27337.3> died normal [info] 2023-03-10T22:17:19.807139Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27334.3> died normal [error] 2023-03-10T22:17:19.807190Z couchdb@localhost <0.7281.0> -------- OS Process Error <0.27334.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.826525Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27339.3> died normal [error] 2023-03-10T22:17:19.826607Z couchdb@localhost <0.27621.1> -------- OS Process Error <0.27339.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.871561Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27348.3> died epipe [info] 2023-03-10T22:17:19.872111Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27345.3> died normal [error] 2023-03-10T22:17:19.872341Z couchdb@localhost <0.7281.0> -------- OS Process Error <0.27345.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.873195Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27343.3> died normal [error] 2023-03-10T22:17:19.873315Z couchdb@localhost <0.661.0> f66c84532b OS Process Error <0.27343.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.943320Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27353.3> died normal [error] 2023-03-10T22:17:19.943404Z couchdb@localhost <0.27621.1> -------- OS Process Error <0.27353.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.956781Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27355.3> died normal [error] 2023-03-10T22:17:19.956888Z couchdb@localhost <0.7281.0> -------- OS Process Error <0.27355.3> :: {os_process_error,{exit_status,134}} [error] 2023-03-10T22:17:19.974194Z couchdb@localhost <0.661.0> f66c84532b OS Process Error <0.27357.3> :: {os_process_error,{exit_status,134}} [info] 2023-03-10T22:17:19.974266Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27357.3> died normal [info] 2023-03-10T22:17:19.993030Z couchdb@localhost <0.274.0> -------- couch_proc_manager <0.27361.3> died normal\r\n> \r\n> mine produces this error and fries up the computer of mac os big sur\r\n\r\n\r\n- figured out what it was \r\n- curl -X PUT 'http://admin:pass@127.0.0.1:5984/_replicator'\r\n- {\"ok\":true}\r\n- curl -X PUT 'http://admin:pass@127.0.0.1:5984/_users'\r\n- {\"ok\":true}\r\n- this just solved my problem thanks \r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1464583734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1465006233","html_url":"https://github.com/apache/couchdb/pull/4471#issuecomment-1465006233","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4471","id":1465006233,"node_id":"IC_kwDOAAMmUc5XUjiZ","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-11T20:18:56Z","updated_at":"2023-03-11T20:18:56Z","author_association":"CONTRIBUTOR","body":"Hi,\r\n\r\nthx and good find, looks like a typo! To be safe, I would like to double check this @nickva!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1465006233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1465020552","html_url":"https://github.com/apache/couchdb/pull/4471#issuecomment-1465020552","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4471","id":1465020552,"node_id":"IC_kwDOAAMmUc5XUnCI","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-11T21:13:54Z","updated_at":"2023-03-12T04:38:29Z","author_association":"CONTRIBUTOR","body":"I think the 10min is intended https://github.com/apache/couchdb/commit/ec26cbabe767f95f1e67a5c0eb7ab11c7ce18206 and the .ini value is wrong. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1465020552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1465028055","html_url":"https://github.com/apache/couchdb/pull/4471#issuecomment-1465028055","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4471","id":1465028055,"node_id":"IC_kwDOAAMmUc5XUo3X","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-11T21:42:44Z","updated_at":"2023-03-11T21:42:44Z","author_association":"CONTRIBUTOR","body":"Maybe you are right @nickva . Is this timeout for uploading attachments? In #1766 the timeouts were set in default.ini.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1465028055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1466587632","html_url":"https://github.com/apache/couchdb/pull/4458#issuecomment-1466587632","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4458","id":1466587632,"node_id":"IC_kwDOAAMmUc5Xalnw","user":{"login":"jaydoane","id":51209,"node_id":"MDQ6VXNlcjUxMjA5","avatar_url":"https://avatars.githubusercontent.com/u/51209?v=4","gravatar_id":"","url":"https://api.github.com/users/jaydoane","html_url":"https://github.com/jaydoane","followers_url":"https://api.github.com/users/jaydoane/followers","following_url":"https://api.github.com/users/jaydoane/following{/other_user}","gists_url":"https://api.github.com/users/jaydoane/gists{/gist_id}","starred_url":"https://api.github.com/users/jaydoane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaydoane/subscriptions","organizations_url":"https://api.github.com/users/jaydoane/orgs","repos_url":"https://api.github.com/users/jaydoane/repos","events_url":"https://api.github.com/users/jaydoane/events{/privacy}","received_events_url":"https://api.github.com/users/jaydoane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-13T17:26:14Z","updated_at":"2023-03-13T17:26:14Z","author_association":"CONTRIBUTOR","body":"I was concerned that during a rolling upgrade containing this change, it might be possible for a selector containing the new `op_regex` to be processed by a node that has not yet been upgraded, so I attempted to test such a configuration.\r\n\r\nI configured a dev cluster with `node1` running on  https://github.com/apache/couchdb/commit/f40147b262ca007d07bb5f48c345b31b46b80629, and `node2` & `node3` on https://github.com/apache/couchdb/commit/8ec7b578848903b9a152934c7ef0f57e69d8946d. This was more difficult than I expected, and required:\r\n- Turning off the code reloader I normally use.\r\n- Making the mango ebin directory sticky so it wouldn't automatically reload updated code.\r\n- Making sure the old code was loaded on nodes 2 & 3, so it would stick there.\r\n- Checking the md5 hashes of e.g. `mango_idx_text` on different nodes to ensure they were as expected.\r\n\r\nBut once I had created the desired configuration, I was unable to induce any errors using the document, selector, and index in the above example. \r\n\r\nI also ran the python mango tests (modified to create dbs with q=2,n=3) against that mixed cluster, and likewise didn't see any errors stemming from `op_regex`.\r\n\r\nAt this point, I'm fairly convinced that this change shouldn't cause problems during rolling upgrades, but I'm still open to a good argument one way or another.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1466587632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1466652402","html_url":"https://github.com/apache/couchdb/pull/4458#issuecomment-1466652402","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4458","id":1466652402,"node_id":"IC_kwDOAAMmUc5Xa1by","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-13T18:05:43Z","updated_at":"2023-03-13T18:05:43Z","author_association":"CONTRIBUTOR","body":"Thanks @jaydoane for testing this change more extensively in a production environment and expecting us to come up with a good reasoning.\r\n\r\nI am still new to this area but I believe introduction of `op_regex` itself will not cause any problems with upgrades.  The reason is that it is part of an internal data structure that is not shared between nodes during the evaluation (not passed around as a message), it is more like a helper to implement the selector-to-Lucene-query translation which happens in a single place.\r\n\r\nThe only potential problem I see in mixed-version environments is that one may node handle the given query differently due to the induced change in the index selection process.  But that is not because of `op_regex`, it is only a vehicle of the fix.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1466652402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1466811380","html_url":"https://github.com/apache/couchdb/pull/4458#issuecomment-1466811380","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4458","id":1466811380,"node_id":"IC_kwDOAAMmUc5XbcP0","user":{"login":"jaydoane","id":51209,"node_id":"MDQ6VXNlcjUxMjA5","avatar_url":"https://avatars.githubusercontent.com/u/51209?v=4","gravatar_id":"","url":"https://api.github.com/users/jaydoane","html_url":"https://github.com/jaydoane","followers_url":"https://api.github.com/users/jaydoane/followers","following_url":"https://api.github.com/users/jaydoane/following{/other_user}","gists_url":"https://api.github.com/users/jaydoane/gists{/gist_id}","starred_url":"https://api.github.com/users/jaydoane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaydoane/subscriptions","organizations_url":"https://api.github.com/users/jaydoane/orgs","repos_url":"https://api.github.com/users/jaydoane/repos","events_url":"https://api.github.com/users/jaydoane/events{/privacy}","received_events_url":"https://api.github.com/users/jaydoane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-13T19:19:35Z","updated_at":"2023-03-13T19:19:35Z","author_association":"CONTRIBUTOR","body":"> I am still new to this area but I believe introduction of op_regex itself will not cause any problems with upgrades. The reason is that it is part of an internal data structure that is not shared between nodes during the evaluation (not passed around as a message), it is more like a helper to implement the selector-to-Lucene-query translation which happens in a single place.\r\n\r\nThis is exactly what I was unsure about, especially with Mike's recent optimization to push selectors to the individual shards. I could have added some debug logging to prove to myself it was safe, but I'm happy to hear your assurances!\r\n\r\n> The only potential problem I see in mixed-version environments is that one may node handle the given query differently due to the induced change in the index selection process\r\n\r\nYes, I noticed that on node1 with your fix, it returned the document as expected, but on the other nodes, it still returned\r\n```json\r\n{\r\n  \"docs\": [],\r\n  \"bookmark\": \"g2o\"\r\n}\r\n```\r\nwhich seems expected as well :)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1466811380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1466867880","html_url":"https://github.com/apache/couchdb/pull/4473#issuecomment-1466867880","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4473","id":1466867880,"node_id":"IC_kwDOAAMmUc5XbqCo","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-13T19:55:57Z","updated_at":"2023-03-13T19:55:57Z","author_association":"CONTRIBUTOR","body":"Good point @jaydoane. I knew about the new chttpd tests but I double-checked to verify we had a bunch more as well: \r\n\r\n\r\nhttps://github.com/apache/couchdb/blob/138163147dc735b0a0015c5dd90adc9c415112a4/src/chttpd/test/eunit/chttpd_changes_test.erl#L485-L493\r\n\r\nhttps://github.com/apache/couchdb/blob/1407a51ee6898c39eeb551a9c3cd9d69751e7baa/src/couch_replicator/test/eunit/couch_replicator_filtered_tests.erl#L119-L139\r\n\r\nhttps://github.com/apache/couchdb/blob/adf17140e81d0b74f2b2ecdea48fc4f702832eaf/test/elixir/test/changes_test.exs#L110-L118","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1466867880/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1469699140","html_url":"https://github.com/apache/couchdb/pull/4471#issuecomment-1469699140","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4471","id":1469699140,"node_id":"IC_kwDOAAMmUc5XmdRE","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-15T09:58:29Z","updated_at":"2023-03-15T09:58:29Z","author_association":"CONTRIBUTOR","body":"Closing this for now, it seems correct, that the attachment timeout is 600000. See https://github.com/apache/couchdb/issues/1264#issuecomment-378427159","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1469699140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1470331853","html_url":"https://github.com/apache/couchdb/issues/2603#issuecomment-1470331853","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2603","id":1470331853,"node_id":"IC_kwDOAAMmUc5Xo3vN","user":{"login":"kernerdev","id":7420902,"node_id":"MDQ6VXNlcjc0MjA5MDI=","avatar_url":"https://avatars.githubusercontent.com/u/7420902?v=4","gravatar_id":"","url":"https://api.github.com/users/kernerdev","html_url":"https://github.com/kernerdev","followers_url":"https://api.github.com/users/kernerdev/followers","following_url":"https://api.github.com/users/kernerdev/following{/other_user}","gists_url":"https://api.github.com/users/kernerdev/gists{/gist_id}","starred_url":"https://api.github.com/users/kernerdev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kernerdev/subscriptions","organizations_url":"https://api.github.com/users/kernerdev/orgs","repos_url":"https://api.github.com/users/kernerdev/repos","events_url":"https://api.github.com/users/kernerdev/events{/privacy}","received_events_url":"https://api.github.com/users/kernerdev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-15T16:13:38Z","updated_at":"2023-03-15T16:13:38Z","author_association":"NONE","body":"I still have the same problem :/ ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1470331853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1471448870","html_url":"https://github.com/apache/couchdb/issues/4427#issuecomment-1471448870","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4427","id":1471448870,"node_id":"IC_kwDOAAMmUc5XtIcm","user":{"login":"Chetan-K-Desai","id":117310263,"node_id":"U_kgDOBv4DNw","avatar_url":"https://avatars.githubusercontent.com/u/117310263?v=4","gravatar_id":"","url":"https://api.github.com/users/Chetan-K-Desai","html_url":"https://github.com/Chetan-K-Desai","followers_url":"https://api.github.com/users/Chetan-K-Desai/followers","following_url":"https://api.github.com/users/Chetan-K-Desai/following{/other_user}","gists_url":"https://api.github.com/users/Chetan-K-Desai/gists{/gist_id}","starred_url":"https://api.github.com/users/Chetan-K-Desai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Chetan-K-Desai/subscriptions","organizations_url":"https://api.github.com/users/Chetan-K-Desai/orgs","repos_url":"https://api.github.com/users/Chetan-K-Desai/repos","events_url":"https://api.github.com/users/Chetan-K-Desai/events{/privacy}","received_events_url":"https://api.github.com/users/Chetan-K-Desai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-16T07:33:09Z","updated_at":"2023-03-16T07:33:09Z","author_association":"NONE","body":"Can you please tell me how can I setup multi node cluster in couchdb,\n\nLike from beginning like create 2 vms or install in each vm!\n\nIf you tell me this step by step it will very helpful for me because I'm unable to understand couchdb docs","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1471448870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1471891542","html_url":"https://github.com/apache/couchdb/pull/4477#issuecomment-1471891542","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4477","id":1471891542,"node_id":"IC_kwDOAAMmUc5Xu0hW","user":{"login":"pgj","id":277835,"node_id":"MDQ6VXNlcjI3NzgzNQ==","avatar_url":"https://avatars.githubusercontent.com/u/277835?v=4","gravatar_id":"","url":"https://api.github.com/users/pgj","html_url":"https://github.com/pgj","followers_url":"https://api.github.com/users/pgj/followers","following_url":"https://api.github.com/users/pgj/following{/other_user}","gists_url":"https://api.github.com/users/pgj/gists{/gist_id}","starred_url":"https://api.github.com/users/pgj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgj/subscriptions","organizations_url":"https://api.github.com/users/pgj/orgs","repos_url":"https://api.github.com/users/pgj/repos","events_url":"https://api.github.com/users/pgj/events{/privacy}","received_events_url":"https://api.github.com/users/pgj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-16T12:45:43Z","updated_at":"2023-03-16T12:45:43Z","author_association":"CONTRIBUTOR","body":"Nice work @nickva!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1471891542/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1472177008","html_url":"https://github.com/apache/couchdb/issues/4405#issuecomment-1472177008","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4405","id":1472177008,"node_id":"IC_kwDOAAMmUc5Xv6Nw","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-16T15:15:44Z","updated_at":"2023-03-16T15:15:44Z","author_association":"CONTRIBUTOR","body":"@imskr \r\nDo you have any news / work on this feature?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1472177008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1472275859","html_url":"https://github.com/apache/couchdb/issues/4456#issuecomment-1472275859","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4456","id":1472275859,"node_id":"IC_kwDOAAMmUc5XwSWT","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-16T16:12:21Z","updated_at":"2023-03-16T16:12:21Z","author_association":"CONTRIBUTOR","body":"@8thblock \r\nHi, do you need any support (setting up dev environment, etc..) while working on this or do you have any other questions?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1472275859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1473279059","html_url":"https://github.com/apache/couchdb/issues/4405#issuecomment-1473279059","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4405","id":1473279059,"node_id":"IC_kwDOAAMmUc5X0HRT","user":{"login":"imskr","id":42062622,"node_id":"MDQ6VXNlcjQyMDYyNjIy","avatar_url":"https://avatars.githubusercontent.com/u/42062622?v=4","gravatar_id":"","url":"https://api.github.com/users/imskr","html_url":"https://github.com/imskr","followers_url":"https://api.github.com/users/imskr/followers","following_url":"https://api.github.com/users/imskr/following{/other_user}","gists_url":"https://api.github.com/users/imskr/gists{/gist_id}","starred_url":"https://api.github.com/users/imskr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imskr/subscriptions","organizations_url":"https://api.github.com/users/imskr/orgs","repos_url":"https://api.github.com/users/imskr/repos","events_url":"https://api.github.com/users/imskr/events{/privacy}","received_events_url":"https://api.github.com/users/imskr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-17T07:11:20Z","updated_at":"2023-03-17T07:11:20Z","author_association":"NONE","body":"Hi @big-r81 I need some help here. Can you guide me?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1473279059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1473352050","html_url":"https://github.com/apache/couchdb/issues/4405#issuecomment-1473352050","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4405","id":1473352050,"node_id":"IC_kwDOAAMmUc5X0ZFy","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-17T08:10:49Z","updated_at":"2023-03-17T08:10:49Z","author_association":"CONTRIBUTOR","body":"Hi, what questions do you have? Are you able to compile CouchDB already? If not, read our [README for Devs](https://github.com/apache/couchdb/blob/main/README-DEV.rst). If you have any other questions, please just ask.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1473352050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1473368706","html_url":"https://github.com/apache/couchdb/issues/4405#issuecomment-1473368706","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4405","id":1473368706,"node_id":"IC_kwDOAAMmUc5X0dKC","user":{"login":"imskr","id":42062622,"node_id":"MDQ6VXNlcjQyMDYyNjIy","avatar_url":"https://avatars.githubusercontent.com/u/42062622?v=4","gravatar_id":"","url":"https://api.github.com/users/imskr","html_url":"https://github.com/imskr","followers_url":"https://api.github.com/users/imskr/followers","following_url":"https://api.github.com/users/imskr/following{/other_user}","gists_url":"https://api.github.com/users/imskr/gists{/gist_id}","starred_url":"https://api.github.com/users/imskr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imskr/subscriptions","organizations_url":"https://api.github.com/users/imskr/orgs","repos_url":"https://api.github.com/users/imskr/repos","events_url":"https://api.github.com/users/imskr/events{/privacy}","received_events_url":"https://api.github.com/users/imskr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-17T08:19:52Z","updated_at":"2023-03-17T08:19:52Z","author_association":"NONE","body":"Yes I'm able to compile. I was wondering how we can parse the quoted cookie value ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1473368706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1473394200","html_url":"https://github.com/apache/couchdb/issues/4405#issuecomment-1473394200","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4405","id":1473394200,"node_id":"IC_kwDOAAMmUc5X0jYY","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-17T08:33:18Z","updated_at":"2023-03-17T08:33:18Z","author_association":"CONTRIBUTOR","body":"The cookie can come from an env var (`ERL_FLAGS`), from an args file (`vm.args`) or from the command line as argument from the `remsh` script. In https://github.com/apache/couchdb-pkg/pull/106 there should be some inspirations of the changed regex for cookie extractions.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1473394200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1474379212","html_url":"https://github.com/apache/couchdb/pull/4414#issuecomment-1474379212","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4414","id":1474379212,"node_id":"IC_kwDOAAMmUc5X4T3M","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-17T20:35:59Z","updated_at":"2023-03-17T20:35:59Z","author_association":"CONTRIBUTOR","body":"If we plan on toggling this on in 4.x we should add it to https://github.com/apache/couchdb/issues/4480 and make a note in docs about the new setting. Some users may want to enable it in 3.x already.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1474379212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1474855740","html_url":"https://github.com/apache/couchdb/issues/2908#issuecomment-1474855740","issue_url":"https://api.github.com/repos/apache/couchdb/issues/2908","id":1474855740,"node_id":"IC_kwDOAAMmUc5X6IM8","user":{"login":"Wildanzr","id":64595143,"node_id":"MDQ6VXNlcjY0NTk1MTQz","avatar_url":"https://avatars.githubusercontent.com/u/64595143?v=4","gravatar_id":"","url":"https://api.github.com/users/Wildanzr","html_url":"https://github.com/Wildanzr","followers_url":"https://api.github.com/users/Wildanzr/followers","following_url":"https://api.github.com/users/Wildanzr/following{/other_user}","gists_url":"https://api.github.com/users/Wildanzr/gists{/gist_id}","starred_url":"https://api.github.com/users/Wildanzr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Wildanzr/subscriptions","organizations_url":"https://api.github.com/users/Wildanzr/orgs","repos_url":"https://api.github.com/users/Wildanzr/repos","events_url":"https://api.github.com/users/Wildanzr/events{/privacy}","received_events_url":"https://api.github.com/users/Wildanzr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-18T13:45:09Z","updated_at":"2023-03-18T13:45:09Z","author_association":"NONE","body":"in my case this happened when there is no query activities for several minutes. Is there any session implemented?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1474855740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1475190014","html_url":"https://github.com/apache/couchdb/issues/1358#issuecomment-1475190014","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1358","id":1475190014,"node_id":"IC_kwDOAAMmUc5X7Zz-","user":{"login":"pavangolla","id":10584756,"node_id":"MDQ6VXNlcjEwNTg0NzU2","avatar_url":"https://avatars.githubusercontent.com/u/10584756?v=4","gravatar_id":"","url":"https://api.github.com/users/pavangolla","html_url":"https://github.com/pavangolla","followers_url":"https://api.github.com/users/pavangolla/followers","following_url":"https://api.github.com/users/pavangolla/following{/other_user}","gists_url":"https://api.github.com/users/pavangolla/gists{/gist_id}","starred_url":"https://api.github.com/users/pavangolla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pavangolla/subscriptions","organizations_url":"https://api.github.com/users/pavangolla/orgs","repos_url":"https://api.github.com/users/pavangolla/repos","events_url":"https://api.github.com/users/pavangolla/events{/privacy}","received_events_url":"https://api.github.com/users/pavangolla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-19T10:13:09Z","updated_at":"2023-03-19T10:13:09Z","author_association":"NONE","body":"Is this still an open issue in couch, I am also facing same error","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1475190014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1475350734","html_url":"https://github.com/apache/couchdb/issues/1358#issuecomment-1475350734","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1358","id":1475350734,"node_id":"IC_kwDOAAMmUc5X8BDO","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-19T18:11:15Z","updated_at":"2023-03-19T18:11:15Z","author_association":"CONTRIBUTOR","body":"Hey,\r\n\r\nwhile the original bug is almost five years old, with which version do you hit this error? Could you create a reproducer script for your issue? @pavangolla ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1475350734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1477316363","html_url":"https://github.com/apache/couchdb/issues/1976#issuecomment-1477316363","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1976","id":1477316363,"node_id":"IC_kwDOAAMmUc5YDg8L","user":{"login":"tewedaj","id":56552984,"node_id":"MDQ6VXNlcjU2NTUyOTg0","avatar_url":"https://avatars.githubusercontent.com/u/56552984?v=4","gravatar_id":"","url":"https://api.github.com/users/tewedaj","html_url":"https://github.com/tewedaj","followers_url":"https://api.github.com/users/tewedaj/followers","following_url":"https://api.github.com/users/tewedaj/following{/other_user}","gists_url":"https://api.github.com/users/tewedaj/gists{/gist_id}","starred_url":"https://api.github.com/users/tewedaj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tewedaj/subscriptions","organizations_url":"https://api.github.com/users/tewedaj/orgs","repos_url":"https://api.github.com/users/tewedaj/repos","events_url":"https://api.github.com/users/tewedaj/events{/privacy}","received_events_url":"https://api.github.com/users/tewedaj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-21T05:44:58Z","updated_at":"2023-03-21T05:44:58Z","author_association":"NONE","body":"did you ever solve this issue ?\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1477316363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1477561167","html_url":"https://github.com/apache/couchdb/issues/1976#issuecomment-1477561167","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1976","id":1477561167,"node_id":"IC_kwDOAAMmUc5YEctP","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-21T10:04:35Z","updated_at":"2023-03-21T10:04:35Z","author_association":"CONTRIBUTOR","body":"> did you ever solve this issue ?\r\n\r\nHi @tewedaj, this is an old issue and I can only repeat what Joan already said.\r\n\r\n> If you are looking for general support with using CouchDB, please try one of these other options:\r\n>\r\n>    The user mailing list. Signup instructions are [here](http://couchdb.apache.org/#mailing-lists)\r\n>    The Slack chat room. Joining instructions are [here](http://couchdb.apache.org/#chat)\r\n\r\nIf you have support questions, you know now what to do next, if you found a bug, create a (more detailed) bug report please.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1477561167/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1477732250","html_url":"https://github.com/apache/couchdb/pull/4483#issuecomment-1477732250","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4483","id":1477732250,"node_id":"IC_kwDOAAMmUc5YFGea","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-21T12:12:09Z","updated_at":"2023-03-21T12:12:09Z","author_association":"CONTRIBUTOR","body":"Great job @chewbranca 💯 \r\n\r\nI did review the PR in its entirety and provided some feedback on possible error handling. \r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1477732250/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1478060730","html_url":"https://github.com/apache/couchdb/pull/4484#issuecomment-1478060730","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4484","id":1478060730,"node_id":"IC_kwDOAAMmUc5YGWq6","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-21T15:36:22Z","updated_at":"2023-03-21T15:36:22Z","author_association":"CONTRIBUTOR","body":":pray: @jaydoane ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1478060730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1478932469","html_url":"https://github.com/apache/couchdb/issues/4489#issuecomment-1478932469","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4489","id":1478932469,"node_id":"IC_kwDOAAMmUc5YJrf1","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-22T05:20:20Z","updated_at":"2023-03-22T05:20:20Z","author_association":"CONTRIBUTOR","body":"Thank you for your report. Apologies for the error. I made an ASF infra ticket hopefully it's just a temporary blip. \r\nhttps://issues.apache.org/jira/browse/INFRA-24371\r\n\r\n> Debian Repositories are so plain dead simple, that there is absolutely no need to host them at some unreliable ISP.\r\nIf you need Jfrog to create the deb packages etc., then please consider some official mirror.\r\n\r\nThey maybe be simple but somebody has to host them. JFrog is not an ISP. There are also features we use like package signing, RPM support, automatic repo management etc.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1478932469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1480326718","html_url":"https://github.com/apache/couchdb/pull/4491#issuecomment-1480326718","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4491","id":1480326718,"node_id":"IC_kwDOAAMmUc5YO_4-","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-22T22:13:41Z","updated_at":"2023-03-22T22:13:41Z","author_association":"CONTRIBUTOR","body":"@rnewson forgot to add unit tests https://github.com/apache/couchdb/pull/4491#pullrequestreview-1353469385","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1480326718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1480332482","html_url":"https://github.com/apache/couchdb/pull/4492#issuecomment-1480332482","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4492","id":1480332482,"node_id":"IC_kwDOAAMmUc5YPBTC","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-22T22:19:59Z","updated_at":"2023-03-22T22:19:59Z","author_association":"CONTRIBUTOR","body":"yes, and it bloats the output with no more useful info...","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1480332482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1481288403","html_url":"https://github.com/apache/couchdb/issues/4489#issuecomment-1481288403","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4489","id":1481288403,"node_id":"IC_kwDOAAMmUc5YSqrT","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-23T14:21:25Z","updated_at":"2023-03-23T14:21:25Z","author_association":"CONTRIBUTOR","body":"@hilbix access should be restored, closing","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1481288403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1482007972","html_url":"https://github.com/apache/couchdb/pull/4495#issuecomment-1482007972","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4495","id":1482007972,"node_id":"IC_kwDOAAMmUc5YVaWk","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-23T22:42:35Z","updated_at":"2023-03-23T22:42:35Z","author_association":"CONTRIBUTOR","body":"A PR to add a bit more coverage to the tests https://github.com/apache/couchdb/pull/4496","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1482007972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1482448116","html_url":"https://github.com/apache/couchdb/issues/4497#issuecomment-1482448116","issue_url":"https://api.github.com/repos/apache/couchdb/issues/4497","id":1482448116,"node_id":"IC_kwDOAAMmUc5YXFz0","user":{"login":"big-r81","id":9985963,"node_id":"MDQ6VXNlcjk5ODU5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9985963?v=4","gravatar_id":"","url":"https://api.github.com/users/big-r81","html_url":"https://github.com/big-r81","followers_url":"https://api.github.com/users/big-r81/followers","following_url":"https://api.github.com/users/big-r81/following{/other_user}","gists_url":"https://api.github.com/users/big-r81/gists{/gist_id}","starred_url":"https://api.github.com/users/big-r81/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/big-r81/subscriptions","organizations_url":"https://api.github.com/users/big-r81/orgs","repos_url":"https://api.github.com/users/big-r81/repos","events_url":"https://api.github.com/users/big-r81/events{/privacy}","received_events_url":"https://api.github.com/users/big-r81/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-24T08:47:41Z","updated_at":"2023-03-24T08:47:41Z","author_association":"CONTRIBUTOR","body":"Could you please show us the complete log file (as  a gist or from a paste-bin service)?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/1482448116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]