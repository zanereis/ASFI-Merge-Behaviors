[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434572386","html_url":"https://github.com/apache/accumulo/pull/718#issuecomment-434572386","issue_url":"https://api.github.com/repos/apache/accumulo/issues/718","id":434572386,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDU3MjM4Ng==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T06:08:36Z","updated_at":"2018-10-31T06:08:36Z","author_association":"MEMBER","body":"@keith-turner This change seems to trigger a doubling of the number of ZK watchers, for some reason. Any ideas?\r\n\r\n```\r\njava.lang.AssertionError: Expected number of watchers to be contained in (475, 700), but actually was 1533\r\n\tat org.apache.accumulo.test.functional.WatchTheWatchCountIT.test(WatchTheWatchCountIT.java:78)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434572386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434715687","html_url":"https://github.com/apache/accumulo/issues/739#issuecomment-434715687","issue_url":"https://api.github.com/repos/apache/accumulo/issues/739","id":434715687,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDcxNTY4Nw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T14:47:54Z","updated_at":"2018-10-31T14:47:54Z","author_association":"CONTRIBUTOR","body":"Thanks for the stacktrace @MrDLontheway .  I see you are running a Map Reduce job using Spark.  Any more information you can provide?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434715687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434716842","html_url":"https://github.com/apache/accumulo/pull/718#issuecomment-434716842","issue_url":"https://api.github.com/repos/apache/accumulo/issues/718","id":434716842,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDcxNjg0Mg==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T14:50:49Z","updated_at":"2018-10-31T14:50:49Z","author_association":"CONTRIBUTOR","body":"@ctubbsii I looked into it and its not this change that is causing that IT to fail.  The changes to ServerUtil in d83837c81a29f253e41bac313ae768963320e71a are causing it.  The scan over all the props to check for deprecated props that are set seems to be setting lots of watchers on server startup.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434716842/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434727457","html_url":"https://github.com/apache/accumulo/issues/739#issuecomment-434727457","issue_url":"https://api.github.com/repos/apache/accumulo/issues/739","id":434727457,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDcyNzQ1Nw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T15:17:40Z","updated_at":"2018-11-01T00:49:37Z","author_association":"MEMBER","body":"This could be a thrift version mismatch. Perhaps multiple versions of\r\nthrift are on the class path?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434727457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434735435","html_url":"https://github.com/apache/accumulo/pull/718#issuecomment-434735435","issue_url":"https://api.github.com/repos/apache/accumulo/issues/718","id":434735435,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDczNTQzNQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T15:37:46Z","updated_at":"2018-10-31T15:37:46Z","author_association":"MEMBER","body":"Thanks for looking into it. That makes sense.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434735435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434743907","html_url":"https://github.com/apache/accumulo/pull/718#issuecomment-434743907","issue_url":"https://api.github.com/repos/apache/accumulo/issues/718","id":434743907,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDc0MzkwNw==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T15:58:47Z","updated_at":"2018-10-31T15:58:47Z","author_association":"MEMBER","body":"I am working on a fix for this. I should have a PR soon.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434743907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434767965","html_url":"https://github.com/apache/accumulo/issues/738#issuecomment-434767965","issue_url":"https://api.github.com/repos/apache/accumulo/issues/738","id":434767965,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDc2Nzk2NQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T17:03:13Z","updated_at":"2018-10-31T17:03:13Z","author_association":"CONTRIBUTOR","body":"> i tried to search the documents and use some character like '*' or '%' etc. it's all fail. so i'd ask what wild character is or any other way for searching row function in Accumulo?\r\n\r\nIt sounds like you want a prefix range, can do this in java code but not in shell. We could add a shell option for prefix ranges.\r\n\r\n```java\r\n// Range for all rows starting with 'abc'\r\nRange pr = Range.prefix(\"abc\");\r\n```\r\n\r\n> plus, How to give -b and -e at 'Range rm=Range.exact(new Text(bkey));' in Accumulo java api for scanning?\r\n\r\nYou can use the range constructor for this like the following.\r\n\r\n```java\r\nString startRow =\"abc\";\r\nString endRow = \"def\";\r\n\r\nRange rm = new Range(startRow, true, endRow, true);\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434767965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434795960","html_url":"https://github.com/apache/accumulo/issues/473#issuecomment-434795960","issue_url":"https://api.github.com/repos/apache/accumulo/issues/473","id":434795960,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDc5NTk2MA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T18:22:46Z","updated_at":"2018-10-31T18:37:55Z","author_association":"CONTRIBUTOR","body":"I looked into doing this.  I was thinking I could just use the min and max rows from the load mapping to scan the metadata table.  However if a tablet at the min or max row has split then it may copy some load flags outside of the range.  There are three possible ways to avoid this :\r\n\r\n 1. Ignore this edge case because metadata compaction will eventually clean up load flags.\r\n 2. Make the split code smarter about copying load flags.  Currently all load flags go to both children, even if the loaded file does not.  This may be impossible though for the case the file was compacted away.\r\n 3. Get the min and max row in the metadata table at the beginning of the fate operation and use these rows to limit the cleanup at the end.  Since the min and max would be recorded before anything is loaded splits occurring after/during the fate load step would fall within this range.  The could be done in the first fate step when it checks for merges.\r\n\r\nOption 3 allows the final fate step to avoid opening the load mapping file to find the min and max row.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434795960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434809135","html_url":"https://github.com/apache/accumulo/issues/662#issuecomment-434809135","issue_url":"https://api.github.com/repos/apache/accumulo/issues/662","id":434809135,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDgwOTEzNQ==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T19:02:42Z","updated_at":"2018-10-31T19:02:42Z","author_association":"MEMBER","body":"Fixed in https://github.com/apache/accumulo-website/pull/111","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434809135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434810503","html_url":"https://github.com/apache/accumulo/issues/606#issuecomment-434810503","issue_url":"https://api.github.com/repos/apache/accumulo/issues/606","id":434810503,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDgxMDUwMw==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T19:06:46Z","updated_at":"2018-10-31T19:06:46Z","author_association":"MEMBER","body":"Completed in https://github.com/apache/accumulo/pull/613","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434810503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434812593","html_url":"https://github.com/apache/accumulo/issues/569#issuecomment-434812593","issue_url":"https://api.github.com/repos/apache/accumulo/issues/569","id":434812593,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDgxMjU5Mw==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T19:13:24Z","updated_at":"2018-10-31T19:13:24Z","author_association":"MEMBER","body":"This can be closed as there is a profile (`-Dhadoop.profile=3`) to build Accumulo 1.9 for hadoop 3","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434812593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434812975","html_url":"https://github.com/apache/accumulo/issues/698#issuecomment-434812975","issue_url":"https://api.github.com/repos/apache/accumulo/issues/698","id":434812975,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDgxMjk3NQ==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T19:14:40Z","updated_at":"2018-10-31T19:14:40Z","author_association":"MEMBER","body":"This issue is the sames as #454.  Can we close one of them?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434812975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434813193","html_url":"https://github.com/apache/accumulo/issues/527#issuecomment-434813193","issue_url":"https://api.github.com/repos/apache/accumulo/issues/527","id":434813193,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDgxMzE5Mw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T19:15:23Z","updated_at":"2018-10-31T19:15:23Z","author_association":"CONTRIBUTOR","body":"Done in #598 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434813193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434813643","html_url":"https://github.com/apache/accumulo/issues/408#issuecomment-434813643","issue_url":"https://api.github.com/repos/apache/accumulo/issues/408","id":434813643,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDgxMzY0Mw==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T19:16:40Z","updated_at":"2018-10-31T19:16:40Z","author_association":"MEMBER","body":"This work was completed with several pull requests that mentioned this issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434813643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434827498","html_url":"https://github.com/apache/accumulo/issues/698#issuecomment-434827498","issue_url":"https://api.github.com/repos/apache/accumulo/issues/698","id":434827498,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDgyNzQ5OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T20:00:38Z","updated_at":"2018-10-31T20:00:38Z","author_association":"MEMBER","body":"Closed as duplicate of #454 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434827498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434833604","html_url":"https://github.com/apache/accumulo/issues/738#issuecomment-434833604","issue_url":"https://api.github.com/repos/apache/accumulo/issues/738","id":434833604,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDgzMzYwNA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T20:20:10Z","updated_at":"2018-10-31T20:20:10Z","author_association":"MEMBER","body":"Closing issue, since the question was answered. Please continue to discuss, if necessary.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434833604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434886350","html_url":"https://github.com/apache/accumulo/issues/738#issuecomment-434886350","issue_url":"https://api.github.com/repos/apache/accumulo/issues/738","id":434886350,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDg4NjM1MA==","user":{"login":"byungwok","id":39606428,"node_id":"MDQ6VXNlcjM5NjA2NDI4","avatar_url":"https://avatars.githubusercontent.com/u/39606428?v=4","gravatar_id":"","url":"https://api.github.com/users/byungwok","html_url":"https://github.com/byungwok","followers_url":"https://api.github.com/users/byungwok/followers","following_url":"https://api.github.com/users/byungwok/following{/other_user}","gists_url":"https://api.github.com/users/byungwok/gists{/gist_id}","starred_url":"https://api.github.com/users/byungwok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/byungwok/subscriptions","organizations_url":"https://api.github.com/users/byungwok/orgs","repos_url":"https://api.github.com/users/byungwok/repos","events_url":"https://api.github.com/users/byungwok/events{/privacy}","received_events_url":"https://api.github.com/users/byungwok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-10-31T23:53:54Z","updated_at":"2018-10-31T23:53:54Z","author_association":"NONE","body":"Thx very ill try!!!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434886350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434892412","html_url":"https://github.com/apache/accumulo/issues/739#issuecomment-434892412","issue_url":"https://api.github.com/repos/apache/accumulo/issues/739","id":434892412,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDg5MjQxMg==","user":{"login":"Le-Dai","id":29403543,"node_id":"MDQ6VXNlcjI5NDAzNTQz","avatar_url":"https://avatars.githubusercontent.com/u/29403543?v=4","gravatar_id":"","url":"https://api.github.com/users/Le-Dai","html_url":"https://github.com/Le-Dai","followers_url":"https://api.github.com/users/Le-Dai/followers","following_url":"https://api.github.com/users/Le-Dai/following{/other_user}","gists_url":"https://api.github.com/users/Le-Dai/gists{/gist_id}","starred_url":"https://api.github.com/users/Le-Dai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Le-Dai/subscriptions","organizations_url":"https://api.github.com/users/Le-Dai/orgs","repos_url":"https://api.github.com/users/Le-Dai/repos","events_url":"https://api.github.com/users/Le-Dai/events{/privacy}","received_events_url":"https://api.github.com/users/Le-Dai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T00:32:12Z","updated_at":"2018-11-01T00:54:40Z","author_association":"CONTRIBUTOR","body":"i use spark 1.6 and hadoop 2.6 accumulo 1.9.2\r\n\r\n@milleruntime \r\n```java\r\npackage com.wxstc.dl;\r\n\r\nimport com.boozallen.cognition.spark.accumulo.AccumuloSpark;\r\nimport com.wxstc.dl.accumulo.AccumuloConnector;\r\nimport org.apache.accumulo.core.client.ClientConfiguration;\r\nimport org.apache.accumulo.core.client.mapreduce.AccumuloInputFormat;\r\nimport org.apache.accumulo.core.client.security.tokens.PasswordToken;\r\nimport org.apache.accumulo.core.data.Key;\r\nimport org.apache.accumulo.core.data.Value;\r\nimport org.apache.accumulo.core.security.Authorizations;\r\nimport org.apache.accumulo.core.util.PeekingIterator;\r\nimport org.apache.hadoop.conf.Configuration;\r\nimport org.apache.hadoop.io.Text;\r\nimport org.apache.hadoop.mapreduce.Job;\r\nimport org.apache.spark.SparkConf;\r\nimport org.apache.spark.api.java.JavaPairRDD;\r\nimport org.apache.spark.api.java.JavaSparkContext;\r\nimport scala.Tuple2;\r\n\r\nimport java.io.IOException;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n\r\npublic class MyAccumuloSpark {\r\n    public static void main(String[] args) throws Exception {\r\n//        SparkSession spark = SparkSession.builder().master(\"local[*]\").appName(\"Test\").getOrCreate();\r\n//        final JavaSparkContext ctx = JavaSparkContext.fromSparkContext(spark.sparkContext());\r\n\r\n        SparkConf conf = new SparkConf().setAppName(\"Test\").setMaster(\"local[*]\");\r\n//\t\tconf.set(\"spark.driver.extraClassPath\", \"/data/ojdbc14-10.2.0.3.0.jar\");\r\n//        conf.set(\"spark.executor.extraClassPath\", \"/data/ojdbc14-10.2.0.3.0.jar\");\r\n        JavaSparkContext sparkContext = new JavaSparkContext(conf);\r\n\r\n        Job job = new Job(sparkContext.hadoopConfiguration());\r\n        AccumuloInputFormat.setScanAuthorizations(job, new Authorizations(\"vis22\",\"vis1\"));\r\n        AccumuloInputFormat.setConnectorInfo(job, \"root\", new PasswordToken(\"123456\"));\r\n        AccumuloInputFormat.setZooKeeperInstance(job,\r\n                ClientConfiguration.loadDefault().withInstance(AccumuloConnector.instanceName).withZkHosts(AccumuloConnector.zooServers));\r\n        AccumuloInputFormat.setInputTableName(job,\"table1\");\r\n\r\n//        JavaPairRDD<Text, PeekingIterator<java.util.Map.Entry<Key, Value>>> accrdd = sparkContext.newAPIHadoopRDD(sparkContext.hadoopConfiguration(),\r\n//                AccumuloInputFormat.class, Text.class,PeekingIterator<java.util.Map.Entry<Key, Value>>);\r\n\r\n        JavaPairRDD<Key, Value> keyValueJavaPairRDD = sparkContext.newAPIHadoopRDD(job.getConfiguration(),\r\n                AccumuloInputFormat.class, Key.class, Value.class);\r\n        List<Tuple2<Key, Value>> collect = keyValueJavaPairRDD.collect();\r\n\r\n        for (Tuple2<Key, Value> t2:\r\n        collect) {\r\n            Key k = t2._1;\r\n            Value b = t2._2;\r\n            System.out.println(\"key:\"+k.toString());\r\n            System.out.println(\"Value:\"+b.toString());\r\n        }\r\n        sparkContext.stop();\r\n    }\r\n\r\n}\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434892412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434895269","html_url":"https://github.com/apache/accumulo/issues/739#issuecomment-434895269","issue_url":"https://api.github.com/repos/apache/accumulo/issues/739","id":434895269,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDg5NTI2OQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T00:52:38Z","updated_at":"2018-11-01T00:52:38Z","author_association":"MEMBER","body":"@MrDLontheway I think the problem is likely your class path has an incorrect version of Thrift, or multiple versions of Thrift. Check your class path. Accumulo 1.9.2 requires thrift 0.9.3.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434895269/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434914557","html_url":"https://github.com/apache/accumulo/issues/739#issuecomment-434914557","issue_url":"https://api.github.com/repos/apache/accumulo/issues/739","id":434914557,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDkxNDU1Nw==","user":{"login":"Le-Dai","id":29403543,"node_id":"MDQ6VXNlcjI5NDAzNTQz","avatar_url":"https://avatars.githubusercontent.com/u/29403543?v=4","gravatar_id":"","url":"https://api.github.com/users/Le-Dai","html_url":"https://github.com/Le-Dai","followers_url":"https://api.github.com/users/Le-Dai/followers","following_url":"https://api.github.com/users/Le-Dai/following{/other_user}","gists_url":"https://api.github.com/users/Le-Dai/gists{/gist_id}","starred_url":"https://api.github.com/users/Le-Dai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Le-Dai/subscriptions","organizations_url":"https://api.github.com/users/Le-Dai/orgs","repos_url":"https://api.github.com/users/Le-Dai/repos","events_url":"https://api.github.com/users/Le-Dai/events{/privacy}","received_events_url":"https://api.github.com/users/Le-Dai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T02:57:36Z","updated_at":"2018-11-01T02:57:36Z","author_association":"CONTRIBUTOR","body":"@ctubbsii thanks","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/434914557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435058936","html_url":"https://github.com/apache/accumulo/issues/742#issuecomment-435058936","issue_url":"https://api.github.com/repos/apache/accumulo/issues/742","id":435058936,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTA1ODkzNg==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T14:32:34Z","updated_at":"2018-11-01T14:32:34Z","author_association":"CONTRIBUTOR","body":"The following may work, have not tested it\r\n\r\nCopy to local\r\n\r\n```bash\r\nhadoop fs -cat /tmp/table1_export/distcp.txt | xargs -I XX hadoop fs -cp XX file:///local/dir\r\n```\r\n\r\ncopy from local to hdfs\r\n\r\n\r\n```bash\r\nhadoop fs -cp file:///local/dir hdfs://dest/dir\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435058936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435143498","html_url":"https://github.com/apache/accumulo/issues/577#issuecomment-435143498","issue_url":"https://api.github.com/repos/apache/accumulo/issues/577","id":435143498,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTE0MzQ5OA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T18:41:37Z","updated_at":"2018-11-01T18:41:37Z","author_association":"CONTRIBUTOR","body":"This may have been fixed by b8f574fc282cdc7fc4f92b7bf0d5db49bc7ee4ce ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435143498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435170305","html_url":"https://github.com/apache/accumulo/issues/577#issuecomment-435170305","issue_url":"https://api.github.com/repos/apache/accumulo/issues/577","id":435170305,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTE3MDMwNQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-01T20:09:59Z","updated_at":"2018-11-01T20:09:59Z","author_association":"MEMBER","body":"@keith-turner Should we close this, then, and reopen if it's still broken?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435170305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435230161","html_url":"https://github.com/apache/accumulo/issues/742#issuecomment-435230161","issue_url":"https://api.github.com/repos/apache/accumulo/issues/742","id":435230161,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTIzMDE2MQ==","user":{"login":"byungwok","id":39606428,"node_id":"MDQ6VXNlcjM5NjA2NDI4","avatar_url":"https://avatars.githubusercontent.com/u/39606428?v=4","gravatar_id":"","url":"https://api.github.com/users/byungwok","html_url":"https://github.com/byungwok","followers_url":"https://api.github.com/users/byungwok/followers","following_url":"https://api.github.com/users/byungwok/following{/other_user}","gists_url":"https://api.github.com/users/byungwok/gists{/gist_id}","starred_url":"https://api.github.com/users/byungwok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/byungwok/subscriptions","organizations_url":"https://api.github.com/users/byungwok/orgs","repos_url":"https://api.github.com/users/byungwok/repos","events_url":"https://api.github.com/users/byungwok/events{/privacy}","received_events_url":"https://api.github.com/users/byungwok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T00:19:17Z","updated_at":"2018-11-02T00:19:17Z","author_association":"NONE","body":"thank you i'll try but well..it may look like the same function that 'hdfs dfs -put&-get' anyway i'll try","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435230161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435295707","html_url":"https://github.com/apache/accumulo/issues/742#issuecomment-435295707","issue_url":"https://api.github.com/repos/apache/accumulo/issues/742","id":435295707,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTI5NTcwNw==","user":{"login":"byungwok","id":39606428,"node_id":"MDQ6VXNlcjM5NjA2NDI4","avatar_url":"https://avatars.githubusercontent.com/u/39606428?v=4","gravatar_id":"","url":"https://api.github.com/users/byungwok","html_url":"https://github.com/byungwok","followers_url":"https://api.github.com/users/byungwok/followers","following_url":"https://api.github.com/users/byungwok/following{/other_user}","gists_url":"https://api.github.com/users/byungwok/gists{/gist_id}","starred_url":"https://api.github.com/users/byungwok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/byungwok/subscriptions","organizations_url":"https://api.github.com/users/byungwok/orgs","repos_url":"https://api.github.com/users/byungwok/repos","events_url":"https://api.github.com/users/byungwok/events{/privacy}","received_events_url":"https://api.github.com/users/byungwok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T07:35:55Z","updated_at":"2018-11-02T07:35:55Z","author_association":"NONE","body":"![hdfs](https://user-images.githubusercontent.com/39606428/47899063-b1521f80-debb-11e8-9c64-0a79df8fdd33.PNG)\r\n![hdfstolocal](https://user-images.githubusercontent.com/39606428/47899064-b1521f80-debb-11e8-9ad1-dd49f03b257d.PNG)\r\n\r\nyap i tested what u comment me both. it takes all *.rf files related with Accumulo table in hdfs. then can go from local to hdfs Thanks\r\n\r\nSo what about 'distcp.txt' files? should i change the hdfs url info to destination hdfs ip:port manually? i think it's main to re-create accumulo table in the end hdfs. how should i handle it?\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435295707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435380175","html_url":"https://github.com/apache/accumulo/pull/732#issuecomment-435380175","issue_url":"https://api.github.com/repos/apache/accumulo/issues/732","id":435380175,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTM4MDE3NQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T13:28:42Z","updated_at":"2018-11-02T13:28:42Z","author_association":"CONTRIBUTOR","body":"@cleroux Thanks for the contribution!  If you'd like to be added to the contributors page at https://accumulo.apache.org/people, please submit a pull request to update the website page at https://github.com/apache/accumulo-website/blob/master/pages/people.md with your details.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435380175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435443513","html_url":"https://github.com/apache/accumulo/issues/742#issuecomment-435443513","issue_url":"https://api.github.com/repos/apache/accumulo/issues/742","id":435443513,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTQ0MzUxMw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-02T16:55:01Z","updated_at":"2018-11-02T16:55:01Z","author_association":"CONTRIBUTOR","body":"> So what about 'distcp.txt' files? should i change the hdfs url info to destination hdfs ip:port manually? i think it's main to re-create accumulo table in the end hdfs. how should i handle it?\r\n\r\n`distcp.txt` is not needed for import.  For import you just need all files listed in `distcp.txt` in a single directory in HDFS.  `distcp.txt` is just created to help copy all of the files needed to one dir.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435443513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435721079","html_url":"https://github.com/apache/accumulo/issues/742#issuecomment-435721079","issue_url":"https://api.github.com/repos/apache/accumulo/issues/742","id":435721079,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTcyMTA3OQ==","user":{"login":"byungwok","id":39606428,"node_id":"MDQ6VXNlcjM5NjA2NDI4","avatar_url":"https://avatars.githubusercontent.com/u/39606428?v=4","gravatar_id":"","url":"https://api.github.com/users/byungwok","html_url":"https://github.com/byungwok","followers_url":"https://api.github.com/users/byungwok/followers","following_url":"https://api.github.com/users/byungwok/following{/other_user}","gists_url":"https://api.github.com/users/byungwok/gists{/gist_id}","starred_url":"https://api.github.com/users/byungwok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/byungwok/subscriptions","organizations_url":"https://api.github.com/users/byungwok/orgs","repos_url":"https://api.github.com/users/byungwok/repos","events_url":"https://api.github.com/users/byungwok/events{/privacy}","received_events_url":"https://api.github.com/users/byungwok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-04T23:58:56Z","updated_at":"2018-11-05T00:34:16Z","author_association":"NONE","body":"thank you \r\ngot it. so, in short, I don't need to handle any hdfs url in accumulo export files manually? it sounds like that  right?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435721079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435732114","html_url":"https://github.com/apache/accumulo/issues/742#issuecomment-435732114","issue_url":"https://api.github.com/repos/apache/accumulo/issues/742","id":435732114,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTczMjExNA==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T01:52:28Z","updated_at":"2018-11-05T01:52:28Z","author_association":"CONTRIBUTOR","body":"I believe that you are correct. In the Accumulo example, the use of distcp is because that is the most common way of transferring the files between clusters.  How ever you get the files to the destination system is really up to you.  If you can get the files listed in discp.txt and the exportMetadata.zip file into a single directory on the destination system, the import command does not care how they got there, and you should be good to go.\r\n\r\nThe Accumulo bulk import command takes a table name and the hdfs directory on the destination system, the only hdfs url needed is the url / path to the directory with the files. \r\n\r\n> importtable table_name hdfs_path_to_files\r\n\r\nThe import uses the exportMetadata.zip file to recreate the table metadata and settings (including the splits) and then moves the rfiles in the provided directory into / under the Accumulo directory structure (i.e. xxx/accumulo/tables/new_table_id/...rf)\r\n\r\nThe paths in the distcp.txt file are a convenience for using the distcp command -f option  (see https://hadoop.apache.org/docs/current/hadoop-distcp/DistCp.html):\r\n\r\n> bash$ hadoop distcp -f hdfs://nn1:8020/distcp.txt hdfs://nn2:8020/bar/foo\r\n\r\ndistcp uses the paths listed in the provided file (distcp.txt in this case) and copies them to the foo directory on the destination system.  The results of distcp on the destination system are a single directory, with the Accumulo rfiles and the exportMetadata.zip file. \r\n\r\nThe alternate form of the distcp command takes a file list and the destination system directory, so you could do something like:\r\n\r\n> disctp hdfs:nn1/accumulo/tables/yy/Axxxx1.rf hdfs:nn1/acumulo/tables/yy/Axxxxx2.rf hdfs:nn1/path_to_exportMetadata.zip  hdfs:nn2/foo/bar  \r\n\r\nPassing all of the paths from distcp.txt, including the exportMetadata.zip file to distcp, the result would be the same - a single directory on the destination system with the Accumulo rfiles and the exportMetadata.zip file, its just much easier in this case to give it the files with -f.\r\n\r\nYou don't need to use distcp, you just need to end up with the same, expected directory and all of the files. Hope this helps.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435732114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435752439","html_url":"https://github.com/apache/accumulo/issues/742#issuecomment-435752439","issue_url":"https://api.github.com/repos/apache/accumulo/issues/742","id":435752439,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTc1MjQzOQ==","user":{"login":"byungwok","id":39606428,"node_id":"MDQ6VXNlcjM5NjA2NDI4","avatar_url":"https://avatars.githubusercontent.com/u/39606428?v=4","gravatar_id":"","url":"https://api.github.com/users/byungwok","html_url":"https://github.com/byungwok","followers_url":"https://api.github.com/users/byungwok/followers","following_url":"https://api.github.com/users/byungwok/following{/other_user}","gists_url":"https://api.github.com/users/byungwok/gists{/gist_id}","starred_url":"https://api.github.com/users/byungwok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/byungwok/subscriptions","organizations_url":"https://api.github.com/users/byungwok/orgs","repos_url":"https://api.github.com/users/byungwok/repos","events_url":"https://api.github.com/users/byungwok/events{/privacy}","received_events_url":"https://api.github.com/users/byungwok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T04:32:34Z","updated_at":"2018-11-05T04:32:34Z","author_association":"NONE","body":"Thank you for your comment 'EdColeman' I'll try all","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435752439/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435768517","html_url":"https://github.com/apache/accumulo/issues/742#issuecomment-435768517","issue_url":"https://api.github.com/repos/apache/accumulo/issues/742","id":435768517,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTc2ODUxNw==","user":{"login":"byungwok","id":39606428,"node_id":"MDQ6VXNlcjM5NjA2NDI4","avatar_url":"https://avatars.githubusercontent.com/u/39606428?v=4","gravatar_id":"","url":"https://api.github.com/users/byungwok","html_url":"https://github.com/byungwok","followers_url":"https://api.github.com/users/byungwok/followers","following_url":"https://api.github.com/users/byungwok/following{/other_user}","gists_url":"https://api.github.com/users/byungwok/gists{/gist_id}","starred_url":"https://api.github.com/users/byungwok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/byungwok/subscriptions","organizations_url":"https://api.github.com/users/byungwok/orgs","repos_url":"https://api.github.com/users/byungwok/repos","events_url":"https://api.github.com/users/byungwok/events{/privacy}","received_events_url":"https://api.github.com/users/byungwok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T06:32:24Z","updated_at":"2018-11-05T23:33:11Z","author_association":"NONE","body":"![default](https://user-images.githubusercontent.com/39606428/47980989-63345a80-e10d-11e8-8a28-9acba8655164.PNG)\r\n\r\nThank you for all answers. when i tried to import data in accumulo, it said 'ERROR: org.apache.accumulo.core.client.AccumuloException: Incompatible data version 1'. Does it means to has different version between depart hadoop and dest hadoop or accumulo?  FYI i was testing this between Apache accumulo 1.8.1 and accumulo 1.7.2-cdh5.5.0. does it make this msg? then for fixing it up, what should i do?  touching version and the other src info in 'accumulo_export_info.txt', exportMetadata.zip?      \r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435768517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435912630","html_url":"https://github.com/apache/accumulo/issues/742#issuecomment-435912630","issue_url":"https://api.github.com/repos/apache/accumulo/issues/742","id":435912630,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTkxMjYzMA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T15:19:10Z","updated_at":"2018-11-05T15:19:19Z","author_association":"CONTRIBUTOR","body":"> Does it means to has different version between depart hadoop and dest hadoop or accumulo?\r\n\r\nThis is an Accumulo error.  Serialization of RFiles changes between 1.7 and 1.8, so can not export from 1.8 and import to 1.7. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435912630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435954334","html_url":"https://github.com/apache/accumulo/issues/708#issuecomment-435954334","issue_url":"https://api.github.com/repos/apache/accumulo/issues/708","id":435954334,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTk1NDMzNA==","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T17:08:21Z","updated_at":"2018-11-05T18:52:51Z","author_association":"CONTRIBUTOR","body":"I'm planning to refactor the packages as listed below. Let me know if you have suggested changes prior to the update, especially as it pertains to the security/crypto packages.\r\n\r\n(EDIT by @ctubbsii for readability)\r\n\r\nIn `org.apache.accumulo.core`:\r\n\r\n| From | To |\r\n| ---- | -- |\r\n| client.impl | impl.client |\r\n| client.impl.thrift | impl.client.thrift |\r\n| client.lexicoder.impl | impl.client.lexicoder |\r\n| client.mapred.impl | impl.client.mapred |\r\n| client.mapreduce.impl | impl.client.mapreduce |\r\n| client.mapreduce.lib.impl | impl.client.mapreduce.lib |\r\n| data.impl | impl.data |\r\n| data.thrift | impl.data.thrift |\r\n| security.crypto | crypto.security |\r\n| security.crypto.impl | crypto.security.impl |\r\n| security.crypto.streams | crypto.security.streams |\r\n| security.thrift | impl.security.thrift |\r\n\r\nIn `org.apache.accumulo` (for minicluster):\r\n\r\n| From | To |\r\n| ---- | -- |\r\n| minicluster.impl  | impl.minicluster |\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435954334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435963887","html_url":"https://github.com/apache/accumulo/issues/708#issuecomment-435963887","issue_url":"https://api.github.com/repos/apache/accumulo/issues/708","id":435963887,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTk2Mzg4Nw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T17:35:07Z","updated_at":"2018-11-05T17:35:07Z","author_association":"CONTRIBUTOR","body":"@jmark99 We might be able to simplify the crypto packages further but we can do that as a follow on task.  Looks good!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435963887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435994977","html_url":"https://github.com/apache/accumulo/issues/708#issuecomment-435994977","issue_url":"https://api.github.com/repos/apache/accumulo/issues/708","id":435994977,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTk5NDk3Nw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T19:02:47Z","updated_at":"2018-11-05T19:02:47Z","author_association":"MEMBER","body":"@jmark99 I think the following changes would be better:\r\n\r\nIn `org.apache.accumulo.core`:\r\n\r\n| From | To |\r\n| ---- | -- |\r\n| client.impl | clientImpl |\r\n| client.impl.thrift | clientImpl.thrift |\r\n| client.lexicoder.impl | clientImpl.lexicoder |\r\n| client.mapred.impl | clientImpl.mapred |\r\n| client.mapreduce.impl | clientImpl.mapreduce |\r\n| client.mapreduce.lib.impl | clientImpl.mapreduce.lib |\r\n| data.impl | dataImpl |\r\n| data.thrift | dataImpl.thrift |\r\n\r\nIn `org.apache.accumulo` (for minicluster):\r\n\r\n| From | To |\r\n| ---- | -- |\r\n| minicluster.impl  | miniclusterImpl |\r\n\r\nFor the security packages, I'm not sure, but have added inline questions:\r\n\r\n| From | To | Question |\r\n| ---- | -- | -------- |\r\n| security.crypto | crypto.security | What's the value in renaming this? At the very least, \"security\" here is redundant, since crypto implies a security feature. |\r\n| security.crypto.impl | crypto.security.impl | Not sure about this, but should be something like securityImpl.crypto? |\r\n| security.crypto.streams | crypto.security.streams | Not sure about this? |\r\n| security.thrift | impl.security.thrift | Should be securityImpl.thrift? |\r\n\r\nChanging from `x.impl` to `xImpl` keeps the implementation package sorted right next to the public API package `x`, which is convenient, but without polluting it with non-API sub-packages.\r\n\r\nOther things to note: changing the location of the thrift classes will require a change in our code generation scripts, which will also affect other modules.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435994977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435996284","html_url":"https://github.com/apache/accumulo/issues/746#issuecomment-435996284","issue_url":"https://api.github.com/repos/apache/accumulo/issues/746","id":435996284,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTk5NjI4NA==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T19:06:04Z","updated_at":"2018-11-05T19:06:04Z","author_association":"MEMBER","body":"In `accumulo-env.sh`, we build `JAVA_OPTS` but allow users pass in extra options using `ACCUMULO_JAVA_OPTS`:\r\n```bash\r\n## JVM options set for all processes. Extra options can be passed in by setting ACCUMULO_JAVA_OPTS to an array of options.\r\nJAVA_OPTS=(\"${ACCUMULO_JAVA_OPTS[@]}\"\r\n  '-XX:+UseConcMarkSweepGC'\r\n  '-XX:CMSInitiatingOccupancyFraction=75'\r\n  '-XX:+CMSClassUnloadingEnabled'\r\n  '-XX:OnOutOfMemoryError=kill -9 %p'\r\n  '-XX:-OmitStackTraceInFastThrow'\r\n  '-Djava.net.preferIPv4Stack=true'\r\n  \"-Daccumulo.native.lib.path=${lib}/native\")\r\n```\r\n\r\nIn `bin/accumulo`, we exec java with `JAVA_OPTS`:\r\n```bash\r\nexec \"${JAVA[@]}\" \"${JAVA_OPTS[@]}\" org.apache.accumulo.start.Main \"$@\"\r\n```\r\n\r\nIf we switch to `JAVA_TOOL_OPTIONS`, it sounds like we shouldn't exec java with `JAVA_TOOL_OPTIONS` as the JVM will include this environmental variable on its command line. However, are we sure this env variable is used by every JDK?\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435996284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435999831","html_url":"https://github.com/apache/accumulo/issues/708#issuecomment-435999831","issue_url":"https://api.github.com/repos/apache/accumulo/issues/708","id":435999831,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTk5OTgzMQ==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T19:16:17Z","updated_at":"2018-11-05T19:16:17Z","author_association":"MEMBER","body":"@ctubbsii, Better sorting is a nice idea but using `xImpl` breaks the [lowercase naming convention for packages](https://docs.oracle.com/javase/tutorial/java/package/namingpkgs.html). ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/435999831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436020236","html_url":"https://github.com/apache/accumulo/issues/708#issuecomment-436020236","issue_url":"https://api.github.com/repos/apache/accumulo/issues/708","id":436020236,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjAyMDIzNg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T20:17:56Z","updated_at":"2018-11-05T20:17:56Z","author_association":"MEMBER","body":"@mikewalch That link is to a tutorial, which explains a simplified convention. A better link on package naming conventions is probably http://java.sun.com/docs/codeconv/html/CodeConventions.doc8.html , which explains that the package name *prefix* should be all lower-case, based on organizations DNS, but also spells out that \"Subsequent components of the package name vary according to an organization's own internal naming conventions.\"\r\n\r\nI think `camelCase` is fine as a convention for these \"subsequent components\" impl packages (as long as it starts with a lowercase, to not look like conflict with class names). And, this naming convention is permitted by the JLS. `x_impl` is also an option, but I just don't like it as much, and it's not very Java-like.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436020236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436023312","html_url":"https://github.com/apache/accumulo/issues/746#issuecomment-436023312","issue_url":"https://api.github.com/repos/apache/accumulo/issues/746","id":436023312,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjAyMzMxMg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T20:27:54Z","updated_at":"2018-11-05T20:27:54Z","author_association":"MEMBER","body":"> In accumulo-env.sh, we build JAVA_OPTS but allow users pass in extra options using ACCUMULO_JAVA_OPTS\r\n\r\nYeah, we should stop using `ACCUMULO_JAVA_OPTS` here. We don't need it. We should just append to whatever pre-existing value of `JAVA_TOOL_OPTIONS` is there, just like we should be doing for `CLASSPATH`, although it looks like that got dropped somehow since 1.9 and should be fixed.\r\n\r\n> If we switch to JAVA_TOOL_OPTIONS, it sounds like we shouldn't exec java with JAVA_TOOL_OPTIONS as the JVM will include this environmental variable on its command line.\r\n\r\nCorrect.\r\n\r\n> However, are we sure this env variable is used by every JDK?\r\n\r\nIt's not a guarantee, but as far as I can tell, it is an established standard used by Oracle, OpenJDK, and IBM, at the very least. It was established specifically for this purpose... so I think we should base our scripts on this standard. If a JVM doesn't abide by this standard, then it may be the case that the user might have to do completely different (non-standard) things to the scripts to get things working anyway... but we shouldn't code to that. We should code to the standard.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436023312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436025207","html_url":"https://github.com/apache/accumulo/issues/708#issuecomment-436025207","issue_url":"https://api.github.com/repos/apache/accumulo/issues/708","id":436025207,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjAyNTIwNw==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T20:34:34Z","updated_at":"2018-11-05T20:34:34Z","author_association":"MEMBER","body":"@ctubbsii, you are right. `camelCase` is fine. I like `impl.x` better but that's personal preference. `xImpl` works too.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436025207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436026721","html_url":"https://github.com/apache/accumulo/issues/708#issuecomment-436026721","issue_url":"https://api.github.com/repos/apache/accumulo/issues/708","id":436026721,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjAyNjcyMQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T20:39:33Z","updated_at":"2018-11-05T20:39:33Z","author_association":"MEMBER","body":"Could also go with `ximpl`, but that hurts readability. `x.impl → impl.x` is problematic because:\r\n\r\n1. it creates potential for collision across jars (see the minicluster example above, which would create the \"top-level\" `org.apache.accumulo.impl` package in the more narrowly scoped minicluster jar), and\r\n2. we lose the whole attempt to scope the implementation \"near\" the API to which it corresponds.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436026721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436036858","html_url":"https://github.com/apache/accumulo/issues/746#issuecomment-436036858","issue_url":"https://api.github.com/repos/apache/accumulo/issues/746","id":436036858,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjAzNjg1OA==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T21:13:04Z","updated_at":"2018-11-05T21:13:04Z","author_association":"MEMBER","body":"> Yeah, we should stop using ACCUMULO_JAVA_OPTS here. We don't need it. We should just append to whatever pre-existing value of JAVA_TOOL_OPTIONS\r\n\r\nWe could append to existing value JAVA_TOOL_OPTIONS but also let users set ACCUMULO_JAVA_OPTS in case users want to set configuration in their shell that only Accumulo gets.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436036858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436037637","html_url":"https://github.com/apache/accumulo/issues/747#issuecomment-436037637","issue_url":"https://api.github.com/repos/apache/accumulo/issues/747","id":436037637,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjAzNzYzNw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T21:15:35Z","updated_at":"2018-11-05T21:15:35Z","author_association":"MEMBER","body":"I'd like to see the authentication options split up a bit to avoid the `(String, String)` (or `CharSequence` variants) parameter ambiguity and the redundancy in the user principal. Something like:\r\n\r\n```java\r\n  // one of these two\r\n  .user(CharSequence principal)\r\n  .as(CharSequence principal)\r\n    // followed by one of these three\r\n    .token(AuthenticationToken token)\r\n    .password(CharSequence password)\r\n    .keytab(Path keytab)\r\n```\r\n\r\nI'd also like to see fewer `String` arguments when `Path` or `File` make more sense. For example,\r\n\r\n```java\r\n  .from(Path propertiesFilePath)\r\n```\r\n\r\nand in the `instance`. However, I'm uncertain what to do for instance. I think `instance` could refer to the instance name as a \"cluster id\" or similar. Maybe something like:\r\n\r\n```java\r\n  Accumulo.newClient().toCluster(CharSequence name).registeredAt(CharSequence... host);\r\n```\r\n\r\nNames for the client endpoint are hard. Maybe the term \"endpoint\" could be worked in to the method name instead? I'm not sure.\r\n\r\nI lean towards keeping the `with` prefixes. Those keep it the API closer to natural human language (maps to prepositional phrases), which is important for fluent APIs, and I think it would be inconsistent to drop those, but leave the `from` prepositional phrases.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436037637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436049107","html_url":"https://github.com/apache/accumulo/issues/747#issuecomment-436049107","issue_url":"https://api.github.com/repos/apache/accumulo/issues/747","id":436049107,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjA0OTEwNw==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T21:52:30Z","updated_at":"2018-11-05T21:52:30Z","author_association":"MEMBER","body":"Below is my second proposal incorporating a lot of @ctubbsii suggestions with some differences:\r\n\r\n* Kept instance name & zookeeper together in the same method as they are always both needed.\r\n* I like the prepositional phrases early but I don't think they are required later in the builder.\r\n* I renamed `forInstance` to `to` but maybe `toCluster` or even the original `forInstance` is better.\r\n\r\n```java\r\n// current\r\nAccumulo.newClient().forInstance(\"myinstance\", \"zookeeper1,zookeeper2\")\r\n      .usingPassword(\"myuser\", \"mypassword\").build();\r\n// proposed\r\nAccumulo.newClient().to(\"myinstance\", \"zookeeper1,zookeeper2\")\r\n      .as(\"myuser\").password(\"mypassword\").build();\r\n\r\n// current\r\nAccumulo.newClient().usingClientInfo(clientInfo)\r\n     .usingToken(\"user, new PasswordToken(\"pass\")).build();\r\n// proposed\r\nAccumulo.newClient().from(clientInfo).as(\"user\").token(new PasswordToken(\"pass\")).build();\r\n```\r\n\r\n| Current Method Name | Proposed Method Name |\r\n|--------------------------|-------------------------------|\r\n| forInstance(String name, String zk) | to(CharSequence instanceName, CharSequence zookeepers) |\r\n| usingProperties(String propsFilePath) | from(Path propsFile) |\r\n| usingProperties(Properties properties) | from(Properties props) |\r\n| usingClientInfo(ClientInfo info) | from(ClientInfo info) |\r\n| doesn't exist | as(CharSequence principal) |\r\n| usingPassword(String username, CharSequence password) | as(user).password(CharSequence password) |\r\n| usingKerberos(String principal, String keytabFile) | as(user).kerberos(Path keytab) |\r\n| usingToken(String principal, AuthenticationToken token) | as(user).token(AuthenticationToken token) |\r\n| withTruststore | truststore |\r\n| withKeystore | keystore |\r\n| withJsse | jsse |\r\n| withPrimary | primary |\r\n| withQop | qop |\r\n| withSsl | ssl |\r\n| withSasl | sasl |\r\n| withBatchWriterConfig | batchWriterConfig |\r\n| withBatchScannerQueryThreads | batchScannerQueryThreads |\r\n| withScannerBatchSize | scannerBatchSize |\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436049107/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436053391","html_url":"https://github.com/apache/accumulo/issues/747#issuecomment-436053391","issue_url":"https://api.github.com/repos/apache/accumulo/issues/747","id":436053391,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjA1MzM5MQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T22:07:12Z","updated_at":"2018-11-05T22:07:23Z","author_association":"CONTRIBUTOR","body":"I am not a fan of all of the `with` prefix names. If all optional paths have it then I think it adds noise with no value.\r\n\r\nI have mixed feelings about `from(Path)` vs `from(String)` because I think 99% of code will be `from(Paths.get(filePath))`.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436053391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436060070","html_url":"https://github.com/apache/accumulo/issues/747#issuecomment-436060070","issue_url":"https://api.github.com/repos/apache/accumulo/issues/747","id":436060070,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjA2MDA3MA==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T22:30:35Z","updated_at":"2018-11-05T22:30:35Z","author_association":"MEMBER","body":"Below is my third proposal incorporating input from @keith-turner with some changes:\r\n\r\n* Combined `as` with `password`, `kerberos`, & `token` methods as they always used together. I don't think we'll need more `as` methods given that `as(principal, Authentication token)` is pretty future proof. \r\n\r\n```java\r\n// current\r\nAccumulo.newClient().forInstance(\"myinstance\", \"zoo1,zoo2\")\r\n      .usingPassword(\"user\", \"password\").build();\r\n// proposed\r\nAccumulo.newClient().to(\"myinstance\", \"zoo1,zoo2\").as(\"user\", \"password\").build();\r\n\r\n// current\r\nAccumulo.newClient().usingClientInfo(clientInfo)\r\n     .usingToken(\"user, new PasswordToken(\"pass\")).build();\r\n// proposed\r\nAccumulo.newClient().from(clientInfo).as(\"user\", new PasswordToken(\"pass\")).build();\r\n```\r\n\r\n| Current Method Name | Proposed Method Name |\r\n|--------------------------|-------------------------------|\r\n| forInstance(String name, String zk) | to(CharSequence instanceName, CharSequence zookeepers) |\r\n| usingProperties(String propsFilePath) | from(String propsFilePath) |\r\n| usingProperties(Properties properties) | from(Properties props) |\r\n| usingClientInfo(ClientInfo info) | from(ClientInfo info) |\r\n| usingPassword(String username, CharSequence password) | as(CharSequence user, CharSequence password) |\r\n| usingKerberos(String principal, String keytabFile) | as(CharSequence principal, Path kerberosKeytab) |\r\n| usingToken(String principal, AuthenticationToken token) | as(CharSequence principal, AuthenticationToken token) |\r\n| withTruststore | truststore |\r\n| withKeystore | keystore |\r\n| withJsse | jsse |\r\n| withPrimary | primary |\r\n| withQop | qop |\r\n| withSsl | ssl |\r\n| withSasl | sasl |\r\n| withBatchWriterConfig | batchWriterConfig |\r\n| withBatchScannerQueryThreads | batchScannerQueryThreads |\r\n| withScannerBatchSize | scannerBatchSize |\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436060070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436073424","html_url":"https://github.com/apache/accumulo/issues/742#issuecomment-436073424","issue_url":"https://api.github.com/repos/apache/accumulo/issues/742","id":436073424,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjA3MzQyNA==","user":{"login":"byungwok","id":39606428,"node_id":"MDQ6VXNlcjM5NjA2NDI4","avatar_url":"https://avatars.githubusercontent.com/u/39606428?v=4","gravatar_id":"","url":"https://api.github.com/users/byungwok","html_url":"https://github.com/byungwok","followers_url":"https://api.github.com/users/byungwok/followers","following_url":"https://api.github.com/users/byungwok/following{/other_user}","gists_url":"https://api.github.com/users/byungwok/gists{/gist_id}","starred_url":"https://api.github.com/users/byungwok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/byungwok/subscriptions","organizations_url":"https://api.github.com/users/byungwok/orgs","repos_url":"https://api.github.com/users/byungwok/repos","events_url":"https://api.github.com/users/byungwok/events{/privacy}","received_events_url":"https://api.github.com/users/byungwok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T23:22:44Z","updated_at":"2018-11-05T23:23:08Z","author_association":"NONE","body":"got it Thank you very much keith-turner","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436073424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436074631","html_url":"https://github.com/apache/accumulo/issues/747#issuecomment-436074631","issue_url":"https://api.github.com/repos/apache/accumulo/issues/747","id":436074631,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjA3NDYzMQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T23:28:21Z","updated_at":"2018-11-05T23:28:21Z","author_association":"MEMBER","body":"> I have mixed feelings about `from(Path)` vs `from(String)` because I think 99% of code will be `from(Paths.get(filePath))`.\r\n\r\nYeah, I have mixed feelings, too. But, I still think less String is better. Some boilerplate is reasonable, when it helps clearly communicate the required type, and gives users more direct control over the behavior (with a String, they have no idea how we'll convert it to a path, normalize it, etc., but with Paths.get(), that behavior is predictable). In this case, that boilerplate also would only be called at the initialization of the client object, which 1) shouldn't be called as often as, say, mutation.put(), so the boilerplate will have minimal impact, and 2) this is when we're taking user input and reading from the file system and initializing stuff... things where we should be careful about ensuring we're explicitly getting what the user intends.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436074631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436078424","html_url":"https://github.com/apache/accumulo/issues/747#issuecomment-436078424","issue_url":"https://api.github.com/repos/apache/accumulo/issues/747","id":436078424,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjA3ODQyNA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T23:45:19Z","updated_at":"2018-11-05T23:45:19Z","author_association":"MEMBER","body":"@mikewalch I like the `to(name)`, because we're connecting *to* an Accumulo instance with that name, but the second parameter could be misleading with that name (we're not constructing a client *to* those hosts; they just serve as an endpoint), and I'm not a fan of two string types like that... it's very easy to accidentally swap them (common problem and why we made the shell have explicit separate args, `zi` and `zh` to replace `zk`). Maybe we should do:\r\n\r\n```java\r\n  to(CharSequence name, CharSequence[] zookeepers);\r\n```\r\n\r\nWith the array type, and using Java 8 syntax, we can call it like:\r\n\r\n```java\r\n  Accumulo.newClient().to(name, {\"localhost:2181\"}); // OR\r\n  Accumulo.newClient().to(name, {zk1, zk2});\r\n```\r\n\r\nThis is a bit more explicit about the ZKs, and less ambiguous in the params.\r\n\r\nAlso, the more I think about it, the more strongly I think that `from(String propsFilePath)` should be `from(Path propsFilePath)`, especially for consistency with the other place (keytab) where you use `Path` type. I don't think this will bloat user code too much... it's (at the most) once per client... and if a variable is used, it doesn't even matter:\r\n\r\n```java\r\n  Path propsFile = Paths.get(args[0]);\r\n  Accumulo.newClient().from(propsFile);\r\n```\r\n\r\nAlso, the \"jsse\" method is confusing. That should just be a boolean that says \"use JSSE system props\". Maybe \"useJsse\" makes more sense than just \"jsse\". I think some of the others have similarly bad semantics when removing \"with\". They just don't read as well, or make as much intuitive sense.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436078424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436079323","html_url":"https://github.com/apache/accumulo/issues/746#issuecomment-436079323","issue_url":"https://api.github.com/repos/apache/accumulo/issues/746","id":436079323,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjA3OTMyMw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-05T23:49:40Z","updated_at":"2018-11-05T23:49:40Z","author_association":"MEMBER","body":"> We could append to existing value JAVA_TOOL_OPTIONS but also let users set ACCUMULO_JAVA_OPTS in case users want to set configuration in their shell that only Accumulo gets.\r\n\r\nThis is a user file. They can construct `JAVA_TOOL_OPTIONS` from any environment they wish, but there's no reason for us to do this for them. It just introduces unnecessary complexity, which makes it harder for users to tweak to conform to their needs. Having `ACCUMULO_JAVA_OPTS` built-in in the default script just elevates it to \"a thing\", when really it's not... it's meaningless unless the user gives it meaning. It's best to just remove it to simplify things, and let the user add their own variables in if they want to.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436079323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436263196","html_url":"https://github.com/apache/accumulo/issues/708#issuecomment-436263196","issue_url":"https://api.github.com/repos/apache/accumulo/issues/708","id":436263196,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjI2MzE5Ng==","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-06T14:03:43Z","updated_at":"2018-11-06T14:03:43Z","author_association":"CONTRIBUTOR","body":"I will go with the xImpl. Like @ctubbsii indicated, security.crypto and security.crypto.streams are the most problematic. We need to repackage to remove them from the public api sub-packages but a new package name is not as clear for them as the others.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436263196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436290422","html_url":"https://github.com/apache/accumulo/issues/747#issuecomment-436290422","issue_url":"https://api.github.com/repos/apache/accumulo/issues/747","id":436290422,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjI5MDQyMg==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-06T15:21:08Z","updated_at":"2018-11-06T15:26:28Z","author_association":"CONTRIBUTOR","body":"One reason to not use `from(String)` now is that we may want to leave it available for future use.  I have always though it would be nice if Accumulo had a standardized connection string that could encode instance, zookeepers, and credentials.  It may be nice to have `from(String connectionString)` in the future. \r\n\r\n> Some boilerplate is reasonable, when it helps clearly communicate the required type\r\n\r\nI realized that for communication, the variable name used in the API is much more important than the type.  If I see `from(Path foo)` I would still need to consult javadoc.  However if I see `from(Path clientPropsFile)` or `from(String clientPropsFile)` then I may not need javadoc.  \r\n\r\n> Maybe \"useJsse\" makes more sense than just \"jsse\".\r\n\r\nWe need to strike that balance between adding useless noise and useful information. I think this ends up being a function of the number of unique prefixes and the number of methods (similar to TFIDF). Also, we may be ok making the less frequently used methods longer and therefore more self documenting. For this case `enable` may be a better prefix for communicating useful info.   I am really happy to see this proposal shorten the most frequently used methods.  \r\n\r\nSeems like the following could lead to boilerplate code because every user has to split/parse this.  The zookeeper API just takes String for this.\r\n\r\n```java\r\nto(CharSequence name, CharSequence[] zookeepers);\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436290422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436291393","html_url":"https://github.com/apache/accumulo/issues/747#issuecomment-436291393","issue_url":"https://api.github.com/repos/apache/accumulo/issues/747","id":436291393,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjI5MTM5Mw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-06T15:23:42Z","updated_at":"2018-11-06T15:23:42Z","author_association":"CONTRIBUTOR","body":"I don't think a user would ever write code like the following because they would usually not know the number of zookeepers at compile time.\r\n\r\n```java\r\n Accumulo.newClient().to(name, {zk1, zk2});\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436291393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436291844","html_url":"https://github.com/apache/accumulo/issues/747#issuecomment-436291844","issue_url":"https://api.github.com/repos/apache/accumulo/issues/747","id":436291844,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjI5MTg0NA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-06T15:24:54Z","updated_at":"2018-11-06T15:25:52Z","author_association":"CONTRIBUTOR","body":"The first time people see this API, they likely will not be writing it but will be reading an example.  I think using these new API as much as possible before release is very important.  From my past experience working on the Fluo tour I found boilerplate and overly verbose code very unpleasant to write and read.   Luckily with Fluo I was writing the tour and using some unreleased APIs, so I was able to fix some overly verbose APIs before release.  We need to update the Accumuo tour and examples to use these new APIs before releasing.  That is something I plan to work on, but I would like to do that after this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436291844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436348954","html_url":"https://github.com/apache/accumulo/issues/747#issuecomment-436348954","issue_url":"https://api.github.com/repos/apache/accumulo/issues/747","id":436348954,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjM0ODk1NA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-06T18:01:37Z","updated_at":"2018-11-06T18:01:37Z","author_association":"MEMBER","body":"> I don't think a user would ever write code like the following because they would usually not know the number of zookeepers at compile time.\r\n> \r\n> ```java\r\n>  Accumulo.newClient().to(name, {zk1, zk2});\r\n> ```\r\n\r\nOkay, sure, but accepting an array doesn't require them to... that was just one example of calling the proposed method. I'd expect them to supply the array from whatever data structure they have. I would not necessarily expect them to collapse their data structure into our specific, comma-separated \"stringly-typed\" field in our Java API (in our config in serialized form, yes, but not in our programmatic API). Other examples of calling this method with the array type:\r\n\r\n```java\r\n  Accumulo.newClient().to(name, zkString.split(\";\")); // OR\r\n  Accumulo.newClient().to(name, zkGson.fromJson(jsonLine, String[].class)); // OR\r\n  Accumulo.newClient().to(name, zkList.toArray());\r\n```\r\n\r\nIf the array parameter type isn't a good idea, can anybody else suggest an alternative solution to avoid the `(String, String)` parameter ordering ambiguity? Or, since I think this is also a problem, can anybody suggest a clean way to decouple the params from each other? The fact that cluster instance name and ZKs are coupled is an implementation detail that need not be exposed in the API... or at least, if it is exposed, it should be more clear their relationship. For example, it should be more clear that the name is the registration name, and that ZKs is the registration service, as in `.registeredAs(name, zks)`, or maybe just `.zk(name, zks)` (with good API docs explaining the use of ZK as a registration service). Or, maybe they should be decoupled in a way that also avoids the parameter ambiguity? As in: `.to(name).at(zks)`?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436348954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436349942","html_url":"https://github.com/apache/accumulo/issues/747#issuecomment-436349942","issue_url":"https://api.github.com/repos/apache/accumulo/issues/747","id":436349942,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjM0OTk0Mg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-06T18:04:38Z","updated_at":"2018-11-06T18:09:09Z","author_association":"MEMBER","body":"If we had a well-defined syntax for a \"connectionString\", it would be much simpler: `.to(connectionString)`. \r\n\r\nMaybe:\r\n`accumulo://[user[:password]@]name?zkHosts=host1:port1,host2:port2,host3,host4:port4`","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436349942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436354884","html_url":"https://github.com/apache/accumulo/issues/747#issuecomment-436354884","issue_url":"https://api.github.com/repos/apache/accumulo/issues/747","id":436354884,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjM1NDg4NA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-06T18:19:38Z","updated_at":"2018-11-06T18:19:38Z","author_association":"MEMBER","body":"I'm willing to overlook my concerns about getting that ZK connection API \"just right\" if we reserve a clean API for passing in a connection string (can be done in future work). As long as we keep that in mind as future work and don't create anything that would conflict with it, I'm probably okay with whatever others decide here.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436354884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436360444","html_url":"https://github.com/apache/accumulo/issues/747#issuecomment-436360444","issue_url":"https://api.github.com/repos/apache/accumulo/issues/747","id":436360444,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjM2MDQ0NA==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-06T18:36:18Z","updated_at":"2018-11-06T18:36:18Z","author_association":"MEMBER","body":"I really like `.to(connectionString)`.  I am going to create a pull request for this issue. I think there is enough consensus. The remaining questions can be resolved during review of the pull request.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436360444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436386466","html_url":"https://github.com/apache/accumulo/issues/746#issuecomment-436386466","issue_url":"https://api.github.com/repos/apache/accumulo/issues/746","id":436386466,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjM4NjQ2Ng==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-06T19:53:33Z","updated_at":"2018-11-07T15:15:16Z","author_association":"MEMBER","body":"Setting `JAVA_TOOL_OPTIONS` causes a debug message that looks like it cannot be suppressed.\r\n```bash\r\n$ accumulo version\r\nPicked up JAVA_TOOL_OPTIONS:  -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=75 -XX:+CMSClassUnloadingEnabled\r\n2.0.0-SNAPSHOT\r\n```\r\nAnother way to show this:\r\n```bash\r\n$ JAVA_TOOL_OPTIONS=\"-XX:+UseConcMarkSweepGC\" java -version\r\nPicked up JAVA_TOOL_OPTIONS: -XX:+UseConcMarkSweepGC\r\nopenjdk version \"1.8.0_181\"\r\nOpenJDK Runtime Environment (build 1.8.0_181-8u181-b13-1ubuntu0.16.04.1-b13)\r\nOpenJDK 64-Bit Server VM (build 25.181-b13, mixed mode)\r\n```\r\n\r\nI am not a fan of this message. However, it looks like it can easily be suppressed.\r\n\r\nhttps://stackoverflow.com/questions/11683715/suppressing-the-picked-up-java-options-message\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436386466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436459659","html_url":"https://github.com/apache/accumulo/pull/743#issuecomment-436459659","issue_url":"https://api.github.com/repos/apache/accumulo/issues/743","id":436459659,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjQ1OTY1OQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-07T00:30:09Z","updated_at":"2018-11-07T00:30:09Z","author_association":"CONTRIBUTOR","body":"I created follow on tickets so this PR doesn't become too big... @mikewalch @ctubbsii @keith-turner OK with merging this PR as the next step in the API evolution?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436459659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436655686","html_url":"https://github.com/apache/accumulo/pull/750#issuecomment-436655686","issue_url":"https://api.github.com/repos/apache/accumulo/issues/750","id":436655686,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjY1NTY4Ng==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-07T15:10:47Z","updated_at":"2018-11-07T15:10:47Z","author_association":"MEMBER","body":"I think prepend makes a little more sense but I could go either way.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436655686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436710642","html_url":"https://github.com/apache/accumulo/pull/743#issuecomment-436710642","issue_url":"https://api.github.com/repos/apache/accumulo/issues/743","id":436710642,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjcxMDY0Mg==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-07T17:37:04Z","updated_at":"2018-11-07T17:37:04Z","author_association":"CONTRIBUTOR","body":"> I think that the entry point for the fluent API should dangle off of the Input/OutputFormats directly, rather than off a separate object, and then passed in via a setter.\r\n\r\nThis is a good idea.  I was thinking something similar while modifying the javadoc that it could be even better.  I will merge the progress here and open up another follow on.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436710642/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436723362","html_url":"https://github.com/apache/accumulo/pull/743#issuecomment-436723362","issue_url":"https://api.github.com/repos/apache/accumulo/issues/743","id":436723362,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjcyMzM2Mg==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-07T18:14:44Z","updated_at":"2018-11-07T18:14:44Z","author_association":"CONTRIBUTOR","body":"Created follow on #753 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436723362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436759047","html_url":"https://github.com/apache/accumulo/issues/748#issuecomment-436759047","issue_url":"https://api.github.com/repos/apache/accumulo/issues/748","id":436759047,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjc1OTA0Nw==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-07T20:04:28Z","updated_at":"2018-11-07T20:04:28Z","author_association":"MEMBER","body":"This could be implemented as an `instance.uri` property the `accumulo-client.properties` file:\r\n```\r\n## Instance properties\r\n## -------------------\r\n\r\n## Accumulo instance (accumulo://<instanceName>?zk=<zookeepers>)\r\n## Other options:\r\n##    zkt - ZooKeeper timeout (default: 30s)\r\ninstance.uri=accumulo://myinstance?zk=localhost:2181\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436759047/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436777879","html_url":"https://github.com/apache/accumulo/issues/746#issuecomment-436777879","issue_url":"https://api.github.com/repos/apache/accumulo/issues/746","id":436777879,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjc3Nzg3OQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-07T21:08:20Z","updated_at":"2018-11-07T21:08:20Z","author_association":"MEMBER","body":"Yeah, that's definitely a downside for client-facing processes, like the classpath, or version commands. But, it's actually a nice benefit for server processes like master, tserver, gc, and monitor. I'm actually even okay with it on the shell, because it's informative at shell startup, though I see how it has potential for annoyance.\r\n\r\nUsers can always unset the environment variable inside the env script when it isn't desirable for a process (and we can do so in the default env script for some things that we think it's not needed). Users can also redirect and/or filter stderr (where the message is printed) if they want to set the environment but don't want to see their JVM print the message, at command-execution time, although I typically wouldn't expect them to do so.\r\n\r\nSo, there's definitely tradeoffs. I'll put some more thought into the pros and cons.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/436777879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437089183","html_url":"https://github.com/apache/accumulo/issues/757#issuecomment-437089183","issue_url":"https://api.github.com/repos/apache/accumulo/issues/757","id":437089183,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzA4OTE4Mw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T17:36:08Z","updated_at":"2018-11-08T17:36:08Z","author_association":"CONTRIBUTOR","body":"@busbey I think your update to commons config here 06d80292d869edc495bf691c0d43be52dc0dcdca may be the cause of this error.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437089183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437094146","html_url":"https://github.com/apache/accumulo/issues/757#issuecomment-437094146","issue_url":"https://api.github.com/repos/apache/accumulo/issues/757","id":437094146,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzA5NDE0Ng==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T17:51:03Z","updated_at":"2018-11-08T17:51:03Z","author_association":"CONTRIBUTOR","body":"I tested with Hadoop 2.8.4 and 2.7.6.  It looks like Accumulo is trying to use Hadoop's commons-configuration-1.6.jar","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437094146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437102866","html_url":"https://github.com/apache/accumulo/issues/757#issuecomment-437102866","issue_url":"https://api.github.com/repos/apache/accumulo/issues/757","id":437102866,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzEwMjg2Ng==","user":{"login":"busbey","id":44891,"node_id":"MDQ6VXNlcjQ0ODkx","avatar_url":"https://avatars.githubusercontent.com/u/44891?v=4","gravatar_id":"","url":"https://api.github.com/users/busbey","html_url":"https://github.com/busbey","followers_url":"https://api.github.com/users/busbey/followers","following_url":"https://api.github.com/users/busbey/following{/other_user}","gists_url":"https://api.github.com/users/busbey/gists{/gist_id}","starred_url":"https://api.github.com/users/busbey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/busbey/subscriptions","organizations_url":"https://api.github.com/users/busbey/orgs","repos_url":"https://api.github.com/users/busbey/repos","events_url":"https://api.github.com/users/busbey/events{/privacy}","received_events_url":"https://api.github.com/users/busbey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T18:18:28Z","updated_at":"2018-11-08T18:18:28Z","author_association":"CONTRIBUTOR","body":"thanks for the heads up. reviewing a bit later today. Maybe I don't see it locally because I'm using Hadoop 3?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437102866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437159568","html_url":"https://github.com/apache/accumulo/issues/753#issuecomment-437159568","issue_url":"https://api.github.com/repos/apache/accumulo/issues/753","id":437159568,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzE1OTU2OA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T21:19:01Z","updated_at":"2018-11-08T21:19:01Z","author_association":"CONTRIBUTOR","body":"@ctubbsii @keith-turner What do you think of this for the API?\r\n<pre>\r\nAccumuloInputFormat.configure(job).clientInfo(clientInfo).table(\"test\").scanAuths(Authorizations.EMPTY)\r\n            .addIterator(is).done();\r\n</pre>","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437159568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437163763","html_url":"https://github.com/apache/accumulo/issues/753#issuecomment-437163763","issue_url":"https://api.github.com/repos/apache/accumulo/issues/753","id":437163763,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzE2Mzc2Mw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T21:33:15Z","updated_at":"2018-11-08T21:33:15Z","author_association":"CONTRIBUTOR","body":"Passing the job in at the end of the fluent chain allows for sanity checks to be done all at once.  It also makes it very clear when the job is mutated.  Could do something like the following.\r\n\r\n```java\r\nAccumuloInputFormat.settings().clientInfo(clientInfo).table(\"test\").scanAuths(Authorizations.EMPTY)\r\n            .addIterator(is).configure(job);\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437163763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437167347","html_url":"https://github.com/apache/accumulo/issues/753#issuecomment-437167347","issue_url":"https://api.github.com/repos/apache/accumulo/issues/753","id":437167347,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzE2NzM0Nw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T21:45:45Z","updated_at":"2018-11-08T21:45:45Z","author_association":"CONTRIBUTOR","body":"Another thing to take into consideration is allowing multi table options for completing #749 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437167347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437177380","html_url":"https://github.com/apache/accumulo/issues/753#issuecomment-437177380","issue_url":"https://api.github.com/repos/apache/accumulo/issues/753","id":437177380,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzE3NzM4MA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-08T22:21:36Z","updated_at":"2018-11-08T22:21:36Z","author_association":"CONTRIBUTOR","body":"I was planning on performing the serialization of all the options into the configuration on the last method.  So we could do something like:\r\n\r\n```java\r\nAccumuloInputFormat.configure().clientInfo(clientInfo).table(\"test\").scanAuths(Authorizations.EMPTY)\r\n            .addIterator(is).serialize(job);\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437177380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437223256","html_url":"https://github.com/apache/accumulo/issues/753#issuecomment-437223256","issue_url":"https://api.github.com/repos/apache/accumulo/issues/753","id":437223256,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzIyMzI1Ng==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-09T01:57:53Z","updated_at":"2018-11-09T01:58:12Z","author_association":"MEMBER","body":"How about `.configure(). ... .store(job)` instead of serialize?\r\n\r\nAlso, how would we incorporate multiple tables into this? I'm kinda thinking maybe have a `.table` hanging off of each method after the first `.table`, and implement it so you can configure one table, then the next, then the next, etc. Methods chained after one `.table` call, and before the next `.table` affect only the one that precedes it. So,\r\n\r\n```java\r\nAccumuloInputFormat.configure().clientInfo(clientInfo)\r\n  .table(\"table1\").scanAuths(Authorizations.EMPTY).addIterator(is1)\r\n  .table(\"table2\").ranges(ranges).scanAuths(auths).addIterator(is2).addIterator(is3)\r\n  .table(\"table3\")\r\n  .store(job);\r\n```\r\n\r\nIn the above, table1 is fully scanned with no auths and one iterator, while table2 is only scanned over specific ranges and with custom auths and two iterators, and the third table is fully scanned with all the default behavior.\r\n\r\nInternally, we just edit the most recent internal data structure for a table, and add it to a list of all the tables when we encounter the next `.table` or a terminating `.store`. For keeping the table configs separate, we internally track a 1-up counter for each table.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437223256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437224639","html_url":"https://github.com/apache/accumulo/issues/757#issuecomment-437224639","issue_url":"https://api.github.com/repos/apache/accumulo/issues/757","id":437224639,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzIyNDYzOQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-09T02:06:52Z","updated_at":"2018-11-09T02:06:52Z","author_association":"MEMBER","body":"> It looks like Accumulo is trying to use Hadoop's commons-configuration-1.6.jar\r\n\r\nIf that's all it is, we could probably just add the version we're using to our tarball, and use that in our default class path... unless, of course, some hadoop library code we're using would break by doing so.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437224639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437234631","html_url":"https://github.com/apache/accumulo/issues/755#issuecomment-437234631","issue_url":"https://api.github.com/repos/apache/accumulo/issues/755","id":437234631,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzIzNDYzMQ==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-09T03:04:11Z","updated_at":"2018-11-09T03:04:11Z","author_association":"CONTRIBUTOR","body":"what do you get if you do \r\n\r\n> hadoop -fs -ls hdfs://ofbdas-nd1.ofbdas.go.kr:8020/tmp/distch\r\n\r\n\r\ndo you have more that one namenode? I believe the files to be in hdsf, not the local file system, and they need to be in the same namespace as accumulo. \r\nDoes the accumulo user that the shell is running have the necessary permissions? (you may try to use the rfile-info utility (https://accumulo.apache.org/1.9/accumulo_user_manual.html#_tools) to try to read one of the rfiles - maybe that will provide more information)\r\n\r\nthe command \r\n\r\n> importtable importtest /tmp/distcdh\r\n\r\nseems to be the correct format - maybe try giving the fully qualified path to the directory - i.e. hdfs://ofbdas-nd1.ofbdas.go.kr:8020/tmp/distch  (or whatever it really is)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437234631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437361101","html_url":"https://github.com/apache/accumulo/issues/760#issuecomment-437361101","issue_url":"https://api.github.com/repos/apache/accumulo/issues/760","id":437361101,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzM2MTEwMQ==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-09T13:35:34Z","updated_at":"2018-11-09T13:35:34Z","author_association":"CONTRIBUTOR","body":"Check zookeeper - see http://accumulo.apache.org/1.9/accumulo_user_manual.html#_zookeeper\r\n\r\nYou need to be able to see the instance, try: \r\n\r\n./bin/accumulo org.apache.accumulo.server.util.ListInstances\r\n\r\nDid you overwrite the accumulo config on the reinstall?\r\n\r\nAs a last resort) you may need to follow http://accumulo.apache.org/1.9/accumulo_user_manual.html#zookeeper_failure if your instance is not in zookeeper and if the rfiles still exist in hdfs.\r\n\r\nOnce you have you instance in zookeeper, you can kill fate transactions using fate fail command - see http://accumulo.apache.org/1.9/accumulo_user_manual.html#_administration\r\n\r\nYou will need to stop the masters so that the shell can get the master lock - using fate fail is not normal and you need to proceed with caution.\r\n\r\nIf you have corrupted the system metadata, http://accumulo.apache.org/1.9/accumulo_user_manual.html#_advanced_system_recovery provides some things you could also try.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437361101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437391488","html_url":"https://github.com/apache/accumulo/issues/755#issuecomment-437391488","issue_url":"https://api.github.com/repos/apache/accumulo/issues/755","id":437391488,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzM5MTQ4OA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-09T15:20:22Z","updated_at":"2018-11-09T15:20:22Z","author_association":"CONTRIBUTOR","body":"Can you do the following in the accumulo shell?  This may give more info.\r\n\r\n```\r\ndebug on\r\nimporttable <table> <dir>\r\n```\r\n\r\nAlso can you do the following to see if the zip file is ok?\r\n\r\n```\r\nhdfs dfs -copyToLocal hdfs://ofbdas-nd1.ofbdas.go.kr:8020/tmp/distcdh/exportMetadata.zip /tmp/exportMetadata.zip\r\nunzip -l /tmp/exportMetadata.zip\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437391488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437396091","html_url":"https://github.com/apache/accumulo/issues/755#issuecomment-437396091","issue_url":"https://api.github.com/repos/apache/accumulo/issues/755","id":437396091,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzM5NjA5MQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-09T15:34:00Z","updated_at":"2018-11-09T15:34:00Z","author_association":"CONTRIBUTOR","body":"Can you look in the Accumulo master logs around the time you did the import to see if there are ERROR or WARN messages?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437396091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437402982","html_url":"https://github.com/apache/accumulo/issues/753#issuecomment-437402982","issue_url":"https://api.github.com/repos/apache/accumulo/issues/753","id":437402982,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzQwMjk4Mg==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-09T15:54:59Z","updated_at":"2018-11-09T15:54:59Z","author_association":"CONTRIBUTOR","body":"I like ```configure()... store(job)``` It is shorter and makes more sense than `build()` or `done()`.\r\n\r\nI was thinking something similar for mutli tables.  I was going to base the table options off of the previously used object `InputTableConfig`.  The only option I wasn't sure about was `scanAuths()`. It is not clear whether they are set at the table level or the same auths were used for all scans, since they aren't a part of `InputTableConfig`.  I just wanted to make sure the API will still work in a loop for users who have many tables.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437402982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437418398","html_url":"https://github.com/apache/accumulo/issues/753#issuecomment-437418398","issue_url":"https://api.github.com/repos/apache/accumulo/issues/753","id":437418398,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzQxODM5OA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-09T16:41:09Z","updated_at":"2018-11-09T16:41:09Z","author_association":"CONTRIBUTOR","body":"> It is not clear whether they are set at the table level or the same auths were used for all scans, since they aren't a part of InputTableConfig\r\n\r\nLooking at the implementation it appears that we currently use one set of Auths for the whole job.  While I don't see why we couldn't set Auths per table, it would be more work.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437418398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437430628","html_url":"https://github.com/apache/accumulo/issues/753#issuecomment-437430628","issue_url":"https://api.github.com/repos/apache/accumulo/issues/753","id":437430628,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzQzMDYyOA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-09T17:19:18Z","updated_at":"2018-11-09T17:19:18Z","author_association":"MEMBER","body":"Per-table makes more sense for me, for scan auths (and all other scan options).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437430628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437645616","html_url":"https://github.com/apache/accumulo/issues/755#issuecomment-437645616","issue_url":"https://api.github.com/repos/apache/accumulo/issues/755","id":437645616,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzY0NTYxNg==","user":{"login":"byungwok","id":39606428,"node_id":"MDQ6VXNlcjM5NjA2NDI4","avatar_url":"https://avatars.githubusercontent.com/u/39606428?v=4","gravatar_id":"","url":"https://api.github.com/users/byungwok","html_url":"https://github.com/byungwok","followers_url":"https://api.github.com/users/byungwok/followers","following_url":"https://api.github.com/users/byungwok/following{/other_user}","gists_url":"https://api.github.com/users/byungwok/gists{/gist_id}","starred_url":"https://api.github.com/users/byungwok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/byungwok/subscriptions","organizations_url":"https://api.github.com/users/byungwok/orgs","repos_url":"https://api.github.com/users/byungwok/repos","events_url":"https://api.github.com/users/byungwok/events{/privacy}","received_events_url":"https://api.github.com/users/byungwok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-11T05:47:47Z","updated_at":"2018-11-11T05:47:47Z","author_association":"NONE","body":"Thank you for ur answer but sorry i have master log and i have to fix up accumulo-zookeeper error first.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437645616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437683359","html_url":"https://github.com/apache/accumulo/issues/762#issuecomment-437683359","issue_url":"https://api.github.com/repos/apache/accumulo/issues/762","id":437683359,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzY4MzM1OQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-11T16:19:05Z","updated_at":"2018-11-11T16:19:05Z","author_association":"MEMBER","body":"1. Accumulo uses ZooKeeper for service advertisement for the clients and cluster-wide shared state.\r\n2. For a three node cluster, I would probably just put a single ZooKeeper instance on the master node.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/437683359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/438282661","html_url":"https://github.com/apache/accumulo/issues/757#issuecomment-438282661","issue_url":"https://api.github.com/repos/apache/accumulo/issues/757","id":438282661,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODI4MjY2MQ==","user":{"login":"busbey","id":44891,"node_id":"MDQ6VXNlcjQ0ODkx","avatar_url":"https://avatars.githubusercontent.com/u/44891?v=4","gravatar_id":"","url":"https://api.github.com/users/busbey","html_url":"https://github.com/busbey","followers_url":"https://api.github.com/users/busbey/followers","following_url":"https://api.github.com/users/busbey/following{/other_user}","gists_url":"https://api.github.com/users/busbey/gists{/gist_id}","starred_url":"https://api.github.com/users/busbey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/busbey/subscriptions","organizations_url":"https://api.github.com/users/busbey/orgs","repos_url":"https://api.github.com/users/busbey/repos","events_url":"https://api.github.com/users/busbey/events{/privacy}","received_events_url":"https://api.github.com/users/busbey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-13T14:21:30Z","updated_at":"2018-11-13T14:21:50Z","author_association":"CONTRIBUTOR","body":"sorry last week got a bit nuts. on my end. I agree that @ctubbsii 's suggestion is the way to go. Anyone have suggestions on what I use to test this out? Barring suggestions I'll basically spin up a Hadoop 2 and Hadoop 3 based 1.9 install using Unos and run CI for a bit.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/438282661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/438737102","html_url":"https://github.com/apache/accumulo/issues/764#issuecomment-438737102","issue_url":"https://api.github.com/repos/apache/accumulo/issues/764","id":438737102,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODczNzEwMg==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T16:59:36Z","updated_at":"2018-11-14T16:59:36Z","author_association":"CONTRIBUTOR","body":"Do you know if this is related to #728?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/438737102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/438738394","html_url":"https://github.com/apache/accumulo/issues/764#issuecomment-438738394","issue_url":"https://api.github.com/repos/apache/accumulo/issues/764","id":438738394,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODczODM5NA==","user":{"login":"adamjshook","id":1372828,"node_id":"MDQ6VXNlcjEzNzI4Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/1372828?v=4","gravatar_id":"","url":"https://api.github.com/users/adamjshook","html_url":"https://github.com/adamjshook","followers_url":"https://api.github.com/users/adamjshook/followers","following_url":"https://api.github.com/users/adamjshook/following{/other_user}","gists_url":"https://api.github.com/users/adamjshook/gists{/gist_id}","starred_url":"https://api.github.com/users/adamjshook/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamjshook/subscriptions","organizations_url":"https://api.github.com/users/adamjshook/orgs","repos_url":"https://api.github.com/users/adamjshook/repos","events_url":"https://api.github.com/users/adamjshook/events{/privacy}","received_events_url":"https://api.github.com/users/adamjshook/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T17:03:15Z","updated_at":"2018-11-14T17:03:23Z","author_association":"MEMBER","body":"Could very well be.  I'll revert to common-vfs 2.1 in our fork and see if the issue goes away.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/438738394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/438839405","html_url":"https://github.com/apache/accumulo/issues/767#issuecomment-438839405","issue_url":"https://api.github.com/repos/apache/accumulo/issues/767","id":438839405,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODgzOTQwNQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T22:16:24Z","updated_at":"2018-11-14T22:16:24Z","author_association":"MEMBER","body":"FWIW, I think the code that calls this cleanup is making too many assumptions about how the allocator is used. Specifically, it assumes that we can know, for a fact, that we were the last ones to use it, even though we share it with C library code, whose implementations we cannot know for certain. Refactoring to avoid this assumption would be good, I think.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/438839405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/438843157","html_url":"https://github.com/apache/accumulo/pull/766#issuecomment-438843157","issue_url":"https://api.github.com/repos/apache/accumulo/issues/766","id":438843157,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODg0MzE1Nw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-14T22:29:30Z","updated_at":"2018-11-14T22:29:30Z","author_association":"MEMBER","body":"@busbey Just FYI, slight spelling correction: Uno doesn't have an 's' on the end. Including the 's' makes it hard to tell if you are referring to 'Muchos' or 'Uno', which are separate Fluo subprojects. Here, I think you mean \"Uno\".","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/438843157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/438917910","html_url":"https://github.com/apache/accumulo/pull/766#issuecomment-438917910","issue_url":"https://api.github.com/repos/apache/accumulo/issues/766","id":438917910,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODkxNzkxMA==","user":{"login":"busbey","id":44891,"node_id":"MDQ6VXNlcjQ0ODkx","avatar_url":"https://avatars.githubusercontent.com/u/44891?v=4","gravatar_id":"","url":"https://api.github.com/users/busbey","html_url":"https://github.com/busbey","followers_url":"https://api.github.com/users/busbey/followers","following_url":"https://api.github.com/users/busbey/following{/other_user}","gists_url":"https://api.github.com/users/busbey/gists{/gist_id}","starred_url":"https://api.github.com/users/busbey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/busbey/subscriptions","organizations_url":"https://api.github.com/users/busbey/orgs","repos_url":"https://api.github.com/users/busbey/repos","events_url":"https://api.github.com/users/busbey/events{/privacy}","received_events_url":"https://api.github.com/users/busbey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-15T04:58:52Z","updated_at":"2018-11-15T04:58:52Z","author_association":"CONTRIBUTOR","body":"any ideas on how I get the jenkins test to rerun? I tried doing a rebuild on the jenkins job and it failed with some git problem.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/438917910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/438925465","html_url":"https://github.com/apache/accumulo/issues/767#issuecomment-438925465","issue_url":"https://api.github.com/repos/apache/accumulo/issues/767","id":438925465,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODkyNTQ2NQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-15T05:47:18Z","updated_at":"2018-11-15T05:47:18Z","author_association":"MEMBER","body":"I applied the following patch to try to get a sense of what was going on:\r\n\r\n```diff\r\ndiff --git a/server/native/src/main/c++/nativeMap/BlockAllocator.h b/server/native/src/main/c++/nativeMap/BlockAllocator.h\r\nindex 81c14d86ee..98772aebd3 100644\r\n--- a/server/native/src/main/c++/nativeMap/BlockAllocator.h\r\n+++ b/server/native/src/main/c++/nativeMap/BlockAllocator.h\r\n@@ -43,6 +43,7 @@ struct Block {\r\n \t}\r\n \r\n \tvoid *allocate(size_t amount){\r\n+\t\tstd::cerr<< \"Block.allocate(\" << amount << \")\" << std::endl;\r\n \t\tunsigned char *nextPos = currentPos + amount;\r\n \t\t\r\n \t\tif(nextPos > end){\r\n@@ -96,6 +97,7 @@ struct LinkedBlockAllocator {\r\n \t}\r\n \t\r\n \tvoid *allocate(size_t amount){\r\n+      std::cerr<< \"LinkedBlockAllocator.allocate(\" << amount << \")\" << std::endl;\r\n \r\n \t        if(amount > (size_t)bigBlockSize){\r\n \t\t\tunsigned char *p = new unsigned char[amount];\r\n@@ -121,12 +123,13 @@ struct LinkedBlockAllocator {\r\n \t}\r\n \r\n \tvoid deleteLast(void *p){\r\n+    std::cerr<< \"LinkedBlockAllocator.deleteLast(\" << p << \")\" << std::endl;\r\n \t\tif(p != NULL){\r\n \t\t\tif(p == lastAlloc){\r\n \t\t\t\tblocks.back().rollback(p);\r\n \t\t\t\tlastAlloc = NULL;\r\n \t\t\t\treturn;\r\n-\t\t\t}else if(bigBlocks.back().ptr == p){\r\n+\t\t\t}else if(!bigBlocks.empty() && bigBlocks.back().ptr == p){\r\n \t\t\t\tmemused -= (sizeof(BigBlock) + bigBlocks.back().length);\r\n \t\t\t\tbigBlocks.pop_back();\r\n \t\t\t\tdelete((unsigned char *)p);\r\n@@ -135,7 +138,7 @@ struct LinkedBlockAllocator {\r\n \t\t}\r\n \r\n \t\tstd::cerr << \"Tried to delete something that was not last allocation \" << p << \" \" << lastAlloc << std::endl;\r\n-\t\texit(-1);\r\n+\t\t//exit(-1);\r\n \t}\t\r\n \r\n \tsize_t getMemoryUsed(){\r\n@@ -146,7 +149,7 @@ struct LinkedBlockAllocator {\r\n \t}\r\n \t\r\n \t~LinkedBlockAllocator(){\r\n-\t\t//std::cout << \"Deleting \" << blocks.size() << \" blocks, memused : \" << memused << std::endl;\r\n+\t\tstd::cerr << \"(~LinkedBlockAllocator) Deleting \" << blocks.size() << \" blocks, memused : \" << memused << std::endl;\r\n \t\tstd::vector<Block>::iterator iter = blocks.begin();\r\n \t\twhile(iter != blocks.end()){\r\n \t\t  \tdelete [] (iter->data);\r\n```\r\n\r\nThis just does the protective check for the empty vector, stops exiting if the last allocation wasn't what was expected, and adds a tiny bit of debugging output.\r\n\r\nThe output shows a few interesting things. First, for some reason, there's allocation requests for blocks of size `0`, which is weird. Second, all of the times that the `deleteLast` would have otherwise failed (and now prints `Tried to delete something ...`), are off by either `1`, `2`, `3`, or `4` bytes, with the following distribution:\r\n\r\n```\r\n1: 8\r\n2: 90\r\n3: 14\r\n4: 24\r\n```\r\n\r\nTo me, this looks like some alignment issue with the allocator.\r\n\r\nTo reproduce, apply the patch above and run:\r\n\r\n```bash\r\nmvn clean verify -Dtest=blah -Dit.test=ShellIT -Dspotbugs.skip -Dcheckstyle.skip\r\nfor line in $(cat test/target/mini-tests/org.apache.accumulo.harness.SharedMiniClusterBase_*/logs/TabletServer_* | grep '^Tried to delete something' | cut -f10-11 -d' ' | tr ' ' '-'); do x=$(echo $line | cut -f1 -d-); y=$(echo $line | cut -f2 -d-); echo \"$line: $y - $x = $(( $y - $x ))\"; done\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/438925465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/438929744","html_url":"https://github.com/apache/accumulo/pull/766#issuecomment-438929744","issue_url":"https://api.github.com/repos/apache/accumulo/issues/766","id":438929744,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODkyOTc0NA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-15T06:12:52Z","updated_at":"2018-11-15T06:12:52Z","author_association":"MEMBER","body":"I don't think the PR builder plugin for Jenkins works very well for re-triggering a build. I believe the best option is to create a parameterized job for setting the build params. I've done so here: https://builds.apache.org/view/A/view/Accumulo/job/Accumulo-PR-Builder/ and started a job to build this PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/438929744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/439025809","html_url":"https://github.com/apache/accumulo/pull/766#issuecomment-439025809","issue_url":"https://api.github.com/repos/apache/accumulo/issues/766","id":439025809,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTAyNTgwOQ==","user":{"login":"busbey","id":44891,"node_id":"MDQ6VXNlcjQ0ODkx","avatar_url":"https://avatars.githubusercontent.com/u/44891?v=4","gravatar_id":"","url":"https://api.github.com/users/busbey","html_url":"https://github.com/busbey","followers_url":"https://api.github.com/users/busbey/followers","following_url":"https://api.github.com/users/busbey/following{/other_user}","gists_url":"https://api.github.com/users/busbey/gists{/gist_id}","starred_url":"https://api.github.com/users/busbey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/busbey/subscriptions","organizations_url":"https://api.github.com/users/busbey/orgs","repos_url":"https://api.github.com/users/busbey/repos","events_url":"https://api.github.com/users/busbey/events{/privacy}","received_events_url":"https://api.github.com/users/busbey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-15T12:36:08Z","updated_at":"2018-11-15T12:36:08Z","author_association":"CONTRIBUTOR","body":"The new job succeeded:\r\n\r\nhttps://builds.apache.org/view/A/view/Accumulo/job/Accumulo-PR-Builder/1/\r\n\r\nBut it didn't update the status here.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/439025809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/439026109","html_url":"https://github.com/apache/accumulo/pull/766#issuecomment-439026109","issue_url":"https://api.github.com/repos/apache/accumulo/issues/766","id":439026109,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTAyNjEwOQ==","user":{"login":"busbey","id":44891,"node_id":"MDQ6VXNlcjQ0ODkx","avatar_url":"https://avatars.githubusercontent.com/u/44891?v=4","gravatar_id":"","url":"https://api.github.com/users/busbey","html_url":"https://github.com/busbey","followers_url":"https://api.github.com/users/busbey/followers","following_url":"https://api.github.com/users/busbey/following{/other_user}","gists_url":"https://api.github.com/users/busbey/gists{/gist_id}","starred_url":"https://api.github.com/users/busbey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/busbey/subscriptions","organizations_url":"https://api.github.com/users/busbey/orgs","repos_url":"https://api.github.com/users/busbey/repos","events_url":"https://api.github.com/users/busbey/events{/privacy}","received_events_url":"https://api.github.com/users/busbey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-15T12:37:23Z","updated_at":"2018-11-15T12:37:23Z","author_association":"CONTRIBUTOR","body":"Will merge into master branch once I get to a laptop this morning.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/439026109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/439068699","html_url":"https://github.com/apache/accumulo/pull/763#issuecomment-439068699","issue_url":"https://api.github.com/repos/apache/accumulo/issues/763","id":439068699,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTA2ODY5OQ==","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-15T14:58:08Z","updated_at":"2018-11-15T14:58:08Z","author_association":"CONTRIBUTOR","body":"Closed #708 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/439068699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/439078419","html_url":"https://github.com/apache/accumulo/pull/697#issuecomment-439078419","issue_url":"https://api.github.com/repos/apache/accumulo/issues/697","id":439078419,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTA3ODQxOQ==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-15T15:24:50Z","updated_at":"2018-11-15T15:24:50Z","author_association":"MEMBER","body":"@EdColeman, this looks good.  Do you want me to merge it?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/439078419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/439184121","html_url":"https://github.com/apache/accumulo/pull/763#issuecomment-439184121","issue_url":"https://api.github.com/repos/apache/accumulo/issues/763","id":439184121,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTE4NDEyMQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-15T20:46:22Z","updated_at":"2018-11-15T20:46:22Z","author_association":"MEMBER","body":"Looks like this was added as commit 2e892b3c8ec6b03912b9d82cacf3f5b1231200fa .\r\n@jmark99 Next time, it'd be good idea to reference the ticket number, or PR number, to make it obvious that it was closed because it was merged, and not simply closed as aborted.\r\n\r\nAlso, although too late now, it's generally a good idea to follow some best practices for formatting the git commit log message... your first line is a bit... long. Here's a good reference: https://chris.beams.io/posts/git-commit/","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/439184121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/439397488","html_url":"https://github.com/apache/accumulo/pull/763#issuecomment-439397488","issue_url":"https://api.github.com/repos/apache/accumulo/issues/763","id":439397488,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTM5NzQ4OA==","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-16T13:46:52Z","updated_at":"2018-11-16T13:46:52Z","author_association":"CONTRIBUTOR","body":"Sorry about that! I thought I had a short header line with the PR number\nincluded. Not sure what happened there. That line was supposed to be the\nexpanded explanation.\n\nOn Thu, Nov 15, 2018 at 3:46 PM Christopher Tubbs <notifications@github.com>\nwrote:\n\n> Looks like this was added as commit 2e892b3\n> <https://github.com/apache/accumulo/commit/2e892b3c8ec6b03912b9d82cacf3f5b1231200fa>\n> .\n> @jmark99 <https://github.com/jmark99> Next time, it'd be good idea to\n> reference the ticket number, or PR number, to make it obvious that it was\n> closed because it was merged, and not simply closed as aborted.\n>\n> Also, although too late now, it's generally a good idea to follow some\n> best practices for formatting the git commit log message... your first line\n> is a bit... long. Here's a good reference:\n> https://chris.beams.io/posts/git-commit/\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/accumulo/pull/763#issuecomment-439184121>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AeHFYfxD3J8dX_DiwVbP34L1as2Mb08Pks5uvdKhgaJpZM4YchKv>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/439397488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/439651447","html_url":"https://github.com/apache/accumulo/pull/770#issuecomment-439651447","issue_url":"https://api.github.com/repos/apache/accumulo/issues/770","id":439651447,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTY1MTQ0Nw==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-17T22:14:46Z","updated_at":"2018-11-17T22:14:46Z","author_association":"MEMBER","body":"See related PR https://github.com/apache/accumulo-website/pull/133","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/439651447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/439965995","html_url":"https://github.com/apache/accumulo/pull/770#issuecomment-439965995","issue_url":"https://api.github.com/repos/apache/accumulo/issues/770","id":439965995,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTk2NTk5NQ==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-19T17:00:48Z","updated_at":"2018-11-19T17:00:48Z","author_association":"MEMBER","body":"@keith-turner, yes all of the information in INSTALL.md is in the quick start on the website","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/439965995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/440059213","html_url":"https://github.com/apache/accumulo/issues/771#issuecomment-440059213","issue_url":"https://api.github.com/repos/apache/accumulo/issues/771","id":440059213,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDA1OTIxMw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-11-19T22:07:44Z","updated_at":"2018-11-19T22:07:44Z","author_association":"MEMBER","body":"Accumulo doesn't use Yarn. It may be possible to deploy Accumulo in yarn, but I haven't tried, personally. I recommend discussing on our user mailing list, where you may be able to learn from others who have tried it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/440059213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]