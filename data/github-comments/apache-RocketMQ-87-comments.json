[{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/973826758","html_url":"https://github.com/apache/rocketmq/pull/3509#issuecomment-973826758","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3509","id":973826758,"node_id":"IC_kwDOBHrsl846C2rG","user":{"login":"XiaoyiPeng","id":8653312,"node_id":"MDQ6VXNlcjg2NTMzMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8653312?v=4","gravatar_id":"","url":"https://api.github.com/users/XiaoyiPeng","html_url":"https://github.com/XiaoyiPeng","followers_url":"https://api.github.com/users/XiaoyiPeng/followers","following_url":"https://api.github.com/users/XiaoyiPeng/following{/other_user}","gists_url":"https://api.github.com/users/XiaoyiPeng/gists{/gist_id}","starred_url":"https://api.github.com/users/XiaoyiPeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XiaoyiPeng/subscriptions","organizations_url":"https://api.github.com/users/XiaoyiPeng/orgs","repos_url":"https://api.github.com/users/XiaoyiPeng/repos","events_url":"https://api.github.com/users/XiaoyiPeng/events{/privacy}","received_events_url":"https://api.github.com/users/XiaoyiPeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-19T07:34:22Z","updated_at":"2021-11-19T07:34:22Z","author_association":"CONTRIBUTOR","body":"> > > Do we have existing unit test for this public method `headSlowTimeMills`?\r\n> > \r\n> > \r\n> > No, the previous version didn't one.\r\n> \r\n> It would be nice if you can provide a unit test for this method, to make sure it works properly.\r\n\r\nI have submitted the unit tests of method `BrokerController#headSlowTimeMills`, please take a look.\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/973826758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/973853300","html_url":"https://github.com/apache/rocketmq/issues/3510#issuecomment-973853300","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3510","id":973853300,"node_id":"IC_kwDOBHrsl846C9J0","user":{"login":"labazhou2018","id":38873832,"node_id":"MDQ6VXNlcjM4ODczODMy","avatar_url":"https://avatars.githubusercontent.com/u/38873832?v=4","gravatar_id":"","url":"https://api.github.com/users/labazhou2018","html_url":"https://github.com/labazhou2018","followers_url":"https://api.github.com/users/labazhou2018/followers","following_url":"https://api.github.com/users/labazhou2018/following{/other_user}","gists_url":"https://api.github.com/users/labazhou2018/gists{/gist_id}","starred_url":"https://api.github.com/users/labazhou2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/labazhou2018/subscriptions","organizations_url":"https://api.github.com/users/labazhou2018/orgs","repos_url":"https://api.github.com/users/labazhou2018/repos","events_url":"https://api.github.com/users/labazhou2018/events{/privacy}","received_events_url":"https://api.github.com/users/labazhou2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-19T08:15:53Z","updated_at":"2021-11-19T08:16:54Z","author_association":"CONTRIBUTOR","body":"The client api call the method invokeSync in `NettyRemotingClient`class，it's not a good idea keep doAfterRpcHooks method here.\r\n\r\n![2021-11-19_144639](https://user-images.githubusercontent.com/38873832/142588827-9c111f2e-060c-441e-93dd-727b0273c380.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/973853300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/973869695","html_url":"https://github.com/apache/rocketmq/issues/1671#issuecomment-973869695","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1671","id":973869695,"node_id":"IC_kwDOBHrsl846DBJ_","user":{"login":"danuo2011","id":24982789,"node_id":"MDQ6VXNlcjI0OTgyNzg5","avatar_url":"https://avatars.githubusercontent.com/u/24982789?v=4","gravatar_id":"","url":"https://api.github.com/users/danuo2011","html_url":"https://github.com/danuo2011","followers_url":"https://api.github.com/users/danuo2011/followers","following_url":"https://api.github.com/users/danuo2011/following{/other_user}","gists_url":"https://api.github.com/users/danuo2011/gists{/gist_id}","starred_url":"https://api.github.com/users/danuo2011/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danuo2011/subscriptions","organizations_url":"https://api.github.com/users/danuo2011/orgs","repos_url":"https://api.github.com/users/danuo2011/repos","events_url":"https://api.github.com/users/danuo2011/events{/privacy}","received_events_url":"https://api.github.com/users/danuo2011/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-19T08:41:04Z","updated_at":"2021-11-19T08:41:04Z","author_association":"NONE","body":"So how to solve this problem?\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/973869695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/973878051","html_url":"https://github.com/apache/rocketmq/issues/1671#issuecomment-973878051","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1671","id":973878051,"node_id":"IC_kwDOBHrsl846DDMj","user":{"login":"Git-Yang","id":30995057,"node_id":"MDQ6VXNlcjMwOTk1MDU3","avatar_url":"https://avatars.githubusercontent.com/u/30995057?v=4","gravatar_id":"","url":"https://api.github.com/users/Git-Yang","html_url":"https://github.com/Git-Yang","followers_url":"https://api.github.com/users/Git-Yang/followers","following_url":"https://api.github.com/users/Git-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Git-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Git-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Git-Yang/subscriptions","organizations_url":"https://api.github.com/users/Git-Yang/orgs","repos_url":"https://api.github.com/users/Git-Yang/repos","events_url":"https://api.github.com/users/Git-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Git-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-19T08:54:43Z","updated_at":"2021-11-19T08:54:43Z","author_association":"MEMBER","body":"> So how to solve this problem?\r\n\r\nA custom thread pool and a good rejection strategy may be a good choice.\r\n`    /**`\r\n`     * Sets an Executor to be used for executing asynchronous send. If the Executor is not set, {@link`\r\n`    * DefaultMQProducerImpl#defaultAsyncSenderExecutor} will be used.`\r\n`     *`\r\n`     * @param asyncSenderExecutor the instance of Executor`\r\n`     */`\r\n`    public void setAsyncSenderExecutor(final ExecutorService asyncSenderExecutor) {`\r\n`        this.defaultMQProducerImpl.setAsyncSenderExecutor(asyncSenderExecutor);`\r\n`    }`","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/973878051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/974606988","html_url":"https://github.com/apache/rocketmq/issues/2937#issuecomment-974606988","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2937","id":974606988,"node_id":"IC_kwDOBHrsl846F1KM","user":{"login":"loongs-zhang","id":38336731,"node_id":"MDQ6VXNlcjM4MzM2NzMx","avatar_url":"https://avatars.githubusercontent.com/u/38336731?v=4","gravatar_id":"","url":"https://api.github.com/users/loongs-zhang","html_url":"https://github.com/loongs-zhang","followers_url":"https://api.github.com/users/loongs-zhang/followers","following_url":"https://api.github.com/users/loongs-zhang/following{/other_user}","gists_url":"https://api.github.com/users/loongs-zhang/gists{/gist_id}","starred_url":"https://api.github.com/users/loongs-zhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/loongs-zhang/subscriptions","organizations_url":"https://api.github.com/users/loongs-zhang/orgs","repos_url":"https://api.github.com/users/loongs-zhang/repos","events_url":"https://api.github.com/users/loongs-zhang/events{/privacy}","received_events_url":"https://api.github.com/users/loongs-zhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-20T07:05:47Z","updated_at":"2021-11-20T07:05:47Z","author_association":"MEMBER","body":"The latest documents are here: https://gitee.com/dragon-demon/RocketMQ-RIP22-LogicOrderedMessageDesignDoc","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/974606988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/974656573","html_url":"https://github.com/apache/rocketmq/issues/2993#issuecomment-974656573","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2993","id":974656573,"node_id":"IC_kwDOBHrsl846GBQ9","user":{"login":"fangzhiheng","id":43714854,"node_id":"MDQ6VXNlcjQzNzE0ODU0","avatar_url":"https://avatars.githubusercontent.com/u/43714854?v=4","gravatar_id":"","url":"https://api.github.com/users/fangzhiheng","html_url":"https://github.com/fangzhiheng","followers_url":"https://api.github.com/users/fangzhiheng/followers","following_url":"https://api.github.com/users/fangzhiheng/following{/other_user}","gists_url":"https://api.github.com/users/fangzhiheng/gists{/gist_id}","starred_url":"https://api.github.com/users/fangzhiheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fangzhiheng/subscriptions","organizations_url":"https://api.github.com/users/fangzhiheng/orgs","repos_url":"https://api.github.com/users/fangzhiheng/repos","events_url":"https://api.github.com/users/fangzhiheng/events{/privacy}","received_events_url":"https://api.github.com/users/fangzhiheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-20T14:17:54Z","updated_at":"2021-11-20T14:17:54Z","author_association":"NONE","body":"> @fangzhiheng would you like to submit a PR. to fix it?\r\n\r\nI submit a [PR](https://github.com/openmessaging/dledger/pull/100) for dledger repo, i think it should be fixed by them. ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/974656573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/974749100","html_url":"https://github.com/apache/rocketmq/issues/3511#issuecomment-974749100","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3511","id":974749100,"node_id":"IC_kwDOBHrsl846GX2s","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T03:27:16Z","updated_at":"2021-11-21T03:27:16Z","author_association":"CONTRIBUTOR","body":"I found that the version of the broker is quite low, I suggest upgrading to a higher version, and the recommended java version is 1.8.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/974749100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/974749344","html_url":"https://github.com/apache/rocketmq/issues/3510#issuecomment-974749344","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3510","id":974749344,"node_id":"IC_kwDOBHrsl846GX6g","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T03:30:39Z","updated_at":"2021-11-21T03:30:39Z","author_association":"CONTRIBUTOR","body":"> NettyRemotingClient\r\n\r\nWhat's your suggestion？","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/974749344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/974750856","html_url":"https://github.com/apache/rocketmq/pull/3509#issuecomment-974750856","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3509","id":974750856,"node_id":"IC_kwDOBHrsl846GYSI","user":{"login":"XiaoyiPeng","id":8653312,"node_id":"MDQ6VXNlcjg2NTMzMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8653312?v=4","gravatar_id":"","url":"https://api.github.com/users/XiaoyiPeng","html_url":"https://github.com/XiaoyiPeng","followers_url":"https://api.github.com/users/XiaoyiPeng/followers","following_url":"https://api.github.com/users/XiaoyiPeng/following{/other_user}","gists_url":"https://api.github.com/users/XiaoyiPeng/gists{/gist_id}","starred_url":"https://api.github.com/users/XiaoyiPeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XiaoyiPeng/subscriptions","organizations_url":"https://api.github.com/users/XiaoyiPeng/orgs","repos_url":"https://api.github.com/users/XiaoyiPeng/repos","events_url":"https://api.github.com/users/XiaoyiPeng/events{/privacy}","received_events_url":"https://api.github.com/users/XiaoyiPeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T03:52:36Z","updated_at":"2021-11-21T03:53:51Z","author_association":"CONTRIBUTOR","body":"> It is also a time-consuming operation to cast all send requests to RequestTask especially when there are many send requests. I think we need to consider whether it is better to isolate the thread pool instead of optimize headslowtimemills.\r\n\r\nThanks for your review.\r\nHowever, \r\n1. Java streams are executed lazily in the pipeline, when it finds the first task that meets the condition, it will return instead of cast all send requests to RequestTask.\r\n2. For such a little optimization(we just need `sendThreadPoolQueueHeadWaitTimeMills ` to monitor the load of `BrokerController#sendMessageExecutor`), introduce a new thread pool may be a bit expensive.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/974750856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/974773621","html_url":"https://github.com/apache/rocketmq/pull/3509#issuecomment-974773621","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3509","id":974773621,"node_id":"IC_kwDOBHrsl846Gd11","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T08:17:57Z","updated_at":"2021-11-21T08:17:57Z","author_association":"CONTRIBUTOR","body":"> \r\n\r\nOK, I got it","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/974773621/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/974774065","html_url":"https://github.com/apache/rocketmq/issues/3515#issuecomment-974774065","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3515","id":974774065,"node_id":"IC_kwDOBHrsl846Gd8x","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T08:21:19Z","updated_at":"2021-11-21T08:21:19Z","author_association":"CONTRIBUTOR","body":"What is the broker config setting of brokerClusterName? It should be DefaultCluster in your test","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/974774065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/974796756","html_url":"https://github.com/apache/rocketmq/pull/3517#issuecomment-974796756","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3517","id":974796756,"node_id":"IC_kwDOBHrsl846GjfU","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T11:14:41Z","updated_at":"2021-11-21T11:14:41Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3517?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3517](https://codecov.io/gh/apache/rocketmq/pull/3517?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (b5dce4b) into [master](https://codecov.io/gh/apache/rocketmq/commit/df4e98855d461d85e9c4ed43add1b12a58bca7b6?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (df4e988) will **decrease** coverage by `0.15%`.\n> The diff coverage is `100.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3517/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3517?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #3517      +/-   ##\n============================================\n- Coverage     48.28%   48.12%   -0.16%     \n+ Complexity     4611     4595      -16     \n============================================\n  Files           555      555              \n  Lines         36756    36756              \n  Branches       4841     4841              \n============================================\n- Hits          17746    17690      -56     \n- Misses        16779    16836      +57     \n+ Partials       2231     2230       -1     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3517?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...e/rocketmq/remoting/netty/NettyRemotingClient.java](https://codecov.io/gh/apache/rocketmq/pull/3517/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5UmVtb3RpbmdDbGllbnQuamF2YQ==) | `47.24% <100.00%> (ø)` | |\n| [.../broker/subscription/SubscriptionGroupManager.java](https://codecov.io/gh/apache/rocketmq/pull/3517/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvc3Vic2NyaXB0aW9uL1N1YnNjcmlwdGlvbkdyb3VwTWFuYWdlci5qYXZh) | `54.11% <0.00%> (-16.48%)` | :arrow_down: |\n| [...in/java/org/apache/rocketmq/test/util/MQAdmin.java](https://codecov.io/gh/apache/rocketmq/pull/3517/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL01RQWRtaW4uamF2YQ==) | `38.88% <0.00%> (-5.56%)` | :arrow_down: |\n| [...apache/rocketmq/remoting/netty/ResponseFuture.java](https://codecov.io/gh/apache/rocketmq/pull/3517/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L1Jlc3BvbnNlRnV0dXJlLmphdmE=) | `85.00% <0.00%> (-5.00%)` | :arrow_down: |\n| [...ache/rocketmq/broker/topic/TopicConfigManager.java](https://codecov.io/gh/apache/rocketmq/pull/3517/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvdG9waWMvVG9waWNDb25maWdNYW5hZ2VyLmphdmE=) | `54.23% <0.00%> (-4.62%)` | :arrow_down: |\n| [...ache/rocketmq/common/stats/MomentStatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/3517/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvTW9tZW50U3RhdHNJdGVtU2V0LmphdmE=) | `39.13% <0.00%> (-4.35%)` | :arrow_down: |\n| [...rocketmq/remoting/netty/NettyRemotingAbstract.java](https://codecov.io/gh/apache/rocketmq/pull/3517/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5UmVtb3RpbmdBYnN0cmFjdC5qYXZh) | `47.05% <0.00%> (-4.05%)` | :arrow_down: |\n| [...ava/org/apache/rocketmq/test/util/VerifyUtils.java](https://codecov.io/gh/apache/rocketmq/pull/3517/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL1ZlcmlmeVV0aWxzLmphdmE=) | `46.26% <0.00%> (-2.99%)` | :arrow_down: |\n| [...ava/org/apache/rocketmq/filter/util/BitsArray.java](https://codecov.io/gh/apache/rocketmq/pull/3517/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZmlsdGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9maWx0ZXIvdXRpbC9CaXRzQXJyYXkuamF2YQ==) | `59.82% <0.00%> (-2.57%)` | :arrow_down: |\n| [...ache/rocketmq/store/AllocateMappedFileService.java](https://codecov.io/gh/apache/rocketmq/pull/3517/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0FsbG9jYXRlTWFwcGVkRmlsZVNlcnZpY2UuamF2YQ==) | `39.02% <0.00%> (-2.44%)` | :arrow_down: |\n| ... and [11 more](https://codecov.io/gh/apache/rocketmq/pull/3517/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3517?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3517?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [df4e988...b5dce4b](https://codecov.io/gh/apache/rocketmq/pull/3517?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/974796756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/974817969","html_url":"https://github.com/apache/rocketmq/issues/3518#issuecomment-974817969","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3518","id":974817969,"node_id":"IC_kwDOBHrsl846Goqx","user":{"login":"Jason918","id":2770146,"node_id":"MDQ6VXNlcjI3NzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/2770146?v=4","gravatar_id":"","url":"https://api.github.com/users/Jason918","html_url":"https://github.com/Jason918","followers_url":"https://api.github.com/users/Jason918/followers","following_url":"https://api.github.com/users/Jason918/following{/other_user}","gists_url":"https://api.github.com/users/Jason918/gists{/gist_id}","starred_url":"https://api.github.com/users/Jason918/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jason918/subscriptions","organizations_url":"https://api.github.com/users/Jason918/orgs","repos_url":"https://api.github.com/users/Jason918/repos","events_url":"https://api.github.com/users/Jason918/events{/privacy}","received_events_url":"https://api.github.com/users/Jason918/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T13:27:45Z","updated_at":"2021-11-21T13:27:45Z","author_association":"CONTRIBUTOR","body":"Any idea about how to reproduce this?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/974817969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/974846798","html_url":"https://github.com/apache/rocketmq/issues/3515#issuecomment-974846798","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3515","id":974846798,"node_id":"IC_kwDOBHrsl846GvtO","user":{"login":"Jamesmahaitao","id":17718184,"node_id":"MDQ6VXNlcjE3NzE4MTg0","avatar_url":"https://avatars.githubusercontent.com/u/17718184?v=4","gravatar_id":"","url":"https://api.github.com/users/Jamesmahaitao","html_url":"https://github.com/Jamesmahaitao","followers_url":"https://api.github.com/users/Jamesmahaitao/followers","following_url":"https://api.github.com/users/Jamesmahaitao/following{/other_user}","gists_url":"https://api.github.com/users/Jamesmahaitao/gists{/gist_id}","starred_url":"https://api.github.com/users/Jamesmahaitao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jamesmahaitao/subscriptions","organizations_url":"https://api.github.com/users/Jamesmahaitao/orgs","repos_url":"https://api.github.com/users/Jamesmahaitao/repos","events_url":"https://api.github.com/users/Jamesmahaitao/events{/privacy}","received_events_url":"https://api.github.com/users/Jamesmahaitao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-21T16:13:40Z","updated_at":"2021-11-21T16:13:40Z","author_association":"NONE","body":"> What is the broker config setting of brokerClusterName? It should be DefaultCluster in your test\r\n\r\n**brokerClusterName = DefaultCluster**\r\nDefaultCluster this is default value and my broker.conf also is DefaultCluster","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/974846798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975004573","html_url":"https://github.com/apache/rocketmq/issues/3515#issuecomment-975004573","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3515","id":975004573,"node_id":"IC_kwDOBHrsl846HWOd","user":{"login":"Git-Yang","id":30995057,"node_id":"MDQ6VXNlcjMwOTk1MDU3","avatar_url":"https://avatars.githubusercontent.com/u/30995057?v=4","gravatar_id":"","url":"https://api.github.com/users/Git-Yang","html_url":"https://github.com/Git-Yang","followers_url":"https://api.github.com/users/Git-Yang/followers","following_url":"https://api.github.com/users/Git-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Git-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Git-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Git-Yang/subscriptions","organizations_url":"https://api.github.com/users/Git-Yang/orgs","repos_url":"https://api.github.com/users/Git-Yang/repos","events_url":"https://api.github.com/users/Git-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Git-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T02:04:35Z","updated_at":"2021-11-22T02:04:35Z","author_association":"MEMBER","body":"> 1. ./mqadmin updateTopic -c DefaultCluster -n 127.0.0.1:9876 -t TopicTest\r\n\r\nCheck whether namesrv is connected normally through `telnet 127.0.0.1 9876`.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975004573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975005267","html_url":"https://github.com/apache/rocketmq/pull/3382#issuecomment-975005267","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3382","id":975005267,"node_id":"IC_kwDOBHrsl846HWZT","user":{"login":"iamqq23ue","id":70457992,"node_id":"MDQ6VXNlcjcwNDU3OTky","avatar_url":"https://avatars.githubusercontent.com/u/70457992?v=4","gravatar_id":"","url":"https://api.github.com/users/iamqq23ue","html_url":"https://github.com/iamqq23ue","followers_url":"https://api.github.com/users/iamqq23ue/followers","following_url":"https://api.github.com/users/iamqq23ue/following{/other_user}","gists_url":"https://api.github.com/users/iamqq23ue/gists{/gist_id}","starred_url":"https://api.github.com/users/iamqq23ue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamqq23ue/subscriptions","organizations_url":"https://api.github.com/users/iamqq23ue/orgs","repos_url":"https://api.github.com/users/iamqq23ue/repos","events_url":"https://api.github.com/users/iamqq23ue/events{/privacy}","received_events_url":"https://api.github.com/users/iamqq23ue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T02:06:09Z","updated_at":"2021-11-22T02:06:09Z","author_association":"CONTRIBUTOR","body":"I think anyone who sets SYNC_FLUSH expects that SEND_OK will only be returned when all data is written to the disk.\r\nIn financial scenarios, any data loss is unacceptable. If the user does not need the absolute security of&nbsp;\r\nthe data, ASYNC_FLUSH will be set.&nbsp;\r\n\r\n\r\n\r\n\r\n\r\n------------------&nbsp;原始邮件&nbsp;------------------\r\n发件人:                                                                                                                        \"apache/rocketmq\"                                                                                    ***@***.***&gt;;\r\n发送时间:&nbsp;2021年11月22日(星期一) 上午9:49\r\n***@***.***&gt;;\r\n***@***.******@***.***&gt;;\r\n主题:&nbsp;Re: [apache/rocketmq] FIX  ISSUE#2706  the problem of returning SEND_OK after flush failed,The original pull request was #2707. (#3382)\r\n\r\n\r\n\r\n\r\n\r\n \r\n@Jason918 commented on this pull request.\r\n \r\n \r\nIn store/src/main/java/org/apache/rocketmq/store/MappedFile.java:\r\n &gt; @@ -288,6 +289,7 @@ public int flush(final int flushLeastPages) {                      }                  } catch (Throwable e) {                      log.error(\"Error occurred when force data to disk.\", e); +                    this.flushError = true;  \r\nIt's ok for some users that data is written on the disk eventually. Changing this default behavior have too much compact on the compatibility.\r\n IMHO, maybe adding an optional config to enable this fast failure feature on disk error?\r\n \r\n—\r\nYou are receiving this because you authored the thread.\r\nReply to this email directly, view it on GitHub, or unsubscribe.\r\nTriage notifications on the go with GitHub Mobile for iOS or Android.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975005267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975015832","html_url":"https://github.com/apache/rocketmq/pull/3382#issuecomment-975015832","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3382","id":975015832,"node_id":"IC_kwDOBHrsl846HY-Y","user":{"login":"Jason918","id":2770146,"node_id":"MDQ6VXNlcjI3NzAxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/2770146?v=4","gravatar_id":"","url":"https://api.github.com/users/Jason918","html_url":"https://github.com/Jason918","followers_url":"https://api.github.com/users/Jason918/followers","following_url":"https://api.github.com/users/Jason918/following{/other_user}","gists_url":"https://api.github.com/users/Jason918/gists{/gist_id}","starred_url":"https://api.github.com/users/Jason918/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jason918/subscriptions","organizations_url":"https://api.github.com/users/Jason918/orgs","repos_url":"https://api.github.com/users/Jason918/repos","events_url":"https://api.github.com/users/Jason918/events{/privacy}","received_events_url":"https://api.github.com/users/Jason918/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T02:29:10Z","updated_at":"2021-11-22T02:29:10Z","author_association":"CONTRIBUTOR","body":"\r\n> I think anyone who sets SYNC_FLUSH expects that SEND_OK will only be returned when all data is written to the disk.\r\n\r\nOf course, but the error handling strategy varies. No storage system can guarantee 100% persistent availability. \r\n\r\nAnd, RocketMQ can be used for multi tenants, users with ASYNC_FLUSH requirement can share a broker with SYNC_FLUSH enabled.\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975015832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975019098","html_url":"https://github.com/apache/rocketmq/pull/3382#issuecomment-975019098","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3382","id":975019098,"node_id":"IC_kwDOBHrsl846HZxa","user":{"login":"iamqq23ue","id":70457992,"node_id":"MDQ6VXNlcjcwNDU3OTky","avatar_url":"https://avatars.githubusercontent.com/u/70457992?v=4","gravatar_id":"","url":"https://api.github.com/users/iamqq23ue","html_url":"https://github.com/iamqq23ue","followers_url":"https://api.github.com/users/iamqq23ue/followers","following_url":"https://api.github.com/users/iamqq23ue/following{/other_user}","gists_url":"https://api.github.com/users/iamqq23ue/gists{/gist_id}","starred_url":"https://api.github.com/users/iamqq23ue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamqq23ue/subscriptions","organizations_url":"https://api.github.com/users/iamqq23ue/orgs","repos_url":"https://api.github.com/users/iamqq23ue/repos","events_url":"https://api.github.com/users/iamqq23ue/events{/privacy}","received_events_url":"https://api.github.com/users/iamqq23ue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T02:39:42Z","updated_at":"2021-11-22T02:39:42Z","author_association":"CONTRIBUTOR","body":"I agree with what you said \"No storage system can guarantee 100% persistent availability\"\r\nTherefore, it is necessary to ensure that the client can handle the exception in the first time when the storage fails.\r\nIf the tenant who sets ASYNC_FLUSH shares the broker with the tenant who sets SYNC_FLUSH, it can only be required in accordance with the stricter SYNC_FLUSH.\r\n\r\n\r\n\r\n\r\n\r\n------------------&nbsp;原始邮件&nbsp;------------------\r\n发件人:                                                                                                                        \"apache/rocketmq\"                                                                                    ***@***.***&gt;;\r\n发送时间:&nbsp;2021年11月22日(星期一) 上午10:29\r\n***@***.***&gt;;\r\n***@***.******@***.***&gt;;\r\n主题:&nbsp;Re: [apache/rocketmq] FIX  ISSUE#2706  the problem of returning SEND_OK after flush failed,The original pull request was #2707. (#3382)\r\n\r\n\r\n\r\n\r\n\r\n  \r\nI think anyone who sets SYNC_FLUSH expects that SEND_OK will only be returned when all data is written to the disk.\r\n  \r\nOf course, but the error handling strategy varies. No storage system can guarantee 100% persistent availability.\r\n \r\nAnd, RocketMQ can be used for multi tenants, users with ASYNC_FLUSH requirement can share a broker with SYNC_FLUSH enabled.\r\n \r\n—\r\nYou are receiving this because you authored the thread.\r\nReply to this email directly, view it on GitHub, or unsubscribe.\r\nTriage notifications on the go with GitHub Mobile for iOS or Android.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975019098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975089255","html_url":"https://github.com/apache/rocketmq/issues/3519#issuecomment-975089255","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3519","id":975089255,"node_id":"IC_kwDOBHrsl846Hq5n","user":{"login":"Git-Yang","id":30995057,"node_id":"MDQ6VXNlcjMwOTk1MDU3","avatar_url":"https://avatars.githubusercontent.com/u/30995057?v=4","gravatar_id":"","url":"https://api.github.com/users/Git-Yang","html_url":"https://github.com/Git-Yang","followers_url":"https://api.github.com/users/Git-Yang/followers","following_url":"https://api.github.com/users/Git-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Git-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Git-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Git-Yang/subscriptions","organizations_url":"https://api.github.com/users/Git-Yang/orgs","repos_url":"https://api.github.com/users/Git-Yang/repos","events_url":"https://api.github.com/users/Git-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Git-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T04:30:17Z","updated_at":"2021-11-22T04:30:17Z","author_association":"MEMBER","body":"The problem has been fixed in PR https://github.com/apache/rocketmq/pull/3454.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975089255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975188552","html_url":"https://github.com/apache/rocketmq/issues/3518#issuecomment-975188552","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3518","id":975188552,"node_id":"IC_kwDOBHrsl846IDJI","user":{"login":"zhangjidi2016","id":18254437,"node_id":"MDQ6VXNlcjE4MjU0NDM3","avatar_url":"https://avatars.githubusercontent.com/u/18254437?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangjidi2016","html_url":"https://github.com/zhangjidi2016","followers_url":"https://api.github.com/users/zhangjidi2016/followers","following_url":"https://api.github.com/users/zhangjidi2016/following{/other_user}","gists_url":"https://api.github.com/users/zhangjidi2016/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangjidi2016/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangjidi2016/subscriptions","organizations_url":"https://api.github.com/users/zhangjidi2016/orgs","repos_url":"https://api.github.com/users/zhangjidi2016/repos","events_url":"https://api.github.com/users/zhangjidi2016/events{/privacy}","received_events_url":"https://api.github.com/users/zhangjidi2016/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T07:06:01Z","updated_at":"2021-11-22T07:06:01Z","author_association":"CONTRIBUTOR","body":"@wangjia2016  Rocketmq-dashboard searches for the msgId according to offsetMsgId and messageId. The query is performed according to offsetMsgId. If an error occurs, the query is performed according to messgeId，messageId is displayed in the queryed message list. For specific differences between messageId and offsetMsgId, please refer to the blog of Dingwei. https://blog.csdn.net/prestigeding/article/details/104739950","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975188552/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975214030","html_url":"https://github.com/apache/rocketmq/pull/3496#issuecomment-975214030","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3496","id":975214030,"node_id":"IC_kwDOBHrsl846IJXO","user":{"login":"Cczzzz","id":32947555,"node_id":"MDQ6VXNlcjMyOTQ3NTU1","avatar_url":"https://avatars.githubusercontent.com/u/32947555?v=4","gravatar_id":"","url":"https://api.github.com/users/Cczzzz","html_url":"https://github.com/Cczzzz","followers_url":"https://api.github.com/users/Cczzzz/followers","following_url":"https://api.github.com/users/Cczzzz/following{/other_user}","gists_url":"https://api.github.com/users/Cczzzz/gists{/gist_id}","starred_url":"https://api.github.com/users/Cczzzz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cczzzz/subscriptions","organizations_url":"https://api.github.com/users/Cczzzz/orgs","repos_url":"https://api.github.com/users/Cczzzz/repos","events_url":"https://api.github.com/users/Cczzzz/events{/privacy}","received_events_url":"https://api.github.com/users/Cczzzz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T07:50:23Z","updated_at":"2021-11-22T07:50:23Z","author_association":"CONTRIBUTOR","body":"checks fail ， How do i fix it。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975214030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975331670","html_url":"https://github.com/apache/rocketmq/issues/3520#issuecomment-975331670","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3520","id":975331670,"node_id":"IC_kwDOBHrsl846ImFW","user":{"login":"Git-Yang","id":30995057,"node_id":"MDQ6VXNlcjMwOTk1MDU3","avatar_url":"https://avatars.githubusercontent.com/u/30995057?v=4","gravatar_id":"","url":"https://api.github.com/users/Git-Yang","html_url":"https://github.com/Git-Yang","followers_url":"https://api.github.com/users/Git-Yang/followers","following_url":"https://api.github.com/users/Git-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Git-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Git-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Git-Yang/subscriptions","organizations_url":"https://api.github.com/users/Git-Yang/orgs","repos_url":"https://api.github.com/users/Git-Yang/repos","events_url":"https://api.github.com/users/Git-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Git-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T09:37:09Z","updated_at":"2021-11-22T09:37:09Z","author_association":"MEMBER","body":"The error may have nothing to do with rocketmq, it should be tomcat debugging information.\r\nI have seen a related discussion, you can refer to it. https://stackoverflow.com/questions/51501360/springboot-error-parsing-http-request-header-oauth2-https-endpoints","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975331670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975485793","html_url":"https://github.com/apache/rocketmq/pull/3382#issuecomment-975485793","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3382","id":975485793,"node_id":"IC_kwDOBHrsl846JLth","user":{"login":"areyouok","id":3192556,"node_id":"MDQ6VXNlcjMxOTI1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/3192556?v=4","gravatar_id":"","url":"https://api.github.com/users/areyouok","html_url":"https://github.com/areyouok","followers_url":"https://api.github.com/users/areyouok/followers","following_url":"https://api.github.com/users/areyouok/following{/other_user}","gists_url":"https://api.github.com/users/areyouok/gists{/gist_id}","starred_url":"https://api.github.com/users/areyouok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areyouok/subscriptions","organizations_url":"https://api.github.com/users/areyouok/orgs","repos_url":"https://api.github.com/users/areyouok/repos","events_url":"https://api.github.com/users/areyouok/events{/privacy}","received_events_url":"https://api.github.com/users/areyouok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T12:45:14Z","updated_at":"2021-11-22T12:45:14Z","author_association":"CONTRIBUTOR","body":"I don't agree with the current commit.\r\n\r\n1: In SYNC_FLUSH mode it use MappedByteBuffer.force() method. The javadoc of this method is ambiguous and there is no exception throws. Do you get the exception of this line?\r\n```java\r\nlog.error(\"Error occurred when force data to disk.\", e);\r\n```\r\n\r\nI guess there is no exception if IO operation fails (maybe just return with no guarantee, or hang).\r\n\r\n2: Even if unrecoverable exceptions throws in ```public int flush(final int flushLeastPages)``` method (maybe cause by FileChannel.force), we should mark broker as read only mode(broker permission 4, will update name server and no more requests send to the broker), but not fails in each send operation.\r\n\r\n3:  if the send method returns a SendStatus it means somewhat success, so you should not add FLUSH_DISK_FAILED to SendStatus. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975485793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975536773","html_url":"https://github.com/apache/rocketmq/pull/3382#issuecomment-975536773","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3382","id":975536773,"node_id":"IC_kwDOBHrsl846JYKF","user":{"login":"iamqq23ue","id":70457992,"node_id":"MDQ6VXNlcjcwNDU3OTky","avatar_url":"https://avatars.githubusercontent.com/u/70457992?v=4","gravatar_id":"","url":"https://api.github.com/users/iamqq23ue","html_url":"https://github.com/iamqq23ue","followers_url":"https://api.github.com/users/iamqq23ue/followers","following_url":"https://api.github.com/users/iamqq23ue/following{/other_user}","gists_url":"https://api.github.com/users/iamqq23ue/gists{/gist_id}","starred_url":"https://api.github.com/users/iamqq23ue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamqq23ue/subscriptions","organizations_url":"https://api.github.com/users/iamqq23ue/orgs","repos_url":"https://api.github.com/users/iamqq23ue/repos","events_url":"https://api.github.com/users/iamqq23ue/events{/privacy}","received_events_url":"https://api.github.com/users/iamqq23ue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T13:43:08Z","updated_at":"2021-11-22T13:43:08Z","author_association":"CONTRIBUTOR","body":"I don't agree with the current commit.\r\n \r\n1: In SYNC_FLUSH mode it use MappedByteBuffer.force() method. The javadoc of this method is ambiguous and there is no exception throws. Do you get the exception of this line?\r\n log.error(\"Error occurred when force data to disk.\", e);\r\n \r\nI guess there is no exception if IO operation fails (maybe just return with no guarantee, or hang).\r\n\r\n------------------------------------------------\r\n我测试过了，日志里面可以看到报错。\r\n\r\n------------------------------------------------\r\n \r\n2: Even if unrecoverable exceptions throws in public int flush(final int flushLeastPages) method (maybe cause by FileChannel.force), we should mark broker as read only mode(broker permission 4, will update name server and no more requests send to the broker), but not fails in each send operation.\r\n\r\n---------------------------------------------\r\n\r\n您说的解决方法很好。但是目前RocketMQ报错码的处理，都是通过反馈客户端，让客户端进行处理，没有看到哪个报错码会直接影响broker的。因此我修改代码，尽量和之前的代码理念保持一致。如果社区觉得可以直接通过exception处理将broker设置为只读，我没有任何意见。\r\n\r\n---------------------------------------------\r\n \r\n3:  if the send method returns a SendStatus it means somewhat success, so you should not add FLUSH_DISK_FAILED to SendStatus.\r\n \r\n—----------------------------\r\n\r\n有一类SendStatus会触发retry的，并不是我首创，我只是加了一个报错返回而已\r\n\r\n-----------------------------\r\nYou are receiving this because you authored the thread.\r\nReply to this email directly, view it on GitHub, or unsubscribe.\r\nTriage notifications on the go with GitHub Mobile for iOS or Android.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975536773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975634630","html_url":"https://github.com/apache/rocketmq/issues/3515#issuecomment-975634630","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3515","id":975634630,"node_id":"IC_kwDOBHrsl846JwDG","user":{"login":"Jamesmahaitao","id":17718184,"node_id":"MDQ6VXNlcjE3NzE4MTg0","avatar_url":"https://avatars.githubusercontent.com/u/17718184?v=4","gravatar_id":"","url":"https://api.github.com/users/Jamesmahaitao","html_url":"https://github.com/Jamesmahaitao","followers_url":"https://api.github.com/users/Jamesmahaitao/followers","following_url":"https://api.github.com/users/Jamesmahaitao/following{/other_user}","gists_url":"https://api.github.com/users/Jamesmahaitao/gists{/gist_id}","starred_url":"https://api.github.com/users/Jamesmahaitao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jamesmahaitao/subscriptions","organizations_url":"https://api.github.com/users/Jamesmahaitao/orgs","repos_url":"https://api.github.com/users/Jamesmahaitao/repos","events_url":"https://api.github.com/users/Jamesmahaitao/events{/privacy}","received_events_url":"https://api.github.com/users/Jamesmahaitao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T15:20:12Z","updated_at":"2021-11-22T15:20:12Z","author_association":"NONE","body":"> > 1. ./mqadmin updateTopic -c DefaultCluster -n 127.0.0.1:9876 -t TopicTest\r\n> \r\n> Check whether namesrv is connected normally through `telnet 127.0.0.1 9876`.\r\n\r\ntelnet 127.0.0.1 9876 is succeed,but when i start MQAdminStartup to run \"updateTopic -c DefaultCluster -n 127.0.0.1:9876 -t TopicTest\",it sometimes raise up an exception that:\r\n\r\nCaused by: org.apache.rocketmq.remoting.exception.RemotingSendRequestException: **send request to <127.0.0.1:9876> failed**\r\n\tat org.apache.rocketmq.remoting.netty.NettyRemotingAbstract.invokeSyncImpl(NettyRemotingAbstract.java:440)\r\n\tat org.apache.rocketmq.remoting.netty.NettyRemotingClient.invokeSync(NettyRemotingClient.java:377)\r\n\tat org.apache.rocketmq.client.impl.MQClientAPIImpl.getBrokerClusterInfo(MQClientAPIImpl.java:1335)\r\n\tat org.apache.rocketmq.tools.admin.DefaultMQAdminExtImpl.examineBrokerClusterInfo(DefaultMQAdminExtImpl.java:327)\r\n\tat org.apache.rocketmq.tools.admin.DefaultMQAdminExt.examineBrokerClusterInfo(DefaultMQAdminExt.java:258)\r\n\tat org.apache.rocketmq.tools.command.CommandUtil.fetchMasterAddrByClusterName(CommandUtil.java:83)\r\n\tat org.apache.rocketmq.tools.command.topic.UpdateTopicSubCommand.execute(UpdateTopicSubCommand.java:158)\r\n\r\nsometimes print the message:\"[error] Make sure the specified clusterName exists or the name server connected to is correct\" in console.\r\n\r\nvery confused.  i guess the connection have problem between broker and name server.\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975634630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975696391","html_url":"https://github.com/apache/rocketmq/pull/3382#issuecomment-975696391","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3382","id":975696391,"node_id":"IC_kwDOBHrsl846J_IH","user":{"login":"areyouok","id":3192556,"node_id":"MDQ6VXNlcjMxOTI1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/3192556?v=4","gravatar_id":"","url":"https://api.github.com/users/areyouok","html_url":"https://github.com/areyouok","followers_url":"https://api.github.com/users/areyouok/followers","following_url":"https://api.github.com/users/areyouok/following{/other_user}","gists_url":"https://api.github.com/users/areyouok/gists{/gist_id}","starred_url":"https://api.github.com/users/areyouok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areyouok/subscriptions","organizations_url":"https://api.github.com/users/areyouok/orgs","repos_url":"https://api.github.com/users/areyouok/repos","events_url":"https://api.github.com/users/areyouok/events{/privacy}","received_events_url":"https://api.github.com/users/areyouok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T16:26:08Z","updated_at":"2021-11-22T16:26:08Z","author_association":"CONTRIBUTOR","body":"1、具体的错误信息我能看一下吗？错误是工作中实际发生的，还是刻意模拟的呢？\r\n\r\n2、我没有理解错的话，按照目前的修改，发生错误以后就不可恢复了，如果要保证高可用，应该让这个broker变成只读。把这个错误码返回给客户端，客户端也处理不了。如果我是消息系统的使用者，我就会质问集群的维护者，为什么有这么多发送失败？\r\n\r\n3、你说的根据返回码决定是否重试，那是内部返回码，定义在ResponseCode中。SendStatus是对外的返回码，通常拿到这个返回码就是成功了（FLUSH_DISK_TIMEOUT、FLUSH_SLAVE_TIMEOUT、SLAVE_NOT_AVAILABLE也是成功，可以消费到的），其它的错误都是丢异常的。\r\n\r\n为什么说SendStatus的4个返回码都算是成功？我经常用RAID1举例子，假设我是存储管理员，用2块硬盘组成RAID 1的逻辑盘提供给用户读写，正常情况下数据是双写，但如果有块硬盘坏了，我作为存储管理员应该通过报警知道这件事情，并且尽快替换掉损坏的硬盘，而整个过程中我的用户是不需要知道这件事情的，他只要享受高可用的读写服务就好。\r\n\r\n在我们厂的实践中，只要能拿到SendStatus，这4个返回码程序都是按成功处理的（报警另算）。\r\n\r\n回到当前的这个问题来，如果错误已经不可恢复了，send方法应该抛出异常，而不是在SendStatus增加返回码（ResponseCode可以加）。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975696391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975823651","html_url":"https://github.com/apache/rocketmq/pull/3523#issuecomment-975823651","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3523","id":975823651,"node_id":"IC_kwDOBHrsl846KeMj","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-22T18:55:14Z","updated_at":"2021-11-22T18:55:14Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3523?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3523](https://codecov.io/gh/apache/rocketmq/pull/3523?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (78fbbbe) into [master](https://codecov.io/gh/apache/rocketmq/commit/df4e98855d461d85e9c4ed43add1b12a58bca7b6?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (df4e988) will **decrease** coverage by `0.10%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3523/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3523?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #3523      +/-   ##\n============================================\n- Coverage     48.28%   48.17%   -0.11%     \n+ Complexity     4611     4595      -16     \n============================================\n  Files           555      555              \n  Lines         36756    36756              \n  Branches       4841     4841              \n============================================\n- Hits          17746    17707      -39     \n- Misses        16779    16819      +40     \n+ Partials       2231     2230       -1     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3523?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../broker/subscription/SubscriptionGroupManager.java](https://codecov.io/gh/apache/rocketmq/pull/3523/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvc3Vic2NyaXB0aW9uL1N1YnNjcmlwdGlvbkdyb3VwTWFuYWdlci5qYXZh) | `54.11% <0.00%> (-16.48%)` | :arrow_down: |\n| [...apache/rocketmq/remoting/netty/ResponseFuture.java](https://codecov.io/gh/apache/rocketmq/pull/3523/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L1Jlc3BvbnNlRnV0dXJlLmphdmE=) | `85.00% <0.00%> (-5.00%)` | :arrow_down: |\n| [...ache/rocketmq/broker/topic/TopicConfigManager.java](https://codecov.io/gh/apache/rocketmq/pull/3523/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvdG9waWMvVG9waWNDb25maWdNYW5hZ2VyLmphdmE=) | `54.23% <0.00%> (-4.62%)` | :arrow_down: |\n| [...ache/rocketmq/common/stats/MomentStatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/3523/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvTW9tZW50U3RhdHNJdGVtU2V0LmphdmE=) | `39.13% <0.00%> (-4.35%)` | :arrow_down: |\n| [...ava/org/apache/rocketmq/filter/util/BitsArray.java](https://codecov.io/gh/apache/rocketmq/pull/3523/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZmlsdGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9maWx0ZXIvdXRpbC9CaXRzQXJyYXkuamF2YQ==) | `58.11% <0.00%> (-4.28%)` | :arrow_down: |\n| [...rocketmq/remoting/netty/NettyRemotingAbstract.java](https://codecov.io/gh/apache/rocketmq/pull/3523/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5UmVtb3RpbmdBYnN0cmFjdC5qYXZh) | `47.05% <0.00%> (-4.05%)` | :arrow_down: |\n| [...ava/org/apache/rocketmq/test/util/VerifyUtils.java](https://codecov.io/gh/apache/rocketmq/pull/3523/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL1ZlcmlmeVV0aWxzLmphdmE=) | `46.26% <0.00%> (-2.99%)` | :arrow_down: |\n| [...ache/rocketmq/store/AllocateMappedFileService.java](https://codecov.io/gh/apache/rocketmq/pull/3523/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0FsbG9jYXRlTWFwcGVkRmlsZVNlcnZpY2UuamF2YQ==) | `39.02% <0.00%> (-2.44%)` | :arrow_down: |\n| [...a/org/apache/rocketmq/filter/util/BloomFilter.java](https://codecov.io/gh/apache/rocketmq/pull/3523/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZmlsdGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9maWx0ZXIvdXRpbC9CbG9vbUZpbHRlci5qYXZh) | `59.13% <0.00%> (-2.16%)` | :arrow_down: |\n| [...mq/client/impl/consumer/RebalanceLitePullImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3523/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9SZWJhbGFuY2VMaXRlUHVsbEltcGwuamF2YQ==) | `48.52% <0.00%> (-1.48%)` | :arrow_down: |\n| ... and [14 more](https://codecov.io/gh/apache/rocketmq/pull/3523/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3523?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3523?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [df4e988...78fbbbe](https://codecov.io/gh/apache/rocketmq/pull/3523?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/975823651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976043907","html_url":"https://github.com/apache/rocketmq/issues/3518#issuecomment-976043907","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3518","id":976043907,"node_id":"IC_kwDOBHrsl846LT-D","user":{"login":"vongosling","id":635581,"node_id":"MDQ6VXNlcjYzNTU4MQ==","avatar_url":"https://avatars.githubusercontent.com/u/635581?v=4","gravatar_id":"","url":"https://api.github.com/users/vongosling","html_url":"https://github.com/vongosling","followers_url":"https://api.github.com/users/vongosling/followers","following_url":"https://api.github.com/users/vongosling/following{/other_user}","gists_url":"https://api.github.com/users/vongosling/gists{/gist_id}","starred_url":"https://api.github.com/users/vongosling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vongosling/subscriptions","organizations_url":"https://api.github.com/users/vongosling/orgs","repos_url":"https://api.github.com/users/vongosling/repos","events_url":"https://api.github.com/users/vongosling/events{/privacy}","received_events_url":"https://api.github.com/users/vongosling/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T00:42:05Z","updated_at":"2021-11-23T00:42:05Z","author_association":"MEMBER","body":"rocketmq-console-ng has updated to top sub-projects in Apache RocketMQ, you could pr an improvement in https://github.com/apache/rocketmq-dashboard/issues.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976043907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976066754","html_url":"https://github.com/apache/rocketmq/issues/3511#issuecomment-976066754","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3511","id":976066754,"node_id":"IC_kwDOBHrsl846LZjC","user":{"login":"vongosling","id":635581,"node_id":"MDQ6VXNlcjYzNTU4MQ==","avatar_url":"https://avatars.githubusercontent.com/u/635581?v=4","gravatar_id":"","url":"https://api.github.com/users/vongosling","html_url":"https://github.com/vongosling","followers_url":"https://api.github.com/users/vongosling/followers","following_url":"https://api.github.com/users/vongosling/following{/other_user}","gists_url":"https://api.github.com/users/vongosling/gists{/gist_id}","starred_url":"https://api.github.com/users/vongosling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vongosling/subscriptions","organizations_url":"https://api.github.com/users/vongosling/orgs","repos_url":"https://api.github.com/users/vongosling/repos","events_url":"https://api.github.com/users/vongosling/events{/privacy}","received_events_url":"https://api.github.com/users/vongosling/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T01:00:16Z","updated_at":"2021-11-23T01:00:16Z","author_association":"MEMBER","body":"What operations are you running when you see this - I see SendMessageThread in your dump - is that something others can run to reproduce?\r\n\r\nI would like to give your self-diagnosis sister tools for your question, https://ycrash.io/\r\n\r\nBTW, would you like to update your JDK to an LTS version, just refer https://www.oracle.com/java/technologies/java-se-support-roadmap.html\r\n\r\nIf you still have any other questions after doing as we have suggested, pls let us know.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976066754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976076921","html_url":"https://github.com/apache/rocketmq/issues/3520#issuecomment-976076921","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3520","id":976076921,"node_id":"IC_kwDOBHrsl846LcB5","user":{"login":"vongosling","id":635581,"node_id":"MDQ6VXNlcjYzNTU4MQ==","avatar_url":"https://avatars.githubusercontent.com/u/635581?v=4","gravatar_id":"","url":"https://api.github.com/users/vongosling","html_url":"https://github.com/vongosling","followers_url":"https://api.github.com/users/vongosling/followers","following_url":"https://api.github.com/users/vongosling/following{/other_user}","gists_url":"https://api.github.com/users/vongosling/gists{/gist_id}","starred_url":"https://api.github.com/users/vongosling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vongosling/subscriptions","organizations_url":"https://api.github.com/users/vongosling/orgs","repos_url":"https://api.github.com/users/vongosling/repos","events_url":"https://api.github.com/users/vongosling/events{/privacy}","received_events_url":"https://api.github.com/users/vongosling/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T01:05:59Z","updated_at":"2021-11-23T01:05:59Z","author_association":"MEMBER","body":"What operations are you running when you see this, is the real case like StackOverflow said? ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976076921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976082639","html_url":"https://github.com/apache/rocketmq/issues/3482#issuecomment-976082639","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3482","id":976082639,"node_id":"IC_kwDOBHrsl846LdbP","user":{"login":"vongosling","id":635581,"node_id":"MDQ6VXNlcjYzNTU4MQ==","avatar_url":"https://avatars.githubusercontent.com/u/635581?v=4","gravatar_id":"","url":"https://api.github.com/users/vongosling","html_url":"https://github.com/vongosling","followers_url":"https://api.github.com/users/vongosling/followers","following_url":"https://api.github.com/users/vongosling/following{/other_user}","gists_url":"https://api.github.com/users/vongosling/gists{/gist_id}","starred_url":"https://api.github.com/users/vongosling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vongosling/subscriptions","organizations_url":"https://api.github.com/users/vongosling/orgs","repos_url":"https://api.github.com/users/vongosling/repos","events_url":"https://api.github.com/users/vongosling/events{/privacy}","received_events_url":"https://api.github.com/users/vongosling/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T01:11:20Z","updated_at":"2021-11-23T01:11:20Z","author_association":"MEMBER","body":"DLedger mode has been verified to be successfully changed within 10 seconds, with our distributed system tools OpenChaos. https://github.com/openmessaging/openchaos\r\n\r\nThis is recommended mode after Apache RocketMQ 4.5.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976082639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976090997","html_url":"https://github.com/apache/rocketmq/issues/3511#issuecomment-976090997","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3511","id":976090997,"node_id":"IC_kwDOBHrsl846Lfd1","user":{"login":"sdmjhca","id":26153843,"node_id":"MDQ6VXNlcjI2MTUzODQz","avatar_url":"https://avatars.githubusercontent.com/u/26153843?v=4","gravatar_id":"","url":"https://api.github.com/users/sdmjhca","html_url":"https://github.com/sdmjhca","followers_url":"https://api.github.com/users/sdmjhca/followers","following_url":"https://api.github.com/users/sdmjhca/following{/other_user}","gists_url":"https://api.github.com/users/sdmjhca/gists{/gist_id}","starred_url":"https://api.github.com/users/sdmjhca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sdmjhca/subscriptions","organizations_url":"https://api.github.com/users/sdmjhca/orgs","repos_url":"https://api.github.com/users/sdmjhca/repos","events_url":"https://api.github.com/users/sdmjhca/events{/privacy}","received_events_url":"https://api.github.com/users/sdmjhca/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T01:33:24Z","updated_at":"2021-11-23T01:33:24Z","author_association":"NONE","body":"> What operations are you running when you see this - I see SendMessageThread in your dump - is that something others can run to reproduce?\r\n> \r\n> I would like to give your self-diagnosis sister tools for your question, https://ycrash.io/\r\n> \r\n> BTW, would you like to update your JDK to an LTS version, just refer https://www.oracle.com/java/technologies/java-se-support-roadmap.html\r\n> \r\n> If you still have any other questions after doing as we have suggested, pls let us know.\r\n\r\nJust running nameServer and broker, SendMessageThread  or PullMessageThread  in the dump.\r\nAll on the whole point and JVM,read write bytes ,cpu and network everything is normal while the broker process lost.I didn't find any exception but the jvm err_pid.log\r\nThank u,I will try and find out.I used 1.8 before ,someone tell me to try jdk10 or higher version but same question.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976090997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976096874","html_url":"https://github.com/apache/rocketmq/pull/3382#issuecomment-976096874","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3382","id":976096874,"node_id":"IC_kwDOBHrsl846Lg5q","user":{"login":"iamqq23ue","id":70457992,"node_id":"MDQ6VXNlcjcwNDU3OTky","avatar_url":"https://avatars.githubusercontent.com/u/70457992?v=4","gravatar_id":"","url":"https://api.github.com/users/iamqq23ue","html_url":"https://github.com/iamqq23ue","followers_url":"https://api.github.com/users/iamqq23ue/followers","following_url":"https://api.github.com/users/iamqq23ue/following{/other_user}","gists_url":"https://api.github.com/users/iamqq23ue/gists{/gist_id}","starred_url":"https://api.github.com/users/iamqq23ue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamqq23ue/subscriptions","organizations_url":"https://api.github.com/users/iamqq23ue/orgs","repos_url":"https://api.github.com/users/iamqq23ue/repos","events_url":"https://api.github.com/users/iamqq23ue/events{/privacy}","received_events_url":"https://api.github.com/users/iamqq23ue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T01:51:53Z","updated_at":"2021-11-23T01:51:53Z","author_association":"CONTRIBUTOR","body":"1、具体的错误信息我能看一下吗？错误是工作中实际发生的，还是刻意模拟的呢？\r\n\r\n答：报错信息就是Error occurred when force data to disk这一段，内网的文件导出有点麻烦，您可以模拟一下不难。这是模拟的异常场景。实际中我们会遇到存储不可用的情况，比如raid卡故障、存储故障等。信息和报错是一致的。\r\n \r\n2、我没有理解错的话，按照目前的修改，发生错误以后就不可恢复了，如果要保证高可用，应该让这个broker变成只读。把这个错误码返回给客户端，客户端也处理不了。如果我是消息系统的使用者，我就会质问集群的维护者，为什么有这么多发送失败？\r\n\r\n答：实际上多主多从模式，设置了retry以后，客户端会自动重发，不会收到错误码。让broker变只读我没意见，我觉得非常好。就是感觉和以前的代码风格不一致了，因为我没看到目前有哪个错误会直接影响broker的。改动大了可能又会有别的同学不同意，我就没敢大改。\r\n \r\n3、你说的根据返回码决定是否重试，那是内部返回码，定义在ResponseCode中。SendStatus是对外的返回码，通常拿到这个返回码就是成功了（FLUSH_DISK_TIMEOUT、FLUSH_SLAVE_TIMEOUT、SLAVE_NOT_AVAILABLE也是成功，可以消费到的），其它的错误都是丢异常的。\r\n \r\n为什么说SendStatus的4个返回码都算是成功？我经常用RAID1举例子，假设我是存储管理员，用2块硬盘组成RAID 1的逻辑盘提供给用户读写，正常情况下数据是双写，但如果有块硬盘坏了，我作为存储管理员应该通过报警知道这件事情，并且尽快替换掉损坏的硬盘，而整个过程中我的用户是不需要知道这件事情的，他只要享受高可用的读写服务就好。\r\n \r\n在我们厂的实践中，只要能拿到SendStatus，这4个返回码程序都是按成功处理的（报警另算）。\r\n \r\n回到当前的这个问题来，如果错误已经不可恢复了，send方法应该抛出异常，而不是在SendStatus增加返回码（ResponseCode可以加）。\r\n\r\n答：如果使用磁盘，除了磁盘故障之外，还有RAID卡故障，RAID卡是个单点，不会有机会从容的更换。而且实际上就算集中存储也会有小概率故障。\r\n\r\n我在ResponseCode也加了报错码，一般来说客户端是收不到SendStatus的。另外我觉得FLUSH_DISK_FAILED和FLUSH_DISK_TIMEOUT其实很类似，都是内存写入而刷盘异常。\r\n\r\n\r\n\r\n \r\n\r\n\r\n\r\n\r\nYou are receiving this because you authored the thread.\r\nReply to this email directly, view it on GitHub, or unsubscribe.\r\nTriage notifications on the go with GitHub Mobile for iOS or Android.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976096874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976101945","html_url":"https://github.com/apache/rocketmq/pull/3382#issuecomment-976101945","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3382","id":976101945,"node_id":"IC_kwDOBHrsl846LiI5","user":{"login":"areyouok","id":3192556,"node_id":"MDQ6VXNlcjMxOTI1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/3192556?v=4","gravatar_id":"","url":"https://api.github.com/users/areyouok","html_url":"https://github.com/areyouok","followers_url":"https://api.github.com/users/areyouok/followers","following_url":"https://api.github.com/users/areyouok/following{/other_user}","gists_url":"https://api.github.com/users/areyouok/gists{/gist_id}","starred_url":"https://api.github.com/users/areyouok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areyouok/subscriptions","organizations_url":"https://api.github.com/users/areyouok/orgs","repos_url":"https://api.github.com/users/areyouok/repos","events_url":"https://api.github.com/users/areyouok/events{/privacy}","received_events_url":"https://api.github.com/users/areyouok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T02:08:26Z","updated_at":"2021-11-23T02:08:26Z","author_association":"CONTRIBUTOR","body":"2、你的意思是把broker设置为只读，影响太大了。但我的意思是，按目前的修改，发生IO故障以后，接下来每次发送都会返回失败。这比把Broker设置为只读更糟糕的结果，影响更大。我提出的把Broker设置只读，client接下来会把请求发到其它健康的broker去，对用户几乎没有影响，是一个影响更小的方案。\r\n\r\n3、目前rocketmq的send方法是：\r\n```java\r\npublic SendResult send(Message msg) throws MQClientException, RemotingException, MQBrokerException, InterruptedException\r\n```\r\n如果没有丢出异常返回了SendResult（里面包含SendStatus），4个返回码都是成功，其它错误都是丢异常的，刷盘异常是非常严重的错误，它很可能已经不可恢复了，应该丢出MQBrokerException。\r\n\r\n另外，MappedByteBuffer.force()对于远程存储是没有保证的：\r\n\r\n```\r\nIf the file does not reside on a local device then no such guaranteeis made.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976101945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976107004","html_url":"https://github.com/apache/rocketmq/pull/3382#issuecomment-976107004","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3382","id":976107004,"node_id":"IC_kwDOBHrsl846LjX8","user":{"login":"iamqq23ue","id":70457992,"node_id":"MDQ6VXNlcjcwNDU3OTky","avatar_url":"https://avatars.githubusercontent.com/u/70457992?v=4","gravatar_id":"","url":"https://api.github.com/users/iamqq23ue","html_url":"https://github.com/iamqq23ue","followers_url":"https://api.github.com/users/iamqq23ue/followers","following_url":"https://api.github.com/users/iamqq23ue/following{/other_user}","gists_url":"https://api.github.com/users/iamqq23ue/gists{/gist_id}","starred_url":"https://api.github.com/users/iamqq23ue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamqq23ue/subscriptions","organizations_url":"https://api.github.com/users/iamqq23ue/orgs","repos_url":"https://api.github.com/users/iamqq23ue/repos","events_url":"https://api.github.com/users/iamqq23ue/events{/privacy}","received_events_url":"https://api.github.com/users/iamqq23ue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T02:24:22Z","updated_at":"2021-11-23T02:24:22Z","author_association":"CONTRIBUTOR","body":"2、你的意思是把broker设置为只读，影响太大了。但我的意思是，按目前的修改，发生IO故障以后，接下来每次发送都会返回失败。这比把Broker设置为只读更糟糕的结果，影响更大。我提出的把Broker设置只读，client接下来会把请求发到其它健康的broker去，对用户几乎没有影响，是一个影响更小的方案。\r\n\r\n\r\n我的意思是代码改动大了不一定符合社区的整体设计，我说了也不算。所以我只能加一些简单的改动，大的改动需要社区的主要开发者去做了。\r\n\r\n \r\n3、目前rocketmq的send方法是：\r\n public SendResult send(Message msg) throws MQClientException, RemotingException, MQBrokerException, InterruptedException\r\n \r\n如果没有丢出异常返回了SendResult（里面包含SendStatus），4个返回码都是成功，其它错误都是丢异常的，刷盘异常是非常严重的错误，它很可能已经不可恢复了，应该丢出MQBrokerException。\r\n \r\n另外，MappedByteBuffer.force()对于远程存储是没有保证的：\r\n If the file does not reside on a local device then no such guaranteeis made. \r\n您说的MappedByteBuffer.force()对于远程存储是没有保证的我不太了解。我测试环境是用的虚拟机，使用的就是存储，可以测试出问题，代码修改后可以解决。但是如果“MappedByteBuffer.force()对于远程存储是没有保证的”，那么岂不是不能使用存储了？虚拟机容器化都不能做，只能用物理机和硬盘吗，感觉和想象中不一样\r\n \r\n—\r\nYou are receiving this because you authored the thread.\r\nReply to this email directly, view it on GitHub, or unsubscribe.\r\nTriage notifications on the go with GitHub Mobile for iOS or Android.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976107004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976115016","html_url":"https://github.com/apache/rocketmq/issues/1355#issuecomment-976115016","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1355","id":976115016,"node_id":"IC_kwDOBHrsl846LlVI","user":{"login":"biuabiu","id":38499411,"node_id":"MDQ6VXNlcjM4NDk5NDEx","avatar_url":"https://avatars.githubusercontent.com/u/38499411?v=4","gravatar_id":"","url":"https://api.github.com/users/biuabiu","html_url":"https://github.com/biuabiu","followers_url":"https://api.github.com/users/biuabiu/followers","following_url":"https://api.github.com/users/biuabiu/following{/other_user}","gists_url":"https://api.github.com/users/biuabiu/gists{/gist_id}","starred_url":"https://api.github.com/users/biuabiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/biuabiu/subscriptions","organizations_url":"https://api.github.com/users/biuabiu/orgs","repos_url":"https://api.github.com/users/biuabiu/repos","events_url":"https://api.github.com/users/biuabiu/events{/privacy}","received_events_url":"https://api.github.com/users/biuabiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T02:50:36Z","updated_at":"2021-11-23T02:50:36Z","author_association":"NONE","body":"@ahuazhu  hi , I also expect consumer thread names to support extensions","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976115016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976124082","html_url":"https://github.com/apache/rocketmq/pull/3382#issuecomment-976124082","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3382","id":976124082,"node_id":"IC_kwDOBHrsl846Lniy","user":{"login":"areyouok","id":3192556,"node_id":"MDQ6VXNlcjMxOTI1NTY=","avatar_url":"https://avatars.githubusercontent.com/u/3192556?v=4","gravatar_id":"","url":"https://api.github.com/users/areyouok","html_url":"https://github.com/areyouok","followers_url":"https://api.github.com/users/areyouok/followers","following_url":"https://api.github.com/users/areyouok/following{/other_user}","gists_url":"https://api.github.com/users/areyouok/gists{/gist_id}","starred_url":"https://api.github.com/users/areyouok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areyouok/subscriptions","organizations_url":"https://api.github.com/users/areyouok/orgs","repos_url":"https://api.github.com/users/areyouok/repos","events_url":"https://api.github.com/users/areyouok/events{/privacy}","received_events_url":"https://api.github.com/users/areyouok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T03:11:00Z","updated_at":"2021-11-23T03:11:00Z","author_association":"CONTRIBUTOR","body":"```\r\n If the file does not reside on a local device then no such guaranteeis made.\r\n```\r\n\r\n这句话是MappedByteBuffer.force()的javadoc里面说的，可以看一下。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976124082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976127729","html_url":"https://github.com/apache/rocketmq/pull/3382#issuecomment-976127729","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3382","id":976127729,"node_id":"IC_kwDOBHrsl846Lobx","user":{"login":"iamqq23ue","id":70457992,"node_id":"MDQ6VXNlcjcwNDU3OTky","avatar_url":"https://avatars.githubusercontent.com/u/70457992?v=4","gravatar_id":"","url":"https://api.github.com/users/iamqq23ue","html_url":"https://github.com/iamqq23ue","followers_url":"https://api.github.com/users/iamqq23ue/followers","following_url":"https://api.github.com/users/iamqq23ue/following{/other_user}","gists_url":"https://api.github.com/users/iamqq23ue/gists{/gist_id}","starred_url":"https://api.github.com/users/iamqq23ue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamqq23ue/subscriptions","organizations_url":"https://api.github.com/users/iamqq23ue/orgs","repos_url":"https://api.github.com/users/iamqq23ue/repos","events_url":"https://api.github.com/users/iamqq23ue/events{/privacy}","received_events_url":"https://api.github.com/users/iamqq23ue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T03:21:19Z","updated_at":"2021-11-23T03:21:19Z","author_association":"CONTRIBUTOR","body":"我搜了一下看到了，但是什么意思不好说。我理解是也可能是调用存储之后，落盘就是由存储去保证的。\r\n假如RocketMQ只有使用本地硬盘才能同步刷盘，那产品在架构上就有重大的局限性了。\r\n\r\n\r\n\r\n\r\n------------------&nbsp;原始邮件&nbsp;------------------\r\n发件人:                                                                                                                        \"apache/rocketmq\"                                                                                    ***@***.***&gt;;\r\n发送时间:&nbsp;2021年11月23日(星期二) 中午11:11\r\n***@***.***&gt;;\r\n***@***.******@***.***&gt;;\r\n主题:&nbsp;Re: [apache/rocketmq] FIX  ISSUE#2706  the problem of returning SEND_OK after flush failed,The original pull request was #2707. (#3382)\r\n\r\n\r\n\r\n\r\n\r\n  If the file does not reside on a local device then no such guaranteeis made.  \r\n这句话是MappedByteBuffer.force()的javadoc里面说的，可以看一下。\r\n \r\n—\r\nYou are receiving this because you authored the thread.\r\nReply to this email directly, view it on GitHub, or unsubscribe.\r\nTriage notifications on the go with GitHub Mobile for iOS or Android.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976127729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976229079","html_url":"https://github.com/apache/rocketmq/issues/1869#issuecomment-976229079","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/1869","id":976229079,"node_id":"IC_kwDOBHrsl846MBLX","user":{"login":"chiweng2009","id":6847398,"node_id":"MDQ6VXNlcjY4NDczOTg=","avatar_url":"https://avatars.githubusercontent.com/u/6847398?v=4","gravatar_id":"","url":"https://api.github.com/users/chiweng2009","html_url":"https://github.com/chiweng2009","followers_url":"https://api.github.com/users/chiweng2009/followers","following_url":"https://api.github.com/users/chiweng2009/following{/other_user}","gists_url":"https://api.github.com/users/chiweng2009/gists{/gist_id}","starred_url":"https://api.github.com/users/chiweng2009/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chiweng2009/subscriptions","organizations_url":"https://api.github.com/users/chiweng2009/orgs","repos_url":"https://api.github.com/users/chiweng2009/repos","events_url":"https://api.github.com/users/chiweng2009/events{/privacy}","received_events_url":"https://api.github.com/users/chiweng2009/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T07:44:56Z","updated_at":"2021-11-23T07:44:56Z","author_association":"NONE","body":"it happened after i changed the delayTimeLevel in project\r\ni changed back, it worked correctly","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976229079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976249417","html_url":"https://github.com/apache/rocketmq/issues/2179#issuecomment-976249417","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2179","id":976249417,"node_id":"IC_kwDOBHrsl846MGJJ","user":{"login":"zhouwentong1993","id":12377641,"node_id":"MDQ6VXNlcjEyMzc3NjQx","avatar_url":"https://avatars.githubusercontent.com/u/12377641?v=4","gravatar_id":"","url":"https://api.github.com/users/zhouwentong1993","html_url":"https://github.com/zhouwentong1993","followers_url":"https://api.github.com/users/zhouwentong1993/followers","following_url":"https://api.github.com/users/zhouwentong1993/following{/other_user}","gists_url":"https://api.github.com/users/zhouwentong1993/gists{/gist_id}","starred_url":"https://api.github.com/users/zhouwentong1993/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhouwentong1993/subscriptions","organizations_url":"https://api.github.com/users/zhouwentong1993/orgs","repos_url":"https://api.github.com/users/zhouwentong1993/repos","events_url":"https://api.github.com/users/zhouwentong1993/events{/privacy}","received_events_url":"https://api.github.com/users/zhouwentong1993/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T08:21:31Z","updated_at":"2021-11-23T08:21:31Z","author_association":"CONTRIBUTOR","body":"我跟你的问题一致，但我手动创建文件夹后仍未生成具体的文件。但在另外的 Mac 上没有这个问题，很奇怪。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976249417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976261147","html_url":"https://github.com/apache/rocketmq/issues/3511#issuecomment-976261147","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3511","id":976261147,"node_id":"IC_kwDOBHrsl846MJAb","user":{"login":"sdmjhca","id":26153843,"node_id":"MDQ6VXNlcjI2MTUzODQz","avatar_url":"https://avatars.githubusercontent.com/u/26153843?v=4","gravatar_id":"","url":"https://api.github.com/users/sdmjhca","html_url":"https://github.com/sdmjhca","followers_url":"https://api.github.com/users/sdmjhca/followers","following_url":"https://api.github.com/users/sdmjhca/following{/other_user}","gists_url":"https://api.github.com/users/sdmjhca/gists{/gist_id}","starred_url":"https://api.github.com/users/sdmjhca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sdmjhca/subscriptions","organizations_url":"https://api.github.com/users/sdmjhca/orgs","repos_url":"https://api.github.com/users/sdmjhca/repos","events_url":"https://api.github.com/users/sdmjhca/events{/privacy}","received_events_url":"https://api.github.com/users/sdmjhca/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T08:29:36Z","updated_at":"2021-11-23T08:29:36Z","author_association":"NONE","body":"something maybe useful \r\njvm异常信息：\r\nEvent: 3385.904 Thread 0x00007fe63c001200 Exception <a 'java/lang/ArrayIndexOutOfBoundsException'{0x00000007458e3f98}: 212> (0x00000007458e3f98) thrown at [/scratch/opt/mach5/mesos/work_dir/slaves/c4ee7e63-1ded-4e8c-9581-ce26f27e3af4-S497/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/execu\r\nEvent: 3385.904 Thread 0x00007fe63c001200 Exception <a 'java/lang/ArrayIndexOutOfBoundsException'{0x00000007458e7318}: 236> (0x00000007458e7318) thrown at [/scratch/opt/mach5/mesos/work_dir/slaves/c4ee7e63-1ded-4e8c-9581-ce26f27e3af4-S497/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/execu\r\nEvent: 3385.910 Thread 0x00007fe63c0079b0 Exception <a 'java/lang/ArrayIndexOutOfBoundsException'{0x00000007456f5fd0}: 226> (0x00000007456f5fd0) thrown at [/scratch/opt/mach5/mesos/work_dir/slaves/c4ee7e63-1ded-4e8c-9581-ce26f27e3af4-S497/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/execu\r\nEvent: 3385.910 Thread 0x00007fe63c0079b0 Exception <a 'java/lang/ArrayIndexOutOfBoundsException'{0x00000007456f93a0}: 227> (0x00000007456f93a0) thrown at [/scratch/opt/mach5/mesos/work_dir/slaves/c4ee7e63-1ded-4e8c-9581-ce26f27e3af4-S497/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/execu\r\nEvent: 3385.910 Thread 0x00007fe63c0079b0 Exception <a 'java/lang/ArrayIndexOutOfBoundsException'{0x00000007456fc720}: 212> (0x00000007456fc720) thrown at [/scratch/opt/mach5/mesos/work_dir/slaves/c4ee7e63-1ded-4e8c-9581-ce26f27e3af4-S497/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/execu\r\nEvent: 3385.910 Thread 0x00007fe63c0079b0 Exception <a 'java/lang/ArrayIndexOutOfBoundsException'{0x0000000745987f28}: 236> (0x0000000745987f28) thrown at [/scratch/opt/mach5/mesos/work_dir/slaves/c4ee7e63-1ded-4e8c-9581-ce26f27e3af4-S497/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/execu\r\nEvent: 3385.915 Thread 0x00007fe80c0023f0 Exception <a 'java/lang/ArrayIndexOutOfBoundsException'{0x000000074571b140}: 226> (0x000000074571b140) thrown at [/scratch/opt/mach5/mesos/work_dir/slaves/c4ee7e63-1ded-4e8c-9581-ce26f27e3af4-S497/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/execu\r\nEvent: 3385.915 Thread 0x00007fe80c0023f0 Exception <a 'java/lang/ArrayIndexOutOfBoundsException'{0x000000074571e510}: 227> (0x000000074571e510) thrown at [/scratch/opt/mach5/mesos/work_dir/slaves/c4ee7e63-1ded-4e8c-9581-ce26f27e3af4-S497/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/execu\r\nEvent: 3385.915 Thread 0x00007fe80c0023f0 Exception <a 'java/lang/ArrayIndexOutOfBoundsException'{0x00000007459ace10}: 212> (0x00000007459ace10) thrown at [/scratch/opt/mach5/mesos/work_dir/slaves/c4ee7e63-1ded-4e8c-9581-ce26f27e3af4-S497/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/execu\r\nEvent: 3385.915 Thread 0x00007fe80c0023f0 Exception <a 'java/lang/ArrayIndexOutOfBoundsException'{0x00000007459b0190}: 236> (0x00000007459b0190) thrown at [/scratch/opt/mach5/mesos/work_dir/slaves/c4ee7e63-1ded-4e8c-9581-ce26f27e3af4-S497/frameworks/1735e8a2-a1db-478c-8104-60c8b0af87dd-0196/execu\r\n\r\n-------------------------------------------------------\r\n编译事件：\r\nEvent: 3396.671 Thread 0x00007fe86859bc10 5769       4       sun.nio.ch.SocketDispatcher::write (8 bytes)\r\nEvent: 3396.671 Thread 0x00007fe86859bc10 nmethod 5769 0x00007fe855a02190 code [0x00007fe855a02320, 0x00007fe855a023a8]\r\nEvent: 3399.485 Thread 0x00007fe86859a270 5770   !   4       sun.nio.ch.IOUtil::write (174 bytes)\r\nEvent: 3399.529 Thread 0x00007fe86859a270 nmethod 5770 0x00007fe855be3e90 code [0x00007fe855be41a0, 0x00007fe855be6298]\r\nEvent: 3400.270 Thread 0x00007fe868598880 5771   !   4       sun.nio.ch.SocketChannelImpl::write (385 bytes)\r\nEvent: 3400.284 Thread 0x00007fe868598880 nmethod 5771 0x00007fe855be7e10 code [0x00007fe855be8040, 0x00007fe855be9740]\r\nEvent: 3400.751 Thread 0x00007fe86859d5b0 5772       3       org.apache.rocketmq.broker.filtersrv.FilterServerManager::doChannelCloseEvent (34 bytes)\r\nEvent: 3400.751 Thread 0x00007fe86859d5b0 nmethod 5772 0x00007fe84e21f290 code [0x00007fe84e21f4a0, 0x00007fe84e21f948]\r\nEvent: 3412.790 Thread 0x00007fe86859d5b0 5773       3       org.apache.rocketmq.store.ha.HAConnection$WriteSocketService::transferData (258 bytes)\r\nEvent: 3412.791 Thread 0x00007fe86859d5b0 nmethod 5773 0x00007fe84e5cb710 code [0x00007fe84e5cba20, 0x00007fe84e5cce28]\r\n\r\n-------------------------------------------------------\r\n事件信息：\r\nEvent: 3387.742 Thread 0x00007fe86859eee0 flushing nmethod 0x00007fe84ebc4c10\r\nEvent: 3395.646 Thread 0x00007fe644035690 Uncommon trap: trap_request=0xffffff55 fr.pc=0x00007fe855945130 relative=0x0000000000000cf0\r\nEvent: 3395.646 Thread 0x00007fe644035690 DEOPT PACKING pc=0x00007fe855945130 sp=0x00007fe6293f0760\r\nEvent: 3395.646 Thread 0x00007fe644035690 DEOPT UNPACKING pc=0x00007fe84dc42125 sp=0x00007fe6293f0660 mode 2\r\nEvent: 3395.646 Thread 0x00007fe644035690 Uncommon trap: trap_request=0xffffff55 fr.pc=0x00007fe855993e78 relative=0x0000000000001238\r\nEvent: 3395.646 Thread 0x00007fe644035690 DEOPT PACKING pc=0x00007fe855993e78 sp=0x00007fe6293f07f0\r\nEvent: 3395.646 Thread 0x00007fe644035690 DEOPT UNPACKING pc=0x00007fe84dc42125 sp=0x00007fe6293f0788 mode 2\r\nEvent: 3395.646 Thread 0x00007fe644035690 Uncommon trap: trap_request=0xffffff55 fr.pc=0x00007fe85583e45c relative=0x00000000000004dc\r\nEvent: 3395.646 Thread 0x00007fe644035690 DEOPT PACKING pc=0x00007fe85583e45c sp=0x00007fe6293f0880\r\nEvent: 3395.646 Thread 0x00007fe644035690 DEOPT UNPACKING pc=0x00007fe84dc42125 sp=0x00007fe6293f0838 mode 2\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976261147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976269721","html_url":"https://github.com/apache/rocketmq/issues/2179#issuecomment-976269721","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2179","id":976269721,"node_id":"IC_kwDOBHrsl846MLGZ","user":{"login":"Git-Yang","id":30995057,"node_id":"MDQ6VXNlcjMwOTk1MDU3","avatar_url":"https://avatars.githubusercontent.com/u/30995057?v=4","gravatar_id":"","url":"https://api.github.com/users/Git-Yang","html_url":"https://github.com/Git-Yang","followers_url":"https://api.github.com/users/Git-Yang/followers","following_url":"https://api.github.com/users/Git-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Git-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Git-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Git-Yang/subscriptions","organizations_url":"https://api.github.com/users/Git-Yang/orgs","repos_url":"https://api.github.com/users/Git-Yang/repos","events_url":"https://api.github.com/users/Git-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Git-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T08:33:38Z","updated_at":"2021-11-23T08:33:38Z","author_association":"MEMBER","body":"> 我跟你的问题一致，但我手动创建文件夹后仍未生成具体的文件。但在另外的 Mac 上没有这个问题，很奇怪。\r\n\r\n请问使用的版本是多少？服务启动打印日志提示文件路径不存在这个问题已经在PR #3278 中已经修复了。\r\n另外，你说的没有生成具体的文件是指commitlog数据文件吧，这个有数据写入会自动创建。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976269721/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976304215","html_url":"https://github.com/apache/rocketmq/issues/2179#issuecomment-976304215","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2179","id":976304215,"node_id":"IC_kwDOBHrsl846MThX","user":{"login":"zhouwentong1993","id":12377641,"node_id":"MDQ6VXNlcjEyMzc3NjQx","avatar_url":"https://avatars.githubusercontent.com/u/12377641?v=4","gravatar_id":"","url":"https://api.github.com/users/zhouwentong1993","html_url":"https://github.com/zhouwentong1993","followers_url":"https://api.github.com/users/zhouwentong1993/followers","following_url":"https://api.github.com/users/zhouwentong1993/following{/other_user}","gists_url":"https://api.github.com/users/zhouwentong1993/gists{/gist_id}","starred_url":"https://api.github.com/users/zhouwentong1993/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhouwentong1993/subscriptions","organizations_url":"https://api.github.com/users/zhouwentong1993/orgs","repos_url":"https://api.github.com/users/zhouwentong1993/repos","events_url":"https://api.github.com/users/zhouwentong1993/events{/privacy}","received_events_url":"https://api.github.com/users/zhouwentong1993/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T09:07:53Z","updated_at":"2021-11-23T09:07:53Z","author_association":"CONTRIBUTOR","body":"> \r\n\r\n多谢解答。\r\n4.9.2 版本。我本地的代码比这个 PR 要早，所以这个问题在我这还存在。\r\n我刚 debug 了一下，发现是网络问题导致 producer 无法访问到 broker，导致没有生成文件。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976304215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976502467","html_url":"https://github.com/apache/rocketmq/pull/3530#issuecomment-976502467","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3530","id":976502467,"node_id":"IC_kwDOBHrsl846ND7D","user":{"login":"lizhanhui","id":641819,"node_id":"MDQ6VXNlcjY0MTgxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/641819?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhanhui","html_url":"https://github.com/lizhanhui","followers_url":"https://api.github.com/users/lizhanhui/followers","following_url":"https://api.github.com/users/lizhanhui/following{/other_user}","gists_url":"https://api.github.com/users/lizhanhui/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhanhui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhanhui/subscriptions","organizations_url":"https://api.github.com/users/lizhanhui/orgs","repos_url":"https://api.github.com/users/lizhanhui/repos","events_url":"https://api.github.com/users/lizhanhui/events{/privacy}","received_events_url":"https://api.github.com/users/lizhanhui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T13:05:03Z","updated_at":"2021-11-23T13:05:03Z","author_association":"CONTRIBUTOR","body":"Nice catch","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976502467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976504666","html_url":"https://github.com/apache/rocketmq/pull/3530#issuecomment-976504666","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3530","id":976504666,"node_id":"IC_kwDOBHrsl846NEda","user":{"login":"lizhanhui","id":641819,"node_id":"MDQ6VXNlcjY0MTgxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/641819?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhanhui","html_url":"https://github.com/lizhanhui","followers_url":"https://api.github.com/users/lizhanhui/followers","following_url":"https://api.github.com/users/lizhanhui/following{/other_user}","gists_url":"https://api.github.com/users/lizhanhui/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhanhui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhanhui/subscriptions","organizations_url":"https://api.github.com/users/lizhanhui/orgs","repos_url":"https://api.github.com/users/lizhanhui/repos","events_url":"https://api.github.com/users/lizhanhui/events{/privacy}","received_events_url":"https://api.github.com/users/lizhanhui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T13:06:40Z","updated_at":"2021-11-23T13:06:40Z","author_association":"CONTRIBUTOR","body":"Looks good. Considering the changes is relatively small. I would merge it directly.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976504666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976505017","html_url":"https://github.com/apache/rocketmq/issues/3515#issuecomment-976505017","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3515","id":976505017,"node_id":"IC_kwDOBHrsl846NEi5","user":{"login":"Jamesmahaitao","id":17718184,"node_id":"MDQ6VXNlcjE3NzE4MTg0","avatar_url":"https://avatars.githubusercontent.com/u/17718184?v=4","gravatar_id":"","url":"https://api.github.com/users/Jamesmahaitao","html_url":"https://github.com/Jamesmahaitao","followers_url":"https://api.github.com/users/Jamesmahaitao/followers","following_url":"https://api.github.com/users/Jamesmahaitao/following{/other_user}","gists_url":"https://api.github.com/users/Jamesmahaitao/gists{/gist_id}","starred_url":"https://api.github.com/users/Jamesmahaitao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jamesmahaitao/subscriptions","organizations_url":"https://api.github.com/users/Jamesmahaitao/orgs","repos_url":"https://api.github.com/users/Jamesmahaitao/repos","events_url":"https://api.github.com/users/Jamesmahaitao/events{/privacy}","received_events_url":"https://api.github.com/users/Jamesmahaitao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-23T13:06:52Z","updated_at":"2021-11-23T13:06:52Z","author_association":"NONE","body":"i add this line \r\n`System.setProperty(MixAll.NAMESRV_ADDR_PROPERTY, \"127.0.0.1:9876\");`\r\nto BrokerStartup#createBrokerController,it works. confirmed my suspicion\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/976505017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/977385952","html_url":"https://github.com/apache/rocketmq/pull/3529#issuecomment-977385952","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3529","id":977385952,"node_id":"IC_kwDOBHrsl846Qbng","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-24T01:46:15Z","updated_at":"2021-11-24T01:46:15Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/44500403/badge)](https://coveralls.io/builds/44500403)\n\nCoverage increased (+0.08%) to 55.087% when pulling **5b38796d4112e55d54f84c56651fd8b870b9c4eb on XiaoyiPeng:so_backlog** into **0c85c7b4d668f37aa0c3ff48987ad94f40d9265a on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/977385952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/977386054","html_url":"https://github.com/apache/rocketmq/pull/3529#issuecomment-977386054","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3529","id":977386054,"node_id":"IC_kwDOBHrsl846QbpG","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-24T01:46:30Z","updated_at":"2021-11-24T01:46:30Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3529?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3529](https://codecov.io/gh/apache/rocketmq/pull/3529?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (5b38796) into [develop](https://codecov.io/gh/apache/rocketmq/commit/4bb99e656b1acc99d3a953f84ae0abcb74737af5?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (4bb99e6) will **decrease** coverage by `0.16%`.\n> The diff coverage is `71.42%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3529/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3529?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #3529      +/-   ##\n=============================================\n- Coverage      48.89%   48.73%   -0.17%     \n+ Complexity      4658     4642      -16     \n=============================================\n  Files            555      555              \n  Lines          36724    36730       +6     \n  Branches        4839     4839              \n=============================================\n- Hits           17957    17900      -57     \n- Misses         16523    16585      +62     \n- Partials        2244     2245       +1     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3529?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...che/rocketmq/remoting/netty/NettyServerConfig.java](https://codecov.io/gh/apache/rocketmq/pull/3529/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5U2VydmVyQ29uZmlnLmphdmE=) | `50.00% <50.00%> (ø)` | |\n| [...e/rocketmq/remoting/netty/NettyRemotingServer.java](https://codecov.io/gh/apache/rocketmq/pull/3529/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5UmVtb3RpbmdTZXJ2ZXIuamF2YQ==) | `60.89% <100.00%> (ø)` | |\n| [...che/rocketmq/remoting/netty/NettySystemConfig.java](https://codecov.io/gh/apache/rocketmq/pull/3529/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5U3lzdGVtQ29uZmlnLmphdmE=) | `95.23% <100.00%> (+0.50%)` | :arrow_up: |\n| [.../broker/subscription/SubscriptionGroupManager.java](https://codecov.io/gh/apache/rocketmq/pull/3529/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvc3Vic2NyaXB0aW9uL1N1YnNjcmlwdGlvbkdyb3VwTWFuYWdlci5qYXZh) | `54.11% <0.00%> (-16.48%)` | :arrow_down: |\n| [...tmq/logappender/log4j2/RocketmqLog4j2Appender.java](https://codecov.io/gh/apache/rocketmq/pull/3529/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bG9nYXBwZW5kZXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL2xvZ2FwcGVuZGVyL2xvZzRqMi9Sb2NrZXRtcUxvZzRqMkFwcGVuZGVyLmphdmE=) | `35.00% <0.00%> (-10.00%)` | :arrow_down: |\n| [...in/java/org/apache/rocketmq/test/util/MQAdmin.java](https://codecov.io/gh/apache/rocketmq/pull/3529/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL01RQWRtaW4uamF2YQ==) | `38.88% <0.00%> (-5.56%)` | :arrow_down: |\n| [...ache/rocketmq/broker/topic/TopicConfigManager.java](https://codecov.io/gh/apache/rocketmq/pull/3529/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvdG9waWMvVG9waWNDb25maWdNYW5hZ2VyLmphdmE=) | `54.23% <0.00%> (-4.62%)` | :arrow_down: |\n| [...ache/rocketmq/store/AllocateMappedFileService.java](https://codecov.io/gh/apache/rocketmq/pull/3529/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0FsbG9jYXRlTWFwcGVkRmlsZVNlcnZpY2UuamF2YQ==) | `39.02% <0.00%> (-2.44%)` | :arrow_down: |\n| [...he/rocketmq/client/trace/AsyncTraceDispatcher.java](https://codecov.io/gh/apache/rocketmq/pull/3529/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvdHJhY2UvQXN5bmNUcmFjZURpc3BhdGNoZXIuamF2YQ==) | `78.21% <0.00%> (-1.49%)` | :arrow_down: |\n| [...mq/client/impl/consumer/RebalanceLitePullImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3529/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9SZWJhbGFuY2VMaXRlUHVsbEltcGwuamF2YQ==) | `48.52% <0.00%> (-1.48%)` | :arrow_down: |\n| ... and [11 more](https://codecov.io/gh/apache/rocketmq/pull/3529/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3529?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3529?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [4bb99e6...5b38796](https://codecov.io/gh/apache/rocketmq/pull/3529?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/977386054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/977446594","html_url":"https://github.com/apache/rocketmq/issues/3528#issuecomment-977446594","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3528","id":977446594,"node_id":"IC_kwDOBHrsl846QqbC","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-24T02:44:06Z","updated_at":"2021-11-24T02:44:06Z","author_association":"CONTRIBUTOR","body":"Merged","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/977446594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/977447850","html_url":"https://github.com/apache/rocketmq/issues/2516#issuecomment-977447850","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2516","id":977447850,"node_id":"IC_kwDOBHrsl846Qquq","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-24T02:45:07Z","updated_at":"2021-11-24T02:45:07Z","author_association":"CONTRIBUTOR","body":"Merged","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/977447850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/977522629","html_url":"https://github.com/apache/rocketmq/pull/3532#issuecomment-977522629","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3532","id":977522629,"node_id":"IC_kwDOBHrsl846Q8_F","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-24T04:26:49Z","updated_at":"2021-11-24T04:26:49Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3532?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3532](https://codecov.io/gh/apache/rocketmq/pull/3532?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (a05f1cb) into [develop](https://codecov.io/gh/apache/rocketmq/commit/87b0be00012dff86727766081d4243eeee280699?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (87b0be0) will **increase** coverage by `0.08%`.\n> The diff coverage is `85.71%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3532/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3532?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #3532      +/-   ##\n=============================================\n+ Coverage      48.75%   48.84%   +0.08%     \n- Complexity      4649     4658       +9     \n=============================================\n  Files            555      556       +1     \n  Lines          36733    36717      -16     \n  Branches        4838     4838              \n=============================================\n+ Hits           17911    17935      +24     \n+ Misses         16576    16538      -38     \n+ Partials        2246     2244       -2     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3532?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...mq/client/impl/producer/DefaultMQProducerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3532/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9wcm9kdWNlci9EZWZhdWx0TVFQcm9kdWNlckltcGwuamF2YQ==) | `46.24% <ø> (-0.21%)` | :arrow_down: |\n| [...e/rocketmq/remoting/netty/NettyRemotingServer.java](https://codecov.io/gh/apache/rocketmq/pull/3532/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5UmVtb3RpbmdTZXJ2ZXIuamF2YQ==) | `60.84% <62.50%> (-0.05%)` | :arrow_down: |\n| [...ion/AbstractTransactionalMessageCheckListener.java](https://codecov.io/gh/apache/rocketmq/pull/3532/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvdHJhbnNhY3Rpb24vQWJzdHJhY3RUcmFuc2FjdGlvbmFsTWVzc2FnZUNoZWNrTGlzdGVuZXIuamF2YQ==) | `73.52% <100.00%> (-2.15%)` | :arrow_down: |\n| [...he/rocketmq/remoting/common/ThreadFactoryImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3532/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL2NvbW1vbi9UaHJlYWRGYWN0b3J5SW1wbC5qYXZh) | `100.00% <100.00%> (ø)` | |\n| [...e/rocketmq/remoting/netty/NettyRemotingClient.java](https://codecov.io/gh/apache/rocketmq/pull/3532/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5UmVtb3RpbmdDbGllbnQuamF2YQ==) | `46.15% <100.00%> (-1.10%)` | :arrow_down: |\n| [...ent/impl/consumer/DefaultLitePullConsumerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3532/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9EZWZhdWx0TGl0ZVB1bGxDb25zdW1lckltcGwuamF2YQ==) | `69.03% <0.00%> (-0.52%)` | :arrow_down: |\n| [.../apache/rocketmq/logging/inner/LoggingBuilder.java](https://codecov.io/gh/apache/rocketmq/pull/3532/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bG9nZ2luZy9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvbG9nZ2luZy9pbm5lci9Mb2dnaW5nQnVpbGRlci5qYXZh) | `63.44% <0.00%> (-0.32%)` | :arrow_down: |\n| [...org/apache/rocketmq/store/DefaultMessageStore.java](https://codecov.io/gh/apache/rocketmq/pull/3532/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0RlZmF1bHRNZXNzYWdlU3RvcmUuamF2YQ==) | `56.04% <0.00%> (-0.20%)` | :arrow_down: |\n| [...main/java/org/apache/rocketmq/store/CommitLog.java](https://codecov.io/gh/apache/rocketmq/pull/3532/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0NvbW1pdExvZy5qYXZh) | `74.59% <0.00%> (-0.12%)` | :arrow_down: |\n| [...ava/org/apache/rocketmq/filter/util/BitsArray.java](https://codecov.io/gh/apache/rocketmq/pull/3532/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZmlsdGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9maWx0ZXIvdXRpbC9CaXRzQXJyYXkuamF2YQ==) | `59.82% <0.00%> (ø)` | |\n| ... and [11 more](https://codecov.io/gh/apache/rocketmq/pull/3532/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3532?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3532?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [87b0be0...a05f1cb](https://codecov.io/gh/apache/rocketmq/pull/3532?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/977522629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/977590932","html_url":"https://github.com/apache/rocketmq/pull/3526#issuecomment-977590932","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3526","id":977590932,"node_id":"IC_kwDOBHrsl846RNqU","user":{"login":"cserwen","id":46882838,"node_id":"MDQ6VXNlcjQ2ODgyODM4","avatar_url":"https://avatars.githubusercontent.com/u/46882838?v=4","gravatar_id":"","url":"https://api.github.com/users/cserwen","html_url":"https://github.com/cserwen","followers_url":"https://api.github.com/users/cserwen/followers","following_url":"https://api.github.com/users/cserwen/following{/other_user}","gists_url":"https://api.github.com/users/cserwen/gists{/gist_id}","starred_url":"https://api.github.com/users/cserwen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cserwen/subscriptions","organizations_url":"https://api.github.com/users/cserwen/orgs","repos_url":"https://api.github.com/users/cserwen/repos","events_url":"https://api.github.com/users/cserwen/events{/privacy}","received_events_url":"https://api.github.com/users/cserwen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-24T07:07:33Z","updated_at":"2021-11-24T07:07:33Z","author_association":"MEMBER","body":"@odbozhou  Thanks. That is my fault. These codes do not need to be changed. We only need to set `enablePopLog` to false to achieve the purpose of reducing logs:satisfied:.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/977590932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/977591786","html_url":"https://github.com/apache/rocketmq/issues/3525#issuecomment-977591786","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3525","id":977591786,"node_id":"IC_kwDOBHrsl846RN3q","user":{"login":"cserwen","id":46882838,"node_id":"MDQ6VXNlcjQ2ODgyODM4","avatar_url":"https://avatars.githubusercontent.com/u/46882838?v=4","gravatar_id":"","url":"https://api.github.com/users/cserwen","html_url":"https://github.com/cserwen","followers_url":"https://api.github.com/users/cserwen/followers","following_url":"https://api.github.com/users/cserwen/following{/other_user}","gists_url":"https://api.github.com/users/cserwen/gists{/gist_id}","starred_url":"https://api.github.com/users/cserwen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cserwen/subscriptions","organizations_url":"https://api.github.com/users/cserwen/orgs","repos_url":"https://api.github.com/users/cserwen/repos","events_url":"https://api.github.com/users/cserwen/events{/privacy}","received_events_url":"https://api.github.com/users/cserwen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-24T07:09:01Z","updated_at":"2021-11-24T07:09:01Z","author_association":"MEMBER","body":"This is my fault. These codes do not need to be changed. We only need to set `enablePopLog` as false to achieve the purpose of reducing logs.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/977591786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/977734029","html_url":"https://github.com/apache/rocketmq/pull/3534#issuecomment-977734029","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3534","id":977734029,"node_id":"IC_kwDOBHrsl846RwmN","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-24T10:18:47Z","updated_at":"2021-11-24T10:18:47Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/44509047/badge)](https://coveralls.io/builds/44509047)\n\nCoverage decreased (-0.08%) to 55.014% when pulling **070f172c874f1d9bdec58036677fbb515391eccb on XiaoyiPeng:hashmap_as_a_local_variable_not_escape** into **87b0be00012dff86727766081d4243eeee280699 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/977734029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/977974892","html_url":"https://github.com/apache/rocketmq/pull/3535#issuecomment-977974892","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3535","id":977974892,"node_id":"IC_kwDOBHrsl846SrZs","user":{"login":"ifplusor","id":9999114,"node_id":"MDQ6VXNlcjk5OTkxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9999114?v=4","gravatar_id":"","url":"https://api.github.com/users/ifplusor","html_url":"https://github.com/ifplusor","followers_url":"https://api.github.com/users/ifplusor/followers","following_url":"https://api.github.com/users/ifplusor/following{/other_user}","gists_url":"https://api.github.com/users/ifplusor/gists{/gist_id}","starred_url":"https://api.github.com/users/ifplusor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ifplusor/subscriptions","organizations_url":"https://api.github.com/users/ifplusor/orgs","repos_url":"https://api.github.com/users/ifplusor/repos","events_url":"https://api.github.com/users/ifplusor/events{/privacy}","received_events_url":"https://api.github.com/users/ifplusor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-24T15:18:35Z","updated_at":"2021-11-24T15:18:35Z","author_association":"CONTRIBUTOR","body":"@zhangqiangGit-2018 Could you discribe this PR？","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/977974892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/978919359","html_url":"https://github.com/apache/rocketmq/pull/3382#issuecomment-978919359","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3382","id":978919359,"node_id":"IC_kwDOBHrsl846WR-_","user":{"login":"iamqq23ue","id":70457992,"node_id":"MDQ6VXNlcjcwNDU3OTky","avatar_url":"https://avatars.githubusercontent.com/u/70457992?v=4","gravatar_id":"","url":"https://api.github.com/users/iamqq23ue","html_url":"https://github.com/iamqq23ue","followers_url":"https://api.github.com/users/iamqq23ue/followers","following_url":"https://api.github.com/users/iamqq23ue/following{/other_user}","gists_url":"https://api.github.com/users/iamqq23ue/gists{/gist_id}","starred_url":"https://api.github.com/users/iamqq23ue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamqq23ue/subscriptions","organizations_url":"https://api.github.com/users/iamqq23ue/orgs","repos_url":"https://api.github.com/users/iamqq23ue/repos","events_url":"https://api.github.com/users/iamqq23ue/events{/privacy}","received_events_url":"https://api.github.com/users/iamqq23ue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-25T07:51:05Z","updated_at":"2021-11-25T07:51:05Z","author_association":"CONTRIBUTOR","body":"2、你的意思是把broker设置为只读，影响太大了。但我的意思是，按目前的修改，发生IO故障以后，接下来每次发送都会返回失败。这比把Broker设置为只读更糟糕的结果，影响更大。我提出的把Broker设置只读，client接下来会把请求发到其它健康的broker去，对用户几乎没有影响，是一个影响更小的方案。\r\n \r\nBy the way。 目前的修改，每次发送会retry到其他健康的broker，对用户也是无感的。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/978919359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979491623","html_url":"https://github.com/apache/rocketmq/pull/3514#issuecomment-979491623","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3514","id":979491623,"node_id":"IC_kwDOBHrsl846Ydsn","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-25T22:15:34Z","updated_at":"2021-11-25T22:15:34Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/44552471/badge)](https://coveralls.io/builds/44552471)\n\nCoverage increased (+0.07%) to 55.187% when pulling **d9e8171566076e31046aeaef5293441d1498c8ef on fangzhiheng:develop** into **4bb99e656b1acc99d3a953f84ae0abcb74737af5 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979491623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979491855","html_url":"https://github.com/apache/rocketmq/pull/3514#issuecomment-979491855","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3514","id":979491855,"node_id":"IC_kwDOBHrsl846YdwP","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-25T22:15:44Z","updated_at":"2021-11-25T22:15:44Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3514?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3514](https://codecov.io/gh/apache/rocketmq/pull/3514?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (d9e8171) into [develop](https://codecov.io/gh/apache/rocketmq/commit/5e99cdbeb7d56a46059ca83923a12b9a0d80cece?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (5e99cdb) will **increase** coverage by `0.75%`.\n> The diff coverage is `100.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3514/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3514?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #3514      +/-   ##\n=============================================\n+ Coverage      47.98%   48.74%   +0.75%     \n- Complexity      4567     4645      +78     \n=============================================\n  Files            552      555       +3     \n  Lines          36628    36731     +103     \n  Branches        4844     4837       -7     \n=============================================\n+ Hits           17577    17904     +327     \n+ Misses         16831    16582     -249     \n- Partials        2220     2245      +25     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3514?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...cketmq/remoting/protocol/RemotingSerializable.java](https://codecov.io/gh/apache/rocketmq/pull/3514/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL3Byb3RvY29sL1JlbW90aW5nU2VyaWFsaXphYmxlLmphdmE=) | `71.42% <100.00%> (+8.92%)` | :arrow_up: |\n| [.../broker/subscription/SubscriptionGroupManager.java](https://codecov.io/gh/apache/rocketmq/pull/3514/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvc3Vic2NyaXB0aW9uL1N1YnNjcmlwdGlvbkdyb3VwTWFuYWdlci5qYXZh) | `54.11% <0.00%> (-16.48%)` | :arrow_down: |\n| [...org/apache/rocketmq/common/stats/StatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/3514/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvU3RhdHNJdGVtU2V0LmphdmE=) | `41.79% <0.00%> (-10.45%)` | :arrow_down: |\n| [...rocketmq/broker/pagecache/ManyMessageTransfer.java](https://codecov.io/gh/apache/rocketmq/pull/3514/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcGFnZWNhY2hlL01hbnlNZXNzYWdlVHJhbnNmZXIuamF2YQ==) | `36.36% <0.00%> (-9.80%)` | :arrow_down: |\n| [.../rocketmq/broker/pagecache/OneMessageTransfer.java](https://codecov.io/gh/apache/rocketmq/pull/3514/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcGFnZWNhY2hlL09uZU1lc3NhZ2VUcmFuc2Zlci5qYXZh) | `24.00% <0.00%> (-9.34%)` | :arrow_down: |\n| [...tmq/logappender/log4j2/RocketmqLog4j2Appender.java](https://codecov.io/gh/apache/rocketmq/pull/3514/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bG9nYXBwZW5kZXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL2xvZ2FwcGVuZGVyL2xvZzRqMi9Sb2NrZXRtcUxvZzRqMkFwcGVuZGVyLmphdmE=) | `36.66% <0.00%> (-8.34%)` | :arrow_down: |\n| [...va/org/apache/rocketmq/store/GetMessageResult.java](https://codecov.io/gh/apache/rocketmq/pull/3514/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0dldE1lc3NhZ2VSZXN1bHQuamF2YQ==) | `71.73% <0.00%> (-6.84%)` | :arrow_down: |\n| [...in/java/org/apache/rocketmq/test/util/MQAdmin.java](https://codecov.io/gh/apache/rocketmq/pull/3514/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL01RQWRtaW4uamF2YQ==) | `38.88% <0.00%> (-5.56%)` | :arrow_down: |\n| [...org/apache/rocketmq/store/ha/WaitNotifyObject.java](https://codecov.io/gh/apache/rocketmq/pull/3514/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL2hhL1dhaXROb3RpZnlPYmplY3QuamF2YQ==) | `66.07% <0.00%> (-5.09%)` | :arrow_down: |\n| [...apache/rocketmq/remoting/netty/ResponseFuture.java](https://codecov.io/gh/apache/rocketmq/pull/3514/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L1Jlc3BvbnNlRnV0dXJlLmphdmE=) | `85.00% <0.00%> (-5.00%)` | :arrow_down: |\n| ... and [77 more](https://codecov.io/gh/apache/rocketmq/pull/3514/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3514?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3514?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [5e99cdb...d9e8171](https://codecov.io/gh/apache/rocketmq/pull/3514?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979491855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979657040","html_url":"https://github.com/apache/rocketmq/pull/3538#issuecomment-979657040","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3538","id":979657040,"node_id":"IC_kwDOBHrsl846ZGFQ","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-26T03:16:29Z","updated_at":"2021-11-26T03:22:18Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/44555984/badge)](https://coveralls.io/builds/44555984)\n\nCoverage decreased (-0.03%) to 55.069% when pulling **c16d8b8d38dd96d6a1bde80465fd262b408be368 on zhongxiongzeng:replace_timer** into **87b0be00012dff86727766081d4243eeee280699 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979657040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979659324","html_url":"https://github.com/apache/rocketmq/pull/2290#issuecomment-979659324","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2290","id":979659324,"node_id":"IC_kwDOBHrsl846ZGo8","user":{"login":"Git-Yang","id":30995057,"node_id":"MDQ6VXNlcjMwOTk1MDU3","avatar_url":"https://avatars.githubusercontent.com/u/30995057?v=4","gravatar_id":"","url":"https://api.github.com/users/Git-Yang","html_url":"https://github.com/Git-Yang","followers_url":"https://api.github.com/users/Git-Yang/followers","following_url":"https://api.github.com/users/Git-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Git-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Git-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Git-Yang/subscriptions","organizations_url":"https://api.github.com/users/Git-Yang/orgs","repos_url":"https://api.github.com/users/Git-Yang/repos","events_url":"https://api.github.com/users/Git-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Git-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-26T03:23:20Z","updated_at":"2021-11-26T03:23:20Z","author_association":"MEMBER","body":"> > I found another problem needed to discuss:\r\n> > if timewheel deliveries the delay messages a little later than excepted, assuming now is 9:00 but the timewheel is deleverying the message at 8:30, meanwhile, the system begins to remove the commitlog, the message between 8:30 and 9:00 in the commitlog(going to be removed soon) might be lost forever.\r\n> > Sometimes it is useless to deliver the delay message much later than excepted, maybe we need to rebalance how late the message we can remove directly.\r\n> \r\n> We can separate the commitlog of delayMsg from the normal messages commitlog in the next version. we can work together.\r\n\r\nIs the separate storage of delayed messages and normal messages realized now?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979659324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979680071","html_url":"https://github.com/apache/rocketmq/issues/3250#issuecomment-979680071","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3250","id":979680071,"node_id":"IC_kwDOBHrsl846ZLtH","user":{"login":"Git-Yang","id":30995057,"node_id":"MDQ6VXNlcjMwOTk1MDU3","avatar_url":"https://avatars.githubusercontent.com/u/30995057?v=4","gravatar_id":"","url":"https://api.github.com/users/Git-Yang","html_url":"https://github.com/Git-Yang","followers_url":"https://api.github.com/users/Git-Yang/followers","following_url":"https://api.github.com/users/Git-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Git-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Git-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Git-Yang/subscriptions","organizations_url":"https://api.github.com/users/Git-Yang/orgs","repos_url":"https://api.github.com/users/Git-Yang/repos","events_url":"https://api.github.com/users/Git-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Git-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-26T03:59:02Z","updated_at":"2021-11-26T03:59:02Z","author_association":"MEMBER","body":"> > tag is decided by user, broker can not control how many tags users use. if we design consume queues by tag, that is a disaster for broker stability.\r\n> \r\n> What if the user defines the tag and creates it in the broker\r\n\r\nMaybe you can write the required ‘topic+tag’ to a separate topic based on business needs.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979680071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979685338","html_url":"https://github.com/apache/rocketmq/pull/3230#issuecomment-979685338","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3230","id":979685338,"node_id":"IC_kwDOBHrsl846ZM_a","user":{"login":"Git-Yang","id":30995057,"node_id":"MDQ6VXNlcjMwOTk1MDU3","avatar_url":"https://avatars.githubusercontent.com/u/30995057?v=4","gravatar_id":"","url":"https://api.github.com/users/Git-Yang","html_url":"https://github.com/Git-Yang","followers_url":"https://api.github.com/users/Git-Yang/followers","following_url":"https://api.github.com/users/Git-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Git-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Git-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Git-Yang/subscriptions","organizations_url":"https://api.github.com/users/Git-Yang/orgs","repos_url":"https://api.github.com/users/Git-Yang/repos","events_url":"https://api.github.com/users/Git-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Git-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-26T04:15:57Z","updated_at":"2021-11-26T04:15:57Z","author_association":"MEMBER","body":"Can you resolve the conflict？","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979685338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979737331","html_url":"https://github.com/apache/rocketmq/pull/3538#issuecomment-979737331","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3538","id":979737331,"node_id":"IC_kwDOBHrsl846ZZrz","user":{"login":"Git-Yang","id":30995057,"node_id":"MDQ6VXNlcjMwOTk1MDU3","avatar_url":"https://avatars.githubusercontent.com/u/30995057?v=4","gravatar_id":"","url":"https://api.github.com/users/Git-Yang","html_url":"https://github.com/Git-Yang","followers_url":"https://api.github.com/users/Git-Yang/followers","following_url":"https://api.github.com/users/Git-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Git-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Git-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Git-Yang/subscriptions","organizations_url":"https://api.github.com/users/Git-Yang/orgs","repos_url":"https://api.github.com/users/Git-Yang/repos","events_url":"https://api.github.com/users/Git-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Git-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-26T06:58:31Z","updated_at":"2021-11-26T06:58:31Z","author_association":"MEMBER","body":"Can you create an ISSUE for this PR?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979737331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979738147","html_url":"https://github.com/apache/rocketmq/pull/3538#issuecomment-979738147","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3538","id":979738147,"node_id":"IC_kwDOBHrsl846ZZ4j","user":{"login":"zhongxiongzeng","id":41657421,"node_id":"MDQ6VXNlcjQxNjU3NDIx","avatar_url":"https://avatars.githubusercontent.com/u/41657421?v=4","gravatar_id":"","url":"https://api.github.com/users/zhongxiongzeng","html_url":"https://github.com/zhongxiongzeng","followers_url":"https://api.github.com/users/zhongxiongzeng/followers","following_url":"https://api.github.com/users/zhongxiongzeng/following{/other_user}","gists_url":"https://api.github.com/users/zhongxiongzeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhongxiongzeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhongxiongzeng/subscriptions","organizations_url":"https://api.github.com/users/zhongxiongzeng/orgs","repos_url":"https://api.github.com/users/zhongxiongzeng/repos","events_url":"https://api.github.com/users/zhongxiongzeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhongxiongzeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-26T07:00:51Z","updated_at":"2021-11-26T07:00:51Z","author_association":"NONE","body":"> Can you create an ISSUE for this PR?\r\n\r\nok","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979738147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979745909","html_url":"https://github.com/apache/rocketmq/issues/3539#issuecomment-979745909","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3539","id":979745909,"node_id":"IC_kwDOBHrsl846Zbx1","user":{"login":"zhongxiongzeng","id":41657421,"node_id":"MDQ6VXNlcjQxNjU3NDIx","avatar_url":"https://avatars.githubusercontent.com/u/41657421?v=4","gravatar_id":"","url":"https://api.github.com/users/zhongxiongzeng","html_url":"https://github.com/zhongxiongzeng","followers_url":"https://api.github.com/users/zhongxiongzeng/followers","following_url":"https://api.github.com/users/zhongxiongzeng/following{/other_user}","gists_url":"https://api.github.com/users/zhongxiongzeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhongxiongzeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhongxiongzeng/subscriptions","organizations_url":"https://api.github.com/users/zhongxiongzeng/orgs","repos_url":"https://api.github.com/users/zhongxiongzeng/repos","events_url":"https://api.github.com/users/zhongxiongzeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhongxiongzeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-26T07:18:59Z","updated_at":"2021-11-26T07:18:59Z","author_association":"NONE","body":"& link https://github.com/apache/rocketmq/pull/3538","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979745909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979775334","html_url":"https://github.com/apache/rocketmq/pull/3540#issuecomment-979775334","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3540","id":979775334,"node_id":"IC_kwDOBHrsl846Zi9m","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-26T08:18:00Z","updated_at":"2021-11-26T08:18:00Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3540?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3540](https://codecov.io/gh/apache/rocketmq/pull/3540?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (b79ac69) into [develop](https://codecov.io/gh/apache/rocketmq/commit/87b0be00012dff86727766081d4243eeee280699?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (87b0be0) will **increase** coverage by `0.04%`.\n> The diff coverage is `48.27%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3540/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3540?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #3540      +/-   ##\n=============================================\n+ Coverage      48.75%   48.80%   +0.04%     \n+ Complexity      4649     4648       -1     \n=============================================\n  Files            555      555              \n  Lines          36733    36733              \n  Branches        4838     4836       -2     \n=============================================\n+ Hits           17911    17927      +16     \n+ Misses         16576    16562      -14     \n+ Partials        2246     2244       -2     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3540?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...a/org/apache/rocketmq/store/StoreStatsService.java](https://codecov.io/gh/apache/rocketmq/pull/3540/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL1N0b3JlU3RhdHNTZXJ2aWNlLmphdmE=) | `29.50% <48.27%> (ø)` | |\n| [...ent/impl/consumer/DefaultLitePullConsumerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3540/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9EZWZhdWx0TGl0ZVB1bGxDb25zdW1lckltcGwuamF2YQ==) | `68.51% <0.00%> (-1.04%)` | :arrow_down: |\n| [.../apache/rocketmq/logging/inner/LoggingBuilder.java](https://codecov.io/gh/apache/rocketmq/pull/3540/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-bG9nZ2luZy9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvbG9nZ2luZy9pbm5lci9Mb2dnaW5nQnVpbGRlci5qYXZh) | `63.44% <0.00%> (-0.32%)` | :arrow_down: |\n| [...mq/client/impl/producer/DefaultMQProducerImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3540/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9wcm9kdWNlci9EZWZhdWx0TVFQcm9kdWNlckltcGwuamF2YQ==) | `46.19% <0.00%> (-0.25%)` | :arrow_down: |\n| [...main/java/org/apache/rocketmq/store/CommitLog.java](https://codecov.io/gh/apache/rocketmq/pull/3540/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0NvbW1pdExvZy5qYXZh) | `74.59% <0.00%> (-0.12%)` | :arrow_down: |\n| [...ava/org/apache/rocketmq/filter/util/BitsArray.java](https://codecov.io/gh/apache/rocketmq/pull/3540/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZmlsdGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9maWx0ZXIvdXRpbC9CaXRzQXJyYXkuamF2YQ==) | `59.82% <0.00%> (ø)` | |\n| [...e/rocketmq/client/impl/consumer/RebalanceImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3540/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9SZWJhbGFuY2VJbXBsLmphdmE=) | `40.62% <0.00%> (+0.39%)` | :arrow_up: |\n| [...he/rocketmq/client/impl/consumer/ProcessQueue.java](https://codecov.io/gh/apache/rocketmq/pull/3540/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9Qcm9jZXNzUXVldWUuamF2YQ==) | `61.39% <0.00%> (+2.32%)` | :arrow_up: |\n| [...nt/impl/consumer/ConsumeMessageOrderlyService.java](https://codecov.io/gh/apache/rocketmq/pull/3540/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9Db25zdW1lTWVzc2FnZU9yZGVybHlTZXJ2aWNlLmphdmE=) | `42.59% <0.00%> (+3.61%)` | :arrow_up: |\n| ... and [2 more](https://codecov.io/gh/apache/rocketmq/pull/3540/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3540?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3540?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [87b0be0...b79ac69](https://codecov.io/gh/apache/rocketmq/pull/3540?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979775334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979778226","html_url":"https://github.com/apache/rocketmq/issues/3541#issuecomment-979778226","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3541","id":979778226,"node_id":"IC_kwDOBHrsl846Zjqy","user":{"login":"Git-Yang","id":30995057,"node_id":"MDQ6VXNlcjMwOTk1MDU3","avatar_url":"https://avatars.githubusercontent.com/u/30995057?v=4","gravatar_id":"","url":"https://api.github.com/users/Git-Yang","html_url":"https://github.com/Git-Yang","followers_url":"https://api.github.com/users/Git-Yang/followers","following_url":"https://api.github.com/users/Git-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Git-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Git-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Git-Yang/subscriptions","organizations_url":"https://api.github.com/users/Git-Yang/orgs","repos_url":"https://api.github.com/users/Git-Yang/repos","events_url":"https://api.github.com/users/Git-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Git-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-26T08:23:02Z","updated_at":"2021-11-26T08:23:02Z","author_association":"MEMBER","body":"This problem is solved in PR #3478 , you can help review it.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979778226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979779471","html_url":"https://github.com/apache/rocketmq/issues/3541#issuecomment-979779471","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3541","id":979779471,"node_id":"IC_kwDOBHrsl846Zj-P","user":{"login":"XiaoyiPeng","id":8653312,"node_id":"MDQ6VXNlcjg2NTMzMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8653312?v=4","gravatar_id":"","url":"https://api.github.com/users/XiaoyiPeng","html_url":"https://github.com/XiaoyiPeng","followers_url":"https://api.github.com/users/XiaoyiPeng/followers","following_url":"https://api.github.com/users/XiaoyiPeng/following{/other_user}","gists_url":"https://api.github.com/users/XiaoyiPeng/gists{/gist_id}","starred_url":"https://api.github.com/users/XiaoyiPeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XiaoyiPeng/subscriptions","organizations_url":"https://api.github.com/users/XiaoyiPeng/orgs","repos_url":"https://api.github.com/users/XiaoyiPeng/repos","events_url":"https://api.github.com/users/XiaoyiPeng/events{/privacy}","received_events_url":"https://api.github.com/users/XiaoyiPeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-26T08:25:07Z","updated_at":"2021-11-26T08:25:22Z","author_association":"CONTRIBUTOR","body":"> This problem is solved in PR #3478 , you can help review it.\r\n\r\nOK, niubility，haha~","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979779471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979787886","html_url":"https://github.com/apache/rocketmq/issues/2870#issuecomment-979787886","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2870","id":979787886,"node_id":"IC_kwDOBHrsl846ZmBu","user":{"login":"Git-Yang","id":30995057,"node_id":"MDQ6VXNlcjMwOTk1MDU3","avatar_url":"https://avatars.githubusercontent.com/u/30995057?v=4","gravatar_id":"","url":"https://api.github.com/users/Git-Yang","html_url":"https://github.com/Git-Yang","followers_url":"https://api.github.com/users/Git-Yang/followers","following_url":"https://api.github.com/users/Git-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Git-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Git-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Git-Yang/subscriptions","organizations_url":"https://api.github.com/users/Git-Yang/orgs","repos_url":"https://api.github.com/users/Git-Yang/repos","events_url":"https://api.github.com/users/Git-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Git-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-26T08:39:05Z","updated_at":"2021-11-26T08:39:05Z","author_association":"MEMBER","body":"link https://github.com/apache/rocketmq/issues/2831","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979787886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979811281","html_url":"https://github.com/apache/rocketmq/issues/2633#issuecomment-979811281","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2633","id":979811281,"node_id":"IC_kwDOBHrsl846ZrvR","user":{"login":"Git-Yang","id":30995057,"node_id":"MDQ6VXNlcjMwOTk1MDU3","avatar_url":"https://avatars.githubusercontent.com/u/30995057?v=4","gravatar_id":"","url":"https://api.github.com/users/Git-Yang","html_url":"https://github.com/Git-Yang","followers_url":"https://api.github.com/users/Git-Yang/followers","following_url":"https://api.github.com/users/Git-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Git-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Git-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Git-Yang/subscriptions","organizations_url":"https://api.github.com/users/Git-Yang/orgs","repos_url":"https://api.github.com/users/Git-Yang/repos","events_url":"https://api.github.com/users/Git-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Git-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-26T09:16:46Z","updated_at":"2021-11-26T09:16:46Z","author_association":"MEMBER","body":"> @ShannonDing Can anyone merge this request?\r\n\r\nPlease create a PR.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979811281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979853955","html_url":"https://github.com/apache/rocketmq/pull/3478#issuecomment-979853955","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3478","id":979853955,"node_id":"IC_kwDOBHrsl846Z2KD","user":{"login":"XiaoyiPeng","id":8653312,"node_id":"MDQ6VXNlcjg2NTMzMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8653312?v=4","gravatar_id":"","url":"https://api.github.com/users/XiaoyiPeng","html_url":"https://github.com/XiaoyiPeng","followers_url":"https://api.github.com/users/XiaoyiPeng/followers","following_url":"https://api.github.com/users/XiaoyiPeng/following{/other_user}","gists_url":"https://api.github.com/users/XiaoyiPeng/gists{/gist_id}","starred_url":"https://api.github.com/users/XiaoyiPeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XiaoyiPeng/subscriptions","organizations_url":"https://api.github.com/users/XiaoyiPeng/orgs","repos_url":"https://api.github.com/users/XiaoyiPeng/repos","events_url":"https://api.github.com/users/XiaoyiPeng/events{/privacy}","received_events_url":"https://api.github.com/users/XiaoyiPeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-26T10:20:00Z","updated_at":"2021-11-26T10:21:23Z","author_association":"CONTRIBUTOR","body":"Looks Good To Me. I have closed the issue #3541 ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/979853955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981053433","html_url":"https://github.com/apache/rocketmq/issues/3533#issuecomment-981053433","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3533","id":981053433,"node_id":"IC_kwDOBHrsl846ea_5","user":{"login":"vicya","id":23147124,"node_id":"MDQ6VXNlcjIzMTQ3MTI0","avatar_url":"https://avatars.githubusercontent.com/u/23147124?v=4","gravatar_id":"","url":"https://api.github.com/users/vicya","html_url":"https://github.com/vicya","followers_url":"https://api.github.com/users/vicya/followers","following_url":"https://api.github.com/users/vicya/following{/other_user}","gists_url":"https://api.github.com/users/vicya/gists{/gist_id}","starred_url":"https://api.github.com/users/vicya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vicya/subscriptions","organizations_url":"https://api.github.com/users/vicya/orgs","repos_url":"https://api.github.com/users/vicya/repos","events_url":"https://api.github.com/users/vicya/events{/privacy}","received_events_url":"https://api.github.com/users/vicya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-28T09:35:58Z","updated_at":"2021-11-28T09:35:58Z","author_association":"NONE","body":"some advices.  If there are for four elements ,the capacity should be larger than four to prevent expansion","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981053433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981074805","html_url":"https://github.com/apache/rocketmq/pull/3522#issuecomment-981074805","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3522","id":981074805,"node_id":"IC_kwDOBHrsl846egN1","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-28T12:13:33Z","updated_at":"2021-11-28T12:13:33Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/44582199/badge)](https://coveralls.io/builds/44582199)\n\nCoverage decreased (-0.09%) to 53.386% when pulling **a7cd31f4e1232e3b3666330c33eeb13c4d0aa757 on Git-Yang:5.0.0-alpha-dev2** into **4506f34e24714ec4d6ac37babd8f096632fd6b1c on apache:5.0.0-alpha**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981074805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981222261","html_url":"https://github.com/apache/rocketmq/pull/3522#issuecomment-981222261","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3522","id":981222261,"node_id":"IC_kwDOBHrsl846fEN1","user":{"login":"Git-Yang","id":30995057,"node_id":"MDQ6VXNlcjMwOTk1MDU3","avatar_url":"https://avatars.githubusercontent.com/u/30995057?v=4","gravatar_id":"","url":"https://api.github.com/users/Git-Yang","html_url":"https://github.com/Git-Yang","followers_url":"https://api.github.com/users/Git-Yang/followers","following_url":"https://api.github.com/users/Git-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Git-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Git-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Git-Yang/subscriptions","organizations_url":"https://api.github.com/users/Git-Yang/orgs","repos_url":"https://api.github.com/users/Git-Yang/repos","events_url":"https://api.github.com/users/Git-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Git-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-29T01:49:19Z","updated_at":"2021-11-29T01:49:19Z","author_association":"MEMBER","body":"The Build Failed  has been fixed in PR #3506 ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981222261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981224964","html_url":"https://github.com/apache/rocketmq/pull/3542#issuecomment-981224964","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3542","id":981224964,"node_id":"IC_kwDOBHrsl846fE4E","user":{"login":"Git-Yang","id":30995057,"node_id":"MDQ6VXNlcjMwOTk1MDU3","avatar_url":"https://avatars.githubusercontent.com/u/30995057?v=4","gravatar_id":"","url":"https://api.github.com/users/Git-Yang","html_url":"https://github.com/Git-Yang","followers_url":"https://api.github.com/users/Git-Yang/followers","following_url":"https://api.github.com/users/Git-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Git-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Git-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Git-Yang/subscriptions","organizations_url":"https://api.github.com/users/Git-Yang/orgs","repos_url":"https://api.github.com/users/Git-Yang/repos","events_url":"https://api.github.com/users/Git-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Git-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-29T01:58:13Z","updated_at":"2021-11-29T01:58:13Z","author_association":"MEMBER","body":"Can you create an ISSUE for this PR?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981224964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981225692","html_url":"https://github.com/apache/rocketmq/pull/3542#issuecomment-981225692","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3542","id":981225692,"node_id":"IC_kwDOBHrsl846fFDc","user":{"login":"mrhbj","id":11306049,"node_id":"MDQ6VXNlcjExMzA2MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/11306049?v=4","gravatar_id":"","url":"https://api.github.com/users/mrhbj","html_url":"https://github.com/mrhbj","followers_url":"https://api.github.com/users/mrhbj/followers","following_url":"https://api.github.com/users/mrhbj/following{/other_user}","gists_url":"https://api.github.com/users/mrhbj/gists{/gist_id}","starred_url":"https://api.github.com/users/mrhbj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrhbj/subscriptions","organizations_url":"https://api.github.com/users/mrhbj/orgs","repos_url":"https://api.github.com/users/mrhbj/repos","events_url":"https://api.github.com/users/mrhbj/events{/privacy}","received_events_url":"https://api.github.com/users/mrhbj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-29T02:00:51Z","updated_at":"2021-11-29T02:00:51Z","author_association":"CONTRIBUTOR","body":"\r\n\r\n\r\n> Can you create an ISSUE for this PR?\r\n\r\nok","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981225692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981231221","html_url":"https://github.com/apache/rocketmq/pull/3542#issuecomment-981231221","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3542","id":981231221,"node_id":"IC_kwDOBHrsl846fGZ1","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-29T02:13:50Z","updated_at":"2021-11-29T02:13:50Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/44586282/badge)](https://coveralls.io/builds/44586282)\n\nCoverage increased (+0.02%) to 54.401% when pulling **d941051018289fa7d640ee947e9dfc9ad73dc7da on mrhbj:fix-pullconsumer-notes** into **a75c74234915f1673c635639e6a70e4c25dcd740 on apache:master**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981231221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981279850","html_url":"https://github.com/apache/rocketmq/pull/3544#issuecomment-981279850","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3544","id":981279850,"node_id":"IC_kwDOBHrsl846fSRq","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-29T04:20:24Z","updated_at":"2021-11-29T04:20:24Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/44587930/badge)](https://coveralls.io/builds/44587930)\n\nCoverage increased (+0.08%) to 54.461% when pulling **59e62f21f83961031e10adf3206d5a8ecd3c5d6f on mrhbj:fix-notes-wrong** into **a75c74234915f1673c635639e6a70e4c25dcd740 on apache:master**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981279850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981280019","html_url":"https://github.com/apache/rocketmq/pull/3546#issuecomment-981280019","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3546","id":981280019,"node_id":"IC_kwDOBHrsl846fSUT","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-29T04:20:50Z","updated_at":"2021-11-29T04:20:50Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/44588061/badge)](https://coveralls.io/builds/44588061)\n\nCoverage increased (+0.04%) to 54.421% when pulling **1ad4298ca39e6c52b2360402b6b6a71cf3aab441 on mrhbj:optimization-nettyremotingclient** into **a75c74234915f1673c635639e6a70e4c25dcd740 on apache:master**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981280019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981310792","html_url":"https://github.com/apache/rocketmq/issues/3533#issuecomment-981310792","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3533","id":981310792,"node_id":"IC_kwDOBHrsl846fZ1I","user":{"login":"XiaoyiPeng","id":8653312,"node_id":"MDQ6VXNlcjg2NTMzMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8653312?v=4","gravatar_id":"","url":"https://api.github.com/users/XiaoyiPeng","html_url":"https://github.com/XiaoyiPeng","followers_url":"https://api.github.com/users/XiaoyiPeng/followers","following_url":"https://api.github.com/users/XiaoyiPeng/following{/other_user}","gists_url":"https://api.github.com/users/XiaoyiPeng/gists{/gist_id}","starred_url":"https://api.github.com/users/XiaoyiPeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XiaoyiPeng/subscriptions","organizations_url":"https://api.github.com/users/XiaoyiPeng/orgs","repos_url":"https://api.github.com/users/XiaoyiPeng/repos","events_url":"https://api.github.com/users/XiaoyiPeng/events{/privacy}","received_events_url":"https://api.github.com/users/XiaoyiPeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-29T05:47:36Z","updated_at":"2021-11-29T05:47:36Z","author_association":"CONTRIBUTOR","body":"> some advices. If there are for four elements ,the capacity should be larger than four to prevent expansion\r\n\r\nUse the style of the previous code(like` org.apache.rocketmq.broker.filter.MessageEvaluationContext#keyValues()` ), the `loadFactor` of `HashMap` has been set to 1 and will not be expanded.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981310792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981462950","html_url":"https://github.com/apache/rocketmq/issues/3545#issuecomment-981462950","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3545","id":981462950,"node_id":"IC_kwDOBHrsl846f--m","user":{"login":"lizhiboo","id":16134780,"node_id":"MDQ6VXNlcjE2MTM0Nzgw","avatar_url":"https://avatars.githubusercontent.com/u/16134780?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhiboo","html_url":"https://github.com/lizhiboo","followers_url":"https://api.github.com/users/lizhiboo/followers","following_url":"https://api.github.com/users/lizhiboo/following{/other_user}","gists_url":"https://api.github.com/users/lizhiboo/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhiboo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhiboo/subscriptions","organizations_url":"https://api.github.com/users/lizhiboo/orgs","repos_url":"https://api.github.com/users/lizhiboo/repos","events_url":"https://api.github.com/users/lizhiboo/events{/privacy}","received_events_url":"https://api.github.com/users/lizhiboo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-29T09:48:30Z","updated_at":"2021-11-29T09:48:30Z","author_association":"CONTRIBUTOR","body":"> ```\r\n>    NettyRemotingClient.java \r\n>    Bootstrap handler = this.bootstrap.group(this.eventLoopGroupWorker).channel(NioSocketChannel.class)\r\n>         .option(ChannelOption.TCP_NODELAY, true)\r\n>         .option(ChannelOption.SO_KEEPALIVE, false)\r\n>         .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, nettyClientConfig.getConnectTimeoutMillis())\r\n>         .option(ChannelOption.SO_SNDBUF, nettyClientConfig.getClientSocketSndBufSize())\r\n>         .option(ChannelOption.SO_RCVBUF, nettyClientConfig.getClientSocketRcvBufSize())\r\n>         .handler(new ChannelInitializer<SocketChannel>() {\r\n>             @Override\r\n>             public void initChannel(SocketChannel ch) throws Exception {\r\n>                 ChannelPipeline pipeline = ch.pipeline();\r\n>                 if (nettyClientConfig.isUseTLS()) {\r\n>                     if (null != sslContext) {\r\n>                         pipeline.addFirst(defaultEventExecutorGroup, \"sslHandler\", sslContext.newHandler(ch.alloc()));\r\n>                         log.info(\"Prepend SSL handler\");\r\n>                     } else {\r\n>                         log.warn(\"Connections are insecure as SSLContext is null!\");\r\n>                     }\r\n>                 }\r\n>                 pipeline.addLast(\r\n>                     defaultEventExecutorGroup,\r\n>                     new NettyEncoder(),\r\n>                     new NettyDecoder(),\r\n>                     new IdleStateHandler(0, 0, nettyClientConfig.getClientChannelMaxIdleTimeSeconds()),\r\n>                     new NettyConnectManageHandler(),\r\n>                     new NettyClientHandler());\r\n>             }\r\n>         });\r\n> ```\r\n> \r\n> Bootstrap handler Is it necessary？ because it look like not used this handler name！\r\n\r\nvariable handler is not used indeed, but bootstrap is configured after this running this code.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981462950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981469209","html_url":"https://github.com/apache/rocketmq/issues/3545#issuecomment-981469209","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3545","id":981469209,"node_id":"IC_kwDOBHrsl846gAgZ","user":{"login":"mrhbj","id":11306049,"node_id":"MDQ6VXNlcjExMzA2MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/11306049?v=4","gravatar_id":"","url":"https://api.github.com/users/mrhbj","html_url":"https://github.com/mrhbj","followers_url":"https://api.github.com/users/mrhbj/followers","following_url":"https://api.github.com/users/mrhbj/following{/other_user}","gists_url":"https://api.github.com/users/mrhbj/gists{/gist_id}","starred_url":"https://api.github.com/users/mrhbj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrhbj/subscriptions","organizations_url":"https://api.github.com/users/mrhbj/orgs","repos_url":"https://api.github.com/users/mrhbj/repos","events_url":"https://api.github.com/users/mrhbj/events{/privacy}","received_events_url":"https://api.github.com/users/mrhbj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-29T09:56:48Z","updated_at":"2021-11-29T09:58:57Z","author_association":"CONTRIBUTOR","body":"> > ```\r\n> >    NettyRemotingClient.java \r\n> >    Bootstrap handler = this.bootstrap.group(this.eventLoopGroupWorker).channel(NioSocketChannel.class)\r\n> >         .option(ChannelOption.TCP_NODELAY, true)\r\n> >         .option(ChannelOption.SO_KEEPALIVE, false)\r\n> >         .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, nettyClientConfig.getConnectTimeoutMillis())\r\n> >         .option(ChannelOption.SO_SNDBUF, nettyClientConfig.getClientSocketSndBufSize())\r\n> >         .option(ChannelOption.SO_RCVBUF, nettyClientConfig.getClientSocketRcvBufSize())\r\n> >         .handler(new ChannelInitializer<SocketChannel>() {\r\n> >             @Override\r\n> >             public void initChannel(SocketChannel ch) throws Exception {\r\n> >                 ChannelPipeline pipeline = ch.pipeline();\r\n> >                 if (nettyClientConfig.isUseTLS()) {\r\n> >                     if (null != sslContext) {\r\n> >                         pipeline.addFirst(defaultEventExecutorGroup, \"sslHandler\", sslContext.newHandler(ch.alloc()));\r\n> >                         log.info(\"Prepend SSL handler\");\r\n> >                     } else {\r\n> >                         log.warn(\"Connections are insecure as SSLContext is null!\");\r\n> >                     }\r\n> >                 }\r\n> >                 pipeline.addLast(\r\n> >                     defaultEventExecutorGroup,\r\n> >                     new NettyEncoder(),\r\n> >                     new NettyDecoder(),\r\n> >                     new IdleStateHandler(0, 0, nettyClientConfig.getClientChannelMaxIdleTimeSeconds()),\r\n> >                     new NettyConnectManageHandler(),\r\n> >                     new NettyClientHandler());\r\n> >             }\r\n> >         });\r\n> > ```\r\n> > \r\n> > \r\n> >     \r\n> >       \r\n> >     \r\n> > \r\n> >       \r\n> >     \r\n> > \r\n> >     \r\n> >   \r\n> > Bootstrap handler Is it necessary？ because it look like not used this handler name！\r\n> \r\n> variable handler is not used indeed, but bootstrap is configured after this running this code.\r\n\r\nyes, I agree, can I remove \"Bootstrap handler = \",  because handler doesn't use by other code","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981469209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981549357","html_url":"https://github.com/apache/rocketmq/pull/3535#issuecomment-981549357","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3535","id":981549357,"node_id":"IC_kwDOBHrsl846gUEt","user":{"login":"odbozhou","id":14222167,"node_id":"MDQ6VXNlcjE0MjIyMTY3","avatar_url":"https://avatars.githubusercontent.com/u/14222167?v=4","gravatar_id":"","url":"https://api.github.com/users/odbozhou","html_url":"https://github.com/odbozhou","followers_url":"https://api.github.com/users/odbozhou/followers","following_url":"https://api.github.com/users/odbozhou/following{/other_user}","gists_url":"https://api.github.com/users/odbozhou/gists{/gist_id}","starred_url":"https://api.github.com/users/odbozhou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/odbozhou/subscriptions","organizations_url":"https://api.github.com/users/odbozhou/orgs","repos_url":"https://api.github.com/users/odbozhou/repos","events_url":"https://api.github.com/users/odbozhou/events{/privacy}","received_events_url":"https://api.github.com/users/odbozhou/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-29T11:30:45Z","updated_at":"2021-11-29T11:30:45Z","author_association":"CONTRIBUTOR","body":"Please submit an issue to describe the problem first","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981549357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981573988","html_url":"https://github.com/apache/rocketmq/issues/2470#issuecomment-981573988","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2470","id":981573988,"node_id":"IC_kwDOBHrsl846gaFk","user":{"login":"Dr-wgy","id":24486917,"node_id":"MDQ6VXNlcjI0NDg2OTE3","avatar_url":"https://avatars.githubusercontent.com/u/24486917?v=4","gravatar_id":"","url":"https://api.github.com/users/Dr-wgy","html_url":"https://github.com/Dr-wgy","followers_url":"https://api.github.com/users/Dr-wgy/followers","following_url":"https://api.github.com/users/Dr-wgy/following{/other_user}","gists_url":"https://api.github.com/users/Dr-wgy/gists{/gist_id}","starred_url":"https://api.github.com/users/Dr-wgy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Dr-wgy/subscriptions","organizations_url":"https://api.github.com/users/Dr-wgy/orgs","repos_url":"https://api.github.com/users/Dr-wgy/repos","events_url":"https://api.github.com/users/Dr-wgy/events{/privacy}","received_events_url":"https://api.github.com/users/Dr-wgy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-29T12:08:05Z","updated_at":"2021-11-29T12:08:28Z","author_association":"NONE","body":"java.lang.IllegalStateException: org.apache.rocketmq.remoting.exception.RemotingSendRequestException: send request to <XXXXX> failed\r\n    at org.apache.rocketmq.client.impl.factory.MQClientInstance.updateTopicRouteInfoFromNameServer(MQClientInstance.java:679)\r\n    at org.apache.rocketmq.client.impl.factory.MQClientInstance.updateTopicRouteInfoFromNameServer(MQClientInstance.java:509)\r\n    at org.apache.rocketmq.client.impl.factory.MQClientInstance.updateTopicRouteInfoFromNameServer(MQClientInstance.java:358)\r\n    at org.apache.rocketmq.client.impl.factory.MQClientInstance$3.run(MQClientInstance.java:275)\r\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\r\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    at java.lang.Thread.run(Thread.java:834)\r\norg.apache.rocketmq.remoting.exception.RemotingSendRequestException: send request to <xxxxxxx> failed\r\n    at org.apache.rocketmq.remoting.netty.NettyRemotingAbstract.invokeSyncImpl(NettyRemotingAbstract.java:439)\r\n    at org.apache.rocketmq.remoting.netty.NettyRemotingClient.invokeSync(NettyRemotingClient.java:377)\r\n    at org.apache.rocketmq.client.impl.MQClientAPIImpl.getTopicRouteInfoFromNameServer(MQClientAPIImpl.java:1363)\r\n    at org.apache.rocketmq.client.impl.MQClientAPIImpl.getTopicRouteInfoFromNameServer(MQClientAPIImpl.java:1353)\r\n    at org.apache.rocketmq.client.impl.factory.MQClientInstance.updateTopicRouteInfoFromNameServer(MQClientInstance.java:622)\r\n    at org.apache.rocketmq.client.impl.factory.MQClientInstance.updateTopicRouteInfoFromNameServer(MQClientInstance.java:509)\r\n    at org.apache.rocketmq.client.impl.factory.MQClientInstance.updateTopicRouteInfoFromNameServer(MQClientInstance.java:358)\r\n    at org.apache.rocketmq.client.impl.factory.MQClientInstance$3.run(MQClientInstance.java:275)\r\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\r\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    at java.lang.Thread.run(Thread.java:834)\r\njava.nio.channels.ClosedChannelException: null\r\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.newClosedChannelException(AbstractChannel.java:957)\r\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.write(AbstractChannel.java:865)\r\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.write(DefaultChannelPipeline.java:1367)\r\n    at io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:715)\r\n    at io.netty.channel.AbstractChannelHandlerContext.invokeWrite(AbstractChannelHandlerContext.java:707)\r\n    at io.netty.channel.AbstractChannelHandlerContext$WriteTask.run(AbstractChannelHandlerContext.java:1087)\r\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\r\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)\r\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    at java.lang.Thread.run(Thread.java:834)\r\n\r\nversion 4.7.1","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981573988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981594808","html_url":"https://github.com/apache/rocketmq/pull/3483#issuecomment-981594808","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3483","id":981594808,"node_id":"IC_kwDOBHrsl846gfK4","user":{"login":"guyinyou","id":36399867,"node_id":"MDQ6VXNlcjM2Mzk5ODY3","avatar_url":"https://avatars.githubusercontent.com/u/36399867?v=4","gravatar_id":"","url":"https://api.github.com/users/guyinyou","html_url":"https://github.com/guyinyou","followers_url":"https://api.github.com/users/guyinyou/followers","following_url":"https://api.github.com/users/guyinyou/following{/other_user}","gists_url":"https://api.github.com/users/guyinyou/gists{/gist_id}","starred_url":"https://api.github.com/users/guyinyou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guyinyou/subscriptions","organizations_url":"https://api.github.com/users/guyinyou/orgs","repos_url":"https://api.github.com/users/guyinyou/repos","events_url":"https://api.github.com/users/guyinyou/events{/privacy}","received_events_url":"https://api.github.com/users/guyinyou/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-29T12:36:02Z","updated_at":"2021-11-29T12:36:02Z","author_association":"CONTRIBUTOR","body":"nice, LGTM!","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981594808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981595906","html_url":"https://github.com/apache/rocketmq/issues/3543#issuecomment-981595906","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3543","id":981595906,"node_id":"IC_kwDOBHrsl846gfcC","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-29T12:37:42Z","updated_at":"2021-11-29T12:37:42Z","author_association":"CONTRIBUTOR","body":"@mrhbj would you like submit a PR to fix it?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981595906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981598456","html_url":"https://github.com/apache/rocketmq/issues/3536#issuecomment-981598456","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3536","id":981598456,"node_id":"IC_kwDOBHrsl846ggD4","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-29T12:41:27Z","updated_at":"2021-11-29T12:41:27Z","author_association":"CONTRIBUTOR","body":"@iamqq23ue I agree with you that if you can strengthen the synchronization flush process, RocketMQ can run on a variety of centralized storage in a single replica mode. While reducing costs, also makes RocketMQ easier to operate and maintain. Looking forward to you more the opinion of this issue.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981598456/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981601921","html_url":"https://github.com/apache/rocketmq/issues/3543#issuecomment-981601921","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3543","id":981601921,"node_id":"IC_kwDOBHrsl846gg6B","user":{"login":"mrhbj","id":11306049,"node_id":"MDQ6VXNlcjExMzA2MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/11306049?v=4","gravatar_id":"","url":"https://api.github.com/users/mrhbj","html_url":"https://github.com/mrhbj","followers_url":"https://api.github.com/users/mrhbj/followers","following_url":"https://api.github.com/users/mrhbj/following{/other_user}","gists_url":"https://api.github.com/users/mrhbj/gists{/gist_id}","starred_url":"https://api.github.com/users/mrhbj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrhbj/subscriptions","organizations_url":"https://api.github.com/users/mrhbj/orgs","repos_url":"https://api.github.com/users/mrhbj/repos","events_url":"https://api.github.com/users/mrhbj/events{/privacy}","received_events_url":"https://api.github.com/users/mrhbj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-29T12:46:38Z","updated_at":"2021-11-29T12:46:38Z","author_association":"CONTRIBUTOR","body":"@duhenglucky yes,I have push a pr to fix it #3544","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981601921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981613623","html_url":"https://github.com/apache/rocketmq/issues/3545#issuecomment-981613623","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3545","id":981613623,"node_id":"IC_kwDOBHrsl846gjw3","user":{"login":"mrhbj","id":11306049,"node_id":"MDQ6VXNlcjExMzA2MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/11306049?v=4","gravatar_id":"","url":"https://api.github.com/users/mrhbj","html_url":"https://github.com/mrhbj","followers_url":"https://api.github.com/users/mrhbj/followers","following_url":"https://api.github.com/users/mrhbj/following{/other_user}","gists_url":"https://api.github.com/users/mrhbj/gists{/gist_id}","starred_url":"https://api.github.com/users/mrhbj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrhbj/subscriptions","organizations_url":"https://api.github.com/users/mrhbj/orgs","repos_url":"https://api.github.com/users/mrhbj/repos","events_url":"https://api.github.com/users/mrhbj/events{/privacy}","received_events_url":"https://api.github.com/users/mrhbj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-29T13:03:00Z","updated_at":"2021-11-29T13:03:00Z","author_association":"CONTRIBUTOR","body":"#3546 ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981613623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981662904","html_url":"https://github.com/apache/rocketmq/pull/3534#issuecomment-981662904","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3534","id":981662904,"node_id":"IC_kwDOBHrsl846gvy4","user":{"login":"XiaoyiPeng","id":8653312,"node_id":"MDQ6VXNlcjg2NTMzMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8653312?v=4","gravatar_id":"","url":"https://api.github.com/users/XiaoyiPeng","html_url":"https://github.com/XiaoyiPeng","followers_url":"https://api.github.com/users/XiaoyiPeng/followers","following_url":"https://api.github.com/users/XiaoyiPeng/following{/other_user}","gists_url":"https://api.github.com/users/XiaoyiPeng/gists{/gist_id}","starred_url":"https://api.github.com/users/XiaoyiPeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XiaoyiPeng/subscriptions","organizations_url":"https://api.github.com/users/XiaoyiPeng/orgs","repos_url":"https://api.github.com/users/XiaoyiPeng/repos","events_url":"https://api.github.com/users/XiaoyiPeng/events{/privacy}","received_events_url":"https://api.github.com/users/XiaoyiPeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-29T14:03:20Z","updated_at":"2021-11-29T14:25:45Z","author_association":"CONTRIBUTOR","body":"> In my opinion, setting loadFactor=1 is not a good way, the default value can satisfy most scenarios.\r\n\r\nThanks for your review.\r\n\r\nHere is using the style of the previous version code(like `org.apache.rocketmq.broker.filter.MessageEvaluationContext#keyValues()` ),as shown below:\r\n```java\r\npublic Map<String, Object> keyValues() {\r\n        if (properties == null) {\r\n            return null;\r\n        }\r\n\r\n        Map<String, Object> copy = new HashMap<String, Object>(properties.size(), 1);\r\n\r\n        for (String key : properties.keySet()) {\r\n            copy.put(key, properties.get(key));\r\n        }\r\n\r\n        return copy;\r\n    }\r\n```\r\n\r\nBecause we know exactly how many elements this `map` is going to put in(the map `size` will be small , the probability of **hash conflict** is small ), and we don't want  the `map` be expansioned(`resize`) in future, I think maybe we can do it like this.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/981662904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/982192145","html_url":"https://github.com/apache/rocketmq/issues/2633#issuecomment-982192145","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2633","id":982192145,"node_id":"IC_kwDOBHrsl846ixAR","user":{"login":"wangkaish","id":15884565,"node_id":"MDQ6VXNlcjE1ODg0NTY1","avatar_url":"https://avatars.githubusercontent.com/u/15884565?v=4","gravatar_id":"","url":"https://api.github.com/users/wangkaish","html_url":"https://github.com/wangkaish","followers_url":"https://api.github.com/users/wangkaish/followers","following_url":"https://api.github.com/users/wangkaish/following{/other_user}","gists_url":"https://api.github.com/users/wangkaish/gists{/gist_id}","starred_url":"https://api.github.com/users/wangkaish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangkaish/subscriptions","organizations_url":"https://api.github.com/users/wangkaish/orgs","repos_url":"https://api.github.com/users/wangkaish/repos","events_url":"https://api.github.com/users/wangkaish/events{/privacy}","received_events_url":"https://api.github.com/users/wangkaish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-30T01:22:11Z","updated_at":"2021-11-30T01:22:11Z","author_association":"CONTRIBUTOR","body":"> > @ShannonDing Can anyone merge this request?\r\n> \r\n> Please create a PR.\r\n\r\nHi, I created a PR #2634, but the code that Travis CI runs is not my code, can you help me find out why?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/982192145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/982244497","html_url":"https://github.com/apache/rocketmq/issues/3548#issuecomment-982244497","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3548","id":982244497,"node_id":"IC_kwDOBHrsl846i9yR","user":{"login":"ni-ze","id":31175234,"node_id":"MDQ6VXNlcjMxMTc1MjM0","avatar_url":"https://avatars.githubusercontent.com/u/31175234?v=4","gravatar_id":"","url":"https://api.github.com/users/ni-ze","html_url":"https://github.com/ni-ze","followers_url":"https://api.github.com/users/ni-ze/followers","following_url":"https://api.github.com/users/ni-ze/following{/other_user}","gists_url":"https://api.github.com/users/ni-ze/gists{/gist_id}","starred_url":"https://api.github.com/users/ni-ze/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ni-ze/subscriptions","organizations_url":"https://api.github.com/users/ni-ze/orgs","repos_url":"https://api.github.com/users/ni-ze/repos","events_url":"https://api.github.com/users/ni-ze/events{/privacy}","received_events_url":"https://api.github.com/users/ni-ze/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-30T03:16:26Z","updated_at":"2021-11-30T03:16:26Z","author_association":"CONTRIBUTOR","body":"Actually，It's  purpose is reserve which broker is send this time in topicpublishInfo. It will be compared, using brokerName ,when select MQ next time. so can not construct a new one.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/982244497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/982272045","html_url":"https://github.com/apache/rocketmq/pull/3544#issuecomment-982272045","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3544","id":982272045,"node_id":"IC_kwDOBHrsl846jEgt","user":{"login":"vongosling","id":635581,"node_id":"MDQ6VXNlcjYzNTU4MQ==","avatar_url":"https://avatars.githubusercontent.com/u/635581?v=4","gravatar_id":"","url":"https://api.github.com/users/vongosling","html_url":"https://github.com/vongosling","followers_url":"https://api.github.com/users/vongosling/followers","following_url":"https://api.github.com/users/vongosling/following{/other_user}","gists_url":"https://api.github.com/users/vongosling/gists{/gist_id}","starred_url":"https://api.github.com/users/vongosling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vongosling/subscriptions","organizations_url":"https://api.github.com/users/vongosling/orgs","repos_url":"https://api.github.com/users/vongosling/repos","events_url":"https://api.github.com/users/vongosling/events{/privacy}","received_events_url":"https://api.github.com/users/vongosling/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-30T04:22:17Z","updated_at":"2021-11-30T04:22:17Z","author_association":"MEMBER","body":"...","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/982272045/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/982314854","html_url":"https://github.com/apache/rocketmq/issues/3550#issuecomment-982314854","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3550","id":982314854,"node_id":"IC_kwDOBHrsl846jO9m","user":{"login":"fujian-zfj","id":10379042,"node_id":"MDQ6VXNlcjEwMzc5MDQy","avatar_url":"https://avatars.githubusercontent.com/u/10379042?v=4","gravatar_id":"","url":"https://api.github.com/users/fujian-zfj","html_url":"https://github.com/fujian-zfj","followers_url":"https://api.github.com/users/fujian-zfj/followers","following_url":"https://api.github.com/users/fujian-zfj/following{/other_user}","gists_url":"https://api.github.com/users/fujian-zfj/gists{/gist_id}","starred_url":"https://api.github.com/users/fujian-zfj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fujian-zfj/subscriptions","organizations_url":"https://api.github.com/users/fujian-zfj/orgs","repos_url":"https://api.github.com/users/fujian-zfj/repos","events_url":"https://api.github.com/users/fujian-zfj/events{/privacy}","received_events_url":"https://api.github.com/users/fujian-zfj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-30T06:03:50Z","updated_at":"2021-11-30T06:03:50Z","author_association":"CONTRIBUTOR","body":"I will resolve the problem, could you assign it to me?@ShannonDing","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/982314854/reactions","total_count":5,"+1":4,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/982324973","html_url":"https://github.com/apache/rocketmq/issues/2633#issuecomment-982324973","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2633","id":982324973,"node_id":"IC_kwDOBHrsl846jRbt","user":{"login":"wangkaish","id":15884565,"node_id":"MDQ6VXNlcjE1ODg0NTY1","avatar_url":"https://avatars.githubusercontent.com/u/15884565?v=4","gravatar_id":"","url":"https://api.github.com/users/wangkaish","html_url":"https://github.com/wangkaish","followers_url":"https://api.github.com/users/wangkaish/followers","following_url":"https://api.github.com/users/wangkaish/following{/other_user}","gists_url":"https://api.github.com/users/wangkaish/gists{/gist_id}","starred_url":"https://api.github.com/users/wangkaish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangkaish/subscriptions","organizations_url":"https://api.github.com/users/wangkaish/orgs","repos_url":"https://api.github.com/users/wangkaish/repos","events_url":"https://api.github.com/users/wangkaish/events{/privacy}","received_events_url":"https://api.github.com/users/wangkaish/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-30T06:23:16Z","updated_at":"2021-11-30T06:23:16Z","author_association":"CONTRIBUTOR","body":"> > @ShannonDing Can anyone merge this request?\r\n> \r\n> Please create a PR.\r\n\r\nHi, Travis CI check fixed.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/982324973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/982326157","html_url":"https://github.com/apache/rocketmq/issues/3550#issuecomment-982326157","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3550","id":982326157,"node_id":"IC_kwDOBHrsl846jRuN","user":{"login":"ShannonDing","id":16487356,"node_id":"MDQ6VXNlcjE2NDg3MzU2","avatar_url":"https://avatars.githubusercontent.com/u/16487356?v=4","gravatar_id":"","url":"https://api.github.com/users/ShannonDing","html_url":"https://github.com/ShannonDing","followers_url":"https://api.github.com/users/ShannonDing/followers","following_url":"https://api.github.com/users/ShannonDing/following{/other_user}","gists_url":"https://api.github.com/users/ShannonDing/gists{/gist_id}","starred_url":"https://api.github.com/users/ShannonDing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShannonDing/subscriptions","organizations_url":"https://api.github.com/users/ShannonDing/orgs","repos_url":"https://api.github.com/users/ShannonDing/repos","events_url":"https://api.github.com/users/ShannonDing/events{/privacy}","received_events_url":"https://api.github.com/users/ShannonDing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-30T06:25:51Z","updated_at":"2021-11-30T06:25:51Z","author_association":"MEMBER","body":"> I will resolve the problem, could you assign it to me?@ShannonDing\r\n\r\nWelcome, assigned.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/982326157/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/982329315","html_url":"https://github.com/apache/rocketmq/issues/3551#issuecomment-982329315","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3551","id":982329315,"node_id":"IC_kwDOBHrsl846jSfj","user":{"login":"lushilin","id":17663472,"node_id":"MDQ6VXNlcjE3NjYzNDcy","avatar_url":"https://avatars.githubusercontent.com/u/17663472?v=4","gravatar_id":"","url":"https://api.github.com/users/lushilin","html_url":"https://github.com/lushilin","followers_url":"https://api.github.com/users/lushilin/followers","following_url":"https://api.github.com/users/lushilin/following{/other_user}","gists_url":"https://api.github.com/users/lushilin/gists{/gist_id}","starred_url":"https://api.github.com/users/lushilin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lushilin/subscriptions","organizations_url":"https://api.github.com/users/lushilin/orgs","repos_url":"https://api.github.com/users/lushilin/repos","events_url":"https://api.github.com/users/lushilin/events{/privacy}","received_events_url":"https://api.github.com/users/lushilin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-30T06:33:28Z","updated_at":"2021-11-30T08:30:39Z","author_association":"CONTRIBUTOR","body":"PullRequest link: https://github.com/apache/rocketmq/pull/3554","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/982329315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/982333227","html_url":"https://github.com/apache/rocketmq/pull/3552#issuecomment-982333227","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3552","id":982333227,"node_id":"IC_kwDOBHrsl846jTcr","user":{"login":"Git-Yang","id":30995057,"node_id":"MDQ6VXNlcjMwOTk1MDU3","avatar_url":"https://avatars.githubusercontent.com/u/30995057?v=4","gravatar_id":"","url":"https://api.github.com/users/Git-Yang","html_url":"https://github.com/Git-Yang","followers_url":"https://api.github.com/users/Git-Yang/followers","following_url":"https://api.github.com/users/Git-Yang/following{/other_user}","gists_url":"https://api.github.com/users/Git-Yang/gists{/gist_id}","starred_url":"https://api.github.com/users/Git-Yang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Git-Yang/subscriptions","organizations_url":"https://api.github.com/users/Git-Yang/orgs","repos_url":"https://api.github.com/users/Git-Yang/repos","events_url":"https://api.github.com/users/Git-Yang/events{/privacy}","received_events_url":"https://api.github.com/users/Git-Yang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-30T06:42:40Z","updated_at":"2021-11-30T06:42:40Z","author_association":"MEMBER","body":"Can you switch the branch to the develop ?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/982333227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/982341118","html_url":"https://github.com/apache/rocketmq/pull/3552#issuecomment-982341118","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3552","id":982341118,"node_id":"IC_kwDOBHrsl846jVX-","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-30T07:00:26Z","updated_at":"2021-11-30T07:00:26Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/44625566/badge)](https://coveralls.io/builds/44625566)\n\nCoverage increased (+0.04%) to 54.418% when pulling **f69d4a89560a0b1fb88266180545fdb6aec1ba04 on lushilin:fix-clone-offset** into **a75c74234915f1673c635639e6a70e4c25dcd740 on apache:master**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/982341118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/982341193","html_url":"https://github.com/apache/rocketmq/pull/3552#issuecomment-982341193","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/3552","id":982341193,"node_id":"IC_kwDOBHrsl846jVZJ","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-30T07:00:36Z","updated_at":"2021-11-30T07:00:36Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3552?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#3552](https://codecov.io/gh/apache/rocketmq/pull/3552?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (f69d4a8) into [master](https://codecov.io/gh/apache/rocketmq/commit/df4e98855d461d85e9c4ed43add1b12a58bca7b6?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (df4e988) will **decrease** coverage by `0.05%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/3552/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/rocketmq/pull/3552?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #3552      +/-   ##\n============================================\n- Coverage     48.28%   48.22%   -0.06%     \n+ Complexity     4611     4600      -11     \n============================================\n  Files           555      555              \n  Lines         36756    36756              \n  Branches       4841     4841              \n============================================\n- Hits          17746    17724      -22     \n- Misses        16779    16803      +24     \n+ Partials       2231     2229       -2     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/3552?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [.../broker/subscription/SubscriptionGroupManager.java](https://codecov.io/gh/apache/rocketmq/pull/3552/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvc3Vic2NyaXB0aW9uL1N1YnNjcmlwdGlvbkdyb3VwTWFuYWdlci5qYXZh) | `54.11% <0.00%> (-16.48%)` | :arrow_down: |\n| [...ache/rocketmq/broker/topic/TopicConfigManager.java](https://codecov.io/gh/apache/rocketmq/pull/3552/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvdG9waWMvVG9waWNDb25maWdNYW5hZ2VyLmphdmE=) | `54.23% <0.00%> (-4.62%)` | :arrow_down: |\n| [...ache/rocketmq/common/stats/MomentStatsItemSet.java](https://codecov.io/gh/apache/rocketmq/pull/3552/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vc3RhdHMvTW9tZW50U3RhdHNJdGVtU2V0LmphdmE=) | `39.13% <0.00%> (-4.35%)` | :arrow_down: |\n| [...ava/org/apache/rocketmq/test/util/VerifyUtils.java](https://codecov.io/gh/apache/rocketmq/pull/3552/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-dGVzdC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcm9ja2V0bXEvdGVzdC91dGlsL1ZlcmlmeVV0aWxzLmphdmE=) | `46.26% <0.00%> (-2.99%)` | :arrow_down: |\n| [...ava/org/apache/rocketmq/filter/util/BitsArray.java](https://codecov.io/gh/apache/rocketmq/pull/3552/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZmlsdGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9maWx0ZXIvdXRpbC9CaXRzQXJyYXkuamF2YQ==) | `59.82% <0.00%> (-2.57%)` | :arrow_down: |\n| [...ache/rocketmq/store/AllocateMappedFileService.java](https://codecov.io/gh/apache/rocketmq/pull/3552/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0FsbG9jYXRlTWFwcGVkRmlsZVNlcnZpY2UuamF2YQ==) | `39.02% <0.00%> (-2.44%)` | :arrow_down: |\n| [...mq/client/impl/consumer/RebalanceLitePullImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3552/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9SZWJhbGFuY2VMaXRlUHVsbEltcGwuamF2YQ==) | `48.52% <0.00%> (-1.48%)` | :arrow_down: |\n| [...etmq/client/latency/LatencyFaultToleranceImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3552/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvbGF0ZW5jeS9MYXRlbmN5RmF1bHRUb2xlcmFuY2VJbXBsLmphdmE=) | `50.00% <0.00%> (-1.29%)` | :arrow_down: |\n| [...e/rocketmq/client/impl/consumer/RebalanceImpl.java](https://codecov.io/gh/apache/rocketmq/pull/3552/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-Y2xpZW50L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jbGllbnQvaW1wbC9jb25zdW1lci9SZWJhbGFuY2VJbXBsLmphdmE=) | `39.45% <0.00%> (-0.79%)` | :arrow_down: |\n| [...a/org/apache/rocketmq/store/StoreStatsService.java](https://codecov.io/gh/apache/rocketmq/pull/3552/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL1N0b3JlU3RhdHNTZXJ2aWNlLmphdmE=) | `29.50% <0.00%> (-0.66%)` | :arrow_down: |\n| ... and [8 more](https://codecov.io/gh/apache/rocketmq/pull/3552/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/3552?src=pr&el=continue&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/3552?src=pr&el=footer&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Last update [df4e988...f69d4a8](https://codecov.io/gh/apache/rocketmq/pull/3552?src=pr&el=lastupdated&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/982341193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]