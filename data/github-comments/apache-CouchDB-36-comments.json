[{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/353055304","html_url":"https://github.com/apache/couchdb/pull/1078#issuecomment-353055304","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1078","id":353055304,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MzA1NTMwNA==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-20T12:52:29Z","updated_at":"2017-12-20T12:52:29Z","author_association":"CONTRIBUTOR","body":"thanks @eiri, I already moved to condition clause. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/353055304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/353063170","html_url":"https://github.com/apache/couchdb/pull/1072#issuecomment-353063170","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1072","id":353063170,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MzA2MzE3MA==","user":{"login":"rnewson","id":47223,"node_id":"MDQ6VXNlcjQ3MjIz","avatar_url":"https://avatars.githubusercontent.com/u/47223?v=4","gravatar_id":"","url":"https://api.github.com/users/rnewson","html_url":"https://github.com/rnewson","followers_url":"https://api.github.com/users/rnewson/followers","following_url":"https://api.github.com/users/rnewson/following{/other_user}","gists_url":"https://api.github.com/users/rnewson/gists{/gist_id}","starred_url":"https://api.github.com/users/rnewson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rnewson/subscriptions","organizations_url":"https://api.github.com/users/rnewson/orgs","repos_url":"https://api.github.com/users/rnewson/repos","events_url":"https://api.github.com/users/rnewson/events{/privacy}","received_events_url":"https://api.github.com/users/rnewson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-20T13:29:23Z","updated_at":"2017-12-20T13:29:23Z","author_association":"MEMBER","body":"There's several places where we url encode and url decode, and we've changed where we do that over multiple versions of couchdb. I'm struggling to see if we can call unquote unilaterally here. Do we need to care about this across versions or is it sufficient to be internally consistent?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/353063170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/353087655","html_url":"https://github.com/apache/couchdb/issues/1076#issuecomment-353087655","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1076","id":353087655,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MzA4NzY1NQ==","user":{"login":"yzargari","id":15923037,"node_id":"MDQ6VXNlcjE1OTIzMDM3","avatar_url":"https://avatars.githubusercontent.com/u/15923037?v=4","gravatar_id":"","url":"https://api.github.com/users/yzargari","html_url":"https://github.com/yzargari","followers_url":"https://api.github.com/users/yzargari/followers","following_url":"https://api.github.com/users/yzargari/following{/other_user}","gists_url":"https://api.github.com/users/yzargari/gists{/gist_id}","starred_url":"https://api.github.com/users/yzargari/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yzargari/subscriptions","organizations_url":"https://api.github.com/users/yzargari/orgs","repos_url":"https://api.github.com/users/yzargari/repos","events_url":"https://api.github.com/users/yzargari/events{/privacy}","received_events_url":"https://api.github.com/users/yzargari/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-20T15:07:32Z","updated_at":"2017-12-20T15:07:32Z","author_association":"NONE","body":"The correct llink is https://nvd.nist.gov/vuln/detail/CVE-2017-1000385\r\nThanks @Jianru-Lin for pointing this out!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/353087655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/353158972","html_url":"https://github.com/apache/couchdb/pull/1067#issuecomment-353158972","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1067","id":353158972,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MzE1ODk3Mg==","user":{"login":"tonysun83","id":6991573,"node_id":"MDQ6VXNlcjY5OTE1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6991573?v=4","gravatar_id":"","url":"https://api.github.com/users/tonysun83","html_url":"https://github.com/tonysun83","followers_url":"https://api.github.com/users/tonysun83/followers","following_url":"https://api.github.com/users/tonysun83/following{/other_user}","gists_url":"https://api.github.com/users/tonysun83/gists{/gist_id}","starred_url":"https://api.github.com/users/tonysun83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonysun83/subscriptions","organizations_url":"https://api.github.com/users/tonysun83/orgs","repos_url":"https://api.github.com/users/tonysun83/repos","events_url":"https://api.github.com/users/tonysun83/events{/privacy}","received_events_url":"https://api.github.com/users/tonysun83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-20T19:25:06Z","updated_at":"2017-12-20T19:25:06Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/353158972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/353258178","html_url":"https://github.com/apache/couchdb/issues/1020#issuecomment-353258178","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1020","id":353258178,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MzI1ODE3OA==","user":{"login":"brendand","id":586075,"node_id":"MDQ6VXNlcjU4NjA3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/586075?v=4","gravatar_id":"","url":"https://api.github.com/users/brendand","html_url":"https://github.com/brendand","followers_url":"https://api.github.com/users/brendand/followers","following_url":"https://api.github.com/users/brendand/following{/other_user}","gists_url":"https://api.github.com/users/brendand/gists{/gist_id}","starred_url":"https://api.github.com/users/brendand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brendand/subscriptions","organizations_url":"https://api.github.com/users/brendand/orgs","repos_url":"https://api.github.com/users/brendand/repos","events_url":"https://api.github.com/users/brendand/events{/privacy}","received_events_url":"https://api.github.com/users/brendand/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-21T04:55:26Z","updated_at":"2017-12-21T04:55:26Z","author_association":"NONE","body":"Oh yes! It's there. Weird. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/353258178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/353275971","html_url":"https://github.com/apache/couchdb/issues/979#issuecomment-353275971","issue_url":"https://api.github.com/repos/apache/couchdb/issues/979","id":353275971,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MzI3NTk3MQ==","user":{"login":"cuddle-sujeet","id":16955604,"node_id":"MDQ6VXNlcjE2OTU1NjA0","avatar_url":"https://avatars.githubusercontent.com/u/16955604?v=4","gravatar_id":"","url":"https://api.github.com/users/cuddle-sujeet","html_url":"https://github.com/cuddle-sujeet","followers_url":"https://api.github.com/users/cuddle-sujeet/followers","following_url":"https://api.github.com/users/cuddle-sujeet/following{/other_user}","gists_url":"https://api.github.com/users/cuddle-sujeet/gists{/gist_id}","starred_url":"https://api.github.com/users/cuddle-sujeet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cuddle-sujeet/subscriptions","organizations_url":"https://api.github.com/users/cuddle-sujeet/orgs","repos_url":"https://api.github.com/users/cuddle-sujeet/repos","events_url":"https://api.github.com/users/cuddle-sujeet/events{/privacy}","received_events_url":"https://api.github.com/users/cuddle-sujeet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-21T07:13:58Z","updated_at":"2017-12-21T07:13:58Z","author_association":"NONE","body":"facing exactly the same issue with CouchDB 2.1.1. I can't create a new view.\r\n[info] 2017-12-21T07:00:42.159819Z couchdb@localhost <0.218.0> -------- couch_proc_manager <0.27465.2> died normal","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/353275971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/353309361","html_url":"https://github.com/apache/couchdb/issues/698#issuecomment-353309361","issue_url":"https://api.github.com/repos/apache/couchdb/issues/698","id":353309361,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MzMwOTM2MQ==","user":{"login":"callum-spartan","id":12034732,"node_id":"MDQ6VXNlcjEyMDM0NzMy","avatar_url":"https://avatars.githubusercontent.com/u/12034732?v=4","gravatar_id":"","url":"https://api.github.com/users/callum-spartan","html_url":"https://github.com/callum-spartan","followers_url":"https://api.github.com/users/callum-spartan/followers","following_url":"https://api.github.com/users/callum-spartan/following{/other_user}","gists_url":"https://api.github.com/users/callum-spartan/gists{/gist_id}","starred_url":"https://api.github.com/users/callum-spartan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/callum-spartan/subscriptions","organizations_url":"https://api.github.com/users/callum-spartan/orgs","repos_url":"https://api.github.com/users/callum-spartan/repos","events_url":"https://api.github.com/users/callum-spartan/events{/privacy}","received_events_url":"https://api.github.com/users/callum-spartan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-21T09:58:43Z","updated_at":"2017-12-21T09:58:43Z","author_association":"NONE","body":"Hi @wohali \r\n\r\nI have just experienced the same problem after updating a Windows Server 2012 machine. \r\nIt turned out that the Windows Remote Management service is also using port 5986.\r\n\r\nThanks.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/353309361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/353792492","html_url":"https://github.com/apache/couchdb/issues/979#issuecomment-353792492","issue_url":"https://api.github.com/repos/apache/couchdb/issues/979","id":353792492,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Mzc5MjQ5Mg==","user":{"login":"ThibaultJanBeyer","id":12467511,"node_id":"MDQ6VXNlcjEyNDY3NTEx","avatar_url":"https://avatars.githubusercontent.com/u/12467511?v=4","gravatar_id":"","url":"https://api.github.com/users/ThibaultJanBeyer","html_url":"https://github.com/ThibaultJanBeyer","followers_url":"https://api.github.com/users/ThibaultJanBeyer/followers","following_url":"https://api.github.com/users/ThibaultJanBeyer/following{/other_user}","gists_url":"https://api.github.com/users/ThibaultJanBeyer/gists{/gist_id}","starred_url":"https://api.github.com/users/ThibaultJanBeyer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ThibaultJanBeyer/subscriptions","organizations_url":"https://api.github.com/users/ThibaultJanBeyer/orgs","repos_url":"https://api.github.com/users/ThibaultJanBeyer/repos","events_url":"https://api.github.com/users/ThibaultJanBeyer/events{/privacy}","received_events_url":"https://api.github.com/users/ThibaultJanBeyer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-24T16:17:19Z","updated_at":"2017-12-24T16:22:36Z","author_association":"NONE","body":"This should be added to the documentation.\r\nPlease reopen this issue","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/353792492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/354730315","html_url":"https://github.com/apache/couchdb/issues/822#issuecomment-354730315","issue_url":"https://api.github.com/repos/apache/couchdb/issues/822","id":354730315,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDczMDMxNQ==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-02T09:43:07Z","updated_at":"2018-01-02T09:43:07Z","author_association":"CONTRIBUTOR","body":"welcome back @wohali ! I created PR #1082 for this issue. Would you please like to review them? Thanks","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/354730315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/354777146","html_url":"https://github.com/apache/couchdb/issues/1015#issuecomment-354777146","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1015","id":354777146,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDc3NzE0Ng==","user":{"login":"johs","id":48370,"node_id":"MDQ6VXNlcjQ4Mzcw","avatar_url":"https://avatars.githubusercontent.com/u/48370?v=4","gravatar_id":"","url":"https://api.github.com/users/johs","html_url":"https://github.com/johs","followers_url":"https://api.github.com/users/johs/followers","following_url":"https://api.github.com/users/johs/following{/other_user}","gists_url":"https://api.github.com/users/johs/gists{/gist_id}","starred_url":"https://api.github.com/users/johs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johs/subscriptions","organizations_url":"https://api.github.com/users/johs/orgs","repos_url":"https://api.github.com/users/johs/repos","events_url":"https://api.github.com/users/johs/events{/privacy}","received_events_url":"https://api.github.com/users/johs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-02T14:27:07Z","updated_at":"2018-01-02T14:27:07Z","author_association":"NONE","body":"Installing homebrew or macports requires installing/updating Xcode, so by the time a new user has figured out that this is the workaround to make CouchDB work on a Mac, I am afraid we have host her/him forever.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/354777146/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355292265","html_url":"https://github.com/apache/couchdb/pull/1089#issuecomment-355292265","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1089","id":355292265,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTI5MjI2NQ==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-04T14:15:01Z","updated_at":"2018-01-04T14:15:01Z","author_association":"MEMBER","body":"I don't think this helper belongs to fabric, it's pretty generic, so I'd say it fits better in [couch_util](https://github.com/apache/couchdb/blob/master/src/couch/src/couch_util.erl).\r\n\r\nAs a matter a fact a quite similar `couch_util:with_proc/4` function is already there, so it might be better to fuse them together, given that `defer` here is missing explicit timeout handeling.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355292265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355292415","html_url":"https://github.com/apache/couchdb/issues/869#issuecomment-355292415","issue_url":"https://api.github.com/repos/apache/couchdb/issues/869","id":355292415,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTI5MjQxNQ==","user":{"login":"penkeysuresh","id":4910654,"node_id":"MDQ6VXNlcjQ5MTA2NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/4910654?v=4","gravatar_id":"","url":"https://api.github.com/users/penkeysuresh","html_url":"https://github.com/penkeysuresh","followers_url":"https://api.github.com/users/penkeysuresh/followers","following_url":"https://api.github.com/users/penkeysuresh/following{/other_user}","gists_url":"https://api.github.com/users/penkeysuresh/gists{/gist_id}","starred_url":"https://api.github.com/users/penkeysuresh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/penkeysuresh/subscriptions","organizations_url":"https://api.github.com/users/penkeysuresh/orgs","repos_url":"https://api.github.com/users/penkeysuresh/repos","events_url":"https://api.github.com/users/penkeysuresh/events{/privacy}","received_events_url":"https://api.github.com/users/penkeysuresh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-04T14:15:38Z","updated_at":"2018-01-04T14:15:38Z","author_association":"NONE","body":"Just incase if anyone facing the same issue, I managed to bring back the CPU utilisation to normal levels by shutting down the couchdb instance that is running as service.\r\n\r\n          sudo service couchdb stop\r\n\r\n And later spawning the couchdb as a background process by using\r\n\r\n         sudo couchdb -b\r\n\r\nSomehow If the couchdb instance is again started as a background service, it eats up all the available CPU. Didn't get enough time to debug this (I'm guessing upstart script to be debugged).\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355292415/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355294971","html_url":"https://github.com/apache/couchdb/pull/1089#issuecomment-355294971","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1089","id":355294971,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTI5NDk3MQ==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-04T14:25:58Z","updated_at":"2018-01-04T14:25:58Z","author_association":"MEMBER","body":"thanks @eiri - good thought. I wasn't aware of `couch_util:with_proc/4` so I'll have a look at whether that can be used instead.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355294971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355295355","html_url":"https://github.com/apache/couchdb/issues/1088#issuecomment-355295355","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1088","id":355295355,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTI5NTM1NQ==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-04T14:27:35Z","updated_at":"2018-01-04T14:27:35Z","author_association":"MEMBER","body":"From the other reports I've seen on the dev mailing list, your couchdb instance has been hacked and someone has installed a bitcoin mining instance on your service. ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355295355/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355297308","html_url":"https://github.com/apache/couchdb/pull/1089#issuecomment-355297308","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1089","id":355297308,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTI5NzMwOA==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-04T14:35:23Z","updated_at":"2018-01-04T14:35:23Z","author_association":"MEMBER","body":"huh - I can't find any uses of `couch_util:with_proc/4` - is it redundant?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355297308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355302116","html_url":"https://github.com/apache/couchdb/pull/1089#issuecomment-355302116","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1089","id":355302116,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTMwMjExNg==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-04T14:53:38Z","updated_at":"2018-01-04T14:53:38Z","author_association":"MEMBER","body":"@willholley Used in [cassim](https://github.com/apache/couchdb-cassim/blob/master/src/cassim_metadata_cache.erl#L200) evidently. But can't disagree, it's not widly known, I discovered it only because I thought your helper better fits into couch_util and went to scan code there :)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355302116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355323789","html_url":"https://github.com/apache/couchdb/issues/1088#issuecomment-355323789","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1088","id":355323789,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTMyMzc4OQ==","user":{"login":"barbalex","id":669783,"node_id":"MDQ6VXNlcjY2OTc4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/669783?v=4","gravatar_id":"","url":"https://api.github.com/users/barbalex","html_url":"https://github.com/barbalex","followers_url":"https://api.github.com/users/barbalex/followers","following_url":"https://api.github.com/users/barbalex/following{/other_user}","gists_url":"https://api.github.com/users/barbalex/gists{/gist_id}","starred_url":"https://api.github.com/users/barbalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/barbalex/subscriptions","organizations_url":"https://api.github.com/users/barbalex/orgs","repos_url":"https://api.github.com/users/barbalex/repos","events_url":"https://api.github.com/users/barbalex/events{/privacy}","received_events_url":"https://api.github.com/users/barbalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-04T16:11:40Z","updated_at":"2018-01-04T16:11:40Z","author_association":"NONE","body":"@garrensmith Yep, you were right. These were crypto miners. I found a mailing list mail from Sinan Gabel explaining how to turn off the miner. Unfortunately I do not know how to link to Sinan's mail so here is the gist:\r\n\r\nI needed to remove a cron job created from user couchdb:\r\n\r\n```\r\nsudo -i\r\nsu couchdb\r\ncrontab -e\r\n\r\n// Then remove the line in the cron\r\n// save and reboot\r\n```\r\n\r\nSo thanks a lot to you and Sinan Gabel.\r\n\r\nOf course I will also have to rebuild my servers now.\r\n\r\nMy biggest concern now is: How to prevent this from happening again, as these couch instances were not in admin mode.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355323789/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355335004","html_url":"https://github.com/apache/couchdb/issues/1088#issuecomment-355335004","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1088","id":355335004,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTMzNTAwNA==","user":{"login":"garrensmith","id":179458,"node_id":"MDQ6VXNlcjE3OTQ1OA==","avatar_url":"https://avatars.githubusercontent.com/u/179458?v=4","gravatar_id":"","url":"https://api.github.com/users/garrensmith","html_url":"https://github.com/garrensmith","followers_url":"https://api.github.com/users/garrensmith/followers","following_url":"https://api.github.com/users/garrensmith/following{/other_user}","gists_url":"https://api.github.com/users/garrensmith/gists{/gist_id}","starred_url":"https://api.github.com/users/garrensmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garrensmith/subscriptions","organizations_url":"https://api.github.com/users/garrensmith/orgs","repos_url":"https://api.github.com/users/garrensmith/repos","events_url":"https://api.github.com/users/garrensmith/events{/privacy}","received_events_url":"https://api.github.com/users/garrensmith/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-04T16:50:41Z","updated_at":"2018-01-04T16:50:41Z","author_association":"MEMBER","body":"If you upgrade to the latest CouchDB you will be fine. We released Security advisories about this late last year.\n\nGet Outlook for iOS<https://aka.ms/o0ukef>\n________________________________\nFrom: Alexander Gabriel <notifications@github.com>\nSent: Thursday, January 4, 2018 6:11:42 PM\nTo: apache/couchdb\nCc: garren smith; Mention\nSubject: Re: [apache/couchdb] cpu usage 100% caused by silence and fs-manager (#1088)\n\n\nClosed #1088<https://github.com/apache/couchdb/issues/1088>.\n\nâ€”\nYou are receiving this because you were mentioned.\nReply to this email directly, view it on GitHub<https://github.com/apache/couchdb/issues/1088#event-1409824165>, or mute the thread<https://github.com/notifications/unsubscribe-auth/AAK9AovuXTP7F09XGuuWab6s341FPvtGks5tHPg-gaJpZM4RS4TQ>.\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355335004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355335706","html_url":"https://github.com/apache/couchdb/issues/1088#issuecomment-355335706","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1088","id":355335706,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTMzNTcwNg==","user":{"login":"barbalex","id":669783,"node_id":"MDQ6VXNlcjY2OTc4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/669783?v=4","gravatar_id":"","url":"https://api.github.com/users/barbalex","html_url":"https://github.com/barbalex","followers_url":"https://api.github.com/users/barbalex/followers","following_url":"https://api.github.com/users/barbalex/following{/other_user}","gists_url":"https://api.github.com/users/barbalex/gists{/gist_id}","starred_url":"https://api.github.com/users/barbalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/barbalex/subscriptions","organizations_url":"https://api.github.com/users/barbalex/orgs","repos_url":"https://api.github.com/users/barbalex/repos","events_url":"https://api.github.com/users/barbalex/events{/privacy}","received_events_url":"https://api.github.com/users/barbalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-04T16:53:08Z","updated_at":"2018-01-04T16:53:08Z","author_association":"NONE","body":"@garrensmith: thanks a lot for your great help!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355335706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355507311","html_url":"https://github.com/apache/couchdb/pull/1087#issuecomment-355507311","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1087","id":355507311,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTUwNzMxMQ==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-05T09:15:05Z","updated_at":"2018-01-05T09:15:05Z","author_association":"CONTRIBUTOR","body":"Thanks so much @rnewson for your review and comments. I added another clause for salt with commit d7218cc. Would you please review when you get time? ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355507311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355519530","html_url":"https://github.com/apache/couchdb/issues/969#issuecomment-355519530","issue_url":"https://api.github.com/repos/apache/couchdb/issues/969","id":355519530,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTUxOTUzMA==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-05T10:15:00Z","updated_at":"2018-01-05T10:15:00Z","author_association":"CONTRIBUTOR","body":"@dharders I have issued one PR  #1085 to address your issue. Currently, it is under review process.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355519530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355521276","html_url":"https://github.com/apache/couchdb/issues/969#issuecomment-355521276","issue_url":"https://api.github.com/repos/apache/couchdb/issues/969","id":355521276,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTUyMTI3Ng==","user":{"login":"dharders","id":16676192,"node_id":"MDQ6VXNlcjE2Njc2MTky","avatar_url":"https://avatars.githubusercontent.com/u/16676192?v=4","gravatar_id":"","url":"https://api.github.com/users/dharders","html_url":"https://github.com/dharders","followers_url":"https://api.github.com/users/dharders/followers","following_url":"https://api.github.com/users/dharders/following{/other_user}","gists_url":"https://api.github.com/users/dharders/gists{/gist_id}","starred_url":"https://api.github.com/users/dharders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dharders/subscriptions","organizations_url":"https://api.github.com/users/dharders/orgs","repos_url":"https://api.github.com/users/dharders/repos","events_url":"https://api.github.com/users/dharders/events{/privacy}","received_events_url":"https://api.github.com/users/dharders/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-05T10:23:41Z","updated_at":"2018-01-05T10:23:41Z","author_association":"NONE","body":"Awesome work! Thanks @jiangphcn ðŸ˜„ ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355521276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355553650","html_url":"https://github.com/apache/couchdb/issues/1083#issuecomment-355553650","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1083","id":355553650,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTU1MzY1MA==","user":{"login":"codemusings","id":13655994,"node_id":"MDQ6VXNlcjEzNjU1OTk0","avatar_url":"https://avatars.githubusercontent.com/u/13655994?v=4","gravatar_id":"","url":"https://api.github.com/users/codemusings","html_url":"https://github.com/codemusings","followers_url":"https://api.github.com/users/codemusings/followers","following_url":"https://api.github.com/users/codemusings/following{/other_user}","gists_url":"https://api.github.com/users/codemusings/gists{/gist_id}","starred_url":"https://api.github.com/users/codemusings/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codemusings/subscriptions","organizations_url":"https://api.github.com/users/codemusings/orgs","repos_url":"https://api.github.com/users/codemusings/repos","events_url":"https://api.github.com/users/codemusings/events{/privacy}","received_events_url":"https://api.github.com/users/codemusings/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-05T13:23:51Z","updated_at":"2018-01-05T13:23:51Z","author_association":"NONE","body":"I have a very similar problem with unit testing right now. I think it's the same underlying issue as well.\r\n\r\nI've configured my CouchDB as a single node instance and enbabled `couch_peruser`. My tests for adding a user and writing a document to the respective user database sometimes works and sometimes fails. There seems to be a delay between the `201 Created` for the user and being able to write to the user's database.\r\n\r\nIs this intentionally? What's the best practive here? Of course I could just skip the tests, but I also want to integrate this into an automated workflow where I need to be sure this works reliably.\r\n\r\nAre we supposed to make HEAD requests until we get a `200` for the user's database?\r\n\r\nI'm using CouchDB 2.1.1 on Ubuntu 16.04. (Erlang 18.1). I can reliably reproduce the issue by chaining the following curl commands:\r\n\r\n```bash\r\ncurl -u admin:secret -X PUT -H \"Content-Type: application/json\" -d '{\"name\":\"johndoe@mail.com\",\"password\":\"abc\",\"type\":\"user\",\"roles\":[]}' couchhost:5984/_users/org.couchdb.user:johndoe@mail.com \\\r\n    && curl -u admin:secret -H \"Content-Type: application/json\" -d '{\"field\":\"value\"}' couchhost:5984/userdb-6a6f686e646f65406d61696c2e636f6d\r\n```\r\n\r\nI can also reliably write to it afterwards using the second curl command again: \r\n\r\n```bash\r\ncurl -u admin:secret -H \"Content-Type: application/json\" -d '{\"field\":\"value\"}' couchhost:5984/userdb-6a6f686e646f65406d61696c2e636f6d\r\n```\r\n\r\n`6a6f686e646f65406d61696c2e636f6d` being the hex representation of `johndoe@mail.com`.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355553650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355656520","html_url":"https://github.com/apache/couchdb/issues/1093#issuecomment-355656520","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1093","id":355656520,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTY1NjUyMA==","user":{"login":"elistevens","id":138016,"node_id":"MDQ6VXNlcjEzODAxNg==","avatar_url":"https://avatars.githubusercontent.com/u/138016?v=4","gravatar_id":"","url":"https://api.github.com/users/elistevens","html_url":"https://github.com/elistevens","followers_url":"https://api.github.com/users/elistevens/followers","following_url":"https://api.github.com/users/elistevens/following{/other_user}","gists_url":"https://api.github.com/users/elistevens/gists{/gist_id}","starred_url":"https://api.github.com/users/elistevens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elistevens/subscriptions","organizations_url":"https://api.github.com/users/elistevens/orgs","repos_url":"https://api.github.com/users/elistevens/repos","events_url":"https://api.github.com/users/elistevens/events{/privacy}","received_events_url":"https://api.github.com/users/elistevens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-05T20:25:21Z","updated_at":"2018-01-05T20:25:21Z","author_association":"NONE","body":"As Reece noted, while we are currently using 1.6.1 in production, we're intending to move to 2.1.x as soon as our blocking issues (#745 and this, so far) are resolved. Please don't interpret anything here as a request for an updated 1.x version.  Cheers!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355656520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355684459","html_url":"https://github.com/apache/couchdb/pull/1087#issuecomment-355684459","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1087","id":355684459,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTY4NDQ1OQ==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-05T22:36:51Z","updated_at":"2018-01-05T22:36:51Z","author_association":"CONTRIBUTOR","body":"Thanks again, Bob.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355684459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355692668","html_url":"https://github.com/apache/couchdb/issues/745#issuecomment-355692668","issue_url":"https://api.github.com/repos/apache/couchdb/issues/745","id":355692668,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTY5MjY2OA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-05T23:24:54Z","updated_at":"2018-01-05T23:24:54Z","author_association":"CONTRIBUTOR","body":"@wohali thanks for that test!  I'll take a look at it when I get a chance. The `kaboom` thing is interesting, wonder if that's something we saw before or something new in relation to this bug. That comes from getting all the open revisions of a document. Definitely a  good data point to have.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355692668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355699641","html_url":"https://github.com/apache/couchdb/issues/1051#issuecomment-355699641","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1051","id":355699641,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTY5OTY0MQ==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-06T00:14:57Z","updated_at":"2018-01-06T00:14:57Z","author_association":"CONTRIBUTOR","body":"PR #1087 was merged to address this issue.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/355699641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/356041332","html_url":"https://github.com/apache/couchdb/pull/1098#issuecomment-356041332","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1098","id":356041332,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjA0MTMzMg==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-08T17:50:39Z","updated_at":"2018-01-08T17:50:39Z","author_association":"MEMBER","body":"The diff's to chttpd_security_tests.erl and couch_password.erl seem unrelated to this PR. Was that an accidental inclusion?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/356041332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/356057982","html_url":"https://github.com/apache/couchdb/pull/1098#issuecomment-356057982","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1098","id":356057982,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjA1Nzk4Mg==","user":{"login":"willholley","id":97787,"node_id":"MDQ6VXNlcjk3Nzg3","avatar_url":"https://avatars.githubusercontent.com/u/97787?v=4","gravatar_id":"","url":"https://api.github.com/users/willholley","html_url":"https://github.com/willholley","followers_url":"https://api.github.com/users/willholley/followers","following_url":"https://api.github.com/users/willholley/following{/other_user}","gists_url":"https://api.github.com/users/willholley/gists{/gist_id}","starred_url":"https://api.github.com/users/willholley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willholley/subscriptions","organizations_url":"https://api.github.com/users/willholley/orgs","repos_url":"https://api.github.com/users/willholley/repos","events_url":"https://api.github.com/users/willholley/events{/privacy}","received_events_url":"https://api.github.com/users/willholley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-08T18:49:46Z","updated_at":"2018-01-08T18:49:54Z","author_association":"MEMBER","body":"@davisp oops - rebased to fix\r\n  ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/356057982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/356201039","html_url":"https://github.com/apache/couchdb/pull/1098#issuecomment-356201039","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1098","id":356201039,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjIwMTAzOQ==","user":{"login":"tonysun83","id":6991573,"node_id":"MDQ6VXNlcjY5OTE1NzM=","avatar_url":"https://avatars.githubusercontent.com/u/6991573?v=4","gravatar_id":"","url":"https://api.github.com/users/tonysun83","html_url":"https://github.com/tonysun83","followers_url":"https://api.github.com/users/tonysun83/followers","following_url":"https://api.github.com/users/tonysun83/following{/other_user}","gists_url":"https://api.github.com/users/tonysun83/gists{/gist_id}","starred_url":"https://api.github.com/users/tonysun83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonysun83/subscriptions","organizations_url":"https://api.github.com/users/tonysun83/orgs","repos_url":"https://api.github.com/users/tonysun83/repos","events_url":"https://api.github.com/users/tonysun83/events{/privacy}","received_events_url":"https://api.github.com/users/tonysun83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-09T07:23:44Z","updated_at":"2018-01-09T07:23:44Z","author_association":"CONTRIBUTOR","body":"+1, change looks good\r\n\r\nI ran a full regression with text index tests and the new test all passed. I got some errors with the users db tests, but that's probably related to my environment and not related to text indexes.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/356201039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/356761783","html_url":"https://github.com/apache/couchdb/issues/1102#issuecomment-356761783","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1102","id":356761783,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Njc2MTc4Mw==","user":{"login":"orolle","id":1541570,"node_id":"MDQ6VXNlcjE1NDE1NzA=","avatar_url":"https://avatars.githubusercontent.com/u/1541570?v=4","gravatar_id":"","url":"https://api.github.com/users/orolle","html_url":"https://github.com/orolle","followers_url":"https://api.github.com/users/orolle/followers","following_url":"https://api.github.com/users/orolle/following{/other_user}","gists_url":"https://api.github.com/users/orolle/gists{/gist_id}","starred_url":"https://api.github.com/users/orolle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orolle/subscriptions","organizations_url":"https://api.github.com/users/orolle/orgs","repos_url":"https://api.github.com/users/orolle/repos","events_url":"https://api.github.com/users/orolle/events{/privacy}","received_events_url":"https://api.github.com/users/orolle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-10T22:40:57Z","updated_at":"2018-01-10T22:40:57Z","author_association":"NONE","body":"Fix: remove `^` at version of babel packages from `src/fauxton/package.json `. In that way npm must match the babel versions exactly. `^1.2.3` means to match latest version compatible to version `1.2.3`. Removing `^` will match version `1.2.3` exactly.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/356761783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357220720","html_url":"https://github.com/apache/couchdb/pull/1104#issuecomment-357220720","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1104","id":357220720,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzIyMDcyMA==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T11:58:47Z","updated_at":"2018-01-12T11:58:47Z","author_association":"MEMBER","body":"Theoretically you can return `config` from `setup/0` and then just use `fun meck:unload/1` as a teardown function, to avoid extra wrap, but in my opinion your version conveys  the idea cleaner.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357220720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357322484","html_url":"https://github.com/apache/couchdb/pull/1082#issuecomment-357322484","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1082","id":357322484,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzMyMjQ4NA==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T18:51:16Z","updated_at":"2018-01-12T18:51:16Z","author_association":"CONTRIBUTOR","body":"This PR introduces new APIs. Therefore libraries would need an update. @ricellis could you take a look?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357322484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357327458","html_url":"https://github.com/apache/couchdb/pull/1085#issuecomment-357327458","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1085","id":357327458,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzMyNzQ1OA==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T19:10:37Z","updated_at":"2018-01-12T19:10:37Z","author_association":"MEMBER","body":"Are `update_seq` and `offset` even make sense with `keys` in sharded environment? We probably should consider just changing documentation instead of adding network overhead for ~useless attributes.\r\n\r\nPing @davisp on a competent opinion.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357327458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357333260","html_url":"https://github.com/apache/couchdb/issues/1088#issuecomment-357333260","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1088","id":357333260,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzMzMzI2MA==","user":{"login":"paulocoghi","id":378397,"node_id":"MDQ6VXNlcjM3ODM5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/378397?v=4","gravatar_id":"","url":"https://api.github.com/users/paulocoghi","html_url":"https://github.com/paulocoghi","followers_url":"https://api.github.com/users/paulocoghi/followers","following_url":"https://api.github.com/users/paulocoghi/following{/other_user}","gists_url":"https://api.github.com/users/paulocoghi/gists{/gist_id}","starred_url":"https://api.github.com/users/paulocoghi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paulocoghi/subscriptions","organizations_url":"https://api.github.com/users/paulocoghi/orgs","repos_url":"https://api.github.com/users/paulocoghi/repos","events_url":"https://api.github.com/users/paulocoghi/events{/privacy}","received_events_url":"https://api.github.com/users/paulocoghi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T19:34:27Z","updated_at":"2018-01-12T19:36:08Z","author_association":"NONE","body":"I was also hit by this invasion. I am using CouchDB 1.6.1 from stable PPA https://launchpad.net/~couchdb/+archive/ubuntu/stable\r\n\r\nHow can I update it to solve this security vulnerability, since there are no updates in the PPA? Or there is an available workaround?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357333260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357338886","html_url":"https://github.com/apache/couchdb/issues/1088#issuecomment-357338886","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1088","id":357338886,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzMzODg4Ng==","user":{"login":"paulocoghi","id":378397,"node_id":"MDQ6VXNlcjM3ODM5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/378397?v=4","gravatar_id":"","url":"https://api.github.com/users/paulocoghi","html_url":"https://github.com/paulocoghi","followers_url":"https://api.github.com/users/paulocoghi/followers","following_url":"https://api.github.com/users/paulocoghi/following{/other_user}","gists_url":"https://api.github.com/users/paulocoghi/gists{/gist_id}","starred_url":"https://api.github.com/users/paulocoghi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paulocoghi/subscriptions","organizations_url":"https://api.github.com/users/paulocoghi/orgs","repos_url":"https://api.github.com/users/paulocoghi/repos","events_url":"https://api.github.com/users/paulocoghi/events{/privacy}","received_events_url":"https://api.github.com/users/paulocoghi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T19:58:11Z","updated_at":"2018-01-12T19:58:11Z","author_association":"NONE","body":"Found a solution: https://github.com/apache/couchdb/issues/787","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357338886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357348302","html_url":"https://github.com/apache/couchdb/issues/1088#issuecomment-357348302","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1088","id":357348302,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzM0ODMwMg==","user":{"login":"barbalex","id":669783,"node_id":"MDQ6VXNlcjY2OTc4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/669783?v=4","gravatar_id":"","url":"https://api.github.com/users/barbalex","html_url":"https://github.com/barbalex","followers_url":"https://api.github.com/users/barbalex/followers","following_url":"https://api.github.com/users/barbalex/following{/other_user}","gists_url":"https://api.github.com/users/barbalex/gists{/gist_id}","starred_url":"https://api.github.com/users/barbalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/barbalex/subscriptions","organizations_url":"https://api.github.com/users/barbalex/orgs","repos_url":"https://api.github.com/users/barbalex/repos","events_url":"https://api.github.com/users/barbalex/events{/privacy}","received_events_url":"https://api.github.com/users/barbalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T20:41:26Z","updated_at":"2018-01-12T20:41:26Z","author_association":"NONE","body":"I would not update. Eliminating the cron job is not enough. In my case the\nproblem reappeared inside minutes.\n\nI rebuilt the servers with v2.1.1, then synced my DB. Don't know if syncing\ncould even be risky...\n\nBut so far it works.\n\nvom Handy\n\nAm 12.01.2018 9:23 nachm. schrieb \"Paulo Coghi\" <notifications@github.com>:\n\n> I was also hit by this invasion. I am using CouchDB 1.6.1 from stable PPA\n> https://launchpad.net/~couchdb/+archive/ubuntu/stable\n> <https://launchpad.net/%7Ecouchdb/+archive/ubuntu/stable>\n>\n> How can I update it to solve this security vulnerability, since there are\n> no updates in the PPA? Or there is an available workaround?\n>\n> â€”\n> You are receiving this because you modified the open/close state.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/couchdb/issues/1088#issuecomment-357333260>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAo4V_GHG68fBQ-qEIwg8ztIjHQVSJ9Bks5tJ74DgaJpZM4RS4TQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357348302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357352176","html_url":"https://github.com/apache/couchdb/issues/1088#issuecomment-357352176","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1088","id":357352176,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzM1MjE3Ng==","user":{"login":"paulocoghi","id":378397,"node_id":"MDQ6VXNlcjM3ODM5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/378397?v=4","gravatar_id":"","url":"https://api.github.com/users/paulocoghi","html_url":"https://github.com/paulocoghi","followers_url":"https://api.github.com/users/paulocoghi/followers","following_url":"https://api.github.com/users/paulocoghi/following{/other_user}","gists_url":"https://api.github.com/users/paulocoghi/gists{/gist_id}","starred_url":"https://api.github.com/users/paulocoghi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paulocoghi/subscriptions","organizations_url":"https://api.github.com/users/paulocoghi/orgs","repos_url":"https://api.github.com/users/paulocoghi/repos","events_url":"https://api.github.com/users/paulocoghi/events{/privacy}","received_events_url":"https://api.github.com/users/paulocoghi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T20:58:37Z","updated_at":"2018-01-12T20:58:37Z","author_association":"NONE","body":"> In my case the problem reappeared inside minutes.\r\n\r\n@barbalex , this happened in which version?\r\n\r\nI upgraded to version 2.1.1 after using 1.6.1 and experiencing this problem. I used `couchup` to migrate data from the old version to the new one.\r\n\r\nSo far, everything working perfectly. The only detail was that `couchup` did not migrate the users, and I had to re-create them manually.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357352176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357352752","html_url":"https://github.com/apache/couchdb/issues/1088#issuecomment-357352752","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1088","id":357352752,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzM1Mjc1Mg==","user":{"login":"paulocoghi","id":378397,"node_id":"MDQ6VXNlcjM3ODM5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/378397?v=4","gravatar_id":"","url":"https://api.github.com/users/paulocoghi","html_url":"https://github.com/paulocoghi","followers_url":"https://api.github.com/users/paulocoghi/followers","following_url":"https://api.github.com/users/paulocoghi/following{/other_user}","gists_url":"https://api.github.com/users/paulocoghi/gists{/gist_id}","starred_url":"https://api.github.com/users/paulocoghi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paulocoghi/subscriptions","organizations_url":"https://api.github.com/users/paulocoghi/orgs","repos_url":"https://api.github.com/users/paulocoghi/repos","events_url":"https://api.github.com/users/paulocoghi/events{/privacy}","received_events_url":"https://api.github.com/users/paulocoghi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T21:01:07Z","updated_at":"2018-01-12T21:01:07Z","author_association":"NONE","body":"@barbalex , just removing the cron jobs is certainly not enough since the vulnerability remains open if you do not upgrade.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357352752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357358054","html_url":"https://github.com/apache/couchdb/issues/1088#issuecomment-357358054","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1088","id":357358054,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzM1ODA1NA==","user":{"login":"barbalex","id":669783,"node_id":"MDQ6VXNlcjY2OTc4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/669783?v=4","gravatar_id":"","url":"https://api.github.com/users/barbalex","html_url":"https://github.com/barbalex","followers_url":"https://api.github.com/users/barbalex/followers","following_url":"https://api.github.com/users/barbalex/following{/other_user}","gists_url":"https://api.github.com/users/barbalex/gists{/gist_id}","starred_url":"https://api.github.com/users/barbalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/barbalex/subscriptions","organizations_url":"https://api.github.com/users/barbalex/orgs","repos_url":"https://api.github.com/users/barbalex/repos","events_url":"https://api.github.com/users/barbalex/events{/privacy}","received_events_url":"https://api.github.com/users/barbalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T21:24:08Z","updated_at":"2018-01-12T21:24:08Z","author_association":"NONE","body":"@paulocoghi \r\n\r\nThis was during the short period before I rebuilt the servers. So still with version 1.6.1.\r\n\r\nAnd you may be better off not migrating the users: The \"bad guys\" added a few users. And also a few db's (with only one document each).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357358054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357383995","html_url":"https://github.com/apache/couchdb/pull/1085#issuecomment-357383995","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1085","id":357383995,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzM4Mzk5NQ==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-12T23:37:10Z","updated_at":"2018-01-12T23:37:10Z","author_association":"CONTRIBUTOR","body":"@eiri I read the following from issue #969 \r\n```\r\nNoticed this bug when putting together a PR to add a feature to PouchDB (see PouchDB issue 6230, i.e. missing update_seq option in allDocs API)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357383995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357388736","html_url":"https://github.com/apache/couchdb/issues/822#issuecomment-357388736","issue_url":"https://api.github.com/repos/apache/couchdb/issues/822","id":357388736,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzM4ODczNg==","user":{"login":"iilyak","id":9804420,"node_id":"MDQ6VXNlcjk4MDQ0MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9804420?v=4","gravatar_id":"","url":"https://api.github.com/users/iilyak","html_url":"https://github.com/iilyak","followers_url":"https://api.github.com/users/iilyak/followers","following_url":"https://api.github.com/users/iilyak/following{/other_user}","gists_url":"https://api.github.com/users/iilyak/gists{/gist_id}","starred_url":"https://api.github.com/users/iilyak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iilyak/subscriptions","organizations_url":"https://api.github.com/users/iilyak/orgs","repos_url":"https://api.github.com/users/iilyak/repos","events_url":"https://api.github.com/users/iilyak/events{/privacy}","received_events_url":"https://api.github.com/users/iilyak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-13T00:06:33Z","updated_at":"2018-01-13T00:06:33Z","author_association":"CONTRIBUTOR","body":"My 2Â¢\r\n\r\nAccessing all databases on the server is expensive operation. Since get_db_info goes through `couch_server` process. For clusters with big number of databases opening all of them at the same time would cause a series of evictions from `couch_lru`. This in its turn causes lots of update_lru messages to couch_server. \r\n\r\nWe could try to modify `couch_db:get_db_info` to open database in read only mode without using `couch_server`. However with this approach we wouldn't be able to return the same information as we currently do. Therefore we would have to introduce new endpoint. Which is a good thing since it would make it expressible in OpenAPI spec which we can benefit from latter on. \r\n\r\nFollowing keys are problematic:\r\n  * update_seq\r\n  * purge_seq\r\n  * compact_running\r\n  * instance_start_time\r\n  * committed_update_seq\r\n  * compacted_seq\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357388736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357480840","html_url":"https://github.com/apache/couchdb/issues/1108#issuecomment-357480840","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1108","id":357480840,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzQ4MDg0MA==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-14T01:17:14Z","updated_at":"2018-01-14T01:17:14Z","author_association":"MEMBER","body":"I think there's an interesting sidebar discussion to be had about whether a node that is configured to use service discovery should surface the current status of that service discovery in e.g. the `_up` endpoint. It's not uncommon in the Kubernetes case for DNS records to take several seconds to populate, and I think you would not want the database Pods in an initial cluster build to report that they're ready for duty until they've learned of one another's existence.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357480840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357483100","html_url":"https://github.com/apache/couchdb/pull/1095#issuecomment-357483100","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1095","id":357483100,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzQ4MzEwMA==","user":{"login":"kocolosk","id":16679,"node_id":"MDQ6VXNlcjE2Njc5","avatar_url":"https://avatars.githubusercontent.com/u/16679?v=4","gravatar_id":"","url":"https://api.github.com/users/kocolosk","html_url":"https://github.com/kocolosk","followers_url":"https://api.github.com/users/kocolosk/followers","following_url":"https://api.github.com/users/kocolosk/following{/other_user}","gists_url":"https://api.github.com/users/kocolosk/gists{/gist_id}","starred_url":"https://api.github.com/users/kocolosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kocolosk/subscriptions","organizations_url":"https://api.github.com/users/kocolosk/orgs","repos_url":"https://api.github.com/users/kocolosk/repos","events_url":"https://api.github.com/users/kocolosk/events{/privacy}","received_events_url":"https://api.github.com/users/kocolosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-14T02:10:30Z","updated_at":"2018-01-14T02:10:30Z","author_association":"MEMBER","body":"Definitely useful, I had wanted to do this a few months back but never got around to it. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357483100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357640724","html_url":"https://github.com/apache/couchdb/issues/1100#issuecomment-357640724","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1100","id":357640724,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzY0MDcyNA==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-15T10:21:05Z","updated_at":"2018-01-15T10:21:05Z","author_association":"CONTRIBUTOR","body":"working on this using PR https://github.com/apache/couchdb/pull/1110","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357640724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357664315","html_url":"https://github.com/apache/couchdb/issues/1073#issuecomment-357664315","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1073","id":357664315,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzY2NDMxNQ==","user":{"login":"sergey-safarov","id":2562241,"node_id":"MDQ6VXNlcjI1NjIyNDE=","avatar_url":"https://avatars.githubusercontent.com/u/2562241?v=4","gravatar_id":"","url":"https://api.github.com/users/sergey-safarov","html_url":"https://github.com/sergey-safarov","followers_url":"https://api.github.com/users/sergey-safarov/followers","following_url":"https://api.github.com/users/sergey-safarov/following{/other_user}","gists_url":"https://api.github.com/users/sergey-safarov/gists{/gist_id}","starred_url":"https://api.github.com/users/sergey-safarov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergey-safarov/subscriptions","organizations_url":"https://api.github.com/users/sergey-safarov/orgs","repos_url":"https://api.github.com/users/sergey-safarov/repos","events_url":"https://api.github.com/users/sergey-safarov/events{/privacy}","received_events_url":"https://api.github.com/users/sergey-safarov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-15T12:04:19Z","updated_at":"2018-01-15T12:04:19Z","author_association":"NONE","body":"I have same issue.\r\nInstalled couchdb two node cluster from docker latest image.\r\nI have this issue when replicated 1500 databases (25Gb total size) from other `bigcouch` cluster.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357664315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357691338","html_url":"https://github.com/apache/couchdb/pull/1082#issuecomment-357691338","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1082","id":357691338,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzY5MTMzOA==","user":{"login":"ricellis","id":10698320,"node_id":"MDQ6VXNlcjEwNjk4MzIw","avatar_url":"https://avatars.githubusercontent.com/u/10698320?v=4","gravatar_id":"","url":"https://api.github.com/users/ricellis","html_url":"https://github.com/ricellis","followers_url":"https://api.github.com/users/ricellis/followers","following_url":"https://api.github.com/users/ricellis/following{/other_user}","gists_url":"https://api.github.com/users/ricellis/gists{/gist_id}","starred_url":"https://api.github.com/users/ricellis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ricellis/subscriptions","organizations_url":"https://api.github.com/users/ricellis/orgs","repos_url":"https://api.github.com/users/ricellis/repos","events_url":"https://api.github.com/users/ricellis/events{/privacy}","received_events_url":"https://api.github.com/users/ricellis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-15T14:03:40Z","updated_at":"2018-01-15T14:03:40Z","author_association":"NONE","body":"I wonder if accepting `keys` should only be part of a `POST` body. I think this has two advantages:\r\ni) It avoids the URL length limitations that we've seen previously with including long lists of keys in a URL.\r\nii) It also avoids URL encoding work for the caller (although admittedly that is less of an issue with a DB name than with, for example, view keys).\r\n\r\nThis would be consistent with `_all_docs` and `_view` which allow `POST` of a list of keys. Whilst those endpoints also support `keys` as a query parameter I think that is only for backwards compatibility - so for a new API accepting `POST` only for `keys` could make the most sense.\r\n\r\nIMO one of the pain points in using the CouchDB API in the past has been changes in the response schema for the same endpoint (based on e.g. a query parameter). It seems like this is proposing to introduce yet another example of this similar problem:\r\n`_all_dbs` -> `[\"db1\", \"db2\"]` (list of strings)\r\n`_all_dbs?info=true` -> [{\"key\": \"db1\", \"info\": {...}}, {\"key\": \"db2\", \"info\": {...}}]` (list of objects)\r\n\r\nI think using a new endpoint e.g. `_all_dbs_info` (or whatever) makes a more usable API because it can be made clear that the returned schema is different than that used for `_all_dbs`. Further, given that it appears this operation isn't even going to be allowed for cases where there are more than 100 DBs, then something like `_dbs_info` makes more sense as a name than `_all_dbs` (since it isn't necessarily going to be all the DBs).\r\n\r\nCombining the above with the concern that this should probably be limited to avoid retrieving metadata for all the DBs at once under most circumstances then perhaps a more intuitive API would be one that only accepts a list of keys e.g.:\r\n\r\n`POST` `_dbs_info` `{\"keys\" : [\"dbName1\", \"dbName2\"]}`","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357691338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357698399","html_url":"https://github.com/apache/couchdb/pull/1082#issuecomment-357698399","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1082","id":357698399,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzY5ODM5OQ==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-15T14:30:55Z","updated_at":"2018-01-15T14:30:55Z","author_association":"CONTRIBUTOR","body":"@ricellis good suggestions from API's point of view.\r\n```\r\nPOST _dbs_info {\"keys\" : [\"dbName1\", \"dbName2\"]}\r\n```\r\nPing @davisp @rnewson @mikerhodes for further comments.\r\n\r\nIf not, I can continue to change to provide above new API :-)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357698399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357701670","html_url":"https://github.com/apache/couchdb/pull/1068#issuecomment-357701670","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1068","id":357701670,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzcwMTY3MA==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-15T14:43:07Z","updated_at":"2018-01-15T14:43:07Z","author_association":"CONTRIBUTOR","body":"@janl Hey Jan, when you get time, can you please check whether you have comments on this? Thanks again.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357701670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357717030","html_url":"https://github.com/apache/couchdb/pull/1111#issuecomment-357717030","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1111","id":357717030,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzcxNzAzMA==","user":{"login":"eiri","id":70542,"node_id":"MDQ6VXNlcjcwNTQy","avatar_url":"https://avatars.githubusercontent.com/u/70542?v=4","gravatar_id":"","url":"https://api.github.com/users/eiri","html_url":"https://github.com/eiri","followers_url":"https://api.github.com/users/eiri/followers","following_url":"https://api.github.com/users/eiri/following{/other_user}","gists_url":"https://api.github.com/users/eiri/gists{/gist_id}","starred_url":"https://api.github.com/users/eiri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiri/subscriptions","organizations_url":"https://api.github.com/users/eiri/orgs","repos_url":"https://api.github.com/users/eiri/repos","events_url":"https://api.github.com/users/eiri/events{/privacy}","received_events_url":"https://api.github.com/users/eiri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-15T15:39:04Z","updated_at":"2018-01-15T15:39:04Z","author_association":"MEMBER","body":"Noticed those invalid tests in #1068 ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357717030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357720916","html_url":"https://github.com/apache/couchdb/pull/1111#issuecomment-357720916","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1111","id":357720916,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzcyMDkxNg==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-15T15:52:55Z","updated_at":"2018-01-15T15:52:55Z","author_association":"CONTRIBUTOR","body":"Nice find!\r\n\r\nActually this fix seems to discover and runs more tests:\r\n\r\nmaster:\r\n```\r\n======================== EUnit ========================\r\nmodule 'couch_peruser_app'\r\nmodule 'couch_peruser_sup'\r\nmodule 'couch_peruser_test'\r\n  couch_peruser test\r\nApplication crypto was left running!\r\n    couch_peruser_test:165: should_create_anon_user_db_with_default...[0.002 s] ok\r\n    couch_peruser_test:166: should_create_anon_user_db_with_default...ok\r\n    couch_peruser_test:155: should_create_user_db_with_default...[0.002 s] ok\r\n    couch_peruser_test:156: should_create_user_db_with_default...ok\r\n    couch_peruser_test:178: should_create_user_db_with_q4...[0.002 s] ok\r\n    couch_peruser_test:179: should_create_user_db_with_q4...ok\r\n    couch_peruser_test:190: should_create_anon_user_db_with_q4...[0.002 s] ok\r\n    couch_peruser_test:191: should_create_anon_user_db_with_q4...ok\r\n    couch_peruser_test:202: should_not_delete_user_db...[0.005 s] ok\r\n    couch_peruser_test:213: should_delete_user_db...[0.003 s] ok\r\n    couch_peruser_test:242: should_reflect_config_changes...[0.004 s] ok\r\n    couch_peruser_test:249: should_add_user_to_db_admins...[0.002 s] ok\r\n    couch_peruser_test:258: should_add_user_to_db_members...[0.002 s] ok\r\n    couch_peruser_test:277: should_not_remove_existing_db_admins...ok\r\n    couch_peruser_test:278: should_not_remove_existing_db_admins...ok\r\n    couch_peruser_test:279: should_not_remove_existing_db_admins...ok\r\n    couch_peruser_test:297: should_not_remove_existing_db_members...ok\r\n    couch_peruser_test:298: should_not_remove_existing_db_members...ok\r\n    couch_peruser_test:299: should_not_remove_existing_db_members...ok\r\n    couch_peruser_test:325: should_remove_user_from_db_admins...ok\r\n    couch_peruser_test:326: should_remove_user_from_db_admins...ok\r\n    couch_peruser_test:327: should_remove_user_from_db_admins...ok\r\n    couch_peruser_test:353: should_remove_user_from_db_members...ok\r\n    couch_peruser_test:354: should_remove_user_from_db_members...ok\r\n    couch_peruser_test:355: should_remove_user_from_db_members...ok\r\n[os_mon] cpu supervisor port (cpu_sup): Erlang has closed\r\n    [done in 51.579 s]\r\n  [done in 52.968 s]\r\nmodule 'couch_peruser'\r\n=======================================================\r\n  All 25 tests passed.\r\n==> rel (eunit)\r\n==> asf2 (eunit)\r\n```\r\n\r\npr:\r\n\r\n```\r\n======================== EUnit ========================\r\nmodule 'couch_peruser_app'\r\nmodule 'couch_peruser_sup'\r\nmodule 'couch_peruser_test'\r\n  couch_peruser test\r\nApplication crypto was left running!\r\n    couch_peruser_test:165: should_create_anon_user_db_with_default...[0.001 s] ok\r\n    couch_peruser_test:166: should_create_anon_user_db_with_default...ok\r\n    couch_peruser_test:155: should_create_user_db_with_default...[0.002 s] ok\r\n    couch_peruser_test:156: should_create_user_db_with_default...ok\r\n    couch_peruser_test:178: should_create_user_db_with_q4...[0.003 s] ok\r\n    couch_peruser_test:179: should_create_user_db_with_q4...ok\r\n    couch_peruser_test:190: should_create_anon_user_db_with_q4...[0.002 s] ok\r\n    couch_peruser_test:191: should_create_anon_user_db_with_q4...ok\r\n    couch_peruser_test:203: should_not_delete_user_db...ok\r\n    couch_peruser_test:203: should_not_delete_user_db...ok\r\n    couch_peruser_test:215: should_delete_user_db...ok\r\n    couch_peruser_test:215: should_delete_user_db...ok\r\n    couch_peruser_test:246: should_reflect_config_changes...ok\r\n    couch_peruser_test:247: should_reflect_config_changes...ok\r\n    couch_peruser_test:248: should_reflect_config_changes...ok\r\n    couch_peruser_test:249: should_reflect_config_changes...ok\r\n    couch_peruser_test:250: should_reflect_config_changes...ok\r\n    couch_peruser_test:251: should_reflect_config_changes...ok\r\n    couch_peruser_test:260: should_add_user_to_db_admins...[0.002 s] ok\r\n    couch_peruser_test:269: should_add_user_to_db_members...[0.002 s] ok\r\n    couch_peruser_test:288: should_not_remove_existing_db_admins...ok\r\n    couch_peruser_test:289: should_not_remove_existing_db_admins...ok\r\n    couch_peruser_test:290: should_not_remove_existing_db_admins...ok\r\n    couch_peruser_test:308: should_not_remove_existing_db_members...ok\r\n    couch_peruser_test:309: should_not_remove_existing_db_members...ok\r\n    couch_peruser_test:310: should_not_remove_existing_db_members...ok\r\n    couch_peruser_test:339: should_remove_user_from_db_admins...ok\r\n    couch_peruser_test:340: should_remove_user_from_db_admins...ok\r\n    couch_peruser_test:341: should_remove_user_from_db_admins...ok\r\n    couch_peruser_test:342: should_remove_user_from_db_admins...ok\r\n    couch_peruser_test:343: should_remove_user_from_db_admins...ok\r\n    couch_peruser_test:344: should_remove_user_from_db_admins...ok\r\n    couch_peruser_test:373: should_remove_user_from_db_members...ok\r\n    couch_peruser_test:374: should_remove_user_from_db_members...ok\r\n    couch_peruser_test:375: should_remove_user_from_db_members...ok\r\n    couch_peruser_test:376: should_remove_user_from_db_members...ok\r\n    couch_peruser_test:377: should_remove_user_from_db_members...ok\r\n    couch_peruser_test:378: should_remove_user_from_db_members...ok\r\n[os_mon] cpu supervisor port (cpu_sup): Erlang has closed\r\n    [done in 51.886 s]\r\n  [done in 53.309 s]\r\nmodule 'couch_peruser'\r\n=======================================================\r\n  All 38 tests passed.\r\n==> rel (eunit)\r\n==> asf3 (eunit)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357720916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357784446","html_url":"https://github.com/apache/couchdb/issues/1099#issuecomment-357784446","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1099","id":357784446,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Nzc4NDQ0Ng==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-15T20:40:52Z","updated_at":"2018-01-15T20:40:52Z","author_association":"MEMBER","body":"Thanks for your report. CouchDB is not known to accidentally lose databases so I'm running on the assumption that something in your environment changed or you perhaps accidentally deleted them. Some things to check:\r\n\r\n1. Did you restart CouchDB at any point? Perhaps it picked up a different configuration that changed where its storing databases?\r\n2. If you remember either database name, can you try `locate dbname.couch` to see if those files exist somewhere?\r\n3. Can you check your logs to see if there are any DELETE requests?\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357784446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357793594","html_url":"https://github.com/apache/couchdb/pull/1085#issuecomment-357793594","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1085","id":357793594,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Nzc5MzU5NA==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-15T21:31:01Z","updated_at":"2018-01-15T21:31:01Z","author_association":"MEMBER","body":"Well, offset certainly doesn't make any sense. Though to match things we could make that return offset:null or similar.\r\n\r\nSecondly, this is gating the inclusion of these keys on whether update_seq=true is passed, it seems like if we're going to add them they should be included regardless.\r\n\r\nFor the network overhead I'm not sure it'd be a huge deal? I guess we could add a more specific endpoint rather than shipping entire db info blobs but I'm not super concerned about it.\r\n\r\nAlthough, this update_seq is kind of a lie because we open each document individually so a) the update_seq may or may not reflect the shards used to open documents and b) it could change for each invidual doc open call depending on the combination of shards that responded.\r\n\r\nI read the PouchDB issue and I'm not seeing the motivation for adding this other than its not the same as the other behavior. I wonder if we shouldn't either a) update the documentation, or b) just set offset and update_seq to null if they're requested. However without knowing the motivation for wanting these keys I'm not sure if that breaks the downstream use or not.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357793594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357794668","html_url":"https://github.com/apache/couchdb/issues/822#issuecomment-357794668","issue_url":"https://api.github.com/repos/apache/couchdb/issues/822","id":357794668,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Nzc5NDY2OA==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-15T21:37:04Z","updated_at":"2018-01-15T21:37:04Z","author_association":"MEMBER","body":"@iilyak What's the issue with update_seq and purge_seq? Those are both in the header. I understand why the others are an issue.\r\n\r\nAlso I do understand the read-only approach, though I wonder if a \"do-not-cache\" option to couch_server:open might not also be a possibility here? Just spitballing on that front though.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357794668/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357795281","html_url":"https://github.com/apache/couchdb/pull/1082#issuecomment-357795281","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1082","id":357795281,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Nzc5NTI4MQ==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-15T21:40:31Z","updated_at":"2018-01-15T21:40:31Z","author_association":"MEMBER","body":"+1 to _dbs_info","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357795281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357796136","html_url":"https://github.com/apache/couchdb/issues/1099#issuecomment-357796136","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1099","id":357796136,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Nzc5NjEzNg==","user":{"login":"vitocho","id":35243174,"node_id":"MDQ6VXNlcjM1MjQzMTc0","avatar_url":"https://avatars.githubusercontent.com/u/35243174?v=4","gravatar_id":"","url":"https://api.github.com/users/vitocho","html_url":"https://github.com/vitocho","followers_url":"https://api.github.com/users/vitocho/followers","following_url":"https://api.github.com/users/vitocho/following{/other_user}","gists_url":"https://api.github.com/users/vitocho/gists{/gist_id}","starred_url":"https://api.github.com/users/vitocho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vitocho/subscriptions","organizations_url":"https://api.github.com/users/vitocho/orgs","repos_url":"https://api.github.com/users/vitocho/repos","events_url":"https://api.github.com/users/vitocho/events{/privacy}","received_events_url":"https://api.github.com/users/vitocho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-15T21:45:55Z","updated_at":"2018-01-15T21:46:27Z","author_association":"NONE","body":"Thanks for helping us.\r\n\r\n# Answers:\r\n1. We don't restart the CouchDB. This happened on three different servers at the same time.\r\n2. We have recreated the database with the same name and _id.\r\n3. There aren't the words DELETE in logs.\r\n\r\n# Question and suggestion\r\n1. You know if there is any configuration to autoclean by default in couchdb's config?\r\n2. We have a screenshot when we lost the databases. [image-couchdb](https://www.dropbox.com/s/k9748rzpk07lhmi/Captura-couchdb-2.PNG?dl=0)\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357796136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357835682","html_url":"https://github.com/apache/couchdb/issues/969#issuecomment-357835682","issue_url":"https://api.github.com/repos/apache/couchdb/issues/969","id":357835682,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzgzNTY4Mg==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T02:26:33Z","updated_at":"2018-01-16T02:27:40Z","author_association":"CONTRIBUTOR","body":"hey @dharders, when performing review on PR #1085, we found that  \r\n- although we can return offset and update_seq like  https://github.com/apache/couchdb/pull/1085/files#diff-9d6b535641fc74e993a6c0a246313619R110, it looks that this doesn't make more sense to caller. In non-sharding environment, the returned update_seq and offset during _all_docs is precise and stable. Instead, in sharding environment, offset is just a minimal offset on one of the db for one of the keys, not necessary first or last one, and update_seq is different depending on what shards return.\r\n- from Paul and Eric's comments, you can read more details https://github.com/apache/couchdb/pull/1085#issuecomment-357793594.\r\n\r\nSo we want to check with you whether you would like couchdb to modify document to remove update_seq or offset statement in current context,  or modify codes to return null for them when _all_docs is called in sharing environment. \r\n\r\ncc @davisp @eiri ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357835682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357843147","html_url":"https://github.com/apache/couchdb/pull/1085#issuecomment-357843147","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1085","id":357843147,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Nzg0MzE0Nw==","user":{"login":"dharders","id":16676192,"node_id":"MDQ6VXNlcjE2Njc2MTky","avatar_url":"https://avatars.githubusercontent.com/u/16676192?v=4","gravatar_id":"","url":"https://api.github.com/users/dharders","html_url":"https://github.com/dharders","followers_url":"https://api.github.com/users/dharders/followers","following_url":"https://api.github.com/users/dharders/following{/other_user}","gists_url":"https://api.github.com/users/dharders/gists{/gist_id}","starred_url":"https://api.github.com/users/dharders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dharders/subscriptions","organizations_url":"https://api.github.com/users/dharders/orgs","repos_url":"https://api.github.com/users/dharders/repos","events_url":"https://api.github.com/users/dharders/events{/privacy}","received_events_url":"https://api.github.com/users/dharders/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T03:20:02Z","updated_at":"2018-01-16T03:20:02Z","author_association":"NONE","body":"Hi, PouchDB PR author here.\r\n\r\nPouchDB was missing `{ update_seq: true }` option, so we added it due to user request. One of our tests caught the `keys` failing case when `update_seq=true`. I agree that the `offset` and `update_seq` information does not make a great deal of sense in a sharded environment.\r\n\r\nOur main motivation is to match CouchDB API, so whatever you decide is best we will follow.\r\n\r\nIf you decide that it is easier to update the documentation (for the `keys` case) then we are fine with that. Returning `null` is also fine. As long as the API matches the documentation we will make it work!\r\n\r\n ","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357843147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357844876","html_url":"https://github.com/apache/couchdb/issues/969#issuecomment-357844876","issue_url":"https://api.github.com/repos/apache/couchdb/issues/969","id":357844876,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Nzg0NDg3Ng==","user":{"login":"dharders","id":16676192,"node_id":"MDQ6VXNlcjE2Njc2MTky","avatar_url":"https://avatars.githubusercontent.com/u/16676192?v=4","gravatar_id":"","url":"https://api.github.com/users/dharders","html_url":"https://github.com/dharders","followers_url":"https://api.github.com/users/dharders/followers","following_url":"https://api.github.com/users/dharders/following{/other_user}","gists_url":"https://api.github.com/users/dharders/gists{/gist_id}","starred_url":"https://api.github.com/users/dharders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dharders/subscriptions","organizations_url":"https://api.github.com/users/dharders/orgs","repos_url":"https://api.github.com/users/dharders/repos","events_url":"https://api.github.com/users/dharders/events{/privacy}","received_events_url":"https://api.github.com/users/dharders/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T03:33:36Z","updated_at":"2018-01-16T03:33:36Z","author_association":"NONE","body":"Hi @jiangphcn \r\n\r\nThanks for the follow-up! I've [replied directly to your PR](https://github.com/apache/couchdb/pull/1085#issuecomment-357843147)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357844876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357870561","html_url":"https://github.com/apache/couchdb/issues/1096#issuecomment-357870561","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1096","id":357870561,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Nzg3MDU2MQ==","user":{"login":"jvegaseg","id":12508470,"node_id":"MDQ6VXNlcjEyNTA4NDcw","avatar_url":"https://avatars.githubusercontent.com/u/12508470?v=4","gravatar_id":"","url":"https://api.github.com/users/jvegaseg","html_url":"https://github.com/jvegaseg","followers_url":"https://api.github.com/users/jvegaseg/followers","following_url":"https://api.github.com/users/jvegaseg/following{/other_user}","gists_url":"https://api.github.com/users/jvegaseg/gists{/gist_id}","starred_url":"https://api.github.com/users/jvegaseg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jvegaseg/subscriptions","organizations_url":"https://api.github.com/users/jvegaseg/orgs","repos_url":"https://api.github.com/users/jvegaseg/repos","events_url":"https://api.github.com/users/jvegaseg/events{/privacy}","received_events_url":"https://api.github.com/users/jvegaseg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T07:01:05Z","updated_at":"2018-01-16T07:01:05Z","author_association":"NONE","body":"Anyone could help? There is a configuration option to increase that timeout?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357870561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357884208","html_url":"https://github.com/apache/couchdb/pull/1085#issuecomment-357884208","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1085","id":357884208,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Nzg4NDIwOA==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T08:15:03Z","updated_at":"2018-01-16T08:15:03Z","author_association":"CONTRIBUTOR","body":"hey @dharders thanks for your information. Let me try to re-work to return null for this case.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357884208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357917797","html_url":"https://github.com/apache/couchdb/pull/1082#issuecomment-357917797","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1082","id":357917797,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzkxNzc5Nw==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T10:27:59Z","updated_at":"2018-01-16T10:27:59Z","author_association":"CONTRIBUTOR","body":"Introduced new _dbs_info endpoint to get info of a list of databases using 4a84a1e.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357917797/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357945416","html_url":"https://github.com/apache/couchdb/pull/1085#issuecomment-357945416","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1085","id":357945416,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Nzk0NTQxNg==","user":{"login":"jiangphcn","id":18000622,"node_id":"MDQ6VXNlcjE4MDAwNjIy","avatar_url":"https://avatars.githubusercontent.com/u/18000622?v=4","gravatar_id":"","url":"https://api.github.com/users/jiangphcn","html_url":"https://github.com/jiangphcn","followers_url":"https://api.github.com/users/jiangphcn/followers","following_url":"https://api.github.com/users/jiangphcn/following{/other_user}","gists_url":"https://api.github.com/users/jiangphcn/gists{/gist_id}","starred_url":"https://api.github.com/users/jiangphcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiangphcn/subscriptions","organizations_url":"https://api.github.com/users/jiangphcn/orgs","repos_url":"https://api.github.com/users/jiangphcn/repos","events_url":"https://api.github.com/users/jiangphcn/events{/privacy}","received_events_url":"https://api.github.com/users/jiangphcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T12:29:37Z","updated_at":"2018-01-16T12:29:37Z","author_association":"CONTRIBUTOR","body":"Return null for update_seq and offset if update_seq is true using commit af8d9f3. Can anyone help review them? Thanks","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357945416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357984985","html_url":"https://github.com/apache/couchdb/issues/1081#issuecomment-357984985","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1081","id":357984985,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Nzk4NDk4NQ==","user":{"login":"Avaq","id":1217745,"node_id":"MDQ6VXNlcjEyMTc3NDU=","avatar_url":"https://avatars.githubusercontent.com/u/1217745?v=4","gravatar_id":"","url":"https://api.github.com/users/Avaq","html_url":"https://github.com/Avaq","followers_url":"https://api.github.com/users/Avaq/followers","following_url":"https://api.github.com/users/Avaq/following{/other_user}","gists_url":"https://api.github.com/users/Avaq/gists{/gist_id}","starred_url":"https://api.github.com/users/Avaq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Avaq/subscriptions","organizations_url":"https://api.github.com/users/Avaq/orgs","repos_url":"https://api.github.com/users/Avaq/repos","events_url":"https://api.github.com/users/Avaq/events{/privacy}","received_events_url":"https://api.github.com/users/Avaq/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T14:54:03Z","updated_at":"2018-01-16T14:54:03Z","author_association":"NONE","body":"This regression bug is still causing me a lot of manual labour on a daily basis. Any advice will be much appreciated. I'm considering downgrading the server to version 1.x.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/357984985/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358012819","html_url":"https://github.com/apache/couchdb/issues/1081#issuecomment-358012819","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1081","id":358012819,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODAxMjgxOQ==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T16:07:37Z","updated_at":"2018-01-16T16:07:37Z","author_association":"CONTRIBUTOR","body":"Hi Avaq,\r\n\r\nThanks for your report.\r\n\r\nNoticed in the test behavior script you specified a heartbeat. In 2.x replicator doesn't use hearbeats, instead it uses timeouts:\r\n\r\nhttps://github.com/apache/couchdb/blob/master/src/couch_replicator/src/couch_replicator_api_wrap.erl#L486\r\n\r\nNotice that it uses a timeout for the changes feed and the value of the timeout is 1/3 of the `connection_timeout`. By default connection timeout is 30s so the timeout for the _changes feed ends up being 10s.\r\n\r\nTry re-running test script with a timeout parameter specified instead instead of a heartbeat. \r\n\r\nI just tested it a few days ago investigating a similar issue in 2.1.x and noticed that server responds quickly with a `results` and periodic newlines are being sent, keeping the connection alive. In my case I was also looking at a continuous change feed (because the replication was a continuous one as well). Wonder if there is a difference in behavior between a continuous and a normal one in respect to filters. \r\n\r\nBesides the timeout vs heartbeat, and continuous vs normal, a few more questions to get a better idea of what's happening:\r\n\r\n * To double check, is the replication itself running on a 2.x cluster? What are the versions of the targets and source? Are they all 2.x as well?\r\n\r\n * Are there any proxies or load balancers involved and do you think they could affect the connections?\r\n\r\n * How many replication jobs are running? CouchDB 2.x uses a scheduling replicator with a default maximum number of jobs set to 500. If there are more than 500 some tasks will be stopped and some started periodically. In case of filtered replications, with large source db and a restrictive filter, like you have, replications won't checkpoint unless they receive a document update via the filter. However if it takes too long and the job is swapped out by the scheduler, it might not have  chance to checkpoint, it will be stopped. Next time starts will use 0 for the changes feed start 0, and it will wait again, not get a document, will be stopped, etc. In this case you can try for example to increase max_jobs to a number high enough to fit all the replications jobs you have.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358012819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358023515","html_url":"https://github.com/apache/couchdb/issues/1099#issuecomment-358023515","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1099","id":358023515,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODAyMzUxNQ==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T16:40:01Z","updated_at":"2018-01-16T16:40:01Z","author_association":"MEMBER","body":"1. For three different servers at the same, this strongly suggests something in your environment has malfunctioned. Perhaps a script was run that accidentally deleted the wrong files?\r\n2. Cool, I was more wondering if there were files elsewhere on disk though that would indicate that a configuration change was made.\r\n3. Is your log level set high enough to record HTTP request lines? I believe it has to be set to info or higher.\r\n\r\nFor your questions:\r\n\r\n1. No, nothing in CouchDB will automatically delete a database.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358023515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358024907","html_url":"https://github.com/apache/couchdb/issues/1099#issuecomment-358024907","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1099","id":358024907,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODAyNDkwNw==","user":{"login":"davisp","id":19929,"node_id":"MDQ6VXNlcjE5OTI5","avatar_url":"https://avatars.githubusercontent.com/u/19929?v=4","gravatar_id":"","url":"https://api.github.com/users/davisp","html_url":"https://github.com/davisp","followers_url":"https://api.github.com/users/davisp/followers","following_url":"https://api.github.com/users/davisp/following{/other_user}","gists_url":"https://api.github.com/users/davisp/gists{/gist_id}","starred_url":"https://api.github.com/users/davisp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davisp/subscriptions","organizations_url":"https://api.github.com/users/davisp/orgs","repos_url":"https://api.github.com/users/davisp/repos","events_url":"https://api.github.com/users/davisp/events{/privacy}","received_events_url":"https://api.github.com/users/davisp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T16:44:20Z","updated_at":"2018-01-16T16:44:20Z","author_association":"MEMBER","body":"Another thought, do you have CouchDB setup on something other than the root partition on these machines? Perhaps you had a mount point disappear for some reason or another? Beyond that I'd audit any sort of backup or cleaning scripts that may exist to see if they're misconfigured.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358024907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358073322","html_url":"https://github.com/apache/couchdb/issues/1093#issuecomment-358073322","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1093","id":358073322,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODA3MzMyMg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T19:16:34Z","updated_at":"2018-01-16T19:16:34Z","author_association":"MEMBER","body":"Have you tested against 1.7.1? 1.6.1 has serious known security issues, as disclosed in multiple places.\r\n\r\nAs you know, it is highly unlikely there will be another 1.x release at this point.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358073322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358073961","html_url":"https://github.com/apache/couchdb/issues/969#issuecomment-358073961","issue_url":"https://api.github.com/repos/apache/couchdb/issues/969","id":358073961,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODA3Mzk2MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T19:18:40Z","updated_at":"2018-01-16T19:18:40Z","author_association":"MEMBER","body":"Looks like this merged, so I'm closing. If you build from master and see the bug is still present, please reopen.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358073961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358078048","html_url":"https://github.com/apache/couchdb/issues/994#issuecomment-358078048","issue_url":"https://api.github.com/repos/apache/couchdb/issues/994","id":358078048,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODA3ODA0OA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T19:32:43Z","updated_at":"2018-01-16T19:32:43Z","author_association":"MEMBER","body":"You should never ever edit default.ini, it will be overwritten on upgrade.\r\n\r\nInstead, try placing a file named `/opt/couchdb/local.d/index.ini` with the following contents:\r\n\r\n```\r\n[couchdb]\r\nview_index_dir = ./index\r\n```\r\n\r\nand see if it works.\r\n\r\nReopen if this does not solve your problem.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358078048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358079074","html_url":"https://github.com/apache/couchdb/issues/996#issuecomment-358079074","issue_url":"https://api.github.com/repos/apache/couchdb/issues/996","id":358079074,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODA3OTA3NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T19:36:13Z","updated_at":"2018-01-16T19:36:13Z","author_association":"MEMBER","body":"It's highly unlikely we'll be doing a new 1.x release anytime soon - but, thank you for the report and pointer.\r\n\r\nHave you asked Cloudant support for assistance? What did they say?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358079074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358079446","html_url":"https://github.com/apache/couchdb/issues/1001#issuecomment-358079446","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1001","id":358079446,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODA3OTQ0Ng==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T19:37:28Z","updated_at":"2018-01-16T19:37:28Z","author_association":"MEMBER","body":"Paging @nickva .","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358079446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358079731","html_url":"https://github.com/apache/couchdb/issues/979#issuecomment-358079731","issue_url":"https://api.github.com/repos/apache/couchdb/issues/979","id":358079731,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODA3OTczMQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T19:38:22Z","updated_at":"2018-01-16T19:38:22Z","author_association":"MEMBER","body":"Reopening issue because this is a packaging problem.\r\n\r\n**Workaround**: brew install nspr","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358079731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358079772","html_url":"https://github.com/apache/couchdb/issues/1004#issuecomment-358079772","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1004","id":358079772,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODA3OTc3Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T19:38:29Z","updated_at":"2018-01-16T19:38:29Z","author_association":"MEMBER","body":"Closing in favour of #979","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358079772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358080837","html_url":"https://github.com/apache/couchdb/issues/1015#issuecomment-358080837","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1015","id":358080837,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODA4MDgzNw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T19:42:07Z","updated_at":"2018-01-16T19:42:07Z","author_association":"MEMBER","body":"Duplicate of #979.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358080837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358082031","html_url":"https://github.com/apache/couchdb/issues/1016#issuecomment-358082031","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1016","id":358082031,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODA4MjAzMQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T19:45:51Z","updated_at":"2018-01-16T19:45:51Z","author_association":"MEMBER","body":"That is not the correct way to download our released source code, as GitHub does not have the prebuilt source tarball.\r\n\r\nInstead please use our official source code repository:\r\n\r\nhttps://dist.apache.org/repos/dist/release/couchdb/source/\r\n\r\nor a mirror.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358082031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358082066","html_url":"https://github.com/apache/couchdb/issues/1093#issuecomment-358082066","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1093","id":358082066,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODA4MjA2Ng==","user":{"login":"ReeceStevens","id":5847947,"node_id":"MDQ6VXNlcjU4NDc5NDc=","avatar_url":"https://avatars.githubusercontent.com/u/5847947?v=4","gravatar_id":"","url":"https://api.github.com/users/ReeceStevens","html_url":"https://github.com/ReeceStevens","followers_url":"https://api.github.com/users/ReeceStevens/followers","following_url":"https://api.github.com/users/ReeceStevens/following{/other_user}","gists_url":"https://api.github.com/users/ReeceStevens/gists{/gist_id}","starred_url":"https://api.github.com/users/ReeceStevens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ReeceStevens/subscriptions","organizations_url":"https://api.github.com/users/ReeceStevens/orgs","repos_url":"https://api.github.com/users/ReeceStevens/repos","events_url":"https://api.github.com/users/ReeceStevens/events{/privacy}","received_events_url":"https://api.github.com/users/ReeceStevens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T19:45:58Z","updated_at":"2018-01-16T19:45:58Z","author_association":"NONE","body":"Hi @wohali ,\r\n\r\nI have not yet tested against 1.7.1. Our application is safe to use 1.6.1 since we operate an internal couchDB instance (no external world access), but we are wanting to move to 2.1.x as soon as is feasible. See @elistevens message above. \r\n\r\nI will get a 1.7.1 environment up and running to test; however, I anticipate we will still have the issues seen above since there are problems with both 1.6.1 and 2.1.1. I'll let you know what I find.\r\n\r\nI should have clarified in my earlier message, we definitely aren't requesting an additional 1.x release. I wanted to include 1.6.1 and 2.1.1 information since we noticed abnormal behavior on both versions and thought the extra information could be useful for an investigation. Currently, the blocking issue we are experiencing is that the server crashes during highly concurrent replication.\r\n\r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358082066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358084077","html_url":"https://github.com/apache/couchdb/issues/1018#issuecomment-358084077","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1018","id":358084077,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODA4NDA3Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T19:52:15Z","updated_at":"2018-01-16T19:52:15Z","author_association":"MEMBER","body":"CouchDB's OAuth implementation was outdated, unmaintained and (in some regards) faulty.\r\n\r\nCouchDB 2.x implements a proxy authentication mechanism. Using this, you can have any external process handle authentication for you and pass on the appropriate credentials.\r\n\r\nCouchDB Documentation: http://docs.couchdb.org/en/latest/api/server/authn.html#proxy-authentication\r\n\r\nOne implementation of OAuth 2.0 that is known to work is using Apache HTTP Server as a reverse proxy in front of CouchDB. You can use something like [mod_auth_openidc](https://github.com/zmartzone/mod_auth_openidc) to add this support.\r\n\r\nI don't know what is coming to CouchDB in the future, but for now, this is your best option. I do know that there are real customers using the proxy auth solution in production.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358084077/reactions","total_count":6,"+1":6,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358084078","html_url":"https://github.com/apache/couchdb/issues/996#issuecomment-358084078","issue_url":"https://api.github.com/repos/apache/couchdb/issues/996","id":358084078,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODA4NDA3OA==","user":{"login":"jer-gentoo","id":2178449,"node_id":"MDQ6VXNlcjIxNzg0NDk=","avatar_url":"https://avatars.githubusercontent.com/u/2178449?v=4","gravatar_id":"","url":"https://api.github.com/users/jer-gentoo","html_url":"https://github.com/jer-gentoo","followers_url":"https://api.github.com/users/jer-gentoo/followers","following_url":"https://api.github.com/users/jer-gentoo/following{/other_user}","gists_url":"https://api.github.com/users/jer-gentoo/gists{/gist_id}","starred_url":"https://api.github.com/users/jer-gentoo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jer-gentoo/subscriptions","organizations_url":"https://api.github.com/users/jer-gentoo/orgs","repos_url":"https://api.github.com/users/jer-gentoo/repos","events_url":"https://api.github.com/users/jer-gentoo/events{/privacy}","received_events_url":"https://api.github.com/users/jer-gentoo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T19:52:16Z","updated_at":"2018-01-16T19:52:16Z","author_association":"NONE","body":"I'm afraid it's not a problem with Cloudant - it's CouchDB 1.7.1 failing to tell Erlang 20.x how to do SNI checks.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358084078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358084896","html_url":"https://github.com/apache/couchdb/issues/1022#issuecomment-358084896","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1022","id":358084896,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODA4NDg5Ng==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T19:55:05Z","updated_at":"2018-01-16T19:55:05Z","author_association":"MEMBER","body":"This isn't really a packaging problem, it's CouchDB overall. If you install CouchDB from source, then run it, then go to change the node name and restart it, you'll have the same problem. You then need to DELETE the no-longer existing node.\r\n\r\nIn Debian, the vm.args file is considered a [conffile](https://github.com/apache/couchdb-pkg/blob/master/debian/conffiles#L2). Have you tried placing a /opt/couchdb/etc/vm.args file down first, then installing the package?","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358084896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358087024","html_url":"https://github.com/apache/couchdb/issues/1037#issuecomment-358087024","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1037","id":358087024,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODA4NzAyNA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T20:02:25Z","updated_at":"2018-01-16T20:02:25Z","author_association":"MEMBER","body":"Note that the PUT has to be to port 5986, not port 5984, for editing _nodes.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358087024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358089360","html_url":"https://github.com/apache/couchdb/issues/1036#issuecomment-358089360","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1036","id":358089360,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODA4OTM2MA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T20:10:59Z","updated_at":"2018-01-16T20:10:59Z","author_association":"MEMBER","body":"I cannot reproduce this bug, I'm sorry. I followed all of the steps above and my httpie request succeeds (as it does with curl, too):\r\n\r\n```\r\nC:\\Windows\\system32>http http://127.0.0.1:5984/_users/org.couchdb.user:jan\r\nHTTP/1.1 200 OK\r\nCache-Control: must-revalidate\r\nContent-Length: 255\r\nContent-Type: application/json\r\nDate: Tue, 16 Jan 2018 20:09:03 GMT\r\nETag: \"1-31fab2c5c45cdc28307da2535a97c5c7\"\r\nServer: CouchDB/2.1.1 (Erlang OTP/18)\r\nX-Couch-Request-ID: 4a19d8425c\r\nX-CouchDB-Body-Time: 0\r\n\r\n{\r\n    \"_id\": \"org.couchdb.user:jan\",\r\n    \"_rev\": \"1-31fab2c5c45cdc28307da2535a97c5c7\",\r\n    \"derived_key\": \"af0230f9854e1515959100d71a661498d194e3bc\",\r\n    \"iterations\": 10,\r\n    \"name\": \"jan\",\r\n    \"password_scheme\": \"pbkdf2\",\r\n    \"roles\": [],\r\n    \"salt\": \"1c75841706e7e67bbe7be0d5e15bcb11\",\r\n    \"type\": \"user\"\r\n}\r\n```\r\n\r\nIn Fauxton, click on _users, then org.couchdb.user:jan, then click on the JSON link at the top right. That should open the exact URL in your browser and you should see the correct data being returned.\r\n\r\nIf your httpie request fails, look at `C:\\CouchDB\\var\\log\\couchdb.log` and see if you can see why the request failed. Perhaps the URL is being mangled somehow by httpie.\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358089360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358089657","html_url":"https://github.com/apache/couchdb/issues/1040#issuecomment-358089657","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1040","id":358089657,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODA4OTY1Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T20:12:00Z","updated_at":"2018-01-16T20:12:00Z","author_association":"MEMBER","body":"I believe this is a duplicate of #979. Try running `brew install nspr`. If that fixes it, it's the same problem. If not, please reopen this ticket.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358089657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358090626","html_url":"https://github.com/apache/couchdb/issues/1044#issuecomment-358090626","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1044","id":358090626,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODA5MDYyNg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T20:15:30Z","updated_at":"2018-01-16T20:15:30Z","author_association":"MEMBER","body":"\"View cleanup\" is a compaction process, which reduces the space the view takes up on disk.\r\n\r\nIf you want to **delete** the view, you need to use the view deletion function:\r\n\r\n`curl -X DELETE http://anlex_N:n@localhost:5984/hello-world/_design/price`\r\n\r\nOr, in Fauxton:\r\n\r\n![mwsnap 2018-01-16 15_14_20](https://user-images.githubusercontent.com/112292/35010189-0fe953e0-fad0-11e7-9684-6dfbc26c2a66.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358090626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358091110","html_url":"https://github.com/apache/couchdb/issues/1045#issuecomment-358091110","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1045","id":358091110,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODA5MTExMA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T20:17:18Z","updated_at":"2018-01-16T20:17:18Z","author_association":"MEMBER","body":"You can edit the line\r\n\r\n```\r\n+A 16\r\n```\r\n\r\nin the file `C:\\CouchDB\\etc\\vm.args`, then restart the CouchDB service. As you can see, @kocolosk confirmed we already set this to 16 by default.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358091110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358091896","html_url":"https://github.com/apache/couchdb/issues/1046#issuecomment-358091896","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1046","id":358091896,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODA5MTg5Ng==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T20:20:00Z","updated_at":"2018-01-16T20:20:00Z","author_association":"MEMBER","body":"CouchDB 1.6.1 only supports SSL3.\r\n\r\nTry upgrading to 1.7.1 (also addresses a serious security issue!) or:\r\n\r\nhttps://stackoverflow.com/questions/19384161/curl-error-35-unknown-ssl-protocol-error-in-connection-to-api-rkd-reuters-com\r\n\r\nYou may be able to specify `-3` or `--sslv3` on the CLI for curl.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358091896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358092637","html_url":"https://github.com/apache/couchdb/issues/1047#issuecomment-358092637","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1047","id":358092637,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODA5MjYzNw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T20:22:36Z","updated_at":"2018-01-16T20:22:36Z","author_association":"MEMBER","body":"Thanks for reporting this, this is a bug. CouchDB no longer supports the `/_restart` endpoint.\r\n\r\nYou will need to restart CouchDB using the Windows Services control panel, or using the `sc` command from an Administrator Command Prompt:\r\n\r\n```\r\nC:\\Windows\\system32>sc stop \"Apache CouchDB\"\r\n\r\nSERVICE_NAME: Apache CouchDB\r\n        TYPE               : 10  WIN32_OWN_PROCESS\r\n        STATE              : 3  STOP_PENDING\r\n                                (NOT_STOPPABLE, NOT_PAUSABLE, IGNORES_SHUTDOWN)\r\n        WIN32_EXIT_CODE    : 0  (0x0)\r\n        SERVICE_EXIT_CODE  : 0  (0x0)\r\n        CHECKPOINT         : 0x1\r\n        WAIT_HINT          : 0xdac\r\n\r\nC:\\Windows\\system32>sc query \"Apache CouchDB\"\r\n\r\nSERVICE_NAME: Apache CouchDB\r\n        TYPE               : 10  WIN32_OWN_PROCESS\r\n        STATE              : 1  STOPPED\r\n        WIN32_EXIT_CODE    : 0  (0x0)\r\n        SERVICE_EXIT_CODE  : 0  (0x0)\r\n        CHECKPOINT         : 0x0\r\n        WAIT_HINT          : 0x0\r\n\r\nC:\\Windows\\system32>sc start \"Apache CouchDB\"\r\n\r\nSERVICE_NAME: Apache CouchDB\r\n        TYPE               : 10  WIN32_OWN_PROCESS\r\n        STATE              : 2  START_PENDING\r\n                                (NOT_STOPPABLE, NOT_PAUSABLE, IGNORES_SHUTDOWN)\r\n        WIN32_EXIT_CODE    : 0  (0x0)\r\n        SERVICE_EXIT_CODE  : 0  (0x0)\r\n        CHECKPOINT         : 0x0\r\n        WAIT_HINT          : 0x7d0\r\n        PID                : 7724\r\n        FLAGS              :\r\n\r\nC:\\Windows\\system32>sc query \"Apache CouchDB\"\r\n\r\nSERVICE_NAME: Apache CouchDB\r\n        TYPE               : 10  WIN32_OWN_PROCESS\r\n        STATE              : 4  RUNNING\r\n                                (STOPPABLE, NOT_PAUSABLE, ACCEPTS_SHUTDOWN)\r\n        WIN32_EXIT_CODE    : 0  (0x0)\r\n        SERVICE_EXIT_CODE  : 0  (0x0)\r\n        CHECKPOINT         : 0x0\r\n        WAIT_HINT          : 0x0\r\n```","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358092637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358094110","html_url":"https://github.com/apache/couchdb/issues/1048#issuecomment-358094110","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1048","id":358094110,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODA5NDExMA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T20:27:10Z","updated_at":"2018-01-16T20:27:10Z","author_association":"MEMBER","body":"Moving to apache/couchdb-documentation#232","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358094110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358094603","html_url":"https://github.com/apache/couchdb/issues/1050#issuecomment-358094603","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1050","id":358094603,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODA5NDYwMw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T20:28:40Z","updated_at":"2018-01-16T20:28:40Z","author_association":"MEMBER","body":"We do not support CouchSync Gateway, it is entirely supported by the commercial entity known as CouchBase.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358094603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358094813","html_url":"https://github.com/apache/couchdb/issues/1051#issuecomment-358094813","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1051","id":358094813,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODA5NDgxMw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T20:29:21Z","updated_at":"2018-01-16T20:29:21Z","author_association":"MEMBER","body":"@jiangphcn when you merge a PR to fix a bug, please put\r\n\r\n\"Fixes #1051\"\r\n\r\nin your PR commit message, that will auto-close the issue. :)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358094813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358113694","html_url":"https://github.com/apache/couchdb/pull/958#issuecomment-358113694","issue_url":"https://api.github.com/repos/apache/couchdb/issues/958","id":358113694,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODExMzY5NA==","user":{"login":"nickva","id":211822,"node_id":"MDQ6VXNlcjIxMTgyMg==","avatar_url":"https://avatars.githubusercontent.com/u/211822?v=4","gravatar_id":"","url":"https://api.github.com/users/nickva","html_url":"https://github.com/nickva","followers_url":"https://api.github.com/users/nickva/followers","following_url":"https://api.github.com/users/nickva/following{/other_user}","gists_url":"https://api.github.com/users/nickva/gists{/gist_id}","starred_url":"https://api.github.com/users/nickva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nickva/subscriptions","organizations_url":"https://api.github.com/users/nickva/orgs","repos_url":"https://api.github.com/users/nickva/repos","events_url":"https://api.github.com/users/nickva/events{/privacy}","received_events_url":"https://api.github.com/users/nickva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T21:32:45Z","updated_at":"2018-01-16T21:32:45Z","author_association":"CONTRIBUTOR","body":"Fixed missing accumulator in multi_merge:\r\n\r\nhttps://github.com/apache/couchdb/pull/1114","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358113694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358119420","html_url":"https://github.com/apache/couchdb/issues/609#issuecomment-358119420","issue_url":"https://api.github.com/repos/apache/couchdb/issues/609","id":358119420,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODExOTQyMA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T21:51:28Z","updated_at":"2018-01-16T21:51:28Z","author_association":"MEMBER","body":"@kocolosk do we still need this issue, or is everything being taken care of over in kubernetes/charts#2964 ?\r\n\r\nIf there's a desire to add this to the documentation after that PR lands, that can go over in apache/couchdb-documentation instead of here.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358119420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358120193","html_url":"https://github.com/apache/couchdb/issues/796#issuecomment-358120193","issue_url":"https://api.github.com/repos/apache/couchdb/issues/796","id":358120193,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODEyMDE5Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T21:54:15Z","updated_at":"2018-01-16T21:54:15Z","author_association":"MEMBER","body":"@FelipeTaiarol Did the max_dbs_open resolve this for you? \r\n\r\nI am still suspicious of disk *latency* being the issue here.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358120193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358120543","html_url":"https://github.com/apache/couchdb/pull/1032#issuecomment-358120543","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1032","id":358120543,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODEyMDU0Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T21:55:41Z","updated_at":"2018-01-16T21:55:41Z","author_association":"MEMBER","body":"Thanks!!!\r\n\r\n+1 once you resolve the conflict. :)","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358120543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358121157","html_url":"https://github.com/apache/couchdb/issues/1056#issuecomment-358121157","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1056","id":358121157,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODEyMTE1Nw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T21:57:46Z","updated_at":"2018-01-16T21:57:46Z","author_association":"MEMBER","body":"Moving this to apache/couchdb-documentation#233.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358121157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358121882","html_url":"https://github.com/apache/couchdb/issues/820#issuecomment-358121882","issue_url":"https://api.github.com/repos/apache/couchdb/issues/820","id":358121882,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODEyMTg4Mg==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T22:00:36Z","updated_at":"2018-01-16T22:00:36Z","author_association":"MEMBER","body":"Lookin' good @jiangphcn !","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358121882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358122599","html_url":"https://github.com/apache/couchdb/pull/1082#issuecomment-358122599","issue_url":"https://api.github.com/repos/apache/couchdb/issues/1082","id":358122599,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODEyMjU5OQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T22:03:20Z","updated_at":"2018-01-16T22:03:20Z","author_association":"MEMBER","body":"Is _all_dbs?info=true retained, with the new _dbs_info endpoint added instead of specifying a keys=[] query argument?\r\n\r\nIf so I am completely +1, LGTM!","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358122599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358123674","html_url":"https://github.com/apache/couchdb/issues/823#issuecomment-358123674","issue_url":"https://api.github.com/repos/apache/couchdb/issues/823","id":358123674,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODEyMzY3NA==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T22:07:40Z","updated_at":"2018-01-16T22:07:40Z","author_association":"MEMBER","body":"You can see that PR went off the rails, @calonso . Sorry about that. \r\n\r\nI'm scaling back my coding in 2018, so hopefully someone else will pick this issue up.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358123674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358125361","html_url":"https://github.com/apache/couchdb/issues/844#issuecomment-358125361","issue_url":"https://api.github.com/repos/apache/couchdb/issues/844","id":358125361,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODEyNTM2MQ==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T22:14:18Z","updated_at":"2018-01-16T22:14:18Z","author_association":"MEMBER","body":"I haven't read or thought about your proposal, but anything that is backwards compatibility breaking couldn't possibly land until 3.0 at the earliest.\r\n\r\nIf you are concerned about this problem in your own deployments, you can use CouchDB's [proxy authentication](http://docs.couchdb.org/en/latest/api/server/authn.html#proxy-authentication) with a proxy server like Apache HTTP Server handling the auth (via something like OAuth 2.0 or SAML) and bypass the entire problem.\r\n\r\nI know that some people were looking at alternatives to cookies for 3.0, i.e. something JWT-based perhaps. However, there are issues with them as well ([1](http://cryto.net/~joepie91/blog/2016/06/13/stop-using-jwt-for-sessions/), [2](http://cryto.net/%7Ejoepie91/blog/2016/06/19/stop-using-jwt-for-sessions-part-2-why-your-solution-doesnt-work/)).","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358125361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358130363","html_url":"https://github.com/apache/couchdb/issues/892#issuecomment-358130363","issue_url":"https://api.github.com/repos/apache/couchdb/issues/892","id":358130363,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODEzMDM2Mw==","user":{"login":"wohali","id":112292,"node_id":"MDQ6VXNlcjExMjI5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/112292?v=4","gravatar_id":"","url":"https://api.github.com/users/wohali","html_url":"https://github.com/wohali","followers_url":"https://api.github.com/users/wohali/followers","following_url":"https://api.github.com/users/wohali/following{/other_user}","gists_url":"https://api.github.com/users/wohali/gists{/gist_id}","starred_url":"https://api.github.com/users/wohali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wohali/subscriptions","organizations_url":"https://api.github.com/users/wohali/orgs","repos_url":"https://api.github.com/users/wohali/repos","events_url":"https://api.github.com/users/wohali/events{/privacy}","received_events_url":"https://api.github.com/users/wohali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-16T22:33:00Z","updated_at":"2018-01-16T22:33:00Z","author_association":"MEMBER","body":"Sounds like JavaScript didn't build correctly. You will need `libmozjs185` specifically, and it MUST be built 32-bit -- see https://bugzilla.mozilla.org/show_bug.cgi?id=589735 and https://bugzilla.mozilla.org/show_bug.cgi?id=577056 for the gory details.","reactions":{"url":"https://api.github.com/repos/apache/couchdb/issues/comments/358130363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]