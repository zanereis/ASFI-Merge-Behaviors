[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1757843273","html_url":"https://github.com/apache/iceberg/issues/8801#issuecomment-1757843273","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8801","id":1757843273,"node_id":"IC_kwDOCW7NX85oxo9J","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-11T14:42:14Z","updated_at":"2023-10-11T14:42:14Z","author_association":"CONTRIBUTOR","body":"I guess there are a few different topics here:\r\n\r\n> Is it too slow to import data into an iceberg table that exists in minio through presto.\r\n\r\nSlow or fast depends on your requirements, your ingestion pattern, table layout etc :)  If you could provide more details that would be helpful. I would say, I don't know about Presto's support for Iceberg, but Trino has a actively maintained Iceberg connector.\r\n\r\n>How can I quickly insert data into an iceberg table in a Python environment?\r\n\r\nPython write support is actively being worked on, cc @Fokko , you can follow the progress https://github.com/apache/iceberg-python , contributions/feedback always welcome! \r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1757843273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1757845688","html_url":"https://github.com/apache/iceberg/pull/8766#issuecomment-1757845688","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8766","id":1757845688,"node_id":"IC_kwDOCW7NX85oxpi4","user":{"login":"jbonofre","id":158903,"node_id":"MDQ6VXNlcjE1ODkwMw==","avatar_url":"https://avatars.githubusercontent.com/u/158903?v=4","gravatar_id":"","url":"https://api.github.com/users/jbonofre","html_url":"https://github.com/jbonofre","followers_url":"https://api.github.com/users/jbonofre/followers","following_url":"https://api.github.com/users/jbonofre/following{/other_user}","gists_url":"https://api.github.com/users/jbonofre/gists{/gist_id}","starred_url":"https://api.github.com/users/jbonofre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbonofre/subscriptions","organizations_url":"https://api.github.com/users/jbonofre/orgs","repos_url":"https://api.github.com/users/jbonofre/repos","events_url":"https://api.github.com/users/jbonofre/events{/privacy}","received_events_url":"https://api.github.com/users/jbonofre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-11T14:43:32Z","updated_at":"2023-10-11T14:43:32Z","author_association":"MEMBER","body":"@nastra are you OK to merge this one ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1757845688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1757848584","html_url":"https://github.com/apache/iceberg/pull/6252#issuecomment-1757848584","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6252","id":1757848584,"node_id":"IC_kwDOCW7NX85oxqQI","user":{"login":"atifiu","id":48252551,"node_id":"MDQ6VXNlcjQ4MjUyNTUx","avatar_url":"https://avatars.githubusercontent.com/u/48252551?v=4","gravatar_id":"","url":"https://api.github.com/users/atifiu","html_url":"https://github.com/atifiu","followers_url":"https://api.github.com/users/atifiu/followers","following_url":"https://api.github.com/users/atifiu/following{/other_user}","gists_url":"https://api.github.com/users/atifiu/gists{/gist_id}","starred_url":"https://api.github.com/users/atifiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atifiu/subscriptions","organizations_url":"https://api.github.com/users/atifiu/orgs","repos_url":"https://api.github.com/users/atifiu/repos","events_url":"https://api.github.com/users/atifiu/events{/privacy}","received_events_url":"https://api.github.com/users/atifiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-11T14:45:06Z","updated_at":"2023-10-11T14:45:06Z","author_association":"NONE","body":"@huaxingao Thanks for your response. Even in the case of max on non filter column, aggregate pushdown is not working.\r\n\r\nIn the below explain plan partition is defined on initial_page_view_dtm  and I am filtering on the same. So in the case of this table which is relatively small aggregate pushdown works without filter but as soon I add filter it does not work. While in case of large table aggregate pushdown is not working at all and it gives message \r\n\r\n> SparkScanBuilder: Skipping aggregate pushdown: detected row level deletes\r\n\r\n```\r\n== Physical Plan ==\r\nAdaptiveSparkPlan isFinalPlan=false\r\n+- HashAggregate(keys=[], functions=[max(pageviewdate#465)])\r\n   +- Exchange SinglePartition, ENSURE_REQUIREMENTS, [plan_id=86]\r\n      +- HashAggregate(keys=[], functions=[partial_max(pageviewdate#465)])\r\n         +- Project [pageviewdate#465]\r\n            +- Filter (initial_page_view_dtm#468 >= 2023-01-01 00:00:00)\r\n               +- BatchScan[pageviewdate#465, initial_page_view_dtm#468] spark_catalog.schema.table1 (branch=null) [filters=initial_page_view_dtm IS NOT NULL, initial_page_view_dtm >= 1672549200000000, groupedBy=] RuntimeFilters: []\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1757848584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1757857480","html_url":"https://github.com/apache/iceberg/pull/6252#issuecomment-1757857480","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6252","id":1757857480,"node_id":"IC_kwDOCW7NX85oxsbI","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-11T14:49:29Z","updated_at":"2023-10-11T14:49:29Z","author_association":"MEMBER","body":"@atifiu Pushdown cannot happen if there are row level deletes as indicated in that log line. Row level deletes mean the file statistics are not accurate so they cannot be used for finding aggs.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1757857480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1757870092","html_url":"https://github.com/apache/iceberg/pull/8796#issuecomment-1757870092","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8796","id":1757870092,"node_id":"IC_kwDOCW7NX85oxvgM","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-11T14:53:29Z","updated_at":"2023-10-11T14:53:29Z","author_association":"MEMBER","body":"> Please expand the commit message for the rationale to be available in git log (without having to access GH). Also, please reference https://github.com/projectnessie/nessie/pull/6438\r\n\r\nYeah, thats why I kept it for draft. Updated now. Thanks. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1757870092/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1757872875","html_url":"https://github.com/apache/iceberg/pull/8553#issuecomment-1757872875","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8553","id":1757872875,"node_id":"IC_kwDOCW7NX85oxwLr","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-11T14:54:17Z","updated_at":"2023-10-11T14:57:57Z","author_association":"CONTRIBUTOR","body":"Created #8803 to enable the possibility to avoid keeping all of the stats when creating the ScanTasks","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1757872875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1757880953","html_url":"https://github.com/apache/iceberg/pull/8722#issuecomment-1757880953","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8722","id":1757880953,"node_id":"IC_kwDOCW7NX85oxyJ5","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-11T14:56:48Z","updated_at":"2023-10-11T14:56:48Z","author_association":"MEMBER","body":"@jbonofre: LGTM. Thanks for fixing the formatting too.  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1757880953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1757993486","html_url":"https://github.com/apache/iceberg/pull/6252#issuecomment-1757993486","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6252","id":1757993486,"node_id":"IC_kwDOCW7NX85oyNoO","user":{"login":"atifiu","id":48252551,"node_id":"MDQ6VXNlcjQ4MjUyNTUx","avatar_url":"https://avatars.githubusercontent.com/u/48252551?v=4","gravatar_id":"","url":"https://api.github.com/users/atifiu","html_url":"https://github.com/atifiu","followers_url":"https://api.github.com/users/atifiu/followers","following_url":"https://api.github.com/users/atifiu/following{/other_user}","gists_url":"https://api.github.com/users/atifiu/gists{/gist_id}","starred_url":"https://api.github.com/users/atifiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atifiu/subscriptions","organizations_url":"https://api.github.com/users/atifiu/orgs","repos_url":"https://api.github.com/users/atifiu/repos","events_url":"https://api.github.com/users/atifiu/events{/privacy}","received_events_url":"https://api.github.com/users/atifiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-11T15:45:55Z","updated_at":"2023-10-11T15:45:55Z","author_association":"NONE","body":"@RussellSpitzer What can be done to resolve it ? Is rewriting the data file will resolve it ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1757993486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1757995661","html_url":"https://github.com/apache/iceberg/pull/6252#issuecomment-1757995661","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6252","id":1757995661,"node_id":"IC_kwDOCW7NX85oyOKN","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-11T15:47:16Z","updated_at":"2023-10-11T15:47:16Z","author_association":"MEMBER","body":"You would need to remove all delete files from the snapshot. I think this currently requires a rewrite data files + rewrite delete files","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1757995661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758010815","html_url":"https://github.com/apache/iceberg/pull/6252#issuecomment-1758010815","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6252","id":1758010815,"node_id":"IC_kwDOCW7NX85oyR2_","user":{"login":"atifiu","id":48252551,"node_id":"MDQ6VXNlcjQ4MjUyNTUx","avatar_url":"https://avatars.githubusercontent.com/u/48252551?v=4","gravatar_id":"","url":"https://api.github.com/users/atifiu","html_url":"https://github.com/atifiu","followers_url":"https://api.github.com/users/atifiu/followers","following_url":"https://api.github.com/users/atifiu/following{/other_user}","gists_url":"https://api.github.com/users/atifiu/gists{/gist_id}","starred_url":"https://api.github.com/users/atifiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atifiu/subscriptions","organizations_url":"https://api.github.com/users/atifiu/orgs","repos_url":"https://api.github.com/users/atifiu/repos","events_url":"https://api.github.com/users/atifiu/events{/privacy}","received_events_url":"https://api.github.com/users/atifiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-11T15:56:16Z","updated_at":"2023-10-11T15:56:16Z","author_association":"NONE","body":"I am pretty sure that I don't have any delete files because I have defined copy on write for update, merge, delete.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758010815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758034473","html_url":"https://github.com/apache/iceberg/pull/6252#issuecomment-1758034473","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6252","id":1758034473,"node_id":"IC_kwDOCW7NX85oyXop","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-11T16:09:45Z","updated_at":"2023-10-11T16:09:45Z","author_association":"CONTRIBUTOR","body":"Huh that is strange if you are hitting this log line and have CoW defined, I don't see how that can be possible. @atifiu do you mind creating a new issue and include these details? As a sanity check could you check your format-version table property? If it really is CoW this should be 1.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758034473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758132685","html_url":"https://github.com/apache/iceberg/pull/7105#issuecomment-1758132685","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7105","id":1758132685,"node_id":"IC_kwDOCW7NX85oyvnN","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-11T17:09:52Z","updated_at":"2023-10-11T17:09:52Z","author_association":"CONTRIBUTOR","body":"Sorry, we didn't get to discussing this during the sync. Shall we do a separate sync to talk about this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758132685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758136834","html_url":"https://github.com/apache/iceberg/pull/7105#issuecomment-1758136834","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7105","id":1758136834,"node_id":"IC_kwDOCW7NX85oywoC","user":{"login":"jbonofre","id":158903,"node_id":"MDQ6VXNlcjE1ODkwMw==","avatar_url":"https://avatars.githubusercontent.com/u/158903?v=4","gravatar_id":"","url":"https://api.github.com/users/jbonofre","html_url":"https://github.com/jbonofre","followers_url":"https://api.github.com/users/jbonofre/followers","following_url":"https://api.github.com/users/jbonofre/following{/other_user}","gists_url":"https://api.github.com/users/jbonofre/gists{/gist_id}","starred_url":"https://api.github.com/users/jbonofre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbonofre/subscriptions","organizations_url":"https://api.github.com/users/jbonofre/orgs","repos_url":"https://api.github.com/users/jbonofre/repos","events_url":"https://api.github.com/users/jbonofre/events{/privacy}","received_events_url":"https://api.github.com/users/jbonofre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-11T17:12:26Z","updated_at":"2023-10-11T17:12:26Z","author_association":"MEMBER","body":"@aokolnychyi sure, no problem to have a specific meeting about that. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758136834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758143237","html_url":"https://github.com/apache/iceberg/pull/7105#issuecomment-1758143237","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7105","id":1758143237,"node_id":"IC_kwDOCW7NX85oyyMF","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-11T17:17:00Z","updated_at":"2023-10-11T17:17:00Z","author_association":"MEMBER","body":"> Sorry, we didn't get to discussing this during the sync. Shall we do a separate sync to talk about this?\r\n\r\nThis is not the first time this happened. From past few community sync, partition stats was always in the topic of discussion. But we fail to cover it due to time restriction and also looks like we don't follow the addition order of topics. \r\n\r\nAnyways, I started discussing this in the mailing list now. If people still feel a sync is required, I am happy to arrange one.  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758143237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758143965","html_url":"https://github.com/apache/iceberg/pull/8683#issuecomment-1758143965","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8683","id":1758143965,"node_id":"IC_kwDOCW7NX85oyyXd","user":{"login":"jacobmarble","id":622263,"node_id":"MDQ6VXNlcjYyMjI2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/622263?v=4","gravatar_id":"","url":"https://api.github.com/users/jacobmarble","html_url":"https://github.com/jacobmarble","followers_url":"https://api.github.com/users/jacobmarble/followers","following_url":"https://api.github.com/users/jacobmarble/following{/other_user}","gists_url":"https://api.github.com/users/jacobmarble/gists{/gist_id}","starred_url":"https://api.github.com/users/jacobmarble/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jacobmarble/subscriptions","organizations_url":"https://api.github.com/users/jacobmarble/orgs","repos_url":"https://api.github.com/users/jacobmarble/repos","events_url":"https://api.github.com/users/jacobmarble/events{/privacy}","received_events_url":"https://api.github.com/users/jacobmarble/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-11T17:17:33Z","updated_at":"2023-10-11T17:17:33Z","author_association":"CONTRIBUTOR","body":"In the Iceberg community sync today, it was decided that we will not be adding millisecond timestamps after all.\r\n\r\nCurrent status of this PR:\r\n- millisecond timestamps removed\r\n- note added to v3 Appendix\r\n- rebased and squashed\r\n- type promotion *not included*\r\n  - someone with better context will follow up in a separate issue\r\n\r\n@Fokko do you think we're ready to merge?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758143965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758155921","html_url":"https://github.com/apache/iceberg/pull/8678#issuecomment-1758155921","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8678","id":1758155921,"node_id":"IC_kwDOCW7NX85oy1SR","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-11T17:26:08Z","updated_at":"2023-10-11T17:26:08Z","author_association":"CONTRIBUTOR","body":"I think we may want to consider an alternative, which is to get rid of `operation` entirely. What is the value of `operation`? In a table, we use the operation to make assumptions about metadata without actually reading parts of the metadata tree. For views, I don't think there is a similar need -- we probably won't use this anywhere.\r\n\r\nIf we don't need operation to make something faster, then why include it at all? It just creates an awkward situation here where we need special logic to deduplicate a version. Getting rid of it and checking the whole summary makes more sense to me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758155921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758159463","html_url":"https://github.com/apache/iceberg/pull/8552#issuecomment-1758159463","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8552","id":1758159463,"node_id":"IC_kwDOCW7NX85oy2Jn","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-11T17:28:32Z","updated_at":"2023-10-11T17:28:32Z","author_association":"CONTRIBUTOR","body":"Thanks, @nastra!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758159463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758164003","html_url":"https://github.com/apache/iceberg/pull/8523#issuecomment-1758164003","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8523","id":1758164003,"node_id":"IC_kwDOCW7NX85oy3Qj","user":{"login":"rafoid","id":3903473,"node_id":"MDQ6VXNlcjM5MDM0NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3903473?v=4","gravatar_id":"","url":"https://api.github.com/users/rafoid","html_url":"https://github.com/rafoid","followers_url":"https://api.github.com/users/rafoid/followers","following_url":"https://api.github.com/users/rafoid/following{/other_user}","gists_url":"https://api.github.com/users/rafoid/gists{/gist_id}","starred_url":"https://api.github.com/users/rafoid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rafoid/subscriptions","organizations_url":"https://api.github.com/users/rafoid/orgs","repos_url":"https://api.github.com/users/rafoid/repos","events_url":"https://api.github.com/users/rafoid/events{/privacy}","received_events_url":"https://api.github.com/users/rafoid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-11T17:32:10Z","updated_at":"2023-10-11T17:32:10Z","author_association":"NONE","body":"@RussellSpitzer I'm not sure I understand your scenario with incoming schema deltas. Can you please elaborate?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758164003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758166192","html_url":"https://github.com/apache/iceberg/pull/8683#issuecomment-1758166192","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8683","id":1758166192,"node_id":"IC_kwDOCW7NX85oy3yw","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-11T17:33:55Z","updated_at":"2023-10-11T17:33:55Z","author_association":"CONTRIBUTOR","body":"@jacobmarble Yes, this looks good to me. Thanks for joining the community sync. Could you avoid reformatting the table? History is especially important in the spec.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758166192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758393552","html_url":"https://github.com/apache/iceberg/pull/8523#issuecomment-1758393552","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8523","id":1758393552,"node_id":"IC_kwDOCW7NX85ozvTQ","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-11T19:27:21Z","updated_at":"2023-10-12T03:33:26Z","author_association":"MEMBER","body":"Say I have a code that takes data from a streaming source with a changing schema. In one delta the source has removed the last column, I see this as I always check for the delta and apply it to my current iceberg table through the mirrored operation (drop column). Should the code error out and request I drop the table instead? I would argue I may want to keep the history of this schema change of the table in my Iceberg table and this should be allowed","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758393552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758430601","html_url":"https://github.com/apache/iceberg/pull/8683#issuecomment-1758430601","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8683","id":1758430601,"node_id":"IC_kwDOCW7NX85oz4WJ","user":{"login":"jacobmarble","id":622263,"node_id":"MDQ6VXNlcjYyMjI2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/622263?v=4","gravatar_id":"","url":"https://api.github.com/users/jacobmarble","html_url":"https://github.com/jacobmarble","followers_url":"https://api.github.com/users/jacobmarble/followers","following_url":"https://api.github.com/users/jacobmarble/following{/other_user}","gists_url":"https://api.github.com/users/jacobmarble/gists{/gist_id}","starred_url":"https://api.github.com/users/jacobmarble/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jacobmarble/subscriptions","organizations_url":"https://api.github.com/users/jacobmarble/orgs","repos_url":"https://api.github.com/users/jacobmarble/repos","events_url":"https://api.github.com/users/jacobmarble/events{/privacy}","received_events_url":"https://api.github.com/users/jacobmarble/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-11T19:52:05Z","updated_at":"2023-10-11T19:52:05Z","author_association":"CONTRIBUTOR","body":"> @jacobmarble Yes, this looks good to me. Thanks for joining the community sync. Could you avoid reformatting the table? History is especially important in the spec.\r\n\r\nDone.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758430601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758634548","html_url":"https://github.com/apache/iceberg/issues/5069#issuecomment-1758634548","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5069","id":1758634548,"node_id":"IC_kwDOCW7NX85o0qI0","user":{"login":"matternc","id":11986058,"node_id":"MDQ6VXNlcjExOTg2MDU4","avatar_url":"https://avatars.githubusercontent.com/u/11986058?v=4","gravatar_id":"","url":"https://api.github.com/users/matternc","html_url":"https://github.com/matternc","followers_url":"https://api.github.com/users/matternc/followers","following_url":"https://api.github.com/users/matternc/following{/other_user}","gists_url":"https://api.github.com/users/matternc/gists{/gist_id}","starred_url":"https://api.github.com/users/matternc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matternc/subscriptions","organizations_url":"https://api.github.com/users/matternc/orgs","repos_url":"https://api.github.com/users/matternc/repos","events_url":"https://api.github.com/users/matternc/events{/privacy}","received_events_url":"https://api.github.com/users/matternc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-11T22:29:17Z","updated_at":"2023-10-11T22:29:17Z","author_association":"NONE","body":"No but i would love to hear one.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758634548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758719706","html_url":"https://github.com/apache/iceberg/issues/7351#issuecomment-1758719706","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7351","id":1758719706,"node_id":"IC_kwDOCW7NX85o0-7a","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T00:09:17Z","updated_at":"2023-10-12T00:09:17Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758719706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758719765","html_url":"https://github.com/apache/iceberg/issues/7232#issuecomment-1758719765","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7232","id":1758719765,"node_id":"IC_kwDOCW7NX85o0-8V","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T00:09:22Z","updated_at":"2023-10-12T00:09:22Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758719765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758757200","html_url":"https://github.com/apache/iceberg/pull/8799#issuecomment-1758757200","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8799","id":1758757200,"node_id":"IC_kwDOCW7NX85o1IFQ","user":{"login":"mkluo8787","id":22385947,"node_id":"MDQ6VXNlcjIyMzg1OTQ3","avatar_url":"https://avatars.githubusercontent.com/u/22385947?v=4","gravatar_id":"","url":"https://api.github.com/users/mkluo8787","html_url":"https://github.com/mkluo8787","followers_url":"https://api.github.com/users/mkluo8787/followers","following_url":"https://api.github.com/users/mkluo8787/following{/other_user}","gists_url":"https://api.github.com/users/mkluo8787/gists{/gist_id}","starred_url":"https://api.github.com/users/mkluo8787/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkluo8787/subscriptions","organizations_url":"https://api.github.com/users/mkluo8787/orgs","repos_url":"https://api.github.com/users/mkluo8787/repos","events_url":"https://api.github.com/users/mkluo8787/events{/privacy}","received_events_url":"https://api.github.com/users/mkluo8787/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T01:04:59Z","updated_at":"2023-10-12T01:04:59Z","author_association":"NONE","body":"@flyrain Would you mind having a look at it?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758757200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758774011","html_url":"https://github.com/apache/iceberg/issues/7226#issuecomment-1758774011","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7226","id":1758774011,"node_id":"IC_kwDOCW7NX85o1ML7","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T01:28:40Z","updated_at":"2023-10-12T01:29:14Z","author_association":"CONTRIBUTOR","body":"If I remember correctly, Spark 3.3 does not have the function catalog. Therefore, we can't resolve Iceberg transforms. I think the right approach is either to use `toTable` in Spark 3.4 and above or fix Spark the old loading API (probably won't be trivial).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758774011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758776115","html_url":"https://github.com/apache/iceberg/pull/6799#issuecomment-1758776115","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6799","id":1758776115,"node_id":"IC_kwDOCW7NX85o1Msz","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T01:32:02Z","updated_at":"2023-10-12T01:32:02Z","author_association":"CONTRIBUTOR","body":"Will do a review by the end of this week, sorry for the delay.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758776115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758777424","html_url":"https://github.com/apache/iceberg/pull/6432#issuecomment-1758777424","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6432","id":1758777424,"node_id":"IC_kwDOCW7NX85o1NBQ","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T01:34:15Z","updated_at":"2023-10-12T01:34:15Z","author_association":"CONTRIBUTOR","body":"I think we should use a thread pool but I think the implementation should be changed a bit. I explain [here](https://docs.google.com/document/d/1M4L6o-qnGRwGhbhkW8BnravoTwvCrJV8VvzVQDRJO5I).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758777424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758859862","html_url":"https://github.com/apache/iceberg/pull/8523#issuecomment-1758859862","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8523","id":1758859862,"node_id":"IC_kwDOCW7NX85o1hJW","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T03:35:13Z","updated_at":"2023-10-12T03:35:13Z","author_association":"MEMBER","body":"My general gut on most apis is, Once they exist and have a defined behavior, we should only change that behavior or remove them if we have a good reason. I'm not sure this change protects any users and it could potentially harm existing users so I would vote against doing it. For future PR's I would also recommend adding tests for new behaviors. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758859862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758873680","html_url":"https://github.com/apache/iceberg/pull/6252#issuecomment-1758873680","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6252","id":1758873680,"node_id":"IC_kwDOCW7NX85o1khQ","user":{"login":"atifiu","id":48252551,"node_id":"MDQ6VXNlcjQ4MjUyNTUx","avatar_url":"https://avatars.githubusercontent.com/u/48252551?v=4","gravatar_id":"","url":"https://api.github.com/users/atifiu","html_url":"https://github.com/atifiu","followers_url":"https://api.github.com/users/atifiu/followers","following_url":"https://api.github.com/users/atifiu/following{/other_user}","gists_url":"https://api.github.com/users/atifiu/gists{/gist_id}","starred_url":"https://api.github.com/users/atifiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atifiu/subscriptions","organizations_url":"https://api.github.com/users/atifiu/orgs","repos_url":"https://api.github.com/users/atifiu/repos","events_url":"https://api.github.com/users/atifiu/events{/privacy}","received_events_url":"https://api.github.com/users/atifiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T03:58:28Z","updated_at":"2023-10-12T03:58:28Z","author_association":"NONE","body":"@amogh-jahagirdar format version defined is 2 and I have explicitly defined copy on write for delete, update and merge. I have deleted some partitions and have noticed that in the snapshot metadata table it shows 159 delete files which is quite a surprise for me. I am trying to rewrite delete files but it's throwing error for me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758873680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758946291","html_url":"https://github.com/apache/iceberg/pull/8586#issuecomment-1758946291","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8586","id":1758946291,"node_id":"IC_kwDOCW7NX85o12Pz","user":{"login":"jbonofre","id":158903,"node_id":"MDQ6VXNlcjE1ODkwMw==","avatar_url":"https://avatars.githubusercontent.com/u/158903?v=4","gravatar_id":"","url":"https://api.github.com/users/jbonofre","html_url":"https://github.com/jbonofre","followers_url":"https://api.github.com/users/jbonofre/followers","following_url":"https://api.github.com/users/jbonofre/following{/other_user}","gists_url":"https://api.github.com/users/jbonofre/gists{/gist_id}","starred_url":"https://api.github.com/users/jbonofre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbonofre/subscriptions","organizations_url":"https://api.github.com/users/jbonofre/orgs","repos_url":"https://api.github.com/users/jbonofre/repos","events_url":"https://api.github.com/users/jbonofre/events{/privacy}","received_events_url":"https://api.github.com/users/jbonofre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T05:43:46Z","updated_at":"2023-10-12T05:43:46Z","author_association":"MEMBER","body":"As soon as the DOAP file is merged, I will add to the ASF records.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758946291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758951782","html_url":"https://github.com/apache/iceberg/pull/8807#issuecomment-1758951782","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8807","id":1758951782,"node_id":"IC_kwDOCW7NX85o13lm","user":{"login":"zinking","id":118241,"node_id":"MDQ6VXNlcjExODI0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/118241?v=4","gravatar_id":"","url":"https://api.github.com/users/zinking","html_url":"https://github.com/zinking","followers_url":"https://api.github.com/users/zinking/followers","following_url":"https://api.github.com/users/zinking/following{/other_user}","gists_url":"https://api.github.com/users/zinking/gists{/gist_id}","starred_url":"https://api.github.com/users/zinking/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zinking/subscriptions","organizations_url":"https://api.github.com/users/zinking/orgs","repos_url":"https://api.github.com/users/zinking/repos","events_url":"https://api.github.com/users/zinking/events{/privacy}","received_events_url":"https://api.github.com/users/zinking/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T05:51:06Z","updated_at":"2023-10-12T05:51:06Z","author_association":"CONTRIBUTOR","body":"<img width=\"1712\" alt=\"Screenshot 2023-10-12 at 13 43 54\" src=\"https://github.com/apache/iceberg/assets/118241/c7590c53-f4cd-4729-ac8f-29088feb004e\">\r\n\r\nhere is a demo, the setup is to rewrite 1 single partition with 20K data files and 20K equality delete files.\r\nJOB1 - JOB3 is rewrite using the join strategy. (due to some limitations on JOB3 where only 1 task generated)\r\nJOB4 is the latest rewrite on spark3.3\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758951782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758972459","html_url":"https://github.com/apache/iceberg/pull/8766#issuecomment-1758972459","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8766","id":1758972459,"node_id":"IC_kwDOCW7NX85o18or","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T06:11:18Z","updated_at":"2023-10-12T06:11:18Z","author_association":"CONTRIBUTOR","body":"@Fokko could you review and confirm this one please?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1758972459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759043430","html_url":"https://github.com/apache/iceberg/pull/8807#issuecomment-1759043430","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8807","id":1759043430,"node_id":"IC_kwDOCW7NX85o2N9m","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T07:02:46Z","updated_at":"2023-10-12T07:02:46Z","author_association":"MEMBER","body":"Is running rewrite_position_delete before running rewrite_data_files not helping in this scenario? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759043430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759048641","html_url":"https://github.com/apache/iceberg/pull/8798#issuecomment-1759048641","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8798","id":1759048641,"node_id":"IC_kwDOCW7NX85o2PPB","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T07:05:22Z","updated_at":"2023-10-12T07:05:22Z","author_association":"MEMBER","body":"cc: @dimas-b, @snazy \r\n\r\nDependabot is raising PRs for Nessie bumps now. This is a follow up for the latest bump.  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759048641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759179813","html_url":"https://github.com/apache/iceberg/pull/6252#issuecomment-1759179813","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6252","id":1759179813,"node_id":"IC_kwDOCW7NX85o2vQl","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T08:38:12Z","updated_at":"2023-10-12T08:39:56Z","author_association":"CONTRIBUTOR","body":"My mistake, yes you can have format version 2 and have copy on write mode. The remaining issue is why you are even seeing delete files if CoW is set. That seems to be the fundamental issue here. I'll try and repro that.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759179813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759247885","html_url":"https://github.com/apache/iceberg/pull/8586#issuecomment-1759247885","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8586","id":1759247885,"node_id":"IC_kwDOCW7NX85o2_4N","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T09:22:04Z","updated_at":"2023-10-12T09:22:04Z","author_association":"CONTRIBUTOR","body":"thanks @jbonofre ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759247885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759269677","html_url":"https://github.com/apache/iceberg/pull/8586#issuecomment-1759269677","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8586","id":1759269677,"node_id":"IC_kwDOCW7NX85o3FMt","user":{"login":"jbonofre","id":158903,"node_id":"MDQ6VXNlcjE1ODkwMw==","avatar_url":"https://avatars.githubusercontent.com/u/158903?v=4","gravatar_id":"","url":"https://api.github.com/users/jbonofre","html_url":"https://github.com/jbonofre","followers_url":"https://api.github.com/users/jbonofre/followers","following_url":"https://api.github.com/users/jbonofre/following{/other_user}","gists_url":"https://api.github.com/users/jbonofre/gists{/gist_id}","starred_url":"https://api.github.com/users/jbonofre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbonofre/subscriptions","organizations_url":"https://api.github.com/users/jbonofre/orgs","repos_url":"https://api.github.com/users/jbonofre/repos","events_url":"https://api.github.com/users/jbonofre/events{/privacy}","received_events_url":"https://api.github.com/users/jbonofre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T09:35:24Z","updated_at":"2023-10-12T09:35:24Z","author_association":"MEMBER","body":"Awesome ! Thanks, I'm dealing with the ASF record now ;)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759269677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759573960","html_url":"https://github.com/apache/iceberg/pull/8804#issuecomment-1759573960","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8804","id":1759573960,"node_id":"IC_kwDOCW7NX85o4PfI","user":{"login":"nk1506","id":4146188,"node_id":"MDQ6VXNlcjQxNDYxODg=","avatar_url":"https://avatars.githubusercontent.com/u/4146188?v=4","gravatar_id":"","url":"https://api.github.com/users/nk1506","html_url":"https://github.com/nk1506","followers_url":"https://api.github.com/users/nk1506/followers","following_url":"https://api.github.com/users/nk1506/following{/other_user}","gists_url":"https://api.github.com/users/nk1506/gists{/gist_id}","starred_url":"https://api.github.com/users/nk1506/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nk1506/subscriptions","organizations_url":"https://api.github.com/users/nk1506/orgs","repos_url":"https://api.github.com/users/nk1506/repos","events_url":"https://api.github.com/users/nk1506/events{/privacy}","received_events_url":"https://api.github.com/users/nk1506/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T13:04:03Z","updated_at":"2023-10-12T13:04:03Z","author_association":"CONTRIBUTOR","body":"@nastra , Please take a look. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759573960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759595831","html_url":"https://github.com/apache/iceberg/pull/8798#issuecomment-1759595831","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8798","id":1759595831,"node_id":"IC_kwDOCW7NX85o4U03","user":{"login":"nk1506","id":4146188,"node_id":"MDQ6VXNlcjQxNDYxODg=","avatar_url":"https://avatars.githubusercontent.com/u/4146188?v=4","gravatar_id":"","url":"https://api.github.com/users/nk1506","html_url":"https://github.com/nk1506","followers_url":"https://api.github.com/users/nk1506/followers","following_url":"https://api.github.com/users/nk1506/following{/other_user}","gists_url":"https://api.github.com/users/nk1506/gists{/gist_id}","starred_url":"https://api.github.com/users/nk1506/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nk1506/subscriptions","organizations_url":"https://api.github.com/users/nk1506/orgs","repos_url":"https://api.github.com/users/nk1506/repos","events_url":"https://api.github.com/users/nk1506/events{/privacy}","received_events_url":"https://api.github.com/users/nk1506/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T13:16:21Z","updated_at":"2023-10-12T13:16:21Z","author_association":"CONTRIBUTOR","body":"> nit: `Adopt` -> `Adapt` in title?\r\n> \r\n> I believe the removed test case is worth keeping.\r\n\r\nSince `CONF_NESSIE_CLIENT_BUILDER_IMPL` has been deprecated, replacing it with `CONF_NESSIE_CLIENT_NAME` will make [testCustomClientByImpl](https://github.com/apache/iceberg/blob/b5ea0d5a7f55e5b8d9eec8e764bbcc35f8301db3/nessie/src/test/java/org/apache/iceberg/nessie/TestCustomNessieClient.java#L89 ) and [testCustomClientByName](https://github.com/apache/iceberg/blob/b5ea0d5a7f55e5b8d9eec8e764bbcc35f8301db3/nessie/src/test/java/org/apache/iceberg/nessie/TestCustomNessieClient.java#L108) duplicate of each other. \r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759595831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759624056","html_url":"https://github.com/apache/iceberg/pull/8734#issuecomment-1759624056","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8734","id":1759624056,"node_id":"IC_kwDOCW7NX85o4bt4","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T13:33:33Z","updated_at":"2023-10-12T13:33:33Z","author_association":"CONTRIBUTOR","body":"Superseded by #8811.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759624056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759625459","html_url":"https://github.com/apache/iceberg/pull/8778#issuecomment-1759625459","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8778","id":1759625459,"node_id":"IC_kwDOCW7NX85o4cDz","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T13:34:06Z","updated_at":"2023-10-12T13:34:06Z","author_association":"CONTRIBUTOR","body":"Superseded by #8812.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759625459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759631883","html_url":"https://github.com/apache/iceberg/pull/8722#issuecomment-1759631883","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8722","id":1759631883,"node_id":"IC_kwDOCW7NX85o4doL","user":{"login":"jbonofre","id":158903,"node_id":"MDQ6VXNlcjE1ODkwMw==","avatar_url":"https://avatars.githubusercontent.com/u/158903?v=4","gravatar_id":"","url":"https://api.github.com/users/jbonofre","html_url":"https://github.com/jbonofre","followers_url":"https://api.github.com/users/jbonofre/followers","following_url":"https://api.github.com/users/jbonofre/following{/other_user}","gists_url":"https://api.github.com/users/jbonofre/gists{/gist_id}","starred_url":"https://api.github.com/users/jbonofre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbonofre/subscriptions","organizations_url":"https://api.github.com/users/jbonofre/orgs","repos_url":"https://api.github.com/users/jbonofre/repos","events_url":"https://api.github.com/users/jbonofre/events{/privacy}","received_events_url":"https://api.github.com/users/jbonofre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T13:38:03Z","updated_at":"2023-10-12T13:38:03Z","author_association":"MEMBER","body":"`master` branch has been renamed to `main`. \r\n\r\n@Fokko @nastra if you can merge this PR when you have time, it would be great. Thanks !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759631883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759635303","html_url":"https://github.com/apache/iceberg/pull/8722#issuecomment-1759635303","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8722","id":1759635303,"node_id":"IC_kwDOCW7NX85o4edn","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T13:40:10Z","updated_at":"2023-10-12T13:40:10Z","author_association":"CONTRIBUTOR","body":"Thanks @jbonofre for taking the lead on this!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759635303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759723529","html_url":"https://github.com/apache/iceberg/issues/8809#issuecomment-1759723529","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8809","id":1759723529,"node_id":"IC_kwDOCW7NX85o40AJ","user":{"login":"paulpaul1076","id":4533296,"node_id":"MDQ6VXNlcjQ1MzMyOTY=","avatar_url":"https://avatars.githubusercontent.com/u/4533296?v=4","gravatar_id":"","url":"https://api.github.com/users/paulpaul1076","html_url":"https://github.com/paulpaul1076","followers_url":"https://api.github.com/users/paulpaul1076/followers","following_url":"https://api.github.com/users/paulpaul1076/following{/other_user}","gists_url":"https://api.github.com/users/paulpaul1076/gists{/gist_id}","starred_url":"https://api.github.com/users/paulpaul1076/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paulpaul1076/subscriptions","organizations_url":"https://api.github.com/users/paulpaul1076/orgs","repos_url":"https://api.github.com/users/paulpaul1076/repos","events_url":"https://api.github.com/users/paulpaul1076/events{/privacy}","received_events_url":"https://api.github.com/users/paulpaul1076/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T14:28:13Z","updated_at":"2023-10-12T14:38:34Z","author_association":"NONE","body":"@RussellSpitzer provided this code which achieves the same:\r\n\r\n```\r\nforeachBatch (batch_df, batch_id) => {\r\n  val lastBatch = Spark3Util.loadIcebergTable(spark,\"db.timezoned\").currentSnapshot().summary()(STREAMID)\r\n  \r\n   if (batch_id > lastBatch) {\r\n       batch_df.writeTo(...).option(\"snapshot-property.\"+STREAMID, batch_id).....append\r\n   }\r\n   \r\n}\r\n```\r\n\r\nBut I wonder if delta lake if faster here, because I assume that this metadata lookup  `Spark3Util.loadIcebergTable(spark,\"db.timezoned\").currentSnapshot().summary()(STREAMID)` goes to S3?\r\n\r\nCan somebody add this to the structured streaming doc? Isn't this important information?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759723529/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759954274","html_url":"https://github.com/apache/iceberg/issues/8810#issuecomment-1759954274","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8810","id":1759954274,"node_id":"IC_kwDOCW7NX85o5sVi","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T16:24:39Z","updated_at":"2023-10-12T16:24:39Z","author_association":"CONTRIBUTOR","body":"There are quite a few:\r\n\r\n```\r\n./core/src/main/java/org/apache/iceberg/BaseDistributedDataScan.java:    boolean mayHaveEqualityDeletes = deleteManifests.size() > 0 && mayHaveEqualityDeletes(snapshot);\r\n./core/src/main/java/org/apache/iceberg/util/PartitionUtil.java:      if (partitionType.fields().size() > 0) {\r\n./core/src/main/java/org/apache/iceberg/TableMetadata.java:          || (discardChanges && changes.size() > 0)\r\n./core/src/main/java/org/apache/iceberg/io/DeleteWriteResult.java:    return referencedDataFiles != null && referencedDataFiles.size() > 0;\r\n./core/src/main/java/org/apache/iceberg/SnapshotSummary.java:        setIf(changedPartitions.size() > 0, builder, PARTITION_SUMMARY_PROP, \"true\");\r\n./core/src/main/java/org/apache/iceberg/FastAppend.java:    if (newManifests == null && newFiles.size() > 0) {\r\n./core/src/main/java/org/apache/iceberg/actions/RewritePositionDeletesGroup.java:    Preconditions.checkArgument(tasks.size() > 0, \"Tasks must not be empty\");\r\n./core/src/main/java/org/apache/iceberg/actions/BaseCommitService.java:          while (running.get() || completedRewrites.size() > 0 || inProgressCommits.size() > 0) {\r\n./core/src/main/java/org/apache/iceberg/actions/BaseCommitService.java:            if (!running.get() && completedRewrites.size() > 0) {\r\n./core/src/main/java/org/apache/iceberg/actions/BaseCommitService.java:    boolean writingComplete = !running.get() && completedRewrites.size() > 0;\r\n./core/src/main/java/org/apache/iceberg/view/ViewMetadata.java:      Preconditions.checkArgument(versions.size() > 0, \"Invalid view: no versions were added\");\r\n./core/src/main/java/org/apache/iceberg/PositionDeletesTable.java:    if (partitionType.fields().size() > 0) {\r\n./core/src/main/java/org/apache/iceberg/BaseOverwriteFiles.java:      if (deletedDataFiles.size() > 0) {\r\n./core/src/main/java/org/apache/iceberg/ManifestFilterManager.java:    return deletePaths.size() > 0\r\n./core/src/main/java/org/apache/iceberg/ManifestFilterManager.java:        || dropPartitions.size() > 0;\r\n./core/src/main/java/org/apache/iceberg/ManifestFilterManager.java:    if (dropPartitions.size() > 0) {\r\n./core/src/main/java/org/apache/iceberg/ManifestFilterManager.java:    } else if (deletePaths.size() > 0) {\r\n./core/src/main/java/org/apache/iceberg/ReachableFileUtil.java:    if (metadataLogEntries.size() > 0) {\r\n./core/src/main/java/org/apache/iceberg/MergingSnapshotProducer.java:    return newDataFiles.size() > 0;\r\n./core/src/main/java/org/apache/iceberg/MergingSnapshotProducer.java:    return newDeleteFilesBySpec.size() > 0;\r\n./core/src/main/java/org/apache/iceberg/MergingSnapshotProducer.java:    if (newDataFiles.size() > 0) {\r\n./core/src/main/java/org/apache/iceberg/MergingSnapshotProducer.java:    if (hasNewDeleteFiles && cachedNewDeleteManifests.size() > 0) {\r\n./core/src/main/java/org/apache/iceberg/BaseRewriteFiles.java:    if (replacedDataFiles.size() > 0) {\r\n./core/src/main/java/org/apache/iceberg/ContentFileParser.java:    return partitionData != null && partitionData.size() > 0;\r\n./core/src/main/java/org/apache/iceberg/BaseIncrementalChangelogScan.java:        if (snapshot.deleteManifests(table().io()).size() > 0) {\r\n./aliyun/src/test/java/org/apache/iceberg/aliyun/oss/mock/AliyunOSSMockLocalStore.java:    return buckets.size() > 0 ? buckets.get(0) : null;\r\n./mr/src/main/java/org/apache/iceberg/mr/hive/HiveIcebergOutputCommitter.java:                if (dataFiles.size() > 0) {\r\n./mr/src/main/java/org/apache/iceberg/mr/hive/HiveIcebergOutputCommitter.java:    if (dataFiles.size() > 0) {\r\n./flink/v1.16/flink/src/main/java/org/apache/iceberg/flink/sink/FlinkSink.java:      if (equalityFieldColumns != null && equalityFieldColumns.size() > 0) {\r\n./flink/v1.17/flink/src/main/java/org/apache/iceberg/flink/sink/shuffle/DataStatisticsCoordinator.java:          gateways[subtaskIndex].size() > 0,\r\n./flink/v1.17/flink/src/main/java/org/apache/iceberg/flink/sink/FlinkSink.java:      if (equalityFieldColumns != null && equalityFieldColumns.size() > 0) {\r\n./flink/v1.15/flink/src/main/java/org/apache/iceberg/flink/sink/FlinkSink.java:      if (equalityFieldColumns != null && equalityFieldColumns.size() > 0) {\r\n./delta-lake/src/main/java/org/apache/iceberg/delta/BaseSnapshotDeltaLakeTableAction.java:    if (filesToAdd.size() > 0 && filesToRemove.size() > 0) {\r\n./delta-lake/src/main/java/org/apache/iceberg/delta/BaseSnapshotDeltaLakeTableAction.java:    } else if (filesToAdd.size() > 0) {\r\n./delta-lake/src/main/java/org/apache/iceberg/delta/BaseSnapshotDeltaLakeTableAction.java:    } else if (filesToRemove.size() > 0) {\r\n./hive3/src/main/java/org/apache/hadoop/hive/ql/io/orc/OrcSplit.java:    return hasBase || deltas.size() > 0;\r\n./api/src/main/java/org/apache/iceberg/expressions/ResidualEvaluator.java:    if (spec.fields().size() > 0) {\r\n./aws/src/integration/java/org/apache/iceberg/aws/glue/TestGlueCatalogNamespace.java:    Assert.assertTrue(namespaceList.size() > 0);\r\n./parquet/src/main/java/org/apache/iceberg/parquet/ParquetBloomRowGroupFilter.java:      if (filterRefs.size() > 0 && Sets.intersection(fieldsWithBloomFilter, filterRefs).isEmpty()) {\r\n./data/src/test/java/org/apache/iceberg/data/TestMetricsRowGroupFilter.java:      return Lists.newArrayList(reader).size() > 0;\r\n./data/src/test/java/org/apache/iceberg/data/TestMetricsRowGroupFilterTypes.java:      return Lists.newArrayList(reader).size() > 0;\r\n./spark/v3.3/spark/src/test/java/org/apache/iceberg/TestScanTaskSerialization.java:    Assert.assertTrue(\"Task group can't be empty\", taskGroup.tasks().size() > 0);\r\n./spark/v3.3/spark/src/test/java/org/apache/iceberg/TestScanTaskSerialization.java:    Assert.assertTrue(\"Task group can't be empty\", taskGroup.tasks().size() > 0);\r\n./spark/v3.3/spark/src/test/java/org/apache/iceberg/spark/actions/TestRewritePositionDeleteFilesAction.java:      Assert.assertTrue(\"Empty delete file found\", rows.size() > 0);\r\n./spark/v3.3/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results1.size() > 0);\r\n./spark/v3.3/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results2.size() > 0);\r\n./spark/v3.3/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.3/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results1.size() > 0);\r\n./spark/v3.3/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results2.size() > 0);\r\n./spark/v3.3/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.3/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.3/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.3/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.3/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.3/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.3/spark/src/main/java/org/apache/iceberg/spark/ScanTaskSetManager.java:        tasks != null && tasks.size() > 0, \"Cannot stage null or empty tasks\");\r\n./spark/v3.3/spark/src/main/java/org/apache/iceberg/spark/SparkDataFile.java:    if (wrappedPartition.size() > 0) {\r\n./spark/v3.3/spark/src/main/java/org/apache/iceberg/spark/source/SparkBatch.java:        && expectedSchema.columns().size() > 0\r\n./spark/v3.3/spark/src/main/java/org/apache/iceberg/spark/source/SparkPositionDeletesRewriteBuilder.java:        tasks != null && tasks.size() > 0, \"No scan tasks found for %s\", fileSetId);\r\n./spark/v3.3/spark/src/main/java/org/apache/iceberg/spark/actions/RewriteDataFilesSparkAction.java:    if (partition.size() > 0) {\r\n./spark/v3.3/spark/src/main/java/org/apache/iceberg/spark/actions/RewritePositionDeleteFilesSparkAction.java:    if (partition.size() > 0) {\r\n./spark/v3.3/spark/src/main/java/org/apache/iceberg/spark/actions/SparkBinPackPositionDeletesRewriter.java:    Preconditions.checkArgument(group.size() > 0, \"Empty group\");\r\n./spark/v3.3/spark/src/main/java/org/apache/iceberg/spark/actions/SparkZOrderDataRewriter.java:        validZOrderColNames.size() > 0,\r\n./spark/v3.4/spark/src/test/java/org/apache/iceberg/TestScanTaskSerialization.java:    Assert.assertTrue(\"Task group can't be empty\", taskGroup.tasks().size() > 0);\r\n./spark/v3.4/spark/src/test/java/org/apache/iceberg/TestScanTaskSerialization.java:    Assert.assertTrue(\"Task group can't be empty\", taskGroup.tasks().size() > 0);\r\n./spark/v3.4/spark/src/test/java/org/apache/iceberg/spark/actions/TestRewritePositionDeleteFilesAction.java:      Assert.assertTrue(\"Empty delete file found\", rows.size() > 0);\r\n./spark/v3.4/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results1.size() > 0);\r\n./spark/v3.4/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results2.size() > 0);\r\n./spark/v3.4/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.4/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results1.size() > 0);\r\n./spark/v3.4/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results2.size() > 0);\r\n./spark/v3.4/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.4/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.4/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.4/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.4/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.4/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.4/spark/src/main/java/org/apache/iceberg/spark/ScanTaskSetManager.java:        tasks != null && tasks.size() > 0, \"Cannot stage null or empty tasks\");\r\n./spark/v3.4/spark/src/main/java/org/apache/iceberg/spark/SparkDataFile.java:    if (wrappedPartition.size() > 0) {\r\n./spark/v3.4/spark/src/main/java/org/apache/iceberg/spark/source/SparkPositionDeletesRewriteBuilder.java:        tasks != null && tasks.size() > 0, \"No scan tasks found for %s\", fileSetId);\r\n./spark/v3.4/spark/src/main/java/org/apache/iceberg/spark/actions/RewriteDataFilesSparkAction.java:    if (partition.size() > 0) {\r\n./spark/v3.4/spark/src/main/java/org/apache/iceberg/spark/actions/RewritePositionDeleteFilesSparkAction.java:    if (partition.size() > 0) {\r\n./spark/v3.4/spark/src/main/java/org/apache/iceberg/spark/actions/SparkBinPackPositionDeletesRewriter.java:    Preconditions.checkArgument(group.size() > 0, \"Empty group\");\r\n./spark/v3.4/spark/src/main/java/org/apache/iceberg/spark/actions/SparkZOrderDataRewriter.java:        validZOrderColNames.size() > 0,\r\n./spark/v3.5/spark/src/test/java/org/apache/iceberg/TestScanTaskSerialization.java:    Assert.assertTrue(\"Task group can't be empty\", taskGroup.tasks().size() > 0);\r\n./spark/v3.5/spark/src/test/java/org/apache/iceberg/TestScanTaskSerialization.java:    Assert.assertTrue(\"Task group can't be empty\", taskGroup.tasks().size() > 0);\r\n./spark/v3.5/spark/src/test/java/org/apache/iceberg/spark/actions/TestRewritePositionDeleteFilesAction.java:      Assert.assertTrue(\"Empty delete file found\", rows.size() > 0);\r\n./spark/v3.5/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results1.size() > 0);\r\n./spark/v3.5/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results2.size() > 0);\r\n./spark/v3.5/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.5/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results1.size() > 0);\r\n./spark/v3.5/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results2.size() > 0);\r\n./spark/v3.5/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.5/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.5/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.5/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.5/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.5/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.5/spark/src/main/java/org/apache/iceberg/spark/ScanTaskSetManager.java:        tasks != null && tasks.size() > 0, \"Cannot stage null or empty tasks\");\r\n./spark/v3.5/spark/src/main/java/org/apache/iceberg/spark/SparkDataFile.java:    if (wrappedPartition.size() > 0) {\r\n./spark/v3.5/spark/src/main/java/org/apache/iceberg/spark/source/SparkPositionDeletesRewriteBuilder.java:        tasks != null && tasks.size() > 0, \"No scan tasks found for %s\", fileSetId);\r\n./spark/v3.5/spark/src/main/java/org/apache/iceberg/spark/actions/RewriteDataFilesSparkAction.java:    if (partition.size() > 0) {\r\n./spark/v3.5/spark/src/main/java/org/apache/iceberg/spark/actions/RewritePositionDeleteFilesSparkAction.java:    if (partition.size() > 0) {\r\n./spark/v3.5/spark/src/main/java/org/apache/iceberg/spark/actions/SparkBinPackPositionDeletesRewriter.java:    Preconditions.checkArgument(group.size() > 0, \"Empty group\");\r\n./spark/v3.5/spark/src/main/java/org/apache/iceberg/spark/actions/SparkZOrderDataRewriter.java:        validZOrderColNames.size() > 0,\r\n./spark/v3.2/spark/src/test/java/org/apache/iceberg/TestScanTaskSerialization.java:    Assert.assertTrue(\"Task group can't be empty\", taskGroup.tasks().size() > 0);\r\n./spark/v3.2/spark/src/test/java/org/apache/iceberg/TestScanTaskSerialization.java:    Assert.assertTrue(\"Task group can't be empty\", taskGroup.tasks().size() > 0);\r\n./spark/v3.2/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results1.size() > 0);\r\n./spark/v3.2/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results2.size() > 0);\r\n./spark/v3.2/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.2/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results1.size() > 0);\r\n./spark/v3.2/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results2.size() > 0);\r\n./spark/v3.2/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.2/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.2/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.2/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.2/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.2/spark/src/test/java/org/apache/iceberg/spark/actions/TestCreateActions.java:    Assert.assertTrue(results.size() > 0);\r\n./spark/v3.2/spark/src/main/java/org/apache/iceberg/spark/SparkDataFile.java:    if (wrappedPartition.size() > 0) {\r\n./spark/v3.2/spark/src/main/java/org/apache/iceberg/spark/source/SparkBatch.java:        expectedSchema.columns().size() > 0\r\n./spark/v3.2/spark/src/main/java/org/apache/iceberg/spark/actions/RewriteDataFilesSparkAction.java:            if (fileGroups.size() > 0) {\r\n./spark/v3.2/spark/src/main/java/org/apache/iceberg/spark/actions/RewriteDataFilesSparkAction.java:    if (partition.size() > 0) {\r\n./spark/v3.2/spark/src/main/java/org/apache/iceberg/spark/FileScanTaskSetManager.java:        tasks != null && tasks.size() > 0, \"Cannot stage null or empty tasks\");\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759954274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759955441","html_url":"https://github.com/apache/iceberg/pull/8813#issuecomment-1759955441","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8813","id":1759955441,"node_id":"IC_kwDOCW7NX85o5snx","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T16:25:29Z","updated_at":"2023-10-12T16:25:29Z","author_association":"CONTRIBUTOR","body":"Thanks for opening this PR @PickBas. There are a couple more in the codebase. What do you think of doing a PR per module? So we keep it manageable. In this case everything in `core/*`?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759955441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759958867","html_url":"https://github.com/apache/iceberg/pull/8813#issuecomment-1759958867","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8813","id":1759958867,"node_id":"IC_kwDOCW7NX85o5tdT","user":{"login":"PickBas","id":38224153,"node_id":"MDQ6VXNlcjM4MjI0MTUz","avatar_url":"https://avatars.githubusercontent.com/u/38224153?v=4","gravatar_id":"","url":"https://api.github.com/users/PickBas","html_url":"https://github.com/PickBas","followers_url":"https://api.github.com/users/PickBas/followers","following_url":"https://api.github.com/users/PickBas/following{/other_user}","gists_url":"https://api.github.com/users/PickBas/gists{/gist_id}","starred_url":"https://api.github.com/users/PickBas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PickBas/subscriptions","organizations_url":"https://api.github.com/users/PickBas/orgs","repos_url":"https://api.github.com/users/PickBas/repos","events_url":"https://api.github.com/users/PickBas/events{/privacy}","received_events_url":"https://api.github.com/users/PickBas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T16:28:05Z","updated_at":"2023-10-12T16:28:05Z","author_association":"CONTRIBUTOR","body":"@Fokko Sure, will be done. PR per module works for me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759958867/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759962395","html_url":"https://github.com/apache/iceberg/issues/8810#issuecomment-1759962395","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8810","id":1759962395,"node_id":"IC_kwDOCW7NX85o5uUb","user":{"login":"PickBas","id":38224153,"node_id":"MDQ6VXNlcjM4MjI0MTUz","avatar_url":"https://avatars.githubusercontent.com/u/38224153?v=4","gravatar_id":"","url":"https://api.github.com/users/PickBas","html_url":"https://github.com/PickBas","followers_url":"https://api.github.com/users/PickBas/followers","following_url":"https://api.github.com/users/PickBas/following{/other_user}","gists_url":"https://api.github.com/users/PickBas/gists{/gist_id}","starred_url":"https://api.github.com/users/PickBas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PickBas/subscriptions","organizations_url":"https://api.github.com/users/PickBas/orgs","repos_url":"https://api.github.com/users/PickBas/repos","events_url":"https://api.github.com/users/PickBas/events{/privacy}","received_events_url":"https://api.github.com/users/PickBas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T16:30:41Z","updated_at":"2023-10-12T16:30:41Z","author_association":"CONTRIBUTOR","body":"@Fokko Will be done. Could you assign the issue to me, if you don't mind?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1759962395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760006978","html_url":"https://github.com/apache/iceberg/issues/8810#issuecomment-1760006978","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8810","id":1760006978,"node_id":"IC_kwDOCW7NX85o55NC","user":{"login":"PickBas","id":38224153,"node_id":"MDQ6VXNlcjM4MjI0MTUz","avatar_url":"https://avatars.githubusercontent.com/u/38224153?v=4","gravatar_id":"","url":"https://api.github.com/users/PickBas","html_url":"https://github.com/PickBas","followers_url":"https://api.github.com/users/PickBas/followers","following_url":"https://api.github.com/users/PickBas/following{/other_user}","gists_url":"https://api.github.com/users/PickBas/gists{/gist_id}","starred_url":"https://api.github.com/users/PickBas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PickBas/subscriptions","organizations_url":"https://api.github.com/users/PickBas/orgs","repos_url":"https://api.github.com/users/PickBas/repos","events_url":"https://api.github.com/users/PickBas/events{/privacy}","received_events_url":"https://api.github.com/users/PickBas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T16:58:54Z","updated_at":"2023-10-12T16:58:54Z","author_association":"CONTRIBUTOR","body":"@Fokko I have changed everywhere in core/* module from `size()` to `isEmpty()` except _ContentFileParser.java_. In order to move away from `.size() > 0` it is required to add the `isEmpty()` method to the `StructLike` interface. This interface has 29 implementations. Do I need to add the `isEmpty()` method to the aforementioned interface or leave it as is?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760006978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760074698","html_url":"https://github.com/apache/iceberg/pull/8805#issuecomment-1760074698","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8805","id":1760074698,"node_id":"IC_kwDOCW7NX85o6JvK","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T17:40:25Z","updated_at":"2023-10-12T17:40:25Z","author_association":"CONTRIBUTOR","body":"@rdblue @aokolnychyi as @rbalamohan indicated that he's not working on https://github.com/apache/iceberg/pull/6432 anymore, I have taken it up here. I rebased it on master and resolved the conflicts, moving the configuration from `SystemProperties` to the new `SystemConfigs`, changed the default for the pool size to be the same as for the existing worker pool, and the tests are green.\r\n@aokolnychyi I didn't see https://github.com/apache/iceberg/pull/6432#issuecomment-1758777424 until I have put this up. I didn't know that you're also working on this in https://github.com/apache/iceberg/pull/8755. I'll take a look at that.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760074698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760327041","html_url":"https://github.com/apache/iceberg/pull/8807#issuecomment-1760327041","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8807","id":1760327041,"node_id":"IC_kwDOCW7NX85o7HWB","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T20:32:37Z","updated_at":"2023-10-12T20:32:37Z","author_association":"CONTRIBUTOR","body":"interesting this is an approach which impala folks took too : \r\n- https://docs.google.com/document/d/1WF_UOanQ61RUuQlM4LaiRWI0YXpPKZ2VEJ8gyJdDyoY/edit#\r\n\r\nwondering if we could benefit from reads in general as well ? Also do you have more crisp benchmarks demonstrating this would benefit always ?\r\n\r\nhave you tried the caching of delete files on executor solution which @aokolnychyi is working on and integrating with it ? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760327041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760415613","html_url":"https://github.com/apache/iceberg/pull/8799#issuecomment-1760415613","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8799","id":1760415613,"node_id":"IC_kwDOCW7NX85o7c99","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T21:54:01Z","updated_at":"2023-10-12T21:54:01Z","author_association":"CONTRIBUTOR","body":"I will take a look.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760415613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760452990","html_url":"https://github.com/apache/iceberg/issues/8714#issuecomment-1760452990","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8714","id":1760452990,"node_id":"IC_kwDOCW7NX85o7mF-","user":{"login":"dramaticlly","id":5961173,"node_id":"MDQ6VXNlcjU5NjExNzM=","avatar_url":"https://avatars.githubusercontent.com/u/5961173?v=4","gravatar_id":"","url":"https://api.github.com/users/dramaticlly","html_url":"https://github.com/dramaticlly","followers_url":"https://api.github.com/users/dramaticlly/followers","following_url":"https://api.github.com/users/dramaticlly/following{/other_user}","gists_url":"https://api.github.com/users/dramaticlly/gists{/gist_id}","starred_url":"https://api.github.com/users/dramaticlly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dramaticlly/subscriptions","organizations_url":"https://api.github.com/users/dramaticlly/orgs","repos_url":"https://api.github.com/users/dramaticlly/repos","events_url":"https://api.github.com/users/dramaticlly/events{/privacy}","received_events_url":"https://api.github.com/users/dramaticlly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T22:22:44Z","updated_at":"2023-10-12T22:22:44Z","author_association":"CONTRIBUTOR","body":"> My case for removing is to keep things simple and less metadata tables for users to understand and remember.\r\n\r\nDeleting public facing code is probably one of the most difficult tasks, as I see metadata tables tend to grow over time. Personally i dont think user don't need to know all metadata tables all at once, it's like cook book or tool box where you can pick and choose yourselves.  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760452990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760455077","html_url":"https://github.com/apache/iceberg/issues/8702#issuecomment-1760455077","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8702","id":1760455077,"node_id":"IC_kwDOCW7NX85o7mml","user":{"login":"dramaticlly","id":5961173,"node_id":"MDQ6VXNlcjU5NjExNzM=","avatar_url":"https://avatars.githubusercontent.com/u/5961173?v=4","gravatar_id":"","url":"https://api.github.com/users/dramaticlly","html_url":"https://github.com/dramaticlly","followers_url":"https://api.github.com/users/dramaticlly/followers","following_url":"https://api.github.com/users/dramaticlly/following{/other_user}","gists_url":"https://api.github.com/users/dramaticlly/gists{/gist_id}","starred_url":"https://api.github.com/users/dramaticlly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dramaticlly/subscriptions","organizations_url":"https://api.github.com/users/dramaticlly/orgs","repos_url":"https://api.github.com/users/dramaticlly/repos","events_url":"https://api.github.com/users/dramaticlly/events{/privacy}","received_events_url":"https://api.github.com/users/dramaticlly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T22:25:15Z","updated_at":"2023-10-12T22:25:15Z","author_association":"CONTRIBUTOR","body":"data compaction only change physical files layout but not the data visible to users. Consider you originally have 1000 records with 10 duplicates, after deduplication it would be 990 records and also file layout change, I think deduplication (with ability to identify the row based on primary key or unique row identifier) probably need its own action/procedure instead of rely on data compaction.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760455077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760563302","html_url":"https://github.com/apache/iceberg/issues/7231#issuecomment-1760563302","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7231","id":1760563302,"node_id":"IC_kwDOCW7NX85o8BBm","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T00:11:12Z","updated_at":"2023-10-13T00:11:12Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760563302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760653401","html_url":"https://github.com/apache/iceberg/pull/8807#issuecomment-1760653401","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8807","id":1760653401,"node_id":"IC_kwDOCW7NX85o8XBZ","user":{"login":"zinking","id":118241,"node_id":"MDQ6VXNlcjExODI0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/118241?v=4","gravatar_id":"","url":"https://api.github.com/users/zinking","html_url":"https://github.com/zinking","followers_url":"https://api.github.com/users/zinking/followers","following_url":"https://api.github.com/users/zinking/following{/other_user}","gists_url":"https://api.github.com/users/zinking/gists{/gist_id}","starred_url":"https://api.github.com/users/zinking/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zinking/subscriptions","organizations_url":"https://api.github.com/users/zinking/orgs","repos_url":"https://api.github.com/users/zinking/repos","events_url":"https://api.github.com/users/zinking/events{/privacy}","received_events_url":"https://api.github.com/users/zinking/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T02:01:34Z","updated_at":"2023-10-13T02:01:34Z","author_association":"CONTRIBUTOR","body":"\r\n> wondering if we could benefit from reads in general as well ? \r\n\r\nyep, like mentioned in the distributed planning work: when metadata becomes big, hand crafted parallel code is no longer optimal. if reads are planned optimally these delete files would be read concurrently instead of what we have now. \r\n\r\n> Also do you have more crisp benchmarks demonstrating this would benefit always ?\r\n\r\nI don't think this benefit always, it's easy to imagine that when there are only a couple of delete files, join would certainly not outperform. but when metadata becomes larger, it would always benefit as in theory file reads decreased. \r\n\r\nI don't have more numbers at the moment, and the benchmark above isn't fully optimized. \r\n\r\n> have you tried the caching of delete files on executor solution which @aokolnychyi is working on and integrating with it ?\r\n\r\nnot yet\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760653401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760659443","html_url":"https://github.com/apache/iceberg/issues/8802#issuecomment-1760659443","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8802","id":1760659443,"node_id":"IC_kwDOCW7NX85o8Yfz","user":{"login":"Zhanxiao-Ma","id":24912951,"node_id":"MDQ6VXNlcjI0OTEyOTUx","avatar_url":"https://avatars.githubusercontent.com/u/24912951?v=4","gravatar_id":"","url":"https://api.github.com/users/Zhanxiao-Ma","html_url":"https://github.com/Zhanxiao-Ma","followers_url":"https://api.github.com/users/Zhanxiao-Ma/followers","following_url":"https://api.github.com/users/Zhanxiao-Ma/following{/other_user}","gists_url":"https://api.github.com/users/Zhanxiao-Ma/gists{/gist_id}","starred_url":"https://api.github.com/users/Zhanxiao-Ma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zhanxiao-Ma/subscriptions","organizations_url":"https://api.github.com/users/Zhanxiao-Ma/orgs","repos_url":"https://api.github.com/users/Zhanxiao-Ma/repos","events_url":"https://api.github.com/users/Zhanxiao-Ma/events{/privacy}","received_events_url":"https://api.github.com/users/Zhanxiao-Ma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T02:09:57Z","updated_at":"2023-10-13T03:13:57Z","author_association":"NONE","body":"> Thanks @pvary, I have a maybe naive question @MarsKT\r\n> \r\n> > want the data read from iceberg to be in the same order every time.\r\n> \r\n> Can I ask what's driving this need?\r\n\r\nThe underlying storage layer of the data analytics software is iceberg, and its users expect consistent data ordering when previewing the data each time. (If sorting is performed by adding a sorting column, performance cannot be guaranteed.)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760659443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760704067","html_url":"https://github.com/apache/iceberg/issues/8802#issuecomment-1760704067","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8802","id":1760704067,"node_id":"IC_kwDOCW7NX85o8jZD","user":{"login":"Zhanxiao-Ma","id":24912951,"node_id":"MDQ6VXNlcjI0OTEyOTUx","avatar_url":"https://avatars.githubusercontent.com/u/24912951?v=4","gravatar_id":"","url":"https://api.github.com/users/Zhanxiao-Ma","html_url":"https://github.com/Zhanxiao-Ma","followers_url":"https://api.github.com/users/Zhanxiao-Ma/followers","following_url":"https://api.github.com/users/Zhanxiao-Ma/following{/other_user}","gists_url":"https://api.github.com/users/Zhanxiao-Ma/gists{/gist_id}","starred_url":"https://api.github.com/users/Zhanxiao-Ma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zhanxiao-Ma/subscriptions","organizations_url":"https://api.github.com/users/Zhanxiao-Ma/orgs","repos_url":"https://api.github.com/users/Zhanxiao-Ma/repos","events_url":"https://api.github.com/users/Zhanxiao-Ma/events{/privacy}","received_events_url":"https://api.github.com/users/Zhanxiao-Ma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T03:23:21Z","updated_at":"2023-10-13T03:23:21Z","author_association":"NONE","body":"> Sometimes we need to do similar thing in Flink Source, and we ended up creating our own comparator for this which compares Iceberg splits (which are a wrapper above ScanTasks).\r\n\r\nI'm sorry, I didn't quite understand this point. Could you please explain it in more detail?\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760704067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760787847","html_url":"https://github.com/apache/iceberg/issues/8045#issuecomment-1760787847","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8045","id":1760787847,"node_id":"IC_kwDOCW7NX85o832H","user":{"login":"atifiu","id":48252551,"node_id":"MDQ6VXNlcjQ4MjUyNTUx","avatar_url":"https://avatars.githubusercontent.com/u/48252551?v=4","gravatar_id":"","url":"https://api.github.com/users/atifiu","html_url":"https://github.com/atifiu","followers_url":"https://api.github.com/users/atifiu/followers","following_url":"https://api.github.com/users/atifiu/following{/other_user}","gists_url":"https://api.github.com/users/atifiu/gists{/gist_id}","starred_url":"https://api.github.com/users/atifiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atifiu/subscriptions","organizations_url":"https://api.github.com/users/atifiu/orgs","repos_url":"https://api.github.com/users/atifiu/repos","events_url":"https://api.github.com/users/atifiu/events{/privacy}","received_events_url":"https://api.github.com/users/atifiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T04:39:33Z","updated_at":"2023-10-13T04:39:33Z","author_association":"NONE","body":"@szehon-ho Thanks for the fix. I am facing the same issue on iceberg 1.3.0 while trying to remove delete files using proc `rewrite_position_delete_files` . Reason why I have remove delete files is the fact that aggregate pushdown is failing with this error message `SparkScanBuilder: Skipping aggregate pushdown: detected row level deletes`. https://github.com/apache/iceberg/pull/6252#issuecomment-1757848584 \r\nAnd I am still not sure how delete files were created when I have defined Merge on Read for dml operations.\r\nhttps://github.com/apache/iceberg/pull/6252#issuecomment-1758873680\r\n\r\nSo my questions to you is how can we remove delete files if we are still using 1.3.0 ? Is it somehow possible to manually remove reference of delete files without corrupting the metadata ? Thanks for your help.\r\n\r\n\r\n```\r\n23/10/13 00:16:56 ERROR RewritePositionDeleteFilesSparkAction: Failure during rewrite group FileGroupInfo{globalIndex=1, partitionIndex=1, partition=org.apache.iceberg.util.StructProjection@3162902b}\r\norg.apache.spark.sql.AnalysisException: cannot resolve '(partition.`page_view_dtm_day` = 18384)' due to data type mismatch: differing types in '(partition.`page_view_dtm_day` = 18384)' (date and int).;\r\n'Filter (partition#4925.page_view_dtm_day = 18384)\r\n+- RelationV2[content#4921, file_path#4922, file_format#4923, spec_id#4924, partition#4925, record_count#4926L, file_size_in_bytes#4927L, column_sizes#4928, value_counts#4929, null_value_counts#4930, nan_value_counts#4931, lower_bounds#4932, upper_bounds#4933, key_metadata#4934, split_offsets#4935, equality_ids#4936, sort_order_id#4937, readable_metrics#4938]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760787847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760825445","html_url":"https://github.com/apache/iceberg/pull/6252#issuecomment-1760825445","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6252","id":1760825445,"node_id":"IC_kwDOCW7NX85o9BBl","user":{"login":"atifiu","id":48252551,"node_id":"MDQ6VXNlcjQ4MjUyNTUx","avatar_url":"https://avatars.githubusercontent.com/u/48252551?v=4","gravatar_id":"","url":"https://api.github.com/users/atifiu","html_url":"https://github.com/atifiu","followers_url":"https://api.github.com/users/atifiu/followers","following_url":"https://api.github.com/users/atifiu/following{/other_user}","gists_url":"https://api.github.com/users/atifiu/gists{/gist_id}","starred_url":"https://api.github.com/users/atifiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atifiu/subscriptions","organizations_url":"https://api.github.com/users/atifiu/orgs","repos_url":"https://api.github.com/users/atifiu/repos","events_url":"https://api.github.com/users/atifiu/events{/privacy}","received_events_url":"https://api.github.com/users/atifiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T05:03:16Z","updated_at":"2023-10-13T05:03:16Z","author_association":"NONE","body":"@huaxingao What can be the possible reasons for aggregate pushdown to not work when using filters, if you can give me some idea/hint I will try to look into it further.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760825445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760921944","html_url":"https://github.com/apache/iceberg/issues/8824#issuecomment-1760921944","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8824","id":1760921944,"node_id":"IC_kwDOCW7NX85o9YlY","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T05:52:52Z","updated_at":"2023-10-13T05:52:52Z","author_association":"MEMBER","body":"Looks like it is a regression : https://github.com/apache/iceberg/pull/4859\r\nIt seems we tried fixing it long time back but didn't fix properly. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1760921944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761008540","html_url":"https://github.com/apache/iceberg/pull/8819#issuecomment-1761008540","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8819","id":1761008540,"node_id":"IC_kwDOCW7NX85o9tuc","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T07:02:03Z","updated_at":"2023-10-13T07:02:03Z","author_association":"CONTRIBUTOR","body":"@PickBas thanks for working on this. I think it would be great to combine all changes in a single PR rather than opening 1-file PRs","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761008540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761042424","html_url":"https://github.com/apache/iceberg/pull/8819#issuecomment-1761042424","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8819","id":1761042424,"node_id":"IC_kwDOCW7NX85o91_4","user":{"login":"PickBas","id":38224153,"node_id":"MDQ6VXNlcjM4MjI0MTUz","avatar_url":"https://avatars.githubusercontent.com/u/38224153?v=4","gravatar_id":"","url":"https://api.github.com/users/PickBas","html_url":"https://github.com/PickBas","followers_url":"https://api.github.com/users/PickBas/followers","following_url":"https://api.github.com/users/PickBas/following{/other_user}","gists_url":"https://api.github.com/users/PickBas/gists{/gist_id}","starred_url":"https://api.github.com/users/PickBas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PickBas/subscriptions","organizations_url":"https://api.github.com/users/PickBas/orgs","repos_url":"https://api.github.com/users/PickBas/repos","events_url":"https://api.github.com/users/PickBas/events{/privacy}","received_events_url":"https://api.github.com/users/PickBas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T07:31:11Z","updated_at":"2023-10-13T07:31:11Z","author_association":"CONTRIBUTOR","body":"> @PickBas thanks for working on this. I think it would be great to combine all changes in a single PR rather than opening 1-file PRs\r\n\r\n@nastra Thank you for your feedback. I've done 1 PR per module so we could keep the changes traceable and manageable, as @Fokko requested in PR #8813. \r\n\r\nI may do it another way: keep PRs open for spark and core modules, since they include most of the changes, and combine the rest of the modules into a single PR.\r\n\r\nIf that works for both you and @Fokko, I will surely do that.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761042424/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761134284","html_url":"https://github.com/apache/iceberg/issues/8824#issuecomment-1761134284","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8824","id":1761134284,"node_id":"IC_kwDOCW7NX85o-MbM","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T08:36:21Z","updated_at":"2023-10-13T08:38:59Z","author_association":"CONTRIBUTOR","body":"Yeah, I'd probably start with making this https://github.com/apache/iceberg/blob/main/spark/v3.5/spark/src/test/java/org/apache/iceberg/spark/actions/TestRemoveOrphanFilesAction.java#L273 a `ConcurrentHashMap.newKeySet();`. Even though the test adds unique elements (file paths), there are no thread safety guarantees on normal hash sets. I think it's possible that with concurrent inserts there could be some weird corruptions of internal state on the underlying table/buckets (e.g. a new write somehow replaces an existing element despite having a different hashcode and equals) in the set which lead to missing elements. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761134284/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761167713","html_url":"https://github.com/apache/iceberg/pull/8819#issuecomment-1761167713","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8819","id":1761167713,"node_id":"IC_kwDOCW7NX85o-Ulh","user":{"login":"PickBas","id":38224153,"node_id":"MDQ6VXNlcjM4MjI0MTUz","avatar_url":"https://avatars.githubusercontent.com/u/38224153?v=4","gravatar_id":"","url":"https://api.github.com/users/PickBas","html_url":"https://github.com/PickBas","followers_url":"https://api.github.com/users/PickBas/followers","following_url":"https://api.github.com/users/PickBas/following{/other_user}","gists_url":"https://api.github.com/users/PickBas/gists{/gist_id}","starred_url":"https://api.github.com/users/PickBas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PickBas/subscriptions","organizations_url":"https://api.github.com/users/PickBas/orgs","repos_url":"https://api.github.com/users/PickBas/repos","events_url":"https://api.github.com/users/PickBas/events{/privacy}","received_events_url":"https://api.github.com/users/PickBas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T09:00:58Z","updated_at":"2023-10-13T09:00:58Z","author_association":"CONTRIBUTOR","body":"@amogh-jahagirdar @nastra  @Fokko Done. Now the rest of the modules are included in this pull request.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761167713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761169778","html_url":"https://github.com/apache/iceberg/pull/7161#issuecomment-1761169778","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7161","id":1761169778,"node_id":"IC_kwDOCW7NX85o-VFy","user":{"login":"chenwyi2","id":19389434,"node_id":"MDQ6VXNlcjE5Mzg5NDM0","avatar_url":"https://avatars.githubusercontent.com/u/19389434?v=4","gravatar_id":"","url":"https://api.github.com/users/chenwyi2","html_url":"https://github.com/chenwyi2","followers_url":"https://api.github.com/users/chenwyi2/followers","following_url":"https://api.github.com/users/chenwyi2/following{/other_user}","gists_url":"https://api.github.com/users/chenwyi2/gists{/gist_id}","starred_url":"https://api.github.com/users/chenwyi2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenwyi2/subscriptions","organizations_url":"https://api.github.com/users/chenwyi2/orgs","repos_url":"https://api.github.com/users/chenwyi2/repos","events_url":"https://api.github.com/users/chenwyi2/events{/privacy}","received_events_url":"https://api.github.com/users/chenwyi2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T09:02:30Z","updated_at":"2023-10-13T09:02:30Z","author_association":"NONE","body":"Hi @stevenzwu @kengtin this PR can be create too many small files when parition with dt,hout,minute and bucekt(id), suppose paralisim is 120 and bucke number is 8, then 15 writes can write into same one bucket, but there is problem, data from the previous few hours can be into one commit because of data latency, there can be 15000 and more data files if changed partition is up to 1000, can we use complete parition name instead of just bucket?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761169778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761169780","html_url":"https://github.com/apache/iceberg/pull/8819#issuecomment-1761169780","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8819","id":1761169780,"node_id":"IC_kwDOCW7NX85o-VF0","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T09:02:30Z","updated_at":"2023-10-13T09:02:30Z","author_association":"CONTRIBUTOR","body":"> If that works for both you and @Fokko, I will surely do that.\r\n\r\nI'm open to everything. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761169780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761210176","html_url":"https://github.com/apache/iceberg/pull/8808#issuecomment-1761210176","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8808","id":1761210176,"node_id":"IC_kwDOCW7NX85o-e9A","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T09:30:54Z","updated_at":"2023-10-13T09:30:54Z","author_association":"CONTRIBUTOR","body":"@fengjiajie thanks for working on this. Could you please add a test that reproduces the issue?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761210176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761324612","html_url":"https://github.com/apache/iceberg/pull/8819#issuecomment-1761324612","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8819","id":1761324612,"node_id":"IC_kwDOCW7NX85o-65E","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T11:00:05Z","updated_at":"2023-10-13T11:00:05Z","author_association":"CONTRIBUTOR","body":"Thanks @PickBas for picking this up 🙌  and @nastra and @ajantha-bhat for the review 👍 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761324612/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761560686","html_url":"https://github.com/apache/iceberg/pull/8788#issuecomment-1761560686","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8788","id":1761560686,"node_id":"IC_kwDOCW7NX85o_0hu","user":{"login":"jbonofre","id":158903,"node_id":"MDQ6VXNlcjE1ODkwMw==","avatar_url":"https://avatars.githubusercontent.com/u/158903?v=4","gravatar_id":"","url":"https://api.github.com/users/jbonofre","html_url":"https://github.com/jbonofre","followers_url":"https://api.github.com/users/jbonofre/followers","following_url":"https://api.github.com/users/jbonofre/following{/other_user}","gists_url":"https://api.github.com/users/jbonofre/gists{/gist_id}","starred_url":"https://api.github.com/users/jbonofre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbonofre/subscriptions","organizations_url":"https://api.github.com/users/jbonofre/orgs","repos_url":"https://api.github.com/users/jbonofre/repos","events_url":"https://api.github.com/users/jbonofre/events{/privacy}","received_events_url":"https://api.github.com/users/jbonofre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T13:53:12Z","updated_at":"2023-10-13T13:53:12Z","author_association":"MEMBER","body":"I propose to close this PR in favor of #8830 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761560686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761561894","html_url":"https://github.com/apache/iceberg/pull/8238#issuecomment-1761561894","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8238","id":1761561894,"node_id":"IC_kwDOCW7NX85o_00m","user":{"login":"jbonofre","id":158903,"node_id":"MDQ6VXNlcjE1ODkwMw==","avatar_url":"https://avatars.githubusercontent.com/u/158903?v=4","gravatar_id":"","url":"https://api.github.com/users/jbonofre","html_url":"https://github.com/jbonofre","followers_url":"https://api.github.com/users/jbonofre/followers","following_url":"https://api.github.com/users/jbonofre/following{/other_user}","gists_url":"https://api.github.com/users/jbonofre/gists{/gist_id}","starred_url":"https://api.github.com/users/jbonofre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbonofre/subscriptions","organizations_url":"https://api.github.com/users/jbonofre/orgs","repos_url":"https://api.github.com/users/jbonofre/repos","events_url":"https://api.github.com/users/jbonofre/events{/privacy}","received_events_url":"https://api.github.com/users/jbonofre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T13:54:00Z","updated_at":"2023-10-13T13:54:00Z","author_association":"MEMBER","body":"I propose to close this PR in favor of #8830 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761561894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761663164","html_url":"https://github.com/apache/iceberg/pull/8238#issuecomment-1761663164","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8238","id":1761663164,"node_id":"IC_kwDOCW7NX85pANi8","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T14:58:55Z","updated_at":"2023-10-13T14:58:55Z","author_association":"MEMBER","body":"> I propose to close this PR in favor of https://github.com/apache/iceberg/pull/8830\r\n\r\nAgree. Thanks for raising the PR to support the last JDK8 version. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761663164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761663265","html_url":"https://github.com/apache/iceberg/pull/8238#issuecomment-1761663265","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8238","id":1761663265,"node_id":"IC_kwDOCW7NX85pANkh","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T14:58:58Z","updated_at":"2023-10-13T14:58:58Z","author_association":"CONTRIBUTOR","body":"OK, I won't notify you again about this release, but will get in touch when a new version is available. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.\n\nIf you change your mind, just re-open this PR and I'll resolve any conflicts on it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761663265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761667236","html_url":"https://github.com/apache/iceberg/pull/8788#issuecomment-1761667236","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8788","id":1761667236,"node_id":"IC_kwDOCW7NX85pAOik","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T15:01:44Z","updated_at":"2023-10-13T15:01:52Z","author_association":"MEMBER","body":"> I propose to close this PR in favor of https://github.com/apache/iceberg/pull/8830\r\n\r\nAgree. Thanks for raising the PR to support the last JDK8 version.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761667236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761667373","html_url":"https://github.com/apache/iceberg/pull/8788#issuecomment-1761667373","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8788","id":1761667373,"node_id":"IC_kwDOCW7NX85pAOkt","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T15:01:47Z","updated_at":"2023-10-13T15:01:47Z","author_association":"CONTRIBUTOR","body":"OK, I won't notify you again about this release, but will get in touch when a new version is available. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.\n\nIf you change your mind, just re-open this PR and I'll resolve any conflicts on it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761667373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761669307","html_url":"https://github.com/apache/iceberg/pull/8811#issuecomment-1761669307","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8811","id":1761669307,"node_id":"IC_kwDOCW7NX85pAPC7","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T15:03:09Z","updated_at":"2023-10-13T15:03:09Z","author_association":"MEMBER","body":"Closing in the favour of https://github.com/apache/iceberg/pull/8828","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761669307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761669389","html_url":"https://github.com/apache/iceberg/pull/8811#issuecomment-1761669389","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8811","id":1761669389,"node_id":"IC_kwDOCW7NX85pAPEN","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T15:03:12Z","updated_at":"2023-10-13T15:03:12Z","author_association":"CONTRIBUTOR","body":"OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.\n\nIf you change your mind, just re-open this PR and I'll resolve any conflicts on it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761669389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761680652","html_url":"https://github.com/apache/iceberg/pull/6252#issuecomment-1761680652","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6252","id":1761680652,"node_id":"IC_kwDOCW7NX85pAR0M","user":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T15:11:16Z","updated_at":"2023-10-13T15:11:16Z","author_association":"CONTRIBUTOR","body":"@atifiu File statistics are not accurate and can't be used any more if you use filters.\r\n\r\nFor example, you have table (col int), the max of col is 100, and the min is 0, so the statistics file is\r\n```\r\nmax       min\r\n100        1\r\n```\r\nIf you have `SELECT MAX(col) FROM table`, we can check the statistics file and simple return 100, but if you have `SELECT MAX(col) FROM table WHERE col < 70`, we can't use the statistics file any more. We only know that the `MAX(col)` is smaller than 70, but we have no idea what value it is, so have to compute.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761680652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761688659","html_url":"https://github.com/apache/iceberg/pull/6252#issuecomment-1761688659","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6252","id":1761688659,"node_id":"IC_kwDOCW7NX85pATxT","user":{"login":"atifiu","id":48252551,"node_id":"MDQ6VXNlcjQ4MjUyNTUx","avatar_url":"https://avatars.githubusercontent.com/u/48252551?v=4","gravatar_id":"","url":"https://api.github.com/users/atifiu","html_url":"https://github.com/atifiu","followers_url":"https://api.github.com/users/atifiu/followers","following_url":"https://api.github.com/users/atifiu/following{/other_user}","gists_url":"https://api.github.com/users/atifiu/gists{/gist_id}","starred_url":"https://api.github.com/users/atifiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atifiu/subscriptions","organizations_url":"https://api.github.com/users/atifiu/orgs","repos_url":"https://api.github.com/users/atifiu/repos","events_url":"https://api.github.com/users/atifiu/events{/privacy}","received_events_url":"https://api.github.com/users/atifiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T15:16:14Z","updated_at":"2023-10-13T15:16:14Z","author_association":"NONE","body":"@huaxingao so you meant to say that with filters whether on partitioned or non partitioned column(s), aggregate pushdown will not work ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761688659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761909655","html_url":"https://github.com/apache/iceberg/pull/6252#issuecomment-1761909655","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6252","id":1761909655,"node_id":"IC_kwDOCW7NX85pBJuX","user":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T17:38:23Z","updated_at":"2023-10-13T17:38:23Z","author_association":"CONTRIBUTOR","body":"If filters are on partitioned columns, aggregate pushdown should work.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761909655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761916077","html_url":"https://github.com/apache/iceberg/pull/6252#issuecomment-1761916077","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6252","id":1761916077,"node_id":"IC_kwDOCW7NX85pBLSt","user":{"login":"atifiu","id":48252551,"node_id":"MDQ6VXNlcjQ4MjUyNTUx","avatar_url":"https://avatars.githubusercontent.com/u/48252551?v=4","gravatar_id":"","url":"https://api.github.com/users/atifiu","html_url":"https://github.com/atifiu","followers_url":"https://api.github.com/users/atifiu/followers","following_url":"https://api.github.com/users/atifiu/following{/other_user}","gists_url":"https://api.github.com/users/atifiu/gists{/gist_id}","starred_url":"https://api.github.com/users/atifiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atifiu/subscriptions","organizations_url":"https://api.github.com/users/atifiu/orgs","repos_url":"https://api.github.com/users/atifiu/repos","events_url":"https://api.github.com/users/atifiu/events{/privacy}","received_events_url":"https://api.github.com/users/atifiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T17:40:54Z","updated_at":"2023-10-13T17:40:54Z","author_association":"NONE","body":"It's not working. Either with between, > or <.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1761916077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1762149585","html_url":"https://github.com/apache/iceberg/pull/6252#issuecomment-1762149585","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6252","id":1762149585,"node_id":"IC_kwDOCW7NX85pCETR","user":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-13T20:18:30Z","updated_at":"2023-10-13T20:18:30Z","author_association":"CONTRIBUTOR","body":"@atifiu I suspect somehow your partition filter isn't completely pushed down. In this [PR](https://github.com/apache/iceberg/pull/6524), we will discard filters that can be completely evaluated using partition metadata. Could you check the EXPLAIN and see if there is still filter? If there is filter, then somehow the partition filter is not completely pushed down and Spark has to filter again, and statistics is not accurate in this case, and we can't push down aggregates.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1762149585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1762413736","html_url":"https://github.com/apache/iceberg/issues/7221#issuecomment-1762413736","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7221","id":1762413736,"node_id":"IC_kwDOCW7NX85pDEyo","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-10-14T00:10:45Z","updated_at":"2023-10-14T00:10:45Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1762413736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1762436892","html_url":"https://github.com/apache/iceberg/pull/6252#issuecomment-1762436892","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6252","id":1762436892,"node_id":"IC_kwDOCW7NX85pDKcc","user":{"login":"atifiu","id":48252551,"node_id":"MDQ6VXNlcjQ4MjUyNTUx","avatar_url":"https://avatars.githubusercontent.com/u/48252551?v=4","gravatar_id":"","url":"https://api.github.com/users/atifiu","html_url":"https://github.com/atifiu","followers_url":"https://api.github.com/users/atifiu/followers","following_url":"https://api.github.com/users/atifiu/following{/other_user}","gists_url":"https://api.github.com/users/atifiu/gists{/gist_id}","starred_url":"https://api.github.com/users/atifiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atifiu/subscriptions","organizations_url":"https://api.github.com/users/atifiu/orgs","repos_url":"https://api.github.com/users/atifiu/repos","events_url":"https://api.github.com/users/atifiu/events{/privacy}","received_events_url":"https://api.github.com/users/atifiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-14T00:56:23Z","updated_at":"2023-10-14T00:56:23Z","author_association":"NONE","body":"@huaxingao So, unless we get this message  \"Evaluating completely on Iceberg\" which means full filter pushdown is down, otherwise filter pushdown is partial or or not at all. In my case I am doing filtering on partitioned column with day transformation on timestamp data type. But i am querying data based on local timezone but partitioning is defined on UTC timezone which means partial pushdown will take place. This might be the reason  aggregate pushdown is not working in case of filters. I still have to validate this  in the logs but is my understanding correct ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1762436892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1762465495","html_url":"https://github.com/apache/iceberg/pull/8808#issuecomment-1762465495","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8808","id":1762465495,"node_id":"IC_kwDOCW7NX85pDRbX","user":{"login":"fengjiajie","id":16379560,"node_id":"MDQ6VXNlcjE2Mzc5NTYw","avatar_url":"https://avatars.githubusercontent.com/u/16379560?v=4","gravatar_id":"","url":"https://api.github.com/users/fengjiajie","html_url":"https://github.com/fengjiajie","followers_url":"https://api.github.com/users/fengjiajie/followers","following_url":"https://api.github.com/users/fengjiajie/following{/other_user}","gists_url":"https://api.github.com/users/fengjiajie/gists{/gist_id}","starred_url":"https://api.github.com/users/fengjiajie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fengjiajie/subscriptions","organizations_url":"https://api.github.com/users/fengjiajie/orgs","repos_url":"https://api.github.com/users/fengjiajie/repos","events_url":"https://api.github.com/users/fengjiajie/events{/privacy}","received_events_url":"https://api.github.com/users/fengjiajie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-14T01:33:57Z","updated_at":"2023-10-14T01:33:57Z","author_association":"CONTRIBUTOR","body":"@nastra Thank you for taking the time to review my code","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1762465495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1762592732","html_url":"https://github.com/apache/iceberg/pull/7161#issuecomment-1762592732","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7161","id":1762592732,"node_id":"IC_kwDOCW7NX85pDwfc","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-14T04:31:02Z","updated_at":"2023-10-14T04:31:02Z","author_association":"CONTRIBUTOR","body":"@chenwyi2 Is your point that we shouldn't only consider bucketing column (like did in this PR). you just want a plain keyBy in this case? that would be a fair point. Do you get balanced traffic distribution among write tasks with simple keyBy?\r\n\r\nI am also wondering if the partition spec of dt,hour,minute and bucekt(id) is the best option. especially the minute column as partition. do you really need minute level partition granularity.  you are creating very fine grained partitions. even with the most optimal data distribution/shuffle. there are still a lot of partitions and data files. \r\n\r\nyou used 8 for bucket number. it seems quite small for bucketing. what's the reason of using 8 buckets?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1762592732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763151183","html_url":"https://github.com/apache/iceberg/issues/8832#issuecomment-1763151183","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8832","id":1763151183,"node_id":"IC_kwDOCW7NX85pF41P","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-14T19:27:30Z","updated_at":"2023-10-14T19:27:30Z","author_association":"CONTRIBUTOR","body":"Thanks for reporting @haizhou-zhao , this is a surprising behavior. I put up a fix for this in #8833 to do exact search, let me know what you think.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763151183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763172619","html_url":"https://github.com/apache/iceberg/pull/7992#issuecomment-1763172619","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7992","id":1763172619,"node_id":"IC_kwDOCW7NX85pF-EL","user":{"login":"wmoustafa","id":10084105,"node_id":"MDQ6VXNlcjEwMDg0MTA1","avatar_url":"https://avatars.githubusercontent.com/u/10084105?v=4","gravatar_id":"","url":"https://api.github.com/users/wmoustafa","html_url":"https://github.com/wmoustafa","followers_url":"https://api.github.com/users/wmoustafa/followers","following_url":"https://api.github.com/users/wmoustafa/following{/other_user}","gists_url":"https://api.github.com/users/wmoustafa/gists{/gist_id}","starred_url":"https://api.github.com/users/wmoustafa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wmoustafa/subscriptions","organizations_url":"https://api.github.com/users/wmoustafa/orgs","repos_url":"https://api.github.com/users/wmoustafa/repos","events_url":"https://api.github.com/users/wmoustafa/events{/privacy}","received_events_url":"https://api.github.com/users/wmoustafa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-14T20:28:37Z","updated_at":"2023-10-14T20:33:05Z","author_association":"CONTRIBUTOR","body":"> Also, I'm not convinced that you can/should have `field-aliases` and `field-comments` at the top-level. Some engines may support field aliases, but others do not so they don't apply equally to the representations and is inconsistent with the spec, which has them at the representation level.\r\n\r\n+1. Also worth considering whether \"Representation\" really refers to an engine or a dialect. Right now it looks like dialect, but even if we go with the above we will be making an implicit correlation between dialect and engine. I realize that aliases were removed from this PR, but this idea about engine x dialect correlation is worth considering in future designs.\r\n\r\n> I think it's fine to omit the default catalog and default namespaces, especially if we can appropriately qualify them in the engine when constructing the sql representation.\r\n\r\n+1. How are we thinking about the fact that catalog names are not the same across engines, even when the underlying tables end up being looked up from the same metastore/catalog? E.g., `hive.db.t` in Trino might refer to the same table as `spark_catalog.db.t` in Spark?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763172619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763216091","html_url":"https://github.com/apache/iceberg/issues/7365#issuecomment-1763216091","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7365","id":1763216091,"node_id":"IC_kwDOCW7NX85pGIrb","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-10-15T00:12:00Z","updated_at":"2023-10-15T00:12:00Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763216091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763216102","html_url":"https://github.com/apache/iceberg/issues/7287#issuecomment-1763216102","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7287","id":1763216102,"node_id":"IC_kwDOCW7NX85pGIrm","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-10-15T00:12:03Z","updated_at":"2023-10-15T00:12:03Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763216102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763254744","html_url":"https://github.com/apache/iceberg/issues/8045#issuecomment-1763254744","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8045","id":1763254744,"node_id":"IC_kwDOCW7NX85pGSHY","user":{"login":"atifiu","id":48252551,"node_id":"MDQ6VXNlcjQ4MjUyNTUx","avatar_url":"https://avatars.githubusercontent.com/u/48252551?v=4","gravatar_id":"","url":"https://api.github.com/users/atifiu","html_url":"https://github.com/atifiu","followers_url":"https://api.github.com/users/atifiu/followers","following_url":"https://api.github.com/users/atifiu/following{/other_user}","gists_url":"https://api.github.com/users/atifiu/gists{/gist_id}","starred_url":"https://api.github.com/users/atifiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atifiu/subscriptions","organizations_url":"https://api.github.com/users/atifiu/orgs","repos_url":"https://api.github.com/users/atifiu/repos","events_url":"https://api.github.com/users/atifiu/events{/privacy}","received_events_url":"https://api.github.com/users/atifiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-15T03:25:25Z","updated_at":"2023-10-15T03:25:25Z","author_association":"NONE","body":"And we are still using spark 3.3.1 so is there any way to get around this issue without upgrading to spark 3.4 and iceberg 1.3.1.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763254744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763268099","html_url":"https://github.com/apache/iceberg/pull/8789#issuecomment-1763268099","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8789","id":1763268099,"node_id":"IC_kwDOCW7NX85pGVYD","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-10-15T04:27:47Z","updated_at":"2023-10-15T04:27:47Z","author_association":"CONTRIBUTOR","body":"Superseded by #8839.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763268099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763268107","html_url":"https://github.com/apache/iceberg/pull/8812#issuecomment-1763268107","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8812","id":1763268107,"node_id":"IC_kwDOCW7NX85pGVYL","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-10-15T04:27:50Z","updated_at":"2023-10-15T04:27:50Z","author_association":"CONTRIBUTOR","body":"Superseded by #8840.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763268107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763386067","html_url":"https://github.com/apache/iceberg/issues/8045#issuecomment-1763386067","issue_url":"https://api.github.com/repos/apache/iceberg/issues/8045","id":1763386067,"node_id":"IC_kwDOCW7NX85pGyLT","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-15T13:14:20Z","updated_at":"2023-10-15T13:14:20Z","author_association":"CONTRIBUTOR","body":"@atifiu The patch has been backported to Spark 3.3 as well: https://github.com/apache/iceberg/pull/8069 so you only need to upgrade your Iceberg dependency.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763386067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763425359","html_url":"https://github.com/apache/iceberg/pull/6252#issuecomment-1763425359","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6252","id":1763425359,"node_id":"IC_kwDOCW7NX85pG7xP","user":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-15T15:32:27Z","updated_at":"2023-10-15T15:32:27Z","author_association":"CONTRIBUTOR","body":"@atifiu That's right. If the filters are not completely evaluated on iceberg, then Spark has to evaluate the filters, the Min/Max/Count values might change after the filtering. Therefore, we can't rely on the statistical information for Min/Max/Count. \r\nI also suspect that the timezone could be the reason that the filter isn't fully pushed down, but I can't be certain without examining the details.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763425359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763511414","html_url":"https://github.com/apache/iceberg/issues/3747#issuecomment-1763511414","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3747","id":1763511414,"node_id":"IC_kwDOCW7NX85pHQx2","user":{"login":"pawankukreja01","id":87988245,"node_id":"MDQ6VXNlcjg3OTg4MjQ1","avatar_url":"https://avatars.githubusercontent.com/u/87988245?v=4","gravatar_id":"","url":"https://api.github.com/users/pawankukreja01","html_url":"https://github.com/pawankukreja01","followers_url":"https://api.github.com/users/pawankukreja01/followers","following_url":"https://api.github.com/users/pawankukreja01/following{/other_user}","gists_url":"https://api.github.com/users/pawankukreja01/gists{/gist_id}","starred_url":"https://api.github.com/users/pawankukreja01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pawankukreja01/subscriptions","organizations_url":"https://api.github.com/users/pawankukreja01/orgs","repos_url":"https://api.github.com/users/pawankukreja01/repos","events_url":"https://api.github.com/users/pawankukreja01/events{/privacy}","received_events_url":"https://api.github.com/users/pawankukreja01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-15T21:41:12Z","updated_at":"2023-10-15T21:41:12Z","author_association":"NONE","body":"Based on the error message you provided, it seems like the column idd has an incompatible type with the existing columns in their respective positions.\r\n\r\nTo add a column to an existing table, you can use the `ALTER TABLE` statement. Here’s an example of how to add a column to a table:\r\n\r\n`ALTER TABLE table_name ADD column_name datatype;`\r\n\r\nIn your case, you can try running the following SQL command to add a new column named `idd1` of type `bigint` with a comment of `test2` after the `age` column:\r\n\r\n`ALTER TABLE test.czm33 ADD COLUMN idd1 BIGINT COMMENT 'test2' AFTER age;`\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763511414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763548134","html_url":"https://github.com/apache/iceberg/issues/7272#issuecomment-1763548134","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7272","id":1763548134,"node_id":"IC_kwDOCW7NX85pHZvm","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-10-16T00:11:31Z","updated_at":"2023-10-16T00:11:31Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763548134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763555781","html_url":"https://github.com/apache/iceberg/issues/7272#issuecomment-1763555781","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7272","id":1763555781,"node_id":"IC_kwDOCW7NX85pHbnF","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-16T00:28:33Z","updated_at":"2023-10-16T00:28:33Z","author_association":"MEMBER","body":"Tracked by : https://github.com/apache/iceberg/issues/8762\r\nhttps://github.com/apache/iceberg/pull/8797","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763555781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763604926","html_url":"https://github.com/apache/iceberg/pull/7161#issuecomment-1763604926","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7161","id":1763604926,"node_id":"IC_kwDOCW7NX85pHnm-","user":{"login":"chenwyi2","id":19389434,"node_id":"MDQ6VXNlcjE5Mzg5NDM0","avatar_url":"https://avatars.githubusercontent.com/u/19389434?v=4","gravatar_id":"","url":"https://api.github.com/users/chenwyi2","html_url":"https://github.com/chenwyi2","followers_url":"https://api.github.com/users/chenwyi2/followers","following_url":"https://api.github.com/users/chenwyi2/following{/other_user}","gists_url":"https://api.github.com/users/chenwyi2/gists{/gist_id}","starred_url":"https://api.github.com/users/chenwyi2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenwyi2/subscriptions","organizations_url":"https://api.github.com/users/chenwyi2/orgs","repos_url":"https://api.github.com/users/chenwyi2/repos","events_url":"https://api.github.com/users/chenwyi2/events{/privacy}","received_events_url":"https://api.github.com/users/chenwyi2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-16T01:49:36Z","updated_at":"2023-10-16T01:49:36Z","author_association":"NONE","body":"yes, I am creating very fine grained partitions, because i want to query and comput some business metrics between minutes ss fast as possible. As for bucket number, i use a fomula QPS * 500B/条 / bucket number / 1024 /1024  = 10M/秒(The write-in traffic of one bucket), because i found that the write-in traffic of one bucket is large, the writer can  be OOM or backpressure, i set 10M/秒 in each bucket.\r\nIn this pr hdfs can be influenced by many files, writting to files can be slow then data latency will be relatively large.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1763604926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]