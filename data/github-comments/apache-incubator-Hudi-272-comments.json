[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235113800","html_url":"https://github.com/apache/hudi/pull/6571#issuecomment-1235113800","issue_url":"https://api.github.com/repos/apache/hudi/issues/6571","id":1235113800,"node_id":"IC_kwDOBI7nWM5JnldI","user":{"login":"hbgstc123","id":8900183,"node_id":"MDQ6VXNlcjg5MDAxODM=","avatar_url":"https://avatars.githubusercontent.com/u/8900183?v=4","gravatar_id":"","url":"https://api.github.com/users/hbgstc123","html_url":"https://github.com/hbgstc123","followers_url":"https://api.github.com/users/hbgstc123/followers","following_url":"https://api.github.com/users/hbgstc123/following{/other_user}","gists_url":"https://api.github.com/users/hbgstc123/gists{/gist_id}","starred_url":"https://api.github.com/users/hbgstc123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hbgstc123/subscriptions","organizations_url":"https://api.github.com/users/hbgstc123/orgs","repos_url":"https://api.github.com/users/hbgstc123/repos","events_url":"https://api.github.com/users/hbgstc123/events{/privacy}","received_events_url":"https://api.github.com/users/hbgstc123/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T06:22:18Z","updated_at":"2022-09-02T06:23:10Z","author_association":"CONTRIBUTOR","body":"related issue\r\nhttps://github.com/apache/hudi/issues/6540","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235113800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235122418","html_url":"https://github.com/apache/hudi/issues/1751#issuecomment-1235122418","issue_url":"https://api.github.com/repos/apache/hudi/issues/1751","id":1235122418,"node_id":"IC_kwDOBI7nWM5Jnnjy","user":{"login":"Gatsby-Lee","id":22950880,"node_id":"MDQ6VXNlcjIyOTUwODgw","avatar_url":"https://avatars.githubusercontent.com/u/22950880?v=4","gravatar_id":"","url":"https://api.github.com/users/Gatsby-Lee","html_url":"https://github.com/Gatsby-Lee","followers_url":"https://api.github.com/users/Gatsby-Lee/followers","following_url":"https://api.github.com/users/Gatsby-Lee/following{/other_user}","gists_url":"https://api.github.com/users/Gatsby-Lee/gists{/gist_id}","starred_url":"https://api.github.com/users/Gatsby-Lee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gatsby-Lee/subscriptions","organizations_url":"https://api.github.com/users/Gatsby-Lee/orgs","repos_url":"https://api.github.com/users/Gatsby-Lee/repos","events_url":"https://api.github.com/users/Gatsby-Lee/events{/privacy}","received_events_url":"https://api.github.com/users/Gatsby-Lee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T06:34:08Z","updated_at":"2022-09-02T06:34:08Z","author_association":"CONTRIBUTOR","body":"I see little difference in these two different combination.\r\n\r\n* AWS Glue + AWS Glue Catalog + Hudi 0.10.1\r\n* AWS EMR on EKS + AWS Glue Catalog + Hudi 0.10.1\r\n\r\nWhen using AWS Glue, it is enough to set \"Use Glue data catalog as the Hive metastore\".\r\nHowever, when using AWS EMR on EKS, it requires some setting.\r\n\r\n* \"spark.hadoop.hive.metastore.client.factory.class\": \"com.amazonaws.glue.catalog.metastore.AWSGlueDataCatalogHiveClientFactory\"\r\n* \"hoodie.datasource.hive_sync.mode\": \"hms\"\r\n\r\nYou can find more details here\r\nhttps://aws.github.io/aws-emr-containers-best-practices/metastore-integrations/docs/aws-glue/#sync-hudi-table-with-aws-glue-catalog","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235122418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235189995","html_url":"https://github.com/apache/hudi/pull/6134#issuecomment-1235189995","issue_url":"https://api.github.com/repos/apache/hudi/issues/6134","id":1235189995,"node_id":"IC_kwDOBI7nWM5Jn4Dr","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T07:57:52Z","updated_at":"2022-09-02T07:57:52Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"fae2cd0cdd24fd03bb8ec71dbbc8f06114fa4e7c\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10035\",\n    \"triggerID\" : \"fae2cd0cdd24fd03bb8ec71dbbc8f06114fa4e7c\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"9aa239791e1433b4861641d93666ac3efddae90f\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11106\",\n    \"triggerID\" : \"9aa239791e1433b4861641d93666ac3efddae90f\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 9aa239791e1433b4861641d93666ac3efddae90f Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11106) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235189995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235265477","html_url":"https://github.com/apache/hudi/issues/6572#issuecomment-1235265477","issue_url":"https://api.github.com/repos/apache/hudi/issues/6572","id":1235265477,"node_id":"IC_kwDOBI7nWM5JoKfF","user":{"login":"archibald-nice","id":26004776,"node_id":"MDQ6VXNlcjI2MDA0Nzc2","avatar_url":"https://avatars.githubusercontent.com/u/26004776?v=4","gravatar_id":"","url":"https://api.github.com/users/archibald-nice","html_url":"https://github.com/archibald-nice","followers_url":"https://api.github.com/users/archibald-nice/followers","following_url":"https://api.github.com/users/archibald-nice/following{/other_user}","gists_url":"https://api.github.com/users/archibald-nice/gists{/gist_id}","starred_url":"https://api.github.com/users/archibald-nice/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/archibald-nice/subscriptions","organizations_url":"https://api.github.com/users/archibald-nice/orgs","repos_url":"https://api.github.com/users/archibald-nice/repos","events_url":"https://api.github.com/users/archibald-nice/events{/privacy}","received_events_url":"https://api.github.com/users/archibald-nice/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T09:14:47Z","updated_at":"2022-09-02T09:15:31Z","author_association":"NONE","body":"When I switch the sycn_mode to jdbc, I got the same Exception. However, I can run the HQL below which caught from spark logs to complete the hive table.\r\n```sql\r\nALTER TABLE `default`.`hudi_mysql_table2`\r\n    ADD IF NOT EXISTS\r\n        PARTITION (`u_name`='A') LOCATION 'cosn://bigdata-1252394470/hudi/cdc/mysql/table2_001/u_name=A'\r\n        PARTITION (`u_name`='B') LOCATION 'cosn://bigdata-1252394470/hudi/cdc/mysql/table2_001/u_name=B'\r\n        PARTITION (`u_name`='C') LOCATION 'cosn://bigdata-1252394470/hudi/cdc/mysql/table2_001/u_name=C' ;\r\n```\r\nAfter the HQL, everything goes smoothly! (i.e. Query the hudi-table by Presto...)\r\n\r\n**↓↓ The core logs syncing as jdbc mode ↓↓**\r\n```bash\r\n22/09/02 16:57:27 INFO HiveSyncTool: Storage partitions scan complete. Found 3\r\n22/09/02 16:57:27 INFO HiveSyncTool: New Partitions [u_name=A, u_name=B, u_name=C]\r\n22/09/02 16:57:27 INFO QueryBasedDDLExecutor: Adding partitions 3 to table hudi_mysql_table001\r\n22/09/02 16:57:27 INFO QueryBasedDDLExecutor: Executing SQL ALTER TABLE `default`.`hudi_mysql_table001` ADD IF NOT EXISTS   PARTITION (`u_name`='A') LOCATION 'cosn://bigdata-1252394470/hudi/cdc/mysql/table2_001/u_name=A'   PARTITION (`u_name`='B') LOCATION 'cosn://bigdata-1252394470/hudi/cdc/mysql/table2_001/u_name=B'   PARTITION (`u_name`='C') LOCATION 'cosn://bigdata-1252394470/hudi/cdc/mysql/table2_001/u_name=C' \r\n22/09/02 16:57:28 INFO metastore: Closed a connection to metastore, current connections: 0\r\n22/09/02 16:57:28 ERROR HoodieDeltaStreamer: Shutting down delta-sync due to exception\r\norg.apache.hudi.exception.HoodieException: Could not sync using the meta sync class org.apache.hudi.hive.HiveSyncTool\r\n\tat org.apache.hudi.sync.common.util.SyncUtilHelpers.runHoodieMetaSync(SyncUtilHelpers.java:58)\r\n\tat org.apache.hudi.utilities.deltastreamer.DeltaSync.runMetaSync(DeltaSync.java:716)\r\n\tat org.apache.hudi.utilities.deltastreamer.DeltaSync.writeToSink(DeltaSync.java:634)\r\n\tat org.apache.hudi.utilities.deltastreamer.DeltaSync.syncOnce(DeltaSync.java:335)\r\n\tat org.apache.hudi.utilities.deltastreamer.HoodieDeltaStreamer$DeltaSyncService.lambda$startService$0(HoodieDeltaStreamer.java:687)\r\n\tat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: org.apache.hudi.exception.HoodieException: Got runtime exception when hive syncing hudi_mysql_table001\r\n\tat org.apache.hudi.hive.HiveSyncTool.syncHoodieTable(HiveSyncTool.java:144)\r\n\tat org.apache.hudi.sync.common.util.SyncUtilHelpers.runHoodieMetaSync(SyncUtilHelpers.java:56)\r\n\t... 8 more\r\nCaused by: org.apache.hudi.hive.HoodieHiveSyncException: Failed to sync partitions for table hudi_mysql_table001\r\n\tat org.apache.hudi.hive.HiveSyncTool.syncPartitions(HiveSyncTool.java:340)\r\n\tat org.apache.hudi.hive.HiveSyncTool.syncHoodieTable(HiveSyncTool.java:232)\r\n\tat org.apache.hudi.hive.HiveSyncTool.doSync(HiveSyncTool.java:153)\r\n\tat org.apache.hudi.hive.HiveSyncTool.syncHoodieTable(HiveSyncTool.java:141)\r\n\t... 9 more\r\n...\r\n...\r\nCaused by: MetaException(message:java.io.IOException: Got exception: java.io.IOException java.lang.NullPointerException)\r\n\tat org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$add_partitions_req_result$add_partitions_req_resultStandardScheme.read(ThriftHiveMetastore.java)\r\n\tat org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$add_partitions_req_result$add_partitions_req_resultStandardScheme.read(ThriftHiveMetastore.java)\r\n\tat org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$add_partitions_req_result.read(ThriftHiveMetastore.java)\r\n\tat org.apache.thrift.TServiceClient.receiveBase(TServiceClient.java:86)\r\n\tat org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$Client.recv_add_partitions_req(ThriftHiveMetastore.java:1911)\r\n\tat org.apache.hadoop.hive.metastore.api.ThriftHiveMetastore$Client.add_partitions_req(ThriftHiveMetastore.java:1898)\r\n\tat org.apache.hadoop.hive.metastore.HiveMetaStoreClient.add_partitions(HiveMetaStoreClient.java:625)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.hadoop.hive.metastore.RetryingMetaStoreClient.invoke(RetryingMetaStoreClient.java:173)\r\n\tat com.sun.proxy.$Proxy26.add_partitions(Unknown Source)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.hadoop.hive.metastore.HiveMetaStoreClient$SynchronizedHandler.invoke(HiveMetaStoreClient.java:2327)\r\n\tat com.sun.proxy.$Proxy26.add_partitions(Unknown Source)\r\n\tat org.apache.hadoop.hive.ql.metadata.Hive.createPartitions(Hive.java:2103)\r\n\t... 21 more\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235265477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235328761","html_url":"https://github.com/apache/hudi/pull/6567#issuecomment-1235328761","issue_url":"https://api.github.com/repos/apache/hudi/issues/6567","id":1235328761,"node_id":"IC_kwDOBI7nWM5JoZ75","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T10:22:16Z","updated_at":"2022-09-02T10:22:16Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"880dd1f70c863174942bb7aa52d069533705af4b\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11087\",\n    \"triggerID\" : \"880dd1f70c863174942bb7aa52d069533705af4b\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"c5671fd919dbf3ac554dc17156f596559d9e360f\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11112\",\n    \"triggerID\" : \"c5671fd919dbf3ac554dc17156f596559d9e360f\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* c5671fd919dbf3ac554dc17156f596559d9e360f Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11112) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235328761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235349801","html_url":"https://github.com/apache/hudi/pull/6485#issuecomment-1235349801","issue_url":"https://api.github.com/repos/apache/hudi/issues/6485","id":1235349801,"node_id":"IC_kwDOBI7nWM5JofEp","user":{"login":"codope","id":16440354,"node_id":"MDQ6VXNlcjE2NDQwMzU0","avatar_url":"https://avatars.githubusercontent.com/u/16440354?v=4","gravatar_id":"","url":"https://api.github.com/users/codope","html_url":"https://github.com/codope","followers_url":"https://api.github.com/users/codope/followers","following_url":"https://api.github.com/users/codope/following{/other_user}","gists_url":"https://api.github.com/users/codope/gists{/gist_id}","starred_url":"https://api.github.com/users/codope/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codope/subscriptions","organizations_url":"https://api.github.com/users/codope/orgs","repos_url":"https://api.github.com/users/codope/repos","events_url":"https://api.github.com/users/codope/events{/privacy}","received_events_url":"https://api.github.com/users/codope/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T10:46:15Z","updated_at":"2022-09-02T10:46:15Z","author_association":"MEMBER","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235349801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235352979","html_url":"https://github.com/apache/hudi/pull/6489#issuecomment-1235352979","issue_url":"https://api.github.com/repos/apache/hudi/issues/6489","id":1235352979,"node_id":"IC_kwDOBI7nWM5Jof2T","user":{"login":"paul8263","id":7007327,"node_id":"MDQ6VXNlcjcwMDczMjc=","avatar_url":"https://avatars.githubusercontent.com/u/7007327?v=4","gravatar_id":"","url":"https://api.github.com/users/paul8263","html_url":"https://github.com/paul8263","followers_url":"https://api.github.com/users/paul8263/followers","following_url":"https://api.github.com/users/paul8263/following{/other_user}","gists_url":"https://api.github.com/users/paul8263/gists{/gist_id}","starred_url":"https://api.github.com/users/paul8263/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul8263/subscriptions","organizations_url":"https://api.github.com/users/paul8263/orgs","repos_url":"https://api.github.com/users/paul8263/repos","events_url":"https://api.github.com/users/paul8263/events{/privacy}","received_events_url":"https://api.github.com/users/paul8263/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T10:50:00Z","updated_at":"2022-09-02T10:50:00Z","author_association":"CONTRIBUTOR","body":"Hi community,\r\n\r\nAfter testing some compaction commands I found that there was a problem with SparkUtil::initLauncher. Spring shell 2.x requires Spring boot but the trick is, spring boot maven plugin repackage everything stored in src into /BOOT-INF/classes inside the jar, not in the root path of the jar. As a result SparkLauncher cannot find the main class. Currently I am working on how to solve this packaging problem.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235352979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235441748","html_url":"https://github.com/apache/hudi/issues/6014#issuecomment-1235441748","issue_url":"https://api.github.com/repos/apache/hudi/issues/6014","id":1235441748,"node_id":"IC_kwDOBI7nWM5Jo1hU","user":{"login":"gudladona","id":7864088,"node_id":"MDQ6VXNlcjc4NjQwODg=","avatar_url":"https://avatars.githubusercontent.com/u/7864088?v=4","gravatar_id":"","url":"https://api.github.com/users/gudladona","html_url":"https://github.com/gudladona","followers_url":"https://api.github.com/users/gudladona/followers","following_url":"https://api.github.com/users/gudladona/following{/other_user}","gists_url":"https://api.github.com/users/gudladona/gists{/gist_id}","starred_url":"https://api.github.com/users/gudladona/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gudladona/subscriptions","organizations_url":"https://api.github.com/users/gudladona/orgs","repos_url":"https://api.github.com/users/gudladona/repos","events_url":"https://api.github.com/users/gudladona/events{/privacy}","received_events_url":"https://api.github.com/users/gudladona/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T12:27:49Z","updated_at":"2022-09-02T12:28:10Z","author_association":"NONE","body":"We are facing a similar issue during this phase\r\n\r\n<img width=\"1916\" alt=\"image\" src=\"https://user-images.githubusercontent.com/7864088/188142313-b142a930-9f4b-4553-8229-cdf28bce1907.png\">\r\n\r\n<img width=\"1908\" alt=\"image\" src=\"https://user-images.githubusercontent.com/7864088/188142431-239eca97-ff2f-493f-9c69-5579d481ece4.png\">\r\n\r\n\r\nkafka fetch errors (at INFO level) are as follows:\r\n\r\n2022-09-02 06:26:12,606 INFO [Executor task launch worker for task 9.1 in stage 370.0 (TID 160203)] org.apache.kafka.clients.FetchSessionHandler:[Consumer clientId=consumer-spark-executor-hudi-ingest-auth-1, groupId=spark-executor-hudi-ingest-auth] Error sending fetch request (sessionId=1968849354, epoch=629) to node 8:\r\norg.apache.kafka.common.errors.DisconnectException\r\n\r\nand  warnings on the executors \r\n\r\n2022-09-02 06:12:47,340 WARN [netty-rpc-env-timeout] org.apache.spark.rpc.netty.NettyRpcEnv:Ignored failure: java.util.concurrent.TimeoutException: Cannot receive any reply from ip-10-100-232-180.us-east-2.compute.internal:37403 in 10000 milliseconds\r\n2022-09-02 06:13:53,639 WARN [executor-heartbeater] org.apache.spark.executor.Executor:Issue communicating with driver in heartbeater\r\norg.apache.spark.rpc.RpcTimeoutException: Futures timed out after [10000 milliseconds]. This timeout is controlled by spark.executor.heartbeatInterval","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235441748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235460444","html_url":"https://github.com/apache/hudi/pull/6393#issuecomment-1235460444","issue_url":"https://api.github.com/repos/apache/hudi/issues/6393","id":1235460444,"node_id":"IC_kwDOBI7nWM5Jo6Fc","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T12:45:07Z","updated_at":"2022-09-02T12:45:07Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"acaf6edd64671b6815421a7d108bc68e92763c0d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10759\",\n    \"triggerID\" : \"acaf6edd64671b6815421a7d108bc68e92763c0d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"c3621ebdc635c4c66d265f24d48ffec203a732c1\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10764\",\n    \"triggerID\" : \"c3621ebdc635c4c66d265f24d48ffec203a732c1\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"09f49abeeca229df307426ba79bd77ed0392b79f\",\n    \"status\" : \"UNKNOWN\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"09f49abeeca229df307426ba79bd77ed0392b79f\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"4c7dcf78cdee3e26dbf291dc49f8ac64a05c8c60\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10766\",\n    \"triggerID\" : \"4c7dcf78cdee3e26dbf291dc49f8ac64a05c8c60\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"fc88fa16b2fd11583d30ee3aa11e028c2cbf5709\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10897\",\n    \"triggerID\" : \"fc88fa16b2fd11583d30ee3aa11e028c2cbf5709\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"55b7efe48726b7e39e55a00ae85f0bf5c52c40e1\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10975\",\n    \"triggerID\" : \"55b7efe48726b7e39e55a00ae85f0bf5c52c40e1\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"0dd2a468fb99ca57ccf6da47dd6baa79b20f7f9d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10978\",\n    \"triggerID\" : \"0dd2a468fb99ca57ccf6da47dd6baa79b20f7f9d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"0dd2a468fb99ca57ccf6da47dd6baa79b20f7f9d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10978\",\n    \"triggerID\" : \"1229109993\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"0dd2a468fb99ca57ccf6da47dd6baa79b20f7f9d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10978\",\n    \"triggerID\" : \"1229683548\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"525791f3450141706470bb1ac39eb6b8716f3dfc\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11036\",\n    \"triggerID\" : \"525791f3450141706470bb1ac39eb6b8716f3dfc\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"82df0216587882787bd56f5e275ff58227e8594a\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11107\",\n    \"triggerID\" : \"82df0216587882787bd56f5e275ff58227e8594a\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"b39fc1695ef8c62fca7f24eca34ce92e285c5ba2\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11114\",\n    \"triggerID\" : \"b39fc1695ef8c62fca7f24eca34ce92e285c5ba2\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 09f49abeeca229df307426ba79bd77ed0392b79f UNKNOWN\n* b39fc1695ef8c62fca7f24eca34ce92e285c5ba2 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11114) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235460444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235585957","html_url":"https://github.com/apache/hudi/issues/6373#issuecomment-1235585957","issue_url":"https://api.github.com/repos/apache/hudi/issues/6373","id":1235585957,"node_id":"IC_kwDOBI7nWM5JpYul","user":{"login":"parisni","id":9535350,"node_id":"MDQ6VXNlcjk1MzUzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/9535350?v=4","gravatar_id":"","url":"https://api.github.com/users/parisni","html_url":"https://github.com/parisni","followers_url":"https://api.github.com/users/parisni/followers","following_url":"https://api.github.com/users/parisni/following{/other_user}","gists_url":"https://api.github.com/users/parisni/gists{/gist_id}","starred_url":"https://api.github.com/users/parisni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parisni/subscriptions","organizations_url":"https://api.github.com/users/parisni/orgs","repos_url":"https://api.github.com/users/parisni/repos","events_url":"https://api.github.com/users/parisni/events{/privacy}","received_events_url":"https://api.github.com/users/parisni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T14:40:48Z","updated_at":"2022-09-02T14:40:48Z","author_association":"CONTRIBUTOR","body":"After thinking, I guess MDT listing files to delete could be much more efficient if batched by partitions. \n\nCurrently this lead to N call to MDT where N=part number.\nThis is highly innefficient with 100k partitions\n\nOn August 30, 2022 11:41:19 PM UTC, Sivabalan Narayanan ***@***.***> wrote:\n>and wrt your statement `Also I guess there is a problem to use incremental cleaning together with KEEP_LATEST_COMMITS which lead to never clean some partitions after a first clean but I will open a separate issue for this one.`, if you happen to create a new issue, let me know. do tag me in there. \n>\n>-- \n>Reply to this email directly or view it on GitHub:\n>https://github.com/apache/hudi/issues/6373#issuecomment-1232280621\n>You are receiving this because you were mentioned.\n>\n>Message ID: ***@***.***>\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235585957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235614805","html_url":"https://github.com/apache/hudi/pull/6569#issuecomment-1235614805","issue_url":"https://api.github.com/repos/apache/hudi/issues/6569","id":1235614805,"node_id":"IC_kwDOBI7nWM5JpfxV","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T15:09:00Z","updated_at":"2022-09-02T15:09:00Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"f0a157bb1d15fdfa30f7f055cd0016977e20d542\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11091\",\n    \"triggerID\" : \"f0a157bb1d15fdfa30f7f055cd0016977e20d542\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"059a2a712adb33786ecb39164e681ebaec4ecf94\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11118\",\n    \"triggerID\" : \"059a2a712adb33786ecb39164e681ebaec4ecf94\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 059a2a712adb33786ecb39164e681ebaec4ecf94 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11118) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235614805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235706796","html_url":"https://github.com/apache/hudi/pull/6485#issuecomment-1235706796","issue_url":"https://api.github.com/repos/apache/hudi/issues/6485","id":1235706796,"node_id":"IC_kwDOBI7nWM5Jp2Os","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T16:39:19Z","updated_at":"2022-09-02T16:39:19Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"c10b69a5a241b1544f878a61c1f41b282a7dbeb1\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10917\",\n    \"triggerID\" : \"c10b69a5a241b1544f878a61c1f41b282a7dbeb1\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"2f23cec83200a6410e53a1030d26095cae663f61\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11120\",\n    \"triggerID\" : \"1235349801\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"2f23cec83200a6410e53a1030d26095cae663f61\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11120\",\n    \"triggerID\" : \"2f23cec83200a6410e53a1030d26095cae663f61\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"TBD\",\n    \"triggerID\" : \"1235349801\",\n    \"triggerType\" : \"MANUAL\"\n  } ]\n}-->\n## CI report:\n\n* 2f23cec83200a6410e53a1030d26095cae663f61 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11120) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235706796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235773755","html_url":"https://github.com/apache/hudi/pull/6570#issuecomment-1235773755","issue_url":"https://api.github.com/repos/apache/hudi/issues/6570","id":1235773755,"node_id":"IC_kwDOBI7nWM5JqGk7","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T18:02:18Z","updated_at":"2022-09-02T18:03:27Z","author_association":"CONTRIBUTOR","body":"guess for hudi 10.0 or above, guess there is some minimal version of Redshift spectrum one has to use(or apply some patch I guess. ). can you add those details please. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235773755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235776907","html_url":"https://github.com/apache/hudi/pull/6570#issuecomment-1235776907","issue_url":"https://api.github.com/repos/apache/hudi/issues/6570","id":1235776907,"node_id":"IC_kwDOBI7nWM5JqHWL","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T18:06:28Z","updated_at":"2022-09-02T18:06:28Z","author_association":"CONTRIBUTOR","body":"> \r\n@nsivabalan  thanks for noting that. I can followup on redshift spectrum separately in a different PR after gathering those details. If nothing else is blocking can you approve this one ?\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235776907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235779553","html_url":"https://github.com/apache/hudi/pull/6502#issuecomment-1235779553","issue_url":"https://api.github.com/repos/apache/hudi/issues/6502","id":1235779553,"node_id":"IC_kwDOBI7nWM5JqH_h","user":{"login":"jsbali","id":1778470,"node_id":"MDQ6VXNlcjE3Nzg0NzA=","avatar_url":"https://avatars.githubusercontent.com/u/1778470?v=4","gravatar_id":"","url":"https://api.github.com/users/jsbali","html_url":"https://github.com/jsbali","followers_url":"https://api.github.com/users/jsbali/followers","following_url":"https://api.github.com/users/jsbali/following{/other_user}","gists_url":"https://api.github.com/users/jsbali/gists{/gist_id}","starred_url":"https://api.github.com/users/jsbali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jsbali/subscriptions","organizations_url":"https://api.github.com/users/jsbali/orgs","repos_url":"https://api.github.com/users/jsbali/repos","events_url":"https://api.github.com/users/jsbali/events{/privacy}","received_events_url":"https://api.github.com/users/jsbali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T18:09:53Z","updated_at":"2022-09-02T18:09:53Z","author_association":"CONTRIBUTOR","body":"Thanks for the review @nsivabalan Have taken care of all the comments. PTAL\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235779553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235780001","html_url":"https://github.com/apache/hudi/pull/6502#issuecomment-1235780001","issue_url":"https://api.github.com/repos/apache/hudi/issues/6502","id":1235780001,"node_id":"IC_kwDOBI7nWM5JqIGh","user":{"login":"jsbali","id":1778470,"node_id":"MDQ6VXNlcjE3Nzg0NzA=","avatar_url":"https://avatars.githubusercontent.com/u/1778470?v=4","gravatar_id":"","url":"https://api.github.com/users/jsbali","html_url":"https://github.com/jsbali","followers_url":"https://api.github.com/users/jsbali/followers","following_url":"https://api.github.com/users/jsbali/following{/other_user}","gists_url":"https://api.github.com/users/jsbali/gists{/gist_id}","starred_url":"https://api.github.com/users/jsbali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jsbali/subscriptions","organizations_url":"https://api.github.com/users/jsbali/orgs","repos_url":"https://api.github.com/users/jsbali/repos","events_url":"https://api.github.com/users/jsbali/events{/privacy}","received_events_url":"https://api.github.com/users/jsbali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T18:10:27Z","updated_at":"2022-09-02T18:10:27Z","author_association":"CONTRIBUTOR","body":"> \r\n\r\nYes, I have verified it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235780001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235831710","html_url":"https://github.com/apache/hudi/pull/6570#issuecomment-1235831710","issue_url":"https://api.github.com/repos/apache/hudi/issues/6570","id":1235831710,"node_id":"IC_kwDOBI7nWM5JqUue","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T19:26:32Z","updated_at":"2022-09-02T19:26:32Z","author_association":"CONTRIBUTOR","body":"> \r\n\r\n@nsivabalan  PR for redshift spectrum fix here- https://github.com/apache/hudi/pull/6577 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235831710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235939365","html_url":"https://github.com/apache/hudi/pull/6502#issuecomment-1235939365","issue_url":"https://api.github.com/repos/apache/hudi/issues/6502","id":1235939365,"node_id":"IC_kwDOBI7nWM5JqvAl","user":{"login":"jsbali","id":1778470,"node_id":"MDQ6VXNlcjE3Nzg0NzA=","avatar_url":"https://avatars.githubusercontent.com/u/1778470?v=4","gravatar_id":"","url":"https://api.github.com/users/jsbali","html_url":"https://github.com/jsbali","followers_url":"https://api.github.com/users/jsbali/followers","following_url":"https://api.github.com/users/jsbali/following{/other_user}","gists_url":"https://api.github.com/users/jsbali/gists{/gist_id}","starred_url":"https://api.github.com/users/jsbali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jsbali/subscriptions","organizations_url":"https://api.github.com/users/jsbali/orgs","repos_url":"https://api.github.com/users/jsbali/repos","events_url":"https://api.github.com/users/jsbali/events{/privacy}","received_events_url":"https://api.github.com/users/jsbali/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-02T22:25:10Z","updated_at":"2022-09-02T22:25:10Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1235939365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236066803","html_url":"https://github.com/apache/hudi/issues/6578#issuecomment-1236066803","issue_url":"https://api.github.com/repos/apache/hudi/issues/6578","id":1236066803,"node_id":"IC_kwDOBI7nWM5JrOHz","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-03T07:28:06Z","updated_at":"2022-09-03T07:28:06Z","author_association":"CONTRIBUTOR","body":"@nsivabalan @codope \r\n\r\nPlease confirm if I am missing anything here. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236066803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236082037","html_url":"https://github.com/apache/hudi/issues/6543#issuecomment-1236082037","issue_url":"https://api.github.com/repos/apache/hudi/issues/6543","id":1236082037,"node_id":"IC_kwDOBI7nWM5JrR11","user":{"login":"Zouxxyy","id":37108074,"node_id":"MDQ6VXNlcjM3MTA4MDc0","avatar_url":"https://avatars.githubusercontent.com/u/37108074?v=4","gravatar_id":"","url":"https://api.github.com/users/Zouxxyy","html_url":"https://github.com/Zouxxyy","followers_url":"https://api.github.com/users/Zouxxyy/followers","following_url":"https://api.github.com/users/Zouxxyy/following{/other_user}","gists_url":"https://api.github.com/users/Zouxxyy/gists{/gist_id}","starred_url":"https://api.github.com/users/Zouxxyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zouxxyy/subscriptions","organizations_url":"https://api.github.com/users/Zouxxyy/orgs","repos_url":"https://api.github.com/users/Zouxxyy/repos","events_url":"https://api.github.com/users/Zouxxyy/events{/privacy}","received_events_url":"https://api.github.com/users/Zouxxyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-03T09:21:13Z","updated_at":"2022-09-04T14:13:13Z","author_association":"CONTRIBUTOR","body":"Maybe I can answer your question.\r\n\r\nFirst, hudi uses `ReflectionUtils.java` 's `Class.forName(clazzName)` to load class. The classloader it used is determined by `ReflectionUtils`, which is determined by `hudi-spark-bundle.jar`.\r\n\r\nThen, spark has its own defined class loaders, `MutableURLClassLoader` and `ParentClassLoader`, which recognize classes defined by sparkconf `--jars` or `add jar` and so on\r\n\r\nBesides, java's `AppClassLoader` can recognize classes in java classpath, which can be defined by sparkconf `spark.driver.extraClassPath`\r\n\r\nAccording to java's class loading mechanism, `MutableURLClassLoader` can see all classes loaded by `AppClassLoader`, but `AppClassLoader` can not see any class loaded by `MutableURLClassLoader`\r\n\r\nIf your `hudi-spark-bundle.jar` is s defined by `spark.driver.extraClassPath` or just placing in spark jar dir, and your customer jar is defined by `--jars` or `add jar`, `ReflectionUtils` will use `AppClassLoader` to load your `customer.jar`, since it is not defined In the java classpath, there will be `java.lang.ClassnotFoundException`. I guess that's what you probably did\r\n\r\n**So I think defining your `customer.jar` in `spark.driver.extraClassPath` will solve your problem**\r\n\r\nFinally, why you were able to succeed before, I guess because of this patch [HUDI-1750](https://github.com/apache/hudi/pull/2753), which was modified back in 0.10 [HUDI-2321](https://issues.apache.org/jira/browse/HUDI-2321)\r\n\r\nthis is my test\r\n```shell\r\n[arthas@17598]$ classloader -t\r\n+-sun.misc.Launcher$ExtClassLoader@279ad2e3\r\n  +-sun.misc.Launcher$AppClassLoader@1be6f5c3\r\n    +-org.apache.spark.util.MutableURLClassLoader@11392934\r\n    | +-org.apache.spark.sql.internal.NonClosableMutableURLClassLoader@1a536164\r\n\r\n[arthas@17598]$ classloader -c 1be6f5c3 --load com.zouxxyy.MyMetricsReporter\r\nload class error, class: com.zouxxyy.MyMetricsReporter, error: java.lang.ClassNotFoundException: com.zouxxyy.MyMetricsReporter\r\n\r\n[arthas@17598]$ classloader -c 1a536164 --load com.zouxxyy.MyMetricsReporter\r\nload class success.\r\n class-info        com.zouxxyy.MyMetricsReporter\r\n name              com.zouxxyy.MyMetricsReporter\r\n class-loader      +-org.apache.spark.sql.internal.NonClosableMutableURLClassLoader@1a536164\r\n                     +-org.apache.spark.util.MutableURLClassLoader@11392934\r\n                       +-sun.misc.Launcher$AppClassLoader@1be6f5c3\r\n                         +-sun.misc.Launcher$ExtClassLoader@279ad2e3\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236082037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236083453","html_url":"https://github.com/apache/hudi/issues/6563#issuecomment-1236083453","issue_url":"https://api.github.com/repos/apache/hudi/issues/6563","id":1236083453,"node_id":"IC_kwDOBI7nWM5JrSL9","user":{"login":"Zouxxyy","id":37108074,"node_id":"MDQ6VXNlcjM3MTA4MDc0","avatar_url":"https://avatars.githubusercontent.com/u/37108074?v=4","gravatar_id":"","url":"https://api.github.com/users/Zouxxyy","html_url":"https://github.com/Zouxxyy","followers_url":"https://api.github.com/users/Zouxxyy/followers","following_url":"https://api.github.com/users/Zouxxyy/following{/other_user}","gists_url":"https://api.github.com/users/Zouxxyy/gists{/gist_id}","starred_url":"https://api.github.com/users/Zouxxyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zouxxyy/subscriptions","organizations_url":"https://api.github.com/users/Zouxxyy/orgs","repos_url":"https://api.github.com/users/Zouxxyy/repos","events_url":"https://api.github.com/users/Zouxxyy/events{/privacy}","received_events_url":"https://api.github.com/users/Zouxxyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-03T09:29:52Z","updated_at":"2022-09-03T09:29:52Z","author_association":"CONTRIBUTOR","body":"may you can see [#6543](https://github.com/apache/hudi/issues/6543)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236083453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236106235","html_url":"https://github.com/apache/hudi/issues/6527#issuecomment-1236106235","issue_url":"https://api.github.com/repos/apache/hudi/issues/6527","id":1236106235,"node_id":"IC_kwDOBI7nWM5JrXv7","user":{"login":"Zouxxyy","id":37108074,"node_id":"MDQ6VXNlcjM3MTA4MDc0","avatar_url":"https://avatars.githubusercontent.com/u/37108074?v=4","gravatar_id":"","url":"https://api.github.com/users/Zouxxyy","html_url":"https://github.com/Zouxxyy","followers_url":"https://api.github.com/users/Zouxxyy/followers","following_url":"https://api.github.com/users/Zouxxyy/following{/other_user}","gists_url":"https://api.github.com/users/Zouxxyy/gists{/gist_id}","starred_url":"https://api.github.com/users/Zouxxyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zouxxyy/subscriptions","organizations_url":"https://api.github.com/users/Zouxxyy/orgs","repos_url":"https://api.github.com/users/Zouxxyy/repos","events_url":"https://api.github.com/users/Zouxxyy/events{/privacy}","received_events_url":"https://api.github.com/users/Zouxxyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-03T12:04:00Z","updated_at":"2022-09-03T12:10:56Z","author_association":"CONTRIBUTOR","body":"In my opinion, read full partition in KEEP_LATEST_FILE_VERSIONS strategy when clean files **is required anyway,** since the commit instant will be cleaned up, you never know how many slices are in the fileGroup. All we can do is speed up listing partitions or files with metadata as far I am concerned\r\n\r\nHowever, for KEEP_LATEST_COMMITS strategy, you only need to read the partitions that exist in the latest replace commits , that's what hudi is doing now.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236106235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236197809","html_url":"https://github.com/apache/hudi/issues/6531#issuecomment-1236197809","issue_url":"https://api.github.com/repos/apache/hudi/issues/6531","id":1236197809,"node_id":"IC_kwDOBI7nWM5JruGx","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-03T21:00:10Z","updated_at":"2022-09-03T21:00:10Z","author_association":"CONTRIBUTOR","body":"yeah. if not for small file handling, you might as well go w/ bulk_insert. thats why. I am going ahead and closing out the github issue. feel free to open new one if you have any more clarifications or run into issues. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236197809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236199124","html_url":"https://github.com/apache/hudi/pull/6561#issuecomment-1236199124","issue_url":"https://api.github.com/repos/apache/hudi/issues/6561","id":1236199124,"node_id":"IC_kwDOBI7nWM5JrubU","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-03T21:11:47Z","updated_at":"2022-09-03T21:11:47Z","author_association":"CONTRIBUTOR","body":"Addressed all comments.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236199124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236208782","html_url":"https://github.com/apache/hudi/issues/6373#issuecomment-1236208782","issue_url":"https://api.github.com/repos/apache/hudi/issues/6373","id":1236208782,"node_id":"IC_kwDOBI7nWM5JrwyO","user":{"login":"parisni","id":9535350,"node_id":"MDQ6VXNlcjk1MzUzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/9535350?v=4","gravatar_id":"","url":"https://api.github.com/users/parisni","html_url":"https://github.com/parisni","followers_url":"https://api.github.com/users/parisni/followers","following_url":"https://api.github.com/users/parisni/following{/other_user}","gists_url":"https://api.github.com/users/parisni/gists{/gist_id}","starred_url":"https://api.github.com/users/parisni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parisni/subscriptions","organizations_url":"https://api.github.com/users/parisni/orgs","repos_url":"https://api.github.com/users/parisni/repos","events_url":"https://api.github.com/users/parisni/events{/privacy}","received_events_url":"https://api.github.com/users/parisni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-03T22:42:05Z","updated_at":"2022-09-03T22:42:05Z","author_association":"CONTRIBUTOR","body":"@nsivabalan to illustrate the problem / solution, see related PR","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236208782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236227724","html_url":"https://github.com/apache/hudi/pull/6539#issuecomment-1236227724","issue_url":"https://api.github.com/repos/apache/hudi/issues/6539","id":1236227724,"node_id":"IC_kwDOBI7nWM5Jr1aM","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T01:17:05Z","updated_at":"2022-09-04T01:17:05Z","author_association":"CONTRIBUTOR","body":"can you fill in the PR template (change logs, impact etc)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236227724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236228935","html_url":"https://github.com/apache/hudi/pull/6498#issuecomment-1236228935","issue_url":"https://api.github.com/repos/apache/hudi/issues/6498","id":1236228935,"node_id":"IC_kwDOBI7nWM5Jr1tH","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T01:29:52Z","updated_at":"2022-09-04T01:29:52Z","author_association":"CONTRIBUTOR","body":"got it, thanks. \r\nLet me go through the example you have put up and clarify few things.\r\n\r\n\r\nSay we have 3 committed files in partition-A and we add a new commit in partition-B, and we trigger cleaning for the first time (full partition scan):\r\n\r\n```\r\npartition-A/\r\ncommit-0 added file1_V1.parquet\r\ncommit-1. added file1_V2.parquet\r\ncommit-2 added file1_V3.parquet\r\npartition-B/\r\ncommit-3 added file2_V1.parquet\r\n```\r\n\r\nIn the case say we have KEEP_LATEST_COMMITS with CLEANER_COMMITS_RETAINED=3, the cleaner will remove the files created by commit-0 and keep 3 commits. ie. file1_V1.parquet will be cleaned up. But hudi also keeps track of `earliest commit retained` in this case which is commit2. This `earliest commit retained` is the one we will leverage later to do incremental cleaning. \r\n\r\nFor the next cleaning, incremental cleaning will trigger, and will comb through all commits >= `earliest commit retained` i.e. commit2. and so file2_v1 will be deleted this time. and will update the `earliest commit retained` to commit3 now. \r\n\r\nthis may not be applicable w/ KEEP_LATEST_FILE_VERSIONS. bcoz, we can't pin point a commit and say everything before that commit can be ignore for future cleaning. and thus incase of KEEP_LATEST_FILE_VERSIONS, we can't do incremental cleaning. It is in this policy, we might encounter a corner case where, a file group was updated only in Commit 1 and commit and never updated later. and after a long time, had a new version in say commit 100. we need to clean up the first version (assuming KEEP_LATEST_FILE_VERSIONS count is 2). \r\n\r\nLet me know if this makes sense. or if you still feel, I am missing something, can you elaborate w/ an example. \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236228935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236233752","html_url":"https://github.com/apache/hudi/pull/6539#issuecomment-1236233752","issue_url":"https://api.github.com/repos/apache/hudi/issues/6539","id":1236233752,"node_id":"IC_kwDOBI7nWM5Jr24Y","user":{"login":"wuwenchi","id":19755729,"node_id":"MDQ6VXNlcjE5NzU1NzI5","avatar_url":"https://avatars.githubusercontent.com/u/19755729?v=4","gravatar_id":"","url":"https://api.github.com/users/wuwenchi","html_url":"https://github.com/wuwenchi","followers_url":"https://api.github.com/users/wuwenchi/followers","following_url":"https://api.github.com/users/wuwenchi/following{/other_user}","gists_url":"https://api.github.com/users/wuwenchi/gists{/gist_id}","starred_url":"https://api.github.com/users/wuwenchi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuwenchi/subscriptions","organizations_url":"https://api.github.com/users/wuwenchi/orgs","repos_url":"https://api.github.com/users/wuwenchi/repos","events_url":"https://api.github.com/users/wuwenchi/events{/privacy}","received_events_url":"https://api.github.com/users/wuwenchi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T02:14:35Z","updated_at":"2022-09-04T02:14:35Z","author_association":"CONTRIBUTOR","body":"@nsivabalan Thanks, updated.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236233752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236240737","html_url":"https://github.com/apache/hudi/pull/6539#issuecomment-1236240737","issue_url":"https://api.github.com/repos/apache/hudi/issues/6539","id":1236240737,"node_id":"IC_kwDOBI7nWM5Jr4lh","user":{"login":"XuQianJin-Stars","id":10494131,"node_id":"MDQ6VXNlcjEwNDk0MTMx","avatar_url":"https://avatars.githubusercontent.com/u/10494131?v=4","gravatar_id":"","url":"https://api.github.com/users/XuQianJin-Stars","html_url":"https://github.com/XuQianJin-Stars","followers_url":"https://api.github.com/users/XuQianJin-Stars/followers","following_url":"https://api.github.com/users/XuQianJin-Stars/following{/other_user}","gists_url":"https://api.github.com/users/XuQianJin-Stars/gists{/gist_id}","starred_url":"https://api.github.com/users/XuQianJin-Stars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuQianJin-Stars/subscriptions","organizations_url":"https://api.github.com/users/XuQianJin-Stars/orgs","repos_url":"https://api.github.com/users/XuQianJin-Stars/repos","events_url":"https://api.github.com/users/XuQianJin-Stars/events{/privacy}","received_events_url":"https://api.github.com/users/XuQianJin-Stars/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T03:09:35Z","updated_at":"2022-09-04T03:09:35Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236240737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236242522","html_url":"https://github.com/apache/hudi/pull/6539#issuecomment-1236242522","issue_url":"https://api.github.com/repos/apache/hudi/issues/6539","id":1236242522,"node_id":"IC_kwDOBI7nWM5Jr5Ba","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T03:21:59Z","updated_at":"2022-09-04T03:21:59Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"0e648e21e15d21e537914ef8dbec051ea761f76e\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11040\",\n    \"triggerID\" : \"0e648e21e15d21e537914ef8dbec051ea761f76e\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"0e648e21e15d21e537914ef8dbec051ea761f76e\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11040\",\n    \"triggerID\" : \"1236240737\",\n    \"triggerType\" : \"MANUAL\"\n  } ]\n}-->\n## CI report:\n\n* 0e648e21e15d21e537914ef8dbec051ea761f76e Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11040) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236242522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236276077","html_url":"https://github.com/apache/hudi/issues/6373#issuecomment-1236276077","issue_url":"https://api.github.com/repos/apache/hudi/issues/6373","id":1236276077,"node_id":"IC_kwDOBI7nWM5JsBNt","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T07:13:22Z","updated_at":"2022-09-04T07:13:22Z","author_association":"CONTRIBUTOR","body":"yes, sure. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236276077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236276782","html_url":"https://github.com/apache/hudi/pull/5478#issuecomment-1236276782","issue_url":"https://api.github.com/repos/apache/hudi/issues/5478","id":1236276782,"node_id":"IC_kwDOBI7nWM5JsBYu","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T07:17:52Z","updated_at":"2022-09-04T07:17:52Z","author_association":"CONTRIBUTOR","body":"@dongkelun : sorry, I dropped the ball on this. can you rebase w/ latest master. I can review it and we can get it in for 0.12.1. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236276782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236308318","html_url":"https://github.com/apache/hudi/issues/6578#issuecomment-1236308318","issue_url":"https://api.github.com/repos/apache/hudi/issues/6578","id":1236308318,"node_id":"IC_kwDOBI7nWM5JsJFe","user":{"login":"Zouxxyy","id":37108074,"node_id":"MDQ6VXNlcjM3MTA4MDc0","avatar_url":"https://avatars.githubusercontent.com/u/37108074?v=4","gravatar_id":"","url":"https://api.github.com/users/Zouxxyy","html_url":"https://github.com/Zouxxyy","followers_url":"https://api.github.com/users/Zouxxyy/followers","following_url":"https://api.github.com/users/Zouxxyy/following{/other_user}","gists_url":"https://api.github.com/users/Zouxxyy/gists{/gist_id}","starred_url":"https://api.github.com/users/Zouxxyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zouxxyy/subscriptions","organizations_url":"https://api.github.com/users/Zouxxyy/orgs","repos_url":"https://api.github.com/users/Zouxxyy/repos","events_url":"https://api.github.com/users/Zouxxyy/events{/privacy}","received_events_url":"https://api.github.com/users/Zouxxyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T10:37:42Z","updated_at":"2022-09-04T10:37:42Z","author_association":"CONTRIBUTOR","body":"I think you are right, and I found a new problem, I found that the active timeline is used [here](https://github.com/apache/hudi/blob/c0e15879668537d6de96db2994fc68209ad0baa5/hudi-sync/hudi-sync-common/src/main/java/org/apache/hudi/sync/common/HoodieSyncClient.java#L121) to find the changed partitions, if archive happens before sync, will there be some omissions?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236308318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236309577","html_url":"https://github.com/apache/hudi/issues/6560#issuecomment-1236309577","issue_url":"https://api.github.com/repos/apache/hudi/issues/6560","id":1236309577,"node_id":"IC_kwDOBI7nWM5JsJZJ","user":{"login":"QuChunhe","id":4928493,"node_id":"MDQ6VXNlcjQ5Mjg0OTM=","avatar_url":"https://avatars.githubusercontent.com/u/4928493?v=4","gravatar_id":"","url":"https://api.github.com/users/QuChunhe","html_url":"https://github.com/QuChunhe","followers_url":"https://api.github.com/users/QuChunhe/followers","following_url":"https://api.github.com/users/QuChunhe/following{/other_user}","gists_url":"https://api.github.com/users/QuChunhe/gists{/gist_id}","starred_url":"https://api.github.com/users/QuChunhe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QuChunhe/subscriptions","organizations_url":"https://api.github.com/users/QuChunhe/orgs","repos_url":"https://api.github.com/users/QuChunhe/repos","events_url":"https://api.github.com/users/QuChunhe/events{/privacy}","received_events_url":"https://api.github.com/users/QuChunhe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T10:46:09Z","updated_at":"2022-09-04T10:46:09Z","author_association":"NONE","body":"The above errors appear again. So schema evolution is not the cause of the errors.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236309577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236340053","html_url":"https://github.com/apache/hudi/issues/6585#issuecomment-1236340053","issue_url":"https://api.github.com/repos/apache/hudi/issues/6585","id":1236340053,"node_id":"IC_kwDOBI7nWM5JsQ1V","user":{"login":"QuChunhe","id":4928493,"node_id":"MDQ6VXNlcjQ5Mjg0OTM=","avatar_url":"https://avatars.githubusercontent.com/u/4928493?v=4","gravatar_id":"","url":"https://api.github.com/users/QuChunhe","html_url":"https://github.com/QuChunhe","followers_url":"https://api.github.com/users/QuChunhe/followers","following_url":"https://api.github.com/users/QuChunhe/following{/other_user}","gists_url":"https://api.github.com/users/QuChunhe/gists{/gist_id}","starred_url":"https://api.github.com/users/QuChunhe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QuChunhe/subscriptions","organizations_url":"https://api.github.com/users/QuChunhe/orgs","repos_url":"https://api.github.com/users/QuChunhe/repos","events_url":"https://api.github.com/users/QuChunhe/events{/privacy}","received_events_url":"https://api.github.com/users/QuChunhe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T13:18:43Z","updated_at":"2022-09-04T13:18:43Z","author_association":"NONE","body":"Furthermore, the performance does not improve when increasing the parallelism, for example setting parallelism to 400 or 1000.\r\n```java\r\n        .withDeleteParallelism(parallelism)\r\n        .withParallelism(parallelism, parallelism)\r\n        .withFinalizeWriteParallelism(parallelism)\r\n        .withRollbackParallelism(parallelism / 2))\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236340053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236347008","html_url":"https://github.com/apache/hudi/issues/6543#issuecomment-1236347008","issue_url":"https://api.github.com/repos/apache/hudi/issues/6543","id":1236347008,"node_id":"IC_kwDOBI7nWM5JsSiA","user":{"login":"easonwood","id":5763104,"node_id":"MDQ6VXNlcjU3NjMxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5763104?v=4","gravatar_id":"","url":"https://api.github.com/users/easonwood","html_url":"https://github.com/easonwood","followers_url":"https://api.github.com/users/easonwood/followers","following_url":"https://api.github.com/users/easonwood/following{/other_user}","gists_url":"https://api.github.com/users/easonwood/gists{/gist_id}","starred_url":"https://api.github.com/users/easonwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/easonwood/subscriptions","organizations_url":"https://api.github.com/users/easonwood/orgs","repos_url":"https://api.github.com/users/easonwood/repos","events_url":"https://api.github.com/users/easonwood/events{/privacy}","received_events_url":"https://api.github.com/users/easonwood/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T13:54:04Z","updated_at":"2022-09-05T01:05:25Z","author_association":"NONE","body":"@Zouxxyy \r\nI try your method in https://github.com/apache/hudi/issues/6563.\r\nThe classloader result looks correct, AppClassLoader loads the user-defiend class and ReflectionUtils\r\n\r\n[arthas@14524]$ classloader -t\r\n+-BootstrapClassLoader\r\n+-sun.misc.Launcher$ExtClassLoader@7f77e91b\r\n  +-com.taobao.arthas.agent.ArthasClassloader@67e8d194\r\n  +-sun.misc.Launcher$AppClassLoader@3fb4f649\r\n    +-org.apache.spark.util.MutableURLClassLoader@6f44a157\r\n\r\n[arthas@14524]$ classloader -c 7f77e91b -load us.zoom.op.utils.OrderlyMergeRecordPayload\r\nload class error, class: us.zoom.op.utils.OrderlyMergeRecordPayload, error: java.lang.ClassNotFoundException: us.zoom.op.utils.OrderlyMergeRecordPayload\r\n\r\n[arthas@14524]$ classloader -c 3fb4f649 -load us.zoom.op.utils.OrderlyMergeRecordPayload\r\nload class success.\r\n class-info        us.zoom.op.utils.OrderlyMergeRecordPayload\r\n name              us.zoom.op.utils.OrderlyMergeRecordPayload\r\n super-class       +-org.apache.hudi.common.model.OverwriteWithLatestAvroPayload\r\n                     +-org.apache.hudi.common.model.BaseAvroPayload\r\n                       +-java.lang.Object\r\n class-loader      +-sun.misc.Launcher$AppClassLoader@3fb4f649\r\n                     +-sun.misc.Launcher$ExtClassLoader@7f77e91b\r\n classLoaderHash   3fb4f649\r\n\r\n[arthas@14524]$ classloader -c 6f44a157 -load us.zoom.op.utils.OrderlyMergeRecordPayload\r\nload class success.\r\n class-info        us.zoom.op.utils.OrderlyMergeRecordPayload\r\n super-class       +-org.apache.hudi.common.model.OverwriteWithLatestAvroPayload\r\n                     +-org.apache.hudi.common.model.BaseAvroPayload\r\n                       +-java.lang.Object\r\n class-loader      +-sun.misc.Launcher$AppClassLoader@3fb4f649\r\n                     +-sun.misc.Launcher$ExtClassLoader@7f77e91b\r\n classLoaderHash   3fb4f649\r\n\r\n[arthas@15645]$ classloader -c 3fb4f649 -load  org.apache.hudi.common.util.ReflectionUtils\r\nload class success.\r\n class-info        org.apache.hudi.common.util.ReflectionUtils\r\n code-source       /usr/lib/spark/jars/hudi-spark-bundle.jar\r\n super-class       +-java.lang.Object\r\n class-loader      +-sun.misc.Launcher$AppClassLoader@3fb4f649\r\n                     +-sun.misc.Launcher$ExtClassLoader@7f77e91b\r\n classLoaderHash   3fb4f649\r\n\r\n\r\n\r\nBut my job result is still error \r\nCaused by: java.lang.ClassNotFoundException: us.zoom.op.utils.OrderlyMergeRecordPayload\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:264)\r\n\tat org.apache.hudi.common.util.ReflectionUtils.getClass(ReflectionUtils.java:54)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236347008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236348644","html_url":"https://github.com/apache/hudi/issues/6543#issuecomment-1236348644","issue_url":"https://api.github.com/repos/apache/hudi/issues/6543","id":1236348644,"node_id":"IC_kwDOBI7nWM5JsS7k","user":{"login":"Zouxxyy","id":37108074,"node_id":"MDQ6VXNlcjM3MTA4MDc0","avatar_url":"https://avatars.githubusercontent.com/u/37108074?v=4","gravatar_id":"","url":"https://api.github.com/users/Zouxxyy","html_url":"https://github.com/Zouxxyy","followers_url":"https://api.github.com/users/Zouxxyy/followers","following_url":"https://api.github.com/users/Zouxxyy/following{/other_user}","gists_url":"https://api.github.com/users/Zouxxyy/gists{/gist_id}","starred_url":"https://api.github.com/users/Zouxxyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zouxxyy/subscriptions","organizations_url":"https://api.github.com/users/Zouxxyy/orgs","repos_url":"https://api.github.com/users/Zouxxyy/repos","events_url":"https://api.github.com/users/Zouxxyy/events{/privacy}","received_events_url":"https://api.github.com/users/Zouxxyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T14:03:25Z","updated_at":"2022-09-04T14:10:46Z","author_association":"CONTRIBUTOR","body":"> @Zouxxyy I try your method in #6563. The classloader result looks correct, AppClassLoader load the special class\r\n> \r\n> [arthas@14524]$ classloader -t +-BootstrapClassLoader +-sun.misc.Launcher$ExtClassLoader@7f77e91b +-com.taobao.arthas.agent.ArthasClassloader@67e8d194 +-sun.misc.Launcher$AppClassLoader@3fb4f649 +-org.apache.spark.util.MutableURLClassLoader@6f44a157\r\n> \r\n> [arthas@14524]$ classloader -c 7f77e91b -load us.zoom.op.utils.OrderlyMergeRecordPayload load class error, class: us.zoom.op.utils.OrderlyMergeRecordPayload, error: java.lang.ClassNotFoundException: us.zoom.op.utils.OrderlyMergeRecordPayload\r\n> \r\n> [arthas@14524]$ classloader -c 3fb4f649 -load us.zoom.op.utils.OrderlyMergeRecordPayload load class success. class-info us.zoom.op.utils.OrderlyMergeRecordPayload name us.zoom.op.utils.OrderlyMergeRecordPayload super-class +-org.apache.hudi.common.model.OverwriteWithLatestAvroPayload +-org.apache.hudi.common.model.BaseAvroPayload +-java.lang.Object class-loader +-sun.misc.Launcher$AppClassLoader@3fb4f649 +-sun.misc.Launcher$ExtClassLoader@7f77e91b classLoaderHash 3fb4f649\r\n> \r\n> [arthas@14524]$ classloader -c 6f44a157 -load us.zoom.op.utils.OrderlyMergeRecordPayload load class success. class-info us.zoom.op.utils.OrderlyMergeRecordPayload super-class +-org.apache.hudi.common.model.OverwriteWithLatestAvroPayload +-org.apache.hudi.common.model.BaseAvroPayload +-java.lang.Object class-loader +-sun.misc.Launcher$AppClassLoader@3fb4f649 +-sun.misc.Launcher$ExtClassLoader@7f77e91b classLoaderHash 3fb4f649\r\n> \r\n> But my job result is still error Caused by: java.lang.ClassNotFoundException: us.zoom.op.utils.OrderlyMergeRecordPayload at java.net.URLClassLoader.findClass(URLClassLoader.java:387) at java.lang.ClassLoader.loadClass(ClassLoader.java:418) at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352) at java.lang.ClassLoader.loadClass(ClassLoader.java:351) at java.lang.Class.forName0(Native Method) at java.lang.Class.forName(Class.java:264) at org.apache.hudi.common.util.ReflectionUtils.getClass(ReflectionUtils.java:54)\r\n\r\nThis looks a little weird, where do you add your customer jar? You can try putting it where your hudi-spark-bundle.jar is. Or have a look at the classloader used by ReflectionUtils","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236348644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236362534","html_url":"https://github.com/apache/hudi/issues/6543#issuecomment-1236362534","issue_url":"https://api.github.com/repos/apache/hudi/issues/6543","id":1236362534,"node_id":"IC_kwDOBI7nWM5JsWUm","user":{"login":"easonwood","id":5763104,"node_id":"MDQ6VXNlcjU3NjMxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5763104?v=4","gravatar_id":"","url":"https://api.github.com/users/easonwood","html_url":"https://github.com/easonwood","followers_url":"https://api.github.com/users/easonwood/followers","following_url":"https://api.github.com/users/easonwood/following{/other_user}","gists_url":"https://api.github.com/users/easonwood/gists{/gist_id}","starred_url":"https://api.github.com/users/easonwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/easonwood/subscriptions","organizations_url":"https://api.github.com/users/easonwood/orgs","repos_url":"https://api.github.com/users/easonwood/repos","events_url":"https://api.github.com/users/easonwood/events{/privacy}","received_events_url":"https://api.github.com/users/easonwood/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T15:16:46Z","updated_at":"2022-09-04T15:18:33Z","author_association":"NONE","body":"@Zouxxyy \r\nReflectionUtils can be found in AppClassLoader.\r\n\r\nspark-submit  \\\r\n  --master yarn  \\\r\n  --deploy-mode cluster  \\\r\n  --jars /usr/lib/spark/jars/hudi-spark-bundle.jar,/usr/lib/hive/lib/*.jar, /usr/lib/hudi/cli/lib/*.jar, /usr/lib/hudi/*.jar  \\\r\n  --conf \"spark.driver.extraClassPath=custom.jar\"  \\\r\n  custom-jar-with-dependencies.jar\r\n\r\nmy pom depends these:\r\nhudi-spark3-bundle_2.12: 0.11.0 [provided]\r\nhudi-spark_2.12: 0.11.0 [provided]\r\nhudi-utilities-bundle_2.12: 0.11.0 [provided]","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236362534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236382839","html_url":"https://github.com/apache/hudi/issues/6055#issuecomment-1236382839","issue_url":"https://api.github.com/repos/apache/hudi/issues/6055","id":1236382839,"node_id":"IC_kwDOBI7nWM5JsbR3","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T17:20:11Z","updated_at":"2022-09-04T17:20:11Z","author_association":"CONTRIBUTOR","body":"@rishabhbandi : gentle ping. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236382839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236383069","html_url":"https://github.com/apache/hudi/issues/6503#issuecomment-1236383069","issue_url":"https://api.github.com/repos/apache/hudi/issues/6503","id":1236383069,"node_id":"IC_kwDOBI7nWM5JsbVd","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T17:21:41Z","updated_at":"2022-09-04T17:21:41Z","author_association":"CONTRIBUTOR","body":"@maduraitech : can you respond to Ethan's request above. would help us investigate further. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236383069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236383185","html_url":"https://github.com/apache/hudi/issues/5540#issuecomment-1236383185","issue_url":"https://api.github.com/repos/apache/hudi/issues/5540","id":1236383185,"node_id":"IC_kwDOBI7nWM5JsbXR","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T17:22:26Z","updated_at":"2022-09-04T17:22:26Z","author_association":"CONTRIBUTOR","body":"oh ok ok, got it. thanks. may I know which issue you are referring to. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236383185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236383285","html_url":"https://github.com/apache/hudi/issues/5540#issuecomment-1236383285","issue_url":"https://api.github.com/repos/apache/hudi/issues/5540","id":1236383285,"node_id":"IC_kwDOBI7nWM5JsbY1","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T17:23:09Z","updated_at":"2022-09-04T17:23:09Z","author_association":"CONTRIBUTOR","body":"@nleena123 : are you still facing issues or are we good to close it out ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236383285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236385285","html_url":"https://github.com/apache/hudi/pull/6586#issuecomment-1236385285","issue_url":"https://api.github.com/repos/apache/hudi/issues/6586","id":1236385285,"node_id":"IC_kwDOBI7nWM5Jsb4F","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T17:35:46Z","updated_at":"2022-09-04T17:35:46Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"4a77d16c6250dedf71405735952d24671506a8ad\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11141\",\n    \"triggerID\" : \"4a77d16c6250dedf71405735952d24671506a8ad\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 4a77d16c6250dedf71405735952d24671506a8ad Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11141) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236385285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236387535","html_url":"https://github.com/apache/hudi/issues/6584#issuecomment-1236387535","issue_url":"https://api.github.com/repos/apache/hudi/issues/6584","id":1236387535,"node_id":"IC_kwDOBI7nWM5JscbP","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T17:52:22Z","updated_at":"2022-09-04T17:52:22Z","author_association":"CONTRIBUTOR","body":"yes, we don't have multi-writer support yet w/ java client. \r\nhttps://issues.apache.org/jira/browse/HUDI-4774\r\n\r\nLet us know if you will have bandwidth to take a stab at it. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236387535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236416014","html_url":"https://github.com/apache/hudi/issues/5253#issuecomment-1236416014","issue_url":"https://api.github.com/repos/apache/hudi/issues/5253","id":1236416014,"node_id":"IC_kwDOBI7nWM5JsjYO","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-04T21:10:23Z","updated_at":"2022-09-04T21:10:23Z","author_association":"CONTRIBUTOR","body":"@njalan : can you let us know if we are good to close this one out. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236416014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236467962","html_url":"https://github.com/apache/hudi/issues/6424#issuecomment-1236467962","issue_url":"https://api.github.com/repos/apache/hudi/issues/6424","id":1236467962,"node_id":"IC_kwDOBI7nWM5JswD6","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T01:36:40Z","updated_at":"2022-09-05T01:36:40Z","author_association":"CONTRIBUTOR","body":"close this issue， since\r\nWe have solved this problem https://issues.apache.org/jira/browse/HUDI-4703","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236467962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236484951","html_url":"https://github.com/apache/hudi/pull/6489#issuecomment-1236484951","issue_url":"https://api.github.com/repos/apache/hudi/issues/6489","id":1236484951,"node_id":"IC_kwDOBI7nWM5Js0NX","user":{"login":"paul8263","id":7007327,"node_id":"MDQ6VXNlcjcwMDczMjc=","avatar_url":"https://avatars.githubusercontent.com/u/7007327?v=4","gravatar_id":"","url":"https://api.github.com/users/paul8263","html_url":"https://github.com/paul8263","followers_url":"https://api.github.com/users/paul8263/followers","following_url":"https://api.github.com/users/paul8263/following{/other_user}","gists_url":"https://api.github.com/users/paul8263/gists{/gist_id}","starred_url":"https://api.github.com/users/paul8263/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul8263/subscriptions","organizations_url":"https://api.github.com/users/paul8263/orgs","repos_url":"https://api.github.com/users/paul8263/repos","events_url":"https://api.github.com/users/paul8263/events{/privacy}","received_events_url":"https://api.github.com/users/paul8263/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T02:24:44Z","updated_at":"2022-09-05T02:24:44Z","author_association":"CONTRIBUTOR","body":"> Hi community,\r\n> \r\n> After testing some compaction commands I found that there was a problem with SparkUtil::initLauncher. Spring shell 2.x requires Spring boot but the trick is, spring boot maven plugin repackage everything stored in src into /BOOT-INF/classes inside the jar, not in the root path of the jar. As a result SparkLauncher cannot find the main class. Currently I am working on how to solve this packaging problem.\r\n\r\nThe hudi-cli packaging and SparkUtil issue has been fixed.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236484951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236507037","html_url":"https://github.com/apache/hudi/pull/6574#issuecomment-1236507037","issue_url":"https://api.github.com/repos/apache/hudi/issues/6574","id":1236507037,"node_id":"IC_kwDOBI7nWM5Js5md","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T03:26:17Z","updated_at":"2022-09-05T03:26:17Z","author_association":"CONTRIBUTOR","body":"Don't think the change is necessary, we already have pluggable clustering strategies and by default a clustering plan is scheduled for 4 commits.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236507037/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236512527","html_url":"https://github.com/apache/hudi/pull/6574#issuecomment-1236512527","issue_url":"https://api.github.com/repos/apache/hudi/issues/6574","id":1236512527,"node_id":"IC_kwDOBI7nWM5Js68P","user":{"login":"eric9204","id":90449228,"node_id":"MDQ6VXNlcjkwNDQ5MjI4","avatar_url":"https://avatars.githubusercontent.com/u/90449228?v=4","gravatar_id":"","url":"https://api.github.com/users/eric9204","html_url":"https://github.com/eric9204","followers_url":"https://api.github.com/users/eric9204/followers","following_url":"https://api.github.com/users/eric9204/following{/other_user}","gists_url":"https://api.github.com/users/eric9204/gists{/gist_id}","starred_url":"https://api.github.com/users/eric9204/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eric9204/subscriptions","organizations_url":"https://api.github.com/users/eric9204/orgs","repos_url":"https://api.github.com/users/eric9204/repos","events_url":"https://api.github.com/users/eric9204/events{/privacy}","received_events_url":"https://api.github.com/users/eric9204/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T03:42:38Z","updated_at":"2022-09-05T03:42:38Z","author_association":"CONTRIBUTOR","body":"@danny0405 Actually, the clustering plan was scheduled for every successful commits. and there are too many inflight clustering job. I think need to make some change.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236512527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236515994","html_url":"https://github.com/apache/hudi/pull/6582#issuecomment-1236515994","issue_url":"https://api.github.com/repos/apache/hudi/issues/6582","id":1236515994,"node_id":"IC_kwDOBI7nWM5Js7ya","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T03:52:54Z","updated_at":"2022-09-05T03:52:54Z","author_association":"CONTRIBUTOR","body":"Thanks for the contribution @hechao-ustc , i have left one small comment.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236515994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236516899","html_url":"https://github.com/apache/hudi/issues/6588#issuecomment-1236516899","issue_url":"https://api.github.com/repos/apache/hudi/issues/6588","id":1236516899,"node_id":"IC_kwDOBI7nWM5Js8Aj","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T03:55:26Z","updated_at":"2022-09-05T03:55:26Z","author_association":"CONTRIBUTOR","body":"Seems that spark bundle jar does not contain the shaded avro clazz.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236516899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236519071","html_url":"https://github.com/apache/hudi/issues/6588#issuecomment-1236519071","issue_url":"https://api.github.com/repos/apache/hudi/issues/6588","id":1236519071,"node_id":"IC_kwDOBI7nWM5Js8if","user":{"login":"dik111","id":34541162,"node_id":"MDQ6VXNlcjM0NTQxMTYy","avatar_url":"https://avatars.githubusercontent.com/u/34541162?v=4","gravatar_id":"","url":"https://api.github.com/users/dik111","html_url":"https://github.com/dik111","followers_url":"https://api.github.com/users/dik111/followers","following_url":"https://api.github.com/users/dik111/following{/other_user}","gists_url":"https://api.github.com/users/dik111/gists{/gist_id}","starred_url":"https://api.github.com/users/dik111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dik111/subscriptions","organizations_url":"https://api.github.com/users/dik111/orgs","repos_url":"https://api.github.com/users/dik111/repos","events_url":"https://api.github.com/users/dik111/events{/privacy}","received_events_url":"https://api.github.com/users/dik111/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T04:01:32Z","updated_at":"2022-09-05T04:01:32Z","author_association":"NONE","body":"> Seems that spark bundle jar does not contain the shaded avro clazz.\r\n\r\nWhat should I do about it ？","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236519071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236524891","html_url":"https://github.com/apache/hudi/issues/6588#issuecomment-1236524891","issue_url":"https://api.github.com/repos/apache/hudi/issues/6588","id":1236524891,"node_id":"IC_kwDOBI7nWM5Js99b","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T04:17:21Z","updated_at":"2022-09-05T04:17:21Z","author_association":"CONTRIBUTOR","body":"what jar did you use for spark, you can open the spark jar with command:\r\n```shell\r\nvim xxx.jar\r\n```\r\n\r\nand search about the missing clazz to see if the jar includes it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236524891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236542371","html_url":"https://github.com/apache/hudi/pull/6582#issuecomment-1236542371","issue_url":"https://api.github.com/repos/apache/hudi/issues/6582","id":1236542371,"node_id":"IC_kwDOBI7nWM5JtCOj","user":{"login":"hechao-ustc","id":73096722,"node_id":"MDQ6VXNlcjczMDk2NzIy","avatar_url":"https://avatars.githubusercontent.com/u/73096722?v=4","gravatar_id":"","url":"https://api.github.com/users/hechao-ustc","html_url":"https://github.com/hechao-ustc","followers_url":"https://api.github.com/users/hechao-ustc/followers","following_url":"https://api.github.com/users/hechao-ustc/following{/other_user}","gists_url":"https://api.github.com/users/hechao-ustc/gists{/gist_id}","starred_url":"https://api.github.com/users/hechao-ustc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hechao-ustc/subscriptions","organizations_url":"https://api.github.com/users/hechao-ustc/orgs","repos_url":"https://api.github.com/users/hechao-ustc/repos","events_url":"https://api.github.com/users/hechao-ustc/events{/privacy}","received_events_url":"https://api.github.com/users/hechao-ustc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T05:02:21Z","updated_at":"2022-09-05T05:02:21Z","author_association":"CONTRIBUTOR","body":"> Thanks for the contribution @hechao-ustc , i have left one small comment.\r\n@danny0405 hi danny，Thanks for your comment，I have updated the content：\r\n![image](https://user-images.githubusercontent.com/73096722/188363591-c6f1b226-1b27-4489-95f8-28873da14f98.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236542371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236558188","html_url":"https://github.com/apache/hudi/issues/6543#issuecomment-1236558188","issue_url":"https://api.github.com/repos/apache/hudi/issues/6543","id":1236558188,"node_id":"IC_kwDOBI7nWM5JtGFs","user":{"login":"CaesarWangX","id":12985552,"node_id":"MDQ6VXNlcjEyOTg1NTUy","avatar_url":"https://avatars.githubusercontent.com/u/12985552?v=4","gravatar_id":"","url":"https://api.github.com/users/CaesarWangX","html_url":"https://github.com/CaesarWangX","followers_url":"https://api.github.com/users/CaesarWangX/followers","following_url":"https://api.github.com/users/CaesarWangX/following{/other_user}","gists_url":"https://api.github.com/users/CaesarWangX/gists{/gist_id}","starred_url":"https://api.github.com/users/CaesarWangX/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CaesarWangX/subscriptions","organizations_url":"https://api.github.com/users/CaesarWangX/orgs","repos_url":"https://api.github.com/users/CaesarWangX/repos","events_url":"https://api.github.com/users/CaesarWangX/events{/privacy}","received_events_url":"https://api.github.com/users/CaesarWangX/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T05:39:12Z","updated_at":"2022-09-05T05:46:34Z","author_association":"NONE","body":"Hi @Zouxxyy \r\nThanks for your suggestion.\r\nI tried your method, but I still got the same error.\r\nMy custom class is in my-jar-1.0.0-SNAPSHOT-jar-with-dependencies.jar\r\n\r\nspark-submit \\\r\n--master yarn \\\r\n--deploy-mode cluster \\\r\n--name xxxxxxxx \\\r\n--queue clustering \\\r\n--class com.test.MainClass \\\r\n--files test.conf \\\r\n--conf spark.driver.extraClassPath=my-jar-1.0.0-SNAPSHOT-jar-with-dependencies.jar \\\r\n--jars /usr/lib/hudi/hudi-spark-bundle.jar,/usr/lib/spark/external/lib/spark-avro.jar,/usr/lib/spark/external/lib/spark-sql-kafka-0-10.jar,/usr/lib/spark/external/lib/spark-streaming-kafka-0-10-assembly.jar,/usr/lib/spark/external/lib/spark-token-provider-kafka-0-10.jar \\\r\nmy-jar-1.0.0-SNAPSHOT-jar-with-dependencies.jar\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236558188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236559491","html_url":"https://github.com/apache/hudi/issues/5540#issuecomment-1236559491","issue_url":"https://api.github.com/repos/apache/hudi/issues/5540","id":1236559491,"node_id":"IC_kwDOBI7nWM5JtGaD","user":{"login":"ROOBALJINDAL","id":7212226,"node_id":"MDQ6VXNlcjcyMTIyMjY=","avatar_url":"https://avatars.githubusercontent.com/u/7212226?v=4","gravatar_id":"","url":"https://api.github.com/users/ROOBALJINDAL","html_url":"https://github.com/ROOBALJINDAL","followers_url":"https://api.github.com/users/ROOBALJINDAL/followers","following_url":"https://api.github.com/users/ROOBALJINDAL/following{/other_user}","gists_url":"https://api.github.com/users/ROOBALJINDAL/gists{/gist_id}","starred_url":"https://api.github.com/users/ROOBALJINDAL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ROOBALJINDAL/subscriptions","organizations_url":"https://api.github.com/users/ROOBALJINDAL/orgs","repos_url":"https://api.github.com/users/ROOBALJINDAL/repos","events_url":"https://api.github.com/users/ROOBALJINDAL/events{/privacy}","received_events_url":"https://api.github.com/users/ROOBALJINDAL/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T05:42:10Z","updated_at":"2022-09-05T05:42:10Z","author_association":"NONE","body":"@nsivabalan this was my issue which I have already closed.\r\n\r\nhttps://github.com/apache/hudi/issues/6348","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236559491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236580669","html_url":"https://github.com/apache/hudi/issues/6588#issuecomment-1236580669","issue_url":"https://api.github.com/repos/apache/hudi/issues/6588","id":1236580669,"node_id":"IC_kwDOBI7nWM5JtLk9","user":{"login":"dik111","id":34541162,"node_id":"MDQ6VXNlcjM0NTQxMTYy","avatar_url":"https://avatars.githubusercontent.com/u/34541162?v=4","gravatar_id":"","url":"https://api.github.com/users/dik111","html_url":"https://github.com/dik111","followers_url":"https://api.github.com/users/dik111/followers","following_url":"https://api.github.com/users/dik111/following{/other_user}","gists_url":"https://api.github.com/users/dik111/gists{/gist_id}","starred_url":"https://api.github.com/users/dik111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dik111/subscriptions","organizations_url":"https://api.github.com/users/dik111/orgs","repos_url":"https://api.github.com/users/dik111/repos","events_url":"https://api.github.com/users/dik111/events{/privacy}","received_events_url":"https://api.github.com/users/dik111/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T06:20:12Z","updated_at":"2022-09-05T06:20:12Z","author_association":"NONE","body":"I solved this problem by adding the following configuration in Packaging/Hudi-spark-bundle/pom.xml\r\n```\r\n...\r\n <include>org.apache.avro:avro</include>\r\n...\r\n...\r\n<relocation>\r\n  <pattern>org.apache.avro.</pattern>\r\n  <shadedPattern>org.apache.hudi.org.apache.avro.</shadedPattern>\r\n</relocation>\r\n...\r\n...\r\n    <dependency>\r\n      <groupId>org.apache.avro</groupId>\r\n      <artifactId>avro</artifactId>\r\n      <version>1.8.2</version>\r\n      <scope>compile</scope>\r\n    </dependency>\r\n...\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236580669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236584029","html_url":"https://github.com/apache/hudi/issues/5540#issuecomment-1236584029","issue_url":"https://api.github.com/repos/apache/hudi/issues/5540","id":1236584029,"node_id":"IC_kwDOBI7nWM5JtMZd","user":{"login":"nleena123","id":101168016,"node_id":"U_kgDOBgezkA","avatar_url":"https://avatars.githubusercontent.com/u/101168016?v=4","gravatar_id":"","url":"https://api.github.com/users/nleena123","html_url":"https://github.com/nleena123","followers_url":"https://api.github.com/users/nleena123/followers","following_url":"https://api.github.com/users/nleena123/following{/other_user}","gists_url":"https://api.github.com/users/nleena123/gists{/gist_id}","starred_url":"https://api.github.com/users/nleena123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nleena123/subscriptions","organizations_url":"https://api.github.com/users/nleena123/orgs","repos_url":"https://api.github.com/users/nleena123/repos","events_url":"https://api.github.com/users/nleena123/events{/privacy}","received_events_url":"https://api.github.com/users/nleena123/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T06:25:36Z","updated_at":"2022-09-05T06:25:36Z","author_association":"NONE","body":"still i could see the same issue do i need to follow the below step to fix the issue  ?\r\n\r\n--conf spark.driver.extraJavaOptions=\"-Dlog4j.configuration=file:/home/hadoop/log4j.properties\" --conf spark.executor.extraJavaOptions=\"-Dlog4j.configuration=file:/home/hadoop/log4j.properties\"\r\n\r\nbut i am getting this issue while running data bricks job  ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236584029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236604028","html_url":"https://github.com/apache/hudi/pull/6582#issuecomment-1236604028","issue_url":"https://api.github.com/repos/apache/hudi/issues/6582","id":1236604028,"node_id":"IC_kwDOBI7nWM5JtRR8","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T06:50:00Z","updated_at":"2022-09-05T06:50:00Z","author_association":"CONTRIBUTOR","body":"Thanks, can we also add the doc for archived release 0.12.0 ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236604028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236613095","html_url":"https://github.com/apache/hudi/pull/6587#issuecomment-1236613095","issue_url":"https://api.github.com/repos/apache/hudi/issues/6587","id":1236613095,"node_id":"IC_kwDOBI7nWM5JtTfn","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T07:02:41Z","updated_at":"2022-09-05T07:02:41Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"9c996aa5881d2a9e341b5181ef635750a7f4c926\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11142\",\n    \"triggerID\" : \"9c996aa5881d2a9e341b5181ef635750a7f4c926\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"a8bbdf4475b8a9c204c2547071ecdb7ba26691ae\",\n    \"status\" : \"PENDING\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11152\",\n    \"triggerID\" : \"a8bbdf4475b8a9c204c2547071ecdb7ba26691ae\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 9c996aa5881d2a9e341b5181ef635750a7f4c926 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11142) \n* a8bbdf4475b8a9c204c2547071ecdb7ba26691ae Azure: [PENDING](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11152) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236613095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236623538","html_url":"https://github.com/apache/hudi/pull/6592#issuecomment-1236623538","issue_url":"https://api.github.com/repos/apache/hudi/issues/6592","id":1236623538,"node_id":"IC_kwDOBI7nWM5JtWCy","user":{"login":"junyuc25","id":10862251,"node_id":"MDQ6VXNlcjEwODYyMjUx","avatar_url":"https://avatars.githubusercontent.com/u/10862251?v=4","gravatar_id":"","url":"https://api.github.com/users/junyuc25","html_url":"https://github.com/junyuc25","followers_url":"https://api.github.com/users/junyuc25/followers","following_url":"https://api.github.com/users/junyuc25/following{/other_user}","gists_url":"https://api.github.com/users/junyuc25/gists{/gist_id}","starred_url":"https://api.github.com/users/junyuc25/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junyuc25/subscriptions","organizations_url":"https://api.github.com/users/junyuc25/orgs","repos_url":"https://api.github.com/users/junyuc25/repos","events_url":"https://api.github.com/users/junyuc25/events{/privacy}","received_events_url":"https://api.github.com/users/junyuc25/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T07:16:03Z","updated_at":"2022-09-05T07:16:03Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236623538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236637259","html_url":"https://github.com/apache/hudi/pull/6382#issuecomment-1236637259","issue_url":"https://api.github.com/repos/apache/hudi/issues/6382","id":1236637259,"node_id":"IC_kwDOBI7nWM5JtZZL","user":{"login":"XinyaoTian","id":31195026,"node_id":"MDQ6VXNlcjMxMTk1MDI2","avatar_url":"https://avatars.githubusercontent.com/u/31195026?v=4","gravatar_id":"","url":"https://api.github.com/users/XinyaoTian","html_url":"https://github.com/XinyaoTian","followers_url":"https://api.github.com/users/XinyaoTian/followers","following_url":"https://api.github.com/users/XinyaoTian/following{/other_user}","gists_url":"https://api.github.com/users/XinyaoTian/gists{/gist_id}","starred_url":"https://api.github.com/users/XinyaoTian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XinyaoTian/subscriptions","organizations_url":"https://api.github.com/users/XinyaoTian/orgs","repos_url":"https://api.github.com/users/XinyaoTian/repos","events_url":"https://api.github.com/users/XinyaoTian/events{/privacy}","received_events_url":"https://api.github.com/users/XinyaoTian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T07:29:40Z","updated_at":"2022-09-05T07:40:19Z","author_association":"CONTRIBUTOR","body":"@prasannarajaperumal Hi Prasanna, thanks for your review :)\r\nI have read document of RFC-46 carefully according to your suggestion. \r\n\r\nTo my understanding, RFC-46 intends to improve the entire design of HoodieRecordPayload, which is extremely awesome and will provide quite a lot benefits. However, this doesn't give Hoodie the ability to verify multiple event-time fields in a single table (Although it may be easier to implement this feature due to the new Payload design, but HoodieRecordPayload is just a part of this feature). What we would like to achieve is to give Hudi the ability to JOIN multiple tables in stream-consuming mode without multiple event-time disordering. Therefore, I think we still need to propose this feature since it's really matter to have multiple event-time fields verification in a single Hudi table (currently we ONLY have one, i.e. precombine.field='ts'; What we want to achieve is precombine.field='ts1, ts2, ts3, ts4'). \r\n\r\nFor your convenience, we can wait for the final landing of the RFC-46 and then implement the feature proposed in this RFC. I promise this feature is very important because people asking for this feature in many place (including Hudi Slack e.g. [Thread](https://apache-hudi.slack.com/archives/C4D716NPQ/p1661331276087129) and dev-maillist e.g. [Disscussion](https://lists.apache.org/list?dev@hudi.apache.org) ) almost every week. We really need to have MORE THAN ONE event-time fields so than we can ensure the accuracy of events even if there are many JOIN operations sinking to ONE Hudi table.\r\n\r\nIf there's anything worth to note please contact me! Look forward to receiving your further feedback.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236637259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236646942","html_url":"https://github.com/apache/hudi/issues/6444#issuecomment-1236646942","issue_url":"https://api.github.com/repos/apache/hudi/issues/6444","id":1236646942,"node_id":"IC_kwDOBI7nWM5Jtbwe","user":{"login":"novisfff","id":62633257,"node_id":"MDQ6VXNlcjYyNjMzMjU3","avatar_url":"https://avatars.githubusercontent.com/u/62633257?v=4","gravatar_id":"","url":"https://api.github.com/users/novisfff","html_url":"https://github.com/novisfff","followers_url":"https://api.github.com/users/novisfff/followers","following_url":"https://api.github.com/users/novisfff/following{/other_user}","gists_url":"https://api.github.com/users/novisfff/gists{/gist_id}","starred_url":"https://api.github.com/users/novisfff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/novisfff/subscriptions","organizations_url":"https://api.github.com/users/novisfff/orgs","repos_url":"https://api.github.com/users/novisfff/repos","events_url":"https://api.github.com/users/novisfff/events{/privacy}","received_events_url":"https://api.github.com/users/novisfff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T07:39:50Z","updated_at":"2022-09-05T07:39:50Z","author_association":"CONTRIBUTOR","body":"> > > @novisfff Is this a new marker creation issue at the timeline server after #6383 is landed?\r\n> > \r\n> > \r\n> > yes, this may caused by `allMarkers` in `MarkerDirState`\r\n> \r\n> @novisfff just to confirm this is using master version? or release 0.12 ? can you fill up the info as per the issue template pls\r\n\r\ndone.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236646942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236663611","html_url":"https://github.com/apache/hudi/pull/6593#issuecomment-1236663611","issue_url":"https://api.github.com/repos/apache/hudi/issues/6593","id":1236663611,"node_id":"IC_kwDOBI7nWM5Jtf07","user":{"login":"minihippo","id":17903481,"node_id":"MDQ6VXNlcjE3OTAzNDgx","avatar_url":"https://avatars.githubusercontent.com/u/17903481?v=4","gravatar_id":"","url":"https://api.github.com/users/minihippo","html_url":"https://github.com/minihippo","followers_url":"https://api.github.com/users/minihippo/followers","following_url":"https://api.github.com/users/minihippo/following{/other_user}","gists_url":"https://api.github.com/users/minihippo/gists{/gist_id}","starred_url":"https://api.github.com/users/minihippo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/minihippo/subscriptions","organizations_url":"https://api.github.com/users/minihippo/orgs","repos_url":"https://api.github.com/users/minihippo/repos","events_url":"https://api.github.com/users/minihippo/events{/privacy}","received_events_url":"https://api.github.com/users/minihippo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T07:58:14Z","updated_at":"2022-09-05T07:58:14Z","author_association":"CONTRIBUTOR","body":"When spark loads the latest fileslice, if include the fileslice that only contains log file, and then the problem can be also solved right?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236663611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236667038","html_url":"https://github.com/apache/hudi/pull/6589#issuecomment-1236667038","issue_url":"https://api.github.com/repos/apache/hudi/issues/6589","id":1236667038,"node_id":"IC_kwDOBI7nWM5Jtgqe","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T08:01:52Z","updated_at":"2022-09-05T08:01:52Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"2779ca40748e4aa90ddecb01288c61fe478767a1\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11147\",\n    \"triggerID\" : \"2779ca40748e4aa90ddecb01288c61fe478767a1\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 2779ca40748e4aa90ddecb01288c61fe478767a1 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11147) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236667038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236671397","html_url":"https://github.com/apache/hudi/pull/6593#issuecomment-1236671397","issue_url":"https://api.github.com/repos/apache/hudi/issues/6593","id":1236671397,"node_id":"IC_kwDOBI7nWM5Jthul","user":{"login":"TJX2014","id":7149304,"node_id":"MDQ6VXNlcjcxNDkzMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/7149304?v=4","gravatar_id":"","url":"https://api.github.com/users/TJX2014","html_url":"https://github.com/TJX2014","followers_url":"https://api.github.com/users/TJX2014/followers","following_url":"https://api.github.com/users/TJX2014/following{/other_user}","gists_url":"https://api.github.com/users/TJX2014/gists{/gist_id}","starred_url":"https://api.github.com/users/TJX2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TJX2014/subscriptions","organizations_url":"https://api.github.com/users/TJX2014/orgs","repos_url":"https://api.github.com/users/TJX2014/repos","events_url":"https://api.github.com/users/TJX2014/events{/privacy}","received_events_url":"https://api.github.com/users/TJX2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T08:06:36Z","updated_at":"2022-09-05T08:06:36Z","author_association":"CONTRIBUTOR","body":"> When spark loads the latest fileslice, if include the fileslice that only contains log file, and then the problem can be also solved right?\r\n\r\nSeems spark need not to include log file, which is merged to base file.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236671397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236680377","html_url":"https://github.com/apache/hudi/pull/6593#issuecomment-1236680377","issue_url":"https://api.github.com/repos/apache/hudi/issues/6593","id":1236680377,"node_id":"IC_kwDOBI7nWM5Jtj65","user":{"login":"TJX2014","id":7149304,"node_id":"MDQ6VXNlcjcxNDkzMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/7149304?v=4","gravatar_id":"","url":"https://api.github.com/users/TJX2014","html_url":"https://github.com/TJX2014","followers_url":"https://api.github.com/users/TJX2014/followers","following_url":"https://api.github.com/users/TJX2014/following{/other_user}","gists_url":"https://api.github.com/users/TJX2014/gists{/gist_id}","starred_url":"https://api.github.com/users/TJX2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TJX2014/subscriptions","organizations_url":"https://api.github.com/users/TJX2014/orgs","repos_url":"https://api.github.com/users/TJX2014/repos","events_url":"https://api.github.com/users/TJX2014/events{/privacy}","received_events_url":"https://api.github.com/users/TJX2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T08:16:02Z","updated_at":"2022-09-05T08:16:02Z","author_association":"CONTRIBUTOR","body":"> When spark loads the latest fileslice, if include the fileslice that only contains log file, and then the problem can be also solved right?\r\n\r\nSorry, closed by mistake, please see: https://github.com/apache/hudi/pull/6595","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236680377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236697613","html_url":"https://github.com/apache/hudi/pull/6498#issuecomment-1236697613","issue_url":"https://api.github.com/repos/apache/hudi/issues/6498","id":1236697613,"node_id":"IC_kwDOBI7nWM5JtoIN","user":{"login":"parisni","id":9535350,"node_id":"MDQ6VXNlcjk1MzUzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/9535350?v=4","gravatar_id":"","url":"https://api.github.com/users/parisni","html_url":"https://github.com/parisni","followers_url":"https://api.github.com/users/parisni/followers","following_url":"https://api.github.com/users/parisni/following{/other_user}","gists_url":"https://api.github.com/users/parisni/gists{/gist_id}","starred_url":"https://api.github.com/users/parisni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parisni/subscriptions","organizations_url":"https://api.github.com/users/parisni/orgs","repos_url":"https://api.github.com/users/parisni/repos","events_url":"https://api.github.com/users/parisni/events{/privacy}","received_events_url":"https://api.github.com/users/parisni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T08:32:24Z","updated_at":"2022-09-05T08:32:24Z","author_association":"CONTRIBUTOR","body":"> For the next cleaning, incremental cleaning will trigger, and will comb through all commits >= earliest commit retained i.e. commit2. and so file2_v1 will be deleted this time. and will update the earliest commit retained to commit3 now.\n\nI assume you meant file1_v2 ?\n\nLet me read again the source that's not what I understood and also tested so far. \n\nOn September 4, 2022 1:30:03 AM UTC, Sivabalan Narayanan ***@***.***> wrote:\n>got it, thanks. \n>Let me go through the example you have put up and clarify few things.\n>\n>\n>Say we have 3 committed files in partition-A and we add a new commit in partition-B, and we trigger cleaning for the first time (full partition scan):\n>\n>```\n>partition-A/\n>commit-0 added file1_V1.parquet\n>commit-1. added file1_V2.parquet\n>commit-2 added file1_V3.parquet\n>partition-B/\n>commit-3 added file2_V1.parquet\n>```\n>\n>In the case say we have KEEP_LATEST_COMMITS with CLEANER_COMMITS_RETAINED=3, the cleaner will remove the files created by commit-0 and keep 3 commits. ie. file1_V1.parquet will be cleaned up. But hudi also keeps track of `earliest commit retained` in this case which is commit2. This `earliest commit retained` is the one we will leverage later to do incremental cleaning. \n>\n>For the next cleaning, incremental cleaning will trigger, and will comb through all commits >= `earliest commit retained` i.e. commit2. and so file2_v1 will be deleted this time. and will update the `earliest commit retained` to commit3 now. \n>\n>this may not be applicable w/ KEEP_LATEST_FILE_VERSIONS. bcoz, we can't pin point a commit and say everything before that commit can be ignore for future cleaning. and thus incase of KEEP_LATEST_FILE_VERSIONS, we can't do incremental cleaning. It is in this policy, we might encounter a corner case where, a file group was updated only in Commit 1 and commit and never updated later. and after a long time, had a new version in say commit 100. we need to clean up the first version (assuming KEEP_LATEST_FILE_VERSIONS count is 2). \n>\n>Let me know if this makes sense. or if you still feel, I am missing something, can you elaborate w/ an example. \n>\n>\n>\n>\n>-- \n>Reply to this email directly or view it on GitHub:\n>https://github.com/apache/hudi/pull/6498#issuecomment-1236228935\n>You are receiving this because you were mentioned.\n>\n>Message ID: ***@***.***>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236697613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236710349","html_url":"https://github.com/apache/hudi/pull/6595#issuecomment-1236710349","issue_url":"https://api.github.com/repos/apache/hudi/issues/6595","id":1236710349,"node_id":"IC_kwDOBI7nWM5JtrPN","user":{"login":"minihippo","id":17903481,"node_id":"MDQ6VXNlcjE3OTAzNDgx","avatar_url":"https://avatars.githubusercontent.com/u/17903481?v=4","gravatar_id":"","url":"https://api.github.com/users/minihippo","html_url":"https://github.com/minihippo","followers_url":"https://api.github.com/users/minihippo/followers","following_url":"https://api.github.com/users/minihippo/following{/other_user}","gists_url":"https://api.github.com/users/minihippo/gists{/gist_id}","starred_url":"https://api.github.com/users/minihippo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/minihippo/subscriptions","organizations_url":"https://api.github.com/users/minihippo/orgs","repos_url":"https://api.github.com/users/minihippo/repos","events_url":"https://api.github.com/users/minihippo/events{/privacy}","received_events_url":"https://api.github.com/users/minihippo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T08:44:46Z","updated_at":"2022-09-05T08:45:19Z","author_association":"CONTRIBUTOR","body":"As discussed in the closed pr, I think consider the log only fileslice when loading bucketId-fileId mapping is better, because \r\n1. for flink writing, log first is more intuitive.\r\n2. bucket Index can support writing to log first theoretically(although it's not supported right now), both spark and flink. So the problem will be met when using spark writing either\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236710349/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236718145","html_url":"https://github.com/apache/hudi/pull/6595#issuecomment-1236718145","issue_url":"https://api.github.com/repos/apache/hudi/issues/6595","id":1236718145,"node_id":"IC_kwDOBI7nWM5JttJB","user":{"login":"TJX2014","id":7149304,"node_id":"MDQ6VXNlcjcxNDkzMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/7149304?v=4","gravatar_id":"","url":"https://api.github.com/users/TJX2014","html_url":"https://github.com/TJX2014","followers_url":"https://api.github.com/users/TJX2014/followers","following_url":"https://api.github.com/users/TJX2014/following{/other_user}","gists_url":"https://api.github.com/users/TJX2014/gists{/gist_id}","starred_url":"https://api.github.com/users/TJX2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TJX2014/subscriptions","organizations_url":"https://api.github.com/users/TJX2014/orgs","repos_url":"https://api.github.com/users/TJX2014/repos","events_url":"https://api.github.com/users/TJX2014/events{/privacy}","received_events_url":"https://api.github.com/users/TJX2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T08:52:20Z","updated_at":"2022-09-05T09:04:08Z","author_association":"CONTRIBUTOR","body":"> \r\n\r\nThere are two following considerations that I think follow spark is more graceful：\r\n1. The log file of mor table is a temporary state, both mor and cow has base file, but only mor has log file, so log base is not commonly, we should firstly consider commonly base file, right ？\r\n2. Log is not stable, which should merge to base file, if we firstly consider log file, it will make our hudi system not stable. Our target is make hudi stable, right？","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236718145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236736927","html_url":"https://github.com/apache/hudi/pull/6593#issuecomment-1236736927","issue_url":"https://api.github.com/repos/apache/hudi/issues/6593","id":1236736927,"node_id":"IC_kwDOBI7nWM5Jtxuf","user":{"login":"minihippo","id":17903481,"node_id":"MDQ6VXNlcjE3OTAzNDgx","avatar_url":"https://avatars.githubusercontent.com/u/17903481?v=4","gravatar_id":"","url":"https://api.github.com/users/minihippo","html_url":"https://github.com/minihippo","followers_url":"https://api.github.com/users/minihippo/followers","following_url":"https://api.github.com/users/minihippo/following{/other_user}","gists_url":"https://api.github.com/users/minihippo/gists{/gist_id}","starred_url":"https://api.github.com/users/minihippo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/minihippo/subscriptions","organizations_url":"https://api.github.com/users/minihippo/orgs","repos_url":"https://api.github.com/users/minihippo/repos","events_url":"https://api.github.com/users/minihippo/events{/privacy}","received_events_url":"https://api.github.com/users/minihippo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T09:08:45Z","updated_at":"2022-09-05T09:08:45Z","author_association":"CONTRIBUTOR","body":"The pr can be reopen :)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236736927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236750223","html_url":"https://github.com/apache/hudi/pull/6595#issuecomment-1236750223","issue_url":"https://api.github.com/repos/apache/hudi/issues/6595","id":1236750223,"node_id":"IC_kwDOBI7nWM5Jt0-P","user":{"login":"minihippo","id":17903481,"node_id":"MDQ6VXNlcjE3OTAzNDgx","avatar_url":"https://avatars.githubusercontent.com/u/17903481?v=4","gravatar_id":"","url":"https://api.github.com/users/minihippo","html_url":"https://github.com/minihippo","followers_url":"https://api.github.com/users/minihippo/followers","following_url":"https://api.github.com/users/minihippo/following{/other_user}","gists_url":"https://api.github.com/users/minihippo/gists{/gist_id}","starred_url":"https://api.github.com/users/minihippo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/minihippo/subscriptions","organizations_url":"https://api.github.com/users/minihippo/orgs","repos_url":"https://api.github.com/users/minihippo/repos","events_url":"https://api.github.com/users/minihippo/events{/privacy}","received_events_url":"https://api.github.com/users/minihippo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T09:21:15Z","updated_at":"2022-09-05T09:21:15Z","author_association":"CONTRIBUTOR","body":"There is a  property named `canIndexLogFile` in `HoodeIndex`, which means can write to log first. It's true default for `HbaseIndex` and `ConsistentBucketIndex`, and it also can be true default for HoodieSimpleBucket. So log file only is a common state for writing to a new partition/table until compaction, whether use Spark or Flink. Fixing the way that spark loading map is once and for all.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236750223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236760408","html_url":"https://github.com/apache/hudi/pull/6595#issuecomment-1236760408","issue_url":"https://api.github.com/repos/apache/hudi/issues/6595","id":1236760408,"node_id":"IC_kwDOBI7nWM5Jt3dY","user":{"login":"TJX2014","id":7149304,"node_id":"MDQ6VXNlcjcxNDkzMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/7149304?v=4","gravatar_id":"","url":"https://api.github.com/users/TJX2014","html_url":"https://github.com/TJX2014","followers_url":"https://api.github.com/users/TJX2014/followers","following_url":"https://api.github.com/users/TJX2014/following{/other_user}","gists_url":"https://api.github.com/users/TJX2014/gists{/gist_id}","starred_url":"https://api.github.com/users/TJX2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TJX2014/subscriptions","organizations_url":"https://api.github.com/users/TJX2014/orgs","repos_url":"https://api.github.com/users/TJX2014/repos","events_url":"https://api.github.com/users/TJX2014/events{/privacy}","received_events_url":"https://api.github.com/users/TJX2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T09:30:07Z","updated_at":"2022-09-05T09:33:07Z","author_association":"CONTRIBUTOR","body":"> canIndexLogFile\r\n\r\nThanks for your suggestion, I will give another pr fix in spark side too, in spark side, load the index both consider log and base, considering canIndexLogFile.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236760408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236797063","html_url":"https://github.com/apache/hudi/pull/5624#issuecomment-1236797063","issue_url":"https://api.github.com/repos/apache/hudi/issues/5624","id":1236797063,"node_id":"IC_kwDOBI7nWM5JuAaH","user":{"login":"xicm","id":36392121,"node_id":"MDQ6VXNlcjM2MzkyMTIx","avatar_url":"https://avatars.githubusercontent.com/u/36392121?v=4","gravatar_id":"","url":"https://api.github.com/users/xicm","html_url":"https://github.com/xicm","followers_url":"https://api.github.com/users/xicm/followers","following_url":"https://api.github.com/users/xicm/following{/other_user}","gists_url":"https://api.github.com/users/xicm/gists{/gist_id}","starred_url":"https://api.github.com/users/xicm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xicm/subscriptions","organizations_url":"https://api.github.com/users/xicm/orgs","repos_url":"https://api.github.com/users/xicm/repos","events_url":"https://api.github.com/users/xicm/events{/privacy}","received_events_url":"https://api.github.com/users/xicm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T10:03:52Z","updated_at":"2022-09-05T10:03:52Z","author_association":"CONTRIBUTOR","body":"It will take some time to fully upgrade to hive3, can we merge this branch now?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236797063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236800272","html_url":"https://github.com/apache/hudi/pull/5624#issuecomment-1236800272","issue_url":"https://api.github.com/repos/apache/hudi/issues/5624","id":1236800272,"node_id":"IC_kwDOBI7nWM5JuBMQ","user":{"login":"xicm","id":36392121,"node_id":"MDQ6VXNlcjM2MzkyMTIx","avatar_url":"https://avatars.githubusercontent.com/u/36392121?v=4","gravatar_id":"","url":"https://api.github.com/users/xicm","html_url":"https://github.com/xicm","followers_url":"https://api.github.com/users/xicm/followers","following_url":"https://api.github.com/users/xicm/following{/other_user}","gists_url":"https://api.github.com/users/xicm/gists{/gist_id}","starred_url":"https://api.github.com/users/xicm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xicm/subscriptions","organizations_url":"https://api.github.com/users/xicm/orgs","repos_url":"https://api.github.com/users/xicm/repos","events_url":"https://api.github.com/users/xicm/events{/privacy}","received_events_url":"https://api.github.com/users/xicm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T10:06:31Z","updated_at":"2022-09-05T10:06:31Z","author_association":"CONTRIBUTOR","body":"If we are going to merge this pr, ping me, there may be some conflicts. And the same issue in hudi-utilities-bundle.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236800272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236861563","html_url":"https://github.com/apache/hudi/issues/6341#issuecomment-1236861563","issue_url":"https://api.github.com/repos/apache/hudi/issues/6341","id":1236861563,"node_id":"IC_kwDOBI7nWM5JuQJ7","user":{"login":"rjmblc","id":110890554,"node_id":"U_kgDOBpwOOg","avatar_url":"https://avatars.githubusercontent.com/u/110890554?v=4","gravatar_id":"","url":"https://api.github.com/users/rjmblc","html_url":"https://github.com/rjmblc","followers_url":"https://api.github.com/users/rjmblc/followers","following_url":"https://api.github.com/users/rjmblc/following{/other_user}","gists_url":"https://api.github.com/users/rjmblc/gists{/gist_id}","starred_url":"https://api.github.com/users/rjmblc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjmblc/subscriptions","organizations_url":"https://api.github.com/users/rjmblc/orgs","repos_url":"https://api.github.com/users/rjmblc/repos","events_url":"https://api.github.com/users/rjmblc/events{/privacy}","received_events_url":"https://api.github.com/users/rjmblc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T11:13:56Z","updated_at":"2022-09-05T11:13:56Z","author_association":"NONE","body":"@nsivabalan I resolved the HoodieCatalog config issue but still facing the same issue where hard delete is not happening. I am attaching the deltacommit file below for your reference.\r\n`{\r\n  \"partitionToWriteStats\" : { },\r\n  \"compacted\" : false,\r\n  \"extraMetadata\" : {\r\n    \"schema\" : \"{\\\"type\\\":\\\"record\\\",\\\"name\\\":\\\"record\\\",\\\"fields\\\":[{\\\"name\\\":\\\"customer_event_id\\\",\\\"type\\\":[\\\"null\\\",\\\"string\\\"],\\\"default\\\":null},{\\\"name\\\":\\\"client_id\\\",\\\"type\\\":[\\\"null\\\",\\\"string\\\"],\\\"default\\\":null},{\\\"name\\\":\\\"customer_id\\\",\\\"type\\\":[\\\"null\\\",\\\"string\\\"],\\\"default\\\":null},{\\\"name\\\":\\\"event_id\\\",\\\"type\\\":[\\\"null\\\",\\\"string\\\"],\\\"default\\\":null},{\\\"name\\\":\\\"event_date\\\",\\\"type\\\":[\\\"null\\\",{\\\"type\\\":\\\"long\\\",\\\"logicalType\\\":\\\"timestamp-millis\\\"}],\\\"default\\\":null},{\\\"name\\\":\\\"created_date\\\",\\\"type\\\":[\\\"null\\\",{\\\"type\\\":\\\"long\\\",\\\"logicalType\\\":\\\"timestamp-millis\\\"}],\\\"default\\\":null},{\\\"name\\\":\\\"updated_date\\\",\\\"type\\\":[\\\"null\\\",{\\\"type\\\":\\\"long\\\",\\\"logicalType\\\":\\\"timestamp-millis\\\"}],\\\"default\\\":null},{\\\"name\\\":\\\"source_reference_id\\\",\\\"type\\\":[\\\"null\\\",\\\"string\\\"],\\\"default\\\":null},{\\\"name\\\":\\\"total_amount\\\",\\\"type\\\":[\\\"null\\\",{\\\"type\\\":\\\"bytes\\\",\\\"logicalType\\\":\\\"decimal\\\",\\\"precision\\\":10,\\\"scale\\\":2}],\\\"default\\\":null},{\\\"name\\\":\\\"customer_event_status\\\",\\\"type\\\":[\\\"null\\\",\\\"string\\\"],\\\"default\\\":null},{\\\"name\\\":\\\"created_by\\\",\\\"type\\\":[\\\"null\\\",\\\"string\\\"],\\\"default\\\":null},{\\\"name\\\":\\\"updated_by\\\",\\\"type\\\":[\\\"null\\\",\\\"string\\\"],\\\"default\\\":null}]}\"\r\n  },\r\n  \"operationType\" : \"DELETE\",\r\n  \"totalRecordsDeleted\" : 0,\r\n  \"totalLogRecordsCompacted\" : 0,\r\n  \"totalLogFilesCompacted\" : 0,\r\n  \"totalCompactedRecordsUpdated\" : 0,\r\n  \"totalLogFilesSize\" : 0,\r\n  \"totalScanTime\" : 0,\r\n  \"totalCreateTime\" : 0,\r\n  \"totalUpsertTime\" : 0,\r\n  \"minAndMaxEventTime\" : {\r\n    \"Optional.empty\" : {\r\n      \"val\" : null,\r\n      \"present\" : false\r\n    }\r\n  },\r\n  \"fileIdAndRelativePaths\" : { },\r\n  \"writePartitionPaths\" : [ ]\r\n}`","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236861563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236974350","html_url":"https://github.com/apache/hudi/pull/6598#issuecomment-1236974350","issue_url":"https://api.github.com/repos/apache/hudi/issues/6598","id":1236974350,"node_id":"IC_kwDOBI7nWM5JursO","user":{"login":"JerryYue-M","id":10253313,"node_id":"MDQ6VXNlcjEwMjUzMzEz","avatar_url":"https://avatars.githubusercontent.com/u/10253313?v=4","gravatar_id":"","url":"https://api.github.com/users/JerryYue-M","html_url":"https://github.com/JerryYue-M","followers_url":"https://api.github.com/users/JerryYue-M/followers","following_url":"https://api.github.com/users/JerryYue-M/following{/other_user}","gists_url":"https://api.github.com/users/JerryYue-M/gists{/gist_id}","starred_url":"https://api.github.com/users/JerryYue-M/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JerryYue-M/subscriptions","organizations_url":"https://api.github.com/users/JerryYue-M/orgs","repos_url":"https://api.github.com/users/JerryYue-M/repos","events_url":"https://api.github.com/users/JerryYue-M/events{/privacy}","received_events_url":"https://api.github.com/users/JerryYue-M/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T12:50:27Z","updated_at":"2022-09-05T12:50:27Z","author_association":"CONTRIBUTOR","body":"@danny0405 @XuQianJin-Stars  can you help me to review this pr? thanks all","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1236974350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237083836","html_url":"https://github.com/apache/hudi/pull/6592#issuecomment-1237083836","issue_url":"https://api.github.com/repos/apache/hudi/issues/6592","id":1237083836,"node_id":"IC_kwDOBI7nWM5JvGa8","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T14:01:46Z","updated_at":"2022-09-05T14:01:46Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"2e4b3c86879105d680c419842078dbbff893434b\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11155\",\n    \"triggerID\" : \"2e4b3c86879105d680c419842078dbbff893434b\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"2e4b3c86879105d680c419842078dbbff893434b\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11155\",\n    \"triggerID\" : \"1236623538\",\n    \"triggerType\" : \"MANUAL\"\n  } ]\n}-->\n## CI report:\n\n* 2e4b3c86879105d680c419842078dbbff893434b Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11155) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237083836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237194368","html_url":"https://github.com/apache/hudi/pull/6594#issuecomment-1237194368","issue_url":"https://api.github.com/repos/apache/hudi/issues/6594","id":1237194368,"node_id":"IC_kwDOBI7nWM5JvhaA","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T15:16:57Z","updated_at":"2022-09-05T15:16:57Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"7dce8d7248665abd1854d321de45b0930e6c5a05\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11156\",\n    \"triggerID\" : \"7dce8d7248665abd1854d321de45b0930e6c5a05\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 7dce8d7248665abd1854d321de45b0930e6c5a05 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11156) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237194368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237194417","html_url":"https://github.com/apache/hudi/pull/6595#issuecomment-1237194417","issue_url":"https://api.github.com/repos/apache/hudi/issues/6595","id":1237194417,"node_id":"IC_kwDOBI7nWM5Jvhax","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T15:16:59Z","updated_at":"2022-09-05T15:16:59Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"4eacbc08cd4d9ba311dca03969653cc52632b1f2\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11157\",\n    \"triggerID\" : \"4eacbc08cd4d9ba311dca03969653cc52632b1f2\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 4eacbc08cd4d9ba311dca03969653cc52632b1f2 Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11157) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237194417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237203084","html_url":"https://github.com/apache/hudi/pull/6476#issuecomment-1237203084","issue_url":"https://api.github.com/repos/apache/hudi/issues/6476","id":1237203084,"node_id":"IC_kwDOBI7nWM5JvjiM","user":{"login":"YannByron","id":10036681,"node_id":"MDQ6VXNlcjEwMDM2Njgx","avatar_url":"https://avatars.githubusercontent.com/u/10036681?v=4","gravatar_id":"","url":"https://api.github.com/users/YannByron","html_url":"https://github.com/YannByron","followers_url":"https://api.github.com/users/YannByron/followers","following_url":"https://api.github.com/users/YannByron/following{/other_user}","gists_url":"https://api.github.com/users/YannByron/gists{/gist_id}","starred_url":"https://api.github.com/users/YannByron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YannByron/subscriptions","organizations_url":"https://api.github.com/users/YannByron/orgs","repos_url":"https://api.github.com/users/YannByron/repos","events_url":"https://api.github.com/users/YannByron/events{/privacy}","received_events_url":"https://api.github.com/users/YannByron/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T15:23:51Z","updated_at":"2022-09-05T15:23:51Z","author_association":"CONTRIBUTOR","body":"@prasannarajaperumal Thank you for reviewing this pr.\r\n\r\nmaybe I prefer to one single pr. i think these changes are easy to judgement which related to write or read. and one pr is better to run the whole process tests.\r\n\r\n> I am not too convinced about moving the log writer code into HoodieMergeHandle, I am still thinking what an alternative here would be.\r\n\r\nOne key reason that put the log writer code in `HoodieMergeHandler` is that: persisting CDC data need to get the old value and the current value, these values can be get directly in `HoodieMergeHandler` without any other overhead.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237203084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237234204","html_url":"https://github.com/apache/hudi/pull/6599#issuecomment-1237234204","issue_url":"https://api.github.com/repos/apache/hudi/issues/6599","id":1237234204,"node_id":"IC_kwDOBI7nWM5JvrIc","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T15:47:22Z","updated_at":"2022-09-05T15:47:22Z","author_association":"CONTRIBUTOR","body":"can you fill in the PR template please.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237234204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237390122","html_url":"https://github.com/apache/hudi/pull/6498#issuecomment-1237390122","issue_url":"https://api.github.com/repos/apache/hudi/issues/6498","id":1237390122,"node_id":"IC_kwDOBI7nWM5JwRMq","user":{"login":"parisni","id":9535350,"node_id":"MDQ6VXNlcjk1MzUzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/9535350?v=4","gravatar_id":"","url":"https://api.github.com/users/parisni","html_url":"https://github.com/parisni","followers_url":"https://api.github.com/users/parisni/followers","following_url":"https://api.github.com/users/parisni/following{/other_user}","gists_url":"https://api.github.com/users/parisni/gists{/gist_id}","starred_url":"https://api.github.com/users/parisni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parisni/subscriptions","organizations_url":"https://api.github.com/users/parisni/orgs","repos_url":"https://api.github.com/users/parisni/repos","events_url":"https://api.github.com/users/parisni/events{/privacy}","received_events_url":"https://api.github.com/users/parisni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T18:52:24Z","updated_at":"2022-09-05T18:52:24Z","author_association":"CONTRIBUTOR","body":"well, after read again in particular that method\nhttps://github.com/apache/hudi/blob/ca8a57a21d163e573e3a617fd6173fa4b913666c/hudi-client/hudi-client-common/src/main/java/org/apache/hudi/table/action/clean/CleanPlanner.java#L177\nit does what exactly what the logger says :\n```\n    LOG.info(\"Incremental Cleaning mode is enabled. Looking up\npartition-paths that have since changed \"\n        + \"since last cleaned at \" +\ncleanMetadata.getEarliestCommitToRetain()\n        + \". New Instant to retain : \" + newInstantToRetain);\n```\n\nBut you were right : newInstantToRetain is `commit2`. In my mind it was\nthe cleaning Commit which woud have been `commit4`.\n\n> this may not be applicable w/ KEEP_LATEST_FILE_VERSIONS. bcoz, we\n> can't pin point a commit and say everything before that commit can\n> be ignore for future cleaning. and thus incase of\n> KEEP_LATEST_FILE_VERSIONS, we can't do incremental cleaning\n\nif we pin the cleaning commit (`commit4`) then we can apply incremental\ncleaning together with `KEEP_LATEST_FILE_VERSIONS`.\n\nOn Mon, 2022-09-05 at 08:32 +0000, Nicolas Paris wrote:\n> > For the next cleaning, incremental cleaning will trigger, and will\n> > comb through all commits >= earliest commit retained i.e. commit2.\n> > and so file2_v1 will be deleted this time. and will update\n> > the earliest commit retained to commit3 now.\n> \n> I assume you meant file1_v2 ?\n> \n> Let me read again the source that's not what I understood and also\n> tested so far. \n> \n> On September 4, 2022 1:30:03 AM UTC, Sivabalan Narayanan\n> ***@***.***> wrote:\n> > got it, thanks. \n> > Let me go through the example you have put up and clarify few\n> > things.\n> > \n> > \n> > Say we have 3 committed files in partition-A and we add a new\n> > commit in partition-B, and we trigger cleaning for the first time\n> > (full partition scan):\n> > \n> > ```\n> > partition-A/\n> > commit-0 added file1_V1.parquet\n> > commit-1. added file1_V2.parquet\n> > commit-2 added file1_V3.parquet\n> > partition-B/\n> > commit-3 added file2_V1.parquet\n> > ```\n> > \n> > In the case say we have KEEP_LATEST_COMMITS with\n> > CLEANER_COMMITS_RETAINED=3, the cleaner will remove the files\n> > created by commit-0 and keep 3 commits. ie. file1_V1.parquet will\n> > be cleaned up. But hudi also keeps track of `earliest commit\n> > retained` in this case which is commit2. This `earliest commit\n> > retained` is the one we will leverage later to do incremental\n> > cleaning. \n> > \n> > For the next cleaning, incremental cleaning will trigger, and will\n> > comb through all commits >= `earliest commit retained` i.e.\n> > commit2. and so file2_v1 will be deleted this time. and will update\n> > the `earliest commit retained` to commit3 now. \n> > \n> > this may not be applicable w/ KEEP_LATEST_FILE_VERSIONS. bcoz, we\n> > can't pin point a commit and say everything before that commit can\n> > be ignore for future cleaning. and thus incase of\n> > KEEP_LATEST_FILE_VERSIONS, we can't do incremental cleaning. It is\n> > in this policy, we might encounter a corner case where, a file\n> > group was updated only in Commit 1 and commit and never updated\n> > later. and after a long time, had a new version in say commit 100.\n> > we need to clean up the first version (assuming\n> > KEEP_LATEST_FILE_VERSIONS count is 2). \n> > \n> > Let me know if this makes sense. or if you still feel, I am missing\n> > something, can you elaborate w/ an example. \n> > \n> > \n> > \n> > \n> > -- \n> > Reply to this email directly or view it on GitHub:\n> > https://github.com/apache/hudi/pull/6498#issuecomment-1236228935\n> > You are receiving this because you were mentioned.\n> > \n> > Message ID: ***@***.***>\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237390122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237423190","html_url":"https://github.com/apache/hudi/pull/6498#issuecomment-1237423190","issue_url":"https://api.github.com/repos/apache/hudi/issues/6498","id":1237423190,"node_id":"IC_kwDOBI7nWM5JwZRW","user":{"login":"parisni","id":9535350,"node_id":"MDQ6VXNlcjk1MzUzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/9535350?v=4","gravatar_id":"","url":"https://api.github.com/users/parisni","html_url":"https://github.com/parisni","followers_url":"https://api.github.com/users/parisni/followers","following_url":"https://api.github.com/users/parisni/following{/other_user}","gists_url":"https://api.github.com/users/parisni/gists{/gist_id}","starred_url":"https://api.github.com/users/parisni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parisni/subscriptions","organizations_url":"https://api.github.com/users/parisni/orgs","repos_url":"https://api.github.com/users/parisni/repos","events_url":"https://api.github.com/users/parisni/events{/privacy}","received_events_url":"https://api.github.com/users/parisni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T19:55:38Z","updated_at":"2022-09-05T19:55:38Z","author_association":"CONTRIBUTOR","body":"@nsivabalan added a (git) commit, according to last comment","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237423190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237429006","html_url":"https://github.com/apache/hudi/pull/6385#issuecomment-1237429006","issue_url":"https://api.github.com/repos/apache/hudi/issues/6385","id":1237429006,"node_id":"IC_kwDOBI7nWM5JwasO","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T20:07:26Z","updated_at":"2022-09-05T20:07:26Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"c879ed6f7ca39f4de142d06daf3bafca1044acdb\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10747\",\n    \"triggerID\" : \"c879ed6f7ca39f4de142d06daf3bafca1044acdb\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"c879ed6f7ca39f4de142d06daf3bafca1044acdb\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10747\",\n    \"triggerID\" : \"1214148217\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"1a975252ba7ccd6fd85cbd6d39e0e5d7d93081cc\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11164\",\n    \"triggerID\" : \"1a975252ba7ccd6fd85cbd6d39e0e5d7d93081cc\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 1a975252ba7ccd6fd85cbd6d39e0e5d7d93081cc Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11164) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237429006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237429360","html_url":"https://github.com/apache/hudi/pull/6598#issuecomment-1237429360","issue_url":"https://api.github.com/repos/apache/hudi/issues/6598","id":1237429360,"node_id":"IC_kwDOBI7nWM5Jwaxw","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T20:08:09Z","updated_at":"2022-09-05T20:08:09Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"d03d67ca6ccadc9ab7846ec4ca3ab3e6c66d8d74\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11165\",\n    \"triggerID\" : \"d03d67ca6ccadc9ab7846ec4ca3ab3e6c66d8d74\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* d03d67ca6ccadc9ab7846ec4ca3ab3e6c66d8d74 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11165) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237429360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237462070","html_url":"https://github.com/apache/hudi/pull/6599#issuecomment-1237462070","issue_url":"https://api.github.com/repos/apache/hudi/issues/6599","id":1237462070,"node_id":"IC_kwDOBI7nWM5Jwiw2","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T21:17:14Z","updated_at":"2022-09-05T21:17:14Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"4c93b30ca6f23459a9c95cfa1d04438691740765\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11166\",\n    \"triggerID\" : \"4c93b30ca6f23459a9c95cfa1d04438691740765\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 4c93b30ca6f23459a9c95cfa1d04438691740765 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11166) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237462070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237522418","html_url":"https://github.com/apache/hudi/pull/6574#issuecomment-1237522418","issue_url":"https://api.github.com/repos/apache/hudi/issues/6574","id":1237522418,"node_id":"IC_kwDOBI7nWM5Jwxfy","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T23:25:56Z","updated_at":"2022-09-05T23:25:56Z","author_association":"CONTRIBUTOR","body":"@eric9204 could you also create and claim a JIRA ticket for the issue, following [the process](https://hudi.apache.org/contribute/developer-setup#filing-jiras)? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237522418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237528365","html_url":"https://github.com/apache/hudi/pull/6544#issuecomment-1237528365","issue_url":"https://api.github.com/repos/apache/hudi/issues/6544","id":1237528365,"node_id":"IC_kwDOBI7nWM5Jwy8t","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T23:42:48Z","updated_at":"2022-09-05T23:42:48Z","author_association":"CONTRIBUTOR","body":"@wangp-nhlab could you create and claim a JIRA ticket and attach the ticket number to the PR, following the process [here](https://hudi.apache.org/contribute/developer-setup#filing-jiras)?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237528365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237529862","html_url":"https://github.com/apache/hudi/pull/6525#issuecomment-1237529862","issue_url":"https://api.github.com/repos/apache/hudi/issues/6525","id":1237529862,"node_id":"IC_kwDOBI7nWM5JwzUG","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T23:47:40Z","updated_at":"2022-09-05T23:47:40Z","author_association":"CONTRIBUTOR","body":"@XuQianJin-Stars @alexeykudinkin could you check if this is needed?  Functionality-wise, is the fix necessary?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237529862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237533092","html_url":"https://github.com/apache/hudi/pull/6522#issuecomment-1237533092","issue_url":"https://api.github.com/repos/apache/hudi/issues/6522","id":1237533092,"node_id":"IC_kwDOBI7nWM5Jw0Gk","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-05T23:58:08Z","updated_at":"2022-09-05T23:58:08Z","author_association":"CONTRIBUTOR","body":"@cuibo01 @danny0405 do you still plan to land this?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237533092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237566475","html_url":"https://github.com/apache/hudi/pull/6491#issuecomment-1237566475","issue_url":"https://api.github.com/repos/apache/hudi/issues/6491","id":1237566475,"node_id":"IC_kwDOBI7nWM5Jw8QL","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-06T01:28:49Z","updated_at":"2022-09-06T01:28:49Z","author_association":"CONTRIBUTOR","body":"@danny0405 is this PR good to land?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237566475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237574171","html_url":"https://github.com/apache/hudi/pull/6464#issuecomment-1237574171","issue_url":"https://api.github.com/repos/apache/hudi/issues/6464","id":1237574171,"node_id":"IC_kwDOBI7nWM5Jw-Ib","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-06T01:48:41Z","updated_at":"2022-09-06T01:48:41Z","author_association":"CONTRIBUTOR","body":"Closing this as the changes are covered by #6468 .  @junyuc25 Please reopen it if needed.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237574171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237577327","html_url":"https://github.com/apache/hudi/pull/6446#issuecomment-1237577327","issue_url":"https://api.github.com/repos/apache/hudi/issues/6446","id":1237577327,"node_id":"IC_kwDOBI7nWM5Jw-5v","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-06T01:55:55Z","updated_at":"2022-09-06T01:55:55Z","author_association":"CONTRIBUTOR","body":"@flashJd Could you explain in the PR description what you're adding here?  cc @danny0405 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237577327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237577659","html_url":"https://github.com/apache/hudi/issues/6585#issuecomment-1237577659","issue_url":"https://api.github.com/repos/apache/hudi/issues/6585","id":1237577659,"node_id":"IC_kwDOBI7nWM5Jw--7","user":{"login":"zhengyuan-cn","id":6375437,"node_id":"MDQ6VXNlcjYzNzU0Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/6375437?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengyuan-cn","html_url":"https://github.com/zhengyuan-cn","followers_url":"https://api.github.com/users/zhengyuan-cn/followers","following_url":"https://api.github.com/users/zhengyuan-cn/following{/other_user}","gists_url":"https://api.github.com/users/zhengyuan-cn/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengyuan-cn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengyuan-cn/subscriptions","organizations_url":"https://api.github.com/users/zhengyuan-cn/orgs","repos_url":"https://api.github.com/users/zhengyuan-cn/repos","events_url":"https://api.github.com/users/zhengyuan-cn/events{/privacy}","received_events_url":"https://api.github.com/users/zhengyuan-cn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-06T01:56:49Z","updated_at":"2022-09-06T01:56:49Z","author_association":"NONE","body":"java client必须慢，用flink就快了","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237577659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237578164","html_url":"https://github.com/apache/hudi/pull/6435#issuecomment-1237578164","issue_url":"https://api.github.com/repos/apache/hudi/issues/6435","id":1237578164,"node_id":"IC_kwDOBI7nWM5Jw_G0","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-06T01:58:05Z","updated_at":"2022-09-06T01:58:05Z","author_association":"CONTRIBUTOR","body":"@flashJd Similar here, could you explain what you're adding here?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237578164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237581601","html_url":"https://github.com/apache/hudi/pull/6582#issuecomment-1237581601","issue_url":"https://api.github.com/repos/apache/hudi/issues/6582","id":1237581601,"node_id":"IC_kwDOBI7nWM5Jw_8h","user":{"login":"hechao-ustc","id":73096722,"node_id":"MDQ6VXNlcjczMDk2NzIy","avatar_url":"https://avatars.githubusercontent.com/u/73096722?v=4","gravatar_id":"","url":"https://api.github.com/users/hechao-ustc","html_url":"https://github.com/hechao-ustc","followers_url":"https://api.github.com/users/hechao-ustc/followers","following_url":"https://api.github.com/users/hechao-ustc/following{/other_user}","gists_url":"https://api.github.com/users/hechao-ustc/gists{/gist_id}","starred_url":"https://api.github.com/users/hechao-ustc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hechao-ustc/subscriptions","organizations_url":"https://api.github.com/users/hechao-ustc/orgs","repos_url":"https://api.github.com/users/hechao-ustc/repos","events_url":"https://api.github.com/users/hechao-ustc/events{/privacy}","received_events_url":"https://api.github.com/users/hechao-ustc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-06T02:06:35Z","updated_at":"2022-09-06T02:06:35Z","author_association":"CONTRIBUTOR","body":"I have added the doc，please help me with code review again, thank you very much.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237581601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237591067","html_url":"https://github.com/apache/hudi/pull/5091#issuecomment-1237591067","issue_url":"https://api.github.com/repos/apache/hudi/issues/5091","id":1237591067,"node_id":"IC_kwDOBI7nWM5JxCQb","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-06T02:26:32Z","updated_at":"2022-09-06T02:26:32Z","author_association":"CONTRIBUTOR","body":"> @zhangyue19921010 : if you can address the comment about making the test deterministic, and rebase w/ latest master, we can land the patch and get it into 0.12.1\r\n\r\nHi @nsivabalan So sorry for missing this pr, Sure will  rebase master and address comments asap. Thanks for your attention!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237591067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237593617","html_url":"https://github.com/apache/hudi/pull/6599#issuecomment-1237593617","issue_url":"https://api.github.com/repos/apache/hudi/issues/6599","id":1237593617,"node_id":"IC_kwDOBI7nWM5JxC4R","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-06T02:32:12Z","updated_at":"2022-09-06T02:32:12Z","author_association":"CONTRIBUTOR","body":"> can you fill in the PR template please.\r\n\r\nSure! added","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237593617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237597887","html_url":"https://github.com/apache/hudi/pull/6486#issuecomment-1237597887","issue_url":"https://api.github.com/repos/apache/hudi/issues/6486","id":1237597887,"node_id":"IC_kwDOBI7nWM5JxD6_","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-06T02:42:04Z","updated_at":"2022-09-06T02:42:04Z","author_association":"CONTRIBUTOR","body":"@wzx140  Thank you for your contribution. Sorry for the late reply.\r\nLGTM ,  could you pls add some test,\r\nof course if  you have no time to add test, i will add later.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1237597887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]