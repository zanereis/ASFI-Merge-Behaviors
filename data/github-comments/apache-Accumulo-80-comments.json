[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1029966626","html_url":"https://github.com/apache/accumulo/pull/2457#issuecomment-1029966626","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2457","id":1029966626,"node_id":"IC_kwDOACaFSM49ZAsi","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-04T13:02:33Z","updated_at":"2022-02-04T13:02:33Z","author_association":"CONTRIBUTOR","body":"I ran All ITs through Github Actions and all passed except: \r\nClassLoaderIT, ConfigurableMajorCompactionIT, HalfDeadTServerIT,  ExternalCompaction_2_IT\r\n\r\nFailures:\r\n[ERROR]   ClassLoaderIT.test:114->scanCheck:125 expected:<Test[Y]> but was:<Test[X]>\r\n[ERROR]   ConfigurableMajorCompactionIT>ConfigurableMacBase.tearDown:186 » TestTimedOut ...\r\n[ERROR] org.apache.accumulo.test.functional.HalfDeadTServerIT.testRecover\r\n[ERROR]   Run 1: HalfDeadTServerIT.testRecover:142->test:217->Object.wait:328->Object.wait:-2 » TestTimedOut\r\n[ERROR]   Run 2: HalfDeadTServerIT.testRecover »  Appears to be stuck in thread Time-limited te...\r\nExternalCompaction_2_IT Timeout\r\n\r\nThese all passed when I ran them locally.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1029966626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1029973138","html_url":"https://github.com/apache/accumulo/issues/2328#issuecomment-1029973138","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2328","id":1029973138,"node_id":"IC_kwDOACaFSM49ZCSS","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-04T13:11:31Z","updated_at":"2022-02-04T13:11:31Z","author_association":"CONTRIBUTOR","body":"I created #2462 so that users will have a better idea of the state of their `merge` transaction and what other transactions may be blocking it. With this change, `fate print` should show which transactions are running for a table and which ones are waiting to be run. If a user has submitted a `merge` command and its not running, they should have a better idea of which transactions they need to delete to get their `merge` command to run.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1029973138/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1030038575","html_url":"https://github.com/apache/accumulo/pull/2462#issuecomment-1030038575","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2462","id":1030038575,"node_id":"IC_kwDOACaFSM49ZSQv","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-04T14:28:19Z","updated_at":"2022-02-04T14:28:19Z","author_association":"CONTRIBUTOR","body":"I just had a thought for an alternative approach. I am not sure if it is a better solution to adding the `SUBMITTED` state though. Would it be easier to change the code to set the state to NEW when the transaction is seeded? We know the transaction is new because it will have an ID so I am just wondering if we need an additional state.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1030038575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1030044650","html_url":"https://github.com/apache/accumulo/pull/2462#issuecomment-1030044650","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2462","id":1030044650,"node_id":"IC_kwDOACaFSM49ZTvq","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-04T14:35:14Z","updated_at":"2022-02-04T14:35:14Z","author_association":"CONTRIBUTOR","body":"So, currently the NEW fate transactions are aged off. If we moved NEW to mean SUBMITTED, then we would need another state to still exist so that they could be aged off. At that point, we're at the same place.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1030044650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1030051969","html_url":"https://github.com/apache/accumulo/pull/2462#issuecomment-1030051969","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2462","id":1030051969,"node_id":"IC_kwDOACaFSM49ZViB","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-04T14:43:43Z","updated_at":"2022-02-04T14:43:43Z","author_association":"CONTRIBUTOR","body":"> So, currently the NEW fate transactions are aged off. If we moved NEW to mean SUBMITTED, then we would need another state to still exist so that they could be aged off. At that point, we're at the same place.\r\n\r\nI was thinking to not store the TxD in ZK. It doesn't look like we are really doing anything between the creation and seeding.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1030051969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1030054508","html_url":"https://github.com/apache/accumulo/pull/2462#issuecomment-1030054508","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2462","id":1030054508,"node_id":"IC_kwDOACaFSM49ZWJs","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-04T14:46:31Z","updated_at":"2022-02-04T14:46:31Z","author_association":"CONTRIBUTOR","body":"> I was thinking to not store the TxD in ZK. It doesn't look like we are really doing anything between the creation and seeding.\r\n\r\nI'm not sure of the side effects of that approach, if any. Will need someone else with more FaTE knowledge to chime in.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1030054508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1030069419","html_url":"https://github.com/apache/accumulo/pull/2462#issuecomment-1030069419","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2462","id":1030069419,"node_id":"IC_kwDOACaFSM49ZZyr","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-04T15:03:49Z","updated_at":"2022-02-04T15:03:49Z","author_association":"CONTRIBUTOR","body":"> > I was thinking to not store the TxD in ZK. It doesn't look like we are really doing anything between the creation and seeding.\r\n> \r\n> I'm not sure of the side effects of that approach, if any. Will need someone else with more FaTE knowledge to chime in.\r\n\r\nYeah, I am not sure either. One side effect, which I think would be a good one, would be less TxIDs created in ZK. Currently the call to create the TxID is technically repeatable but it will create a lot of extra TxIDs in ZK and extra calls to ZK to age them off. The TxID is just a random number so its not like we are tracking it for other purposes, like we do with TableId.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1030069419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1030130783","html_url":"https://github.com/apache/accumulo/pull/2462#issuecomment-1030130783","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2462","id":1030130783,"node_id":"IC_kwDOACaFSM49Zoxf","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-04T16:10:33Z","updated_at":"2022-02-04T16:10:33Z","author_association":"MEMBER","body":"> The TxID is just a random number so its not like we are tracking it for other purposes, like we do with TableId.\r\n\r\nIsn't storing it in ZK guaranteeing it's unique, though?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1030130783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1030145815","html_url":"https://github.com/apache/accumulo/pull/2462#issuecomment-1030145815","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2462","id":1030145815,"node_id":"IC_kwDOACaFSM49ZscX","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-04T16:27:55Z","updated_at":"2022-02-04T16:27:55Z","author_association":"CONTRIBUTOR","body":"> > The TxID is just a random number so its not like we are tracking it for other purposes, like we do with TableId.\r\n> \r\n> Isn't storing it in ZK guaranteeing it's unique, though?\r\n\r\nYes","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1030145815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1030188220","html_url":"https://github.com/apache/accumulo/pull/2462#issuecomment-1030188220","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2462","id":1030188220,"node_id":"IC_kwDOACaFSM49Z2y8","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-04T17:15:50Z","updated_at":"2022-02-04T17:15:50Z","author_association":"CONTRIBUTOR","body":"@milleruntime - are you good with this approach then considering the discussion?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1030188220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1030192258","html_url":"https://github.com/apache/accumulo/pull/2462#issuecomment-1030192258","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2462","id":1030192258,"node_id":"IC_kwDOACaFSM49Z3yC","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-04T17:21:20Z","updated_at":"2022-02-04T17:21:20Z","author_association":"CONTRIBUTOR","body":"> @milleruntime - are you good with this approach then considering the discussion?\r\n\r\nYeah I think this approach is fine. I wanted to look through the code closer but if its holding you up, feel free to merge.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1030192258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1030224491","html_url":"https://github.com/apache/accumulo/pull/2462#issuecomment-1030224491","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2462","id":1030224491,"node_id":"IC_kwDOACaFSM49Z_pr","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-04T18:02:48Z","updated_at":"2022-02-04T18:02:48Z","author_association":"CONTRIBUTOR","body":"I created a follow on: https://github.com/apache/accumulo/issues/2466","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1030224491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1030378601","html_url":"https://github.com/apache/accumulo/issues/2328#issuecomment-1030378601","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2328","id":1030378601,"node_id":"IC_kwDOACaFSM49alRp","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-04T21:52:52Z","updated_at":"2022-03-09T14:48:42Z","author_association":"CONTRIBUTOR","body":"I created #2467 so that users can attempt to cancel FaTE transactions that have been created without taking down the Manager. The user, in the Shell, would run the command `fate cancel-submitted <txid> <txid>`. The Shell would connect to the Manager and call the cancelFateOperation method on the Thrift API. I think with the changes in #2462 and #2467 users should be able to more easily identify Fate transactions that are running on a table and which ones have been submitted so that they can then cancel all of the running and submitted to get the preferred transaction to run.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1030378601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1030381828","html_url":"https://github.com/apache/accumulo/pull/2329#issuecomment-1030381828","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2329","id":1030381828,"node_id":"IC_kwDOACaFSM49amEE","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-04T21:57:17Z","updated_at":"2022-02-04T21:57:17Z","author_association":"CONTRIBUTOR","body":"I'm closing this in favor of #2467 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1030381828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1031543508","html_url":"https://github.com/apache/accumulo/pull/2467#issuecomment-1031543508","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2467","id":1031543508,"node_id":"IC_kwDOACaFSM49fBrU","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-07T14:43:54Z","updated_at":"2022-02-07T14:43:54Z","author_association":"CONTRIBUTOR","body":"In c9c12ec I created ManagerClient.cancelFateOperation and modified FateCommand to call that. Added double-check in FateCommand that the user wants to cancel the txid. Added server side check that user can perform system actions.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1031543508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1031682906","html_url":"https://github.com/apache/accumulo/pull/2467#issuecomment-1031682906","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2467","id":1031682906,"node_id":"IC_kwDOACaFSM49fjta","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-07T16:47:34Z","updated_at":"2022-02-07T16:47:34Z","author_association":"CONTRIBUTOR","body":"@keith-turner reached out about my change in #2462 to highlight the fact that even after my change an IN_PROGRESS transaction may not be currently running as the status is set to IN_PROGRESS when the TransactionRunner deals with the first op in a fate transaction op chain. The subsequent op gets pushed back into ZK to be operated on at a later point. I believe that this change will still cancel a Fate Tx in this scenario as the tx will not be reserved so `Fate.cancel()` will set the status to failed in progress.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1031682906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1031973578","html_url":"https://github.com/apache/accumulo/pull/2472#issuecomment-1031973578","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2472","id":1031973578,"node_id":"IC_kwDOACaFSM49gqrK","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-07T21:59:04Z","updated_at":"2022-02-11T16:06:07Z","author_association":"MEMBER","body":"For those interested, this command will run all the tests touched by these changes:\r\n`mvn clean verify -Dit.test=MultiTableBatchWriterIT,UsersIT,KerberosIT,AccumuloOutputFormatIT,AccumuloInputFormatIT,DeleteFailIT,ScannerContextIT,SampleIT,AccumuloClientIT,TimeoutIT,ThriftBehaviorIT,ConditionalWriterIT,InterruptibleScannersIT,NativeMapIT,CloneIT,ExistingMacIT,CleanUpIT,LargeSplitRowIT,ShellServerIT,LocatorIT,ConcurrentDeleteTableIT,BulkNewIT,CredentialsIT -Dtest=TransactionWatcherTest,SourceSwitchingIteratorTest,TransformingIteratorTest,RootTabletStateStoreTest,CertUtilsTest,CombinerTest,RFileTest,VisibilityEvaluatorTest,CompactionDriverTest,DeletingIteratorTest,SingletonManagerTest,FormatterConfigTest,AbstractLexicoderTest,AccumuloInputFormatTest,InMemoryMapTest,AddressUtilTest,ColumnVisibilityTest,TTimeoutTransportTest,ColumnSliceFilterTest,BasicCompactionStrategyTest,LocalityGroupUtilTest,RowIteratorTest,ScannerOptionsTest,RangeTest,TableOperationsHelperTest,PrepBulkImportTest,ServerDirsTest,Upgrader9to10Test,TabletFileTest,AccumuloOutputFormatTest,FilterTest,TabletLocatorImplTest,SortedLogRecoveryTest,CredentialsTest -Dspotbugs.skip -Dtimeout.factor=1\r\n`\r\nEDIT: updated to include all files","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1031973578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1031987596","html_url":"https://github.com/apache/accumulo/pull/2472#issuecomment-1031987596","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2472","id":1031987596,"node_id":"IC_kwDOACaFSM49guGM","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-07T22:12:36Z","updated_at":"2022-02-07T22:12:36Z","author_association":"MEMBER","body":"The ErrorProne plugin also pointed out a test that looks like it is not behaving as intended.\r\nhttps://github.com/apache/accumulo/blob/3ea979d5971016b9c2512a96cc5b6bd5d1969b2e/server/tserver/src/test/java/org/apache/accumulo/tserver/log/SortedLogRecoveryTest.java#L348-L359\r\n\r\nIt looks like the test is expecting the the call to `recover()` to fail and if it doesn't, the test will fail via the call to `fail()`. But in this case, the `fail()` statement will be caught as a `Throwable` and **not** cause the test to fail when reached, Functionally, the whole try catch block does nothing more than call `recover()`. I'm not certain im interpreting this correctly but if I am, I'm not sure how to handle this case.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1031987596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1032093257","html_url":"https://github.com/apache/accumulo/pull/2472#issuecomment-1032093257","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2472","id":1032093257,"node_id":"IC_kwDOACaFSM49hH5J","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-08T00:41:38Z","updated_at":"2022-02-08T00:41:38Z","author_association":"MEMBER","body":"> It looks like the test is expecting the the call to `recover()` to fail and if it doesn't, the test will fail via the call to `fail()`. But in this case, the `fail()` statement will be caught as a `Throwable` and **not** cause the test to fail when reached, Functionally, the whole try catch block does nothing more than call `recover()`. I'm not certain im interpreting this correctly but if I am, I'm not sure how to handle this case.\r\n\r\nYeah, ErrorProne is correct. `fail()`, like all the JUnit assertions, triggers an `AssertionError` that is caught and reported. We shouldn't be catching `Throwable` here, because it will also catch and ignore that `AssertionError`. We should only catch `Exception`, at most. We need to figure out which exception is expected, and use `assertThrows` with that directly like you've done with the others.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1032093257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1032094797","html_url":"https://github.com/apache/accumulo/pull/2472#issuecomment-1032094797","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2472","id":1032094797,"node_id":"IC_kwDOACaFSM49hIRN","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-08T00:44:12Z","updated_at":"2022-02-08T14:16:38Z","author_association":"MEMBER","body":"The call to recover() doesn’t throw any error. I forgot to mention that.\r\n\r\nOn Mon, Feb 7, 2022 at 7:41 PM Christopher Tubbs ***@***.***>\r\nwrote:\r\n\r\n> It looks like the test is expecting the the call to recover() to fail and\r\n> if it doesn't, the test will fail via the call to fail(). But in this\r\n> case, the fail() statement will be caught as a Throwable and *not* cause\r\n> the test to fail when reached, Functionally, the whole try catch block does\r\n> nothing more than call recover(). I'm not certain im interpreting this\r\n> correctly but if I am, I'm not sure how to handle this case.\r\n>\r\n> Yeah, ErrorProne is correct. fail(), like all the JUnit assertions,\r\n> triggers an AssertionError that is caught and reported. We shouldn't be\r\n> catching Throwable here, because it will also catch and ignore that\r\n> AssertionError. We should only catch Exception, at most. We need to\r\n> figure out which exception is expected, and use assertThrows with that\r\n> directly like you've done with the others.\r\n>\r\n> —\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/apache/accumulo/pull/2472#issuecomment-1032093257>,\r\n> or unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/ALMD2IIZ3PUPUEIAIMYRTPTU2BREZANCNFSM5NYV4DBA>\r\n> .\r\n> Triage notifications on the go with GitHub Mobile for iOS\r\n> <https://apps.apple.com/app/apple-store/id1477376905?ct=notification-email&mt=8&pt=524675>\r\n> or Android\r\n> <https://play.google.com/store/apps/details?id=com.github.android&referrer=utm_campaign%3Dnotification-email%26utm_medium%3Demail%26utm_source%3Dgithub>.\r\n>\r\n> You are receiving this because you authored the thread.Message ID:\r\n> ***@***.***>\r\n>\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1032094797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1032584262","html_url":"https://github.com/apache/accumulo/pull/2470#issuecomment-1032584262","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2470","id":1032584262,"node_id":"IC_kwDOACaFSM49i_xG","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-08T13:02:41Z","updated_at":"2022-02-08T13:02:41Z","author_association":"CONTRIBUTOR","body":"All ITs passed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1032584262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1033170922","html_url":"https://github.com/apache/accumulo/issues/2473#issuecomment-1033170922","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2473","id":1033170922,"node_id":"IC_kwDOACaFSM49lO_q","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-08T23:37:56Z","updated_at":"2022-02-08T23:37:56Z","author_association":"CONTRIBUTOR","body":"Maybe this should consider https://github.com/apache/accumulo/issues/1249","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1033170922/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1033177876","html_url":"https://github.com/apache/accumulo/issues/2473#issuecomment-1033177876","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2473","id":1033177876,"node_id":"IC_kwDOACaFSM49lQsU","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-08T23:51:47Z","updated_at":"2022-02-08T23:51:47Z","author_association":"CONTRIBUTOR","body":"If this was for 3.0, we could probably drop the old Bulk Import. That would help clean up a lot of code.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1033177876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1033212168","html_url":"https://github.com/apache/accumulo/issues/2473#issuecomment-1033212168","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2473","id":1033212168,"node_id":"IC_kwDOACaFSM49lZEI","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T00:49:15Z","updated_at":"2022-02-09T00:49:15Z","author_association":"CONTRIBUTOR","body":"One idea I had was to create an Environment interface to pass between FATE and the Manager. The tricky part is that some of the FATE code is in core (the interface, framework and some implementation) while most of it is in the same package as the Manger. I thought we could do this:\r\n<pre>\r\npublic interface RepoEnv {\r\n  public ServerContext getContext();\r\n}\r\n</pre>\r\nBut that won't work because `ServerContext` is in server and Fate is in core.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1033212168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1033225612","html_url":"https://github.com/apache/accumulo/issues/2463#issuecomment-1033225612","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2463","id":1033225612,"node_id":"IC_kwDOACaFSM49lcWM","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T01:10:31Z","updated_at":"2022-02-09T01:10:54Z","author_association":"MEMBER","body":"Saw this again today. It died after this output:\r\n\r\n<details>\r\n<summary>Click to expand</summary>\r\n\r\n```\r\n[ERROR] Tests run: 5, Failures: 0, Errors: 3, Skipped: 0, Time elapsed: 1,287.943 s <<< FAILURE! - in org.apache.accumulo.test.compaction.ExternalCompaction_3_IT\r\n[ERROR] org.apache.accumulo.test.compaction.ExternalCompaction_3_IT.testCoordinatorRestartsDuringCompaction  Time elapsed: 600.009 s  <<< ERROR!\r\norg.junit.runners.model.TestTimedOutException: test timed out after 600 seconds\r\n\tat java.base@11.0.14/java.lang.Thread.sleep(Native Method)\r\n\tat app//org.apache.accumulo.fate.util.UtilWaitThread.sleep(UtilWaitThread.java:33)\r\n\tat app//org.apache.accumulo.test.compaction.ExternalCompaction_3_IT.testCoordinatorRestartsDuringCompaction(ExternalCompaction_3_IT.java:178)\r\n\tat java.base@11.0.14/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@11.0.14/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base@11.0.14/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@11.0.14/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat app//org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat app//org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat app//org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat app//org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat app//org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat app//org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat app//org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)\r\n\tat app//org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)\r\n\tat java.base@11.0.14/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base@11.0.14/java.lang.Thread.run(Thread.java:829)\r\n\r\n[ERROR] org.apache.accumulo.test.compaction.ExternalCompaction_3_IT.testCoordinatorRestartsDuringCompaction  Time elapsed: 600.009 s  <<< ERROR!\r\njava.lang.Exception: Appears to be stuck in thread Time-limited test-SendThread(localhost:40337)\r\n\tat java.base@11.0.14/sun.nio.ch.EPoll.wait(Native Method)\r\n\tat java.base@11.0.14/sun.nio.ch.EPollSelectorImpl.doSelect(EPollSelectorImpl.java:120)\r\n\tat java.base@11.0.14/sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:124)\r\n\tat java.base@11.0.14/sun.nio.ch.SelectorImpl.select(SelectorImpl.java:136)\r\n\tat app//org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:347)\r\n\tat app//org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1223)\r\n\r\n[ERROR] org.apache.accumulo.test.compaction.ExternalCompaction_3_IT.testCoordinatorRestartsDuringCompaction  Time elapsed: 600.002 s  <<< ERROR!\r\norg.junit.runners.model.TestTimedOutException: test timed out after 600 seconds\r\n\tat java.base@11.0.14/java.lang.Thread.sleep(Native Method)\r\n\tat app//org.apache.accumulo.fate.zookeeper.ZooCache$ZooRunnable.retry(ZooCache.java:299)\r\n\tat app//org.apache.accumulo.fate.zookeeper.ZooCache.getChildren(ZooCache.java:360)\r\n\tat app//org.apache.accumulo.fate.zookeeper.ZooCache.getLockData(ZooCache.java:570)\r\n\tat app//org.apache.accumulo.core.clientImpl.ClientContext.getManagerLocations(ClientContext.java:421)\r\n\tat app//org.apache.accumulo.core.clientImpl.ClientContext.getManagerLocations(ClientContext.java:406)\r\n\tat app//org.apache.accumulo.core.clientImpl.ManagerClient.getConnection(ManagerClient.java:59)\r\n\tat app//org.apache.accumulo.core.clientImpl.ManagerClient.getConnectionWithRetry(ManagerClient.java:49)\r\n\tat app//org.apache.accumulo.core.clientImpl.TableOperationsImpl.waitForFateOperation(TableOperationsImpl.java:305)\r\n\tat app//org.apache.accumulo.core.clientImpl.TableOperationsImpl.doFateOperation(TableOperationsImpl.java:375)\r\n\tat app//org.apache.accumulo.core.clientImpl.TableOperationsImpl.doFateOperation(TableOperationsImpl.java:359)\r\n\tat app//org.apache.accumulo.core.clientImpl.TableOperationsImpl.doTableFateOperation(TableOperationsImpl.java:1700)\r\n\tat app//org.apache.accumulo.core.clientImpl.TableOperationsImpl.create(TableOperationsImpl.java:248)\r\n\tat app//org.apache.accumulo.test.compaction.ExternalCompactionTestUtils.createTable(ExternalCompactionTestUtils.java:144)\r\n\tat app//org.apache.accumulo.test.compaction.ExternalCompactionTestUtils.createTable(ExternalCompactionTestUtils.java:134)\r\n\tat app//org.apache.accumulo.test.compaction.ExternalCompaction_3_IT.testCoordinatorRestartsDuringCompaction(ExternalCompaction_3_IT.java:137)\r\n\tat java.base@11.0.14/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base@11.0.14/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base@11.0.14/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base@11.0.14/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat app//org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat app//org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat app//org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat app//org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat app//org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat app//org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat app//org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:299)\r\n\tat app//org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:293)\r\n\tat java.base@11.0.14/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base@11.0.14/java.lang.Thread.run(Thread.java:829)\r\n\r\n[INFO] Running org.apache.accumulo.test.compaction.ExternalCompaction_2_IT\r\n```\r\n\r\n</details>\r\n\r\n[ExternalCompaction_2_and_3_failure_logs.tar.gz](https://github.com/apache/accumulo/files/8028586/ExternalCompaction_2_and_3_failure_logs.tar.gz)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1033225612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1033227436","html_url":"https://github.com/apache/accumulo/issues/2463#issuecomment-1033227436","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2463","id":1033227436,"node_id":"IC_kwDOACaFSM49lcys","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T01:13:48Z","updated_at":"2022-02-09T01:13:48Z","author_association":"MEMBER","body":"[failsafe-reports.tar.gz](https://github.com/apache/accumulo/files/8028599/failsafe-reports.tar.gz)\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1033227436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1033230922","html_url":"https://github.com/apache/accumulo/issues/2473#issuecomment-1033230922","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2473","id":1033230922,"node_id":"IC_kwDOACaFSM49ldpK","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T01:19:37Z","updated_at":"2022-02-09T01:19:37Z","author_association":"MEMBER","body":"On serialization, Java 17 has the new record keyword. It should be safer to serialize records than general Java objects, as we've done in the past. I have not yet used records, and we aren't using Java 17 yet... but could for 3.0 development.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1033230922/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1033631966","html_url":"https://github.com/apache/accumulo/issues/2463#issuecomment-1033631966","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2463","id":1033631966,"node_id":"IC_kwDOACaFSM49m_je","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T10:58:16Z","updated_at":"2022-02-09T10:58:16Z","author_association":"CONTRIBUTOR","body":"I also saw 2 and 3 timeout when running all the ITs in Github Actions in my fork. They passed when I ran them locally.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1033631966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1033756669","html_url":"https://github.com/apache/accumulo/issues/2463#issuecomment-1033756669","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2463","id":1033756669,"node_id":"IC_kwDOACaFSM49nd_9","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T13:22:46Z","updated_at":"2022-02-09T13:22:46Z","author_association":"MEMBER","body":"It's not just timeouts. It's filling up memory and getting killed by my kernel's OOM killer. I think there's a more serious problem in the code, probably more than just reliability problems with the tests. I saw lots of errors in the logs that did not look expected errors from the test coverage... like missing root tablet file after compaction and other exceptions. I've attached the logs and the failsafe error reports and output.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1033756669/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1033835874","html_url":"https://github.com/apache/accumulo/issues/2473#issuecomment-1033835874","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2473","id":1033835874,"node_id":"IC_kwDOACaFSM49nxVi","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T14:44:34Z","updated_at":"2022-02-09T14:44:34Z","author_association":"CONTRIBUTOR","body":"> It should be safer to serialize records than general Java objects\r\n\r\nLooking around for what we could do now to make things safer, found the following.  Maybe we could use the new ObjectInputFilter added in Java 9 to explicitly limit what classes FATE can deserialize.\r\n\r\nhttps://www.oracle.com/java/technologies/javase/seccodeguide.html#8\r\nhttps://docs.oracle.com/javase/9/docs/api/java/io/ObjectInputFilter.html","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1033835874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1034166454","html_url":"https://github.com/apache/accumulo/issues/2362#issuecomment-1034166454","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2362","id":1034166454,"node_id":"IC_kwDOACaFSM49pCC2","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T20:32:25Z","updated_at":"2022-02-09T20:32:25Z","author_association":"CONTRIBUTOR","body":"I was running a test with a slightly older version of 2.1.0-SNAPSHOT w/o #2442 changes.  A tablet ran into the following error when trying to split and it left the tablet in a really bad state.  I think this is a different manifestation of this bug and I am hoping that pulling in #2442 will fix my problem.  @ctubbsii curious if you think this is the same bug and your changes in #2442 will avoid the problem?  If your not sure, don't worry about it I will be spinning up a new test w/ latest code.\r\n\r\n```\r\n2022-02-09T18:40:20,070 [tserver.TabletServer] ERROR: Unknown error on split:\r\njava.lang.IllegalArgumentException: Unknown runnable type io.opentelemetry.context.Context$$Lambda$376/0x0000000840441040\r\n        at org.apache.accumulo.tserver.compactions.InternalCompactionExecutor$InternalJob.lambda$cancel$0(InternalCompactionExecutor.java:134) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at java.util.concurrent.PriorityBlockingQueue.bulkRemove(PriorityBlockingQueue.java:1064) ~[?:?]\r\n        at java.util.concurrent.PriorityBlockingQueue.removeIf(PriorityBlockingQueue.java:1024) ~[?:?]\r\n        at org.apache.accumulo.tserver.compactions.InternalCompactionExecutor$InternalJob.cancel(InternalCompactionExecutor.java:128) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.compactions.InternalCompactionExecutor.lambda$compactableClosed$4(InternalCompactionExecutor.java:221) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at java.util.ArrayList.forEach(ArrayList.java:1541) ~[?:?]\r\n        at org.apache.accumulo.tserver.compactions.InternalCompactionExecutor.compactableClosed(InternalCompactionExecutor.java:221) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.compactions.CompactionService.lambda$compactableClosed$16(CompactionService.java:426) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at java.lang.Iterable.forEach(Iterable.java:75) ~[?:?]\r\n        at org.apache.accumulo.tserver.compactions.CompactionService.compactableClosed(CompactionService.java:426) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.compactions.CompactionManager.lambda$compactableClosed$13(CompactionManager.java:413) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[?:?]\r\n        at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[?:?]\r\n        at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[?:?]\r\n        at java.util.concurrent.ConcurrentSkipListMap$KeySpliterator.forEachRemaining(ConcurrentSkipListMap.java:3156) ~[?:?]\r\n        at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[?:?]\r\n        at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[?:?]\r\n        at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[?:?]\r\n        at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[?:?]\r\n        at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:?]\r\n        at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497) ~[?:?]\r\n        at org.apache.accumulo.tserver.compactions.CompactionManager.compactableClosed(CompactionManager.java:413) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.tablet.CompactableImpl.close(CompactableImpl.java:1517) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.tablet.Tablet.initiateClose(Tablet.java:1244) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.tablet.Tablet.split(Tablet.java:1702) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.TabletServer.splitTablet(TabletServer.java:483) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.TabletServer.splitTablet(TabletServer.java:470) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.TabletServer$SplitRunner.run(TabletServer.java:411) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at io.opentelemetry.context.Context.lambda$wrap$1(Context.java:207) ~[opentelemetry-context-1.7.1.jar:1.7.1]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\r\n        at io.opentelemetry.context.Context.lambda$wrap$1(Context.java:207) ~[opentelemetry-context-1.7.1.jar:1.7.1]\r\n        at java.lang.Thread.run(Thread.java:829) [?:?]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1034166454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1034197306","html_url":"https://github.com/apache/accumulo/issues/2362#issuecomment-1034197306","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2362","id":1034197306,"node_id":"IC_kwDOACaFSM49pJk6","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-09T21:12:54Z","updated_at":"2022-02-09T21:12:54Z","author_association":"MEMBER","body":"> I was running a test with a slightly older version of 2.1.0-SNAPSHOT w/o #2442 changes. A tablet ran into the following error when trying to split and it left the tablet in a really bad state. I think this is a different manifestation of this bug and I am hoping that pulling in #2442 will fix my problem. @ctubbsii curious if you think this is the same bug and your changes in #2442 will avoid the problem? If your not sure, don't worry about it I will be spinning up a new test w/ latest code.\r\n> \r\n> ```\r\n> 2022-02-09T18:40:20,070 [tserver.TabletServer] ERROR: Unknown error on split:\r\n> java.lang.IllegalArgumentException: Unknown runnable type io.opentelemetry.context.Context$$Lambda$376/0x0000000840441040\r\n>         at org.apache.accumulo.tserver.compactions.InternalCompactionExecutor$InternalJob.lambda$cancel$0(InternalCompactionExecutor.java:134) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n>         at java.util.concurrent.PriorityBlockingQueue.bulkRemove(PriorityBlockingQueue.java:1064) ~[?:?]\r\n>         at java.util.concurrent.PriorityBlockingQueue.removeIf(PriorityBlockingQueue.java:1024) ~[?:?]\r\n> ```\r\n\r\nI'm not 100% certain, but I do believe it is another manifestation that was fixed in #2442 . Specifically, note the changes around the `removeIf`. I remember that the problem wasn't just with the comparators unwrapping things, but also any time we tried to directly manipulate the blocking queues and we expected a type any more specific than \"Runnable\".","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1034197306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1034953607","html_url":"https://github.com/apache/accumulo/issues/2478#issuecomment-1034953607","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2478","id":1034953607,"node_id":"IC_kwDOACaFSM49sCOH","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T13:58:39Z","updated_at":"2022-02-10T13:58:39Z","author_association":"CONTRIBUTOR","body":"Found a TODO in ZooStore that said it should handle ZK being down gracefully. Wouldn't that be nice...","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1034953607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035044296","html_url":"https://github.com/apache/accumulo/pull/2472#issuecomment-1035044296","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2472","id":1035044296,"node_id":"IC_kwDOACaFSM49sYXI","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T15:19:54Z","updated_at":"2022-02-10T15:19:54Z","author_association":"MEMBER","body":"The changes in 2c61494:\r\n* Make the methods inside of the `assertThrows()` as narrow as possible\r\n* Introduce variables for reuse\r\n* Make expected exceptions more specific\r\n* Extract common code in some tests by checking `assertThrows()` in a loop\r\n* Remove portion of VisibilityEvaluatorTest that is already covered in ColumnVisibilityTest","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035044296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035235209","html_url":"https://github.com/apache/accumulo/pull/2472#issuecomment-1035235209","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2472","id":1035235209,"node_id":"IC_kwDOACaFSM49tG-J","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T17:52:01Z","updated_at":"2022-02-10T17:52:01Z","author_association":"MEMBER","body":"I'm finding more instances that could be converted so I'd wait to review if anyone was planning on it soon.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035235209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035238035","html_url":"https://github.com/apache/accumulo/issues/2482#issuecomment-1035238035","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2482","id":1035238035,"node_id":"IC_kwDOACaFSM49tHqT","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T17:53:58Z","updated_at":"2022-02-10T17:53:58Z","author_association":"CONTRIBUTOR","body":"If this is true, it would be nice to get this fixed in 1.10.2","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035238035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035285544","html_url":"https://github.com/apache/accumulo/issues/2474#issuecomment-1035285544","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2474","id":1035285544,"node_id":"IC_kwDOACaFSM49tTQo","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T18:23:12Z","updated_at":"2022-02-10T18:23:12Z","author_association":"CONTRIBUTOR","body":"FateIT uses ZooKeeperTestingServer, which should use PortUtils to get a free port for the server, It does [not](https://github.com/apache/accumulo/blob/main/test/src/main/java/org/apache/accumulo/test/zookeeper/ZooKeeperTestingServer.java#L103) currently do that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035285544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035305783","html_url":"https://github.com/apache/accumulo/issues/2474#issuecomment-1035305783","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2474","id":1035305783,"node_id":"IC_kwDOACaFSM49tYM3","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T18:33:00Z","updated_at":"2022-02-10T18:33:00Z","author_association":"CONTRIBUTOR","body":"So, the question is whether or not `SO_REUSEADDR` (used in PortUtils) would allow 2 different processes to bind to the same port (I think the answer is yes, but I'm not 100% sure). If so, then the current implementation of `ZooKeeperTestingServer.getPort` could cause it to bind to another port that was already allocated using PortUtils. Is it possible that we have two (or more) ZK servers listening on the same  port?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035305783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035317367","html_url":"https://github.com/apache/accumulo/pull/2484#issuecomment-1035317367","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2484","id":1035317367,"node_id":"IC_kwDOACaFSM49tbB3","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T18:40:25Z","updated_at":"2022-02-10T18:40:25Z","author_association":"CONTRIBUTOR","body":"Decided to leave as is as it does not cause any adverse effects.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035317367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035356361","html_url":"https://github.com/apache/accumulo/issues/2474#issuecomment-1035356361","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2474","id":1035356361,"node_id":"IC_kwDOACaFSM49tkjJ","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T19:06:51Z","updated_at":"2022-02-10T19:06:51Z","author_association":"MEMBER","body":"I'm going to reopen this test, because I think the modification in #2485 is not likely going to fix this. The error is that the FaTE transaction node simply does not exist in ZK. There is no problem with actually communicating with ZK on that port or any other ZK-specific issue indicated in the logs of this test that failed. `SO_REUSEADDR` would not have allowed multiple ZKs to listen on the same socket. It only allows binding to recently used ports that haven't been cleaned up yet. And, the probability of selecting a port in use would have been very low, and the test has failed multiple times. So, I'm pretty confident that's not going to fix this, although it is an improvement to the test.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035356361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035367707","html_url":"https://github.com/apache/accumulo/issues/2482#issuecomment-1035367707","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2482","id":1035367707,"node_id":"IC_kwDOACaFSM49tnUb","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T19:14:25Z","updated_at":"2022-02-10T19:14:25Z","author_association":"MEMBER","body":"1.10.2 is pretty far along. It doesn't change the status quo with respect to compactions. If this is true, then we can easily release a 1.10.3 once it is fixed. I don't think we need to hold up 1.10.2 for something that is not yet known to be a problem, never mind a fix being started or completed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035367707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035374166","html_url":"https://github.com/apache/accumulo/pull/2486#issuecomment-1035374166","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2486","id":1035374166,"node_id":"IC_kwDOACaFSM49to5W","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T19:18:33Z","updated_at":"2022-02-10T19:18:33Z","author_association":"CONTRIBUTOR","body":"> I am not sure what is motivating this change, so it is difficult to provide a suggested alternative.\r\n\r\nThis would help a lot with my changes in #2475 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035374166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035381374","html_url":"https://github.com/apache/accumulo/pull/2486#issuecomment-1035381374","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2486","id":1035381374,"node_id":"IC_kwDOACaFSM49tqp-","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T19:23:15Z","updated_at":"2022-02-10T19:23:15Z","author_association":"MEMBER","body":"> > I am not sure what is motivating this change, so it is difficult to provide a suggested alternative.\r\n> \r\n> This would help a lot with my changes in #2475\r\n\r\nWhy would clients need write access to ZK, though, in your changes?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035381374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035387135","html_url":"https://github.com/apache/accumulo/pull/2486#issuecomment-1035387135","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2486","id":1035387135,"node_id":"IC_kwDOACaFSM49tsD_","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T19:26:21Z","updated_at":"2022-02-10T19:26:21Z","author_association":"CONTRIBUTOR","body":"> > > I am not sure what is motivating this change, so it is difficult to provide a suggested alternative.\r\n> > \r\n> > \r\n> > This would help a lot with my changes in #2475\r\n> \r\n> Why would clients need write access to ZK, though, in your changes?\r\n\r\nFATE does. And FATE is in core. ServerContext is not.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035387135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035399526","html_url":"https://github.com/apache/accumulo/pull/2486#issuecomment-1035399526","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2486","id":1035399526,"node_id":"IC_kwDOACaFSM49tvFm","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T19:35:21Z","updated_at":"2022-02-10T19:35:21Z","author_association":"CONTRIBUTOR","body":"I made the `RepoEnv` interface return `ClientContext` and then cast it to `ServerContext` like this:\r\n<pre>\r\ncontext = (ServerContext) environment.getContext();\r\n</pre>\r\nWhich i guess is fine. There are just lots of places where we write to ZK.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035399526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035465567","html_url":"https://github.com/apache/accumulo/pull/2486#issuecomment-1035465567","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2486","id":1035465567,"node_id":"IC_kwDOACaFSM49t_Nf","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T20:24:25Z","updated_at":"2022-02-10T20:24:25Z","author_association":"CONTRIBUTOR","body":"Closing for now, since this may not be desirable.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035465567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035555578","html_url":"https://github.com/apache/accumulo/pull/2486#issuecomment-1035555578","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2486","id":1035555578,"node_id":"IC_kwDOACaFSM49uVL6","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-10T21:47:29Z","updated_at":"2022-02-10T21:47:29Z","author_association":"MEMBER","body":"It seems some of FATE probably shouldn't be in core, but should probably be in the manager jar instead.\r\n\r\nPerhaps one alternative is to combine ZooReader and ZooReaderWriter into one utility, with an `isWritable()` flag that the methods that write could use to guard against. That would help with your current situation, but could make things worse elsewhere, because we wouldn't know until runtime when we have passed the wrong instance. But, if everything uses the context to get the instance, it may be okay, because it should always have the correct one.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1035555578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036137880","html_url":"https://github.com/apache/accumulo/pull/2486#issuecomment-1036137880","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2486","id":1036137880,"node_id":"IC_kwDOACaFSM49wjWY","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T11:54:01Z","updated_at":"2022-02-11T11:54:01Z","author_association":"CONTRIBUTOR","body":"> It seems some of FATE probably shouldn't be in core, but should probably be in the manager jar instead.\r\n\r\nI agree. I will try moving it to the Manager jar.\r\n\r\n> Perhaps one alternative is to combine ZooReader and ZooReaderWriter into one utility, with an `isWritable()` flag that the methods that write could use to guard against. That would help with your current situation, but could make things worse elsewhere, because we wouldn't know until runtime when we have passed the wrong instance. But, if everything uses the context to get the instance, it may be okay, because it should always have the correct one.\r\n\r\nThat isn't a bad idea but I be worried that it would be too easy for developers to just start using the Writer everywhere or making it a runtime error would be harder to guard against.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036137880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036196762","html_url":"https://github.com/apache/accumulo/issues/2487#issuecomment-1036196762","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2487","id":1036196762,"node_id":"IC_kwDOACaFSM49wxua","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T13:07:44Z","updated_at":"2022-02-11T13:07:44Z","author_association":"CONTRIBUTOR","body":"I would suggest 2.1 - there has been a lot of renaming already and it would be nice to have all of those in the rear-view mirror. The major benefit is that I think we have already introduced on-wire changes so this would not be an additional burden.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036196762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036206841","html_url":"https://github.com/apache/accumulo/issues/2474#issuecomment-1036206841","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2474","id":1036206841,"node_id":"IC_kwDOACaFSM49w0L5","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T13:20:14Z","updated_at":"2022-02-11T13:28:50Z","author_association":"MEMBER","body":"Confirmed that this is still a problem after the changes in #2485:\r\n\r\n```\r\norg.apache.zookeeper.KeeperException$NoNodeException: KeeperErrorCode = NoNode for /accumulo/3d3f19b8-4ff8-47f0-b33b-a87c3d0804a2/fate/tx_731d81b1c8ef162b\r\n\tat org.apache.zookeeper.KeeperException.create(KeeperException.java:118)\r\n\tat org.apache.zookeeper.KeeperException.create(KeeperException.java:54)\r\n\tat org.apache.zookeeper.ZooKeeper.getData(ZooKeeper.java:2131)\r\n\tat org.apache.accumulo.fate.zookeeper.ZooReader.lambda$getData$0(ZooReader.java:65)\r\n\tat org.apache.accumulo.fate.zookeeper.ZooReader.retryLoopMutator(ZooReader.java:165)\r\n\tat org.apache.accumulo.fate.zookeeper.ZooReader.retryLoop(ZooReader.java:144)\r\n\tat org.apache.accumulo.fate.zookeeper.ZooReader.retryLoop(ZooReader.java:131)\r\n\tat org.apache.accumulo.fate.zookeeper.ZooReader.getData(ZooReader.java:65)\r\n\tat org.apache.accumulo.test.fate.zookeeper.FateIT.getTxStatus(FateIT.java:193)\r\n\tat org.apache.accumulo.test.fate.zookeeper.FateIT.testTransactionStatus(FateIT.java:156)\r\n```\r\n\r\nHere are the failsafe logs for this test: [FateIT-logs.tar.gz](https://github.com/apache/accumulo/files/8048922/FateIT-logs.tar.gz)\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036206841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036267833","html_url":"https://github.com/apache/accumulo/issues/2487#issuecomment-1036267833","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2487","id":1036267833,"node_id":"IC_kwDOACaFSM49xDE5","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T14:28:17Z","updated_at":"2022-02-11T14:28:17Z","author_association":"CONTRIBUTOR","body":"I agree. My only concern was breaking serialization of these classes. I will do some digging to see if any of the classes are serialized.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036267833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036381072","html_url":"https://github.com/apache/accumulo/issues/2487#issuecomment-1036381072","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2487","id":1036381072,"node_id":"IC_kwDOACaFSM49xeuQ","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T16:19:59Z","updated_at":"2022-02-11T16:21:30Z","author_association":"MEMBER","body":"These were kept because they were exposed in the TabletBalancer interface. See my comment on #2022  and in the commit log. They can be moved after that deprecated class is removed and we can use its SPI replacement.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036381072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036384451","html_url":"https://github.com/apache/accumulo/pull/2488#issuecomment-1036384451","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2488","id":1036384451,"node_id":"IC_kwDOACaFSM49xfjD","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T16:23:49Z","updated_at":"2022-02-11T16:23:49Z","author_association":"MEMBER","body":"This can't be done until 3.0, because it affects public API (TabletBalancer). See my comment on #2487 and the original comment on #2022 and in the commit logs for this file.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036384451/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036384485","html_url":"https://github.com/apache/accumulo/issues/2487#issuecomment-1036384485","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2487","id":1036384485,"node_id":"IC_kwDOACaFSM49xfjl","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T16:23:50Z","updated_at":"2022-02-11T16:24:15Z","author_association":"CONTRIBUTOR","body":"> These were kept because they were exposed in the TabletBalancer interface. See my comment on #2022 and in the commit log. They can be moved after that deprecated class is removed and we can use its SPI replacement.\r\n\r\nWhat in the TabletBalancer is keeping this from going in 2.1? I just opened #2488","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036384485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036386166","html_url":"https://github.com/apache/accumulo/issues/2487#issuecomment-1036386166","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2487","id":1036386166,"node_id":"IC_kwDOACaFSM49xf92","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T16:25:35Z","updated_at":"2022-02-11T16:25:35Z","author_association":"MEMBER","body":"> > These were kept because they were exposed in the TabletBalancer interface. See my comment on #2022 and in the commit log. They can be moved after that deprecated class is removed and we can use its SPI replacement.\r\n> \r\n> What in the TabletBalancer is keeping this from going in 2.1? I opened just #2488\r\n\r\nJust saw that and commented there as well. TabletBalancer is the public API (or at least, it is treated as such, because it is a user-pluggable component). It references TabletServerStatus in one of its public methods, which in turn references these other types transitively.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036386166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036388036","html_url":"https://github.com/apache/accumulo/issues/2487#issuecomment-1036388036","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2487","id":1036388036,"node_id":"IC_kwDOACaFSM49xgbE","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T16:27:28Z","updated_at":"2022-02-11T16:27:28Z","author_association":"MEMBER","body":"In other words, changing this will break users. We have a transition plan in place (the new balancer SPI), but it can't be completed until 3.0 when we can drop the current deprecated TabletBalancer.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036388036/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036394383","html_url":"https://github.com/apache/accumulo/pull/2472#issuecomment-1036394383","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2472","id":1036394383,"node_id":"IC_kwDOACaFSM49xh-P","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T16:34:42Z","updated_at":"2022-02-11T16:34:42Z","author_association":"MEMBER","body":"I looked through all the instances of `fail()` manually and I think I changed all that I plan to for this PR. This should be ready for review now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036394383/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036401176","html_url":"https://github.com/apache/accumulo/pull/2472#issuecomment-1036401176","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2472","id":1036401176,"node_id":"IC_kwDOACaFSM49xjoY","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T16:42:32Z","updated_at":"2022-02-11T18:16:55Z","author_association":"MEMBER","body":"> The ErrorProne plugin also pointed out a test that looks like it is not behaving as intended.\r\n> \r\n> https://github.com/apache/accumulo/blob/3ea979d5971016b9c2512a96cc5b6bd5d1969b2e/server/tserver/src/test/java/org/apache/accumulo/tserver/log/SortedLogRecoveryTest.java#L348-L359\r\n> \r\n> It looks like the test is expecting the the call to `recover()` to fail and if it doesn't, the test will fail via the call to `fail()`. But in this case, the `fail()` statement will be caught as a `Throwable` and **not** cause the test to fail when reached, Functionally, the whole try catch block does nothing more than call `recover()`. I'm not certain im interpreting this correctly but if I am, I'm not sure how to handle this case.\r\n\r\nIm still not too sure what to do in this case. I don't think I made it clear originally that the call to recover() does not throw an exception so the test hits the fail() every time (which is caught and ignored). This does not seem like it is the intended behavior of the test - it seems like the test expects the call to recover to throw an exception which does not happen.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036401176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036426190","html_url":"https://github.com/apache/accumulo/pull/2488#issuecomment-1036426190","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2488","id":1036426190,"node_id":"IC_kwDOACaFSM49xpvO","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T17:08:57Z","updated_at":"2022-02-11T17:08:57Z","author_association":"CONTRIBUTOR","body":"Converted to draft so we don't merge it into main.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036426190/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036428337","html_url":"https://github.com/apache/accumulo/issues/2474#issuecomment-1036428337","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2474","id":1036428337,"node_id":"IC_kwDOACaFSM49xqQx","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T17:11:20Z","updated_at":"2022-02-11T17:11:20Z","author_association":"CONTRIBUTOR","body":"@dlmarion are you looking at this?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036428337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036442794","html_url":"https://github.com/apache/accumulo/issues/2474#issuecomment-1036442794","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2474","id":1036442794,"node_id":"IC_kwDOACaFSM49xtyq","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T17:27:26Z","updated_at":"2022-02-11T17:27:26Z","author_association":"CONTRIBUTOR","body":"@milleruntime - not at the moment. I have been working on the ExternalCompaction ITs. With Keith's help, I think I have the solution for that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036442794/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036444359","html_url":"https://github.com/apache/accumulo/pull/2472#issuecomment-1036444359","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2472","id":1036444359,"node_id":"IC_kwDOACaFSM49xuLH","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T17:29:14Z","updated_at":"2022-02-11T17:29:14Z","author_association":"MEMBER","body":"> Im still not too sure what to do in this case. I don't think I made it clear originally that the call to `recover()` does not throw an exception so the test hits the `fail()` every time (which is caught and ignored). This does not seem like it is the intended behavior of the test - it seems like the test expects the call to recover to throw an exception which does not happen.\r\n\r\nThat's clearly a bug. You could create a new ticket for that. It definitely seems like the expectation is that the method call should fail, and it's not failing. It needs to be tracked down whether it should fail, and why it isn't, or if it shouldn't fail and this test should be removed because it has a faulty premise.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036444359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036487379","html_url":"https://github.com/apache/accumulo/pull/2472#issuecomment-1036487379","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2472","id":1036487379,"node_id":"IC_kwDOACaFSM49x4rT","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-11T18:15:50Z","updated_at":"2022-02-11T18:15:50Z","author_association":"MEMBER","body":"> That's clearly a bug. You could create a new ticket for that. It definitely seems like the expectation is that the method call should fail, and it's not failing. It needs to be tracked down whether it should fail, and why it isn't, or if it shouldn't fail and this test should be removed because it has a faulty premise.\r\n\r\nI created #2489 to track this issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1036487379/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1037523195","html_url":"https://github.com/apache/accumulo/issues/2468#issuecomment-1037523195","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2468","id":1037523195,"node_id":"IC_kwDOACaFSM4911j7","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-12T22:12:50Z","updated_at":"2022-02-12T22:12:50Z","author_association":"MEMBER","body":"Vote thread: https://lists.apache.org/thread/bq424vnov27nwnkb471oxg5nd7m6xwn9\r\nVote result: https://lists.apache.org/thread/7rz8jf8rmqmp5vfs97tpbmyyy5wg4smd","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1037523195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039298576","html_url":"https://github.com/apache/accumulo/pull/2492#issuecomment-1039298576","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2492","id":1039298576,"node_id":"IC_kwDOACaFSM498nAQ","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T16:35:23Z","updated_at":"2022-02-14T16:35:23Z","author_association":"CONTRIBUTOR","body":"Here are some examples of log output:\r\n<pre>\r\n2022-02-14T10:25:34,906 [fate.Fate] INFO : FATE TxId: 3799578337887111047 Op: TABLE_CREATE Create table ci ONLINE with 19 splits.\r\n2022-02-14T10:37:48,674 [fate.Fate] INFO : FATE TxId: 5505785720937952578 Op: TABLE_COMPACT Compact table (1) with config []\r\n2022-02-14T10:38:18,256 [fate.Fate] INFO : FATE TxId: 2554407174635375739 Op: TABLE_DELETE Delete table ci(1)\r\n</pre>\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039298576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039303196","html_url":"https://github.com/apache/accumulo/pull/2492#issuecomment-1039303196","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2492","id":1039303196,"node_id":"IC_kwDOACaFSM498oIc","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T16:39:37Z","updated_at":"2022-02-14T16:39:37Z","author_association":"MEMBER","body":"@milleruntime I think GitHub is supposed to auto-link PRs to their referenced issues. However, I don't think it works the way you're doing it. It should work when you add the [closing keywords](https://docs.github.com/en/issues/tracking-your-work-with-issues/linking-a-pull-request-to-an-issue) to the description or body of a commit message, but it does not seem to work when you add it to the subject line. For consistency (and for less confusion), it's probably best to put these in the body of the commit anyway, so that way when GitHub appends the PR number on merge, it looks a bit nicer:\r\n\r\n```\r\nAdd goal message to Fate (#2492)\r\n```\r\n\r\nvs. \r\n\r\n```\r\nAdd goal message to Fate. Closes #1249 (#2492)\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039303196/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039303559","html_url":"https://github.com/apache/accumulo/pull/2492#issuecomment-1039303559","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2492","id":1039303559,"node_id":"IC_kwDOACaFSM498oOH","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T16:39:57Z","updated_at":"2022-02-14T16:39:57Z","author_association":"CONTRIBUTOR","body":"From the sample log\r\n```\r\n2022-02-14T10:37:48,674 [fate.Fate] INFO : FATE TxId: 5505785720937952578 Op: TABLE_COMPACT Compact table (1) with config []\r\n2022-02-14T10:38:18,256 [fate.Fate] INFO : FATE TxId: 2554407174635375739 Op: TABLE_DELETE Delete table ci(1)\r\n```\r\nWhat is the number (1) in parentheses? The tableId?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039303559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039304432","html_url":"https://github.com/apache/accumulo/pull/2492#issuecomment-1039304432","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2492","id":1039304432,"node_id":"IC_kwDOACaFSM498obw","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T16:40:41Z","updated_at":"2022-02-14T16:40:41Z","author_association":"CONTRIBUTOR","body":"> From the sample log\r\n> \r\n> ```\r\n> 2022-02-14T10:37:48,674 [fate.Fate] INFO : FATE TxId: 5505785720937952578 Op: TABLE_COMPACT Compact table (1) with config []\r\n> 2022-02-14T10:38:18,256 [fate.Fate] INFO : FATE TxId: 2554407174635375739 Op: TABLE_DELETE Delete table ci(1)\r\n> ```\r\n> \r\n> What is the number (1) in parentheses? The tableId?\r\n\r\nYes","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039304432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039349642","html_url":"https://github.com/apache/accumulo/pull/2493#issuecomment-1039349642","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2493","id":1039349642,"node_id":"IC_kwDOACaFSM498zeK","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T17:22:01Z","updated_at":"2022-02-14T17:22:01Z","author_association":"CONTRIBUTOR","body":"Are these frequent? Does not having a context convey information to the user?\r\n\r\nWould something like\r\n```\r\nlog.debug(\"Managed Contexts: {}\", context == null ? \"none\" : contexts);\r\n```\r\nbe too busy?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039349642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039373645","html_url":"https://github.com/apache/accumulo/pull/2493#issuecomment-1039373645","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2493","id":1039373645,"node_id":"IC_kwDOACaFSM4985VN","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T17:46:33Z","updated_at":"2022-02-14T17:46:33Z","author_association":"CONTRIBUTOR","body":"> Are these frequent? Does not having a context convey information to the user?\r\n\r\nThey are being logged every minute, so not too crazy but every time 3 messages get printed. I don't _think_ empty context helps users much. This is a deprecated class and was for the old context class loading. But I have never used the feature so maybe someone with more expertise in the class loading can weigh in.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039373645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039376759","html_url":"https://github.com/apache/accumulo/pull/2493#issuecomment-1039376759","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2493","id":1039376759,"node_id":"IC_kwDOACaFSM4986F3","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T17:49:57Z","updated_at":"2022-02-14T17:49:57Z","author_association":"CONTRIBUTOR","body":"> log.debug(\"Managed Contexts: {}\", context == null ? \"none\" : contexts);\r\n\r\nThis isn't much different from what we have now. I could combined the two messages so it prints them on one line. I think that would be an improvement but if a user never uses the context class loading, then this is still noise to them.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039376759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039386405","html_url":"https://github.com/apache/accumulo/pull/2492#issuecomment-1039386405","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2492","id":1039386405,"node_id":"IC_kwDOACaFSM4988cl","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T18:00:47Z","updated_at":"2022-02-14T18:00:47Z","author_association":"CONTRIBUTOR","body":"> This method was created because the code used to log fate txids in many different ways (hex and decimal for example)\r\n\r\nI forgot about that, thanks @keith-turner. What do you think of changing the transaction ID in the next version to be something more straight forward? Maybe use something like `java.util.UUID`?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039386405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039411494","html_url":"https://github.com/apache/accumulo/pull/2493#issuecomment-1039411494","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2493","id":1039411494,"node_id":"IC_kwDOACaFSM499Ckm","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T18:24:49Z","updated_at":"2022-02-14T18:24:49Z","author_association":"CONTRIBUTOR","body":"I do not know how to classify / balance noise vs. useful information in this case.  I can see the viewpoint that if it is useful or important to see the context when you have it configured, the absence could also be informative? - Say you expected it to be set but was not? Or all my others have it set, but why not this one?\r\n\r\nIt's really hard to go through a log file and find messages that are \"missing\" - especially if your not sure that you should be looking for them in the first place.\r\n\r\nOne message seems reasonable as an alternative - but I also don't recall this being and issue - but I am also unsure that if there was a suspected problem, what it would look like and what information would be useful in tracking it down.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039411494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039414272","html_url":"https://github.com/apache/accumulo/pull/2493#issuecomment-1039414272","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2493","id":1039414272,"node_id":"IC_kwDOACaFSM499DQA","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T18:27:42Z","updated_at":"2022-02-14T18:27:42Z","author_association":"MEMBER","body":"Can we just make it so it logs if there are changes?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039414272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039418489","html_url":"https://github.com/apache/accumulo/pull/2493#issuecomment-1039418489","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2493","id":1039418489,"node_id":"IC_kwDOACaFSM499ER5","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T18:32:14Z","updated_at":"2022-02-14T18:32:14Z","author_association":"CONTRIBUTOR","body":"These log statements are getting printed from `AccumuloVFSClassLoader.removeUnusedContexts(contextsInUse)` which is called in a thread in `startCleanupThread()` from the `DefaultContextClassLoaderFactory`. It seems the whole point of the method is to just to remove unused objects so I don't think we need to be printing every time. From a user standpoint, I think they would only care if something is being removed from the `unused` map, which is printed in the next loop.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039418489/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039420840","html_url":"https://github.com/apache/accumulo/pull/2494#issuecomment-1039420840","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2494","id":1039420840,"node_id":"IC_kwDOACaFSM499E2o","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T18:34:53Z","updated_at":"2022-02-14T18:34:53Z","author_association":"MEMBER","body":"> this test assumes that an exception will be thrown when there is no definition present\r\n\r\nDid this code ever throw an exception in that case in the git history? If so, when and why did it change? Should it throw an exception?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039420840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039422988","html_url":"https://github.com/apache/accumulo/pull/2493#issuecomment-1039422988","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2493","id":1039422988,"node_id":"IC_kwDOACaFSM499FYM","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T18:37:12Z","updated_at":"2022-02-14T18:37:12Z","author_association":"MEMBER","body":"> It seems the whole point of the method is to just to remove unused objects so I don't think we need to be printing every time.\r\n\r\nDo we log elsewhere when the context is initialized, then?\r\n\r\n> From a user standpoint, I think they would only care if something is being removed from the `unused` map, which is printed in the next loop.\r\n\r\nIf the removals are already being logged, and the initialization is already logged, then I agree it doesn't make sense to continually log the current set here.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039422988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039437872","html_url":"https://github.com/apache/accumulo/pull/2493#issuecomment-1039437872","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2493","id":1039437872,"node_id":"IC_kwDOACaFSM499JAw","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T18:55:15Z","updated_at":"2022-02-14T18:55:15Z","author_association":"CONTRIBUTOR","body":"> Do we log elsewhere when the context is initialized, then?\r\n\r\nIt is difficult to tell exactly where things get initialized but I found these log statements.\r\nhttps://github.com/apache/accumulo/blob/42c84e8e86ce53b9345bfcc7b5c8c6b4e2c33eab/start/src/main/java/org/apache/accumulo/start/classloader/vfs/ContextManager.java#L53-L55\r\n\r\nhttps://github.com/apache/accumulo/blob/42c84e8e86ce53b9345bfcc7b5c8c6b4e2c33eab/start/src/main/java/org/apache/accumulo/start/classloader/vfs/ContextManager.java#L197","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039437872/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039443160","html_url":"https://github.com/apache/accumulo/pull/2494#issuecomment-1039443160","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2494","id":1039443160,"node_id":"IC_kwDOACaFSM499KTY","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T19:01:29Z","updated_at":"2022-02-14T19:01:29Z","author_association":"MEMBER","body":"> Did this code ever throw an exception in that case in the git history? If so, when and why did it change? Should it throw an exception?\r\n\r\nYea it looks like it was changed from throwing and exception to logging [here](https://github.com/apache/accumulo/commit/ef9c0044e5e2de5e616c21527ed5df5baed3b254) which stems from [this Jira ticket](https://issues.apache.org/jira/browse/ACCUMULO-1033). According to the jira ticket, it was purposefully changed to logging. This was probably not picked up sooner because the test will always pass regardless of whether something is thrown or not.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039443160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039453749","html_url":"https://github.com/apache/accumulo/pull/2494#issuecomment-1039453749","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2494","id":1039453749,"node_id":"IC_kwDOACaFSM499M41","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T19:11:33Z","updated_at":"2022-02-14T19:11:33Z","author_association":"MEMBER","body":"In that case, I think the test should be modified instead of removed, to ensure that it doesn't throw an exception in that case, to prevent a regression... unless there's already a test that does that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039453749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039457212","html_url":"https://github.com/apache/accumulo/pull/2494#issuecomment-1039457212","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2494","id":1039457212,"node_id":"IC_kwDOACaFSM499Nu8","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T19:15:03Z","updated_at":"2022-02-14T19:15:03Z","author_association":"MEMBER","body":"> In that case, I think the test should be modified instead of removed, to ensure that it doesn't throw an exception in that case, to prevent a regression... unless there's already a test that does that.\r\n\r\nGood point. I did not consider that. I'll make sure that case is covered one way or another.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039457212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039458225","html_url":"https://github.com/apache/accumulo/pull/2492#issuecomment-1039458225","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2492","id":1039458225,"node_id":"IC_kwDOACaFSM499N-x","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T19:16:06Z","updated_at":"2022-02-14T19:16:06Z","author_association":"CONTRIBUTOR","body":"> What is the number (1) in parentheses? The tableId?\r\n\r\nIn another comment on this thread I suggested a specific way to log FATE IDs that was consistent.  The comments about table ids made me think it would be nice to consitently log all ids in the logs.  Maybe something like `<type>[<id>]`. For example `FATE[123]`, `TABLE_ID[456]`, `ECID[abd]`, `NAMESPACE_ID[xyz]`.  I think I will open an issue for this.\r\n\r\n> What do you think of changing the transaction ID in the next version to be something more straight forward? Maybe use something like `java.util.UUID`?\r\n\r\n@milleruntime I don't have an opinion.  What is the motivation for the change?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039458225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039462486","html_url":"https://github.com/apache/accumulo/pull/2492#issuecomment-1039462486","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2492","id":1039462486,"node_id":"IC_kwDOACaFSM499PBW","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T19:20:39Z","updated_at":"2022-02-14T19:20:39Z","author_association":"CONTRIBUTOR","body":"> > What do you think of changing the transaction ID in the next version to be something more straight forward? Maybe use something like `java.util.UUID`?\r\n> \r\n> @milleruntime I don't have an opinion. What is the motivation for the change?\r\n\r\nI was just thinking that a stronger type could prevent coding errors like the one I made forgetting to call the method to display the value in HEX.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039462486/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039469661","html_url":"https://github.com/apache/accumulo/pull/2492#issuecomment-1039469661","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2492","id":1039469661,"node_id":"IC_kwDOACaFSM499Qxd","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T19:28:20Z","updated_at":"2022-02-14T19:28:20Z","author_association":"CONTRIBUTOR","body":"> I was just thinking that a stronger type could prevent coding errors like the one I made forgetting to call the method to display the value in HEX.\r\n\r\nOh yeah, the code would probably be 10x better if we had a FateTxId type that we used instead of long.  Its toString method could consistently format for logging maybe.  That could possible encapsulate or extend UUID, but I think we would benefit form a more specific type than UUID or long.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039469661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039470964","html_url":"https://github.com/apache/accumulo/pull/2492#issuecomment-1039470964","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2492","id":1039470964,"node_id":"IC_kwDOACaFSM499RF0","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T19:29:46Z","updated_at":"2022-02-14T19:29:46Z","author_association":"MEMBER","body":"> > I was just thinking that a stronger type could prevent coding errors like the one I made forgetting to call the method to display the value in HEX.\r\n> \r\n> Oh yeah, the code would probably be 10x better if we had a FateTxId type that we used instead of long. Its toString method could consistently format for logging maybe. That could possible encapsulate or extend UUID, but I think we would benefit form a more specific type than UUID or long.\r\n\r\nThat seems like a bigger change than updating logging. Should that be considered as part of #2473 ?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039470964/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039472733","html_url":"https://github.com/apache/accumulo/issues/2495#issuecomment-1039472733","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2495","id":1039472733,"node_id":"IC_kwDOACaFSM499Rhd","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T19:31:39Z","updated_at":"2022-02-14T19:31:39Z","author_association":"CONTRIBUTOR","body":"This issue was opened based on discussion on #2492 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039472733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039473784","html_url":"https://github.com/apache/accumulo/issues/2473#issuecomment-1039473784","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2473","id":1039473784,"node_id":"IC_kwDOACaFSM499Rx4","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T19:32:45Z","updated_at":"2022-02-14T19:32:45Z","author_association":"CONTRIBUTOR","body":"Another improvement that could be included in this change:\r\nConvert FateTxId to a stronger type to prevent coding errors like forgetting to call the method to display the value in HEX.\r\nThe code would probably be 10x better if we had a FateTxId type that we used instead of long. Its toString method could consistently format for logging maybe. That could possible encapsulate or extend UUID, but I think we would benefit form a more specific type than UUID or long.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039473784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039474412","html_url":"https://github.com/apache/accumulo/pull/2492#issuecomment-1039474412","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2492","id":1039474412,"node_id":"IC_kwDOACaFSM499R7s","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T19:33:21Z","updated_at":"2022-02-14T19:33:21Z","author_association":"CONTRIBUTOR","body":"> That seems like a bigger change than updating logging. Should that be considered as part of https://github.com/apache/accumulo/issues/2473 ?\r\n\r\nI was not thinking that change should be made on this PR.  Just seems like a good general change to make.  I think introducing a fate tx id type to replace long would be a nice change to make by itself for the purposes of review.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039474412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039477361","html_url":"https://github.com/apache/accumulo/pull/2472#issuecomment-1039477361","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2472","id":1039477361,"node_id":"IC_kwDOACaFSM499Spx","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T19:36:43Z","updated_at":"2022-02-14T19:36:43Z","author_association":"MEMBER","body":"I ran all the unit tests, and all the ITs that were changed, and everything works fine. I did see FateIT fail, but that is known flaky (#2474)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039477361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039487902","html_url":"https://github.com/apache/accumulo/issues/2495#issuecomment-1039487902","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2495","id":1039487902,"node_id":"IC_kwDOACaFSM499VOe","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T19:49:27Z","updated_at":"2022-02-14T19:49:27Z","author_association":"MEMBER","body":"For table and namespace IDs, this would somewhat conflict with the goal to keep `toString()` equivalent to `canonical()` in the API contract for `AbstractId`.\r\n\r\nHowever, I had been thinking about a proper `Namespace` and `Table` object, which would be a pair of `(name, ID)`, which could be used internally, and provide a similar result via its `toString()`.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039487902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039542730","html_url":"https://github.com/apache/accumulo/pull/1426#issuecomment-1039542730","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1426","id":1039542730,"node_id":"IC_kwDOACaFSM499inK","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T20:49:05Z","updated_at":"2022-02-14T20:49:05Z","author_association":"MEMBER","body":"This fixes #1416 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039542730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039550843","html_url":"https://github.com/apache/accumulo/issues/2495#issuecomment-1039550843","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2495","id":1039550843,"node_id":"IC_kwDOACaFSM499kl7","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T20:59:00Z","updated_at":"2022-02-14T20:59:00Z","author_association":"CONTRIBUTOR","body":"> For table and namespace IDs, this would somewhat conflict with the goal to keep toString() equivalent to canonical() in the API contract for AbstractId.\r\n\r\nI was not really sure of the best way to implement this, was not sure about changing toString() on existing id type.  I like toString() being the same as canonical() personally, because that is nice when someone adds their own context.   We could have `String toLog()` method or something similar that is short and can be used when logging the id.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039550843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039693077","html_url":"https://github.com/apache/accumulo/pull/1438#issuecomment-1039693077","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1438","id":1039693077,"node_id":"IC_kwDOACaFSM49-HUV","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-14T23:49:42Z","updated_at":"2022-02-14T23:49:42Z","author_association":"MEMBER","body":"Superseded by #2498 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039693077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039699492","html_url":"https://github.com/apache/accumulo/issues/2495#issuecomment-1039699492","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2495","id":1039699492,"node_id":"IC_kwDOACaFSM49-I4k","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T00:01:40Z","updated_at":"2022-02-15T00:01:40Z","author_association":"MEMBER","body":"> We could have `String toLog()` method or something similar that is short and can be used when logging the id.\r\n\r\nThe problem with using something other than `toString()`, is that we have to remember to explicitly convert it ourselves, and we frequently forget to do that. A log builder or some other wrapper around logging could force us to do it, though (because its API could require some kind of `Loggable` object instead of accepting strings).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039699492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039712504","html_url":"https://github.com/apache/accumulo/pull/2498#issuecomment-1039712504","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2498","id":1039712504,"node_id":"IC_kwDOACaFSM49-MD4","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T00:22:19Z","updated_at":"2022-02-15T00:22:19Z","author_association":"MEMBER","body":"Upstream ticket: https://issues.apache.org/jira/browse/MJAVADOC-707","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039712504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039751024","html_url":"https://github.com/apache/accumulo/issues/2495#issuecomment-1039751024","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2495","id":1039751024,"node_id":"IC_kwDOACaFSM49-Vdw","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T01:23:25Z","updated_at":"2022-02-15T01:23:25Z","author_association":"CONTRIBUTOR","body":"> The problem with using something other than toString(), is that we have to remember to explicitly convert it ourselves, and we frequently forget to do that. A log builder or some other wrapper around logging could force us to do it, though (because its API could require some kind of Loggable object instead of accepting strings).\r\n\r\nLooked around for ways to have custom formatting for objects in log4j and found this :\r\n\r\nhttps://logging.apache.org/log4j/log4j-2.17.0/log4j-api/apidocs/org/apache/logging/log4j/util/StringBuilderFormattable.html\r\n\r\nran the following test\r\n\r\n```java\r\npackage org.apache.accumulo.test;\r\n\r\nimport org.apache.logging.log4j.util.StringBuilderFormattable;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic class Test {\r\n  public static class Foo implements StringBuilderFormattable {\r\n    @Override public void formatTo(StringBuilder buffer) {\r\n      buffer.append(\"TABLE_ID[99]\");\r\n    }\r\n  }\r\n\r\n  @org.junit.Test\r\n  public void test1(){\r\n    var log = LoggerFactory.getLogger(\"TL1\");\r\n    log.info(\"This is only a test: {}\", new Foo());\r\n  }\r\n}\r\n```\r\n\r\nwhich printed \r\n\r\n```\r\n2022-02-14T20:20:35,625 [TL1] INFO : This is only a test: TABLE_ID[99]\r\n```\r\n\r\nSo maybe the abstract id type could implement this interface for logging the id.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039751024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039888132","html_url":"https://github.com/apache/accumulo/issues/2495#issuecomment-1039888132","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2495","id":1039888132,"node_id":"IC_kwDOACaFSM49-28E","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T05:57:24Z","updated_at":"2022-02-15T05:57:24Z","author_association":"MEMBER","body":"> ```\r\n> 2022-02-14T20:20:35,625 [TL1] INFO : This is only a test: TABLE_ID[99]\r\n> ```\r\n\r\nUsing `slf4j-simple` instead of `log4j-slf4j-impl`, this prints:\r\n\r\n```\r\n[main] INFO TL1 - This is only a test: Test$Foo@545997b1\r\n```\r\n\r\nSo, it only works with the `log4j-slf4j-impl` at runtime, and not other slf4j implementations.\r\n\r\n> So maybe the abstract id type could implement this interface for logging the id.\r\n\r\nThat would require having a hard dependency on log4j again in code and leaks this 3rd party library class into the class hierarchy of our public API, both of which have caused us problems historically and we have previously moved to resolve.\r\n\r\nGiven the API leakage, the tight coupling with log4j, and the fact that it won't work with any other slf4j binding, I don't think this solution is viable.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039888132/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039914177","html_url":"https://github.com/apache/accumulo/issues/2463#issuecomment-1039914177","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2463","id":1039914177,"node_id":"IC_kwDOACaFSM49-9TB","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T06:44:37Z","updated_at":"2022-02-15T06:44:37Z","author_association":"MEMBER","body":"Since the changes in #2490 , I've seen two successful passes in Jenkins where `ExternalCompaction_2_IT` passes in 60 seconds and `ExternalCompaction_3_IT` passes in 90 seconds, no flakes. Two runs is not enough to prove increased stability, but it definitely adds confidence in the conclusion that it's more stable now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1039914177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1040155418","html_url":"https://github.com/apache/accumulo/issues/2495#issuecomment-1040155418","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2495","id":1040155418,"node_id":"IC_kwDOACaFSM49_4Ma","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T11:21:30Z","updated_at":"2022-02-15T11:21:30Z","author_association":"CONTRIBUTOR","body":"We could just create our own interface like `StringBuilderFormattable`, call it something like `Loggable`. Then make whatever objects we want to have a log friendly `toString()` implement it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1040155418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1040172379","html_url":"https://github.com/apache/accumulo/issues/2495#issuecomment-1040172379","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2495","id":1040172379,"node_id":"IC_kwDOACaFSM49_8Vb","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-15T11:39:19Z","updated_at":"2022-02-15T11:39:19Z","author_association":"CONTRIBUTOR","body":"With the concrete types we have implemented in `TableId` and `NamespaceId`, I don't think it is a big of deal anymore to have the `toString()` method return a formatted string. I think most places it is used is in string concatenation and logging. The other places where want a `canonical()` ID it is also pretty clear.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1040172379/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]