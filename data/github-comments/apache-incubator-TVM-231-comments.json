[{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748671402","html_url":"https://github.com/apache/tvm/issues/7101#issuecomment-748671402","issue_url":"https://api.github.com/repos/apache/tvm/issues/7101","id":748671402,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODY3MTQwMg==","user":{"login":"junrushao","id":22515877,"node_id":"MDQ6VXNlcjIyNTE1ODc3","avatar_url":"https://avatars.githubusercontent.com/u/22515877?v=4","gravatar_id":"","url":"https://api.github.com/users/junrushao","html_url":"https://github.com/junrushao","followers_url":"https://api.github.com/users/junrushao/followers","following_url":"https://api.github.com/users/junrushao/following{/other_user}","gists_url":"https://api.github.com/users/junrushao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrushao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrushao/subscriptions","organizations_url":"https://api.github.com/users/junrushao/orgs","repos_url":"https://api.github.com/users/junrushao/repos","events_url":"https://api.github.com/users/junrushao/events{/privacy}","received_events_url":"https://api.github.com/users/junrushao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-20T21:11:25Z","updated_at":"2020-12-20T21:11:25Z","author_association":"MEMBER","body":"We use a discussion forum for general error reporting, so please open a new thread on https://discuss.tvm.apache.org/. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748671402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748682731","html_url":"https://github.com/apache/tvm/pull/7136#issuecomment-748682731","issue_url":"https://api.github.com/repos/apache/tvm/issues/7136","id":748682731,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODY4MjczMQ==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-20T22:54:39Z","updated_at":"2020-12-21T02:07:10Z","author_association":"MEMBER","body":"~~There is some issue when running one of NMS tests in `test_any.py`, which is not run on CI due to flaky sort. Convert to draft until I resolve this problem.~~\r\n\r\nUPDATE: Above issues have been fixed, CI is also green.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748682731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748921727","html_url":"https://github.com/apache/tvm/pull/7126#issuecomment-748921727","issue_url":"https://api.github.com/repos/apache/tvm/issues/7126","id":748921727,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODkyMTcyNw==","user":{"login":"codeislife99","id":17168743,"node_id":"MDQ6VXNlcjE3MTY4NzQz","avatar_url":"https://avatars.githubusercontent.com/u/17168743?v=4","gravatar_id":"","url":"https://api.github.com/users/codeislife99","html_url":"https://github.com/codeislife99","followers_url":"https://api.github.com/users/codeislife99/followers","following_url":"https://api.github.com/users/codeislife99/following{/other_user}","gists_url":"https://api.github.com/users/codeislife99/gists{/gist_id}","starred_url":"https://api.github.com/users/codeislife99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codeislife99/subscriptions","organizations_url":"https://api.github.com/users/codeislife99/orgs","repos_url":"https://api.github.com/users/codeislife99/repos","events_url":"https://api.github.com/users/codeislife99/events{/privacy}","received_events_url":"https://api.github.com/users/codeislife99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-21T11:19:50Z","updated_at":"2020-12-21T11:19:56Z","author_association":"CONTRIBUTOR","body":"cc : @trevor-m  @comaniac @zhiics PTAL ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748921727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748942493","html_url":"https://github.com/apache/tvm/pull/7132#issuecomment-748942493","issue_url":"https://api.github.com/repos/apache/tvm/issues/7132","id":748942493,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODk0MjQ5Mw==","user":{"login":"FrozenGene","id":7287321,"node_id":"MDQ6VXNlcjcyODczMjE=","avatar_url":"https://avatars.githubusercontent.com/u/7287321?v=4","gravatar_id":"","url":"https://api.github.com/users/FrozenGene","html_url":"https://github.com/FrozenGene","followers_url":"https://api.github.com/users/FrozenGene/followers","following_url":"https://api.github.com/users/FrozenGene/following{/other_user}","gists_url":"https://api.github.com/users/FrozenGene/gists{/gist_id}","starred_url":"https://api.github.com/users/FrozenGene/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FrozenGene/subscriptions","organizations_url":"https://api.github.com/users/FrozenGene/orgs","repos_url":"https://api.github.com/users/FrozenGene/repos","events_url":"https://api.github.com/users/FrozenGene/events{/privacy}","received_events_url":"https://api.github.com/users/FrozenGene/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-21T12:11:24Z","updated_at":"2020-12-21T12:11:24Z","author_association":"MEMBER","body":"@comaniac @jcf94 @giuseros have addressed the comments. Please have another one round of look.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748942493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748981949","html_url":"https://github.com/apache/tvm/pull/7127#issuecomment-748981949","issue_url":"https://api.github.com/repos/apache/tvm/issues/7127","id":748981949,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODk4MTk0OQ==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-21T13:47:22Z","updated_at":"2020-12-21T13:47:22Z","author_association":"MEMBER","body":"Thanks @hogepodge !","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748981949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748982915","html_url":"https://github.com/apache/tvm/pull/7093#issuecomment-748982915","issue_url":"https://api.github.com/repos/apache/tvm/issues/7093","id":748982915,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODk4MjkxNQ==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-21T13:49:25Z","updated_at":"2020-12-21T13:49:25Z","author_association":"MEMBER","body":"Thanks @euntaik @giuseros @FrozenGene !","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/748982915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749003721","html_url":"https://github.com/apache/tvm/pull/7002#issuecomment-749003721","issue_url":"https://api.github.com/repos/apache/tvm/issues/7002","id":749003721,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTAwMzcyMQ==","user":{"login":"manupak","id":61496855,"node_id":"MDQ6VXNlcjYxNDk2ODU1","avatar_url":"https://avatars.githubusercontent.com/u/61496855?v=4","gravatar_id":"","url":"https://api.github.com/users/manupak","html_url":"https://github.com/manupak","followers_url":"https://api.github.com/users/manupak/followers","following_url":"https://api.github.com/users/manupak/following{/other_user}","gists_url":"https://api.github.com/users/manupak/gists{/gist_id}","starred_url":"https://api.github.com/users/manupak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manupak/subscriptions","organizations_url":"https://api.github.com/users/manupak/orgs","repos_url":"https://api.github.com/users/manupak/repos","events_url":"https://api.github.com/users/manupak/events{/privacy}","received_events_url":"https://api.github.com/users/manupak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-21T14:33:25Z","updated_at":"2020-12-21T14:33:25Z","author_association":"CONTRIBUTOR","body":"Ping @areusch @zhiics.\r\nLet me know if you have any more concerns, I ll be disappearing for holidays from tomorrow. \r\nThus, would like to address if there is anything today. Thanks! ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749003721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749093671","html_url":"https://github.com/apache/tvm/pull/7136#issuecomment-749093671","issue_url":"https://api.github.com/repos/apache/tvm/issues/7136","id":749093671,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTA5MzY3MQ==","user":{"login":"Laurawly","id":3700467,"node_id":"MDQ6VXNlcjM3MDA0Njc=","avatar_url":"https://avatars.githubusercontent.com/u/3700467?v=4","gravatar_id":"","url":"https://api.github.com/users/Laurawly","html_url":"https://github.com/Laurawly","followers_url":"https://api.github.com/users/Laurawly/followers","following_url":"https://api.github.com/users/Laurawly/following{/other_user}","gists_url":"https://api.github.com/users/Laurawly/gists{/gist_id}","starred_url":"https://api.github.com/users/Laurawly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Laurawly/subscriptions","organizations_url":"https://api.github.com/users/Laurawly/orgs","repos_url":"https://api.github.com/users/Laurawly/repos","events_url":"https://api.github.com/users/Laurawly/events{/privacy}","received_events_url":"https://api.github.com/users/Laurawly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-21T17:17:42Z","updated_at":"2020-12-21T17:17:42Z","author_association":"CONTRIBUTOR","body":"Thanks @masahi @mbrookhart ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749093671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749136716","html_url":"https://github.com/apache/tvm/pull/6137#issuecomment-749136716","issue_url":"https://api.github.com/repos/apache/tvm/issues/6137","id":749136716,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTEzNjcxNg==","user":{"login":"Wheest","id":16022573,"node_id":"MDQ6VXNlcjE2MDIyNTcz","avatar_url":"https://avatars.githubusercontent.com/u/16022573?v=4","gravatar_id":"","url":"https://api.github.com/users/Wheest","html_url":"https://github.com/Wheest","followers_url":"https://api.github.com/users/Wheest/followers","following_url":"https://api.github.com/users/Wheest/following{/other_user}","gists_url":"https://api.github.com/users/Wheest/gists{/gist_id}","starred_url":"https://api.github.com/users/Wheest/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Wheest/subscriptions","organizations_url":"https://api.github.com/users/Wheest/orgs","repos_url":"https://api.github.com/users/Wheest/repos","events_url":"https://api.github.com/users/Wheest/events{/privacy}","received_events_url":"https://api.github.com/users/Wheest/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-21T18:54:59Z","updated_at":"2020-12-21T19:27:54Z","author_association":"CONTRIBUTOR","body":"Hello there, updating this pull request to be up-to-date with the latest `main` branch.\r\n\r\nIn terms of things remaining to do:\r\n\r\n- [x] [Consider using compute_at and vectorize data load](https://github.com/apache/tvm/pull/6137#discussion_r463852066) - did not get an improvement.\r\n- [x] [We should support asymmetic padding like other compute / schedule.](https://github.com/apache/tvm/pull/6137#pullrequestreview-459474121) - this is implemented in GSPC, however requires extending `get_workload` for Conv2D generally.  I began working on this in `505c127`, but have reverted it, and will have this as it's own pull request in the comings days.\r\n- [ ] [Pack in alter_op_layout for kernel](https://github.com/apache/tvm/pull/6137#discussion_r463844394):  have been working on this, but have an issue.   My data is being passed to my `group_conv2d_NCHWc.x86` in the `conv2d_NCHWc` format (5D input data), rather than the GSPC format (6D input data).  Despite my changes to the x86 `_alter_conv2d_layout`.  [See this branch](https://github.com/Wheest/incubator-tvm/tree/wheest/gspc-dev-alter-op).  Some guidance or pointers would be appreciated @FrozenGene.\r\n\r\nIn the interests of more transparent development, [here's part of my test suite](https://github.com/Wheest/tvm-grouped-conv-test).","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749136716/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749189788","html_url":"https://github.com/apache/tvm/pull/7140#issuecomment-749189788","issue_url":"https://api.github.com/repos/apache/tvm/issues/7140","id":749189788,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTE4OTc4OA==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-21T20:50:03Z","updated_at":"2020-12-21T20:50:03Z","author_association":"CONTRIBUTOR","body":"Thanks @domin1985 @junrushao1994 ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749189788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749223654","html_url":"https://github.com/apache/tvm/pull/7002#issuecomment-749223654","issue_url":"https://api.github.com/repos/apache/tvm/issues/7002","id":749223654,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTIyMzY1NA==","user":{"login":"zhiics","id":5145158,"node_id":"MDQ6VXNlcjUxNDUxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/5145158?v=4","gravatar_id":"","url":"https://api.github.com/users/zhiics","html_url":"https://github.com/zhiics","followers_url":"https://api.github.com/users/zhiics/followers","following_url":"https://api.github.com/users/zhiics/following{/other_user}","gists_url":"https://api.github.com/users/zhiics/gists{/gist_id}","starred_url":"https://api.github.com/users/zhiics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhiics/subscriptions","organizations_url":"https://api.github.com/users/zhiics/orgs","repos_url":"https://api.github.com/users/zhiics/repos","events_url":"https://api.github.com/users/zhiics/events{/privacy}","received_events_url":"https://api.github.com/users/zhiics/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-21T22:07:48Z","updated_at":"2020-12-21T22:07:48Z","author_association":"MEMBER","body":"Thanks @manupa-arm @areusch ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749223654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749329511","html_url":"https://github.com/apache/tvm/pull/7132#issuecomment-749329511","issue_url":"https://api.github.com/repos/apache/tvm/issues/7132","id":749329511,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTMyOTUxMQ==","user":{"login":"FrozenGene","id":7287321,"node_id":"MDQ6VXNlcjcyODczMjE=","avatar_url":"https://avatars.githubusercontent.com/u/7287321?v=4","gravatar_id":"","url":"https://api.github.com/users/FrozenGene","html_url":"https://github.com/FrozenGene","followers_url":"https://api.github.com/users/FrozenGene/followers","following_url":"https://api.github.com/users/FrozenGene/following{/other_user}","gists_url":"https://api.github.com/users/FrozenGene/gists{/gist_id}","starred_url":"https://api.github.com/users/FrozenGene/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FrozenGene/subscriptions","organizations_url":"https://api.github.com/users/FrozenGene/orgs","repos_url":"https://api.github.com/users/FrozenGene/repos","events_url":"https://api.github.com/users/FrozenGene/events{/privacy}","received_events_url":"https://api.github.com/users/FrozenGene/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-22T04:21:37Z","updated_at":"2020-12-22T04:21:37Z","author_association":"MEMBER","body":"Thanks everyone @comaniac @jcf94 @giuseros ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749329511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749364296","html_url":"https://github.com/apache/tvm/pull/7146#issuecomment-749364296","issue_url":"https://api.github.com/repos/apache/tvm/issues/7146","id":749364296,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTM2NDI5Ng==","user":{"login":"jcf94","id":12119698,"node_id":"MDQ6VXNlcjEyMTE5Njk4","avatar_url":"https://avatars.githubusercontent.com/u/12119698?v=4","gravatar_id":"","url":"https://api.github.com/users/jcf94","html_url":"https://github.com/jcf94","followers_url":"https://api.github.com/users/jcf94/followers","following_url":"https://api.github.com/users/jcf94/following{/other_user}","gists_url":"https://api.github.com/users/jcf94/gists{/gist_id}","starred_url":"https://api.github.com/users/jcf94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcf94/subscriptions","organizations_url":"https://api.github.com/users/jcf94/orgs","repos_url":"https://api.github.com/users/jcf94/repos","events_url":"https://api.github.com/users/jcf94/events{/privacy}","received_events_url":"https://api.github.com/users/jcf94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-22T06:16:59Z","updated_at":"2020-12-22T06:16:59Z","author_association":"CONTRIBUTOR","body":"@Meteorix, great thanks for your PR! The code looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749364296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749413539","html_url":"https://github.com/apache/tvm/issues/7077#issuecomment-749413539","issue_url":"https://api.github.com/repos/apache/tvm/issues/7077","id":749413539,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTQxMzUzOQ==","user":{"login":"junrushao","id":22515877,"node_id":"MDQ6VXNlcjIyNTE1ODc3","avatar_url":"https://avatars.githubusercontent.com/u/22515877?v=4","gravatar_id":"","url":"https://api.github.com/users/junrushao","html_url":"https://github.com/junrushao","followers_url":"https://api.github.com/users/junrushao/followers","following_url":"https://api.github.com/users/junrushao/following{/other_user}","gists_url":"https://api.github.com/users/junrushao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrushao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrushao/subscriptions","organizations_url":"https://api.github.com/users/junrushao/orgs","repos_url":"https://api.github.com/users/junrushao/repos","events_url":"https://api.github.com/users/junrushao/events{/privacy}","received_events_url":"https://api.github.com/users/junrushao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-22T08:23:06Z","updated_at":"2020-12-22T08:23:06Z","author_association":"MEMBER","body":"Thanks for reporting. We use the discussion forum (https://discuss.tvm.apache.org/) for general usage issues. Please open a thread in the forum. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749413539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749413853","html_url":"https://github.com/apache/tvm/issues/7057#issuecomment-749413853","issue_url":"https://api.github.com/repos/apache/tvm/issues/7057","id":749413853,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTQxMzg1Mw==","user":{"login":"junrushao","id":22515877,"node_id":"MDQ6VXNlcjIyNTE1ODc3","avatar_url":"https://avatars.githubusercontent.com/u/22515877?v=4","gravatar_id":"","url":"https://api.github.com/users/junrushao","html_url":"https://github.com/junrushao","followers_url":"https://api.github.com/users/junrushao/followers","following_url":"https://api.github.com/users/junrushao/following{/other_user}","gists_url":"https://api.github.com/users/junrushao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrushao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrushao/subscriptions","organizations_url":"https://api.github.com/users/junrushao/orgs","repos_url":"https://api.github.com/users/junrushao/repos","events_url":"https://api.github.com/users/junrushao/events{/privacy}","received_events_url":"https://api.github.com/users/junrushao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-22T08:23:45Z","updated_at":"2020-12-22T08:23:45Z","author_association":"MEMBER","body":"AFAIK it happens when an error is thrown in the constructor. Thanks for reporting. We use the discussion forum (https://discuss.tvm.apache.org/) for general usage issues. Please open a thread in the forum. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749413853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749414663","html_url":"https://github.com/apache/tvm/issues/6931#issuecomment-749414663","issue_url":"https://api.github.com/repos/apache/tvm/issues/6931","id":749414663,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTQxNDY2Mw==","user":{"login":"junrushao","id":22515877,"node_id":"MDQ6VXNlcjIyNTE1ODc3","avatar_url":"https://avatars.githubusercontent.com/u/22515877?v=4","gravatar_id":"","url":"https://api.github.com/users/junrushao","html_url":"https://github.com/junrushao","followers_url":"https://api.github.com/users/junrushao/followers","following_url":"https://api.github.com/users/junrushao/following{/other_user}","gists_url":"https://api.github.com/users/junrushao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrushao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrushao/subscriptions","organizations_url":"https://api.github.com/users/junrushao/orgs","repos_url":"https://api.github.com/users/junrushao/repos","events_url":"https://api.github.com/users/junrushao/events{/privacy}","received_events_url":"https://api.github.com/users/junrushao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-22T08:25:27Z","updated_at":"2020-12-22T08:25:27Z","author_association":"MEMBER","body":"Thanks for reporting. We use the discussion forum (https://discuss.tvm.apache.org/) for general usage issues. Please open a thread in the forum. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749414663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749415022","html_url":"https://github.com/apache/tvm/issues/6943#issuecomment-749415022","issue_url":"https://api.github.com/repos/apache/tvm/issues/6943","id":749415022,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTQxNTAyMg==","user":{"login":"junrushao","id":22515877,"node_id":"MDQ6VXNlcjIyNTE1ODc3","avatar_url":"https://avatars.githubusercontent.com/u/22515877?v=4","gravatar_id":"","url":"https://api.github.com/users/junrushao","html_url":"https://github.com/junrushao","followers_url":"https://api.github.com/users/junrushao/followers","following_url":"https://api.github.com/users/junrushao/following{/other_user}","gists_url":"https://api.github.com/users/junrushao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrushao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrushao/subscriptions","organizations_url":"https://api.github.com/users/junrushao/orgs","repos_url":"https://api.github.com/users/junrushao/repos","events_url":"https://api.github.com/users/junrushao/events{/privacy}","received_events_url":"https://api.github.com/users/junrushao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-22T08:26:14Z","updated_at":"2020-12-22T08:26:14Z","author_association":"MEMBER","body":"Thanks for reporting. We use the discussion forum (https://discuss.tvm.apache.org/) for general usage issues. Please open a thread in the forum. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749415022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749440133","html_url":"https://github.com/apache/tvm/pull/7134#issuecomment-749440133","issue_url":"https://api.github.com/repos/apache/tvm/issues/7134","id":749440133,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTQ0MDEzMw==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-22T09:20:50Z","updated_at":"2020-12-22T09:20:50Z","author_association":"MEMBER","body":"Thanks @TylerADavis ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749440133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749495823","html_url":"https://github.com/apache/tvm/pull/7149#issuecomment-749495823","issue_url":"https://api.github.com/repos/apache/tvm/issues/7149","id":749495823,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTQ5NTgyMw==","user":{"login":"codeislife99","id":17168743,"node_id":"MDQ6VXNlcjE3MTY4NzQz","avatar_url":"https://avatars.githubusercontent.com/u/17168743?v=4","gravatar_id":"","url":"https://api.github.com/users/codeislife99","html_url":"https://github.com/codeislife99","followers_url":"https://api.github.com/users/codeislife99/followers","following_url":"https://api.github.com/users/codeislife99/following{/other_user}","gists_url":"https://api.github.com/users/codeislife99/gists{/gist_id}","starred_url":"https://api.github.com/users/codeislife99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codeislife99/subscriptions","organizations_url":"https://api.github.com/users/codeislife99/orgs","repos_url":"https://api.github.com/users/codeislife99/repos","events_url":"https://api.github.com/users/codeislife99/events{/privacy}","received_events_url":"https://api.github.com/users/codeislife99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-22T11:32:08Z","updated_at":"2020-12-22T11:32:08Z","author_association":"CONTRIBUTOR","body":"cc: @trevor-m @zhiics @comaniac @anijain2305 PTAL ! ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749495823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749529776","html_url":"https://github.com/apache/tvm/pull/7121#issuecomment-749529776","issue_url":"https://api.github.com/repos/apache/tvm/issues/7121","id":749529776,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTUyOTc3Ng==","user":{"login":"mbaret","id":55580676,"node_id":"MDQ6VXNlcjU1NTgwNjc2","avatar_url":"https://avatars.githubusercontent.com/u/55580676?v=4","gravatar_id":"","url":"https://api.github.com/users/mbaret","html_url":"https://github.com/mbaret","followers_url":"https://api.github.com/users/mbaret/followers","following_url":"https://api.github.com/users/mbaret/following{/other_user}","gists_url":"https://api.github.com/users/mbaret/gists{/gist_id}","starred_url":"https://api.github.com/users/mbaret/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbaret/subscriptions","organizations_url":"https://api.github.com/users/mbaret/orgs","repos_url":"https://api.github.com/users/mbaret/repos","events_url":"https://api.github.com/users/mbaret/events{/privacy}","received_events_url":"https://api.github.com/users/mbaret/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-22T13:03:56Z","updated_at":"2020-12-22T13:03:56Z","author_association":"CONTRIBUTOR","body":"Thanks @d-smirnov ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749529776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749724064","html_url":"https://github.com/apache/tvm/pull/7126#issuecomment-749724064","issue_url":"https://api.github.com/repos/apache/tvm/issues/7126","id":749724064,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTcyNDA2NA==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-22T19:09:41Z","updated_at":"2020-12-22T19:09:41Z","author_association":"CONTRIBUTOR","body":"@tkonolige @mbrookhart PTAL and approve or request changes explicitly. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749724064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749725438","html_url":"https://github.com/apache/tvm/pull/7149#issuecomment-749725438","issue_url":"https://api.github.com/repos/apache/tvm/issues/7149","id":749725438,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTcyNTQzOA==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-22T19:13:07Z","updated_at":"2020-12-22T19:13:07Z","author_association":"CONTRIBUTOR","body":"The Relay part LGTM. However, since I'm not familiar with the implementation of those operators, I would ask @tkonolige and @mbrookhart to review this PR.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749725438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749726587","html_url":"https://github.com/apache/tvm/pull/7086#issuecomment-749726587","issue_url":"https://api.github.com/repos/apache/tvm/issues/7086","id":749726587,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTcyNjU4Nw==","user":{"login":"jwfromm","id":9874242,"node_id":"MDQ6VXNlcjk4NzQyNDI=","avatar_url":"https://avatars.githubusercontent.com/u/9874242?v=4","gravatar_id":"","url":"https://api.github.com/users/jwfromm","html_url":"https://github.com/jwfromm","followers_url":"https://api.github.com/users/jwfromm/followers","following_url":"https://api.github.com/users/jwfromm/following{/other_user}","gists_url":"https://api.github.com/users/jwfromm/gists{/gist_id}","starred_url":"https://api.github.com/users/jwfromm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jwfromm/subscriptions","organizations_url":"https://api.github.com/users/jwfromm/orgs","repos_url":"https://api.github.com/users/jwfromm/repos","events_url":"https://api.github.com/users/jwfromm/events{/privacy}","received_events_url":"https://api.github.com/users/jwfromm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-22T19:15:29Z","updated_at":"2020-12-22T19:15:29Z","author_association":"CONTRIBUTOR","body":"I think @tqchen and @icemelon9 need to take another look to confirm that these changes look good before we can merge. I believe this solution addresses their concerns while removing the hidden reverse attribute as elegantly as possible.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749726587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749747412","html_url":"https://github.com/apache/tvm/pull/7126#issuecomment-749747412","issue_url":"https://api.github.com/repos/apache/tvm/issues/7126","id":749747412,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTc0NzQxMg==","user":{"login":"tkonolige","id":1501680,"node_id":"MDQ6VXNlcjE1MDE2ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1501680?v=4","gravatar_id":"","url":"https://api.github.com/users/tkonolige","html_url":"https://github.com/tkonolige","followers_url":"https://api.github.com/users/tkonolige/followers","following_url":"https://api.github.com/users/tkonolige/following{/other_user}","gists_url":"https://api.github.com/users/tkonolige/gists{/gist_id}","starred_url":"https://api.github.com/users/tkonolige/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tkonolige/subscriptions","organizations_url":"https://api.github.com/users/tkonolige/orgs","repos_url":"https://api.github.com/users/tkonolige/repos","events_url":"https://api.github.com/users/tkonolige/events{/privacy}","received_events_url":"https://api.github.com/users/tkonolige/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-22T19:57:28Z","updated_at":"2020-12-22T19:57:28Z","author_association":"CONTRIBUTOR","body":"@comaniac Every time I select request changes on GitHub, it switches it \"suggested changes\". Maybe because I am not a committer?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749747412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749763887","html_url":"https://github.com/apache/tvm/pull/7142#issuecomment-749763887","issue_url":"https://api.github.com/repos/apache/tvm/issues/7142","id":749763887,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTc2Mzg4Nw==","user":{"login":"Wheest","id":16022573,"node_id":"MDQ6VXNlcjE2MDIyNTcz","avatar_url":"https://avatars.githubusercontent.com/u/16022573?v=4","gravatar_id":"","url":"https://api.github.com/users/Wheest","html_url":"https://github.com/Wheest","followers_url":"https://api.github.com/users/Wheest/followers","following_url":"https://api.github.com/users/Wheest/following{/other_user}","gists_url":"https://api.github.com/users/Wheest/gists{/gist_id}","starred_url":"https://api.github.com/users/Wheest/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Wheest/subscriptions","organizations_url":"https://api.github.com/users/Wheest/orgs","repos_url":"https://api.github.com/users/Wheest/repos","events_url":"https://api.github.com/users/Wheest/events{/privacy}","received_events_url":"https://api.github.com/users/Wheest/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-22T20:36:27Z","updated_at":"2020-12-22T20:36:27Z","author_association":"CONTRIBUTOR","body":"Happy to add a test case if necessary, though I'm still to get familiar with the testing infrastructure for TVM.\r\n\r\nExisting specific TOPI conv2d implementations are tested with asymmetric padding under `tests/python/topi/python/` (e.g. [test_topi_conv2d_nchw.py#L227](https://github.com/apache/tvm/blob/main/tests/python/topi/python/test_topi_conv2d_nchw.py#L227)).\r\n\r\nThis change is just ensuring that data is held in the workload too.  If all of the existing tests pass, is that sufficient? \r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749763887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749772392","html_url":"https://github.com/apache/tvm/pull/7126#issuecomment-749772392","issue_url":"https://api.github.com/repos/apache/tvm/issues/7126","id":749772392,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTc3MjM5Mg==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-22T20:57:19Z","updated_at":"2020-12-22T20:57:19Z","author_association":"CONTRIBUTOR","body":"> @comaniac Every time I select request changes on GitHub, it switches it \"suggested changes\". Maybe because I am not a committer?\r\n\r\nYes that's the case, but we'll do our best to make sure all comments are addressed before merging.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749772392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749775593","html_url":"https://github.com/apache/tvm/pull/7142#issuecomment-749775593","issue_url":"https://api.github.com/repos/apache/tvm/issues/7142","id":749775593,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTc3NTU5Mw==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-22T21:04:52Z","updated_at":"2020-12-22T21:04:52Z","author_association":"CONTRIBUTOR","body":"As you pointed out, the workload doesn't handle asymmetric padding as the compute implementation, which looks like a bug to me. However, it never triggers CI errors before, meaning that there aren't existing test cases for it. As a result, I'm expecting to have a test case that requires this PR to pass. For example, `conv2d_avx_1x1` has `out_height = (wkl.height + 2 * HPAD - wkl.hkernel) // HSTR + 1` before this PR. Then you will get a wrong `out_height` if you provide a workload with asymmetric padding without this PR.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749775593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749822386","html_url":"https://github.com/apache/tvm/pull/7142#issuecomment-749822386","issue_url":"https://api.github.com/repos/apache/tvm/issues/7142","id":749822386,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTgyMjM4Ng==","user":{"login":"Wheest","id":16022573,"node_id":"MDQ6VXNlcjE2MDIyNTcz","avatar_url":"https://avatars.githubusercontent.com/u/16022573?v=4","gravatar_id":"","url":"https://api.github.com/users/Wheest","html_url":"https://github.com/Wheest","followers_url":"https://api.github.com/users/Wheest/followers","following_url":"https://api.github.com/users/Wheest/following{/other_user}","gists_url":"https://api.github.com/users/Wheest/gists{/gist_id}","starred_url":"https://api.github.com/users/Wheest/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Wheest/subscriptions","organizations_url":"https://api.github.com/users/Wheest/orgs","repos_url":"https://api.github.com/users/Wheest/repos","events_url":"https://api.github.com/users/Wheest/events{/privacy}","received_events_url":"https://api.github.com/users/Wheest/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-22T22:57:56Z","updated_at":"2020-12-22T22:57:56Z","author_association":"CONTRIBUTOR","body":"Thanks, I understand better what a good test for this PR would be: one that fails on the current `main` branch but not this PR.\r\n\r\nI've been working on devising a test like this, but haven't got one that fails yet.  Will keep working on it, but here's my reasoning so far:\r\n\r\nafaik the workload data is only used the creation of fallback schedules.  e.g. [for creating the `\"tile_ow\"` parameter for spatial pack convolution](https://github.com/apache/tvm/blob/main/python/tvm/topi/x86/conv2d_avx_common.py#L54).\r\n \r\nSo I imagine I would want to create a test that has padding such that something like `\"tile_ow\"` is generated with an incorrect value, creating a schedule that causes an invalid transformation.\r\n\r\ne.g. `verify_conv2d_nchw(1, 64, 8, 128, 3, 1, (6, 6, 0, 0))`\r\n\r\nIf we are to focus on NCHWc convolution, which uses `\"tile_ow\"` in its schedule (via SplitEntity with `reg` in the `_fallback_schedule`) [`python/tvm/topi/x86/conv2d_avx_common.py#L119`](https://github.com/apache/tvm/blob/main/python/tvm/topi/x86/conv2d_avx_common.py#L119).   There is no value we can set `reg` or `\"tile_ow\"` to that will cause an invalid transformation, even through silly hardcoding like `out_width = 10000` or `ow_chunk, ow_block = s[C].split(ow, factor=10000)`\r\n\r\nIt always works.  Though perhaps it suffers a performance regression? \r\n\r\nIt could be happenstance that none of the conv2d schedules make transformations that are rendered invalid by having an incorrect value for the output height/width.  That being the case, I'm unsure how I would devise a test for this.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749822386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749830449","html_url":"https://github.com/apache/tvm/pull/7142#issuecomment-749830449","issue_url":"https://api.github.com/repos/apache/tvm/issues/7142","id":749830449,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTgzMDQ0OQ==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-22T23:17:15Z","updated_at":"2020-12-22T23:17:15Z","author_association":"CONTRIBUTOR","body":"I see what you meant. How about we just simply add a test in `test_topi_conv2d_int8.py` that directly calls `fallback_schedule_cpu_common_int8` that takes a workload generated by `_get_workload`? Something like:\r\n```python\r\ndef test_worload_with_asmmetric_padding():\r\n  cfg = ...\r\n  wkl = _get_workload(...) # with asmmetric padding\r\n  int32_lanes = ...\r\n  num_int8_elements = ...\r\n  fallback_schedule_cpu_common_int8(cfg, wkl, int32_lanes, num_int8_elements)\r\n  assert cfg[\"tile_ow\"] ... # check if tile_ow candidates are the factors of the right output weight.\r\n```\r\n\r\nSo does the other ops changed by this PR.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749830449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749842135","html_url":"https://github.com/apache/tvm/pull/7153#issuecomment-749842135","issue_url":"https://api.github.com/repos/apache/tvm/issues/7153","id":749842135,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTg0MjEzNQ==","user":{"login":"junrushao","id":22515877,"node_id":"MDQ6VXNlcjIyNTE1ODc3","avatar_url":"https://avatars.githubusercontent.com/u/22515877?v=4","gravatar_id":"","url":"https://api.github.com/users/junrushao","html_url":"https://github.com/junrushao","followers_url":"https://api.github.com/users/junrushao/followers","following_url":"https://api.github.com/users/junrushao/following{/other_user}","gists_url":"https://api.github.com/users/junrushao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrushao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrushao/subscriptions","organizations_url":"https://api.github.com/users/junrushao/orgs","repos_url":"https://api.github.com/users/junrushao/repos","events_url":"https://api.github.com/users/junrushao/events{/privacy}","received_events_url":"https://api.github.com/users/junrushao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-22T23:59:43Z","updated_at":"2020-12-23T00:00:52Z","author_association":"MEMBER","body":"Thank you Tristan for the hard work! Would love to ask some questions just for clarification on the forum first :-)\r\n\r\nWould you like to also copy your bullet points to the forum as well? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749842135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749847986","html_url":"https://github.com/apache/tvm/pull/7138#issuecomment-749847986","issue_url":"https://api.github.com/repos/apache/tvm/issues/7138","id":749847986,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTg0Nzk4Ng==","user":{"login":"jroesch","id":696509,"node_id":"MDQ6VXNlcjY5NjUwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/696509?v=4","gravatar_id":"","url":"https://api.github.com/users/jroesch","html_url":"https://github.com/jroesch","followers_url":"https://api.github.com/users/jroesch/followers","following_url":"https://api.github.com/users/jroesch/following{/other_user}","gists_url":"https://api.github.com/users/jroesch/gists{/gist_id}","starred_url":"https://api.github.com/users/jroesch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jroesch/subscriptions","organizations_url":"https://api.github.com/users/jroesch/orgs","repos_url":"https://api.github.com/users/jroesch/repos","events_url":"https://api.github.com/users/jroesch/events{/privacy}","received_events_url":"https://api.github.com/users/jroesch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T00:21:43Z","updated_at":"2020-12-23T00:21:43Z","author_association":"MEMBER","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749847986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749852977","html_url":"https://github.com/apache/tvm/pull/7154#issuecomment-749852977","issue_url":"https://api.github.com/repos/apache/tvm/issues/7154","id":749852977,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTg1Mjk3Nw==","user":{"login":"zhiics","id":5145158,"node_id":"MDQ6VXNlcjUxNDUxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/5145158?v=4","gravatar_id":"","url":"https://api.github.com/users/zhiics","html_url":"https://github.com/zhiics","followers_url":"https://api.github.com/users/zhiics/followers","following_url":"https://api.github.com/users/zhiics/following{/other_user}","gists_url":"https://api.github.com/users/zhiics/gists{/gist_id}","starred_url":"https://api.github.com/users/zhiics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhiics/subscriptions","organizations_url":"https://api.github.com/users/zhiics/orgs","repos_url":"https://api.github.com/users/zhiics/repos","events_url":"https://api.github.com/users/zhiics/events{/privacy}","received_events_url":"https://api.github.com/users/zhiics/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T00:39:54Z","updated_at":"2020-12-23T00:39:54Z","author_association":"MEMBER","body":"@masahi Thanks for the perf improvement. Could you provide the CPU numbers as well?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749852977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749858279","html_url":"https://github.com/apache/tvm/pull/7154#issuecomment-749858279","issue_url":"https://api.github.com/repos/apache/tvm/issues/7154","id":749858279,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTg1ODI3OQ==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T01:01:03Z","updated_at":"2020-12-23T01:02:25Z","author_association":"MEMBER","body":"@zhiics Sure updated the description. Unfortunately I cannot claim that this is perf improvement. The regression is only 200 us on CPU, so it may be just a measurement noise, though.\r\n\r\nI have no idea why I'm not getting good speed up. IOU tests, including memory access to boxes should be definitely reduced. The only additional overhead I think of is that the input to NMS is one column wider, due to storing class ids. \r\n\r\nPerformance is not great, but I believe having access to class ids should not be a bad idea...","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749858279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749858927","html_url":"https://github.com/apache/tvm/pull/7154#issuecomment-749858927","issue_url":"https://api.github.com/repos/apache/tvm/issues/7154","id":749858927,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTg1ODkyNw==","user":{"login":"zhiics","id":5145158,"node_id":"MDQ6VXNlcjUxNDUxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/5145158?v=4","gravatar_id":"","url":"https://api.github.com/users/zhiics","html_url":"https://github.com/zhiics","followers_url":"https://api.github.com/users/zhiics/followers","following_url":"https://api.github.com/users/zhiics/following{/other_user}","gists_url":"https://api.github.com/users/zhiics/gists{/gist_id}","starred_url":"https://api.github.com/users/zhiics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhiics/subscriptions","organizations_url":"https://api.github.com/users/zhiics/orgs","repos_url":"https://api.github.com/users/zhiics/repos","events_url":"https://api.github.com/users/zhiics/events{/privacy}","received_events_url":"https://api.github.com/users/zhiics/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T01:03:14Z","updated_at":"2020-12-23T01:03:14Z","author_association":"MEMBER","body":"@masahi I think this is an plausible as well particularly it is only in the parser. @kevinthesun please help take a look as well. Thanks.   ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749858927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749860080","html_url":"https://github.com/apache/tvm/pull/7154#issuecomment-749860080","issue_url":"https://api.github.com/repos/apache/tvm/issues/7154","id":749860080,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTg2MDA4MA==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T01:07:10Z","updated_at":"2020-12-23T01:07:10Z","author_association":"MEMBER","body":"I should mention that this rewrite is not run by default, so there is no perf risk.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749860080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749941299","html_url":"https://github.com/apache/tvm/pull/7146#issuecomment-749941299","issue_url":"https://api.github.com/repos/apache/tvm/issues/7146","id":749941299,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTk0MTI5OQ==","user":{"login":"jwfromm","id":9874242,"node_id":"MDQ6VXNlcjk4NzQyNDI=","avatar_url":"https://avatars.githubusercontent.com/u/9874242?v=4","gravatar_id":"","url":"https://api.github.com/users/jwfromm","html_url":"https://github.com/jwfromm","followers_url":"https://api.github.com/users/jwfromm/followers","following_url":"https://api.github.com/users/jwfromm/following{/other_user}","gists_url":"https://api.github.com/users/jwfromm/gists{/gist_id}","starred_url":"https://api.github.com/users/jwfromm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jwfromm/subscriptions","organizations_url":"https://api.github.com/users/jwfromm/orgs","repos_url":"https://api.github.com/users/jwfromm/repos","events_url":"https://api.github.com/users/jwfromm/events{/privacy}","received_events_url":"https://api.github.com/users/jwfromm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T05:25:58Z","updated_at":"2020-12-23T05:25:58Z","author_association":"CONTRIBUTOR","body":"@Meteorix out of curiosity can you share some of your benchmarking results? I'd love to know how much faster this performs than cublas.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749941299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749952354","html_url":"https://github.com/apache/tvm/pull/7151#issuecomment-749952354","issue_url":"https://api.github.com/repos/apache/tvm/issues/7151","id":749952354,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTk1MjM1NA==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T05:57:02Z","updated_at":"2020-12-23T05:57:02Z","author_association":"CONTRIBUTOR","body":"Thanks @mbrookhart @jwfromm ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749952354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749962826","html_url":"https://github.com/apache/tvm/pull/7143#issuecomment-749962826","issue_url":"https://api.github.com/repos/apache/tvm/issues/7143","id":749962826,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTk2MjgyNg==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T06:25:09Z","updated_at":"2020-12-23T06:25:09Z","author_association":"CONTRIBUTOR","body":"Per offline discussion, we cast the abstract SearchPolicy to the actual instance so that we can pass it to the packed function.\r\n\r\n@merrymercy @jcf94 PTAL.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749962826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749974856","html_url":"https://github.com/apache/tvm/pull/7156#issuecomment-749974856","issue_url":"https://api.github.com/repos/apache/tvm/issues/7156","id":749974856,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTk3NDg1Ng==","user":{"login":"jcf94","id":12119698,"node_id":"MDQ6VXNlcjEyMTE5Njk4","avatar_url":"https://avatars.githubusercontent.com/u/12119698?v=4","gravatar_id":"","url":"https://api.github.com/users/jcf94","html_url":"https://github.com/jcf94","followers_url":"https://api.github.com/users/jcf94/followers","following_url":"https://api.github.com/users/jcf94/following{/other_user}","gists_url":"https://api.github.com/users/jcf94/gists{/gist_id}","starred_url":"https://api.github.com/users/jcf94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcf94/subscriptions","organizations_url":"https://api.github.com/users/jcf94/orgs","repos_url":"https://api.github.com/users/jcf94/repos","events_url":"https://api.github.com/users/jcf94/events{/privacy}","received_events_url":"https://api.github.com/users/jcf94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T06:59:05Z","updated_at":"2020-12-23T06:59:05Z","author_association":"CONTRIBUTOR","body":"Will update the log version after #7144 since this PR has modified the log structure of SearchTask.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749974856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749989310","html_url":"https://github.com/apache/tvm/pull/7145#issuecomment-749989310","issue_url":"https://api.github.com/repos/apache/tvm/issues/7145","id":749989310,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTk4OTMxMA==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T07:40:35Z","updated_at":"2020-12-23T07:40:35Z","author_association":"CONTRIBUTOR","body":"Per offline discussion, now we only support (de)serialization of ComputeDAG constructed by compute, because this limitation can largely simplify the design.\r\n\r\n@merrymercy @jcf94 PTAL.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/749989310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750293513","html_url":"https://github.com/apache/tvm/pull/7142#issuecomment-750293513","issue_url":"https://api.github.com/repos/apache/tvm/issues/7142","id":750293513,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDI5MzUxMw==","user":{"login":"Wheest","id":16022573,"node_id":"MDQ6VXNlcjE2MDIyNTcz","avatar_url":"https://avatars.githubusercontent.com/u/16022573?v=4","gravatar_id":"","url":"https://api.github.com/users/Wheest","html_url":"https://github.com/Wheest","followers_url":"https://api.github.com/users/Wheest/followers","following_url":"https://api.github.com/users/Wheest/following{/other_user}","gists_url":"https://api.github.com/users/Wheest/gists{/gist_id}","starred_url":"https://api.github.com/users/Wheest/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Wheest/subscriptions","organizations_url":"https://api.github.com/users/Wheest/orgs","repos_url":"https://api.github.com/users/Wheest/repos","events_url":"https://api.github.com/users/Wheest/events{/privacy}","received_events_url":"https://api.github.com/users/Wheest/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T13:07:55Z","updated_at":"2020-12-23T17:47:54Z","author_association":"CONTRIBUTOR","body":"Thanks for the tip! I've added a test for `conv2d_nchw_int8`, with a structure much like you suggested.  It fails in `main`, but is fixed in this PR.  Through the test, I identified a silly mistake I had made in the workload definition in the original commit, now fixed.\r\n\r\nDoes the style of this test meet the standards you expect?  E.g. is the test being called as a nested function of `verify_conv2d_nchw_int8` the right place for this?\r\n\r\nIf so, I will add a similar test for all of the ops touched by this PR.  Otherwise, happy to take some suggestions on how to improve this test before I reproduce it elsewhere.\r\n\r\n*EDIT* \r\nCI still failed, I should have run *all* tests locally, rather than just the one I added.  I have discovered that dilation is also not used in the workload, so this PR will also add dilation to avoid this issue.  Will push the fix when available, earlier question about the test standard remains.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750293513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750325140","html_url":"https://github.com/apache/tvm/pull/7148#issuecomment-750325140","issue_url":"https://api.github.com/repos/apache/tvm/issues/7148","id":750325140,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDMyNTE0MA==","user":{"login":"ANSHUMAN87","id":32511895,"node_id":"MDQ6VXNlcjMyNTExODk1","avatar_url":"https://avatars.githubusercontent.com/u/32511895?v=4","gravatar_id":"","url":"https://api.github.com/users/ANSHUMAN87","html_url":"https://github.com/ANSHUMAN87","followers_url":"https://api.github.com/users/ANSHUMAN87/followers","following_url":"https://api.github.com/users/ANSHUMAN87/following{/other_user}","gists_url":"https://api.github.com/users/ANSHUMAN87/gists{/gist_id}","starred_url":"https://api.github.com/users/ANSHUMAN87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ANSHUMAN87/subscriptions","organizations_url":"https://api.github.com/users/ANSHUMAN87/orgs","repos_url":"https://api.github.com/users/ANSHUMAN87/repos","events_url":"https://api.github.com/users/ANSHUMAN87/events{/privacy}","received_events_url":"https://api.github.com/users/ANSHUMAN87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T14:31:20Z","updated_at":"2020-12-23T14:31:20Z","author_association":"CONTRIBUTOR","body":"> What was the issue holding up CSR scheduling?\r\n> \r\n> We already talked about performance for this right?\r\n\r\nCuda scheduling for Sparse_dense Op is internally changed to Sparse_dense_padded. But it works only when multiple of warp_size, but if it is lower than that, there is no fallback scheduling for CSR, so i have resolved that part here. Please let me know in case i am not clear. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750325140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750325168","html_url":"https://github.com/apache/tvm/pull/7146#issuecomment-750325168","issue_url":"https://api.github.com/repos/apache/tvm/issues/7146","id":750325168,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDMyNTE2OA==","user":{"login":"merrymercy","id":15100009,"node_id":"MDQ6VXNlcjE1MTAwMDA5","avatar_url":"https://avatars.githubusercontent.com/u/15100009?v=4","gravatar_id":"","url":"https://api.github.com/users/merrymercy","html_url":"https://github.com/merrymercy","followers_url":"https://api.github.com/users/merrymercy/followers","following_url":"https://api.github.com/users/merrymercy/following{/other_user}","gists_url":"https://api.github.com/users/merrymercy/gists{/gist_id}","starred_url":"https://api.github.com/users/merrymercy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrymercy/subscriptions","organizations_url":"https://api.github.com/users/merrymercy/orgs","repos_url":"https://api.github.com/users/merrymercy/repos","events_url":"https://api.github.com/users/merrymercy/events{/privacy}","received_events_url":"https://api.github.com/users/merrymercy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T14:31:25Z","updated_at":"2020-12-23T14:31:25Z","author_association":"MEMBER","body":"cc tensor core maintainers @vinx13 @Laurawly  @Hzfengsy ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750325168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750359357","html_url":"https://github.com/apache/tvm/pull/7048#issuecomment-750359357","issue_url":"https://api.github.com/repos/apache/tvm/issues/7048","id":750359357,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDM1OTM1Nw==","user":{"login":"ANSHUMAN87","id":32511895,"node_id":"MDQ6VXNlcjMyNTExODk1","avatar_url":"https://avatars.githubusercontent.com/u/32511895?v=4","gravatar_id":"","url":"https://api.github.com/users/ANSHUMAN87","html_url":"https://github.com/ANSHUMAN87","followers_url":"https://api.github.com/users/ANSHUMAN87/followers","following_url":"https://api.github.com/users/ANSHUMAN87/following{/other_user}","gists_url":"https://api.github.com/users/ANSHUMAN87/gists{/gist_id}","starred_url":"https://api.github.com/users/ANSHUMAN87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ANSHUMAN87/subscriptions","organizations_url":"https://api.github.com/users/ANSHUMAN87/orgs","repos_url":"https://api.github.com/users/ANSHUMAN87/repos","events_url":"https://api.github.com/users/ANSHUMAN87/events{/privacy}","received_events_url":"https://api.github.com/users/ANSHUMAN87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T15:50:14Z","updated_at":"2020-12-23T15:50:14Z","author_association":"CONTRIBUTOR","body":"I have added TODO to use sparse_to_dense Op as well to enable user to have Sparse weights in store rather than Dense weight when board onto TVM.\r\n\r\nI believe this PR is ready to be merged. Unless any further comment.\r\n@zhiics , @FrozenGene : Would you please help proceed with the PR. TIA!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750359357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750365916","html_url":"https://github.com/apache/tvm/pull/7149#issuecomment-750365916","issue_url":"https://api.github.com/repos/apache/tvm/issues/7149","id":750365916,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDM2NTkxNg==","user":{"login":"ANSHUMAN87","id":32511895,"node_id":"MDQ6VXNlcjMyNTExODk1","avatar_url":"https://avatars.githubusercontent.com/u/32511895?v=4","gravatar_id":"","url":"https://api.github.com/users/ANSHUMAN87","html_url":"https://github.com/ANSHUMAN87","followers_url":"https://api.github.com/users/ANSHUMAN87/followers","following_url":"https://api.github.com/users/ANSHUMAN87/following{/other_user}","gists_url":"https://api.github.com/users/ANSHUMAN87/gists{/gist_id}","starred_url":"https://api.github.com/users/ANSHUMAN87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ANSHUMAN87/subscriptions","organizations_url":"https://api.github.com/users/ANSHUMAN87/orgs","repos_url":"https://api.github.com/users/ANSHUMAN87/repos","events_url":"https://api.github.com/users/ANSHUMAN87/events{/privacy}","received_events_url":"https://api.github.com/users/ANSHUMAN87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T16:06:06Z","updated_at":"2020-12-23T16:06:06Z","author_association":"CONTRIBUTOR","body":"> One thing I missed on previous PRs, is that this is a new op. That means we should follow https://tvm.apache.org/docs/contribute/code_review.html#deliberate-on-api-and-data-structures. @codeislife99 could you do the following:\r\n> \r\n>     1. write up the differences between tf, pytorch, and mxnets's versions of this operation.\r\n> \r\n>     2. If this operation is TF specific, can it be implemented just using existing relay operators?\r\n> \r\n>     3. Answer these same questions for all the other sparse PRs you currently have open.\r\n> \r\n> \r\n> Given we are adding so many sparse operations, I think there are a couple of questions to answer:\r\n> \r\n>     1. Should we create a new module for sparse operations in `tvm.relay`? i.e. `tvm.relay.sparse`\r\n> \r\n>     2. Instead of hard coding add these specific one-off sparse operations, should we take a high level approach like XLA?\r\n> \r\n> \r\n> @tqchen @jroesch @ANSHUMAN87 (please ping anyone else who has been working on sparse, not sure if I got everyone).\r\n> \r\n> It may be worth discussing this on discuss.\r\n\r\nThanks @tkonolige! I am in total agreement with the points you have shared. All these points need to be concluded. \r\nI am already looking into these points as part of my plan for Sparse feature in TVM. Hopefully will be able to share a brief plan soon :slightly_smiling_face: ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750365916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750376423","html_url":"https://github.com/apache/tvm/pull/7154#issuecomment-750376423","issue_url":"https://api.github.com/repos/apache/tvm/issues/7154","id":750376423,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDM3NjQyMw==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T16:33:43Z","updated_at":"2020-12-23T16:33:43Z","author_association":"CONTRIBUTOR","body":"This is a bit of a shot in the dark.\r\n\r\nI wonder if we're memory access limited, and so that's why you don't see a performance improvement.\r\n\r\nWhen we do the nested loop, we always have to check if the id of instance k matches the id of instance j. Since the input shape is (batch_size, num_anchors, features), and features = 6 here, I wouldn't be surprised if checking the instance of k ends up reading all of the features of k into registers, and that memory read is the expensive operation. Once it's in memory, actually doing the iou calculation is relatively cheap, so skipping it doesn't help that much.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750376423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750415923","html_url":"https://github.com/apache/tvm/issues/7155#issuecomment-750415923","issue_url":"https://api.github.com/repos/apache/tvm/issues/7155","id":750415923,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDQxNTkyMw==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T18:13:41Z","updated_at":"2020-12-23T18:13:41Z","author_association":"CONTRIBUTOR","body":"Thanks for the proposal. Could you send a PR?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750415923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750418614","html_url":"https://github.com/apache/tvm/pull/7143#issuecomment-750418614","issue_url":"https://api.github.com/repos/apache/tvm/issues/7143","id":750418614,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDQxODYxNA==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T18:21:51Z","updated_at":"2020-12-23T18:21:51Z","author_association":"CONTRIBUTOR","body":"I also took a look at the `SearchCallback` (it should be named to something like `PreSearchCallback` because it will be called once in the beginning of search instead of every round) but decided not to add a Python interface in this PR. Since we don't expose useful SearchPolicy APIs to Python, the Python-based callback can do nothing at this moment. Meanwhile, it's worthwhile to consider `PreloadCustomSketchRule` as @antinucleon suggested in another PR.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750418614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750438126","html_url":"https://github.com/apache/tvm/pull/7137#issuecomment-750438126","issue_url":"https://api.github.com/repos/apache/tvm/issues/7137","id":750438126,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDQzODEyNg==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T19:19:41Z","updated_at":"2020-12-24T01:36:41Z","author_association":"MEMBER","body":"@kevinthesun @zhiics I asked torchvision people about boxes with negative scores in https://github.com/pytorch/vision/issues/3198 and now I fully understand the issue. See in particular this great answer https://github.com/pytorch/vision/issues/3198#issuecomment-750346278\r\n\r\nMy conclusion is that TVM's conversion rule for PyTorch NMS is definitely wrong and needs fixing. Here is my take away from the above discussion:\r\n\r\n* PyTorch detection model has two use of NMS - one in `ROIHead` and another in `RegionProposalNetwork`.\r\n* NMS scores in `ROIHead` are probability. There, they do score thresholding with user-chosen threshold before NMS. This NMS doesn't send boxes with negative scores to TVM.\r\n* NMS scores in `RegionProposalNetwork` correspond to \"objectness\" and they don't apply softmax or sigmoid to the output from objectness network. The scores are estimate of [logit function](https://en.wikipedia.org/wiki/Logit) and negative logit totally makes sense - it just mean probability is < 0.5. So a  totally reasonable box can end up having a negative score. We **shouldn't** arbitrarily cut negative boxes from RPN.\r\n\r\nIt's highly possible that one of the reasons you didn't get the same output from pytorch detection models after compiling to TVM is due to this incorrect assumption we've been making about negative boxes, because RPN output in PyTorch/TVM are totally different - we are only considering only about half of them.\r\n\r\nThe good news is, I found a way to reduce the number of boxes that are sent to NMS. See these parameters https://github.com/pytorch/vision/blob/master/torchvision/models/detection/mask_rcnn.py#L68-L71. They are something like `topk` parameter for each classes separately. The default is 1000, and there are five classes/levels in RPN NMS. So that explain why we are getting about 4500 boxes to RPN NMS. If we set the `rpn_pre_nms_top_n_train` to 200, we will get at most 1000 boxes, 200 boxes for each level in the feature pyramid. That will significantly make detection model go faster and still consider a lot of boxes to keep accuracy high.\r\n\r\nSo please take a look at the above issue in torchvision and my comment carefully and let's go ahead and merge this. \r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750438126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750438905","html_url":"https://github.com/apache/tvm/pull/7149#issuecomment-750438905","issue_url":"https://api.github.com/repos/apache/tvm/issues/7149","id":750438905,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDQzODkwNQ==","user":{"login":"antinucleon","id":1258974,"node_id":"MDQ6VXNlcjEyNTg5NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1258974?v=4","gravatar_id":"","url":"https://api.github.com/users/antinucleon","html_url":"https://github.com/antinucleon","followers_url":"https://api.github.com/users/antinucleon/followers","following_url":"https://api.github.com/users/antinucleon/following{/other_user}","gists_url":"https://api.github.com/users/antinucleon/gists{/gist_id}","starred_url":"https://api.github.com/users/antinucleon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/antinucleon/subscriptions","organizations_url":"https://api.github.com/users/antinucleon/orgs","repos_url":"https://api.github.com/users/antinucleon/repos","events_url":"https://api.github.com/users/antinucleon/events{/privacy}","received_events_url":"https://api.github.com/users/antinucleon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T19:22:03Z","updated_at":"2020-12-23T19:22:03Z","author_association":"CONTRIBUTOR","body":"> One thing I missed on previous PRs, is that this is a new op. That means we should follow https://tvm.apache.org/docs/contribute/code_review.html#deliberate-on-api-and-data-structures. @codeislife99 could you do the following:\r\n> \r\n> 1. write up the differences between tf, pytorch, and mxnets's versions of this operation.\r\n> 2. If this operation is TF specific, can it be implemented just using existing relay operators?\r\n> 3. Answer these same questions for all the other sparse PRs you currently have open.\r\n> \r\n> Given we are adding so many sparse operations, I think there are a couple of questions to answer:\r\n> \r\n> 1. Should we create a new module for sparse operations in `tvm.relay`? i.e. `tvm.relay.sparse`\r\n> 2. Instead of hard coding add these specific one-off sparse operations, should we take a high level approach like XLA?\r\n> \r\n> @tqchen @jroesch @ANSHUMAN87 (please ping anyone else who has been working on sparse, not sure if I got everyone).\r\n> \r\n> It may be worth discussing this on discuss.\r\n\r\n1. I am against to over document here. If the target is for TF frontend, why requires comparison to all framework? Link to the TF is fine.\r\n\r\n2. What do you mean by high level approach like XLA?\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750438905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750441687","html_url":"https://github.com/apache/tvm/pull/7153#issuecomment-750441687","issue_url":"https://api.github.com/repos/apache/tvm/issues/7153","id":750441687,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDQ0MTY4Nw==","user":{"login":"junrushao","id":22515877,"node_id":"MDQ6VXNlcjIyNTE1ODc3","avatar_url":"https://avatars.githubusercontent.com/u/22515877?v=4","gravatar_id":"","url":"https://api.github.com/users/junrushao","html_url":"https://github.com/junrushao","followers_url":"https://api.github.com/users/junrushao/followers","following_url":"https://api.github.com/users/junrushao/following{/other_user}","gists_url":"https://api.github.com/users/junrushao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrushao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrushao/subscriptions","organizations_url":"https://api.github.com/users/junrushao/orgs","repos_url":"https://api.github.com/users/junrushao/repos","events_url":"https://api.github.com/users/junrushao/events{/privacy}","received_events_url":"https://api.github.com/users/junrushao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T19:30:41Z","updated_at":"2020-12-23T19:30:41Z","author_association":"MEMBER","body":"I am not the best guy to review the cmake scripts and the cross-platform part (especially windows). I know a really expert @rkimball - would you like to take a second look if you have time? Thanks a lot!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750441687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750454227","html_url":"https://github.com/apache/tvm/pull/7149#issuecomment-750454227","issue_url":"https://api.github.com/repos/apache/tvm/issues/7149","id":750454227,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDQ1NDIyNw==","user":{"login":"tkonolige","id":1501680,"node_id":"MDQ6VXNlcjE1MDE2ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1501680?v=4","gravatar_id":"","url":"https://api.github.com/users/tkonolige","html_url":"https://github.com/tkonolige","followers_url":"https://api.github.com/users/tkonolige/followers","following_url":"https://api.github.com/users/tkonolige/following{/other_user}","gists_url":"https://api.github.com/users/tkonolige/gists{/gist_id}","starred_url":"https://api.github.com/users/tkonolige/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tkonolige/subscriptions","organizations_url":"https://api.github.com/users/tkonolige/orgs","repos_url":"https://api.github.com/users/tkonolige/repos","events_url":"https://api.github.com/users/tkonolige/events{/privacy}","received_events_url":"https://api.github.com/users/tkonolige/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T20:08:01Z","updated_at":"2020-12-23T20:08:01Z","author_association":"CONTRIBUTOR","body":"1. I was just following guidelines that I saw here: https://github.com/apache/tvm/pull/6794#issuecomment-719094251.\r\n2. Sorry, not XLA, MLIR. They are taking a TACO approach to sparse matrices https://llvm.discourse.group/t/mlir-support-for-sparse-tensors/2020","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750454227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750466642","html_url":"https://github.com/apache/tvm/pull/7157#issuecomment-750466642","issue_url":"https://api.github.com/repos/apache/tvm/issues/7157","id":750466642,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDQ2NjY0Mg==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T20:43:56Z","updated_at":"2020-12-23T22:04:41Z","author_association":"CONTRIBUTOR","body":"I definitely didn't promise to be faster than thrust with #7099, just faster that what we had in TIR :)","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750466642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750472477","html_url":"https://github.com/apache/tvm/pull/7149#issuecomment-750472477","issue_url":"https://api.github.com/repos/apache/tvm/issues/7149","id":750472477,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDQ3MjQ3Nw==","user":{"login":"tqchen","id":2577440,"node_id":"MDQ6VXNlcjI1Nzc0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/2577440?v=4","gravatar_id":"","url":"https://api.github.com/users/tqchen","html_url":"https://github.com/tqchen","followers_url":"https://api.github.com/users/tqchen/followers","following_url":"https://api.github.com/users/tqchen/following{/other_user}","gists_url":"https://api.github.com/users/tqchen/gists{/gist_id}","starred_url":"https://api.github.com/users/tqchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tqchen/subscriptions","organizations_url":"https://api.github.com/users/tqchen/orgs","repos_url":"https://api.github.com/users/tqchen/repos","events_url":"https://api.github.com/users/tqchen/events{/privacy}","received_events_url":"https://api.github.com/users/tqchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T21:00:47Z","updated_at":"2020-12-23T21:02:07Z","author_association":"MEMBER","body":"Thanks for the discussion so far. In this particular case I agree that having an API review is reasonable(check the possible references in different frameworks).  \r\n\r\nIt would be great to keep the discussion to this PR and particular operator, so that we can move on constructively :) \r\nThe overall discussion of namespace and other approaches could use a separate thread\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750472477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750473094","html_url":"https://github.com/apache/tvm/pull/7157#issuecomment-750473094","issue_url":"https://api.github.com/repos/apache/tvm/issues/7157","id":750473094,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDQ3MzA5NA==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T21:02:39Z","updated_at":"2020-12-23T21:02:55Z","author_association":"MEMBER","body":"Ok here it is. I think TIR numbers for 5000 and 10000 agree with the ones you had in https://github.com/apache/tvm/pull/7099\r\n\r\n|  size |  current (sequential) | via thrust radix sort | via TIR merge sort\r\n| ---- | ---- | ---- | ---- |\r\n|  5000  |  0.169332 | 0.168660 | 5.319211  \r\n| 10000   | 0.301014   | 0.172381 | 10.534689\r\n| 25000   | 0.730493   | 0.169007| 22.173880\r\n| 50000   | 1.457996   | 0.315582| 44.466231\r\n| 100000   | 2.943622   | 0.395291| 101.347441\r\n| 500000   | 24.262521   | 1.254097| 481.400628\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750473094/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":2,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750482630","html_url":"https://github.com/apache/tvm/issues/7104#issuecomment-750482630","issue_url":"https://api.github.com/repos/apache/tvm/issues/7104","id":750482630,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDQ4MjYzMA==","user":{"login":"u99127","id":19559067,"node_id":"MDQ6VXNlcjE5NTU5MDY3","avatar_url":"https://avatars.githubusercontent.com/u/19559067?v=4","gravatar_id":"","url":"https://api.github.com/users/u99127","html_url":"https://github.com/u99127","followers_url":"https://api.github.com/users/u99127/followers","following_url":"https://api.github.com/users/u99127/following{/other_user}","gists_url":"https://api.github.com/users/u99127/gists{/gist_id}","starred_url":"https://api.github.com/users/u99127/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/u99127/subscriptions","organizations_url":"https://api.github.com/users/u99127/orgs","repos_url":"https://api.github.com/users/u99127/repos","events_url":"https://api.github.com/users/u99127/events{/privacy}","received_events_url":"https://api.github.com/users/u99127/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T21:34:41Z","updated_at":"2020-12-23T21:34:41Z","author_association":"CONTRIBUTOR","body":"What does the code for the version that \"works\" with native llvm look like ? Is the only difference the ACL partitioning ? Can I suggest trying out a tflite file or a model that is already known to work ? \r\n\r\nBTW we are currently making this work with ACL 20.11 but all our testing has been on GNU/Linux with AArch64 file systems so  it might make sense to try and reduce the differences as much as possible first. \r\n\r\nregards\r\nRamana\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750482630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750491074","html_url":"https://github.com/apache/tvm/pull/7157#issuecomment-750491074","issue_url":"https://api.github.com/repos/apache/tvm/issues/7157","id":750491074,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDQ5MTA3NA==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T22:05:31Z","updated_at":"2020-12-23T22:05:31Z","author_association":"CONTRIBUTOR","body":"Yep, this matches the scaling I would expect with that algorithm. I'm kind of surprised that sequential scatter isn't worse than it is. I'm looking for ways to improve the mergesort, but I haven't found a good idea that we can implement in TIR yet, what I've seen requries a `while` loop.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750491074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750491271","html_url":"https://github.com/apache/tvm/pull/7123#issuecomment-750491271","issue_url":"https://api.github.com/repos/apache/tvm/issues/7123","id":750491271,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDQ5MTI3MQ==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T22:06:23Z","updated_at":"2020-12-23T22:06:23Z","author_association":"CONTRIBUTOR","body":"ping @Laurawly, any chance you could take a look?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750491271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750498301","html_url":"https://github.com/apache/tvm/pull/7157#issuecomment-750498301","issue_url":"https://api.github.com/repos/apache/tvm/issues/7157","id":750498301,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDQ5ODMwMQ==","user":{"login":"zhiics","id":5145158,"node_id":"MDQ6VXNlcjUxNDUxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/5145158?v=4","gravatar_id":"","url":"https://api.github.com/users/zhiics","html_url":"https://github.com/zhiics","followers_url":"https://api.github.com/users/zhiics/followers","following_url":"https://api.github.com/users/zhiics/following{/other_user}","gists_url":"https://api.github.com/users/zhiics/gists{/gist_id}","starred_url":"https://api.github.com/users/zhiics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhiics/subscriptions","organizations_url":"https://api.github.com/users/zhiics/orgs","repos_url":"https://api.github.com/users/zhiics/repos","events_url":"https://api.github.com/users/zhiics/events{/privacy}","received_events_url":"https://api.github.com/users/zhiics/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T22:34:24Z","updated_at":"2020-12-23T22:34:24Z","author_association":"MEMBER","body":"Thanks @masahi @mbrookhart @Laurawly ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750498301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750523461","html_url":"https://github.com/apache/tvm/pull/7137#issuecomment-750523461","issue_url":"https://api.github.com/repos/apache/tvm/issues/7137","id":750523461,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDUyMzQ2MQ==","user":{"login":"zhiics","id":5145158,"node_id":"MDQ6VXNlcjUxNDUxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/5145158?v=4","gravatar_id":"","url":"https://api.github.com/users/zhiics","html_url":"https://github.com/zhiics","followers_url":"https://api.github.com/users/zhiics/followers","following_url":"https://api.github.com/users/zhiics/following{/other_user}","gists_url":"https://api.github.com/users/zhiics/gists{/gist_id}","starred_url":"https://api.github.com/users/zhiics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhiics/subscriptions","organizations_url":"https://api.github.com/users/zhiics/orgs","repos_url":"https://api.github.com/users/zhiics/repos","events_url":"https://api.github.com/users/zhiics/events{/privacy}","received_events_url":"https://api.github.com/users/zhiics/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T22:57:35Z","updated_at":"2020-12-23T22:57:35Z","author_association":"MEMBER","body":"@masahi I see the problem now. Thanks for following up with the PyTorch community and fixing out the root cause. Ping @larrywyang @yongwww, please take a look since you worked on NMS more than others before. ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750523461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750589039","html_url":"https://github.com/apache/tvm/pull/7154#issuecomment-750589039","issue_url":"https://api.github.com/repos/apache/tvm/issues/7154","id":750589039,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDU4OTAzOQ==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T23:50:27Z","updated_at":"2020-12-24T00:26:27Z","author_association":"MEMBER","body":"> When we do the nested loop, we always have to check if the id of instance k matches the id of instance j. Since the input shape is (batch_size, num_anchors, features), and features = 6 here, I wouldn't be surprised if checking the instance of k ends up reading all of the features of k into registers, and that memory read is the expensive operation. Once it's in memory, actually doing the iou calculation is relatively cheap, so skipping it doesn't help that much.\r\n\r\nThat's highly possible. Looking at this if condition in the triangle inner loop:\r\nhttps://github.com/apache/tvm/blob/9956b5b859a24c8f4dec1abf308723b1257ffc66/python/tvm/topi/cuda/nms.py#L535-L540\r\n\r\npreviously, `force_suppress` is always True, so this condition short circuit and access to `out[base_idx + offset_k + id_index]` and `out[base_idx + offset_j + id_index]` just below never happen. But now, to make NMS class aware, I had to change `force_suppress` to False, and now access to `out[base_idx + offset_k + id_index]` and `out[base_idx + offset_j + id_index]` always happen. This may be cancelling the speedup from reduced IOU tests. Storing the class IDs in a different 1D tensor may help. \r\n\r\nThat brings me to one of my pain points with our NMS API: I belieave our NMS API needs to be reworked. The current way of packing class ids and scores together with bbox coordinates is a design mistake that we inherited from MXNet. To store class ids, I have to cast ids to float32, update and pass `id_index` appropriately. Since our NMS API also requires scores to be packed with bbox, I had to update `score_index` too and all frontends except MXNet needs to do this concatenation. The worst part is that in NMS IR, the very first thing we do is the extraction 1D score tensor from packed data. So I see no good reason to pack score tensor and bbox coordinates.\r\n                            ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750589039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750694208","html_url":"https://github.com/apache/tvm/pull/7137#issuecomment-750694208","issue_url":"https://api.github.com/repos/apache/tvm/issues/7137","id":750694208,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDY5NDIwOA==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T01:19:56Z","updated_at":"2020-12-24T01:40:16Z","author_association":"MEMBER","body":"@zhiics @kevinthesun @yongwww \r\n\r\nGreat news!! I've just checked that with this fix, we can now get the same number of output boxes from pytorch and TVM, which enables meaningful comparison of two outputs. We can do `assert_equal` with high precision on bbox coordinates and scores. Class ids are identical. Tested on both LLVM and CUDA target.\r\n\r\n See the updated `test_object_detection.py`. I also added an example of setting `rpn_pre_nms_top_n_test` explicitly. Compared to the default value of 1000, using 200 the runtime of GPU NMS drops from 2 seconds to  90 milliseconds. ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750694208/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750699810","html_url":"https://github.com/apache/tvm/pull/7143#issuecomment-750699810","issue_url":"https://api.github.com/repos/apache/tvm/issues/7143","id":750699810,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDY5OTgxMA==","user":{"login":"jcf94","id":12119698,"node_id":"MDQ6VXNlcjEyMTE5Njk4","avatar_url":"https://avatars.githubusercontent.com/u/12119698?v=4","gravatar_id":"","url":"https://api.github.com/users/jcf94","html_url":"https://github.com/jcf94","followers_url":"https://api.github.com/users/jcf94/followers","following_url":"https://api.github.com/users/jcf94/following{/other_user}","gists_url":"https://api.github.com/users/jcf94/gists{/gist_id}","starred_url":"https://api.github.com/users/jcf94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcf94/subscriptions","organizations_url":"https://api.github.com/users/jcf94/orgs","repos_url":"https://api.github.com/users/jcf94/repos","events_url":"https://api.github.com/users/jcf94/events{/privacy}","received_events_url":"https://api.github.com/users/jcf94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T01:46:43Z","updated_at":"2020-12-24T01:46:43Z","author_association":"CONTRIBUTOR","body":"> I also took a look at the `SearchCallback` (it should be named to something like `PreSearchCallback` because it will be called once in the beginning of search instead of every round) but decided not to add a Python interface in this PR. Since we don't expose useful SearchPolicy APIs to Python, the Python-based callback can do nothing at this moment. Meanwhile, it's worthwhile to consider `PreloadCustomSketchRule` as @antinucleon suggested in another PR.\r\n\r\nActually we already have a `init_search_callbacks` in the constructor function of SearchPolicy which will be called before the search process. And we also have the `PreloadCustomSketchRule` in our dev repo ...","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750699810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750700286","html_url":"https://github.com/apache/tvm/pull/7143#issuecomment-750700286","issue_url":"https://api.github.com/repos/apache/tvm/issues/7143","id":750700286,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDcwMDI4Ng==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T01:49:06Z","updated_at":"2020-12-24T01:49:06Z","author_association":"CONTRIBUTOR","body":"> Actually we already have a `init_search_callbacks` in the constructor function of SearchPolicy which will be called before the search process. And we also have the `PreloadCustomSketchRule` in our dev repo ...\r\n\r\nYeah that's why I bring up this, but my point is these callbacks are C-based instead of Python so there are not that convenient for users to experiment.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750700286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750702471","html_url":"https://github.com/apache/tvm/pull/7137#issuecomment-750702471","issue_url":"https://api.github.com/repos/apache/tvm/issues/7137","id":750702471,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDcwMjQ3MQ==","user":{"login":"zhiics","id":5145158,"node_id":"MDQ6VXNlcjUxNDUxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/5145158?v=4","gravatar_id":"","url":"https://api.github.com/users/zhiics","html_url":"https://github.com/zhiics","followers_url":"https://api.github.com/users/zhiics/followers","following_url":"https://api.github.com/users/zhiics/following{/other_user}","gists_url":"https://api.github.com/users/zhiics/gists{/gist_id}","starred_url":"https://api.github.com/users/zhiics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhiics/subscriptions","organizations_url":"https://api.github.com/users/zhiics/orgs","repos_url":"https://api.github.com/users/zhiics/repos","events_url":"https://api.github.com/users/zhiics/events{/privacy}","received_events_url":"https://api.github.com/users/zhiics/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T01:58:27Z","updated_at":"2020-12-24T01:58:55Z","author_association":"MEMBER","body":"BTW, could you please run the Mask R-CNN benchmark to see if there is any big performance difference? There is a tutorial for it.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750702471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750704235","html_url":"https://github.com/apache/tvm/pull/7137#issuecomment-750704235","issue_url":"https://api.github.com/repos/apache/tvm/issues/7137","id":750704235,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDcwNDIzNQ==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T02:06:27Z","updated_at":"2020-12-24T02:07:53Z","author_association":"MEMBER","body":"@zhiics What before and after you want to know? With this change, we need to set `rpn_pre_nms_top_n_test` to lower values to get reasonable performance. \r\n\r\nI don't think comparison to old code is meaningful because it is not doing the right thing. The old code is surely faster, but that's because we were cheating.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750704235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750704577","html_url":"https://github.com/apache/tvm/pull/7143#issuecomment-750704577","issue_url":"https://api.github.com/repos/apache/tvm/issues/7143","id":750704577,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDcwNDU3Nw==","user":{"login":"jcf94","id":12119698,"node_id":"MDQ6VXNlcjEyMTE5Njk4","avatar_url":"https://avatars.githubusercontent.com/u/12119698?v=4","gravatar_id":"","url":"https://api.github.com/users/jcf94","html_url":"https://github.com/jcf94","followers_url":"https://api.github.com/users/jcf94/followers","following_url":"https://api.github.com/users/jcf94/following{/other_user}","gists_url":"https://api.github.com/users/jcf94/gists{/gist_id}","starred_url":"https://api.github.com/users/jcf94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcf94/subscriptions","organizations_url":"https://api.github.com/users/jcf94/orgs","repos_url":"https://api.github.com/users/jcf94/repos","events_url":"https://api.github.com/users/jcf94/events{/privacy}","received_events_url":"https://api.github.com/users/jcf94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T02:07:51Z","updated_at":"2020-12-24T02:09:35Z","author_association":"CONTRIBUTOR","body":"> > Actually we already have a `init_search_callbacks` in the constructor function of SearchPolicy which will be called before the search process. And we also have the `PreloadCustomSketchRule` in our dev repo ...\r\n> \r\n> Yeah that's why I bring up this, but my point is these callbacks are C-based instead of Python so there are not that convenient for users to experiment.\r\n\r\nOh, I find that comment: https://github.com/apache/tvm/pull/7132#discussion_r547936669\r\nI agree with your point.\r\nSo seems we will need to:\r\n1. Add the `PreloadCustomSketchRule` which enables users to add their own custom sketches. (And that's what we have already planed long before but didn't take action to bring that here from our dev repo ....)\r\n2. Just like your have added a python based `MeasureCallback` here, we'd better add a python based `SearchCallback` for init_search_callbacks.\r\n3. Better re-arrange the `rules->push_back(.......)` part, maybe also move them to Python as a `InitSearchCallback`.\r\n\r\nAlso cc @merrymercy @antinucleon ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750704577/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750709698","html_url":"https://github.com/apache/tvm/pull/7137#issuecomment-750709698","issue_url":"https://api.github.com/repos/apache/tvm/issues/7137","id":750709698,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDcwOTY5OA==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T02:29:05Z","updated_at":"2020-12-24T02:29:47Z","author_association":"MEMBER","body":"With the fix in this PR applied and using `rpn_pre_nms_top_n_test` = 200, on GTX 1070 ti\r\n\r\nTorch GPU: 0.093 sec\r\nTVM GPU: 0.39 sec (no tuning or cudnn)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750709698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750713910","html_url":"https://github.com/apache/tvm/issues/7155#issuecomment-750713910","issue_url":"https://api.github.com/repos/apache/tvm/issues/7155","id":750713910,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDcxMzkxMA==","user":{"login":"roger-zhao","id":9604866,"node_id":"MDQ6VXNlcjk2MDQ4NjY=","avatar_url":"https://avatars.githubusercontent.com/u/9604866?v=4","gravatar_id":"","url":"https://api.github.com/users/roger-zhao","html_url":"https://github.com/roger-zhao","followers_url":"https://api.github.com/users/roger-zhao/followers","following_url":"https://api.github.com/users/roger-zhao/following{/other_user}","gists_url":"https://api.github.com/users/roger-zhao/gists{/gist_id}","starred_url":"https://api.github.com/users/roger-zhao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roger-zhao/subscriptions","organizations_url":"https://api.github.com/users/roger-zhao/orgs","repos_url":"https://api.github.com/users/roger-zhao/repos","events_url":"https://api.github.com/users/roger-zhao/events{/privacy}","received_events_url":"https://api.github.com/users/roger-zhao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T02:48:19Z","updated_at":"2020-12-24T02:48:19Z","author_association":"CONTRIBUTOR","body":"@comaniac No problem!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750713910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750721704","html_url":"https://github.com/apache/tvm/pull/6964#issuecomment-750721704","issue_url":"https://api.github.com/repos/apache/tvm/issues/6964","id":750721704,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDcyMTcwNA==","user":{"login":"liangfu","id":857821,"node_id":"MDQ6VXNlcjg1NzgyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/857821?v=4","gravatar_id":"","url":"https://api.github.com/users/liangfu","html_url":"https://github.com/liangfu","followers_url":"https://api.github.com/users/liangfu/followers","following_url":"https://api.github.com/users/liangfu/following{/other_user}","gists_url":"https://api.github.com/users/liangfu/gists{/gist_id}","starred_url":"https://api.github.com/users/liangfu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liangfu/subscriptions","organizations_url":"https://api.github.com/users/liangfu/orgs","repos_url":"https://api.github.com/users/liangfu/repos","events_url":"https://api.github.com/users/liangfu/events{/privacy}","received_events_url":"https://api.github.com/users/liangfu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T03:22:49Z","updated_at":"2020-12-24T03:22:49Z","author_association":"MEMBER","body":"ping @areusch ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750721704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750730655","html_url":"https://github.com/apache/tvm/pull/7137#issuecomment-750730655","issue_url":"https://api.github.com/repos/apache/tvm/issues/7137","id":750730655,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDczMDY1NQ==","user":{"login":"zhiics","id":5145158,"node_id":"MDQ6VXNlcjUxNDUxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/5145158?v=4","gravatar_id":"","url":"https://api.github.com/users/zhiics","html_url":"https://github.com/zhiics","followers_url":"https://api.github.com/users/zhiics/followers","following_url":"https://api.github.com/users/zhiics/following{/other_user}","gists_url":"https://api.github.com/users/zhiics/gists{/gist_id}","starred_url":"https://api.github.com/users/zhiics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhiics/subscriptions","organizations_url":"https://api.github.com/users/zhiics/orgs","repos_url":"https://api.github.com/users/zhiics/repos","events_url":"https://api.github.com/users/zhiics/events{/privacy}","received_events_url":"https://api.github.com/users/zhiics/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T04:07:32Z","updated_at":"2020-12-24T04:07:32Z","author_association":"MEMBER","body":"@masahi Thanks. I was just trying to see how different it would be.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750730655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750733915","html_url":"https://github.com/apache/tvm/pull/7137#issuecomment-750733915","issue_url":"https://api.github.com/repos/apache/tvm/issues/7137","id":750733915,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDczMzkxNQ==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T04:23:42Z","updated_at":"2020-12-24T04:25:40Z","author_association":"MEMBER","body":"ok I can provide NMS performance comparison as a one data point. When I was investigating GPU NMS performance issue, the old code was taking 630 milliseconds while with this fix it was 2.1 seconds. But again, that's because the new code is dealing with far more boxes and our GPU NMS code is currently extremely slow due to the sequential loop.\r\n\r\nAccording to the numbers I posted in https://github.com/apache/tvm/pull/7154, on CPU NMS is fast: the old code was spending only 8 milliseconds. So I don't expect NMS on CPU would be a big issue.\r\n \r\nAfter NMS, PyTorch detection model does post-NMS topk, which selects 1000 boxes for later processing. So the perf difference should only be in NMS. ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750733915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750760998","html_url":"https://github.com/apache/tvm/pull/7137#issuecomment-750760998","issue_url":"https://api.github.com/repos/apache/tvm/issues/7137","id":750760998,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDc2MDk5OA==","user":{"login":"yongwww","id":10205827,"node_id":"MDQ6VXNlcjEwMjA1ODI3","avatar_url":"https://avatars.githubusercontent.com/u/10205827?v=4","gravatar_id":"","url":"https://api.github.com/users/yongwww","html_url":"https://github.com/yongwww","followers_url":"https://api.github.com/users/yongwww/followers","following_url":"https://api.github.com/users/yongwww/following{/other_user}","gists_url":"https://api.github.com/users/yongwww/gists{/gist_id}","starred_url":"https://api.github.com/users/yongwww/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yongwww/subscriptions","organizations_url":"https://api.github.com/users/yongwww/orgs","repos_url":"https://api.github.com/users/yongwww/repos","events_url":"https://api.github.com/users/yongwww/events{/privacy}","received_events_url":"https://api.github.com/users/yongwww/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T06:08:34Z","updated_at":"2020-12-24T06:08:34Z","author_association":"MEMBER","body":"@masahi  thanks for the analysis and fix, the use of boxes with negative scores is interesting. \r\n\r\nPreviously, we used `get_valid_counts` before NMS to pre-process boxes, moving invalid boxes to the bottom of box tensor, which helps reduce the computation of NMS by skipping invalid boxes. If negative boxes are valid, then NMS will do computation for all boxes, which causes performance regression. Then we should consider improving the performance.\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750760998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750765455","html_url":"https://github.com/apache/tvm/pull/7137#issuecomment-750765455","issue_url":"https://api.github.com/repos/apache/tvm/issues/7137","id":750765455,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDc2NTQ1NQ==","user":{"login":"yongwww","id":10205827,"node_id":"MDQ6VXNlcjEwMjA1ODI3","avatar_url":"https://avatars.githubusercontent.com/u/10205827?v=4","gravatar_id":"","url":"https://api.github.com/users/yongwww","html_url":"https://github.com/yongwww","followers_url":"https://api.github.com/users/yongwww/followers","following_url":"https://api.github.com/users/yongwww/following{/other_user}","gists_url":"https://api.github.com/users/yongwww/gists{/gist_id}","starred_url":"https://api.github.com/users/yongwww/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yongwww/subscriptions","organizations_url":"https://api.github.com/users/yongwww/orgs","repos_url":"https://api.github.com/users/yongwww/repos","events_url":"https://api.github.com/users/yongwww/events{/privacy}","received_events_url":"https://api.github.com/users/yongwww/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T06:23:20Z","updated_at":"2020-12-24T06:23:20Z","author_association":"MEMBER","body":"> With the fix in this PR applied and using `rpn_pre_nms_top_n_test` = 200, on GTX 1070 ti\r\n> \r\n> Torch GPU: 0.093 sec\r\n> TVM GPU: 0.39 sec (no tuning or cudnn)\r\n\r\nHow about the perf numbers with default value of `rpn_pre_nms_top_n_test`?\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750765455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750766311","html_url":"https://github.com/apache/tvm/pull/7137#issuecomment-750766311","issue_url":"https://api.github.com/repos/apache/tvm/issues/7137","id":750766311,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDc2NjMxMQ==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T06:25:50Z","updated_at":"2020-12-24T06:28:51Z","author_association":"MEMBER","body":"> How about the perf numbers with default value of `rpn_pre_nms_top_n_test`?\r\n\r\nIt is dominated by NMS which takes 2.1 seconds with default `rpn_pre_nms_top_n_test`. \r\n\r\nBut even in the default setting, PyTorch NMS is fairly fast and it is not a bottleneck at all. So the root issue is our terrible GPU performance. We need to fix our NMS and there is no excuse to cheat in the frontend. ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750766311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750769271","html_url":"https://github.com/apache/tvm/pull/7137#issuecomment-750769271","issue_url":"https://api.github.com/repos/apache/tvm/issues/7137","id":750769271,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDc2OTI3MQ==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T06:33:07Z","updated_at":"2020-12-24T06:40:58Z","author_association":"MEMBER","body":"Also I find that gluoncv MaskRCNN mostly follows the design of PyTorch MaskRCNN. But they apply sigmoid to objectness network outputs, so in their case there are no negative scores and all inputs to RPN NMS, which could be thousand of boxes, are valid, even if \"by valid\" we mean the previous wrong definition of having positive score. \r\n\r\nSo without this fix, if you compare MaskRCNN performance of PyTorch and GluonCV after we compile them to TVM, PyTorch model would run much faster because our cheat would work to ignore negative boxes, while there is no negative boxes in GluonCV MaskRCNN. So equivalent models give inconsistent result after they get compiled to TVM. This is non sense.\r\n\r\nSo we have to accept the fact that we need to deal with lots of boxes in MaskRCNN.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750769271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750787545","html_url":"https://github.com/apache/tvm/pull/7146#issuecomment-750787545","issue_url":"https://api.github.com/repos/apache/tvm/issues/7146","id":750787545,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDc4NzU0NQ==","user":{"login":"Meteorix","id":3805278,"node_id":"MDQ6VXNlcjM4MDUyNzg=","avatar_url":"https://avatars.githubusercontent.com/u/3805278?v=4","gravatar_id":"","url":"https://api.github.com/users/Meteorix","html_url":"https://github.com/Meteorix","followers_url":"https://api.github.com/users/Meteorix/followers","following_url":"https://api.github.com/users/Meteorix/following{/other_user}","gists_url":"https://api.github.com/users/Meteorix/gists{/gist_id}","starred_url":"https://api.github.com/users/Meteorix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Meteorix/subscriptions","organizations_url":"https://api.github.com/users/Meteorix/orgs","repos_url":"https://api.github.com/users/Meteorix/repos","events_url":"https://api.github.com/users/Meteorix/events{/privacy}","received_events_url":"https://api.github.com/users/Meteorix/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T07:29:28Z","updated_at":"2020-12-24T07:29:28Z","author_association":"CONTRIBUTOR","body":"> @Meteorix out of curiosity can you share some of your benchmarking results? I'd love to know how much faster this performs than cublas.\r\n\r\n@jwfromm following are some of the benchmark(tuning 1000 times). This schedule beat cublas on some shapes. That is also why I made `batch_matmul_cublas` autotunable in this pr.\r\n\r\n```\r\nShape: [1, 64, 1024] [1, 4096, 1024]\r\nbatch_matmul_tensorcore.cuda   2.9238894640234948e-05\r\nbatch_matmul_cublas.cuda       2.7487557097865394e-05 \r\nbatch_matmul.cuda              0.00014189747117647058\r\n\r\nShape: [1, 64, 1024] [1, 1024, 1024]\r\nbatch_matmul_tensorcore.cuda   1.5578384301061096e-05 \r\nbatch_matmul_cublas.cuda       2.041829239101948e-05\r\nbatch_matmul.cuda              6.108717968157696e-05\r\n\r\nShape: [1, 128, 1024] [1, 4096, 1024]\r\nbatch_matmul_tensorcore.cuda   0.00011345079327976625\r\nbatch_matmul_cublas.cuda       0.00011074180193236715 \r\nbatch_matmul.cuda              0.00024510443407707913\r\n\r\nShape: [1, 128, 4096] [1, 1024, 4096]\r\nbatch_matmul_tensorcore.cuda   0.00017083510384959715\r\nbatch_matmul_cublas.cuda       0.00010608833085714285 \r\nbatch_matmul.cuda              0.00035638234315169367\r\n\r\nShape: [16, 128, 64] [16, 128, 64]\r\nbatch_matmul_cublas.cuda       6.046038943091678e-06\r\nbatch_matmul_tensorcore.cuda   4.134768131265665e-06 \r\nbatch_matmul.cuda              1.2430305571941866e-05\r\n\r\nShape: [16, 128, 128] [16, 64, 128]\r\nbatch_matmul_tensorcore.cuda   4.74178964860194e-06 \r\nbatch_matmul_cublas.cuda       9.463372359711623e-06\r\nbatch_matmul.cuda              1.4179731404708587e-05\r\n\r\nShape: [1, 128, 1024] [1, 1024, 1024]\r\nbatch_matmul_tensorcore.cuda   3.857668104222821e-05\r\nbatch_matmul_cublas.cuda       2.3704257450575394e-05 \r\nbatch_matmul.cuda              0.0002515613367983368\r\n```","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750787545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750788368","html_url":"https://github.com/apache/tvm/pull/7146#issuecomment-750788368","issue_url":"https://api.github.com/repos/apache/tvm/issues/7146","id":750788368,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDc4ODM2OA==","user":{"login":"Meteorix","id":3805278,"node_id":"MDQ6VXNlcjM4MDUyNzg=","avatar_url":"https://avatars.githubusercontent.com/u/3805278?v=4","gravatar_id":"","url":"https://api.github.com/users/Meteorix","html_url":"https://github.com/Meteorix","followers_url":"https://api.github.com/users/Meteorix/followers","following_url":"https://api.github.com/users/Meteorix/following{/other_user}","gists_url":"https://api.github.com/users/Meteorix/gists{/gist_id}","starred_url":"https://api.github.com/users/Meteorix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Meteorix/subscriptions","organizations_url":"https://api.github.com/users/Meteorix/orgs","repos_url":"https://api.github.com/users/Meteorix/repos","events_url":"https://api.github.com/users/Meteorix/events{/privacy}","received_events_url":"https://api.github.com/users/Meteorix/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T07:32:28Z","updated_at":"2020-12-24T07:32:28Z","author_association":"CONTRIBUTOR","body":"> We should fix the type issue mentioned by @jcf94.\r\n> The existing `dense_tensorcore` is buggy in my view. We should fix it instead of following it.\r\n> This small bug can lead to potential accuracy loss that is very hard to debug.\r\n\r\n@merrymercy I see your point. Maybe we can discuss it with other tensor core maintainers and file another pr to resolve this issue?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750788368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750792443","html_url":"https://github.com/apache/tvm/pull/7150#issuecomment-750792443","issue_url":"https://api.github.com/repos/apache/tvm/issues/7150","id":750792443,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDc5MjQ0Mw==","user":{"login":"junrushao","id":22515877,"node_id":"MDQ6VXNlcjIyNTE1ODc3","avatar_url":"https://avatars.githubusercontent.com/u/22515877?v=4","gravatar_id":"","url":"https://api.github.com/users/junrushao","html_url":"https://github.com/junrushao","followers_url":"https://api.github.com/users/junrushao/followers","following_url":"https://api.github.com/users/junrushao/following{/other_user}","gists_url":"https://api.github.com/users/junrushao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrushao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrushao/subscriptions","organizations_url":"https://api.github.com/users/junrushao/orgs","repos_url":"https://api.github.com/users/junrushao/repos","events_url":"https://api.github.com/users/junrushao/events{/privacy}","received_events_url":"https://api.github.com/users/junrushao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T07:46:25Z","updated_at":"2020-12-24T07:46:25Z","author_association":"MEMBER","body":"@zhiics @comaniac @yongwww would you like to review? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750792443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750793259","html_url":"https://github.com/apache/tvm/pull/7094#issuecomment-750793259","issue_url":"https://api.github.com/repos/apache/tvm/issues/7094","id":750793259,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDc5MzI1OQ==","user":{"login":"junrushao","id":22515877,"node_id":"MDQ6VXNlcjIyNTE1ODc3","avatar_url":"https://avatars.githubusercontent.com/u/22515877?v=4","gravatar_id":"","url":"https://api.github.com/users/junrushao","html_url":"https://github.com/junrushao","followers_url":"https://api.github.com/users/junrushao/followers","following_url":"https://api.github.com/users/junrushao/following{/other_user}","gists_url":"https://api.github.com/users/junrushao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrushao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrushao/subscriptions","organizations_url":"https://api.github.com/users/junrushao/orgs","repos_url":"https://api.github.com/users/junrushao/repos","events_url":"https://api.github.com/users/junrushao/events{/privacy}","received_events_url":"https://api.github.com/users/junrushao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T07:49:34Z","updated_at":"2020-12-24T07:49:34Z","author_association":"MEMBER","body":"Yeah the comma is added by 'black' and it actually fits python syntax. So I am going to close this PR, and please feel free to chat if there is any problem :-)","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750793259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750793579","html_url":"https://github.com/apache/tvm/pull/6370#issuecomment-750793579","issue_url":"https://api.github.com/repos/apache/tvm/issues/6370","id":750793579,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDc5MzU3OQ==","user":{"login":"junrushao","id":22515877,"node_id":"MDQ6VXNlcjIyNTE1ODc3","avatar_url":"https://avatars.githubusercontent.com/u/22515877?v=4","gravatar_id":"","url":"https://api.github.com/users/junrushao","html_url":"https://github.com/junrushao","followers_url":"https://api.github.com/users/junrushao/followers","following_url":"https://api.github.com/users/junrushao/following{/other_user}","gists_url":"https://api.github.com/users/junrushao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrushao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrushao/subscriptions","organizations_url":"https://api.github.com/users/junrushao/orgs","repos_url":"https://api.github.com/users/junrushao/repos","events_url":"https://api.github.com/users/junrushao/events{/privacy}","received_events_url":"https://api.github.com/users/junrushao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T07:50:48Z","updated_at":"2020-12-24T07:50:48Z","author_association":"MEMBER","body":"@yzhliu @hzfan @tqchen Would you guys take a second look and update with further actions? Thanks a lot!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750793579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750794262","html_url":"https://github.com/apache/tvm/pull/6898#issuecomment-750794262","issue_url":"https://api.github.com/repos/apache/tvm/issues/6898","id":750794262,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDc5NDI2Mg==","user":{"login":"junrushao","id":22515877,"node_id":"MDQ6VXNlcjIyNTE1ODc3","avatar_url":"https://avatars.githubusercontent.com/u/22515877?v=4","gravatar_id":"","url":"https://api.github.com/users/junrushao","html_url":"https://github.com/junrushao","followers_url":"https://api.github.com/users/junrushao/followers","following_url":"https://api.github.com/users/junrushao/following{/other_user}","gists_url":"https://api.github.com/users/junrushao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrushao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrushao/subscriptions","organizations_url":"https://api.github.com/users/junrushao/orgs","repos_url":"https://api.github.com/users/junrushao/repos","events_url":"https://api.github.com/users/junrushao/events{/privacy}","received_events_url":"https://api.github.com/users/junrushao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T07:53:21Z","updated_at":"2020-12-24T07:53:21Z","author_association":"MEMBER","body":"@monklof any updates? Thanks in advance!","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750794262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750795971","html_url":"https://github.com/apache/tvm/pull/7146#issuecomment-750795971","issue_url":"https://api.github.com/repos/apache/tvm/issues/7146","id":750795971,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDc5NTk3MQ==","user":{"login":"Laurawly","id":3700467,"node_id":"MDQ6VXNlcjM3MDA0Njc=","avatar_url":"https://avatars.githubusercontent.com/u/3700467?v=4","gravatar_id":"","url":"https://api.github.com/users/Laurawly","html_url":"https://github.com/Laurawly","followers_url":"https://api.github.com/users/Laurawly/followers","following_url":"https://api.github.com/users/Laurawly/following{/other_user}","gists_url":"https://api.github.com/users/Laurawly/gists{/gist_id}","starred_url":"https://api.github.com/users/Laurawly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Laurawly/subscriptions","organizations_url":"https://api.github.com/users/Laurawly/orgs","repos_url":"https://api.github.com/users/Laurawly/repos","events_url":"https://api.github.com/users/Laurawly/events{/privacy}","received_events_url":"https://api.github.com/users/Laurawly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T07:59:27Z","updated_at":"2020-12-24T07:59:27Z","author_association":"CONTRIBUTOR","body":"> > We should fix the type issue mentioned by @jcf94.\r\n> > The existing `dense_tensorcore` is buggy in my view. We should fix it instead of following it.\r\n> > This small bug can lead to potential accuracy loss that is very hard to debug.\r\n> \r\n> @merrymercy I see your point. Maybe we can discuss it with other tensor core maintainers and file another pr to resolve this issue?\r\n\r\nI agree with @merrymercy and think we should fix the type issue that we overlooked before. We can either fix it in this PR or in a separate parallel PR. I'd like to help with that.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750795971/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750798178","html_url":"https://github.com/apache/tvm/pull/7150#issuecomment-750798178","issue_url":"https://api.github.com/repos/apache/tvm/issues/7150","id":750798178,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDc5ODE3OA==","user":{"login":"zhiics","id":5145158,"node_id":"MDQ6VXNlcjUxNDUxNTg=","avatar_url":"https://avatars.githubusercontent.com/u/5145158?v=4","gravatar_id":"","url":"https://api.github.com/users/zhiics","html_url":"https://github.com/zhiics","followers_url":"https://api.github.com/users/zhiics/followers","following_url":"https://api.github.com/users/zhiics/following{/other_user}","gists_url":"https://api.github.com/users/zhiics/gists{/gist_id}","starred_url":"https://api.github.com/users/zhiics/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhiics/subscriptions","organizations_url":"https://api.github.com/users/zhiics/orgs","repos_url":"https://api.github.com/users/zhiics/repos","events_url":"https://api.github.com/users/zhiics/events{/privacy}","received_events_url":"https://api.github.com/users/zhiics/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T08:06:54Z","updated_at":"2020-12-24T08:06:54Z","author_association":"MEMBER","body":"is this PR is same to #7125?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750798178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750846259","html_url":"https://github.com/apache/tvm/pull/7150#issuecomment-750846259","issue_url":"https://api.github.com/repos/apache/tvm/issues/7150","id":750846259,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDg0NjI1OQ==","user":{"login":"codeislife99","id":17168743,"node_id":"MDQ6VXNlcjE3MTY4NzQz","avatar_url":"https://avatars.githubusercontent.com/u/17168743?v=4","gravatar_id":"","url":"https://api.github.com/users/codeislife99","html_url":"https://github.com/codeislife99","followers_url":"https://api.github.com/users/codeislife99/followers","following_url":"https://api.github.com/users/codeislife99/following{/other_user}","gists_url":"https://api.github.com/users/codeislife99/gists{/gist_id}","starred_url":"https://api.github.com/users/codeislife99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codeislife99/subscriptions","organizations_url":"https://api.github.com/users/codeislife99/orgs","repos_url":"https://api.github.com/users/codeislife99/repos","events_url":"https://api.github.com/users/codeislife99/events{/privacy}","received_events_url":"https://api.github.com/users/codeislife99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T10:55:01Z","updated_at":"2020-12-24T10:55:01Z","author_association":"CONTRIBUTOR","body":"Sorry I meant to mark this pr as draft it's still work in progress","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750846259/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750862121","html_url":"https://github.com/apache/tvm/pull/7146#issuecomment-750862121","issue_url":"https://api.github.com/repos/apache/tvm/issues/7146","id":750862121,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDg2MjEyMQ==","user":{"login":"jcf94","id":12119698,"node_id":"MDQ6VXNlcjEyMTE5Njk4","avatar_url":"https://avatars.githubusercontent.com/u/12119698?v=4","gravatar_id":"","url":"https://api.github.com/users/jcf94","html_url":"https://github.com/jcf94","followers_url":"https://api.github.com/users/jcf94/followers","following_url":"https://api.github.com/users/jcf94/following{/other_user}","gists_url":"https://api.github.com/users/jcf94/gists{/gist_id}","starred_url":"https://api.github.com/users/jcf94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jcf94/subscriptions","organizations_url":"https://api.github.com/users/jcf94/orgs","repos_url":"https://api.github.com/users/jcf94/repos","events_url":"https://api.github.com/users/jcf94/events{/privacy}","received_events_url":"https://api.github.com/users/jcf94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T11:57:33Z","updated_at":"2020-12-24T11:57:33Z","author_association":"CONTRIBUTOR","body":"Thanks! @Laurawly @merrymercy \r\nI think it's fine to fix them in a new PR.\r\n\r\n@Meteorix If we're not going to finish these here, you can add some TODO comments in the code and create a new issue for tracking. Please fix the CI problem and we can merge this.\r\n#7147 is also fine, just need to add some unit tests for these modifications.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750862121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750869686","html_url":"https://github.com/apache/tvm/pull/7158#issuecomment-750869686","issue_url":"https://api.github.com/repos/apache/tvm/issues/7158","id":750869686,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDg2OTY4Ng==","user":{"login":"ANSHUMAN87","id":32511895,"node_id":"MDQ6VXNlcjMyNTExODk1","avatar_url":"https://avatars.githubusercontent.com/u/32511895?v=4","gravatar_id":"","url":"https://api.github.com/users/ANSHUMAN87","html_url":"https://github.com/ANSHUMAN87","followers_url":"https://api.github.com/users/ANSHUMAN87/followers","following_url":"https://api.github.com/users/ANSHUMAN87/following{/other_user}","gists_url":"https://api.github.com/users/ANSHUMAN87/gists{/gist_id}","starred_url":"https://api.github.com/users/ANSHUMAN87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ANSHUMAN87/subscriptions","organizations_url":"https://api.github.com/users/ANSHUMAN87/orgs","repos_url":"https://api.github.com/users/ANSHUMAN87/repos","events_url":"https://api.github.com/users/ANSHUMAN87/events{/privacy}","received_events_url":"https://api.github.com/users/ANSHUMAN87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T12:30:56Z","updated_at":"2020-12-24T12:30:56Z","author_association":"CONTRIBUTOR","body":"Thanks @junrushao1994 ! Looks like the test case is flaky. Does not depend on this PR change. Will re-trigger CI.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750869686/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750904911","html_url":"https://github.com/apache/tvm/pull/7163#issuecomment-750904911","issue_url":"https://api.github.com/repos/apache/tvm/issues/7163","id":750904911,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDkwNDkxMQ==","user":{"login":"merrymercy","id":15100009,"node_id":"MDQ6VXNlcjE1MTAwMDA5","avatar_url":"https://avatars.githubusercontent.com/u/15100009?v=4","gravatar_id":"","url":"https://api.github.com/users/merrymercy","html_url":"https://github.com/merrymercy","followers_url":"https://api.github.com/users/merrymercy/followers","following_url":"https://api.github.com/users/merrymercy/following{/other_user}","gists_url":"https://api.github.com/users/merrymercy/gists{/gist_id}","starred_url":"https://api.github.com/users/merrymercy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merrymercy/subscriptions","organizations_url":"https://api.github.com/users/merrymercy/orgs","repos_url":"https://api.github.com/users/merrymercy/repos","events_url":"https://api.github.com/users/merrymercy/events{/privacy}","received_events_url":"https://api.github.com/users/merrymercy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T15:00:07Z","updated_at":"2020-12-24T15:00:07Z","author_association":"MEMBER","body":"cc @alexgl-github  @antinucleon ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750904911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750926391","html_url":"https://github.com/apache/tvm/pull/7154#issuecomment-750926391","issue_url":"https://api.github.com/repos/apache/tvm/issues/7154","id":750926391,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDkyNjM5MQ==","user":{"login":"mbrookhart","id":4065489,"node_id":"MDQ6VXNlcjQwNjU0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/4065489?v=4","gravatar_id":"","url":"https://api.github.com/users/mbrookhart","html_url":"https://github.com/mbrookhart","followers_url":"https://api.github.com/users/mbrookhart/followers","following_url":"https://api.github.com/users/mbrookhart/following{/other_user}","gists_url":"https://api.github.com/users/mbrookhart/gists{/gist_id}","starred_url":"https://api.github.com/users/mbrookhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbrookhart/subscriptions","organizations_url":"https://api.github.com/users/mbrookhart/orgs","repos_url":"https://api.github.com/users/mbrookhart/repos","events_url":"https://api.github.com/users/mbrookhart/events{/privacy}","received_events_url":"https://api.github.com/users/mbrookhart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T16:52:54Z","updated_at":"2020-12-25T14:17:49Z","author_association":"CONTRIBUTOR","body":"Sorry for the delay in responding to this, I wanted to look at the frameworks more closely. We currently have 5 importers that leverage NMS:\r\n\r\nMXNET does multibox_transform_loc and then NMS on the outputs. multi_box_transform_loc converts a 3D array of scores with shape (batch_size, class_num, num_anchors) into a most likely class and score for that class, plus does some coordinate transforms on the box.\r\n\r\nONNX takes a 3D tensor of (batch_size, class, num_anchors), does slicing/concatenating with the boxes, and then does a per-class get_valid_counts->non_max.\r\n\r\nPytorch takes in a 1D tensor of scores and concats it with the boxes before performing get_valid_counts and nms. As @masahi shows in this PR, there is preprocessing to embed all classes into that 1D tensor outside of the op.\r\n\r\nTF takes a 1D tensor of scores and concats it to the boxes before performing get_valid_counts and nms. I'm not sure if the rest of the TF graph is handling the loop over batch size and classes.\r\n\r\nTFlite takes a 3D score tensor of shape (batch size, num_anchors, class_id), reorders it to (batch_size, class_id, num_anchors), performs multibox_transform_loc->nms, and strangely does get_valid_counts after NMS. \r\n\r\nIt looks like we're doing pre-processing in every framework to reduce the amount of score information and convert it to the 5 or 6 D form the nms API wants. None of the frameworks give us inputs in the packed form the API expects, and we jump through hoops in every importer to convert inputs into that form. Then in at least TFLite and ONNX, we perform further splitting/slicing/concatenating to restore the separate class ids. \r\n\r\nI think I agree with @masahi, we seem to be jumping through a lot of hoops in the importers to support a TVM NMS API that's out of line with the frameworks, and that might be hurting our overall performance.\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750926391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750929667","html_url":"https://github.com/apache/tvm/pull/7162#issuecomment-750929667","issue_url":"https://api.github.com/repos/apache/tvm/issues/7162","id":750929667,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDkyOTY2Nw==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T17:13:26Z","updated_at":"2020-12-24T17:13:26Z","author_association":"CONTRIBUTOR","body":"Also cc @trevor-m who implemented TRT integration.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750929667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750947058","html_url":"https://github.com/apache/tvm/pull/7164#issuecomment-750947058","issue_url":"https://api.github.com/repos/apache/tvm/issues/7164","id":750947058,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDk0NzA1OA==","user":{"login":"areusch","id":532957,"node_id":"MDQ6VXNlcjUzMjk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/532957?v=4","gravatar_id":"","url":"https://api.github.com/users/areusch","html_url":"https://github.com/areusch","followers_url":"https://api.github.com/users/areusch/followers","following_url":"https://api.github.com/users/areusch/following{/other_user}","gists_url":"https://api.github.com/users/areusch/gists{/gist_id}","starred_url":"https://api.github.com/users/areusch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areusch/subscriptions","organizations_url":"https://api.github.com/users/areusch/orgs","repos_url":"https://api.github.com/users/areusch/repos","events_url":"https://api.github.com/users/areusch/events{/privacy}","received_events_url":"https://api.github.com/users/areusch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T19:06:12Z","updated_at":"2020-12-24T19:06:12Z","author_association":"CONTRIBUTOR","body":"@tqchen re: the CI failure: svg is obviously not a binary type, but do we allow PNG? I can change the logo format if we need.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750947058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750952358","html_url":"https://github.com/apache/tvm/pull/7158#issuecomment-750952358","issue_url":"https://api.github.com/repos/apache/tvm/issues/7158","id":750952358,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDk1MjM1OA==","user":{"login":"junrushao","id":22515877,"node_id":"MDQ6VXNlcjIyNTE1ODc3","avatar_url":"https://avatars.githubusercontent.com/u/22515877?v=4","gravatar_id":"","url":"https://api.github.com/users/junrushao","html_url":"https://github.com/junrushao","followers_url":"https://api.github.com/users/junrushao/followers","following_url":"https://api.github.com/users/junrushao/following{/other_user}","gists_url":"https://api.github.com/users/junrushao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrushao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrushao/subscriptions","organizations_url":"https://api.github.com/users/junrushao/orgs","repos_url":"https://api.github.com/users/junrushao/repos","events_url":"https://api.github.com/users/junrushao/events{/privacy}","received_events_url":"https://api.github.com/users/junrushao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T19:45:00Z","updated_at":"2020-12-24T19:45:00Z","author_association":"MEMBER","body":"Thanks @ANSHUMAN87! I dont have other comments. @comaniac would you like to take a look?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750952358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750953062","html_url":"https://github.com/apache/tvm/pull/7163#issuecomment-750953062","issue_url":"https://api.github.com/repos/apache/tvm/issues/7163","id":750953062,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDk1MzA2Mg==","user":{"login":"junrushao","id":22515877,"node_id":"MDQ6VXNlcjIyNTE1ODc3","avatar_url":"https://avatars.githubusercontent.com/u/22515877?v=4","gravatar_id":"","url":"https://api.github.com/users/junrushao","html_url":"https://github.com/junrushao","followers_url":"https://api.github.com/users/junrushao/followers","following_url":"https://api.github.com/users/junrushao/following{/other_user}","gists_url":"https://api.github.com/users/junrushao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrushao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrushao/subscriptions","organizations_url":"https://api.github.com/users/junrushao/orgs","repos_url":"https://api.github.com/users/junrushao/repos","events_url":"https://api.github.com/users/junrushao/events{/privacy}","received_events_url":"https://api.github.com/users/junrushao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T19:50:40Z","updated_at":"2020-12-24T19:50:40Z","author_association":"MEMBER","body":"The impl is good, I was just wondering if the fast softmax is biased or not?","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750953062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750960526","html_url":"https://github.com/apache/tvm/pull/7137#issuecomment-750960526","issue_url":"https://api.github.com/repos/apache/tvm/issues/7137","id":750960526,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDk2MDUyNg==","user":{"login":"masahi","id":1776403,"node_id":"MDQ6VXNlcjE3NzY0MDM=","avatar_url":"https://avatars.githubusercontent.com/u/1776403?v=4","gravatar_id":"","url":"https://api.github.com/users/masahi","html_url":"https://github.com/masahi","followers_url":"https://api.github.com/users/masahi/followers","following_url":"https://api.github.com/users/masahi/following{/other_user}","gists_url":"https://api.github.com/users/masahi/gists{/gist_id}","starred_url":"https://api.github.com/users/masahi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masahi/subscriptions","organizations_url":"https://api.github.com/users/masahi/orgs","repos_url":"https://api.github.com/users/masahi/repos","events_url":"https://api.github.com/users/masahi/events{/privacy}","received_events_url":"https://api.github.com/users/masahi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T20:03:16Z","updated_at":"2020-12-25T00:52:56Z","author_association":"MEMBER","body":"ok I ran CPU perf comparison with old code vs new code + default param. As expected, there is almost no perf regression.\r\n\r\n``` \r\nOld code: 2.1364135856199997 sec\r\nAfter the fix in this PR: 2.1756499899999997 sec\r\n```\r\nThe old code spends 5 milliseconds on NMS. Here is the stat from profile.\r\nhttps://github.com/masahi/torchscript-to-tvm/blob/master/maskrcnn/maskrcnn_cpu_vm_profile_old.txt#L51\r\n\r\nThe new code gets far more boxes, but NMS spends only 20 milliseconds on it.\r\nhttps://github.com/masahi/torchscript-to-tvm/blob/master/maskrcnn/maskrcnn_cpu_vm_profile_1000.txt#L24\r\n\r\nThe reason the new code doesn't make CPU perf worse is simple. Even though now NMS gets more boxes, PyTorch detection models does post NMS topk after RPN, see https://github.com/pytorch/vision/blob/90645ccd0e774ad76200245e32222a23d09f2312/torchvision/models/detection/rpn.py#L261-L263\r\n\r\nSo no matter how many boxes NMS gets, the number of boxes after NMS + post NMS topk doesn't change and bounded by `rpn_pre_nms_top_n_test` parameter whose default is 1000. The CPU perf is always dominated by the large dense layer.\r\n\r\nMoreover, I'd like to reiterate that the new code is more correct and gives essentially the same output as PyTorch. At this point, if you are still not happy with the this fix, I'm genuinely curious why.\r\n","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750960526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750998346","html_url":"https://github.com/apache/tvm/pull/6964#issuecomment-750998346","issue_url":"https://api.github.com/repos/apache/tvm/issues/6964","id":750998346,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDk5ODM0Ng==","user":{"login":"areusch","id":532957,"node_id":"MDQ6VXNlcjUzMjk1Nw==","avatar_url":"https://avatars.githubusercontent.com/u/532957?v=4","gravatar_id":"","url":"https://api.github.com/users/areusch","html_url":"https://github.com/areusch","followers_url":"https://api.github.com/users/areusch/followers","following_url":"https://api.github.com/users/areusch/following{/other_user}","gists_url":"https://api.github.com/users/areusch/gists{/gist_id}","starred_url":"https://api.github.com/users/areusch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areusch/subscriptions","organizations_url":"https://api.github.com/users/areusch/orgs","repos_url":"https://api.github.com/users/areusch/repos","events_url":"https://api.github.com/users/areusch/events{/privacy}","received_events_url":"https://api.github.com/users/areusch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T20:33:24Z","updated_at":"2020-12-24T20:33:24Z","author_association":"CONTRIBUTOR","body":"sorry @liangfu for the delay. i've addressed your comment and sync'd to main.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/750998346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/751037640","html_url":"https://github.com/apache/tvm/pull/7158#issuecomment-751037640","issue_url":"https://api.github.com/repos/apache/tvm/issues/7158","id":751037640,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MTAzNzY0MA==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T21:05:29Z","updated_at":"2020-12-24T21:05:29Z","author_association":"CONTRIBUTOR","body":"Thanks @ANSHUMAN87 @junrushao1994 ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/751037640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/751157820","html_url":"https://github.com/apache/tvm/pull/7098#issuecomment-751157820","issue_url":"https://api.github.com/repos/apache/tvm/issues/7098","id":751157820,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MTE1NzgyMA==","user":{"login":"liangfu","id":857821,"node_id":"MDQ6VXNlcjg1NzgyMQ==","avatar_url":"https://avatars.githubusercontent.com/u/857821?v=4","gravatar_id":"","url":"https://api.github.com/users/liangfu","html_url":"https://github.com/liangfu","followers_url":"https://api.github.com/users/liangfu/followers","following_url":"https://api.github.com/users/liangfu/following{/other_user}","gists_url":"https://api.github.com/users/liangfu/gists{/gist_id}","starred_url":"https://api.github.com/users/liangfu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liangfu/subscriptions","organizations_url":"https://api.github.com/users/liangfu/orgs","repos_url":"https://api.github.com/users/liangfu/repos","events_url":"https://api.github.com/users/liangfu/events{/privacy}","received_events_url":"https://api.github.com/users/liangfu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-25T03:14:50Z","updated_at":"2020-12-25T03:14:50Z","author_association":"MEMBER","body":"> It would really be nice if the hw part can be built independently, and loaded on demand.\r\n\r\n+1","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/751157820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/751216544","html_url":"https://github.com/apache/tvm/pull/7166#issuecomment-751216544","issue_url":"https://api.github.com/repos/apache/tvm/issues/7166","id":751216544,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MTIxNjU0NA==","user":{"login":"comaniac","id":8262694,"node_id":"MDQ6VXNlcjgyNjI2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8262694?v=4","gravatar_id":"","url":"https://api.github.com/users/comaniac","html_url":"https://github.com/comaniac","followers_url":"https://api.github.com/users/comaniac/followers","following_url":"https://api.github.com/users/comaniac/following{/other_user}","gists_url":"https://api.github.com/users/comaniac/gists{/gist_id}","starred_url":"https://api.github.com/users/comaniac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/comaniac/subscriptions","organizations_url":"https://api.github.com/users/comaniac/orgs","repos_url":"https://api.github.com/users/comaniac/repos","events_url":"https://api.github.com/users/comaniac/events{/privacy}","received_events_url":"https://api.github.com/users/comaniac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-25T09:14:28Z","updated_at":"2020-12-25T09:14:28Z","author_association":"CONTRIBUTOR","body":"Thanks @merrymercy @jcf94 ","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/751216544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/751265570","html_url":"https://github.com/apache/tvm/pull/6137#issuecomment-751265570","issue_url":"https://api.github.com/repos/apache/tvm/issues/6137","id":751265570,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MTI2NTU3MA==","user":{"login":"FrozenGene","id":7287321,"node_id":"MDQ6VXNlcjcyODczMjE=","avatar_url":"https://avatars.githubusercontent.com/u/7287321?v=4","gravatar_id":"","url":"https://api.github.com/users/FrozenGene","html_url":"https://github.com/FrozenGene","followers_url":"https://api.github.com/users/FrozenGene/followers","following_url":"https://api.github.com/users/FrozenGene/following{/other_user}","gists_url":"https://api.github.com/users/FrozenGene/gists{/gist_id}","starred_url":"https://api.github.com/users/FrozenGene/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FrozenGene/subscriptions","organizations_url":"https://api.github.com/users/FrozenGene/orgs","repos_url":"https://api.github.com/users/FrozenGene/repos","events_url":"https://api.github.com/users/FrozenGene/events{/privacy}","received_events_url":"https://api.github.com/users/FrozenGene/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-25T15:53:40Z","updated_at":"2020-12-25T15:53:40Z","author_association":"MEMBER","body":"> Hello there, updating this pull request to be up-to-date with the latest `main` branch.\r\n> \r\n> In terms of things remaining to do:\r\n> \r\n> * [x]  [Consider using compute_at and vectorize data load](https://github.com/apache/tvm/pull/6137#discussion_r463852066) - did not get an improvement.\r\n> * [x]  [We should support asymmetic padding like other compute / schedule.](https://github.com/apache/tvm/pull/6137#pullrequestreview-459474121) - this is implemented in GSPC, however requires extending `get_workload` for Conv2D generally.  I began working on this in `505c127`, but have reverted it, and will have this as it's own pull request in the comings days.\r\n> * [ ]  [Pack in alter_op_layout for kernel](https://github.com/apache/tvm/pull/6137#discussion_r463844394):  have been working on this, but have an issue.   My data is being passed to my `group_conv2d_NCHWc.x86` in the `conv2d_NCHWc` format (5D input data), rather than the GSPC format (6D input data).  Despite my changes to the x86 `_alter_conv2d_layout`.  [See this branch](https://github.com/Wheest/incubator-tvm/tree/wheest/gspc-dev-alter-op).  Some guidance or pointers would be appreciated @FrozenGene.\r\n> \r\n> In the interests of more transparent development, [here's part of my test suite](https://github.com/Wheest/tvm-grouped-conv-test).\r\n\r\nSorry, @Wheest I just noticed your mention. Could you give me some spare time to review your code? I could allocate some buffer next week.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/751265570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tvm/issues/comments/751297202","html_url":"https://github.com/apache/tvm/pull/7137#issuecomment-751297202","issue_url":"https://api.github.com/repos/apache/tvm/issues/7137","id":751297202,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MTI5NzIwMg==","user":{"login":"kevinthesun","id":15520525,"node_id":"MDQ6VXNlcjE1NTIwNTI1","avatar_url":"https://avatars.githubusercontent.com/u/15520525?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinthesun","html_url":"https://github.com/kevinthesun","followers_url":"https://api.github.com/users/kevinthesun/followers","following_url":"https://api.github.com/users/kevinthesun/following{/other_user}","gists_url":"https://api.github.com/users/kevinthesun/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinthesun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinthesun/subscriptions","organizations_url":"https://api.github.com/users/kevinthesun/orgs","repos_url":"https://api.github.com/users/kevinthesun/repos","events_url":"https://api.github.com/users/kevinthesun/events{/privacy}","received_events_url":"https://api.github.com/users/kevinthesun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-25T22:48:32Z","updated_at":"2020-12-25T22:48:32Z","author_association":"CONTRIBUTOR","body":"@masahi Thanks for this investigating and improvement. Indeed this change won't affect cpu perf much even when MKL is enabled and large dynamic shape dense becomes faster. One interesting thing about output result is: for pytorch 1.7, we can exact match the results of tvm vs pt with this change, but for pytorch 1.4 there is still mismatch which won't affect final accuracy. I'm fine with this change now.\r\n\r\nBTW, enabling MKL on my Intel Xeon Platinum machine with 18 cores can reduce the latency of pt maskrcnn from 1000 ms to 600 ms. Those large dynamic shape dense layers do contribute a lot to the latency.","reactions":{"url":"https://api.github.com/repos/apache/tvm/issues/comments/751297202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]