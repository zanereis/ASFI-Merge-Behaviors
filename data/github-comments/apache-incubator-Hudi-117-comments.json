[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815463131","html_url":"https://github.com/apache/hudi/issues/2692#issuecomment-815463131","issue_url":"https://api.github.com/repos/apache/hudi/issues/2692","id":815463131,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTQ2MzEzMQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T05:40:03Z","updated_at":"2021-04-08T05:40:03Z","author_association":"CONTRIBUTOR","body":"@stackfun Can you respond to @vburenin question ? We can try to go from there..","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815463131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815465310","html_url":"https://github.com/apache/hudi/issues/2680#issuecomment-815465310","issue_url":"https://api.github.com/repos/apache/hudi/issues/2680","id":815465310,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTQ2NTMxMA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T05:44:53Z","updated_at":"2021-04-08T05:44:53Z","author_association":"CONTRIBUTOR","body":"@ztcheck What changes did you make to the `run_sync_too.sh` ? Can you list out the jars you added to the classpath ?\r\nIt seems like some of the classes should be packaged in the `hudi-hive-sync-bundle` but they are not. Once you provide the packages you added to your classpath, we can then see how to add those to the bundle ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815465310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815470053","html_url":"https://github.com/apache/hudi/issues/2623#issuecomment-815470053","issue_url":"https://api.github.com/repos/apache/hudi/issues/2623","id":815470053,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTQ3MDA1Mw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T05:55:19Z","updated_at":"2021-04-08T05:55:19Z","author_association":"CONTRIBUTOR","body":"@root18039532923 Let me know if your issue was resolved after backporting that PR. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815470053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815473655","html_url":"https://github.com/apache/hudi/issues/2743#issuecomment-815473655","issue_url":"https://api.github.com/repos/apache/hudi/issues/2743","id":815473655,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTQ3MzY1NQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T06:03:07Z","updated_at":"2021-04-08T06:03:07Z","author_association":"CONTRIBUTOR","body":"@aditiwari01 Here is the ticket and is assigned to you for now :) BTW, there is some relevant work happening here https://github.com/apache/hudi/pull/2452. Please comment on the PR for further changes. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815473655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815488402","html_url":"https://github.com/apache/hudi/pull/2388#issuecomment-815488402","issue_url":"https://api.github.com/repos/apache/hudi/issues/2388","id":815488402,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTQ4ODQwMg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T06:31:48Z","updated_at":"2021-04-08T06:31:48Z","author_association":"CONTRIBUTOR","body":"@satishkotha gentle reminder","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815488402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815496613","html_url":"https://github.com/apache/hudi/pull/2783#issuecomment-815496613","issue_url":"https://api.github.com/repos/apache/hudi/issues/2783","id":815496613,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTQ5NjYxMw==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T06:46:59Z","updated_at":"2021-04-08T06:46:59Z","author_association":"MEMBER","body":"closing pr for now, will reopen once fixed ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815496613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815519172","html_url":"https://github.com/apache/hudi/pull/2773#issuecomment-815519172","issue_url":"https://api.github.com/repos/apache/hudi/issues/2773","id":815519172,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTUxOTE3Mg==","user":{"login":"jintaoguan","id":2390826,"node_id":"MDQ6VXNlcjIzOTA4MjY=","avatar_url":"https://avatars.githubusercontent.com/u/2390826?v=4","gravatar_id":"","url":"https://api.github.com/users/jintaoguan","html_url":"https://github.com/jintaoguan","followers_url":"https://api.github.com/users/jintaoguan/followers","following_url":"https://api.github.com/users/jintaoguan/following{/other_user}","gists_url":"https://api.github.com/users/jintaoguan/gists{/gist_id}","starred_url":"https://api.github.com/users/jintaoguan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jintaoguan/subscriptions","organizations_url":"https://api.github.com/users/jintaoguan/orgs","repos_url":"https://api.github.com/users/jintaoguan/repos","events_url":"https://api.github.com/users/jintaoguan/events{/privacy}","received_events_url":"https://api.github.com/users/jintaoguan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T07:23:29Z","updated_at":"2021-04-08T07:23:29Z","author_association":"CONTRIBUTOR","body":"@lw309637554 I updated the PR according to your comments above. Please take a look and let me know if it looks good to you. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815519172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815556571","html_url":"https://github.com/apache/hudi/issues/2774#issuecomment-815556571","issue_url":"https://api.github.com/repos/apache/hudi/issues/2774","id":815556571,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTU1NjU3MQ==","user":{"login":"vobukh","id":16102515,"node_id":"MDQ6VXNlcjE2MTAyNTE1","avatar_url":"https://avatars.githubusercontent.com/u/16102515?v=4","gravatar_id":"","url":"https://api.github.com/users/vobukh","html_url":"https://github.com/vobukh","followers_url":"https://api.github.com/users/vobukh/followers","following_url":"https://api.github.com/users/vobukh/following{/other_user}","gists_url":"https://api.github.com/users/vobukh/gists{/gist_id}","starred_url":"https://api.github.com/users/vobukh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vobukh/subscriptions","organizations_url":"https://api.github.com/users/vobukh/orgs","repos_url":"https://api.github.com/users/vobukh/repos","events_url":"https://api.github.com/users/vobukh/events{/privacy}","received_events_url":"https://api.github.com/users/vobukh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T08:17:03Z","updated_at":"2021-04-08T08:17:03Z","author_association":"NONE","body":"@n3nash , actually downgrading hudi metrics to 3.1.2 looks better for us - we have a transitive dependency on io.dropwizard.metrics: metrics-core:3.1.5 in our application, which I believe is compatible with 3.1.2, so it will allow us to use hudi-spark instead of hudi-spark-bundle artifact.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815556571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815583131","html_url":"https://github.com/apache/hudi/pull/2645#issuecomment-815583131","issue_url":"https://api.github.com/repos/apache/hudi/issues/2645","id":815583131,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTU4MzEzMQ==","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T08:54:14Z","updated_at":"2021-04-14T12:58:01Z","author_association":"NONE","body":"Hi @vinothchandar @kwondw , Thanks for the review on this feature. The code has updated.\r\nMain changes:\r\n- Sql support spark3 based on the same `HoodieAnalysis` and `Commands` with spark2. We can pass the test case for spark3 by the following command:  \r\n    `mvn clean install -DskipTests -Pspark3` \r\n    `mvn test -Punit-tests -Pspark3 -pl hudi-spark-datasource/hudi-spark`\r\n-  Fix the bug when the source column name is not same with the target table column name, MergeInto not work. e.g. `mere into ... on t0.id = s0.s_id`\r\n-  Support expression on source columns for the merge-on condition. e.g.  `merge into .... on t0.id = s0.id + 1 ...`\r\n-  Add more test case for `TestMergeInto` & `TestUpdate` & `TestDelete` & `TestCreateTable`\r\n-  Remove the `tableSchema`, use `writeSchema` instead.\r\n\r\nPlease take a review again when you have time, thanks!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815583131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815623703","html_url":"https://github.com/apache/hudi/pull/2773#issuecomment-815623703","issue_url":"https://api.github.com/repos/apache/hudi/issues/2773","id":815623703,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTYyMzcwMw==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T09:51:57Z","updated_at":"2021-04-08T09:51:57Z","author_association":"CONTRIBUTOR","body":"LGTM , @satishkotha @n3nash can you also review?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815623703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815677174","html_url":"https://github.com/apache/hudi/pull/2789#issuecomment-815677174","issue_url":"https://api.github.com/repos/apache/hudi/issues/2789","id":815677174,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTY3NzE3NA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T11:16:45Z","updated_at":"2021-04-08T11:16:45Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2789?src=pr&el=h1) Report\n> Merging [#2789](https://codecov.io/gh/apache/hudi/pull/2789?src=pr&el=desc) (47d2db7) into [master](https://codecov.io/gh/apache/hudi/commit/d035fcbb3cf7aa33bafdd902a5e6a76f549e7ee1?el=desc) (d035fcb) will **increase** coverage by `0.23%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2789/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2789?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2789      +/-   ##\n============================================\n+ Coverage     52.27%   52.51%   +0.23%     \n- Complexity     3681     3703      +22     \n============================================\n  Files           484      484              \n  Lines         23092    23139      +47     \n  Branches       2457     2457              \n============================================\n+ Hits          12071    12151      +80     \n+ Misses         9958     9918      -40     \n- Partials       1063     1070       +7     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `40.29% <ø> (+3.35%)` | `0.00 <ø> (ø)` | |\n| hudiclient | `∅ <ø> (∅)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.69% <ø> (-0.10%)` | `0.00 <ø> (ø)` | |\n| hudiflink | `56.36% <0.00%> (-0.23%)` | `0.00 <0.00> (ø)` | |\n| hudihadoopmr | `33.44% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `71.33% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisync | `45.47% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.77% <ø> (+0.03%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2789?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...pache/hudi/sink/compact/CompactionCommitEvent.java](https://codecov.io/gh/apache/hudi/pull/2789/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL2NvbXBhY3QvQ29tcGFjdGlvbkNvbW1pdEV2ZW50LmphdmE=) | `43.75% <0.00%> (-43.75%)` | `3.00 <0.00> (ø)` | |\n| [.../apache/hudi/sink/compact/CompactionPlanEvent.java](https://codecov.io/gh/apache/hudi/pull/2789/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL2NvbXBhY3QvQ29tcGFjdGlvblBsYW5FdmVudC5qYXZh) | `50.00% <0.00%> (-50.00%)` | `3.00 <0.00> (ø)` | |\n| [...i/common/table/timeline/TimelineMetadataUtils.java](https://codecov.io/gh/apache/hudi/pull/2789/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL1RpbWVsaW5lTWV0YWRhdGFVdGlscy5qYXZh) | `70.17% <0.00%> (-2.56%)` | `17.00% <0.00%> (ø%)` | |\n| [.../org/apache/hudi/common/model/HoodieFileGroup.java](https://codecov.io/gh/apache/hudi/pull/2789/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZUZpbGVHcm91cC5qYXZh) | `84.48% <0.00%> (ø)` | `28.00% <0.00%> (ø%)` | |\n| [.../common/table/timeline/HoodieArchivedTimeline.java](https://codecov.io/gh/apache/hudi/pull/2789/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL0hvb2RpZUFyY2hpdmVkVGltZWxpbmUuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...n/java/org/apache/hudi/cli/commands/SparkMain.java](https://codecov.io/gh/apache/hudi/pull/2789/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL2NvbW1hbmRzL1NwYXJrTWFpbi5qYXZh) | `6.83% <0.00%> (+0.11%)` | `4.00% <0.00%> (ø%)` | |\n| [...hudi/utilities/sources/helpers/KafkaOffsetGen.java](https://codecov.io/gh/apache/hudi/pull/2789/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvaGVscGVycy9LYWZrYU9mZnNldEdlbi5qYXZh) | `87.27% <0.00%> (+0.23%)` | `21.00% <0.00%> (+2.00%)` | |\n| [...rg/apache/hudi/cli/commands/CompactionCommand.java](https://codecov.io/gh/apache/hudi/pull/2789/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL2NvbW1hbmRzL0NvbXBhY3Rpb25Db21tYW5kLmphdmE=) | `30.18% <0.00%> (+29.38%)` | `22.00% <0.00%> (+20.00%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815677174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815689735","html_url":"https://github.com/apache/hudi/pull/2786#issuecomment-815689735","issue_url":"https://api.github.com/repos/apache/hudi/issues/2786","id":815689735,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTY4OTczNQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T11:33:25Z","updated_at":"2021-04-08T11:33:25Z","author_association":"CONTRIBUTOR","body":"@danny0405 Can you please correct the title of the PR?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815689735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815792095","html_url":"https://github.com/apache/hudi/pull/2786#issuecomment-815792095","issue_url":"https://api.github.com/repos/apache/hudi/issues/2786","id":815792095,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTc5MjA5NQ==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T12:50:02Z","updated_at":"2021-04-08T12:50:02Z","author_association":"CONTRIBUTOR","body":"> @danny0405 Can you please correct the title of the PR?\r\n\r\nWhat title should i use ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815792095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815849870","html_url":"https://github.com/apache/hudi/issues/2544#issuecomment-815849870","issue_url":"https://api.github.com/repos/apache/hudi/issues/2544","id":815849870,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTg0OTg3MA==","user":{"login":"li36909","id":3632162,"node_id":"MDQ6VXNlcjM2MzIxNjI=","avatar_url":"https://avatars.githubusercontent.com/u/3632162?v=4","gravatar_id":"","url":"https://api.github.com/users/li36909","html_url":"https://github.com/li36909","followers_url":"https://api.github.com/users/li36909/followers","following_url":"https://api.github.com/users/li36909/following{/other_user}","gists_url":"https://api.github.com/users/li36909/gists{/gist_id}","starred_url":"https://api.github.com/users/li36909/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/li36909/subscriptions","organizations_url":"https://api.github.com/users/li36909/orgs","repos_url":"https://api.github.com/users/li36909/repos","events_url":"https://api.github.com/users/li36909/events{/privacy}","received_events_url":"https://api.github.com/users/li36909/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T14:00:48Z","updated_at":"2021-04-08T14:00:48Z","author_association":"CONTRIBUTOR","body":"@nsivabalan @cdmikechen \r\nI fix and pass the test by a simple change like this:\r\nat hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeRecordReaderUtils.java\r\n\r\ncase LONG:\r\n177 | +        if (schema.getLogicalType().getName().equals(\"timestamp-micros\") && supportTimestamp) {\r\n178 | +          Timestamp timestamp = new Timestamp();\r\n179 | +          timestamp.setTimeInMillis((Long) value / 1000);\r\n180 | +          return new TimestampWritableV2(timestamp);\r\n181 | +        }\r\n\r\nhere convert long to timestamp then it's ok. and also pass supportTimestamp config at every reader and writter.\r\ndo i miss any thing? thank you","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815849870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815854810","html_url":"https://github.com/apache/hudi/pull/2790#issuecomment-815854810","issue_url":"https://api.github.com/repos/apache/hudi/issues/2790","id":815854810,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTg1NDgxMA==","user":{"login":"li36909","id":3632162,"node_id":"MDQ6VXNlcjM2MzIxNjI=","avatar_url":"https://avatars.githubusercontent.com/u/3632162?v=4","gravatar_id":"","url":"https://api.github.com/users/li36909","html_url":"https://github.com/li36909","followers_url":"https://api.github.com/users/li36909/followers","following_url":"https://api.github.com/users/li36909/following{/other_user}","gists_url":"https://api.github.com/users/li36909/gists{/gist_id}","starred_url":"https://api.github.com/users/li36909/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/li36909/subscriptions","organizations_url":"https://api.github.com/users/li36909/orgs","repos_url":"https://api.github.com/users/li36909/repos","events_url":"https://api.github.com/users/li36909/events{/privacy}","received_events_url":"https://api.github.com/users/li36909/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T14:07:24Z","updated_at":"2021-04-08T14:07:24Z","author_association":"CONTRIBUTOR","body":"cc @nsivabalan could you help to take a look, thank you","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815854810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815855516","html_url":"https://github.com/apache/hudi/issues/2692#issuecomment-815855516","issue_url":"https://api.github.com/repos/apache/hudi/issues/2692","id":815855516,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTg1NTUxNg==","user":{"login":"vburenin","id":4350891,"node_id":"MDQ6VXNlcjQzNTA4OTE=","avatar_url":"https://avatars.githubusercontent.com/u/4350891?v=4","gravatar_id":"","url":"https://api.github.com/users/vburenin","html_url":"https://github.com/vburenin","followers_url":"https://api.github.com/users/vburenin/followers","following_url":"https://api.github.com/users/vburenin/following{/other_user}","gists_url":"https://api.github.com/users/vburenin/gists{/gist_id}","starred_url":"https://api.github.com/users/vburenin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vburenin/subscriptions","organizations_url":"https://api.github.com/users/vburenin/orgs","repos_url":"https://api.github.com/users/vburenin/repos","events_url":"https://api.github.com/users/vburenin/events{/privacy}","received_events_url":"https://api.github.com/users/vburenin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T14:08:19Z","updated_at":"2021-04-08T14:08:19Z","author_association":"CONTRIBUTOR","body":"@n3nash I am not sure the issue is still relevant. That has been happening with Hudi 0.5.0-snapshot. The symptoms were like there are duplicate records, or records were not upserted which could be seen as version field was let say 9, but the current version is like 15. Apparently the compaction is to blame, we had a few intermitent failures when compaction didn't finish and when it eventually finishes things get borked... but it was extremely hard to catch unless we were doing direct data validation that is not that simple to do.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815855516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815868898","html_url":"https://github.com/apache/hudi/pull/2790#issuecomment-815868898","issue_url":"https://api.github.com/repos/apache/hudi/issues/2790","id":815868898,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTg2ODg5OA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T14:26:13Z","updated_at":"2021-04-08T14:26:13Z","author_association":"CONTRIBUTOR","body":"@li36909 : can you fix the links in the description. guess its cuttoff. \r\n```\r\nparquet.avro.readInt96AsFixed=true, please check https://github https://github/.com/apache/parquet-mr/pull/831/files)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815868898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815870944","html_url":"https://github.com/apache/hudi/pull/2601#issuecomment-815870944","issue_url":"https://api.github.com/repos/apache/hudi/issues/2601","id":815870944,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTg3MDk0NA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T14:29:03Z","updated_at":"2021-04-08T14:29:03Z","author_association":"CONTRIBUTOR","body":"CC @li36909 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815870944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815878916","html_url":"https://github.com/apache/hudi/pull/2452#issuecomment-815878916","issue_url":"https://api.github.com/repos/apache/hudi/issues/2452","id":815878916,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTg3ODkxNg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T14:39:49Z","updated_at":"2021-04-08T14:39:49Z","author_association":"CONTRIBUTOR","body":"sounds good. yeah, cleaning strategy would be great. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815878916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815898964","html_url":"https://github.com/apache/hudi/pull/2790#issuecomment-815898964","issue_url":"https://api.github.com/repos/apache/hudi/issues/2790","id":815898964,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTg5ODk2NA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T15:04:54Z","updated_at":"2021-04-08T15:05:20Z","author_association":"CONTRIBUTOR","body":"@li36909 : IIUC, this patch is not about failing a bootstrap or upsert w/ timestamp. We are adding support for timestamp column by upgrading parquet version. If yes, please do fix the title of the patch. \r\nAlso, looks like we are upgrading the parquet version in this patch. @vinothchandar @n3nash @bvaradar : thoughts. is there any considerations required on this end. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815898964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815943296","html_url":"https://github.com/apache/hudi/pull/2786#issuecomment-815943296","issue_url":"https://api.github.com/repos/apache/hudi/issues/2786","id":815943296,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTk0MzI5Ng==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T15:57:15Z","updated_at":"2021-04-08T15:57:15Z","author_association":"MEMBER","body":"Should we change the 0.8.0 doc as well? It will be merged soon. #2792 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815943296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815963047","html_url":"https://github.com/apache/hudi/pull/2792#issuecomment-815963047","issue_url":"https://api.github.com/repos/apache/hudi/issues/2792","id":815963047,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTk2MzA0Nw==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T16:24:25Z","updated_at":"2021-04-08T16:24:25Z","author_association":"MEMBER","body":"> Did we change to version 0.8.0 in all places wherever applicable? I see quick start was not updated.\r\n\r\nThis version change was generated by an automated tool. The quick start was probably missed. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815963047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815973743","html_url":"https://github.com/apache/hudi/issues/2791#issuecomment-815973743","issue_url":"https://api.github.com/repos/apache/hudi/issues/2791","id":815973743,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTk3Mzc0Mw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T16:40:17Z","updated_at":"2021-04-08T16:40:17Z","author_association":"CONTRIBUTOR","body":"@prashantwason Can you take a look at this ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815973743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815987341","html_url":"https://github.com/apache/hudi/issues/2620#issuecomment-815987341","issue_url":"https://api.github.com/repos/apache/hudi/issues/2620","id":815987341,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTk4NzM0MQ==","user":{"login":"kimberlyamandalu","id":25435575,"node_id":"MDQ6VXNlcjI1NDM1NTc1","avatar_url":"https://avatars.githubusercontent.com/u/25435575?v=4","gravatar_id":"","url":"https://api.github.com/users/kimberlyamandalu","html_url":"https://github.com/kimberlyamandalu","followers_url":"https://api.github.com/users/kimberlyamandalu/followers","following_url":"https://api.github.com/users/kimberlyamandalu/following{/other_user}","gists_url":"https://api.github.com/users/kimberlyamandalu/gists{/gist_id}","starred_url":"https://api.github.com/users/kimberlyamandalu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimberlyamandalu/subscriptions","organizations_url":"https://api.github.com/users/kimberlyamandalu/orgs","repos_url":"https://api.github.com/users/kimberlyamandalu/repos","events_url":"https://api.github.com/users/kimberlyamandalu/events{/privacy}","received_events_url":"https://api.github.com/users/kimberlyamandalu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T17:01:11Z","updated_at":"2021-04-08T17:01:11Z","author_association":"NONE","body":"I have a similar issue where bloom index performance is very slow for upsert into a Hudi MOR table.\r\nDoes anyone know if when Hudi performs an upsert, does it only lookup index for the related partitions or does it lookup against the entire data set? I have partitions of year and month from 1998 to 2020. My upserts are mostly to recent partitions (95%). I also notice a lot of calls to build fs view for older partitions i know should not have any upserts\r\n\r\n`AbstractTableFileSystemView: Building file system view for partition (message_year=2002/message_month=9)`\r\n\r\n![image](https://user-images.githubusercontent.com/25435575/114066282-90027400-9869-11eb-8828-f9615f828d7e.png)\r\n\r\n\r\nObtain key ranges for file slices (range pruning=on)\r\ncollect at HoodieSparkEngineContext.java:73+details\r\norg.apache.spark.api.java.AbstractJavaRDDLike.collect(JavaRDDLike.scala:45)\r\norg.apache.hudi.client.common.HoodieSparkEngineContext.map(HoodieSparkEngineContext.java:73)\r\norg.apache.hudi.index.bloom.SparkHoodieBloomIndex.loadInvolvedFiles(SparkHoodieBloomIndex.java:176)\r\norg.apache.hudi.index.bloom.SparkHoodieBloomIndex.lookupIndex(SparkHoodieBloomIndex.java:119)\r\norg.apache.hudi.index.bloom.SparkHoodieBloomIndex.tagLocation(SparkHoodieBloomIndex.java:84)\r\norg.apache.hudi.index.bloom.SparkHoodieBloomIndex.tagLocation(SparkHoodieBloomIndex.java:60)\r\norg.apache.hudi.table.action.commit.AbstractWriteHelper.tag(AbstractWriteHelper.java:69)\r\norg.apache.hudi.table.action.commit.AbstractWriteHelper.write(AbstractWriteHelper.java:51)\r\norg.apache.hudi.table.action.deltacommit.SparkUpsertDeltaCommitActionExecutor.execute(SparkUpsertDeltaCommitActionExecutor.java:46)\r\norg.apache.hudi.table.HoodieSparkMergeOnReadTable.upsert(HoodieSparkMergeOnReadTable.java:82)\r\norg.apache.hudi.table.HoodieSparkMergeOnReadTable.upsert(HoodieSparkMergeOnReadTable.java:74)\r\norg.apache.hudi.client.SparkRDDWriteClient.upsert(SparkRDDWriteClient.java:146)\r\norg.apache.hudi.DataSourceUtils.doWriteOperation(DataSourceUtils.java:214)\r\norg.apache.hudi.HoodieSparkSqlWriter$.write(HoodieSparkSqlWriter.scala:181)\r\norg.apache.hudi.DefaultSource.createRelation(DefaultSource.scala:134)\r\norg.apache.spark.sql.execution.datasources.SaveIntoDataSourceCommand.run(SaveIntoDataSourceCommand.scala:45)\r\norg.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:70)\r\norg.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:68)\r\norg.apache.spark.sql.execution.command.ExecutedCommandExec.doExecute(commands.scala:86)\r\norg.apache.spark.sql.execution.SparkPlan$$anonfun$execute$1.apply(SparkPlan.scala:131)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/815987341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816012609","html_url":"https://github.com/apache/hudi/issues/2620#issuecomment-816012609","issue_url":"https://api.github.com/repos/apache/hudi/issues/2620","id":816012609,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjAxMjYwOQ==","user":{"login":"codejoyan","id":48707638,"node_id":"MDQ6VXNlcjQ4NzA3NjM4","avatar_url":"https://avatars.githubusercontent.com/u/48707638?v=4","gravatar_id":"","url":"https://api.github.com/users/codejoyan","html_url":"https://github.com/codejoyan","followers_url":"https://api.github.com/users/codejoyan/followers","following_url":"https://api.github.com/users/codejoyan/following{/other_user}","gists_url":"https://api.github.com/users/codejoyan/gists{/gist_id}","starred_url":"https://api.github.com/users/codejoyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codejoyan/subscriptions","organizations_url":"https://api.github.com/users/codejoyan/orgs","repos_url":"https://api.github.com/users/codejoyan/repos","events_url":"https://api.github.com/users/codejoyan/events{/privacy}","received_events_url":"https://api.github.com/users/codejoyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T17:39:03Z","updated_at":"2021-04-08T17:39:03Z","author_association":"CONTRIBUTOR","body":"@nsivabalan, any inputs would be very helpful.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816012609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816012992","html_url":"https://github.com/apache/hudi/issues/2592#issuecomment-816012992","issue_url":"https://api.github.com/repos/apache/hudi/issues/2592","id":816012992,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjAxMjk5Mg==","user":{"login":"codejoyan","id":48707638,"node_id":"MDQ6VXNlcjQ4NzA3NjM4","avatar_url":"https://avatars.githubusercontent.com/u/48707638?v=4","gravatar_id":"","url":"https://api.github.com/users/codejoyan","html_url":"https://github.com/codejoyan","followers_url":"https://api.github.com/users/codejoyan/followers","following_url":"https://api.github.com/users/codejoyan/following{/other_user}","gists_url":"https://api.github.com/users/codejoyan/gists{/gist_id}","starred_url":"https://api.github.com/users/codejoyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codejoyan/subscriptions","organizations_url":"https://api.github.com/users/codejoyan/orgs","repos_url":"https://api.github.com/users/codejoyan/repos","events_url":"https://api.github.com/users/codejoyan/events{/privacy}","received_events_url":"https://api.github.com/users/codejoyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T17:39:38Z","updated_at":"2021-04-08T17:39:38Z","author_association":"CONTRIBUTOR","body":"Please let me know if there are any suggestions to try out","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816012992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816013345","html_url":"https://github.com/apache/hudi/issues/2692#issuecomment-816013345","issue_url":"https://api.github.com/repos/apache/hudi/issues/2692","id":816013345,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjAxMzM0NQ==","user":{"login":"stackfun","id":68627128,"node_id":"MDQ6VXNlcjY4NjI3MTI4","avatar_url":"https://avatars.githubusercontent.com/u/68627128?v=4","gravatar_id":"","url":"https://api.github.com/users/stackfun","html_url":"https://github.com/stackfun","followers_url":"https://api.github.com/users/stackfun/followers","following_url":"https://api.github.com/users/stackfun/following{/other_user}","gists_url":"https://api.github.com/users/stackfun/gists{/gist_id}","starred_url":"https://api.github.com/users/stackfun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stackfun/subscriptions","organizations_url":"https://api.github.com/users/stackfun/orgs","repos_url":"https://api.github.com/users/stackfun/repos","events_url":"https://api.github.com/users/stackfun/events{/privacy}","received_events_url":"https://api.github.com/users/stackfun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T17:40:14Z","updated_at":"2021-04-08T17:40:14Z","author_association":"NONE","body":"I'm using GCP dataproc 1.4, the gcs connector version is 1.9.17. The versions of all the libraries can be found here: https://cloud.google.com/dataproc/docs/concepts/versioning/dataproc-release-1.4\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816013345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816037894","html_url":"https://github.com/apache/hudi/pull/2793#issuecomment-816037894","issue_url":"https://api.github.com/repos/apache/hudi/issues/2793","id":816037894,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjAzNzg5NA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T18:19:42Z","updated_at":"2021-04-08T18:19:42Z","author_association":"CONTRIBUTOR","body":"@prashantwason Can you review this ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816037894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816163413","html_url":"https://github.com/apache/hudi/pull/2793#issuecomment-816163413","issue_url":"https://api.github.com/repos/apache/hudi/issues/2793","id":816163413,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjE2MzQxMw==","user":{"login":"TeRS-K","id":26078631,"node_id":"MDQ6VXNlcjI2MDc4NjMx","avatar_url":"https://avatars.githubusercontent.com/u/26078631?v=4","gravatar_id":"","url":"https://api.github.com/users/TeRS-K","html_url":"https://github.com/TeRS-K","followers_url":"https://api.github.com/users/TeRS-K/followers","following_url":"https://api.github.com/users/TeRS-K/following{/other_user}","gists_url":"https://api.github.com/users/TeRS-K/gists{/gist_id}","starred_url":"https://api.github.com/users/TeRS-K/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TeRS-K/subscriptions","organizations_url":"https://api.github.com/users/TeRS-K/orgs","repos_url":"https://api.github.com/users/TeRS-K/repos","events_url":"https://api.github.com/users/TeRS-K/events{/privacy}","received_events_url":"https://api.github.com/users/TeRS-K/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T20:31:57Z","updated_at":"2021-04-08T20:31:57Z","author_association":"CONTRIBUTOR","body":"The build is currently failing with error `ERROR: toomanyrequests: You have reached your pull rate limit. You may increase the limit by authenticating and upgrading: https://www.docker.com/increase-rate-limit`, it doesn't seem to be related to my change. How can I trigger a rebuild?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816163413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816306202","html_url":"https://github.com/apache/hudi/issues/2620#issuecomment-816306202","issue_url":"https://api.github.com/repos/apache/hudi/issues/2620","id":816306202,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjMwNjIwMg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T23:50:27Z","updated_at":"2021-04-08T23:50:27Z","author_association":"CONTRIBUTOR","body":"@codejoyan : sorry, somehow slipped from my radar. \r\nMay I know whats the scale of data you are dealing with? I see your parallelism is very less (2). Can you try w/ 100 or more and see how it goes. \r\n\r\nAmong 3 methods you have quoted, 2 of them are index related and 3rd is actual write operation. \r\n\r\nBest way to decide partitionin strategy is to see what your queries usually filter based on. If its date based, then you definitely need to have date in your partitioning strategy which you already do. And if adding region would cut down most of the data to be looked up, sure. I assume this would also blow up your # partitions in general since its no of dates * no of regions. \r\n\r\nwrt record keys and bloom: \r\nYou can try to use regular bloom \"BLOOM\" as index. With this, there are few config knobs. with simple bloom, we don't lot of config knobs to play around. \r\nwithin a single batch of writes, does records have some ordering to it or is it just random. From your response I guess its random. So, you can turn of range pruning since that may not help much. \r\nhttps://hudi.apache.org/docs/configurations.html#bloomIndexPruneByRanges to false. (default value is true). \r\n\r\n@n3nash : do you have any pointers here. \r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816306202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816306475","html_url":"https://github.com/apache/hudi/issues/2620#issuecomment-816306475","issue_url":"https://api.github.com/repos/apache/hudi/issues/2620","id":816306475,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjMwNjQ3NQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T23:51:16Z","updated_at":"2021-04-08T23:51:16Z","author_association":"CONTRIBUTOR","body":"@kimberlyamandalu : do you have a support ticket for your question. lets not pollute this issue. we can create a new one for your use-case and can discuss over there","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816306475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816314674","html_url":"https://github.com/apache/hudi/issues/2544#issuecomment-816314674","issue_url":"https://api.github.com/repos/apache/hudi/issues/2544","id":816314674,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjMxNDY3NA==","user":{"login":"cdmikechen","id":12069428,"node_id":"MDQ6VXNlcjEyMDY5NDI4","avatar_url":"https://avatars.githubusercontent.com/u/12069428?v=4","gravatar_id":"","url":"https://api.github.com/users/cdmikechen","html_url":"https://github.com/cdmikechen","followers_url":"https://api.github.com/users/cdmikechen/followers","following_url":"https://api.github.com/users/cdmikechen/following{/other_user}","gists_url":"https://api.github.com/users/cdmikechen/gists{/gist_id}","starred_url":"https://api.github.com/users/cdmikechen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdmikechen/subscriptions","organizations_url":"https://api.github.com/users/cdmikechen/orgs","repos_url":"https://api.github.com/users/cdmikechen/repos","events_url":"https://api.github.com/users/cdmikechen/events{/privacy}","received_events_url":"https://api.github.com/users/cdmikechen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T00:14:01Z","updated_at":"2021-04-09T00:23:56Z","author_association":"CONTRIBUTOR","body":"@li36909  \r\nAs I known, `TimestampWritableV2` is a hive3 class, we mainly use hive2 lib in hudi. And your class is based on a `MOR` table, my change is based on a `COW` table and compatible with `MOR`  table.\r\nI can see how I can incorporate your code into my branch. Meanwhile, we may need to consider whether we need to treat hive3 and hive2 as two subprojects. In this way, it will be helpful to make subsequent changes to different hive versions in the future","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816314674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816318167","html_url":"https://github.com/apache/hudi/issues/2791#issuecomment-816318167","issue_url":"https://api.github.com/repos/apache/hudi/issues/2791","id":816318167,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjMxODE2Nw==","user":{"login":"njalan","id":8622340,"node_id":"MDQ6VXNlcjg2MjIzNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8622340?v=4","gravatar_id":"","url":"https://api.github.com/users/njalan","html_url":"https://github.com/njalan","followers_url":"https://api.github.com/users/njalan/followers","following_url":"https://api.github.com/users/njalan/following{/other_user}","gists_url":"https://api.github.com/users/njalan/gists{/gist_id}","starred_url":"https://api.github.com/users/njalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/njalan/subscriptions","organizations_url":"https://api.github.com/users/njalan/orgs","repos_url":"https://api.github.com/users/njalan/repos","events_url":"https://api.github.com/users/njalan/events{/privacy}","received_events_url":"https://api.github.com/users/njalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T00:23:33Z","updated_at":"2021-04-09T00:25:03Z","author_association":"NONE","body":"After job running half an hour I got this error. Once I remove all the files from table directory and got the error again within an hour (1 minute for one micro batch).","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816318167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816335004","html_url":"https://github.com/apache/hudi/issues/2680#issuecomment-816335004","issue_url":"https://api.github.com/repos/apache/hudi/issues/2680","id":816335004,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjMzNTAwNA==","user":{"login":"ztcheck","id":59900649,"node_id":"MDQ6VXNlcjU5OTAwNjQ5","avatar_url":"https://avatars.githubusercontent.com/u/59900649?v=4","gravatar_id":"","url":"https://api.github.com/users/ztcheck","html_url":"https://github.com/ztcheck","followers_url":"https://api.github.com/users/ztcheck/followers","following_url":"https://api.github.com/users/ztcheck/following{/other_user}","gists_url":"https://api.github.com/users/ztcheck/gists{/gist_id}","starred_url":"https://api.github.com/users/ztcheck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ztcheck/subscriptions","organizations_url":"https://api.github.com/users/ztcheck/orgs","repos_url":"https://api.github.com/users/ztcheck/repos","events_url":"https://api.github.com/users/ztcheck/events{/privacy}","received_events_url":"https://api.github.com/users/ztcheck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T01:18:06Z","updated_at":"2021-04-09T01:19:26Z","author_association":"NONE","body":"@n3nash I'm not sure which jar is missing, so i add all of the jars under ${HIVE_HOME}/lib/*.jar to the classpath . And i use this start command in the script `run_sync_too.sh`,it works .\r\n `HIVE_EXTERNAL_JAR=${HIVE_HOME}/lib/*.jar`\r\n\r\n`java -cp $HIVE_EXTERNAL_JAR:$HUDI_HIVE_UBER_JAR:${HADOOP_HIVE_JARS}:${HADOOP_CONF_DIR}:${HIVE_HOME}/conf org.apache.hudi.hive.HiveSyncTool \"$@\"`.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816335004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816336235","html_url":"https://github.com/apache/hudi/issues/2680#issuecomment-816336235","issue_url":"https://api.github.com/repos/apache/hudi/issues/2680","id":816336235,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjMzNjIzNQ==","user":{"login":"ztcheck","id":59900649,"node_id":"MDQ6VXNlcjU5OTAwNjQ5","avatar_url":"https://avatars.githubusercontent.com/u/59900649?v=4","gravatar_id":"","url":"https://api.github.com/users/ztcheck","html_url":"https://github.com/ztcheck","followers_url":"https://api.github.com/users/ztcheck/followers","following_url":"https://api.github.com/users/ztcheck/following{/other_user}","gists_url":"https://api.github.com/users/ztcheck/gists{/gist_id}","starred_url":"https://api.github.com/users/ztcheck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ztcheck/subscriptions","organizations_url":"https://api.github.com/users/ztcheck/orgs","repos_url":"https://api.github.com/users/ztcheck/repos","events_url":"https://api.github.com/users/ztcheck/events{/privacy}","received_events_url":"https://api.github.com/users/ztcheck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T01:22:15Z","updated_at":"2021-04-09T01:22:57Z","author_association":"NONE","body":"I updated my issue description.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816336235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816355918","html_url":"https://github.com/apache/hudi/pull/2786#issuecomment-816355918","issue_url":"https://api.github.com/repos/apache/hudi/issues/2786","id":816355918,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjM1NTkxOA==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T02:26:50Z","updated_at":"2021-04-09T02:26:50Z","author_association":"CONTRIBUTOR","body":"> > @danny0405 Can you please correct the title of the PR?\r\n> \r\n> What title should i use ?\r\n\r\nfile a jira ticket and add the jira id?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816355918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816360889","html_url":"https://github.com/apache/hudi/pull/2283#issuecomment-816360889","issue_url":"https://api.github.com/repos/apache/hudi/issues/2283","id":816360889,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjM2MDg4OQ==","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T02:42:18Z","updated_at":"2021-04-09T02:42:18Z","author_association":"NONE","body":"Hi @nsivabalan @umehrot2 can you take a review on this pr again?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816360889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816365255","html_url":"https://github.com/apache/hudi/issues/2544#issuecomment-816365255","issue_url":"https://api.github.com/repos/apache/hudi/issues/2544","id":816365255,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjM2NTI1NQ==","user":{"login":"li36909","id":3632162,"node_id":"MDQ6VXNlcjM2MzIxNjI=","avatar_url":"https://avatars.githubusercontent.com/u/3632162?v=4","gravatar_id":"","url":"https://api.github.com/users/li36909","html_url":"https://github.com/li36909","followers_url":"https://api.github.com/users/li36909/followers","following_url":"https://api.github.com/users/li36909/following{/other_user}","gists_url":"https://api.github.com/users/li36909/gists{/gist_id}","starred_url":"https://api.github.com/users/li36909/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/li36909/subscriptions","organizations_url":"https://api.github.com/users/li36909/orgs","repos_url":"https://api.github.com/users/li36909/repos","events_url":"https://api.github.com/users/li36909/events{/privacy}","received_events_url":"https://api.github.com/users/li36909/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T02:56:36Z","updated_at":"2021-04-09T02:56:36Z","author_association":"CONTRIBUTOR","body":"@cdmikechen thank you for your explain. I use hudi 0.7 + spark 2.4.5 + hive 3.1, and didn't test with hive 2.*, if possible please fix this issue for hive3 also, thank you very much","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816365255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816368080","html_url":"https://github.com/apache/hudi/pull/2786#issuecomment-816368080","issue_url":"https://api.github.com/repos/apache/hudi/issues/2786","id":816368080,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjM2ODA4MA==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T03:05:29Z","updated_at":"2021-04-09T03:05:29Z","author_association":"CONTRIBUTOR","body":"> > > @danny0405 Can you please correct the title of the PR?\r\n> > \r\n> > \r\n> > What title should i use ?\r\n> \r\n> file a jira ticket and add the jira id?\r\n\r\nAdded.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816368080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816368238","html_url":"https://github.com/apache/hudi/pull/2786#issuecomment-816368238","issue_url":"https://api.github.com/repos/apache/hudi/issues/2786","id":816368238,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjM2ODIzOA==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T03:05:58Z","updated_at":"2021-04-09T03:05:58Z","author_association":"CONTRIBUTOR","body":"> Should we change the 0.8.0 doc as well? It will be merged soon. #2792\r\n\r\nI think it is not necessary ? People would always see the master document.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816368238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816369965","html_url":"https://github.com/apache/hudi/pull/2785#issuecomment-816369965","issue_url":"https://api.github.com/repos/apache/hudi/issues/2785","id":816369965,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjM2OTk2NQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T03:11:38Z","updated_at":"2021-04-09T03:11:38Z","author_association":"CONTRIBUTOR","body":"Will merge after the Travis turns to green.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816369965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816416482","html_url":"https://github.com/apache/hudi/issues/2787#issuecomment-816416482","issue_url":"https://api.github.com/repos/apache/hudi/issues/2787","id":816416482,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjQxNjQ4Mg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T05:24:01Z","updated_at":"2021-04-09T05:24:01Z","author_association":"CONTRIBUTOR","body":"Can you give us the configs you used? is it failing at the beginning itself or after after few batch of writes? \r\nlooks like this is the root cause.\r\n```\r\nCaused by: org.apache.parquet.io.ParquetDecodingException: Can not read value at 0 in block -1 in file s3://30-ze-datalake-raw/freshdesk/tickets/3416b1b1-dc82-4256-8d4c-a2a62146e41c-0_0-299-7594_20210408071759.parquet\r\n```\r\nalso, can you give us the schema of the dataset in use. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816416482/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816462388","html_url":"https://github.com/apache/hudi/pull/2786#issuecomment-816462388","issue_url":"https://api.github.com/repos/apache/hudi/issues/2786","id":816462388,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjQ2MjM4OA==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T07:03:45Z","updated_at":"2021-04-09T07:03:45Z","author_association":"MEMBER","body":"> > Should we change the 0.8.0 doc as well? It will be merged soon. #2792\r\n> \r\n> I think it is not necessary ? People would always see the master document.\r\n\r\nIf the new options only affect the master then it should be fine. There are many users are still using an older version, like AWS EMR still on 0.6.0. So the versioned doc is still worth it to maintain. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816462388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816495293","html_url":"https://github.com/apache/hudi/pull/2793#issuecomment-816495293","issue_url":"https://api.github.com/repos/apache/hudi/issues/2793","id":816495293,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjQ5NTI5Mw==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T07:58:22Z","updated_at":"2021-04-09T07:58:22Z","author_association":"CONTRIBUTOR","body":">  How can I trigger a rebuild?\r\n\r\noption 1: close and reopen the PR;\r\noption 2: push an empty commit via git command\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816495293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816553709","html_url":"https://github.com/apache/hudi/pull/2720#issuecomment-816553709","issue_url":"https://api.github.com/repos/apache/hudi/issues/2720","id":816553709,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjU1MzcwOQ==","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T09:30:07Z","updated_at":"2021-04-09T09:30:29Z","author_association":"CONTRIBUTOR","body":"@nsivabalan  i find that the question： why test in TestHoodieCombineHiveInputFormat is Disabled ？\r\n@test\r\n@disabled\r\npublic void testHoodieRealtimeCombineHoodieInputFormat() throws Exception {         。 this ut will failed when i enable it。 now i fixed the bug of this UT，can you push a patch for this test?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816553709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816555746","html_url":"https://github.com/apache/hudi/issues/2498#issuecomment-816555746","issue_url":"https://api.github.com/repos/apache/hudi/issues/2498","id":816555746,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjU1NTc0Ng==","user":{"login":"Magicbeanbuyer","id":40656281,"node_id":"MDQ6VXNlcjQwNjU2Mjgx","avatar_url":"https://avatars.githubusercontent.com/u/40656281?v=4","gravatar_id":"","url":"https://api.github.com/users/Magicbeanbuyer","html_url":"https://github.com/Magicbeanbuyer","followers_url":"https://api.github.com/users/Magicbeanbuyer/followers","following_url":"https://api.github.com/users/Magicbeanbuyer/following{/other_user}","gists_url":"https://api.github.com/users/Magicbeanbuyer/gists{/gist_id}","starred_url":"https://api.github.com/users/Magicbeanbuyer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Magicbeanbuyer/subscriptions","organizations_url":"https://api.github.com/users/Magicbeanbuyer/orgs","repos_url":"https://api.github.com/users/Magicbeanbuyer/repos","events_url":"https://api.github.com/users/Magicbeanbuyer/events{/privacy}","received_events_url":"https://api.github.com/users/Magicbeanbuyer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T09:33:37Z","updated_at":"2021-04-09T09:33:37Z","author_association":"NONE","body":"Hey @nsivabalan, \r\n\r\nWe have wrapped up our POC, therefore no  longer have the setup anymore. Sorry couldn't contribute further to the issue.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816555746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816688293","html_url":"https://github.com/apache/hudi/pull/2796#issuecomment-816688293","issue_url":"https://api.github.com/repos/apache/hudi/issues/2796","id":816688293,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjY4ODI5Mw==","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T13:37:57Z","updated_at":"2021-04-09T13:37:57Z","author_association":"CONTRIBUTOR","body":"@nsivabalan  could you pls help me to review this pr?  thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816688293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816698689","html_url":"https://github.com/apache/hudi/issues/2620#issuecomment-816698689","issue_url":"https://api.github.com/repos/apache/hudi/issues/2620","id":816698689,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjY5ODY4OQ==","user":{"login":"kimberlyamandalu","id":25435575,"node_id":"MDQ6VXNlcjI1NDM1NTc1","avatar_url":"https://avatars.githubusercontent.com/u/25435575?v=4","gravatar_id":"","url":"https://api.github.com/users/kimberlyamandalu","html_url":"https://github.com/kimberlyamandalu","followers_url":"https://api.github.com/users/kimberlyamandalu/followers","following_url":"https://api.github.com/users/kimberlyamandalu/following{/other_user}","gists_url":"https://api.github.com/users/kimberlyamandalu/gists{/gist_id}","starred_url":"https://api.github.com/users/kimberlyamandalu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimberlyamandalu/subscriptions","organizations_url":"https://api.github.com/users/kimberlyamandalu/orgs","repos_url":"https://api.github.com/users/kimberlyamandalu/repos","events_url":"https://api.github.com/users/kimberlyamandalu/events{/privacy}","received_events_url":"https://api.github.com/users/kimberlyamandalu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T13:53:16Z","updated_at":"2021-04-09T13:53:16Z","author_association":"NONE","body":"> @kimberlyamandalu : do you have a support ticket for your question. lets not pollute this issue. we can create a new one for your use-case and can discuss over there\r\n\r\nhi @nsivabalan no, i do not have a separate ticket for my question. I thought it might be related to this so I chimed in. I can open a new ticket for my use case so we can isolate. Sorry for the confusion. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816698689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816812025","html_url":"https://github.com/apache/hudi/issues/2509#issuecomment-816812025","issue_url":"https://api.github.com/repos/apache/hudi/issues/2509","id":816812025,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjgxMjAyNQ==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T16:45:28Z","updated_at":"2021-04-09T16:46:24Z","author_association":"NONE","body":"Hello Guys,\r\n\r\n@satishkotha  @nsivabalan\r\n\r\nAthena Behavior changes,\r\n\r\n<img width=\"1677\" alt=\"Captura de Tela 2021-04-08 às 22 55 24\" src=\"https://user-images.githubusercontent.com/36298331/114213658-a841c400-9939-11eb-9fc9-a2e51761908e.png\">\r\n<img width=\"1254\" alt=\"Captura de Tela 2021-04-08 às 22 58 09\" src=\"https://user-images.githubusercontent.com/36298331/114213672-ad067800-9939-11eb-872d-fe264f97fcde.png\">\r\n\r\n\r\nThis is a great news, but BETWEEN operator doesn't work.\r\n\r\nFor exemple, this query works:\r\nselect count(1) FROM \"order\" WHERE created_date >= cast('2021-04-07 03:00:00.000' as timestamp)\r\n\r\nand this query doens't work:\r\nselect count(1) FROM \"order\" WHERE created_date between cast('2021-04-09 14:00:00.000' as timestamp) and cast('2021-04-09 15:00:00.000' as timestamp)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816812025/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816889220","html_url":"https://github.com/apache/hudi/issues/2294#issuecomment-816889220","issue_url":"https://api.github.com/repos/apache/hudi/issues/2294","id":816889220,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjg4OTIyMA==","user":{"login":"vansimonsen","id":7406770,"node_id":"MDQ6VXNlcjc0MDY3NzA=","avatar_url":"https://avatars.githubusercontent.com/u/7406770?v=4","gravatar_id":"","url":"https://api.github.com/users/vansimonsen","html_url":"https://github.com/vansimonsen","followers_url":"https://api.github.com/users/vansimonsen/followers","following_url":"https://api.github.com/users/vansimonsen/following{/other_user}","gists_url":"https://api.github.com/users/vansimonsen/gists{/gist_id}","starred_url":"https://api.github.com/users/vansimonsen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vansimonsen/subscriptions","organizations_url":"https://api.github.com/users/vansimonsen/orgs","repos_url":"https://api.github.com/users/vansimonsen/repos","events_url":"https://api.github.com/users/vansimonsen/events{/privacy}","received_events_url":"https://api.github.com/users/vansimonsen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T18:50:58Z","updated_at":"2021-04-09T18:50:58Z","author_association":"NONE","body":"> @vansimonsen : Can you open a new GH issue with the stack trace . @rubenssoto : I believe the PR landed before 0.7.0 was cut.\r\n@bvaradar \r\n\r\nhttps://github.com/apache/hudi/issues/2797","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816889220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816997366","html_url":"https://github.com/apache/hudi/pull/2388#issuecomment-816997366","issue_url":"https://api.github.com/repos/apache/hudi/issues/2388","id":816997366,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjk5NzM2Ng==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T22:08:25Z","updated_at":"2021-04-09T22:08:25Z","author_association":"MEMBER","body":"@n3nash i dont have time in next 2-3 weeks to get this done. If you prefer, we can close this one. i can reopen (same PR or a different one) when i'm ready","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/816997366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817002604","html_url":"https://github.com/apache/hudi/pull/2773#issuecomment-817002604","issue_url":"https://api.github.com/repos/apache/hudi/issues/2773","id":817002604,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzAwMjYwNA==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T22:20:46Z","updated_at":"2021-04-09T22:23:20Z","author_association":"MEMBER","body":"@jintaoguan  LGTM. Can you raise PR to update documentation on [CLI page](https://hudi.apache.org/docs/deployment.html#cli)  and add example command line screenshots? the documentation is in 'asf-site' branch. See \"content/docs/deployment.html\" in the branch.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817002604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817008126","html_url":"https://github.com/apache/hudi/pull/2773#issuecomment-817008126","issue_url":"https://api.github.com/repos/apache/hudi/issues/2773","id":817008126,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzAwODEyNg==","user":{"login":"jintaoguan","id":2390826,"node_id":"MDQ6VXNlcjIzOTA4MjY=","avatar_url":"https://avatars.githubusercontent.com/u/2390826?v=4","gravatar_id":"","url":"https://api.github.com/users/jintaoguan","html_url":"https://github.com/jintaoguan","followers_url":"https://api.github.com/users/jintaoguan/followers","following_url":"https://api.github.com/users/jintaoguan/following{/other_user}","gists_url":"https://api.github.com/users/jintaoguan/gists{/gist_id}","starred_url":"https://api.github.com/users/jintaoguan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jintaoguan/subscriptions","organizations_url":"https://api.github.com/users/jintaoguan/orgs","repos_url":"https://api.github.com/users/jintaoguan/repos","events_url":"https://api.github.com/users/jintaoguan/events{/privacy}","received_events_url":"https://api.github.com/users/jintaoguan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T22:34:35Z","updated_at":"2021-04-09T22:34:35Z","author_association":"CONTRIBUTOR","body":"Sure. Will do that.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817008126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817062980","html_url":"https://github.com/apache/hudi/issues/2623#issuecomment-817062980","issue_url":"https://api.github.com/repos/apache/hudi/issues/2623","id":817062980,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzA2Mjk4MA==","user":{"login":"hj2016","id":18521084,"node_id":"MDQ6VXNlcjE4NTIxMDg0","avatar_url":"https://avatars.githubusercontent.com/u/18521084?v=4","gravatar_id":"","url":"https://api.github.com/users/hj2016","html_url":"https://github.com/hj2016","followers_url":"https://api.github.com/users/hj2016/followers","following_url":"https://api.github.com/users/hj2016/following{/other_user}","gists_url":"https://api.github.com/users/hj2016/gists{/gist_id}","starred_url":"https://api.github.com/users/hj2016/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hj2016/subscriptions","organizations_url":"https://api.github.com/users/hj2016/orgs","repos_url":"https://api.github.com/users/hj2016/repos","events_url":"https://api.github.com/users/hj2016/events{/privacy}","received_events_url":"https://api.github.com/users/hj2016/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-10T02:12:12Z","updated_at":"2021-04-10T02:12:12Z","author_association":"CONTRIBUTOR","body":"@n3nash @nsivabalan @root18039532923 I also have the same connection problem. The debug found that it was because of the jar conflict. I submitted a pr [https://github.com/apache/hudi/pull/2799]. I hope that when the connection error is reported, a more detailed stack log will be printed to help accurately locate the problem.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817062980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817063994","html_url":"https://github.com/apache/hudi/pull/2799#issuecomment-817063994","issue_url":"https://api.github.com/repos/apache/hudi/issues/2799","id":817063994,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzA2Mzk5NA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-10T02:21:26Z","updated_at":"2021-04-10T02:21:26Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2799?src=pr&el=h1) Report\n> Merging [#2799](https://codecov.io/gh/apache/hudi/pull/2799?src=pr&el=desc) (84cf6fa) into [master](https://codecov.io/gh/apache/hudi/commit/6786581c4842e47e1a8a8e942f54003dc151c7c6?el=desc) (6786581) will **increase** coverage by `17.22%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2799/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2799?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2799       +/-   ##\n=============================================\n+ Coverage     52.54%   69.77%   +17.22%     \n+ Complexity     3707      374     -3333     \n=============================================\n  Files           485       54      -431     \n  Lines         23171     1995    -21176     \n  Branches       2459      235     -2224     \n=============================================\n- Hits          12176     1392    -10784     \n+ Misses         9923      473     -9450     \n+ Partials       1072      130      -942     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `69.77% <ø> (+0.05%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2799?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...in/java/org/apache/hudi/hive/HoodieHiveClient.java](https://codecov.io/gh/apache/hudi/pull/2799/diff?src=pr&el=tree#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvSG9vZGllSGl2ZUNsaWVudC5qYXZh) | | | |\n| [.../common/bloom/HoodieDynamicBoundedBloomFilter.java](https://codecov.io/gh/apache/hudi/pull/2799/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2Jsb29tL0hvb2RpZUR5bmFtaWNCb3VuZGVkQmxvb21GaWx0ZXIuamF2YQ==) | | | |\n| [...a/org/apache/hudi/common/bloom/InternalFilter.java](https://codecov.io/gh/apache/hudi/pull/2799/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2Jsb29tL0ludGVybmFsRmlsdGVyLmphdmE=) | | | |\n| [...adoop/realtime/HoodieHFileRealtimeInputFormat.java](https://codecov.io/gh/apache/hudi/pull/2799/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL3JlYWx0aW1lL0hvb2RpZUhGaWxlUmVhbHRpbWVJbnB1dEZvcm1hdC5qYXZh) | | | |\n| [...rg/apache/hudi/hadoop/HoodieROTablePathFilter.java](https://codecov.io/gh/apache/hudi/pull/2799/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL0hvb2RpZVJPVGFibGVQYXRoRmlsdGVyLmphdmE=) | | | |\n| [...hudi/common/model/HoodieReplaceCommitMetadata.java](https://codecov.io/gh/apache/hudi/pull/2799/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZVJlcGxhY2VDb21taXRNZXRhZGF0YS5qYXZh) | | | |\n| [.../apache/hudi/common/model/CompactionOperation.java](https://codecov.io/gh/apache/hudi/pull/2799/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0NvbXBhY3Rpb25PcGVyYXRpb24uamF2YQ==) | | | |\n| [...va/org/apache/hudi/cli/commands/CleansCommand.java](https://codecov.io/gh/apache/hudi/pull/2799/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL2NvbW1hbmRzL0NsZWFuc0NvbW1hbmQuamF2YQ==) | | | |\n| [.../apache/hudi/common/bootstrap/FileStatusUtils.java](https://codecov.io/gh/apache/hudi/pull/2799/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2Jvb3RzdHJhcC9GaWxlU3RhdHVzVXRpbHMuamF2YQ==) | | | |\n| [...a/org/apache/hudi/common/util/ReflectionUtils.java](https://codecov.io/gh/apache/hudi/pull/2799/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvUmVmbGVjdGlvblV0aWxzLmphdmE=) | | | |\n| ... and [422 more](https://codecov.io/gh/apache/hudi/pull/2799/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817063994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817064692","html_url":"https://github.com/apache/hudi/pull/2798#issuecomment-817064692","issue_url":"https://api.github.com/repos/apache/hudi/issues/2798","id":817064692,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzA2NDY5Mg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-10T02:26:54Z","updated_at":"2021-04-10T02:30:37Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2798?src=pr&el=h1) Report\n> Merging [#2798](https://codecov.io/gh/apache/hudi/pull/2798?src=pr&el=desc) (81fd3bb) into [master](https://codecov.io/gh/apache/hudi/commit/18459d4045ec4a85081c227893b226a4d759f84b?el=desc) (18459d4) will **increase** coverage by `0.29%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2798/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2798?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2798      +/-   ##\n============================================\n+ Coverage     52.26%   52.56%   +0.29%     \n- Complexity     3682     3708      +26     \n============================================\n  Files           484      484              \n  Lines         23094    23167      +73     \n  Branches       2456     2459       +3     \n============================================\n+ Hits          12070    12177     +107     \n+ Misses         9959     9919      -40     \n- Partials       1065     1071       +6     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `40.29% <ø> (+3.35%)` | `0.00 <ø> (ø)` | |\n| hudiclient | `∅ <ø> (∅)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.67% <ø> (-0.10%)` | `0.00 <ø> (ø)` | |\n| hudiflink | `56.60% <ø> (+0.02%)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.44% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `71.33% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisync | `45.70% <ø> (+0.23%)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.84% <ø> (+0.12%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2798?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../org/apache/hudi/streamer/FlinkStreamerConfig.java](https://codecov.io/gh/apache/hudi/pull/2798/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zdHJlYW1lci9GbGlua1N0cmVhbWVyQ29uZmlnLmphdmE=) | `0.00% <ø> (ø)` | `0.00 <0.00> (ø)` | |\n| [...i/utilities/deltastreamer/HoodieDeltaStreamer.java](https://codecov.io/gh/apache/hudi/pull/2798/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllRGVsdGFTdHJlYW1lci5qYXZh) | `71.78% <ø> (+0.59%)` | `18.00 <0.00> (ø)` | |\n| [...s/deltastreamer/HoodieMultiTableDeltaStreamer.java](https://codecov.io/gh/apache/hudi/pull/2798/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllTXVsdGlUYWJsZURlbHRhU3RyZWFtZXIuamF2YQ==) | `78.39% <ø> (ø)` | `18.00 <0.00> (ø)` | |\n| [.../apache/hudi/sink/compact/CompactionPlanEvent.java](https://codecov.io/gh/apache/hudi/pull/2798/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL2NvbXBhY3QvQ29tcGFjdGlvblBsYW5FdmVudC5qYXZh) | `50.00% <0.00%> (-50.00%)` | `3.00% <0.00%> (ø%)` | |\n| [...pache/hudi/sink/compact/CompactionCommitEvent.java](https://codecov.io/gh/apache/hudi/pull/2798/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL2NvbXBhY3QvQ29tcGFjdGlvbkNvbW1pdEV2ZW50LmphdmE=) | `43.75% <0.00%> (-43.75%)` | `3.00% <0.00%> (ø%)` | |\n| [...i/common/table/timeline/TimelineMetadataUtils.java](https://codecov.io/gh/apache/hudi/pull/2798/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL1RpbWVsaW5lTWV0YWRhdGFVdGlscy5qYXZh) | `70.17% <0.00%> (-2.56%)` | `17.00% <0.00%> (ø%)` | |\n| [...he/hudi/sink/partitioner/BucketAssignFunction.java](https://codecov.io/gh/apache/hudi/pull/2798/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL3BhcnRpdGlvbmVyL0J1Y2tldEFzc2lnbkZ1bmN0aW9uLmphdmE=) | `85.18% <0.00%> (-2.49%)` | `17.00% <0.00%> (+2.00%)` | :arrow_down: |\n| [...in/java/org/apache/hudi/table/HoodieTableSink.java](https://codecov.io/gh/apache/hudi/pull/2798/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9Ib29kaWVUYWJsZVNpbmsuamF2YQ==) | `11.90% <0.00%> (-0.30%)` | `2.00% <0.00%> (ø%)` | |\n| [.../common/table/timeline/HoodieArchivedTimeline.java](https://codecov.io/gh/apache/hudi/pull/2798/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL0hvb2RpZUFyY2hpdmVkVGltZWxpbmUuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...he/hudi/hive/HiveStylePartitionValueExtractor.java](https://codecov.io/gh/apache/hudi/pull/2798/diff?src=pr&el=tree#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvSGl2ZVN0eWxlUGFydGl0aW9uVmFsdWVFeHRyYWN0b3IuamF2YQ==) | `100.00% <0.00%> (ø)` | `3.00% <0.00%> (?%)` | |\n| ... and [5 more](https://codecov.io/gh/apache/hudi/pull/2798/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817064692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817070783","html_url":"https://github.com/apache/hudi/pull/2796#issuecomment-817070783","issue_url":"https://api.github.com/repos/apache/hudi/issues/2796","id":817070783,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzA3MDc4Mw==","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-10T03:30:38Z","updated_at":"2021-04-10T03:30:38Z","author_association":"CONTRIBUTOR","body":"already update the code。 @yanghua      thanks for you review，   sorry for that low level mistake。","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817070783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817071591","html_url":"https://github.com/apache/hudi/pull/2722#issuecomment-817071591","issue_url":"https://api.github.com/repos/apache/hudi/issues/2722","id":817071591,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzA3MTU5MQ==","user":{"login":"xiarixiaoyao","id":13514703,"node_id":"MDQ6VXNlcjEzNTE0NzAz","avatar_url":"https://avatars.githubusercontent.com/u/13514703?v=4","gravatar_id":"","url":"https://api.github.com/users/xiarixiaoyao","html_url":"https://github.com/xiarixiaoyao","followers_url":"https://api.github.com/users/xiarixiaoyao/followers","following_url":"https://api.github.com/users/xiarixiaoyao/following{/other_user}","gists_url":"https://api.github.com/users/xiarixiaoyao/gists{/gist_id}","starred_url":"https://api.github.com/users/xiarixiaoyao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiarixiaoyao/subscriptions","organizations_url":"https://api.github.com/users/xiarixiaoyao/orgs","repos_url":"https://api.github.com/users/xiarixiaoyao/repos","events_url":"https://api.github.com/users/xiarixiaoyao/events{/privacy}","received_events_url":"https://api.github.com/users/xiarixiaoyao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-10T03:40:18Z","updated_at":"2021-04-10T03:40:18Z","author_association":"CONTRIBUTOR","body":"@garyli1019  unit test has added， pls review again， thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817071591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817078875","html_url":"https://github.com/apache/hudi/pull/2796#issuecomment-817078875","issue_url":"https://api.github.com/repos/apache/hudi/issues/2796","id":817078875,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzA3ODg3NQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-10T05:01:28Z","updated_at":"2021-04-10T05:01:28Z","author_association":"CONTRIBUTOR","body":"> already update the code。 @yanghua thanks for you review， sorry for that low level mistake。\r\n\r\nIt doesn't matter, just relax.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817078875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817085349","html_url":"https://github.com/apache/hudi/pull/1946#issuecomment-817085349","issue_url":"https://api.github.com/repos/apache/hudi/issues/1946","id":817085349,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzA4NTM0OQ==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-10T06:04:37Z","updated_at":"2021-04-10T06:05:16Z","author_association":"CONTRIBUTOR","body":"> @wangxianghu: had upgrade to `2.13.3` and fix the warning.\r\n\r\nHi @hddong thanks for your patient.\r\nwe still need `log4j2.properties` or `log4j2.xml` configs right?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817085349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817089012","html_url":"https://github.com/apache/hudi/pull/2452#issuecomment-817089012","issue_url":"https://api.github.com/repos/apache/hudi/issues/2452","id":817089012,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzA4OTAxMg==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-10T06:41:02Z","updated_at":"2021-04-10T06:41:02Z","author_association":"CONTRIBUTOR","body":"> can we just have a this implemented as a replace of the partition where all files are replaced by an empty list. cleaner would automatically clean the partition that way. Love to keep all of our tooling to be flexible at the file level, working with existing actions and timeline\r\n\r\nHi @vinothchandar @nsivabalan. sorry for the delay, kind of busy these days.\r\nThe current implementation leveraged the  API `org.apache.hudi.client.SparkRDDWriteClient#deletePartitions` provided by @lw309637554, IIUC, it is already implemented as a replace of the partition where all files are replaced by empty data.\r\n\r\nBTW, I come to think that the clean strategy is more suitable for TTL scenarios, not this one.\r\npartition deletion is a relatively fixed scene(one-shot use case), and it seems to be better to make it as a tool. In this way, the user only needs to specify the partition to be deleted, a small amount of configuration such as table information, and the partition can be deleted.\r\n\r\nIn the TTL scene, hoodie can check the outdated partitions in each commit(clean part), which could be a long-running term, so it is suitable implemented with clean strategy\r\nWDYT ?\r\ncc @n3nash @lw309637554 @yanghua ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817089012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817093176","html_url":"https://github.com/apache/hudi/pull/2800#issuecomment-817093176","issue_url":"https://api.github.com/repos/apache/hudi/issues/2800","id":817093176,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzA5MzE3Ng==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-10T07:23:28Z","updated_at":"2021-04-10T09:47:14Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2800?src=pr&el=h1) Report\n> Merging [#2800](https://codecov.io/gh/apache/hudi/pull/2800?src=pr&el=desc) (4ad6646) into [master](https://codecov.io/gh/apache/hudi/commit/18459d4045ec4a85081c227893b226a4d759f84b?el=desc) (18459d4) will **increase** coverage by `0.29%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2800/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2800?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2800      +/-   ##\n============================================\n+ Coverage     52.26%   52.55%   +0.29%     \n- Complexity     3682     3707      +25     \n============================================\n  Files           484      485       +1     \n  Lines         23094    23172      +78     \n  Branches       2456     2459       +3     \n============================================\n+ Hits          12070    12179     +109     \n+ Misses         9959     9922      -37     \n- Partials       1065     1071       +6     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `40.29% <ø> (+3.35%)` | `0.00 <ø> (ø)` | |\n| hudiclient | `∅ <ø> (∅)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.69% <ø> (-0.08%)` | `0.00 <ø> (ø)` | |\n| hudiflink | `56.57% <ø> (-0.01%)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.44% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `71.33% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| hudisync | `45.70% <ø> (+0.23%)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.72% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2800?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...spark3/internal/HoodieDataSourceInternalTable.java](https://codecov.io/gh/apache/hudi/pull/2800/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3BhcmszL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3NwYXJrMy9pbnRlcm5hbC9Ib29kaWVEYXRhU291cmNlSW50ZXJuYWxUYWJsZS5qYXZh) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [.../apache/hudi/sink/compact/CompactionPlanEvent.java](https://codecov.io/gh/apache/hudi/pull/2800/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL2NvbXBhY3QvQ29tcGFjdGlvblBsYW5FdmVudC5qYXZh) | `50.00% <0.00%> (-50.00%)` | `3.00% <0.00%> (ø%)` | |\n| [...pache/hudi/sink/compact/CompactionCommitEvent.java](https://codecov.io/gh/apache/hudi/pull/2800/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL2NvbXBhY3QvQ29tcGFjdGlvbkNvbW1pdEV2ZW50LmphdmE=) | `43.75% <0.00%> (-43.75%)` | `3.00% <0.00%> (ø%)` | |\n| [...i/common/table/timeline/TimelineMetadataUtils.java](https://codecov.io/gh/apache/hudi/pull/2800/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL1RpbWVsaW5lTWV0YWRhdGFVdGlscy5qYXZh) | `70.17% <0.00%> (-2.56%)` | `17.00% <0.00%> (ø%)` | |\n| [...he/hudi/sink/partitioner/BucketAssignFunction.java](https://codecov.io/gh/apache/hudi/pull/2800/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9zaW5rL3BhcnRpdGlvbmVyL0J1Y2tldEFzc2lnbkZ1bmN0aW9uLmphdmE=) | `85.18% <0.00%> (-2.49%)` | `17.00% <0.00%> (+2.00%)` | :arrow_down: |\n| [...in/java/org/apache/hudi/table/HoodieTableSink.java](https://codecov.io/gh/apache/hudi/pull/2800/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS90YWJsZS9Ib29kaWVUYWJsZVNpbmsuamF2YQ==) | `11.90% <0.00%> (-0.30%)` | `2.00% <0.00%> (ø%)` | |\n| [...java/org/apache/hudi/common/fs/StorageSchemes.java](https://codecov.io/gh/apache/hudi/pull/2800/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL1N0b3JhZ2VTY2hlbWVzLmphdmE=) | `100.00% <0.00%> (ø)` | `10.00% <0.00%> (ø%)` | |\n| [.../common/table/timeline/HoodieArchivedTimeline.java](https://codecov.io/gh/apache/hudi/pull/2800/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL0hvb2RpZUFyY2hpdmVkVGltZWxpbmUuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...he/hudi/hive/HiveStylePartitionValueExtractor.java](https://codecov.io/gh/apache/hudi/pull/2800/diff?src=pr&el=tree#diff-aHVkaS1zeW5jL2h1ZGktaGl2ZS1zeW5jL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2hpdmUvSGl2ZVN0eWxlUGFydGl0aW9uVmFsdWVFeHRyYWN0b3IuamF2YQ==) | `100.00% <0.00%> (ø)` | `3.00% <0.00%> (?%)` | |\n| [...n/java/org/apache/hudi/cli/commands/SparkMain.java](https://codecov.io/gh/apache/hudi/pull/2800/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL2NvbW1hbmRzL1NwYXJrTWFpbi5qYXZh) | `6.83% <0.00%> (+0.11%)` | `4.00% <0.00%> (ø%)` | |\n| ... and [4 more](https://codecov.io/gh/apache/hudi/pull/2800/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817093176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817100531","html_url":"https://github.com/apache/hudi/pull/2800#issuecomment-817100531","issue_url":"https://api.github.com/repos/apache/hudi/issues/2800","id":817100531,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzEwMDUzMQ==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-10T08:30:26Z","updated_at":"2021-04-10T08:30:26Z","author_association":"CONTRIBUTOR","body":"reopen to trigger the ci","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817100531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817100662","html_url":"https://github.com/apache/hudi/pull/2800#issuecomment-817100662","issue_url":"https://api.github.com/repos/apache/hudi/issues/2800","id":817100662,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzEwMDY2Mg==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-10T08:31:33Z","updated_at":"2021-04-10T08:31:33Z","author_association":"CONTRIBUTOR","body":"> it is so weird the unused imports would build success since there is `<module name=\"UnusedImports\"/>` in checkstyle.xml\r\n\r\nyes... seems only `hudi-integ-test` module has this problem","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817100662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817120596","html_url":"https://github.com/apache/hudi/issues/2801#issuecomment-817120596","issue_url":"https://api.github.com/repos/apache/hudi/issues/2801","id":817120596,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzEyMDU5Ng==","user":{"login":"aditiwari01","id":16352977,"node_id":"MDQ6VXNlcjE2MzUyOTc3","avatar_url":"https://avatars.githubusercontent.com/u/16352977?v=4","gravatar_id":"","url":"https://api.github.com/users/aditiwari01","html_url":"https://github.com/aditiwari01","followers_url":"https://api.github.com/users/aditiwari01/followers","following_url":"https://api.github.com/users/aditiwari01/following{/other_user}","gists_url":"https://api.github.com/users/aditiwari01/gists{/gist_id}","starred_url":"https://api.github.com/users/aditiwari01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aditiwari01/subscriptions","organizations_url":"https://api.github.com/users/aditiwari01/orgs","repos_url":"https://api.github.com/users/aditiwari01/repos","events_url":"https://api.github.com/users/aditiwari01/events{/privacy}","received_events_url":"https://api.github.com/users/aditiwari01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-10T11:22:37Z","updated_at":"2021-04-10T11:22:37Z","author_association":"CONTRIBUTOR","body":"Update:\r\n\r\nAfter setting default to 0 in case of no partition, I am able to avoid above error and able to get Table meta correctly. However, now select * query on hive return empty dataset. \r\nFrom logs I can see that `.HoodieInputFormatUtils: Total paths to process after hoodie filter 0`.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817120596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817123936","html_url":"https://github.com/apache/hudi/issues/2797#issuecomment-817123936","issue_url":"https://api.github.com/repos/apache/hudi/issues/2797","id":817123936,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzEyMzkzNg==","user":{"login":"aditiwari01","id":16352977,"node_id":"MDQ6VXNlcjE2MzUyOTc3","avatar_url":"https://avatars.githubusercontent.com/u/16352977?v=4","gravatar_id":"","url":"https://api.github.com/users/aditiwari01","html_url":"https://github.com/aditiwari01","followers_url":"https://api.github.com/users/aditiwari01/followers","following_url":"https://api.github.com/users/aditiwari01/following{/other_user}","gists_url":"https://api.github.com/users/aditiwari01/gists{/gist_id}","starred_url":"https://api.github.com/users/aditiwari01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aditiwari01/subscriptions","organizations_url":"https://api.github.com/users/aditiwari01/orgs","repos_url":"https://api.github.com/users/aditiwari01/repos","events_url":"https://api.github.com/users/aditiwari01/events{/privacy}","received_events_url":"https://api.github.com/users/aditiwari01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-10T11:46:47Z","updated_at":"2021-04-10T13:47:35Z","author_association":"CONTRIBUTOR","body":"Issue (https://github.com/apache/hudi/issues/2801) might be a duplicate.\r\n\r\nHowever while creating an unpartitioned table, my dataframe.write is getting succeeded but I am not able to query the data via hive. Although spark read are working fine for me though. (Testing via spark shell and I am using jdbc to connect to hive)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817123936/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817139358","html_url":"https://github.com/apache/hudi/issues/2801#issuecomment-817139358","issue_url":"https://api.github.com/repos/apache/hudi/issues/2801","id":817139358,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzEzOTM1OA==","user":{"login":"aditiwari01","id":16352977,"node_id":"MDQ6VXNlcjE2MzUyOTc3","avatar_url":"https://avatars.githubusercontent.com/u/16352977?v=4","gravatar_id":"","url":"https://api.github.com/users/aditiwari01","html_url":"https://github.com/aditiwari01","followers_url":"https://api.github.com/users/aditiwari01/followers","following_url":"https://api.github.com/users/aditiwari01/following{/other_user}","gists_url":"https://api.github.com/users/aditiwari01/gists{/gist_id}","starred_url":"https://api.github.com/users/aditiwari01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aditiwari01/subscriptions","organizations_url":"https://api.github.com/users/aditiwari01/orgs","repos_url":"https://api.github.com/users/aditiwari01/repos","events_url":"https://api.github.com/users/aditiwari01/events{/privacy}","received_events_url":"https://api.github.com/users/aditiwari01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-10T13:46:57Z","updated_at":"2021-04-10T13:46:57Z","author_association":"CONTRIBUTOR","body":"Please ignore the above comment. The empty result from hive was due to me missinng one of the configs.\r\n\r\nEverything is working as expected after changing the default value of `HoodieHiveUtils.DEFAULT_LEVELS_TO_BASEPATH` to 0 (currennt value 3), as explained in first comment.\r\n\r\nI think we should permanently change this to 0. 3 looks like a random number. Also I have confirmed that this default is not used anywhere other than the code snippet I've mentioned.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817139358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817144816","html_url":"https://github.com/apache/hudi/pull/2804#issuecomment-817144816","issue_url":"https://api.github.com/repos/apache/hudi/issues/2804","id":817144816,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzE0NDgxNg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-10T14:25:35Z","updated_at":"2021-04-10T14:26:33Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2804?src=pr&el=h1) Report\n> Merging [#2804](https://codecov.io/gh/apache/hudi/pull/2804?src=pr&el=desc) (5853c99) into [master](https://codecov.io/gh/apache/hudi/commit/8d4a7fe33e041719e2509f1f8ad3667e2ae7bbb4?el=desc) (8d4a7fe) will **decrease** coverage by `0.00%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2804/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2804?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2804      +/-   ##\n============================================\n- Coverage     52.55%   52.55%   -0.01%     \n  Complexity     3707     3707              \n============================================\n  Files           485      485              \n  Lines         23172    23172              \n  Branches       2459     2459              \n============================================\n- Hits          12179    12177       -2     \n- Misses         9922     9923       +1     \n- Partials       1071     1072       +1     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `40.29% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `∅ <ø> (∅)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.67% <ø> (-0.02%)` | `0.00 <ø> (ø)` | |\n| hudiflink | `56.57% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudihadoopmr | `33.44% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `71.33% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisync | `45.70% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.72% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2804?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...a/org/apache/hudi/common/util/ReflectionUtils.java](https://codecov.io/gh/apache/hudi/pull/2804/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvUmVmbGVjdGlvblV0aWxzLmphdmE=) | `22.64% <ø> (ø)` | `6.00 <0.00> (ø)` | |\n| [...e/hudi/common/table/log/HoodieLogFormatWriter.java](https://codecov.io/gh/apache/hudi/pull/2804/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9Ib29kaWVMb2dGb3JtYXRXcml0ZXIuamF2YQ==) | `78.12% <0.00%> (-1.57%)` | `26.00% <0.00%> (ø%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817144816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817145233","html_url":"https://github.com/apache/hudi/issues/2676#issuecomment-817145233","issue_url":"https://api.github.com/repos/apache/hudi/issues/2676","id":817145233,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzE0NTIzMw==","user":{"login":"wosow","id":34565079,"node_id":"MDQ6VXNlcjM0NTY1MDc5","avatar_url":"https://avatars.githubusercontent.com/u/34565079?v=4","gravatar_id":"","url":"https://api.github.com/users/wosow","html_url":"https://github.com/wosow","followers_url":"https://api.github.com/users/wosow/followers","following_url":"https://api.github.com/users/wosow/following{/other_user}","gists_url":"https://api.github.com/users/wosow/gists{/gist_id}","starred_url":"https://api.github.com/users/wosow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wosow/subscriptions","organizations_url":"https://api.github.com/users/wosow/orgs","repos_url":"https://api.github.com/users/wosow/repos","events_url":"https://api.github.com/users/wosow/events{/privacy}","received_events_url":"https://api.github.com/users/wosow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-10T14:28:32Z","updated_at":"2021-04-10T14:28:32Z","author_association":"NONE","body":"> Did you try increasing executor instances to see if the job completes in less time ?\r\n> Also, it looks like GlobalBloomIndex is enabled. This is needed only when you want record-key uniqueness across your partitions and upstream source itself does not guarantee that. Just wanted to check if this is the case.\r\n\r\nI switched GLOBAL_BLOOM to BLOOM, and the program ran very fast. Thank you for your answer","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817145233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817145303","html_url":"https://github.com/apache/hudi/issues/2676#issuecomment-817145303","issue_url":"https://api.github.com/repos/apache/hudi/issues/2676","id":817145303,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzE0NTMwMw==","user":{"login":"wosow","id":34565079,"node_id":"MDQ6VXNlcjM0NTY1MDc5","avatar_url":"https://avatars.githubusercontent.com/u/34565079?v=4","gravatar_id":"","url":"https://api.github.com/users/wosow","html_url":"https://github.com/wosow","followers_url":"https://api.github.com/users/wosow/followers","following_url":"https://api.github.com/users/wosow/following{/other_user}","gists_url":"https://api.github.com/users/wosow/gists{/gist_id}","starred_url":"https://api.github.com/users/wosow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wosow/subscriptions","organizations_url":"https://api.github.com/users/wosow/orgs","repos_url":"https://api.github.com/users/wosow/repos","events_url":"https://api.github.com/users/wosow/events{/privacy}","received_events_url":"https://api.github.com/users/wosow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-10T14:29:02Z","updated_at":"2021-04-10T14:49:59Z","author_association":"NONE","body":"> @wosow : once you respond, can you please remove \"awaiting-user-response\" label for the issue. If possible add \"awaiting-community-help\" label.\r\n\r\nSorry, I have no permission to add label @nsivabalan ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817145303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817174595","html_url":"https://github.com/apache/hudi/pull/2784#issuecomment-817174595","issue_url":"https://api.github.com/repos/apache/hudi/issues/2784","id":817174595,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzE3NDU5NQ==","user":{"login":"ssdong","id":3754011,"node_id":"MDQ6VXNlcjM3NTQwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3754011?v=4","gravatar_id":"","url":"https://api.github.com/users/ssdong","html_url":"https://github.com/ssdong","followers_url":"https://api.github.com/users/ssdong/followers","following_url":"https://api.github.com/users/ssdong/following{/other_user}","gists_url":"https://api.github.com/users/ssdong/gists{/gist_id}","starred_url":"https://api.github.com/users/ssdong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ssdong/subscriptions","organizations_url":"https://api.github.com/users/ssdong/orgs","repos_url":"https://api.github.com/users/ssdong/repos","events_url":"https://api.github.com/users/ssdong/events{/privacy}","received_events_url":"https://api.github.com/users/ssdong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-10T17:25:06Z","updated_at":"2021-04-10T17:25:06Z","author_association":"CONTRIBUTOR","body":"Hi @satishkotha, I've updated the PR to reflect the most up-to-date conversations regarding handling different scenarios of requested and inflight cases for insert_overwrite and clustering, and I've placed adequate comments to try not to confuse anyone who reads code, as it had confused me before. \r\nAlso, I updated the PR description to attach the testing evidence from local. Please take a look. Unit tests have also been updated to cover both cases, and I did some trivial refactoring, e.g. remove unused methods.\r\nLet me know if there is anything else we should be doing in this PR. Otherwise, it's in a good state to be reviewed again. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817174595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817436943","html_url":"https://github.com/apache/hudi/pull/2805#issuecomment-817436943","issue_url":"https://api.github.com/repos/apache/hudi/issues/2805","id":817436943,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzQzNjk0Mw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-12T02:29:41Z","updated_at":"2021-04-12T08:23:37Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2805?src=pr&el=h1) Report\n> Merging [#2805](https://codecov.io/gh/apache/hudi/pull/2805?src=pr&el=desc) (e892930) into [master](https://codecov.io/gh/apache/hudi/commit/6786581c4842e47e1a8a8e942f54003dc151c7c6?el=desc) (6786581) will **increase** coverage by `0.01%`.\n> The diff coverage is `100.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2805/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2805?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2805      +/-   ##\n============================================\n+ Coverage     52.54%   52.56%   +0.01%     \n- Complexity     3707     3708       +1     \n============================================\n  Files           485      485              \n  Lines         23171    23177       +6     \n  Branches       2459     2459              \n============================================\n+ Hits          12176    12183       +7     \n  Misses         9923     9923              \n+ Partials       1072     1071       -1     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `40.29% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiclient | `∅ <ø> (∅)` | `0.00 <ø> (ø)` | |\n| hudicommon | `50.67% <ø> (+<0.01%)` | `0.00 <ø> (ø)` | |\n| hudiflink | `56.63% <100.00%> (+0.05%)` | `0.00 <0.00> (ø)` | |\n| hudihadoopmr | `33.44% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisparkdatasource | `71.33% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudisync | `45.70% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| huditimelineservice | `64.36% <ø> (ø)` | `0.00 <ø> (ø)` | |\n| hudiutilities | `69.77% <ø> (+0.05%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2805?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/configuration/FlinkOptions.java](https://codecov.io/gh/apache/hudi/pull/2805/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS9jb25maWd1cmF0aW9uL0ZsaW5rT3B0aW9ucy5qYXZh) | `89.75% <100.00%> (+0.16%)` | `11.00 <0.00> (ø)` | |\n| [...c/main/java/org/apache/hudi/util/StreamerUtil.java](https://codecov.io/gh/apache/hudi/pull/2805/diff?src=pr&el=tree#diff-aHVkaS1mbGluay9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvaHVkaS91dGlsL1N0cmVhbWVyVXRpbC5qYXZh) | `57.62% <100.00%> (ø)` | `18.00 <0.00> (ø)` | |\n| [...java/org/apache/hudi/common/fs/StorageSchemes.java](https://codecov.io/gh/apache/hudi/pull/2805/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL2ZzL1N0b3JhZ2VTY2hlbWVzLmphdmE=) | `100.00% <0.00%> (ø)` | `10.00% <0.00%> (ø%)` | |\n| [...spark3/internal/HoodieDataSourceInternalTable.java](https://codecov.io/gh/apache/hudi/pull/2805/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3BhcmszL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL3NwYXJrMy9pbnRlcm5hbC9Ib29kaWVEYXRhU291cmNlSW50ZXJuYWxUYWJsZS5qYXZh) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/2805/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `71.42% <0.00%> (+0.34%)` | `56.00% <0.00%> (+1.00%)` | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817436943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817500401","html_url":"https://github.com/apache/hudi/pull/2805#issuecomment-817500401","issue_url":"https://api.github.com/repos/apache/hudi/issues/2805","id":817500401,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzUwMDQwMQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-12T05:44:31Z","updated_at":"2021-04-12T05:44:31Z","author_association":"CONTRIBUTOR","body":"@danny0405 Please recheck the Travis.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817500401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817537973","html_url":"https://github.com/apache/hudi/issues/2801#issuecomment-817537973","issue_url":"https://api.github.com/repos/apache/hudi/issues/2801","id":817537973,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzUzNzk3Mw==","user":{"login":"aditiwari01","id":16352977,"node_id":"MDQ6VXNlcjE2MzUyOTc3","avatar_url":"https://avatars.githubusercontent.com/u/16352977?v=4","gravatar_id":"","url":"https://api.github.com/users/aditiwari01","html_url":"https://github.com/aditiwari01","followers_url":"https://api.github.com/users/aditiwari01/followers","following_url":"https://api.github.com/users/aditiwari01/following{/other_user}","gists_url":"https://api.github.com/users/aditiwari01/gists{/gist_id}","starred_url":"https://api.github.com/users/aditiwari01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aditiwari01/subscriptions","organizations_url":"https://api.github.com/users/aditiwari01/orgs","repos_url":"https://api.github.com/users/aditiwari01/repos","events_url":"https://api.github.com/users/aditiwari01/events{/privacy}","received_events_url":"https://api.github.com/users/aditiwari01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-12T06:54:03Z","updated_at":"2021-04-12T06:54:03Z","author_association":"CONTRIBUTOR","body":"Issue resolved after using correct key generator class. Closing the issue.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817537973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817577121","html_url":"https://github.com/apache/hudi/pull/2805#issuecomment-817577121","issue_url":"https://api.github.com/repos/apache/hudi/issues/2805","id":817577121,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzU3NzEyMQ==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-12T07:52:51Z","updated_at":"2021-04-12T07:52:51Z","author_association":"CONTRIBUTOR","body":"Close and re-open to re-trigger the CI tests.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817577121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817599925","html_url":"https://github.com/apache/hudi/pull/2807#issuecomment-817599925","issue_url":"https://api.github.com/repos/apache/hudi/issues/2807","id":817599925,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzU5OTkyNQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-12T08:23:17Z","updated_at":"2021-04-12T08:23:17Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2807?src=pr&el=h1) Report\n> Merging [#2807](https://codecov.io/gh/apache/hudi/pull/2807?src=pr&el=desc) (97b6f4e) into [master](https://codecov.io/gh/apache/hudi/commit/d035fcbb3cf7aa33bafdd902a5e6a76f549e7ee1?el=desc) (d035fcb) will **decrease** coverage by `42.90%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2807/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2807?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master   #2807       +/-   ##\n============================================\n- Coverage     52.27%   9.37%   -42.91%     \n+ Complexity     3681      48     -3633     \n============================================\n  Files           484      54      -430     \n  Lines         23092    1995    -21097     \n  Branches       2457     235     -2222     \n============================================\n- Hits          12071     187    -11884     \n+ Misses         9958    1795     -8163     \n+ Partials       1063      13     -1050     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `9.37% <ø> (-60.38%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2807?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2807/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2807/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2807/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2807/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2807/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2807/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2807/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2807/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2807/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2807/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [461 more](https://codecov.io/gh/apache/hudi/pull/2807/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817599925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817635339","html_url":"https://github.com/apache/hudi/pull/2807#issuecomment-817635339","issue_url":"https://api.github.com/repos/apache/hudi/issues/2807","id":817635339,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzYzNTMzOQ==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-12T09:11:03Z","updated_at":"2021-04-12T09:11:03Z","author_association":"CONTRIBUTOR","body":"Hi @MyLanPangzi, we are planning to use `rocksdb` as the default state backend instead of `hdfs`, would you like to take this ticket https://issues.apache.org/jira/browse/HUDI-981","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817635339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817658270","html_url":"https://github.com/apache/hudi/pull/2710#issuecomment-817658270","issue_url":"https://api.github.com/repos/apache/hudi/issues/2710","id":817658270,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzY1ODI3MA==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-12T09:41:00Z","updated_at":"2021-04-12T09:41:00Z","author_association":"CONTRIBUTOR","body":"@yanghua   @xushiyan  please help review","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817658270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817964952","html_url":"https://github.com/apache/hudi/pull/2784#issuecomment-817964952","issue_url":"https://api.github.com/repos/apache/hudi/issues/2784","id":817964952,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzk2NDk1Mg==","user":{"login":"ssdong","id":3754011,"node_id":"MDQ6VXNlcjM3NTQwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3754011?v=4","gravatar_id":"","url":"https://api.github.com/users/ssdong","html_url":"https://github.com/ssdong","followers_url":"https://api.github.com/users/ssdong/followers","following_url":"https://api.github.com/users/ssdong/following{/other_user}","gists_url":"https://api.github.com/users/ssdong/gists{/gist_id}","starred_url":"https://api.github.com/users/ssdong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ssdong/subscriptions","organizations_url":"https://api.github.com/users/ssdong/orgs","repos_url":"https://api.github.com/users/ssdong/repos","events_url":"https://api.github.com/users/ssdong/events{/privacy}","received_events_url":"https://api.github.com/users/ssdong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-12T16:49:08Z","updated_at":"2021-04-12T16:49:08Z","author_association":"CONTRIBUTOR","body":"@satishkotha Thank you for your reviewing! I've resolved the comments. 😄 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817964952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817985394","html_url":"https://github.com/apache/hudi/pull/2678#issuecomment-817985394","issue_url":"https://api.github.com/repos/apache/hudi/issues/2678","id":817985394,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNzk4NTM5NA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-12T17:18:55Z","updated_at":"2021-04-12T17:18:55Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2678?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#2678](https://codecov.io/gh/apache/hudi/pull/2678?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (3356a28) into [master](https://codecov.io/gh/apache/hudi/commit/e8e6708aea1ace4aecaba594d7fd84a0b5cac635?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e8e6708) will **increase** coverage by `9.91%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2678/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)](https://codecov.io/gh/apache/hudi/pull/2678?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #2678      +/-   ##\n============================================\n+ Coverage     51.99%   61.91%   +9.91%     \n+ Complexity     3566      334    -3232     \n============================================\n  Files           465       54     -411     \n  Lines         22187     1993   -20194     \n  Branches       2360      235    -2125     \n============================================\n- Hits          11537     1234   -10303     \n+ Misses         9649      638    -9011     \n+ Partials       1001      121     -880     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `61.91% <ø> (-7.57%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2678?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ies/exception/HoodieSnapshotExporterException.java](https://codecov.io/gh/apache/hudi/pull/2678/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2V4Y2VwdGlvbi9Ib29kaWVTbmFwc2hvdEV4cG9ydGVyRXhjZXB0aW9uLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../apache/hudi/utilities/HoodieSnapshotExporter.java](https://codecov.io/gh/apache/hudi/pull/2678/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0hvb2RpZVNuYXBzaG90RXhwb3J0ZXIuamF2YQ==) | `5.17% <0.00%> (-83.63%)` | `0.00% <0.00%> (-28.00%)` | |\n| [...hudi/utilities/schema/JdbcbasedSchemaProvider.java](https://codecov.io/gh/apache/hudi/pull/2678/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9KZGJjYmFzZWRTY2hlbWFQcm92aWRlci5qYXZh) | `0.00% <0.00%> (-72.23%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...he/hudi/utilities/transform/AWSDmsTransformer.java](https://codecov.io/gh/apache/hudi/pull/2678/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3RyYW5zZm9ybS9BV1NEbXNUcmFuc2Zvcm1lci5qYXZh) | `0.00% <0.00%> (-66.67%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...in/java/org/apache/hudi/utilities/UtilHelpers.java](https://codecov.io/gh/apache/hudi/pull/2678/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL1V0aWxIZWxwZXJzLmphdmE=) | `40.69% <0.00%> (-23.84%)` | `27.00% <0.00%> (-6.00%)` | |\n| [...ies/sources/helpers/DatePartitionPathSelector.java](https://codecov.io/gh/apache/hudi/pull/2678/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvaGVscGVycy9EYXRlUGFydGl0aW9uUGF0aFNlbGVjdG9yLmphdmE=) | `54.68% <0.00%> (-1.57%)` | `13.00% <0.00%> (ø%)` | |\n| [...g/apache/hudi/utilities/schema/SchemaProvider.java](https://codecov.io/gh/apache/hudi/pull/2678/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlci5qYXZh) | `100.00% <0.00%> (ø)` | `3.00% <0.00%> (+1.00%)` | |\n| [...apache/hudi/utilities/sources/AvroKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2678/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb0thZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...s/deltastreamer/HoodieMultiTableDeltaStreamer.java](https://codecov.io/gh/apache/hudi/pull/2678/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllTXVsdGlUYWJsZURlbHRhU3RyZWFtZXIuamF2YQ==) | `78.39% <0.00%> (ø)` | `18.00% <0.00%> (ø%)` | |\n| [.../hadoop/realtime/AbstractRealtimeRecordReader.java](https://codecov.io/gh/apache/hudi/pull/2678/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL3JlYWx0aW1lL0Fic3RyYWN0UmVhbHRpbWVSZWNvcmRSZWFkZXIuamF2YQ==) | | | |\n| ... and [414 more](https://codecov.io/gh/apache/hudi/pull/2678/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/817985394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818047358","html_url":"https://github.com/apache/hudi/pull/2784#issuecomment-818047358","issue_url":"https://api.github.com/repos/apache/hudi/issues/2784","id":818047358,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODA0NzM1OA==","user":{"login":"ssdong","id":3754011,"node_id":"MDQ6VXNlcjM3NTQwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3754011?v=4","gravatar_id":"","url":"https://api.github.com/users/ssdong","html_url":"https://github.com/ssdong","followers_url":"https://api.github.com/users/ssdong/followers","following_url":"https://api.github.com/users/ssdong/following{/other_user}","gists_url":"https://api.github.com/users/ssdong/gists{/gist_id}","starred_url":"https://api.github.com/users/ssdong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ssdong/subscriptions","organizations_url":"https://api.github.com/users/ssdong/orgs","repos_url":"https://api.github.com/users/ssdong/repos","events_url":"https://api.github.com/users/ssdong/events{/privacy}","received_events_url":"https://api.github.com/users/ssdong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-12T18:49:51Z","updated_at":"2021-04-12T18:49:51Z","author_association":"CONTRIBUTOR","body":"hmm, that's strange. I wonder why it would break the CI.. \r\nTaking out `new byte[0]` from `createMetaFile` should have 0 impact. It's supposed to create empty files anyway..\r\nThe error msg says:\r\n```\r\nCaused by: java.io.IOException: Not an Avro data file\r\n\tat org.apache.avro.file.DataFileReader.openReader(DataFileReader.java:50)\r\n\tat org.apache.hudi.common.table.timeline.TimelineMetadataUtils.deserializeAvroMetadata(TimelineMetadataUtils.java:178)\r\n\tat org.apache.hudi.common.util.CleanerUtils.getCleanerPlan(CleanerUtils.java:106)\r\n\tat org.apache.hudi.table.action.clean.BaseCleanActionExecutor.runPendingClean(BaseCleanActionExecutor.java:84)\r\n```\r\nWill take a look.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818047358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818309223","html_url":"https://github.com/apache/hudi/pull/2607#issuecomment-818309223","issue_url":"https://api.github.com/repos/apache/hudi/issues/2607","id":818309223,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODMwOTIyMw==","user":{"login":"nbalajee","id":47542891,"node_id":"MDQ6VXNlcjQ3NTQyODkx","avatar_url":"https://avatars.githubusercontent.com/u/47542891?v=4","gravatar_id":"","url":"https://api.github.com/users/nbalajee","html_url":"https://github.com/nbalajee","followers_url":"https://api.github.com/users/nbalajee/followers","following_url":"https://api.github.com/users/nbalajee/following{/other_user}","gists_url":"https://api.github.com/users/nbalajee/gists{/gist_id}","starred_url":"https://api.github.com/users/nbalajee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nbalajee/subscriptions","organizations_url":"https://api.github.com/users/nbalajee/orgs","repos_url":"https://api.github.com/users/nbalajee/repos","events_url":"https://api.github.com/users/nbalajee/events{/privacy}","received_events_url":"https://api.github.com/users/nbalajee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-12T23:31:27Z","updated_at":"2021-04-12T23:31:27Z","author_association":"CONTRIBUTOR","body":"@prashantwason @n3nash  - updated the diff addressing the comments.  Added bloomIndex metrics.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818309223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818374939","html_url":"https://github.com/apache/hudi/pull/2807#issuecomment-818374939","issue_url":"https://api.github.com/repos/apache/hudi/issues/2807","id":818374939,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODM3NDkzOQ==","user":{"login":"MyLanPangzi","id":46845236,"node_id":"MDQ6VXNlcjQ2ODQ1MjM2","avatar_url":"https://avatars.githubusercontent.com/u/46845236?v=4","gravatar_id":"","url":"https://api.github.com/users/MyLanPangzi","html_url":"https://github.com/MyLanPangzi","followers_url":"https://api.github.com/users/MyLanPangzi/followers","following_url":"https://api.github.com/users/MyLanPangzi/following{/other_user}","gists_url":"https://api.github.com/users/MyLanPangzi/gists{/gist_id}","starred_url":"https://api.github.com/users/MyLanPangzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MyLanPangzi/subscriptions","organizations_url":"https://api.github.com/users/MyLanPangzi/orgs","repos_url":"https://api.github.com/users/MyLanPangzi/repos","events_url":"https://api.github.com/users/MyLanPangzi/events{/privacy}","received_events_url":"https://api.github.com/users/MyLanPangzi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-13T01:59:01Z","updated_at":"2021-04-13T01:59:01Z","author_association":"CONTRIBUTOR","body":"> Hi @MyLanPangzi, we are planning to use `rocksdb` as the default state backend instead of `hdfs`, would you like to take this ticket https://issues.apache.org/jira/browse/HUDI-981\r\n\r\nWhat do you mean? The hudi-flink connecotr is using rocksdb as state backend now.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818374939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818381188","html_url":"https://github.com/apache/hudi/pull/2807#issuecomment-818381188","issue_url":"https://api.github.com/repos/apache/hudi/issues/2807","id":818381188,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODM4MTE4OA==","user":{"login":"wangxianghu","id":49835526,"node_id":"MDQ6VXNlcjQ5ODM1NTI2","avatar_url":"https://avatars.githubusercontent.com/u/49835526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangxianghu","html_url":"https://github.com/wangxianghu","followers_url":"https://api.github.com/users/wangxianghu/followers","following_url":"https://api.github.com/users/wangxianghu/following{/other_user}","gists_url":"https://api.github.com/users/wangxianghu/gists{/gist_id}","starred_url":"https://api.github.com/users/wangxianghu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangxianghu/subscriptions","organizations_url":"https://api.github.com/users/wangxianghu/orgs","repos_url":"https://api.github.com/users/wangxianghu/repos","events_url":"https://api.github.com/users/wangxianghu/events{/privacy}","received_events_url":"https://api.github.com/users/wangxianghu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-13T02:17:15Z","updated_at":"2021-04-13T02:17:15Z","author_association":"CONTRIBUTOR","body":"> > Hi @MyLanPangzi, we are planning to use `rocksdb` as the default state backend instead of `hdfs`, would you like to take this ticket https://issues.apache.org/jira/browse/HUDI-981\r\n> \r\n> What do you mean? The hudi-flink connecotr is using rocksdb as state backend now.\r\n\r\nI mean`HoodieFlinkStreamer` and `HoodieFlinkStreamerV2`","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818381188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818383636","html_url":"https://github.com/apache/hudi/pull/2807#issuecomment-818383636","issue_url":"https://api.github.com/repos/apache/hudi/issues/2807","id":818383636,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODM4MzYzNg==","user":{"login":"MyLanPangzi","id":46845236,"node_id":"MDQ6VXNlcjQ2ODQ1MjM2","avatar_url":"https://avatars.githubusercontent.com/u/46845236?v=4","gravatar_id":"","url":"https://api.github.com/users/MyLanPangzi","html_url":"https://github.com/MyLanPangzi","followers_url":"https://api.github.com/users/MyLanPangzi/followers","following_url":"https://api.github.com/users/MyLanPangzi/following{/other_user}","gists_url":"https://api.github.com/users/MyLanPangzi/gists{/gist_id}","starred_url":"https://api.github.com/users/MyLanPangzi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MyLanPangzi/subscriptions","organizations_url":"https://api.github.com/users/MyLanPangzi/orgs","repos_url":"https://api.github.com/users/MyLanPangzi/repos","events_url":"https://api.github.com/users/MyLanPangzi/events{/privacy}","received_events_url":"https://api.github.com/users/MyLanPangzi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-13T02:24:27Z","updated_at":"2021-04-13T02:25:09Z","author_association":"CONTRIBUTOR","body":"> > > Hi @MyLanPangzi, we are planning to use `rocksdb` as the default state backend instead of `hdfs`, would you like to take this ticket https://issues.apache.org/jira/browse/HUDI-981\r\n> > \r\n> > \r\n> > What do you mean? The hudi-flink connecotr is using rocksdb as state backend now.\r\n> \r\n> I mean`HoodieFlinkStreamer` and `HoodieFlinkStreamerV2`\r\n\r\nthis should be a cli option or a yaml conf not hardcode. \r\nfollwing options is provided by flink .\r\ne.g\r\nstate.backend: filesystem or rocksdb\r\nstate.checkpoints.dir: hdfs://nameservice1/flink/chk/\r\nstate.savepoints.dir: hdfs://nameservice1user/flink/savepoint/\r\nstate.backend.incremental: true\r\nstate.checkpoints.num-retained: 3\r\nexecution.checkpointing.interval: 2 min\r\nexecution.checkpointing.timeout: 20 min","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818383636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818387219","html_url":"https://github.com/apache/hudi/pull/2784#issuecomment-818387219","issue_url":"https://api.github.com/repos/apache/hudi/issues/2784","id":818387219,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODM4NzIxOQ==","user":{"login":"ssdong","id":3754011,"node_id":"MDQ6VXNlcjM3NTQwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3754011?v=4","gravatar_id":"","url":"https://api.github.com/users/ssdong","html_url":"https://github.com/ssdong","followers_url":"https://api.github.com/users/ssdong/followers","following_url":"https://api.github.com/users/ssdong/following{/other_user}","gists_url":"https://api.github.com/users/ssdong/gists{/gist_id}","starred_url":"https://api.github.com/users/ssdong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ssdong/subscriptions","organizations_url":"https://api.github.com/users/ssdong/orgs","repos_url":"https://api.github.com/users/ssdong/repos","events_url":"https://api.github.com/users/ssdong/events{/privacy}","received_events_url":"https://api.github.com/users/ssdong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-13T02:35:19Z","updated_at":"2021-04-13T02:35:19Z","author_association":"CONTRIBUTOR","body":"@satishkotha Actually, there is another PR #2809 failing upon `hudi-utilities` and `hudi-spark-client`at the same spot, `TestHoodieDeltaStreamer`, in the CI. I wonder if this is a global thing? 🤔 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818387219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818387671","html_url":"https://github.com/apache/hudi/issues/2810#issuecomment-818387671","issue_url":"https://api.github.com/repos/apache/hudi/issues/2810","id":818387671,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODM4NzY3MQ==","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-13T02:36:09Z","updated_at":"2021-04-13T02:36:09Z","author_association":"NONE","body":"Hi @rubenssoto , first you should write some data to the hudi table, then you can consume the data from that hudi table.\r\nYou can refer to  the test case in [TestStreamingSource](https://github.com/apache/hudi/blob/master/hudi-spark-datasource/hudi-spark/src/test/scala/org/apache/hudi/functional/TestStreamingSource.scala).","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818387671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818389117","html_url":"https://github.com/apache/hudi/pull/2784#issuecomment-818389117","issue_url":"https://api.github.com/repos/apache/hudi/issues/2784","id":818389117,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODM4OTExNw==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-13T02:40:36Z","updated_at":"2021-04-13T02:40:36Z","author_association":"MEMBER","body":"> @satishkotha Actually, there is another PR #2809 failing upon `hudi-utilities` and `hudi-spark-client`at the same spot, `TestHoodieDeltaStreamer`, in the CI. I wonder if this is a global thing? 🤔\r\n\r\n@ssdong possible failures are unrelated. Could you restart the build? I think you can push an empty commit to restart CI job. (You can also close and reopen PR)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818389117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818401935","html_url":"https://github.com/apache/hudi/pull/2784#issuecomment-818401935","issue_url":"https://api.github.com/repos/apache/hudi/issues/2784","id":818401935,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODQwMTkzNQ==","user":{"login":"ssdong","id":3754011,"node_id":"MDQ6VXNlcjM3NTQwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/3754011?v=4","gravatar_id":"","url":"https://api.github.com/users/ssdong","html_url":"https://github.com/ssdong","followers_url":"https://api.github.com/users/ssdong/followers","following_url":"https://api.github.com/users/ssdong/following{/other_user}","gists_url":"https://api.github.com/users/ssdong/gists{/gist_id}","starred_url":"https://api.github.com/users/ssdong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ssdong/subscriptions","organizations_url":"https://api.github.com/users/ssdong/orgs","repos_url":"https://api.github.com/users/ssdong/repos","events_url":"https://api.github.com/users/ssdong/events{/privacy}","received_events_url":"https://api.github.com/users/ssdong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-13T03:21:18Z","updated_at":"2021-04-13T03:21:18Z","author_association":"CONTRIBUTOR","body":"> @ssdong possible failures are unrelated. Could you restart the build? I think you can push an empty commit to restart CI job. (You can also close and reopen PR)\r\n\r\nYep! Git allows empty commit. 😄 Triggered! ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818401935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818453992","html_url":"https://github.com/apache/hudi/issues/2787#issuecomment-818453992","issue_url":"https://api.github.com/repos/apache/hudi/issues/2787","id":818453992,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODQ1Mzk5Mg==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-13T05:42:23Z","updated_at":"2021-04-13T05:42:23Z","author_association":"NONE","body":"Hello,\r\n\r\nMy Hudi config\r\n\r\n`Map(hoodie.datasource.hive_sync.database -> raw_freshdesk, \r\nhoodie.parquet.small.file.limit -> 402653184, \r\nhoodie.copyonwrite.record.size.estimate -> 1024, \r\nhoodie.datasource.hive_sync.support_timestamp -> true, \r\nhoodie.datasource.write.precombine.field -> updated_at, \r\nhoodie.datasource.hive_sync.partition_extractor_class -> org.apache.hudi.hive.NonPartitionedExtractor, hoodie.parquet.max.file.size -> 419430400, \r\nhoodie.parquet.block.size -> 402653184, \r\nhoodie.datasource.hive_sync.table -> agents, \r\nhoodie.datasource.write.operation -> upsert, hoodie.datasource.hive_sync.enable -> false, hoodie.datasource.write.recordkey.field -> id, \r\nhoodie.table.name -> agents, \r\nhoodie.datasource.hive_sync.jdbcurl -> jdbc:hive2://hive:10000, \r\nhoodie.datasource.write.hive_style_partitioning -> false, \r\nhoodie.datasource.write.table.name -> agents, hoodie.datasource.write.keygenerator.class -> org.apache.hudi.keygen.NonpartitionedKeyGenerator, \r\nhoodie.keep.max.commits -> 38, \r\nhoodie.upsert.shuffle.parallelism -> 100, \r\nhoodie.cleaner.commits.retained -> 36,\r\n hoodie.keep.min.commits -> 37, hoodie.clean.async -> true)`\r\n\r\nAfter a few batchs of writes, probably is something related to schema, but hudi doesn't show where exactly is the problem, like the column name for example.\r\nThe problem only happens at night, this is the part of the day that we have less data coming.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818453992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818455085","html_url":"https://github.com/apache/hudi/issues/2806#issuecomment-818455085","issue_url":"https://api.github.com/repos/apache/hudi/issues/2806","id":818455085,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODQ1NTA4NQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-13T05:44:59Z","updated_at":"2021-04-13T05:44:59Z","author_association":"CONTRIBUTOR","body":"@tmac2100 The commands you have provided to reproduce this issue seem to be related to the internal working of your company. I'm unable to reproduce this issue with the given command. \r\n\r\nCan you provide some additional information so I can help debug this issue ?\r\n\r\n1. How many records are you ingesting in every batch ?\r\n2. How many of these are inserts vs updates ?\r\n3. From what it looks like, you have chosen a partition path but no partitioning strategy, is this a partitioned table or a non-partitioned one ?\r\n4. Can you describe the amount of time by which each subsequent batch is increasing ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818455085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818455364","html_url":"https://github.com/apache/hudi/issues/2588#issuecomment-818455364","issue_url":"https://api.github.com/repos/apache/hudi/issues/2588","id":818455364,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODQ1NTM2NA==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-13T05:45:41Z","updated_at":"2021-04-13T05:45:41Z","author_association":"NONE","body":"Hello Guys,\r\n\r\nI think is something related to EMR and Hive, we made a solution for our own to only enable hive sync when schema changes.\r\n\r\nIt could be a good feature to Hudi, enable syncs only when schema changes or a new partition arrives.\r\n\r\nI will close the issue, because is not something related to hudi.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818455364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818457749","html_url":"https://github.com/apache/hudi/issues/2802#issuecomment-818457749","issue_url":"https://api.github.com/repos/apache/hudi/issues/2802","id":818457749,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODQ1Nzc0OQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-13T05:51:29Z","updated_at":"2021-04-13T05:51:29Z","author_association":"CONTRIBUTOR","body":"@aditiwari01 What failure do you see ? Generally the following is the execution path\r\n\r\n1. Provide new writer schema to Hudi\r\n2. Write data with new writer schema to hudi log files\r\n\r\nHere there are 2 possibilities \r\n\r\na. Commit this batch succeeds - In this case, the writerSchema for the `AbstractRealtimeRecordReader` will be this latest schema with which the latest data was written\r\nb. Commit this batch fails - In this case, the writerSchema for the `AbstractRealtimeRecordReader` will be this latest schema by the previous successful commit with which the latest data for that commit was written. This failed commit will not have the latest schema or the data. \r\n\r\nThere shouldn't be a scenario where inside Hudi, a data record for the latest schema is written while the schema is not committed or vice-versa.\r\n\r\nIf you see some exceptions, please paste it here so I can understand your problem in more details. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818457749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818459734","html_url":"https://github.com/apache/hudi/issues/2797#issuecomment-818459734","issue_url":"https://api.github.com/repos/apache/hudi/issues/2797","id":818459734,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODQ1OTczNA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-13T05:56:00Z","updated_at":"2021-04-13T05:56:00Z","author_association":"CONTRIBUTOR","body":"@vansimonsen Can you check the issue that @aditiwari01 is pointing to and check if you are using the correct `KeyGenerators` as well as `PartitionValueExtractor` (check here -> https://hudi.apache.org/docs/configurations.html#HIVE_PARTITION_EXTRACTOR_CLASS_OPT_KEY) ?\r\n\r\nAdditionally, this looks like the `basePath` might not have been correctly registered to Glue. Let me know after you check these configs, if they don't work, this may be a legit bug","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818459734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818475997","html_url":"https://github.com/apache/hudi/issues/2806#issuecomment-818475997","issue_url":"https://api.github.com/repos/apache/hudi/issues/2806","id":818475997,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODQ3NTk5Nw==","user":{"login":"tmac2100","id":48118940,"node_id":"MDQ6VXNlcjQ4MTE4OTQw","avatar_url":"https://avatars.githubusercontent.com/u/48118940?v=4","gravatar_id":"","url":"https://api.github.com/users/tmac2100","html_url":"https://github.com/tmac2100","followers_url":"https://api.github.com/users/tmac2100/followers","following_url":"https://api.github.com/users/tmac2100/following{/other_user}","gists_url":"https://api.github.com/users/tmac2100/gists{/gist_id}","starred_url":"https://api.github.com/users/tmac2100/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tmac2100/subscriptions","organizations_url":"https://api.github.com/users/tmac2100/orgs","repos_url":"https://api.github.com/users/tmac2100/repos","events_url":"https://api.github.com/users/tmac2100/events{/privacy}","received_events_url":"https://api.github.com/users/tmac2100/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-13T06:29:01Z","updated_at":"2021-04-13T06:33:52Z","author_association":"NONE","body":"@n3nash Thank you for your help.\r\n> * How many records are you ingesting in every batch ?\r\nAbout 300M \r\n> * How many of these are inserts vs updates ?\r\n80% insert and 20% update\r\n> * From what it looks like, you have chosen a partition path but no partitioning strategy, is this a partitioned table or a non-partitioned one ?\r\nPartitioned table by create date column,date format yyyymmdd, like 20210413\r\n> * Can you describe the amount of time by which each subsequent batch is increasing ?\r\nthe first batch cost 7 minutes complete,5 hours later,the batch lasted 16 hours and was still incomplete\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818475997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818504260","html_url":"https://github.com/apache/hudi/pull/2666#issuecomment-818504260","issue_url":"https://api.github.com/repos/apache/hudi/issues/2666","id":818504260,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODUwNDI2MA==","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-13T07:19:14Z","updated_at":"2021-04-13T07:19:14Z","author_association":"CONTRIBUTOR","body":"> sorry for late turn around on reviewing this. We should definitely get this before next release.\r\n> \r\n> I am yet to review tests. but few high level thoughts on reviewing source code.\r\n> \r\n> * Shouldn't we check schema compatibility? what incase new incoming batch is not compatible w/ table schema w/ partial updates set to true? did we cover this scenario.\r\n> * I see we have added support only for COW. should we throw exception if the config is set for MOR?\r\n> * I don't have a good idea of adding sql DML support to hoodie table. But if feasible, once such support is added, do you think we can leverage this w/o duplicating the work for sql DML. for eg, \"update col1 = 'new_york' where col2= '123'\" Such partial updates should translate from sql layer to this right.\r\n> * In tests, do verify that schema in commit metadata refers to table schema and not incoming partial schema.\r\n\r\nI have the same feeling, we should still use the old schema with full fields there, for new records with partial values, we can patch them up with a builtin placeholder values, and when we pre_combine the old and new, if we encounter the placeholder values, use the value from the existing record.\r\n\r\nIn any case, to be consistent with SQL, please do not modify the schema which mess the thing up.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818504260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818545558","html_url":"https://github.com/apache/hudi/pull/2790#issuecomment-818545558","issue_url":"https://api.github.com/repos/apache/hudi/issues/2790","id":818545558,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODU0NTU1OA==","user":{"login":"li36909","id":3632162,"node_id":"MDQ6VXNlcjM2MzIxNjI=","avatar_url":"https://avatars.githubusercontent.com/u/3632162?v=4","gravatar_id":"","url":"https://api.github.com/users/li36909","html_url":"https://github.com/li36909","followers_url":"https://api.github.com/users/li36909/followers","following_url":"https://api.github.com/users/li36909/following{/other_user}","gists_url":"https://api.github.com/users/li36909/gists{/gist_id}","starred_url":"https://api.github.com/users/li36909/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/li36909/subscriptions","organizations_url":"https://api.github.com/users/li36909/orgs","repos_url":"https://api.github.com/users/li36909/repos","events_url":"https://api.github.com/users/li36909/events{/privacy}","received_events_url":"https://api.github.com/users/li36909/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-13T08:20:14Z","updated_at":"2021-04-13T08:20:14Z","author_association":"CONTRIBUTOR","body":"@nsivabalan thank you, I had change the link. let me check the UT fail first, then I will chagne the title","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818545558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818547029","html_url":"https://github.com/apache/hudi/pull/2790#issuecomment-818547029","issue_url":"https://api.github.com/repos/apache/hudi/issues/2790","id":818547029,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODU0NzAyOQ==","user":{"login":"li36909","id":3632162,"node_id":"MDQ6VXNlcjM2MzIxNjI=","avatar_url":"https://avatars.githubusercontent.com/u/3632162?v=4","gravatar_id":"","url":"https://api.github.com/users/li36909","html_url":"https://github.com/li36909","followers_url":"https://api.github.com/users/li36909/followers","following_url":"https://api.github.com/users/li36909/following{/other_user}","gists_url":"https://api.github.com/users/li36909/gists{/gist_id}","starred_url":"https://api.github.com/users/li36909/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/li36909/subscriptions","organizations_url":"https://api.github.com/users/li36909/orgs","repos_url":"https://api.github.com/users/li36909/repos","events_url":"https://api.github.com/users/li36909/events{/privacy}","received_events_url":"https://api.github.com/users/li36909/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-13T08:22:26Z","updated_at":"2021-04-13T08:32:34Z","author_association":"CONTRIBUTOR","body":"there are some UT fail cause by: https://github.com/apache/parquet-mr/pull/747/files\r\nat this pr, parquet set requiredSchema first then do filter, and when we run count() at spark morRelation, the requiredSchma is empty, then the filter result is empty.\r\nI upgrade parquet version for spark also, and sprk has not problem, and I hand check the reson is that: spark add filter attributes to requiredSchema like this:\r\nval requiredExpressions: Seq[NamedExpression] = filterAttributes.toSeq ++ projects","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818547029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818602431","html_url":"https://github.com/apache/hudi/pull/2744#issuecomment-818602431","issue_url":"https://api.github.com/repos/apache/hudi/issues/2744","id":818602431,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODYwMjQzMQ==","user":{"login":"NickCodeJourney","id":72905543,"node_id":"MDQ6VXNlcjcyOTA1NTQz","avatar_url":"https://avatars.githubusercontent.com/u/72905543?v=4","gravatar_id":"","url":"https://api.github.com/users/NickCodeJourney","html_url":"https://github.com/NickCodeJourney","followers_url":"https://api.github.com/users/NickCodeJourney/followers","following_url":"https://api.github.com/users/NickCodeJourney/following{/other_user}","gists_url":"https://api.github.com/users/NickCodeJourney/gists{/gist_id}","starred_url":"https://api.github.com/users/NickCodeJourney/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NickCodeJourney/subscriptions","organizations_url":"https://api.github.com/users/NickCodeJourney/orgs","repos_url":"https://api.github.com/users/NickCodeJourney/repos","events_url":"https://api.github.com/users/NickCodeJourney/events{/privacy}","received_events_url":"https://api.github.com/users/NickCodeJourney/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-13T09:43:12Z","updated_at":"2021-04-13T09:43:12Z","author_association":"CONTRIBUTOR","body":"@pratyakshsharma Please review my new code .thank you","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818602431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818687245","html_url":"https://github.com/apache/hudi/issues/2609#issuecomment-818687245","issue_url":"https://api.github.com/repos/apache/hudi/issues/2609","id":818687245,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODY4NzI0NQ==","user":{"login":"njalan","id":8622340,"node_id":"MDQ6VXNlcjg2MjIzNDA=","avatar_url":"https://avatars.githubusercontent.com/u/8622340?v=4","gravatar_id":"","url":"https://api.github.com/users/njalan","html_url":"https://github.com/njalan","followers_url":"https://api.github.com/users/njalan/followers","following_url":"https://api.github.com/users/njalan/following{/other_user}","gists_url":"https://api.github.com/users/njalan/gists{/gist_id}","starred_url":"https://api.github.com/users/njalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/njalan/subscriptions","organizations_url":"https://api.github.com/users/njalan/orgs","repos_url":"https://api.github.com/users/njalan/repos","events_url":"https://api.github.com/users/njalan/events{/privacy}","received_events_url":"https://api.github.com/users/njalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-13T12:13:47Z","updated_at":"2021-04-13T12:13:47Z","author_association":"NONE","body":"> @rshanmugam1 see https://prestodb.io/blog/2020/08/04/prestodb-and-hudi and [prestodb/presto@9fd2459](https://github.com/prestodb/presto/commit/9fd2459d98efd0809023b175ba53775466b74cc6) and [prestodb/presto@cfb2e7a](https://github.com/prestodb/presto/commit/cfb2e7aa077954a02c048e81c97a47994d329852)\r\n\r\nis it merged into presto sql?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/818687245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]