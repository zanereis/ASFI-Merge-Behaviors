[{"url":"https://api.github.com/repos/apache/brpc/issues/comments/553752681","html_url":"https://github.com/apache/brpc/pull/966#issuecomment-553752681","issue_url":"https://api.github.com/repos/apache/brpc/issues/966","id":553752681,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Mzc1MjY4MQ==","user":{"login":"zyctree","id":17808052,"node_id":"MDQ6VXNlcjE3ODA4MDUy","avatar_url":"https://avatars.githubusercontent.com/u/17808052?v=4","gravatar_id":"","url":"https://api.github.com/users/zyctree","html_url":"https://github.com/zyctree","followers_url":"https://api.github.com/users/zyctree/followers","following_url":"https://api.github.com/users/zyctree/following{/other_user}","gists_url":"https://api.github.com/users/zyctree/gists{/gist_id}","starred_url":"https://api.github.com/users/zyctree/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyctree/subscriptions","organizations_url":"https://api.github.com/users/zyctree/orgs","repos_url":"https://api.github.com/users/zyctree/repos","events_url":"https://api.github.com/users/zyctree/events{/privacy}","received_events_url":"https://api.github.com/users/zyctree/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-14T06:55:53Z","updated_at":"2019-11-14T06:55:53Z","author_association":"CONTRIBUTOR","body":"clang-6.0\r\na simple test\r\n```\r\n$ clang-6.0 -dM -E - < /dev/null  | grep GNU\r\n#define __GNUC_MINOR__ 2\r\n#define __GNUC_PATCHLEVEL__ 1\r\n#define __GNUC_STDC_INLINE__ 1\r\n#define __GNUC__ 4\r\n```","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/553752681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/553810688","html_url":"https://github.com/apache/brpc/pull/966#issuecomment-553810688","issue_url":"https://api.github.com/repos/apache/brpc/issues/966","id":553810688,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzgxMDY4OA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-14T09:49:50Z","updated_at":"2019-11-14T09:49:50Z","author_association":"CONTRIBUTOR","body":"Our travis-ci on clang seems working. Anyway, the definition of \"thread_local\" is already useless in this repo which turns on C++11 by default. The deprecated code will be removed soon, thanks for your contribution.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/553810688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/553816645","html_url":"https://github.com/apache/brpc/pull/966#issuecomment-553816645","issue_url":"https://api.github.com/repos/apache/brpc/issues/966","id":553816645,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzgxNjY0NQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-14T10:05:07Z","updated_at":"2019-11-14T10:05:07Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/incubator-brpc/commit/6efb0cff5f30f32437c660cef01c93549cf62679","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/553816645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/554073251","html_url":"https://github.com/apache/brpc/issues/208#issuecomment-554073251","issue_url":"https://api.github.com/repos/apache/brpc/issues/208","id":554073251,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDA3MzI1MQ==","user":{"login":"xmm1989218","id":983106,"node_id":"MDQ6VXNlcjk4MzEwNg==","avatar_url":"https://avatars.githubusercontent.com/u/983106?v=4","gravatar_id":"","url":"https://api.github.com/users/xmm1989218","html_url":"https://github.com/xmm1989218","followers_url":"https://api.github.com/users/xmm1989218/followers","following_url":"https://api.github.com/users/xmm1989218/following{/other_user}","gists_url":"https://api.github.com/users/xmm1989218/gists{/gist_id}","starred_url":"https://api.github.com/users/xmm1989218/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xmm1989218/subscriptions","organizations_url":"https://api.github.com/users/xmm1989218/orgs","repos_url":"https://api.github.com/users/xmm1989218/repos","events_url":"https://api.github.com/users/xmm1989218/events{/privacy}","received_events_url":"https://api.github.com/users/xmm1989218/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-14T20:49:35Z","updated_at":"2019-11-14T20:49:35Z","author_association":"NONE","body":"我demon方式启动服务","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/554073251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/554230841","html_url":"https://github.com/apache/brpc/issues/208#issuecomment-554230841","issue_url":"https://api.github.com/repos/apache/brpc/issues/208","id":554230841,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDIzMDg0MQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-15T06:24:31Z","updated_at":"2019-11-15T06:24:31Z","author_association":"CONTRIBUTOR","body":"具体形式是？fork()之后parent exit，child不exec直接继续运行么？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/554230841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/554259697","html_url":"https://github.com/apache/brpc/issues/968#issuecomment-554259697","issue_url":"https://api.github.com/repos/apache/brpc/issues/968","id":554259697,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDI1OTY5Nw==","user":{"login":"aericpp","id":5396305,"node_id":"MDQ6VXNlcjUzOTYzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/5396305?v=4","gravatar_id":"","url":"https://api.github.com/users/aericpp","html_url":"https://github.com/aericpp","followers_url":"https://api.github.com/users/aericpp/followers","following_url":"https://api.github.com/users/aericpp/following{/other_user}","gists_url":"https://api.github.com/users/aericpp/gists{/gist_id}","starred_url":"https://api.github.com/users/aericpp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aericpp/subscriptions","organizations_url":"https://api.github.com/users/aericpp/orgs","repos_url":"https://api.github.com/users/aericpp/repos","events_url":"https://api.github.com/users/aericpp/events{/privacy}","received_events_url":"https://api.github.com/users/aericpp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-15T08:17:38Z","updated_at":"2019-11-15T08:17:38Z","author_association":"NONE","body":"@old-bear hello 能否帮忙快速确认一下是我的代码问题（比如，有什么配置项没有设置），还是目前brpc框架支持问题？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/554259697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/554260202","html_url":"https://github.com/apache/brpc/issues/968#issuecomment-554260202","issue_url":"https://api.github.com/repos/apache/brpc/issues/968","id":554260202,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDI2MDIwMg==","user":{"login":"old-bear","id":1525532,"node_id":"MDQ6VXNlcjE1MjU1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1525532?v=4","gravatar_id":"","url":"https://api.github.com/users/old-bear","html_url":"https://github.com/old-bear","followers_url":"https://api.github.com/users/old-bear/followers","following_url":"https://api.github.com/users/old-bear/following{/other_user}","gists_url":"https://api.github.com/users/old-bear/gists{/gist_id}","starred_url":"https://api.github.com/users/old-bear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/old-bear/subscriptions","organizations_url":"https://api.github.com/users/old-bear/orgs","repos_url":"https://api.github.com/users/old-bear/repos","events_url":"https://api.github.com/users/old-bear/events{/privacy}","received_events_url":"https://api.github.com/users/old-bear/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-15T08:19:32Z","updated_at":"2019-11-15T08:19:32Z","author_association":"CONTRIBUTOR","body":"由于之前一些SSL版本过低，renegotiation会引发安全问题，所以代码这里把这个关了\r\nhttps://github.com/apache/incubator-brpc/blob/6efb0cff5f30f32437c660cef01c93549cf62679/src/brpc/details/ssl_helper.cpp#L140\r\n\r\n你看下你的log中，是否有上面日志里的这句话\r\nClose xxx  due to insecure renegotiation detected (CVE-2009-3555)","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/554260202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/554261584","html_url":"https://github.com/apache/brpc/issues/968#issuecomment-554261584","issue_url":"https://api.github.com/repos/apache/brpc/issues/968","id":554261584,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDI2MTU4NA==","user":{"login":"aericpp","id":5396305,"node_id":"MDQ6VXNlcjUzOTYzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/5396305?v=4","gravatar_id":"","url":"https://api.github.com/users/aericpp","html_url":"https://github.com/aericpp","followers_url":"https://api.github.com/users/aericpp/followers","following_url":"https://api.github.com/users/aericpp/following{/other_user}","gists_url":"https://api.github.com/users/aericpp/gists{/gist_id}","starred_url":"https://api.github.com/users/aericpp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aericpp/subscriptions","organizations_url":"https://api.github.com/users/aericpp/orgs","repos_url":"https://api.github.com/users/aericpp/repos","events_url":"https://api.github.com/users/aericpp/events{/privacy}","received_events_url":"https://api.github.com/users/aericpp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-15T08:24:04Z","updated_at":"2019-11-15T08:24:04Z","author_association":"NONE","body":"> 由于之前一些SSL版本过低，renegotiation会引发安全问题，所以代码这里把这个关了\r\n> https://github.com/apache/incubator-brpc/blob/6efb0cff5f30f32437c660cef01c93549cf62679/src/brpc/details/ssl_helper.cpp#L140\r\n> \r\n> 你看下你的log中，是否有上面日志里的这句话\r\n> Close xxx due to insecure renegotiation detected (CVE-2009-3555)\r\n\r\n有两种情况：\r\n1. 使用openssl s_client工具测试的时候 不用reconenct参数，第一次请求以后输入R请求第二次，这种时候确实是会报cve这个错误。\r\n2. 直接使用reconnect参数是不会报这个错误，只有我上面列举的session id context uninitialized。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/554261584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/554263568","html_url":"https://github.com/apache/brpc/issues/968#issuecomment-554263568","issue_url":"https://api.github.com/repos/apache/brpc/issues/968","id":554263568,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDI2MzU2OA==","user":{"login":"old-bear","id":1525532,"node_id":"MDQ6VXNlcjE1MjU1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1525532?v=4","gravatar_id":"","url":"https://api.github.com/users/old-bear","html_url":"https://github.com/old-bear","followers_url":"https://api.github.com/users/old-bear/followers","following_url":"https://api.github.com/users/old-bear/following{/other_user}","gists_url":"https://api.github.com/users/old-bear/gists{/gist_id}","starred_url":"https://api.github.com/users/old-bear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/old-bear/subscriptions","organizations_url":"https://api.github.com/users/old-bear/orgs","repos_url":"https://api.github.com/users/old-bear/repos","events_url":"https://api.github.com/users/old-bear/events{/privacy}","received_events_url":"https://api.github.com/users/old-bear/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-15T08:30:38Z","updated_at":"2019-11-15T08:30:38Z","author_association":"CONTRIBUTOR","body":"看上去像是session没在SSL的cache里，你看下ssl_options.h里的`session_lifetime_s`和`session_cache_size`2个参数，是不是时间过期或者大小问题","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/554263568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/554265193","html_url":"https://github.com/apache/brpc/issues/968#issuecomment-554265193","issue_url":"https://api.github.com/repos/apache/brpc/issues/968","id":554265193,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDI2NTE5Mw==","user":{"login":"aericpp","id":5396305,"node_id":"MDQ6VXNlcjUzOTYzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/5396305?v=4","gravatar_id":"","url":"https://api.github.com/users/aericpp","html_url":"https://github.com/aericpp","followers_url":"https://api.github.com/users/aericpp/followers","following_url":"https://api.github.com/users/aericpp/following{/other_user}","gists_url":"https://api.github.com/users/aericpp/gists{/gist_id}","starred_url":"https://api.github.com/users/aericpp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aericpp/subscriptions","organizations_url":"https://api.github.com/users/aericpp/orgs","repos_url":"https://api.github.com/users/aericpp/repos","events_url":"https://api.github.com/users/aericpp/events{/privacy}","received_events_url":"https://api.github.com/users/aericpp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-15T08:36:09Z","updated_at":"2019-11-15T08:36:09Z","author_association":"NONE","body":"> 看上去像是session没在SSL的cache里，你看下ssl_options.h里的`session_lifetime_s`和`session_cache_size`2个参数，是不是时间过期或者大小问题\r\n\r\n最初我也怀疑过是不是这两个参数没有生效，默认的是300s和20480，我也修改过改成20s和20。\r\n修改后，在不开启双向认证的时候，单独用openssl测试sess_in和sess_out，超过20s没有使用的SSL会话确实是会失效，20s内就能正常复用。\r\n而开启双向认证以后，服务端也能够正常的在协商SSL时候返回有效期300s这个数值，但实际reuse时，效果就是无法复用。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/554265193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/554266126","html_url":"https://github.com/apache/brpc/issues/968#issuecomment-554266126","issue_url":"https://api.github.com/repos/apache/brpc/issues/968","id":554266126,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDI2NjEyNg==","user":{"login":"aericpp","id":5396305,"node_id":"MDQ6VXNlcjUzOTYzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/5396305?v=4","gravatar_id":"","url":"https://api.github.com/users/aericpp","html_url":"https://github.com/aericpp","followers_url":"https://api.github.com/users/aericpp/followers","following_url":"https://api.github.com/users/aericpp/following{/other_user}","gists_url":"https://api.github.com/users/aericpp/gists{/gist_id}","starred_url":"https://api.github.com/users/aericpp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aericpp/subscriptions","organizations_url":"https://api.github.com/users/aericpp/orgs","repos_url":"https://api.github.com/users/aericpp/repos","events_url":"https://api.github.com/users/aericpp/events{/privacy}","received_events_url":"https://api.github.com/users/aericpp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-15T08:39:14Z","updated_at":"2019-11-15T08:39:14Z","author_association":"NONE","body":"> 由于之前一些SSL版本过低，renegotiation会引发安全问题，所以代码这里把这个关了\r\n> https://github.com/apache/incubator-brpc/blob/6efb0cff5f30f32437c660cef01c93549cf62679/src/brpc/details/ssl_helper.cpp#L140\r\n> \r\n> 你看下你的log中，是否有上面日志里的这句话\r\n> Close xxx due to insecure renegotiation detected (CVE-2009-3555)\r\n\r\n另外，这个关闭功能是针对openssl低版本吗？版本号条件有么？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/554266126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/554267218","html_url":"https://github.com/apache/brpc/issues/968#issuecomment-554267218","issue_url":"https://api.github.com/repos/apache/brpc/issues/968","id":554267218,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDI2NzIxOA==","user":{"login":"old-bear","id":1525532,"node_id":"MDQ6VXNlcjE1MjU1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1525532?v=4","gravatar_id":"","url":"https://api.github.com/users/old-bear","html_url":"https://github.com/old-bear","followers_url":"https://api.github.com/users/old-bear/followers","following_url":"https://api.github.com/users/old-bear/following{/other_user}","gists_url":"https://api.github.com/users/old-bear/gists{/gist_id}","starred_url":"https://api.github.com/users/old-bear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/old-bear/subscriptions","organizations_url":"https://api.github.com/users/old-bear/orgs","repos_url":"https://api.github.com/users/old-bear/repos","events_url":"https://api.github.com/users/old-bear/events{/privacy}","received_events_url":"https://api.github.com/users/old-bear/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-15T08:43:01Z","updated_at":"2019-11-15T08:43:01Z","author_association":"CONTRIBUTOR","body":"> > 由于之前一些SSL版本过低，renegotiation会引发安全问题，所以代码这里把这个关了\r\n> > https://github.com/apache/incubator-brpc/blob/6efb0cff5f30f32437c660cef01c93549cf62679/src/brpc/details/ssl_helper.cpp#L140\r\n> > \r\n> > 你看下你的log中，是否有上面日志里的这句话\r\n> > Close xxx due to insecure renegotiation detected (CVE-2009-3555)\r\n> \r\n> 另外，这个关闭功能是针对openssl低版本吗？版本号条件有么？\r\n\r\n没，当时看最新的发布版还未修复，你这边openssl版本号是多少？我去复现下","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/554267218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/554268497","html_url":"https://github.com/apache/brpc/issues/968#issuecomment-554268497","issue_url":"https://api.github.com/repos/apache/brpc/issues/968","id":554268497,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDI2ODQ5Nw==","user":{"login":"aericpp","id":5396305,"node_id":"MDQ6VXNlcjUzOTYzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/5396305?v=4","gravatar_id":"","url":"https://api.github.com/users/aericpp","html_url":"https://github.com/aericpp","followers_url":"https://api.github.com/users/aericpp/followers","following_url":"https://api.github.com/users/aericpp/following{/other_user}","gists_url":"https://api.github.com/users/aericpp/gists{/gist_id}","starred_url":"https://api.github.com/users/aericpp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aericpp/subscriptions","organizations_url":"https://api.github.com/users/aericpp/orgs","repos_url":"https://api.github.com/users/aericpp/repos","events_url":"https://api.github.com/users/aericpp/events{/privacy}","received_events_url":"https://api.github.com/users/aericpp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-15T08:46:59Z","updated_at":"2019-11-15T08:46:59Z","author_association":"NONE","body":"> > > 由于之前一些SSL版本过低，renegotiation会引发安全问题，所以代码这里把这个关了\r\n> > > https://github.com/apache/incubator-brpc/blob/6efb0cff5f30f32437c660cef01c93549cf62679/src/brpc/details/ssl_helper.cpp#L140\r\n> > > \r\n> > > 你看下你的log中，是否有上面日志里的这句话\r\n> > > Close xxx due to insecure renegotiation detected (CVE-2009-3555)\r\n> > \r\n> > \r\n> > 另外，这个关闭功能是针对openssl低版本吗？版本号条件有么？\r\n> \r\n> 没，当时看最新的发布版还未修复，你这边openssl版本号是多少？我去复现下\r\n\r\n目前这个版本是有点低，1.0.0 稳定复现：\r\n~/Documents/offline/incubator-brpc/example/http_c++$ ldd http_server\r\n        linux-vdso.so.1 =>  (0x00007ffe38bf7000)\r\n        libpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f2a53c84000)\r\n        libssl.so.1.0.0 => /lib/x86_64-linux-gnu/libssl.so.1.0.0 (0x00007f2a53a1b000)\r\n        libcrypto.so.1.0.0 => /lib/x86_64-linux-gnu/libcrypto.so.1.0.0 (0x00007f2a535d6000)\r\n        libdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f2a533d2000)\r\n        libz.so.1 => /lib/x86_64-linux-gnu/libz.so.1 (0x00007f2a531b8000)\r\n        librt.so.1 => /lib/x86_64-linux-gnu/librt.so.1 (0x00007f2a52fb0000)\r\n        libleveldb.so.1 => /usr/lib/x86_64-linux-gnu/libleveldb.so.1 (0x00007f2a52d56000)\r\n        libtcmalloc_and_profiler.so.4 => /usr/lib/libtcmalloc_and_profiler.so.4 (0x00007f2a52ae1000)\r\n        libstdc++.so.6 => /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007f2a5275f000)\r\n        libm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007f2a52456000)\r\n        libgcc_s.so.1 => /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007f2a52240000)\r\n        libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f2a51e76000)\r\n        /lib64/ld-linux-x86-64.so.2 (0x00007f2a53ea1000)\r\n        libsnappy.so.1 => /usr/lib/x86_64-linux-gnu/libsnappy.so.1 (0x00007f2a51c6e000)\r\n        libunwind.so.8 => /usr/lib/x86_64-linux-gnu/libunwind.so.8 (0x00007f2a51a53000)\r\n        liblzma.so.5 => /lib/x86_64-linux-gnu/liblzma.so.5 (0x00007f2a51831000)\r\n\r\n我也去试一下高版本的openssl","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/554268497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/554302077","html_url":"https://github.com/apache/brpc/issues/208#issuecomment-554302077","issue_url":"https://api.github.com/repos/apache/brpc/issues/208","id":554302077,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDMwMjA3Nw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-15T10:19:28Z","updated_at":"2019-11-15T10:28:46Z","author_association":"CONTRIBUTOR","body":"master head支持了，看下[fork without exec](https://github.com/apache/incubator-brpc/blob/master/docs/cn/server.md#fork-without-exec)，验证成功可关闭此issue","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/554302077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/555444971","html_url":"https://github.com/apache/brpc/issues/968#issuecomment-555444971","issue_url":"https://api.github.com/repos/apache/brpc/issues/968","id":555444971,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTQ0NDk3MQ==","user":{"login":"aericpp","id":5396305,"node_id":"MDQ6VXNlcjUzOTYzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/5396305?v=4","gravatar_id":"","url":"https://api.github.com/users/aericpp","html_url":"https://github.com/aericpp","followers_url":"https://api.github.com/users/aericpp/followers","following_url":"https://api.github.com/users/aericpp/following{/other_user}","gists_url":"https://api.github.com/users/aericpp/gists{/gist_id}","starred_url":"https://api.github.com/users/aericpp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aericpp/subscriptions","organizations_url":"https://api.github.com/users/aericpp/orgs","repos_url":"https://api.github.com/users/aericpp/repos","events_url":"https://api.github.com/users/aericpp/events{/privacy}","received_events_url":"https://api.github.com/users/aericpp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-19T10:37:44Z","updated_at":"2019-11-19T10:37:44Z","author_association":"NONE","body":"> > > 由于之前一些SSL版本过低，renegotiation会引发安全问题，所以代码这里把这个关了\r\n> > > https://github.com/apache/incubator-brpc/blob/6efb0cff5f30f32437c660cef01c93549cf62679/src/brpc/details/ssl_helper.cpp#L140\r\n> > > \r\n> > > 你看下你的log中，是否有上面日志里的这句话\r\n> > > Close xxx due to insecure renegotiation detected (CVE-2009-3555)\r\n> > \r\n> > \r\n> > 另外，这个关闭功能是针对openssl低版本吗？版本号条件有么？\r\n> \r\n> 没，当时看最新的发布版还未修复，你这边openssl版本号是多少？我去复现下\r\n\r\n重新编译了一个动态链接到openssl1.1.0k的版本。也是不支持的。\r\n\r\nldd http_server\r\n\tlinux-vdso.so.1 =>  (0x00007ffd2b313000)\r\n\tlibpthread.so.0 => /lib/x86_64-linux-gnu/libpthread.so.0 (0x00007f356b26f000)\r\n\tlibssl.so.1.1 => /usr/lib/libssl.so.1.1 (0x00007f356afff000)\r\n\tlibcrypto.so.1.1 => /usr/lib/libcrypto.so.1.1 (0x00007f356ab6a000)\r\n\tlibdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f356a966000)\r\n\tlibz.so.1 => /lib/x86_64-linux-gnu/libz.so.1 (0x00007f356a74c000)\r\n\tlibrt.so.1 => /lib/x86_64-linux-gnu/librt.so.1 (0x00007f356a544000)\r\n\tlibleveldb.so.1 => /usr/lib/x86_64-linux-gnu/libleveldb.so.1 (0x00007f356a2ea000)\r\n\tlibtcmalloc_and_profiler.so.4 => /usr/lib/libtcmalloc_and_profiler.so.4 (0x00007f356a075000)\r\n\tlibstdc++.so.6 => /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007f3569cf3000)\r\n\tlibm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007f35699ea000)\r\n\tlibgcc_s.so.1 => /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007f35697d4000)\r\n\tlibc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f356940a000)\r\n\t/lib64/ld-linux-x86-64.so.2 (0x00007f356b48c000)\r\n\tlibsnappy.so.1 => /usr/lib/x86_64-linux-gnu/libsnappy.so.1 (0x00007f3569202000)\r\n\tlibunwind.so.8 => /usr/lib/x86_64-linux-gnu/libunwind.so.8 (0x00007f3568fe7000)\r\n\tliblzma.so.5 => /lib/x86_64-linux-gnu/liblzma.so.5 (0x00007f3568dc5000)\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/555444971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/556839432","html_url":"https://github.com/apache/brpc/issues/968#issuecomment-556839432","issue_url":"https://api.github.com/repos/apache/brpc/issues/968","id":556839432,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NjgzOTQzMg==","user":{"login":"old-bear","id":1525532,"node_id":"MDQ6VXNlcjE1MjU1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/1525532?v=4","gravatar_id":"","url":"https://api.github.com/users/old-bear","html_url":"https://github.com/old-bear","followers_url":"https://api.github.com/users/old-bear/followers","following_url":"https://api.github.com/users/old-bear/following{/other_user}","gists_url":"https://api.github.com/users/old-bear/gists{/gist_id}","starred_url":"https://api.github.com/users/old-bear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/old-bear/subscriptions","organizations_url":"https://api.github.com/users/old-bear/orgs","repos_url":"https://api.github.com/users/old-bear/repos","events_url":"https://api.github.com/users/old-bear/events{/privacy}","received_events_url":"https://api.github.com/users/old-bear/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T02:09:38Z","updated_at":"2019-11-21T02:09:38Z","author_association":"CONTRIBUTOR","body":"1.1.0下把源码里\r\nhttps://github.com/apache/incubator-brpc/blob/6efb0cff5f30f32437c660cef01c93549cf62679/src/brpc/details/ssl_helper.cpp#L140\r\n这里SetFailed注释掉，试试","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/556839432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/557022533","html_url":"https://github.com/apache/brpc/issues/971#issuecomment-557022533","issue_url":"https://api.github.com/repos/apache/brpc/issues/971","id":557022533,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzAyMjUzMw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T10:31:42Z","updated_at":"2019-11-21T10:32:29Z","author_association":"CONTRIBUTOR","body":"定时线程就是这么设计的，因为一些运行时间短or确定的回调还启动一个线程运行是没有意义的，复杂的回调，特别是有用户代码的，应该启动一个bthread运行。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/557022533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/557025139","html_url":"https://github.com/apache/brpc/issues/971#issuecomment-557025139","issue_url":"https://api.github.com/repos/apache/brpc/issues/971","id":557025139,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzAyNTEzOQ==","user":{"login":"MR-workaholic","id":12267045,"node_id":"MDQ6VXNlcjEyMjY3MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/12267045?v=4","gravatar_id":"","url":"https://api.github.com/users/MR-workaholic","html_url":"https://github.com/MR-workaholic","followers_url":"https://api.github.com/users/MR-workaholic/followers","following_url":"https://api.github.com/users/MR-workaholic/following{/other_user}","gists_url":"https://api.github.com/users/MR-workaholic/gists{/gist_id}","starred_url":"https://api.github.com/users/MR-workaholic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MR-workaholic/subscriptions","organizations_url":"https://api.github.com/users/MR-workaholic/orgs","repos_url":"https://api.github.com/users/MR-workaholic/repos","events_url":"https://api.github.com/users/MR-workaholic/events{/privacy}","received_events_url":"https://api.github.com/users/MR-workaholic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T10:38:29Z","updated_at":"2019-11-21T10:39:25Z","author_association":"NONE","body":"> 定时线程就是这么设计的，因为一些运行时间短or确定的回调还启动一个线程运行是没有意义的，复杂的回调，特别是有用户代码的，应该启动一个bthread运行。\r\n\r\n那因为定时器线程有可能执行重发任务，那channel层面之下，就不能采取bthread的思路写代码了？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/557025139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/557117868","html_url":"https://github.com/apache/brpc/issues/971#issuecomment-557117868","issue_url":"https://api.github.com/repos/apache/brpc/issues/971","id":557117868,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzExNzg2OA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-21T14:48:57Z","updated_at":"2019-11-21T14:48:57Z","author_association":"CONTRIBUTOR","body":"在框架层面做成全异步而不依赖任何的阻塞操作，是很正常的。正因为阻塞很少，所以用pthread mutex也影响不大，这是pthread mutex用的多的主要原因。未必不能用bthread，要看频率和场景，比如框架中写入socket不就是可能会创建bthread运行KeepWrite么？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/557117868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/557376099","html_url":"https://github.com/apache/brpc/issues/516#issuecomment-557376099","issue_url":"https://api.github.com/repos/apache/brpc/issues/516","id":557376099,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzM3NjA5OQ==","user":{"login":"Xavier1994","id":11145343,"node_id":"MDQ6VXNlcjExMTQ1MzQz","avatar_url":"https://avatars.githubusercontent.com/u/11145343?v=4","gravatar_id":"","url":"https://api.github.com/users/Xavier1994","html_url":"https://github.com/Xavier1994","followers_url":"https://api.github.com/users/Xavier1994/followers","following_url":"https://api.github.com/users/Xavier1994/following{/other_user}","gists_url":"https://api.github.com/users/Xavier1994/gists{/gist_id}","starred_url":"https://api.github.com/users/Xavier1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Xavier1994/subscriptions","organizations_url":"https://api.github.com/users/Xavier1994/orgs","repos_url":"https://api.github.com/users/Xavier1994/repos","events_url":"https://api.github.com/users/Xavier1994/events{/privacy}","received_events_url":"https://api.github.com/users/Xavier1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-22T03:45:51Z","updated_at":"2019-11-22T03:46:06Z","author_association":"NONE","body":"在用 grpc客户端调用brpc的server端, 当流量大的时候, 经常出现如下错误 \r\n**[ERROR] [external/brpc/src/brpc/policy/http2_rpc_protocol.cpp:718:()] [0] Fail to find stream_id=835341**\r\n\r\n@jamesge @zyearn 请问是否是需要调整某些参数","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/557376099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/557405677","html_url":"https://github.com/apache/brpc/issues/923#issuecomment-557405677","issue_url":"https://api.github.com/repos/apache/brpc/issues/923","id":557405677,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzQwNTY3Nw==","user":{"login":"roczpwu","id":23252981,"node_id":"MDQ6VXNlcjIzMjUyOTgx","avatar_url":"https://avatars.githubusercontent.com/u/23252981?v=4","gravatar_id":"","url":"https://api.github.com/users/roczpwu","html_url":"https://github.com/roczpwu","followers_url":"https://api.github.com/users/roczpwu/followers","following_url":"https://api.github.com/users/roczpwu/following{/other_user}","gists_url":"https://api.github.com/users/roczpwu/gists{/gist_id}","starred_url":"https://api.github.com/users/roczpwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roczpwu/subscriptions","organizations_url":"https://api.github.com/users/roczpwu/orgs","repos_url":"https://api.github.com/users/roczpwu/repos","events_url":"https://api.github.com/users/roczpwu/events{/privacy}","received_events_url":"https://api.github.com/users/roczpwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-22T06:15:43Z","updated_at":"2019-11-22T06:15:43Z","author_association":"NONE","body":"顶，同遇到这个问题，请问解决了吗","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/557405677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/557405899","html_url":"https://github.com/apache/brpc/issues/765#issuecomment-557405899","issue_url":"https://api.github.com/repos/apache/brpc/issues/765","id":557405899,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzQwNTg5OQ==","user":{"login":"wanglun","id":143647,"node_id":"MDQ6VXNlcjE0MzY0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/143647?v=4","gravatar_id":"","url":"https://api.github.com/users/wanglun","html_url":"https://github.com/wanglun","followers_url":"https://api.github.com/users/wanglun/followers","following_url":"https://api.github.com/users/wanglun/following{/other_user}","gists_url":"https://api.github.com/users/wanglun/gists{/gist_id}","starred_url":"https://api.github.com/users/wanglun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wanglun/subscriptions","organizations_url":"https://api.github.com/users/wanglun/orgs","repos_url":"https://api.github.com/users/wanglun/repos","events_url":"https://api.github.com/users/wanglun/events{/privacy}","received_events_url":"https://api.github.com/users/wanglun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-22T06:16:43Z","updated_at":"2019-11-22T06:16:43Z","author_association":"CONTRIBUTOR","body":"> 目前brpc内部统计的metric用gauge和summary就足够了，所以只输出了gauge和summary。如果需要用label来输出业务的统计数据，建议用Prometheus官方提供的cpp client\r\n\r\n能否将用户自定义的LatencyRecorder，也用summary导出？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/557405899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/557531414","html_url":"https://github.com/apache/brpc/issues/516#issuecomment-557531414","issue_url":"https://api.github.com/repos/apache/brpc/issues/516","id":557531414,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzUzMTQxNA==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-22T13:28:00Z","updated_at":"2019-11-22T13:28:00Z","author_association":"MEMBER","body":"@Xavier1994 这个是正常的错误，server因为某些错误关闭一个stream而client还在向这个stream发送数据就会报这个错。看看有没有其他错误日志以及是否把client端的windowsize设置正确","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/557531414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/558193382","html_url":"https://github.com/apache/brpc/issues/970#issuecomment-558193382","issue_url":"https://api.github.com/repos/apache/brpc/issues/970","id":558193382,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODE5MzM4Mg==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-25T15:00:04Z","updated_at":"2019-11-25T15:00:04Z","author_association":"MEMBER","body":"Fixed in https://github.com/apache/incubator-brpc/pull/974","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/558193382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/558437182","html_url":"https://github.com/apache/brpc/issues/975#issuecomment-558437182","issue_url":"https://api.github.com/repos/apache/brpc/issues/975","id":558437182,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODQzNzE4Mg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-26T03:00:27Z","updated_at":"2019-11-26T03:00:27Z","author_association":"CONTRIBUTOR","body":"你们试过了么？应该是可以的。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/558437182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/558614674","html_url":"https://github.com/apache/brpc/issues/516#issuecomment-558614674","issue_url":"https://api.github.com/repos/apache/brpc/issues/516","id":558614674,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODYxNDY3NA==","user":{"login":"Xavier1994","id":11145343,"node_id":"MDQ6VXNlcjExMTQ1MzQz","avatar_url":"https://avatars.githubusercontent.com/u/11145343?v=4","gravatar_id":"","url":"https://api.github.com/users/Xavier1994","html_url":"https://github.com/Xavier1994","followers_url":"https://api.github.com/users/Xavier1994/followers","following_url":"https://api.github.com/users/Xavier1994/following{/other_user}","gists_url":"https://api.github.com/users/Xavier1994/gists{/gist_id}","starred_url":"https://api.github.com/users/Xavier1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Xavier1994/subscriptions","organizations_url":"https://api.github.com/users/Xavier1994/orgs","repos_url":"https://api.github.com/users/Xavier1994/repos","events_url":"https://api.github.com/users/Xavier1994/events{/privacy}","received_events_url":"https://api.github.com/users/Xavier1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-26T12:51:50Z","updated_at":"2019-11-26T12:51:50Z","author_association":"NONE","body":"确实是正常的, 只要客户端端大量超时就会有这个错, 原因是客户端超时的时候会发一个RST去结束这个stream, 但是这个时候这个stream可能正常的数据还在处理, server先处理RST之后就会close掉这个stream, 就会报这个错","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/558614674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/558914800","html_url":"https://github.com/apache/brpc/issues/975#issuecomment-558914800","issue_url":"https://api.github.com/repos/apache/brpc/issues/975","id":558914800,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODkxNDgwMA==","user":{"login":"zptan","id":17807777,"node_id":"MDQ6VXNlcjE3ODA3Nzc3","avatar_url":"https://avatars.githubusercontent.com/u/17807777?v=4","gravatar_id":"","url":"https://api.github.com/users/zptan","html_url":"https://github.com/zptan","followers_url":"https://api.github.com/users/zptan/followers","following_url":"https://api.github.com/users/zptan/following{/other_user}","gists_url":"https://api.github.com/users/zptan/gists{/gist_id}","starred_url":"https://api.github.com/users/zptan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zptan/subscriptions","organizations_url":"https://api.github.com/users/zptan/orgs","repos_url":"https://api.github.com/users/zptan/repos","events_url":"https://api.github.com/users/zptan/events{/privacy}","received_events_url":"https://api.github.com/users/zptan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-27T03:41:26Z","updated_at":"2019-11-27T03:41:26Z","author_association":"NONE","body":"谢谢，我们会试试","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/558914800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/559011579","html_url":"https://github.com/apache/brpc/issues/965#issuecomment-559011579","issue_url":"https://api.github.com/repos/apache/brpc/issues/965","id":559011579,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTAxMTU3OQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-27T09:45:54Z","updated_at":"2019-11-27T09:45:54Z","author_association":"CONTRIBUTOR","body":"这个视角不错，不过bthread的主要设计目的简化网络和IO中的多线程交互，而omp的主要使用场景是cpu-intensive的，如科学运算，这个场景中使用bthread也没什么优势。所以应该不会支持。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/559011579/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/559065695","html_url":"https://github.com/apache/brpc/issues/975#issuecomment-559065695","issue_url":"https://api.github.com/repos/apache/brpc/issues/975","id":559065695,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTA2NTY5NQ==","user":{"login":"zptan","id":17807777,"node_id":"MDQ6VXNlcjE3ODA3Nzc3","avatar_url":"https://avatars.githubusercontent.com/u/17807777?v=4","gravatar_id":"","url":"https://api.github.com/users/zptan","html_url":"https://github.com/zptan","followers_url":"https://api.github.com/users/zptan/followers","following_url":"https://api.github.com/users/zptan/following{/other_user}","gists_url":"https://api.github.com/users/zptan/gists{/gist_id}","starred_url":"https://api.github.com/users/zptan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zptan/subscriptions","organizations_url":"https://api.github.com/users/zptan/orgs","repos_url":"https://api.github.com/users/zptan/repos","events_url":"https://api.github.com/users/zptan/events{/privacy}","received_events_url":"https://api.github.com/users/zptan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-27T12:23:03Z","updated_at":"2019-11-27T12:23:03Z","author_association":"NONE","body":"@jamesge 谢谢gejun，刚才试过了，拿1000个request压了一下，没出问题","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/559065695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/559405829","html_url":"https://github.com/apache/brpc/issues/978#issuecomment-559405829","issue_url":"https://api.github.com/repos/apache/brpc/issues/978","id":559405829,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTQwNTgyOQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-28T09:11:24Z","updated_at":"2019-11-28T09:11:24Z","author_association":"CONTRIBUTOR","body":"支持dpdk是为了解决什么问题？user-level tcp？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/559405829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/559408243","html_url":"https://github.com/apache/brpc/issues/978#issuecomment-559408243","issue_url":"https://api.github.com/repos/apache/brpc/issues/978","id":559408243,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTQwODI0Mw==","user":{"login":"vstc1988","id":13731023,"node_id":"MDQ6VXNlcjEzNzMxMDIz","avatar_url":"https://avatars.githubusercontent.com/u/13731023?v=4","gravatar_id":"","url":"https://api.github.com/users/vstc1988","html_url":"https://github.com/vstc1988","followers_url":"https://api.github.com/users/vstc1988/followers","following_url":"https://api.github.com/users/vstc1988/following{/other_user}","gists_url":"https://api.github.com/users/vstc1988/gists{/gist_id}","starred_url":"https://api.github.com/users/vstc1988/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vstc1988/subscriptions","organizations_url":"https://api.github.com/users/vstc1988/orgs","repos_url":"https://api.github.com/users/vstc1988/repos","events_url":"https://api.github.com/users/vstc1988/events{/privacy}","received_events_url":"https://api.github.com/users/vstc1988/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-28T09:17:47Z","updated_at":"2019-11-28T09:17:47Z","author_association":"NONE","body":"是一个存储的case，想参考下BRPC架构。因为对性能需求比较高，我们希望能使用DPDK。我只是想确认下，目前BRPC是否有支持DPDK。\r\n\r\nThanks","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/559408243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/559456012","html_url":"https://github.com/apache/brpc/issues/978#issuecomment-559456012","issue_url":"https://api.github.com/repos/apache/brpc/issues/978","id":559456012,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTQ1NjAxMg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-28T11:27:05Z","updated_at":"2019-11-28T11:27:05Z","author_association":"CONTRIBUTOR","body":"不支持。存储场景一般会用[rdma](https://github.com/apache/incubator-brpc/tree/rdma)","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/559456012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/559462933","html_url":"https://github.com/apache/brpc/pull/979#issuecomment-559462933","issue_url":"https://api.github.com/repos/apache/brpc/issues/979","id":559462933,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTQ2MjkzMw==","user":{"login":"guoyuhong","id":19584326,"node_id":"MDQ6VXNlcjE5NTg0MzI2","avatar_url":"https://avatars.githubusercontent.com/u/19584326?v=4","gravatar_id":"","url":"https://api.github.com/users/guoyuhong","html_url":"https://github.com/guoyuhong","followers_url":"https://api.github.com/users/guoyuhong/followers","following_url":"https://api.github.com/users/guoyuhong/following{/other_user}","gists_url":"https://api.github.com/users/guoyuhong/gists{/gist_id}","starred_url":"https://api.github.com/users/guoyuhong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guoyuhong/subscriptions","organizations_url":"https://api.github.com/users/guoyuhong/orgs","repos_url":"https://api.github.com/users/guoyuhong/repos","events_url":"https://api.github.com/users/guoyuhong/events{/privacy}","received_events_url":"https://api.github.com/users/guoyuhong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-28T11:47:06Z","updated_at":"2019-11-28T11:47:06Z","author_association":"NONE","body":"The through-put test result in my Mac is illustrated as follows:\r\n```\r\n[ RUN      ] test_compress_method.throughput_compare\r\n     Compress method    Compress size(B)   Compress time(us) Decompress time(us)     Compress throughput(MB/s)   Decompress throughput(MB/s)                Compress ratio\r\n              Snappy                 128            1.951000            3.174200                     62.568074                     38.457032                    37.500000%\r\n                Gzip                 128           16.862000            1.775200                      7.239373                     68.764259                    47.656250%\r\n                Zlib                 128           16.767600            1.671600                      7.280130                     73.026030                    38.281250%\r\n                 Lz4                 128            2.453200            1.085800                     49.759625                    112.424307                    40.625000%\r\n\r\n              Snappy                1024            3.013600            4.283000                    324.051799                    228.008989                     8.789062%\r\n                Gzip                1024           20.934800            2.597800                     46.647807                    375.919047                     6.640625%\r\n                Zlib                1024           21.442000            2.802600                     45.544376                    348.448762                     5.468750%\r\n                 Lz4                1024            3.795000            1.860000                    257.328722                    525.033602                     5.371094%\r\n\r\n              Snappy               16384           20.087402           25.426758                    777.850701                    614.510120                     4.962158%\r\n                Gzip               16384           85.144531           18.897461                    183.511492                    826.830655                     0.781250%\r\n                Zlib               16384           96.994141           20.334961                    161.092205                    768.381117                     0.708008%\r\n                 Lz4               16384           26.291992           16.929688                    594.287412                    922.934933                     0.720215%\r\n\r\n              Snappy               32768           38.327148           48.486328                    815.348944                    644.511581                     4.824829%\r\n                Gzip               32768          160.242188           36.761719                    195.017308                    850.069068                     0.537109%\r\n                Zlib               32768          154.811523           35.366211                    201.858359                    883.611763                     0.500488%\r\n                 Lz4               32768           42.048828           26.112305                    743.183613                   1196.753805                     0.555420%\r\n\r\n              Snappy              524288          534.812500          701.968750                    934.907094                    712.282420                     4.747772%\r\n                Gzip              524288         3934.968750          652.843750                    127.065812                    765.880044                     0.305939%\r\n                Zlib              524288         3526.609375          644.046875                    141.779241                    776.341008                     0.303650%\r\n                 Lz4              524288          930.187500          643.671875                    537.526036                    776.793300                     0.402260%\r\n\r\n[       OK ] test_compress_method.throughput_compare (2479 ms)\r\n[ RUN      ] test_compress_method.throughput_compare_complete_random\r\n     Compress method    Compress size(B)   Compress time(us) Decompress time(us)     Compress throughput(MB/s)   Decompress throughput(MB/s)                Compress ratio\r\n              Snappy                 128            2.455600            2.682000                     49.710992                     45.514658                   105.468750%\r\n                Gzip                 128           28.807800            5.459400                      4.237405                     22.359657                   114.843750%\r\n                Zlib                 128           29.981600            5.334800                      4.071508                     22.881891                   105.468750%\r\n                 Lz4                 128            4.899000            1.422800                     24.917394                     85.795834                   105.468750%\r\n\r\n              Snappy                1024            6.925600            4.218200                    141.007638                    231.511664                   100.781250%\r\n                Gzip                1024           36.315600            9.600600                     26.890992                    101.718903                    79.492188%\r\n                Zlib                1024           33.593400            8.743000                     29.070070                    111.696500                    78.320312%\r\n                 Lz4                1024           14.797400            2.535800                     65.995547                    385.110222                   100.976562%\r\n\r\n              Snappy               16384           50.080078           18.950195                    312.000312                    824.529760                   100.061035%\r\n                Gzip               16384          450.982422           90.155273                     34.646583                    173.312103                    75.286865%\r\n                Zlib               16384          422.096680           84.948730                     37.017586                    183.934473                    75.213623%\r\n                 Lz4               16384           52.208496           11.209961                    299.280791                   1393.849638                   100.445557%\r\n\r\n              Snappy               32768           47.498047           21.583984                    657.921790                   1447.832775                   100.030518%\r\n                Gzip               32768         1060.168945          162.815430                     29.476434                    191.935126                    75.247192%\r\n                Zlib               32768         1122.420898          172.125977                     27.841606                    181.553073                    75.210571%\r\n                 Lz4               32768           79.860352           21.399414                    391.308070                   1460.320358                   100.418091%\r\n\r\n              Snappy              524288          644.250000          338.468750                    776.096236                   1477.241252                   100.006866%\r\n                Gzip              524288        24807.281250         2400.531250                     20.155373                    208.287228                    75.212669%\r\n                Zlib              524288        26765.390625         2533.171875                     18.680841                    197.381001                    75.210381%\r\n                 Lz4              524288          598.203125          344.453125                    835.836489                   1451.576321                   100.393677%\r\n\r\n[       OK ] test_compress_method.throughput_compare_complete_random (9929 ms)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/559462933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/559687902","html_url":"https://github.com/apache/brpc/pull/979#issuecomment-559687902","issue_url":"https://api.github.com/repos/apache/brpc/issues/979","id":559687902,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTY4NzkwMg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-11-29T07:24:56Z","updated_at":"2019-11-29T07:24:56Z","author_association":"CONTRIBUTOR","body":"A bigger problem: is it possible to use streaming/framing interfaces in lz4 to make the buffer management more efficient? @guoyuhong ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/559687902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/560045429","html_url":"https://github.com/apache/brpc/pull/979#issuecomment-560045429","issue_url":"https://api.github.com/repos/apache/brpc/issues/979","id":560045429,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDA0NTQyOQ==","user":{"login":"guoyuhong","id":19584326,"node_id":"MDQ6VXNlcjE5NTg0MzI2","avatar_url":"https://avatars.githubusercontent.com/u/19584326?v=4","gravatar_id":"","url":"https://api.github.com/users/guoyuhong","html_url":"https://github.com/guoyuhong","followers_url":"https://api.github.com/users/guoyuhong/followers","following_url":"https://api.github.com/users/guoyuhong/following{/other_user}","gists_url":"https://api.github.com/users/guoyuhong/gists{/gist_id}","starred_url":"https://api.github.com/users/guoyuhong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guoyuhong/subscriptions","organizations_url":"https://api.github.com/users/guoyuhong/orgs","repos_url":"https://api.github.com/users/guoyuhong/repos","events_url":"https://api.github.com/users/guoyuhong/events{/privacy}","received_events_url":"https://api.github.com/users/guoyuhong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-01T03:03:22Z","updated_at":"2019-12-01T03:03:22Z","author_association":"NONE","body":"@jamesge I checked the streaming/framing interfaces in lz4. It looks like that the output buffer may still be cut off by `butil::IOBuf`, so we still need heap allocation. In current implementation, the var-int encode may need only 2 bytes and it still need handle the case cross multiple `butil::IOBuf`s.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/560045429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/560068734","html_url":"https://github.com/apache/brpc/issues/762#issuecomment-560068734","issue_url":"https://api.github.com/repos/apache/brpc/issues/762","id":560068734,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDA2ODczNA==","user":{"login":"brianjcj","id":140656,"node_id":"MDQ6VXNlcjE0MDY1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/140656?v=4","gravatar_id":"","url":"https://api.github.com/users/brianjcj","html_url":"https://github.com/brianjcj","followers_url":"https://api.github.com/users/brianjcj/followers","following_url":"https://api.github.com/users/brianjcj/following{/other_user}","gists_url":"https://api.github.com/users/brianjcj/gists{/gist_id}","starred_url":"https://api.github.com/users/brianjcj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brianjcj/subscriptions","organizations_url":"https://api.github.com/users/brianjcj/orgs","repos_url":"https://api.github.com/users/brianjcj/repos","events_url":"https://api.github.com/users/brianjcj/events{/privacy}","received_events_url":"https://api.github.com/users/brianjcj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-01T07:25:53Z","updated_at":"2019-12-01T07:25:53Z","author_association":"NONE","body":"有没有计划支持这个？好像比较难集成到brpc的ns＋lb的框架中？有思路吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/560068734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/560127061","html_url":"https://github.com/apache/brpc/issues/762#issuecomment-560127061","issue_url":"https://api.github.com/repos/apache/brpc/issues/762","id":560127061,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDEyNzA2MQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-01T16:21:31Z","updated_at":"2019-12-01T16:21:31Z","author_association":"CONTRIBUTOR","body":"目前没有相关的计划，redis sentinel在redis生态里整体已经属于边缘化的状态了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/560127061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/561504705","html_url":"https://github.com/apache/brpc/issues/978#issuecomment-561504705","issue_url":"https://api.github.com/repos/apache/brpc/issues/978","id":561504705,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTUwNDcwNQ==","user":{"login":"Ye-Tian-Zero","id":8231208,"node_id":"MDQ6VXNlcjgyMzEyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/8231208?v=4","gravatar_id":"","url":"https://api.github.com/users/Ye-Tian-Zero","html_url":"https://github.com/Ye-Tian-Zero","followers_url":"https://api.github.com/users/Ye-Tian-Zero/followers","following_url":"https://api.github.com/users/Ye-Tian-Zero/following{/other_user}","gists_url":"https://api.github.com/users/Ye-Tian-Zero/gists{/gist_id}","starred_url":"https://api.github.com/users/Ye-Tian-Zero/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ye-Tian-Zero/subscriptions","organizations_url":"https://api.github.com/users/Ye-Tian-Zero/orgs","repos_url":"https://api.github.com/users/Ye-Tian-Zero/repos","events_url":"https://api.github.com/users/Ye-Tian-Zero/events{/privacy}","received_events_url":"https://api.github.com/users/Ye-Tian-Zero/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-04T06:54:43Z","updated_at":"2019-12-04T06:55:05Z","author_association":"CONTRIBUTOR","body":"brpc + dpdk 我们基于 f-stack 在内部做过一版 demo 验证。在 brpc 使用的 protobuf 协议 + 本身的 overhead 场景下，引入 dpdk 仅仅能带来不到 30% 左右的性能提升，主要提升来自于 bypass kernel network stack ，但是这本身不是 brpc 本身的瓶颈。考虑到引入 user-space network stack 带来的不稳定性，本身提升就更加没那么可观了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/561504705/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/561507771","html_url":"https://github.com/apache/brpc/issues/978#issuecomment-561507771","issue_url":"https://api.github.com/repos/apache/brpc/issues/978","id":561507771,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTUwNzc3MQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-04T07:06:01Z","updated_at":"2019-12-04T07:06:01Z","author_association":"CONTRIBUTOR","body":"@skilxn-go 可能在存储(如云磁盘系统)、机器学习(如mpi和parameter server)等场景下做这些优化有较大意义，对于业务场景确实作用很小。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/561507771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/561510990","html_url":"https://github.com/apache/brpc/issues/978#issuecomment-561510990","issue_url":"https://api.github.com/repos/apache/brpc/issues/978","id":561510990,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTUxMDk5MA==","user":{"login":"Ye-Tian-Zero","id":8231208,"node_id":"MDQ6VXNlcjgyMzEyMDg=","avatar_url":"https://avatars.githubusercontent.com/u/8231208?v=4","gravatar_id":"","url":"https://api.github.com/users/Ye-Tian-Zero","html_url":"https://github.com/Ye-Tian-Zero","followers_url":"https://api.github.com/users/Ye-Tian-Zero/followers","following_url":"https://api.github.com/users/Ye-Tian-Zero/following{/other_user}","gists_url":"https://api.github.com/users/Ye-Tian-Zero/gists{/gist_id}","starred_url":"https://api.github.com/users/Ye-Tian-Zero/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ye-Tian-Zero/subscriptions","organizations_url":"https://api.github.com/users/Ye-Tian-Zero/orgs","repos_url":"https://api.github.com/users/Ye-Tian-Zero/repos","events_url":"https://api.github.com/users/Ye-Tian-Zero/events{/privacy}","received_events_url":"https://api.github.com/users/Ye-Tian-Zero/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-04T07:17:41Z","updated_at":"2019-12-04T07:18:04Z","author_association":"CONTRIBUTOR","body":"@jamesge 根据 perf 结果来看，CPU 开销很大部分在 protobuf 和 bvar 那些监控上面，我们也尝试过把 bvar 什么的都删除，然后仅保留 protobuf 和 dpdk 这样的 “极简模式”，单核性能提升 80% 左右。业内类似 erpc 这种，通过 dpdk 把吞吐打得特别高的，一般都是没有结构化的信息，或者一个极其简单的结构化信息，如果能把 protobuf 整个拿掉，可能效果会更明显一些。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/561510990/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/561512606","html_url":"https://github.com/apache/brpc/issues/978#issuecomment-561512606","issue_url":"https://api.github.com/repos/apache/brpc/issues/978","id":561512606,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTUxMjYwNg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-04T07:23:10Z","updated_at":"2019-12-04T07:23:10Z","author_association":"CONTRIBUTOR","body":"@skilxn-go 如果你所说场景中的proto包含字段较多，也许还能通过arena机制做一些提升，但如果本身是个测试用的简单pb，这可能确实不是pb适用的场景了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/561512606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/561991727","html_url":"https://github.com/apache/brpc/pull/981#issuecomment-561991727","issue_url":"https://api.github.com/repos/apache/brpc/issues/981","id":561991727,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTk5MTcyNw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-05T06:32:10Z","updated_at":"2019-12-05T06:32:10Z","author_association":"CONTRIBUTOR","body":"@dyike thanks for your fix :)","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/561991727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/562054774","html_url":"https://github.com/apache/brpc/issues/976#issuecomment-562054774","issue_url":"https://api.github.com/repos/apache/brpc/issues/976","id":562054774,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjA1NDc3NA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-05T09:52:30Z","updated_at":"2019-12-05T09:52:30Z","author_association":"CONTRIBUTOR","body":"确实在一些场景中可能需要适配已有的协议，但从设计成熟度来说，pb是最好的（此处没有之一），且pb本身是个框架，是可以支持其他序列化格式的（比较繁琐，百度内有应用），所以brpc不太可能和pb脱钩。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/562054774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/562413561","html_url":"https://github.com/apache/brpc/issues/985#issuecomment-562413561","issue_url":"https://api.github.com/repos/apache/brpc/issues/985","id":562413561,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjQxMzU2MQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-06T03:08:34Z","updated_at":"2019-12-06T03:08:34Z","author_association":"CONTRIBUTOR","body":"可以试一下： 1. 去掉-O2重新编译brpc然后尝试复现问题，可能有更准确的栈；2. 运行asan看看是否有内存方面的问题，此类问题大概率和应用代码的内存问题相关。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/562413561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/562474333","html_url":"https://github.com/apache/brpc/issues/988#issuecomment-562474333","issue_url":"https://api.github.com/repos/apache/brpc/issues/988","id":562474333,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjQ3NDMzMw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-06T08:06:09Z","updated_at":"2019-12-06T08:06:09Z","author_association":"CONTRIBUTOR","body":"sorry, the benchmark involves heavily with internal machines' setup, and we don't have any plan to opensource it. You can do your own benchmark to verify the claims inside.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/562474333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/562497809","html_url":"https://github.com/apache/brpc/issues/844#issuecomment-562497809","issue_url":"https://api.github.com/repos/apache/brpc/issues/844","id":562497809,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjQ5NzgwOQ==","user":{"login":"zgb40302","id":24806026,"node_id":"MDQ6VXNlcjI0ODA2MDI2","avatar_url":"https://avatars.githubusercontent.com/u/24806026?v=4","gravatar_id":"","url":"https://api.github.com/users/zgb40302","html_url":"https://github.com/zgb40302","followers_url":"https://api.github.com/users/zgb40302/followers","following_url":"https://api.github.com/users/zgb40302/following{/other_user}","gists_url":"https://api.github.com/users/zgb40302/gists{/gist_id}","starred_url":"https://api.github.com/users/zgb40302/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zgb40302/subscriptions","organizations_url":"https://api.github.com/users/zgb40302/orgs","repos_url":"https://api.github.com/users/zgb40302/repos","events_url":"https://api.github.com/users/zgb40302/events{/privacy}","received_events_url":"https://api.github.com/users/zgb40302/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-06T09:23:32Z","updated_at":"2019-12-06T09:23:32Z","author_association":"NONE","body":"请问这个问题是如何解决的？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/562497809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/562809037","html_url":"https://github.com/apache/brpc/issues/986#issuecomment-562809037","issue_url":"https://api.github.com/repos/apache/brpc/issues/986","id":562809037,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjgwOTAzNw==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-07T03:23:29Z","updated_at":"2019-12-07T03:24:31Z","author_association":"CONTRIBUTOR","body":"首先，用list naming service不好配置tag 设置权重吧。\r\n能详细描述复现这个问题的场景配置吗？比如权重怎么配置的，用的什么连接方式等等。越详细越好便于定位问题。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/562809037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/562830501","html_url":"https://github.com/apache/brpc/issues/986#issuecomment-562830501","issue_url":"https://api.github.com/repos/apache/brpc/issues/986","id":562830501,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjgzMDUwMQ==","user":{"login":"cool-colo","id":20718701,"node_id":"MDQ6VXNlcjIwNzE4NzAx","avatar_url":"https://avatars.githubusercontent.com/u/20718701?v=4","gravatar_id":"","url":"https://api.github.com/users/cool-colo","html_url":"https://github.com/cool-colo","followers_url":"https://api.github.com/users/cool-colo/followers","following_url":"https://api.github.com/users/cool-colo/following{/other_user}","gists_url":"https://api.github.com/users/cool-colo/gists{/gist_id}","starred_url":"https://api.github.com/users/cool-colo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cool-colo/subscriptions","organizations_url":"https://api.github.com/users/cool-colo/orgs","repos_url":"https://api.github.com/users/cool-colo/repos","events_url":"https://api.github.com/users/cool-colo/events{/privacy}","received_events_url":"https://api.github.com/users/cool-colo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-07T08:55:11Z","updated_at":"2019-12-07T08:55:11Z","author_association":"NONE","body":"> 首先，用list naming service不好配置tag 设置权重吧。\r\n> 能详细描述复现这个问题的场景配置吗？比如权重怎么配置的，用的什么连接方式等等。越详细越好便于定位问题。\r\n\r\nlist://10.2.14.131:5555 10,10.2.14.132:5555 10,10.2.14.133:5555 10,10.2.14.134:5555 10,10.2.14.158:5555 10,10.2.14.160:5555 10,10.2.14.161:5555 10,10.2.14.163:5555 10,10.2.14.162:5555 10,10.2.12.142:5555 10,10.2.14.164:5555 10,10.2.15.1:5555 10,10.2.15.2:5555 10,10.2.15.3:5555 10\r\n权重配置就像上面这样， 有100+机器，其中一台机器权重为1，其余权重全为10,\r\n\r\n其它参数\r\nload_balancer: \"wrr\"\r\nmax_retry: 0\r\nconnection_type: \"\"\r\nprotocol_type: 1\r\nbackup_request_ms: -1\r\nconnect_timeout_ms: 500\r\ntimeout_ms: 500\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/562830501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/562837007","html_url":"https://github.com/apache/brpc/issues/986#issuecomment-562837007","issue_url":"https://api.github.com/repos/apache/brpc/issues/986","id":562837007,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjgzNzAwNw==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-07T10:16:00Z","updated_at":"2019-12-07T10:16:00Z","author_association":"CONTRIBUTOR","body":"> > 首先，用list naming service不好配置tag 设置权重吧。\r\n> > 能详细描述复现这个问题的场景配置吗？比如权重怎么配置的，用的什么连接方式等等。越详细越好便于定位问题。\r\n> \r\n> list://10.2.14.131:5555 10,10.2.14.132:5555 10,10.2.14.133:5555 10,10.2.14.134:5555 10,10.2.14.158:5555 10,10.2.14.160:5555 10,10.2.14.161:5555 10,10.2.14.163:5555 10,10.2.14.162:5555 10,10.2.12.142:5555 10,10.2.14.164:5555 10,10.2.15.1:5555 10,10.2.15.2:5555 10,10.2.15.3:5555 10\r\n> 权重配置就像上面这样， 有100+机器，其中一台机器权重为1，其余权重全为10,\r\n> \r\n> 其它参数\r\n> load_balancer: \"wrr\"\r\n> max_retry: 0\r\n> connection_type: \"\"\r\n> protocol_type: 1\r\n> backup_request_ms: -1\r\n> connect_timeout_ms: 500\r\n> timeout_ms: 500\r\n\r\n看你的qps记录 是运行一段时间出现了这个问题？我们自己的所有服务都在用wrr的形式，brpc版本也是刚同步过社区的最新版，唯一区别用的是file名字服务。目前没有发现qps不均的情况。我尝试复现一下吧。用example/下的demo类子尝试复现成功过吗？其他协议是否也有类似问题？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/562837007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/563229628","html_url":"https://github.com/apache/brpc/issues/990#issuecomment-563229628","issue_url":"https://api.github.com/repos/apache/brpc/issues/990","id":563229628,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MzIyOTYyOA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-09T13:06:15Z","updated_at":"2019-12-09T13:06:15Z","author_association":"CONTRIBUTOR","body":"the number for ordering should be passed to RegisterProtocol ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/563229628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/563741404","html_url":"https://github.com/apache/brpc/issues/954#issuecomment-563741404","issue_url":"https://api.github.com/repos/apache/brpc/issues/954","id":563741404,"node_id":"MDEyOklzc3VlQ29tbWVudDU2Mzc0MTQwNA==","user":{"login":"mistyliu","id":11454322,"node_id":"MDQ6VXNlcjExNDU0MzIy","avatar_url":"https://avatars.githubusercontent.com/u/11454322?v=4","gravatar_id":"","url":"https://api.github.com/users/mistyliu","html_url":"https://github.com/mistyliu","followers_url":"https://api.github.com/users/mistyliu/followers","following_url":"https://api.github.com/users/mistyliu/following{/other_user}","gists_url":"https://api.github.com/users/mistyliu/gists{/gist_id}","starred_url":"https://api.github.com/users/mistyliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistyliu/subscriptions","organizations_url":"https://api.github.com/users/mistyliu/orgs","repos_url":"https://api.github.com/users/mistyliu/repos","events_url":"https://api.github.com/users/mistyliu/events{/privacy}","received_events_url":"https://api.github.com/users/mistyliu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-10T04:09:38Z","updated_at":"2019-12-10T04:09:38Z","author_association":"NONE","body":"仅验证使用的话，可以参考目前brpc中支持thrift的模式，通过变通的方式引入tars协议。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/563741404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/564020829","html_url":"https://github.com/apache/brpc/issues/954#issuecomment-564020829","issue_url":"https://api.github.com/repos/apache/brpc/issues/954","id":564020829,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NDAyMDgyOQ==","user":{"login":"fireboyvt","id":12553316,"node_id":"MDQ6VXNlcjEyNTUzMzE2","avatar_url":"https://avatars.githubusercontent.com/u/12553316?v=4","gravatar_id":"","url":"https://api.github.com/users/fireboyvt","html_url":"https://github.com/fireboyvt","followers_url":"https://api.github.com/users/fireboyvt/followers","following_url":"https://api.github.com/users/fireboyvt/following{/other_user}","gists_url":"https://api.github.com/users/fireboyvt/gists{/gist_id}","starred_url":"https://api.github.com/users/fireboyvt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fireboyvt/subscriptions","organizations_url":"https://api.github.com/users/fireboyvt/orgs","repos_url":"https://api.github.com/users/fireboyvt/repos","events_url":"https://api.github.com/users/fireboyvt/events{/privacy}","received_events_url":"https://api.github.com/users/fireboyvt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-10T12:57:38Z","updated_at":"2019-12-10T12:57:38Z","author_association":"NONE","body":"> 仅验证使用的话，可以参考目前brpc中支持thrift的模式，通过变通的方式引入tars协议。\r\n能更详细说下如何实现吗，没用过thrift","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/564020829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/564868544","html_url":"https://github.com/apache/brpc/issues/993#issuecomment-564868544","issue_url":"https://api.github.com/repos/apache/brpc/issues/993","id":564868544,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NDg2ODU0NA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-12T06:24:54Z","updated_at":"2019-12-12T06:24:54Z","author_association":"CONTRIBUTOR","body":"A work-around: allocate and read into the buffer by you own, and manage&share the buffer by IOBuf through [append_user_data](https://github.com/apache/incubator-brpc/blob/master/src/butil/iobuf.h#L250)","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/564868544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/564896238","html_url":"https://github.com/apache/brpc/issues/994#issuecomment-564896238","issue_url":"https://api.github.com/repos/apache/brpc/issues/994","id":564896238,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NDg5NjIzOA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-12T08:07:36Z","updated_at":"2019-12-12T08:07:36Z","author_association":"CONTRIBUTOR","body":"Do you have a screenshot? I don't know which link you're referring","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/564896238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/564899830","html_url":"https://github.com/apache/brpc/issues/994#issuecomment-564899830","issue_url":"https://api.github.com/repos/apache/brpc/issues/994","id":564899830,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NDg5OTgzMA==","user":{"login":"ten2ton","id":50288981,"node_id":"MDQ6VXNlcjUwMjg4OTgx","avatar_url":"https://avatars.githubusercontent.com/u/50288981?v=4","gravatar_id":"","url":"https://api.github.com/users/ten2ton","html_url":"https://github.com/ten2ton","followers_url":"https://api.github.com/users/ten2ton/followers","following_url":"https://api.github.com/users/ten2ton/following{/other_user}","gists_url":"https://api.github.com/users/ten2ton/gists{/gist_id}","starred_url":"https://api.github.com/users/ten2ton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ten2ton/subscriptions","organizations_url":"https://api.github.com/users/ten2ton/orgs","repos_url":"https://api.github.com/users/ten2ton/repos","events_url":"https://api.github.com/users/ten2ton/events{/privacy}","received_events_url":"https://api.github.com/users/ten2ton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-12T08:19:21Z","updated_at":"2019-12-12T08:19:21Z","author_association":"NONE","body":"---Original---\r\nFrom: \"Ge Jun\"<notifications@github.com&gt;\r\nDate: Thu, Dec 12, 2019 16:07 PM\r\nTo: \"apache/incubator-brpc\"<incubator-brpc@noreply.github.com&gt;;\r\nCc: \"ten2ton\"<tony.t.han@foxmail.com&gt;;\"Author\"<author@noreply.github.com&gt;;\r\nSubject: Re: [apache/incubator-brpc] Link to contributing page is invalid (#994)\r\n\r\n\r\n\r\nDo you have a screenshot? I don't know which link you're referring\r\n \r\n—\r\nYou are receiving this because you authored the thread.\r\nReply to this email directly, view it on GitHub, or unsubscribe.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/564899830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/564925267","html_url":"https://github.com/apache/brpc/issues/995#issuecomment-564925267","issue_url":"https://api.github.com/repos/apache/brpc/issues/995","id":564925267,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NDkyNTI2Nw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-12T09:33:04Z","updated_at":"2019-12-12T09:33:04Z","author_association":"CONTRIBUTOR","body":"不知道我的理解是否准确，你们需要的是在触碰并发度上限时，给client端返回默认值（而不是失败），同时在server端打印错误日志？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/564925267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/564926512","html_url":"https://github.com/apache/brpc/issues/995#issuecomment-564926512","issue_url":"https://api.github.com/repos/apache/brpc/issues/995","id":564926512,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NDkyNjUxMg==","user":{"login":"yockie","id":2568971,"node_id":"MDQ6VXNlcjI1Njg5NzE=","avatar_url":"https://avatars.githubusercontent.com/u/2568971?v=4","gravatar_id":"","url":"https://api.github.com/users/yockie","html_url":"https://github.com/yockie","followers_url":"https://api.github.com/users/yockie/followers","following_url":"https://api.github.com/users/yockie/following{/other_user}","gists_url":"https://api.github.com/users/yockie/gists{/gist_id}","starred_url":"https://api.github.com/users/yockie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yockie/subscriptions","organizations_url":"https://api.github.com/users/yockie/orgs","repos_url":"https://api.github.com/users/yockie/repos","events_url":"https://api.github.com/users/yockie/events{/privacy}","received_events_url":"https://api.github.com/users/yockie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-12T09:36:26Z","updated_at":"2019-12-12T09:36:26Z","author_association":"CONTRIBUTOR","body":"> 不知道我的理解是否准确，你们需要的是在触碰并发度上限时，给client端返回默认值（而不是失败），同时在server端打印错误日志？\r\n\r\n嗯嗯，是的~","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/564926512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/564927619","html_url":"https://github.com/apache/brpc/issues/995#issuecomment-564927619","issue_url":"https://api.github.com/repos/apache/brpc/issues/995","id":564927619,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NDkyNzYxOQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-12T09:39:15Z","updated_at":"2019-12-12T09:39:15Z","author_association":"CONTRIBUTOR","body":"这种情况下其实把max_concurrency关闭，自己在应用层做管理就行了，请求进来++，结束--","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/564927619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/564931686","html_url":"https://github.com/apache/brpc/issues/995#issuecomment-564931686","issue_url":"https://api.github.com/repos/apache/brpc/issues/995","id":564931686,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NDkzMTY4Ng==","user":{"login":"yockie","id":2568971,"node_id":"MDQ6VXNlcjI1Njg5NzE=","avatar_url":"https://avatars.githubusercontent.com/u/2568971?v=4","gravatar_id":"","url":"https://api.github.com/users/yockie","html_url":"https://github.com/yockie","followers_url":"https://api.github.com/users/yockie/followers","following_url":"https://api.github.com/users/yockie/following{/other_user}","gists_url":"https://api.github.com/users/yockie/gists{/gist_id}","starred_url":"https://api.github.com/users/yockie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yockie/subscriptions","organizations_url":"https://api.github.com/users/yockie/orgs","repos_url":"https://api.github.com/users/yockie/repos","events_url":"https://api.github.com/users/yockie/events{/privacy}","received_events_url":"https://api.github.com/users/yockie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-12T09:49:27Z","updated_at":"2019-12-12T09:49:27Z","author_association":"CONTRIBUTOR","body":"ok，多谢老哥~","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/564931686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/565297679","html_url":"https://github.com/apache/brpc/issues/985#issuecomment-565297679","issue_url":"https://api.github.com/repos/apache/brpc/issues/985","id":565297679,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NTI5NzY3OQ==","user":{"login":"zgb40302","id":24806026,"node_id":"MDQ6VXNlcjI0ODA2MDI2","avatar_url":"https://avatars.githubusercontent.com/u/24806026?v=4","gravatar_id":"","url":"https://api.github.com/users/zgb40302","html_url":"https://github.com/zgb40302","followers_url":"https://api.github.com/users/zgb40302/followers","following_url":"https://api.github.com/users/zgb40302/following{/other_user}","gists_url":"https://api.github.com/users/zgb40302/gists{/gist_id}","starred_url":"https://api.github.com/users/zgb40302/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zgb40302/subscriptions","organizations_url":"https://api.github.com/users/zgb40302/orgs","repos_url":"https://api.github.com/users/zgb40302/repos","events_url":"https://api.github.com/users/zgb40302/events{/privacy}","received_events_url":"https://api.github.com/users/zgb40302/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-13T04:40:27Z","updated_at":"2019-12-13T04:46:59Z","author_association":"NONE","body":"1，asan 没有内存问题。\r\n2，去掉 O2后，用的是O1，栈信息显示 operator() 的参数 obj=0x0，为啥还会core ？\r\n 35 template <typename T> struct Destroyer {\r\n 36     void operator()(T* obj) const { if (obj) { obj->Destroy(); } }\r\n 37 };\r\n\r\n\r\n#0  0x00007ff5608351f7 in raise () from /lib64/libc.so.6\r\n#1  0x00007ff5608368e8 in abort () from /lib64/libc.so.6\r\n#2  0x00000000011c12a5 in __gnu_cxx::__verbose_terminate_handler () at ../../../../libstdc++-v3/libsupc++/vterminate.cc:95\r\n#3  0x000000000112c556 in __cxxabiv1::__terminate (handler=<optimized out>) at ../../../../libstdc++-v3/libsupc++/eh_terminate.cc:47\r\n#4  0x00000000011373e9 in __cxa_call_terminate (ue_header=ue_header@entry=0x7ff458517fd0) at ../../../../libstdc++-v3/libsupc++/eh_call.cc:54\r\n#5  0x000000000112bb88 in __cxxabiv1::__gxx_personality_v0 (version=<optimized out>, actions=6, exception_class=5138137972254386944, ue_header=0x7ff458517fd0, context=<optimized out>)\r\n    at ../../../../libstdc++-v3/libsupc++/eh_personality.cc:676\r\n#6  0x00007ff560dee8a3 in ?? () from /lib64/libgcc_s.so.1\r\n#7  0x00007ff560deedd7 in _Unwind_Resume () from /lib64/libgcc_s.so.1\r\n#8  0x00000000006746c2 in operator() (**obj=0x0,** this=<synthetic pointer>) at /data1/incubator-brpc/src/brpc/destroyable.h:36\r\n#9  ~unique_ptr (this=<synthetic pointer>, __in_chrg=<optimized out>) at /usr/include/c++/4.8.2/bits/unique_ptr.h:184\r\n#10 ~DestroyingPtr (this=<synthetic pointer>, __in_chrg=<optimized out>) at /data1/incubator-brpc/src/brpc/destroyable.h:42\r\n#11 brpc::policy::ProcessHttpRequest (msg=<optimized out>) at /data1/incubator-brpc/src/brpc/policy/http_rpc_protocol.cpp:1493\r\n#12 0x000000000064043a in brpc::ProcessInputMessage (void_arg=void_arg@entry=0x7ff45814cfc0) at /data1/incubator-brpc/src/brpc/input_messenger.cpp:136\r\n#13 0x00000000006414b5 in operator() (last_msg=0x7ff45814cfc0, this=<synthetic pointer>) at /data1/incubator-brpc/src/brpc/input_messenger.cpp:142\r\n#14 brpc::InputMessenger::OnNewMessages (m=0x7ff4300f28e0) at /usr/include/c++/4.8.2/bits/unique_ptr.h:184\r\n#15 0x00000000005a1249 in brpc::Socket::ProcessEvent (arg=0x7ff4300f28e0) at /data1/incubator-brpc/src/brpc/socket.cpp:1020\r\n#16 0x00000000005ecd18 in bthread::TaskGroup::task_runner (skip_remained=<optimized out>) at /data1/incubator-brpc/src/bthread/task_group.cpp:297\r\n#17 0x00000000005db941 in bthread_make_fcontext ()","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/565297679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/565351806","html_url":"https://github.com/apache/brpc/issues/985#issuecomment-565351806","issue_url":"https://api.github.com/repos/apache/brpc/issues/985","id":565351806,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NTM1MTgwNg==","user":{"login":"zgb40302","id":24806026,"node_id":"MDQ6VXNlcjI0ODA2MDI2","avatar_url":"https://avatars.githubusercontent.com/u/24806026?v=4","gravatar_id":"","url":"https://api.github.com/users/zgb40302","html_url":"https://github.com/zgb40302","followers_url":"https://api.github.com/users/zgb40302/followers","following_url":"https://api.github.com/users/zgb40302/following{/other_user}","gists_url":"https://api.github.com/users/zgb40302/gists{/gist_id}","starred_url":"https://api.github.com/users/zgb40302/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zgb40302/subscriptions","organizations_url":"https://api.github.com/users/zgb40302/orgs","repos_url":"https://api.github.com/users/zgb40302/repos","events_url":"https://api.github.com/users/zgb40302/events{/privacy}","received_events_url":"https://api.github.com/users/zgb40302/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-13T08:37:22Z","updated_at":"2019-12-13T08:37:38Z","author_association":"NONE","body":"每次core的时候，/var/log/message 里都会记录以下日志：\r\nmessages-20191208:Dec  4 19:02:59 131-15-98-huawei-core sunflower: terminate called after throwing an instance of 'std::bad_alloc'\r\nmessages-20191208:Dec  4 19:02:59 131-15-98-huawei-core sunflower: what():  std::bad_alloc","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/565351806/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/565713727","html_url":"https://github.com/apache/brpc/pull/997#issuecomment-565713727","issue_url":"https://api.github.com/repos/apache/brpc/issues/997","id":565713727,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NTcxMzcyNw==","user":{"login":"joshuafc","id":7185089,"node_id":"MDQ6VXNlcjcxODUwODk=","avatar_url":"https://avatars.githubusercontent.com/u/7185089?v=4","gravatar_id":"","url":"https://api.github.com/users/joshuafc","html_url":"https://github.com/joshuafc","followers_url":"https://api.github.com/users/joshuafc/followers","following_url":"https://api.github.com/users/joshuafc/following{/other_user}","gists_url":"https://api.github.com/users/joshuafc/gists{/gist_id}","starred_url":"https://api.github.com/users/joshuafc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshuafc/subscriptions","organizations_url":"https://api.github.com/users/joshuafc/orgs","repos_url":"https://api.github.com/users/joshuafc/repos","events_url":"https://api.github.com/users/joshuafc/events{/privacy}","received_events_url":"https://api.github.com/users/joshuafc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-14T12:41:57Z","updated_at":"2019-12-14T12:41:57Z","author_association":"NONE","body":"So we can \r\n`server.AddService(&srv, brpc::SERVER_DOESNT_OWN_SERVICE, \"/   => Do2,  /test   => Do2 \" );`","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/565713727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/567034419","html_url":"https://github.com/apache/brpc/issues/275#issuecomment-567034419","issue_url":"https://api.github.com/repos/apache/brpc/issues/275","id":567034419,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzAzNDQxOQ==","user":{"login":"yockie","id":2568971,"node_id":"MDQ6VXNlcjI1Njg5NzE=","avatar_url":"https://avatars.githubusercontent.com/u/2568971?v=4","gravatar_id":"","url":"https://api.github.com/users/yockie","html_url":"https://github.com/yockie","followers_url":"https://api.github.com/users/yockie/followers","following_url":"https://api.github.com/users/yockie/following{/other_user}","gists_url":"https://api.github.com/users/yockie/gists{/gist_id}","starred_url":"https://api.github.com/users/yockie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yockie/subscriptions","organizations_url":"https://api.github.com/users/yockie/orgs","repos_url":"https://api.github.com/users/yockie/repos","events_url":"https://api.github.com/users/yockie/events{/privacy}","received_events_url":"https://api.github.com/users/yockie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-18T13:37:43Z","updated_at":"2019-12-18T13:37:43Z","author_association":"CONTRIBUTOR","body":"补充一个问题的答案：\r\n现象：先是跟出现跟lz相似的link错误，按楼上答案加了“设置build --copt -DHAVE_ZLIB=1”有一部分link错误解决，但还是有link错误：\r\nbazel-out/k8-opt/bin/external/com_google_protobuf/_objs/protobuf/gzip_stream.o:gzip_stream.cc:function google::protobuf::io::GzipInputStream::~GzipInputStream(): error: undefined reference to 'inflateEnd'\r\nbazel-out/k8-opt/bin/external/com_google_protobuf/_objs/protobuf/gzip_stream.o:gzip_stream.cc:function google::protobuf::io::GzipInputStream::Inflate(int): error: undefined reference to 'inflate'\r\nbazel-out/k8-opt/bin/external/com_google_protobuf/_objs/protobuf/gzip_stream.o:gzip_stream.cc:function google::protobuf::io::GzipInputStream::Inflate(int): error: undefined reference to 'inflateInit2_'\r\nbazel-out/k8-opt/bin/external/com_google_protobuf/_objs/protobuf/gzip_stream.o:gzip_stream.cc:function google::protobuf::io::GzipInputStream::Next(void const**, int*): error: undefined reference to 'inflateEnd'\r\nbazel-out/k8-opt/bin/external/com_google_protobuf/_objs/protobuf/gzip_stream.o:gzip_stream.cc:function google::protobuf::io::GzipInputStream::Next(void const**, int*): error: undefined reference to 'inflateInit2_'\r\nbazel-out/k8-opt/bin/external/com_google_protobuf/_objs/protobuf/gzip_stream.o:gzip_stream.cc:function google::protobuf::io::GzipOutputStream::Init(google::protobuf::io::ZeroCopyOutputStream*, google::protobuf::io::GzipOutputStream::Options const&): error: undefined reference to 'deflateInit2_'\r\nbazel-out/k8-opt/bin/external/com_google_protobuf/_objs/protobuf/gzip_stream.o:gzip_stream.cc:function google::protobuf::io::GzipOutputStream::Deflate(int): error: undefined reference to 'deflate'\r\nbazel-out/k8-opt/bin/external/com_google_protobuf/_objs/protobuf/gzip_stream.o:gzip_stream.cc:function google::protobuf::io::GzipOutputStream::Close(): error: undefined reference to 'deflateEnd'\r\n\r\n\r\n调了半天，解决方法是：link加上-lz，例如：\r\ncc_binary(                                                                                               \r\n    name = \"xxx\",                                                                                   \r\n    srcs = [\"xxx.cc\"],                                                                                  \r\n    defines = [                                                                                          \r\n    ],                                                                                                   \r\n    linkopts = [                                                                                         \r\n        \"-lpthread\",                                                                                     \r\n        \"-lz\",                                                                                           \r\n    ],                                                                                                                                                                                 \r\n    deps = [                                                                                                                                                                                 \r\n    ],                                                                                                   \r\n)     ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/567034419/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/567305735","html_url":"https://github.com/apache/brpc/issues/985#issuecomment-567305735","issue_url":"https://api.github.com/repos/apache/brpc/issues/985","id":567305735,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzMwNTczNQ==","user":{"login":"zgb40302","id":24806026,"node_id":"MDQ6VXNlcjI0ODA2MDI2","avatar_url":"https://avatars.githubusercontent.com/u/24806026?v=4","gravatar_id":"","url":"https://api.github.com/users/zgb40302","html_url":"https://github.com/zgb40302","followers_url":"https://api.github.com/users/zgb40302/followers","following_url":"https://api.github.com/users/zgb40302/following{/other_user}","gists_url":"https://api.github.com/users/zgb40302/gists{/gist_id}","starred_url":"https://api.github.com/users/zgb40302/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zgb40302/subscriptions","organizations_url":"https://api.github.com/users/zgb40302/orgs","repos_url":"https://api.github.com/users/zgb40302/repos","events_url":"https://api.github.com/users/zgb40302/events{/privacy}","received_events_url":"https://api.github.com/users/zgb40302/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-19T02:43:39Z","updated_at":"2019-12-19T02:43:39Z","author_association":"NONE","body":"@jamesge   改成 O0 后， 问题已解决，确实是应用层问题。多谢指教。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/567305735/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/567825876","html_url":"https://github.com/apache/brpc/pull/903#issuecomment-567825876","issue_url":"https://api.github.com/repos/apache/brpc/issues/903","id":567825876,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzgyNTg3Ng==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-20T07:40:34Z","updated_at":"2019-12-20T07:40:34Z","author_association":"CONTRIBUTOR","body":"@lorinlee 目前这个版本是最新的么？似乎只有一个commit。如果确认最新的话准备合入主干了","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/567825876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/567864902","html_url":"https://github.com/apache/brpc/pull/903#issuecomment-567864902","issue_url":"https://api.github.com/repos/apache/brpc/issues/903","id":567864902,"node_id":"MDEyOklzc3VlQ29tbWVudDU2Nzg2NDkwMg==","user":{"login":"lorinlee","id":16054841,"node_id":"MDQ6VXNlcjE2MDU0ODQx","avatar_url":"https://avatars.githubusercontent.com/u/16054841?v=4","gravatar_id":"","url":"https://api.github.com/users/lorinlee","html_url":"https://github.com/lorinlee","followers_url":"https://api.github.com/users/lorinlee/followers","following_url":"https://api.github.com/users/lorinlee/following{/other_user}","gists_url":"https://api.github.com/users/lorinlee/gists{/gist_id}","starred_url":"https://api.github.com/users/lorinlee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lorinlee/subscriptions","organizations_url":"https://api.github.com/users/lorinlee/orgs","repos_url":"https://api.github.com/users/lorinlee/repos","events_url":"https://api.github.com/users/lorinlee/events{/privacy}","received_events_url":"https://api.github.com/users/lorinlee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-20T09:53:45Z","updated_at":"2019-12-20T09:53:45Z","author_association":"CONTRIBUTOR","body":"> @lorinlee 目前这个版本是最新的么？似乎只有一个commit。如果确认最新的话准备合入主干了\r\n\r\n是最新的","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/567864902/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/568759089","html_url":"https://github.com/apache/brpc/issues/1001#issuecomment-568759089","issue_url":"https://api.github.com/repos/apache/brpc/issues/1001","id":568759089,"node_id":"MDEyOklzc3VlQ29tbWVudDU2ODc1OTA4OQ==","user":{"login":"cdjingit","id":31362185,"node_id":"MDQ6VXNlcjMxMzYyMTg1","avatar_url":"https://avatars.githubusercontent.com/u/31362185?v=4","gravatar_id":"","url":"https://api.github.com/users/cdjingit","html_url":"https://github.com/cdjingit","followers_url":"https://api.github.com/users/cdjingit/followers","following_url":"https://api.github.com/users/cdjingit/following{/other_user}","gists_url":"https://api.github.com/users/cdjingit/gists{/gist_id}","starred_url":"https://api.github.com/users/cdjingit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdjingit/subscriptions","organizations_url":"https://api.github.com/users/cdjingit/orgs","repos_url":"https://api.github.com/users/cdjingit/repos","events_url":"https://api.github.com/users/cdjingit/events{/privacy}","received_events_url":"https://api.github.com/users/cdjingit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-24T14:35:37Z","updated_at":"2019-12-24T14:35:37Z","author_association":"CONTRIBUTOR","body":"Same as algo of rr load balancer . All the numbers in the array are prime number.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/568759089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/568881292","html_url":"https://github.com/apache/brpc/issues/969#issuecomment-568881292","issue_url":"https://api.github.com/repos/apache/brpc/issues/969","id":568881292,"node_id":"MDEyOklzc3VlQ29tbWVudDU2ODg4MTI5Mg==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-25T10:23:12Z","updated_at":"2019-12-25T10:23:12Z","author_association":"MEMBER","body":"Fixed in https://github.com/apache/incubator-brpc/pull/984","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/568881292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/569670793","html_url":"https://github.com/apache/brpc/issues/302#issuecomment-569670793","issue_url":"https://api.github.com/repos/apache/brpc/issues/302","id":569670793,"node_id":"MDEyOklzc3VlQ29tbWVudDU2OTY3MDc5Mw==","user":{"login":"YanB25","id":22229230,"node_id":"MDQ6VXNlcjIyMjI5MjMw","avatar_url":"https://avatars.githubusercontent.com/u/22229230?v=4","gravatar_id":"","url":"https://api.github.com/users/YanB25","html_url":"https://github.com/YanB25","followers_url":"https://api.github.com/users/YanB25/followers","following_url":"https://api.github.com/users/YanB25/following{/other_user}","gists_url":"https://api.github.com/users/YanB25/gists{/gist_id}","starred_url":"https://api.github.com/users/YanB25/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/YanB25/subscriptions","organizations_url":"https://api.github.com/users/YanB25/orgs","repos_url":"https://api.github.com/users/YanB25/repos","events_url":"https://api.github.com/users/YanB25/events{/privacy}","received_events_url":"https://api.github.com/users/YanB25/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-30T12:52:14Z","updated_at":"2019-12-30T12:52:14Z","author_association":"NONE","body":"Forgot `butil::AtExitManager exit_manager` in the code?\r\n\r\nBTW, it seems that `AtExitManager` is never mentioned in the doc. What is it and how does it work?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/569670793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/569686934","html_url":"https://github.com/apache/brpc/issues/1006#issuecomment-569686934","issue_url":"https://api.github.com/repos/apache/brpc/issues/1006","id":569686934,"node_id":"MDEyOklzc3VlQ29tbWVudDU2OTY4NjkzNA==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-12-30T14:03:06Z","updated_at":"2019-12-30T14:03:41Z","author_association":"MEMBER","body":"latency qps和 concurrency满足[little's law](https://en.wikipedia.org/wiki/Little%27s_law)，也是目前这套自适应限流的理论基础。你说的concurrency小于1的问题应该是 https://github.com/apache/incubator-brpc/pull/1003 要修复的问题","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/569686934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/570110303","html_url":"https://github.com/apache/brpc/pull/1003#issuecomment-570110303","issue_url":"https://api.github.com/repos/apache/brpc/issues/1003","id":570110303,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MDExMDMwMw==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-02T03:23:41Z","updated_at":"2020-01-02T03:23:41Z","author_association":"MEMBER","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/570110303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/570112394","html_url":"https://github.com/apache/brpc/pull/1003#issuecomment-570112394","issue_url":"https://api.github.com/repos/apache/brpc/issues/1003","id":570112394,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MDExMjM5NA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-02T03:46:15Z","updated_at":"2020-01-02T03:46:15Z","author_association":"CONTRIBUTOR","body":"@TousakaRin 请确认一下所有形如“_max_concurrency = \"的地方都没有问题了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/570112394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/570181153","html_url":"https://github.com/apache/brpc/issues/1006#issuecomment-570181153","issue_url":"https://api.github.com/repos/apache/brpc/issues/1006","id":570181153,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MDE4MTE1Mw==","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-02T11:23:37Z","updated_at":"2020-01-02T11:23:37Z","author_association":"CONTRIBUTOR","body":"再请教个问题，是不是服务的请求执行时间不是很稳定的服务不太适合这个算法啊？的确根据little‘s law的理论，得到并发度，但是我测试发现，相比最小latency，我放宽一些latency，qps就高起来了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/570181153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/570446316","html_url":"https://github.com/apache/brpc/pull/1012#issuecomment-570446316","issue_url":"https://api.github.com/repos/apache/brpc/issues/1012","id":570446316,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MDQ0NjMxNg==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-03T03:16:37Z","updated_at":"2020-01-03T03:16:37Z","author_association":"CONTRIBUTOR","body":"Thanks for your fix 👍 , and I've checked other usages of `open`, which seem to be OK.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/570446316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/570498494","html_url":"https://github.com/apache/brpc/issues/975#issuecomment-570498494","issue_url":"https://api.github.com/repos/apache/brpc/issues/975","id":570498494,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MDQ5ODQ5NA==","user":{"login":"zptan","id":17807777,"node_id":"MDQ6VXNlcjE3ODA3Nzc3","avatar_url":"https://avatars.githubusercontent.com/u/17807777?v=4","gravatar_id":"","url":"https://api.github.com/users/zptan","html_url":"https://github.com/zptan","followers_url":"https://api.github.com/users/zptan/followers","following_url":"https://api.github.com/users/zptan/following{/other_user}","gists_url":"https://api.github.com/users/zptan/gists{/gist_id}","starred_url":"https://api.github.com/users/zptan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zptan/subscriptions","organizations_url":"https://api.github.com/users/zptan/orgs","repos_url":"https://api.github.com/users/zptan/repos","events_url":"https://api.github.com/users/zptan/events{/privacy}","received_events_url":"https://api.github.com/users/zptan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-03T08:15:13Z","updated_at":"2020-01-03T08:24:44Z","author_association":"NONE","body":"Issue reopened.\r\n\r\n@jamesge 我们发现了问题。。。\r\n\r\n在pthread模式下，有些thread拿不到thread-local storage，经过排查发现，server创建了FLAGS_usercode_backup_threads个pthread，这些thread去serve request的时候无法获取thread-local storage\r\n\r\n在`brpc::thread_local_data()`里面tl_options是NULL：\r\n`tl_options =\r\n      static_cast<const Server::ThreadLocalOptions*>(\r\n          bthread_get_assigned_data());`\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/570498494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/570512220","html_url":"https://github.com/apache/brpc/issues/1013#issuecomment-570512220","issue_url":"https://api.github.com/repos/apache/brpc/issues/1013","id":570512220,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MDUxMjIyMA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-03T09:14:51Z","updated_at":"2020-01-03T09:14:51Z","author_association":"CONTRIBUTOR","body":"fixed 4 in [86ca8af3](https://github.com/apache/incubator-brpc/commit/86ca8af34b6f9329394e8d44c93c98a00501c7e6), 10 in [bb29ab6a](https://github.com/apache/incubator-brpc/commit/bb29ab6a74cd949e4588ff408b530a8262dac56b)","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/570512220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/570515965","html_url":"https://github.com/apache/brpc/issues/1013#issuecomment-570515965","issue_url":"https://api.github.com/repos/apache/brpc/issues/1013","id":570515965,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MDUxNTk2NQ==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-03T09:28:39Z","updated_at":"2020-01-03T09:28:39Z","author_association":"MEMBER","body":"fixed [6][7] in https://github.com/apache/incubator-brpc/pull/1014","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/570515965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/570752991","html_url":"https://github.com/apache/brpc/issues/1013#issuecomment-570752991","issue_url":"https://api.github.com/repos/apache/brpc/issues/1013","id":570752991,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MDc1Mjk5MQ==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-04T03:33:35Z","updated_at":"2020-01-04T03:33:35Z","author_association":"MEMBER","body":"fixed [3] in https://github.com/apache/incubator-brpc/pull/1015","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/570752991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/570985514","html_url":"https://github.com/apache/brpc/issues/1006#issuecomment-570985514","issue_url":"https://api.github.com/repos/apache/brpc/issues/1006","id":570985514,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MDk4NTUxNA==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-06T03:02:10Z","updated_at":"2020-01-06T03:02:10Z","author_association":"MEMBER","body":"little's law说的就是long-term average，均值稳定就可以","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/570985514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/571010496","html_url":"https://github.com/apache/brpc/issues/1013#issuecomment-571010496","issue_url":"https://api.github.com/repos/apache/brpc/issues/1013","id":571010496,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MTAxMDQ5Ng==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-06T05:35:01Z","updated_at":"2020-01-06T05:35:26Z","author_association":"MEMBER","body":"fix [8] in https://github.com/apache/incubator-brpc/pull/1016. The new crc code is adopted from another apache project nifi-minifi-cpp","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/571010496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/571474708","html_url":"https://github.com/apache/brpc/issues/1018#issuecomment-571474708","issue_url":"https://api.github.com/repos/apache/brpc/issues/1018","id":571474708,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MTQ3NDcwOA==","user":{"login":"zyctree","id":17808052,"node_id":"MDQ6VXNlcjE3ODA4MDUy","avatar_url":"https://avatars.githubusercontent.com/u/17808052?v=4","gravatar_id":"","url":"https://api.github.com/users/zyctree","html_url":"https://github.com/zyctree","followers_url":"https://api.github.com/users/zyctree/followers","following_url":"https://api.github.com/users/zyctree/following{/other_user}","gists_url":"https://api.github.com/users/zyctree/gists{/gist_id}","starred_url":"https://api.github.com/users/zyctree/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyctree/subscriptions","organizations_url":"https://api.github.com/users/zyctree/orgs","repos_url":"https://api.github.com/users/zyctree/repos","events_url":"https://api.github.com/users/zyctree/events{/privacy}","received_events_url":"https://api.github.com/users/zyctree/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-07T07:46:15Z","updated_at":"2020-01-07T07:46:15Z","author_association":"CONTRIBUTOR","body":"https://en.cppreference.com/w/cpp/error/errno","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/571474708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/571867540","html_url":"https://github.com/apache/brpc/issues/1019#issuecomment-571867540","issue_url":"https://api.github.com/repos/apache/brpc/issues/1019","id":571867540,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MTg2NzU0MA==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-08T02:46:55Z","updated_at":"2020-01-08T02:46:55Z","author_association":"MEMBER","body":"具体编译报错能贴一下么","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/571867540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/572918093","html_url":"https://github.com/apache/brpc/issues/1021#issuecomment-572918093","issue_url":"https://api.github.com/repos/apache/brpc/issues/1021","id":572918093,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MjkxODA5Mw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-10T08:00:21Z","updated_at":"2020-01-10T08:00:21Z","author_association":"CONTRIBUTOR","body":"The situations are already handled by retries and backup requests, https://github.com/apache/incubator-brpc/blob/master/docs/en/client.md#retry","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/572918093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/573483962","html_url":"https://github.com/apache/brpc/issues/1021#issuecomment-573483962","issue_url":"https://api.github.com/repos/apache/brpc/issues/1021","id":573483962,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MzQ4Mzk2Mg==","user":{"login":"wuchangping","id":29653216,"node_id":"MDQ6VXNlcjI5NjUzMjE2","avatar_url":"https://avatars.githubusercontent.com/u/29653216?v=4","gravatar_id":"","url":"https://api.github.com/users/wuchangping","html_url":"https://github.com/wuchangping","followers_url":"https://api.github.com/users/wuchangping/followers","following_url":"https://api.github.com/users/wuchangping/following{/other_user}","gists_url":"https://api.github.com/users/wuchangping/gists{/gist_id}","starred_url":"https://api.github.com/users/wuchangping/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuchangping/subscriptions","organizations_url":"https://api.github.com/users/wuchangping/orgs","repos_url":"https://api.github.com/users/wuchangping/repos","events_url":"https://api.github.com/users/wuchangping/events{/privacy}","received_events_url":"https://api.github.com/users/wuchangping/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-13T01:49:10Z","updated_at":"2020-01-13T01:49:10Z","author_association":"NONE","body":"> The situations are already handled by retries and backup requests, https://github.com/apache/incubator-brpc/blob/master/docs/en/client.md#retry\r\n\r\nThank you very much!","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/573483962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/573570828","html_url":"https://github.com/apache/brpc/issues/1007#issuecomment-573570828","issue_url":"https://api.github.com/repos/apache/brpc/issues/1007","id":573570828,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MzU3MDgyOA==","user":{"login":"pexeer","id":5493379,"node_id":"MDQ6VXNlcjU0OTMzNzk=","avatar_url":"https://avatars.githubusercontent.com/u/5493379?v=4","gravatar_id":"","url":"https://api.github.com/users/pexeer","html_url":"https://github.com/pexeer","followers_url":"https://api.github.com/users/pexeer/followers","following_url":"https://api.github.com/users/pexeer/following{/other_user}","gists_url":"https://api.github.com/users/pexeer/gists{/gist_id}","starred_url":"https://api.github.com/users/pexeer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pexeer/subscriptions","organizations_url":"https://api.github.com/users/pexeer/orgs","repos_url":"https://api.github.com/users/pexeer/repos","events_url":"https://api.github.com/users/pexeer/events{/privacy}","received_events_url":"https://api.github.com/users/pexeer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-13T09:17:06Z","updated_at":"2020-01-13T09:17:26Z","author_association":"CONTRIBUTOR","body":"#1009  fixed","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/573570828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/574974005","html_url":"https://github.com/apache/brpc/issues/1023#issuecomment-574974005","issue_url":"https://api.github.com/repos/apache/brpc/issues/1023","id":574974005,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NDk3NDAwNQ==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-16T04:15:37Z","updated_at":"2020-01-16T04:15:37Z","author_association":"MEMBER","body":"what problem did you met in what situation? how did you install your dependencies?","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/574974005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/574982665","html_url":"https://github.com/apache/brpc/issues/1022#issuecomment-574982665","issue_url":"https://api.github.com/repos/apache/brpc/issues/1022","id":574982665,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NDk4MjY2NQ==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-16T04:54:44Z","updated_at":"2020-01-16T04:54:44Z","author_association":"CONTRIBUTOR","body":"Thanks for reporting, fixed in https://github.com/apache/incubator-brpc/commit/d81ba3f1bc6a7f4bd09439798678733d24e6a729","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/574982665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/574986191","html_url":"https://github.com/apache/brpc/issues/1013#issuecomment-574986191","issue_url":"https://api.github.com/repos/apache/brpc/issues/1013","id":574986191,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NDk4NjE5MQ==","user":{"login":"zyearn","id":4475779,"node_id":"MDQ6VXNlcjQ0NzU3Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4475779?v=4","gravatar_id":"","url":"https://api.github.com/users/zyearn","html_url":"https://github.com/zyearn","followers_url":"https://api.github.com/users/zyearn/followers","following_url":"https://api.github.com/users/zyearn/following{/other_user}","gists_url":"https://api.github.com/users/zyearn/gists{/gist_id}","starred_url":"https://api.github.com/users/zyearn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zyearn/subscriptions","organizations_url":"https://api.github.com/users/zyearn/orgs","repos_url":"https://api.github.com/users/zyearn/repos","events_url":"https://api.github.com/users/zyearn/events{/privacy}","received_events_url":"https://api.github.com/users/zyearn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-16T05:10:39Z","updated_at":"2020-01-16T05:10:39Z","author_association":"MEMBER","body":"[1] is a remained problem, for now just add a DISCLAIMER-WIP(https://github.com/apache/incubator-brpc/pull/1024) to workaround.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/574986191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575615597","html_url":"https://github.com/apache/brpc/pull/1026#issuecomment-575615597","issue_url":"https://api.github.com/repos/apache/brpc/issues/1026","id":575615597,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTYxNTU5Nw==","user":{"login":"htn4179","id":30617294,"node_id":"MDQ6VXNlcjMwNjE3Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/30617294?v=4","gravatar_id":"","url":"https://api.github.com/users/htn4179","html_url":"https://github.com/htn4179","followers_url":"https://api.github.com/users/htn4179/followers","following_url":"https://api.github.com/users/htn4179/following{/other_user}","gists_url":"https://api.github.com/users/htn4179/gists{/gist_id}","starred_url":"https://api.github.com/users/htn4179/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/htn4179/subscriptions","organizations_url":"https://api.github.com/users/htn4179/orgs","repos_url":"https://api.github.com/users/htn4179/repos","events_url":"https://api.github.com/users/htn4179/events{/privacy}","received_events_url":"https://api.github.com/users/htn4179/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-17T12:58:04Z","updated_at":"2020-01-17T12:58:04Z","author_association":"NONE","body":"在编译unittest的时候报错，error: undefined reference to 'ProfilerStart'，这个似乎是需要编译环境处理","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575615597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575964473","html_url":"https://github.com/apache/brpc/issues/1027#issuecomment-575964473","issue_url":"https://api.github.com/repos/apache/brpc/issues/1027","id":575964473,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTk2NDQ3Mw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-19T03:54:13Z","updated_at":"2020-01-19T03:54:13Z","author_association":"CONTRIBUTOR","body":"内存只会复用，不会释放。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575964473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575964923","html_url":"https://github.com/apache/brpc/issues/1027#issuecomment-575964923","issue_url":"https://api.github.com/repos/apache/brpc/issues/1027","id":575964923,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTk2NDkyMw==","user":{"login":"feifeiiong","id":4979167,"node_id":"MDQ6VXNlcjQ5NzkxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/4979167?v=4","gravatar_id":"","url":"https://api.github.com/users/feifeiiong","html_url":"https://github.com/feifeiiong","followers_url":"https://api.github.com/users/feifeiiong/followers","following_url":"https://api.github.com/users/feifeiiong/following{/other_user}","gists_url":"https://api.github.com/users/feifeiiong/gists{/gist_id}","starred_url":"https://api.github.com/users/feifeiiong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feifeiiong/subscriptions","organizations_url":"https://api.github.com/users/feifeiiong/orgs","repos_url":"https://api.github.com/users/feifeiiong/repos","events_url":"https://api.github.com/users/feifeiiong/events{/privacy}","received_events_url":"https://api.github.com/users/feifeiiong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-19T04:03:19Z","updated_at":"2020-01-19T04:03:19Z","author_association":"NONE","body":"感谢解答！如果考虑线上出现峰值后，内存未释放的情况，想问下大佬对这种情况有没有什么好的建议？想要限制的话似乎只有限制服务本身的最大并发数？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575964923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575964948","html_url":"https://github.com/apache/brpc/issues/1027#issuecomment-575964948","issue_url":"https://api.github.com/repos/apache/brpc/issues/1027","id":575964948,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTk2NDk0OA==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-19T04:03:56Z","updated_at":"2020-01-19T04:03:56Z","author_association":"CONTRIBUTOR","body":"对","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575964948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575965037","html_url":"https://github.com/apache/brpc/issues/1027#issuecomment-575965037","issue_url":"https://api.github.com/repos/apache/brpc/issues/1027","id":575965037,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTk2NTAzNw==","user":{"login":"feifeiiong","id":4979167,"node_id":"MDQ6VXNlcjQ5NzkxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/4979167?v=4","gravatar_id":"","url":"https://api.github.com/users/feifeiiong","html_url":"https://github.com/feifeiiong","followers_url":"https://api.github.com/users/feifeiiong/followers","following_url":"https://api.github.com/users/feifeiiong/following{/other_user}","gists_url":"https://api.github.com/users/feifeiiong/gists{/gist_id}","starred_url":"https://api.github.com/users/feifeiiong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feifeiiong/subscriptions","organizations_url":"https://api.github.com/users/feifeiiong/orgs","repos_url":"https://api.github.com/users/feifeiiong/repos","events_url":"https://api.github.com/users/feifeiiong/events{/privacy}","received_events_url":"https://api.github.com/users/feifeiiong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-19T04:05:41Z","updated_at":"2020-01-19T04:05:41Z","author_association":"NONE","body":"是否有计划对对象池的释放机制有改动呢，或者说有没有一些改动思路可以提供，针对内存释放的问题？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575965037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575970480","html_url":"https://github.com/apache/brpc/issues/214#issuecomment-575970480","issue_url":"https://api.github.com/repos/apache/brpc/issues/214","id":575970480,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTk3MDQ4MA==","user":{"login":"beyond-wyc","id":59598737,"node_id":"MDQ6VXNlcjU5NTk4NzM3","avatar_url":"https://avatars.githubusercontent.com/u/59598737?v=4","gravatar_id":"","url":"https://api.github.com/users/beyond-wyc","html_url":"https://github.com/beyond-wyc","followers_url":"https://api.github.com/users/beyond-wyc/followers","following_url":"https://api.github.com/users/beyond-wyc/following{/other_user}","gists_url":"https://api.github.com/users/beyond-wyc/gists{/gist_id}","starred_url":"https://api.github.com/users/beyond-wyc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beyond-wyc/subscriptions","organizations_url":"https://api.github.com/users/beyond-wyc/orgs","repos_url":"https://api.github.com/users/beyond-wyc/repos","events_url":"https://api.github.com/users/beyond-wyc/events{/privacy}","received_events_url":"https://api.github.com/users/beyond-wyc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-19T05:59:19Z","updated_at":"2020-01-19T05:59:19Z","author_association":"NONE","body":"同问","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575970480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575973844","html_url":"https://github.com/apache/brpc/issues/1025#issuecomment-575973844","issue_url":"https://api.github.com/repos/apache/brpc/issues/1025","id":575973844,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTk3Mzg0NA==","user":{"login":"hairet","id":7167017,"node_id":"MDQ6VXNlcjcxNjcwMTc=","avatar_url":"https://avatars.githubusercontent.com/u/7167017?v=4","gravatar_id":"","url":"https://api.github.com/users/hairet","html_url":"https://github.com/hairet","followers_url":"https://api.github.com/users/hairet/followers","following_url":"https://api.github.com/users/hairet/following{/other_user}","gists_url":"https://api.github.com/users/hairet/gists{/gist_id}","starred_url":"https://api.github.com/users/hairet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hairet/subscriptions","organizations_url":"https://api.github.com/users/hairet/orgs","repos_url":"https://api.github.com/users/hairet/repos","events_url":"https://api.github.com/users/hairet/events{/privacy}","received_events_url":"https://api.github.com/users/hairet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-19T07:01:06Z","updated_at":"2020-01-19T07:01:06Z","author_association":"NONE","body":"https://github.com/hairet/brpc/commit/b2f23243ba3127db82d7ee17e6caba40bead0ef3","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575973844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575973899","html_url":"https://github.com/apache/brpc/issues/1025#issuecomment-575973899","issue_url":"https://api.github.com/repos/apache/brpc/issues/1025","id":575973899,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTk3Mzg5OQ==","user":{"login":"hairet","id":7167017,"node_id":"MDQ6VXNlcjcxNjcwMTc=","avatar_url":"https://avatars.githubusercontent.com/u/7167017?v=4","gravatar_id":"","url":"https://api.github.com/users/hairet","html_url":"https://github.com/hairet","followers_url":"https://api.github.com/users/hairet/followers","following_url":"https://api.github.com/users/hairet/following{/other_user}","gists_url":"https://api.github.com/users/hairet/gists{/gist_id}","starred_url":"https://api.github.com/users/hairet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hairet/subscriptions","organizations_url":"https://api.github.com/users/hairet/orgs","repos_url":"https://api.github.com/users/hairet/repos","events_url":"https://api.github.com/users/hairet/events{/privacy}","received_events_url":"https://api.github.com/users/hairet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-19T07:02:10Z","updated_at":"2020-01-19T07:02:10Z","author_association":"NONE","body":"you can use this commit,we implement rwlock,and I commit in my fork recently","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575973899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575974052","html_url":"https://github.com/apache/brpc/issues/1030#issuecomment-575974052","issue_url":"https://api.github.com/repos/apache/brpc/issues/1030","id":575974052,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTk3NDA1Mg==","user":{"login":"hairet","id":7167017,"node_id":"MDQ6VXNlcjcxNjcwMTc=","avatar_url":"https://avatars.githubusercontent.com/u/7167017?v=4","gravatar_id":"","url":"https://api.github.com/users/hairet","html_url":"https://github.com/hairet","followers_url":"https://api.github.com/users/hairet/followers","following_url":"https://api.github.com/users/hairet/following{/other_user}","gists_url":"https://api.github.com/users/hairet/gists{/gist_id}","starred_url":"https://api.github.com/users/hairet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hairet/subscriptions","organizations_url":"https://api.github.com/users/hairet/orgs","repos_url":"https://api.github.com/users/hairet/repos","events_url":"https://api.github.com/users/hairet/events{/privacy}","received_events_url":"https://api.github.com/users/hairet/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-19T07:04:24Z","updated_at":"2020-01-19T07:05:53Z","author_association":"NONE","body":"we implement rwlock here,if any one need this ,can fecth from this commit\r\nhttps://github.com/hairet/brpc/commit/b2f23243ba3127db82d7ee17e6caba40bead0ef3","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575974052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575974071","html_url":"https://github.com/apache/brpc/issues/825#issuecomment-575974071","issue_url":"https://api.github.com/repos/apache/brpc/issues/825","id":575974071,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTk3NDA3MQ==","user":{"login":"sunwsh","id":4278126,"node_id":"MDQ6VXNlcjQyNzgxMjY=","avatar_url":"https://avatars.githubusercontent.com/u/4278126?v=4","gravatar_id":"","url":"https://api.github.com/users/sunwsh","html_url":"https://github.com/sunwsh","followers_url":"https://api.github.com/users/sunwsh/followers","following_url":"https://api.github.com/users/sunwsh/following{/other_user}","gists_url":"https://api.github.com/users/sunwsh/gists{/gist_id}","starred_url":"https://api.github.com/users/sunwsh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunwsh/subscriptions","organizations_url":"https://api.github.com/users/sunwsh/orgs","repos_url":"https://api.github.com/users/sunwsh/repos","events_url":"https://api.github.com/users/sunwsh/events{/privacy}","received_events_url":"https://api.github.com/users/sunwsh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-19T07:04:45Z","updated_at":"2020-01-19T07:04:45Z","author_association":"NONE","body":"还是希望brpc能够支持websocket，期待","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575974071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575974717","html_url":"https://github.com/apache/brpc/pull/1028#issuecomment-575974717","issue_url":"https://api.github.com/repos/apache/brpc/issues/1028","id":575974717,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTk3NDcxNw==","user":{"login":"jamesge","id":6566535,"node_id":"MDQ6VXNlcjY1NjY1MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6566535?v=4","gravatar_id":"","url":"https://api.github.com/users/jamesge","html_url":"https://github.com/jamesge","followers_url":"https://api.github.com/users/jamesge/followers","following_url":"https://api.github.com/users/jamesge/following{/other_user}","gists_url":"https://api.github.com/users/jamesge/gists{/gist_id}","starred_url":"https://api.github.com/users/jamesge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamesge/subscriptions","organizations_url":"https://api.github.com/users/jamesge/orgs","repos_url":"https://api.github.com/users/jamesge/repos","events_url":"https://api.github.com/users/jamesge/events{/privacy}","received_events_url":"https://api.github.com/users/jamesge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-19T07:15:10Z","updated_at":"2020-01-19T07:15:10Z","author_association":"CONTRIBUTOR","body":"Thanks for your contribution. However, the support for unix sockets are better encapsulated in EndPoint without changing too much other code, especially the Channel. Another limit is that EndPoints are widely used and adding a char array inside it is unacceptable. Since valid port is between [0, 65535], it's possible that we put a pointer inside EndPoint without changing the structure size.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575974717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575977119","html_url":"https://github.com/apache/brpc/issues/1023#issuecomment-575977119","issue_url":"https://api.github.com/repos/apache/brpc/issues/1023","id":575977119,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTk3NzExOQ==","user":{"login":"cloudhan","id":1279292,"node_id":"MDQ6VXNlcjEyNzkyOTI=","avatar_url":"https://avatars.githubusercontent.com/u/1279292?v=4","gravatar_id":"","url":"https://api.github.com/users/cloudhan","html_url":"https://github.com/cloudhan","followers_url":"https://api.github.com/users/cloudhan/followers","following_url":"https://api.github.com/users/cloudhan/following{/other_user}","gists_url":"https://api.github.com/users/cloudhan/gists{/gist_id}","starred_url":"https://api.github.com/users/cloudhan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cloudhan/subscriptions","organizations_url":"https://api.github.com/users/cloudhan/orgs","repos_url":"https://api.github.com/users/cloudhan/repos","events_url":"https://api.github.com/users/cloudhan/events{/privacy}","received_events_url":"https://api.github.com/users/cloudhan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-01-19T07:53:17Z","updated_at":"2020-01-19T07:54:03Z","author_association":"NONE","body":"The annoying thing happens when you want to use **precompiled** protobuf library. In the current situation, you are using some internal variable in FindProtobuf.cmake. It makes the down stream cmake file extremely ugly. If you switch to find_package, I can simply manipulate `CMAKE_PREFIX_PATH` or set `Protobuf_DIR` to find the correct library. Just a suggestion.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/575977119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]