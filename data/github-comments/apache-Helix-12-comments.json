[{"url":"https://api.github.com/repos/apache/helix/issues/comments/628166128","html_url":"https://github.com/apache/helix/pull/1000#issuecomment-628166128","issue_url":"https://api.github.com/repos/apache/helix/issues/1000","id":628166128,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODE2NjEyOA==","user":{"login":"mgao0","id":31704180,"node_id":"MDQ6VXNlcjMxNzA0MTgw","avatar_url":"https://avatars.githubusercontent.com/u/31704180?v=4","gravatar_id":"","url":"https://api.github.com/users/mgao0","html_url":"https://github.com/mgao0","followers_url":"https://api.github.com/users/mgao0/followers","following_url":"https://api.github.com/users/mgao0/following{/other_user}","gists_url":"https://api.github.com/users/mgao0/gists{/gist_id}","starred_url":"https://api.github.com/users/mgao0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgao0/subscriptions","organizations_url":"https://api.github.com/users/mgao0/orgs","repos_url":"https://api.github.com/users/mgao0/repos","events_url":"https://api.github.com/users/mgao0/events{/privacy}","received_events_url":"https://api.github.com/users/mgao0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-13T18:25:07Z","updated_at":"2020-05-13T18:25:07Z","author_association":"CONTRIBUTOR","body":"@jiajunwang 14 hours ago Contributor\r\nWhy do you need to call it here synchronously? I think it's simpler if we just put this event into the event queue.\r\nGiven this saying, this logic will be fitting better if it is in the HelixManager level. What I'm trying to propose if the HelixManger is initialized as a Participant, then we start this timer thread there. It just injects message event with a certain interval. Of course, if a real message event comes earlier, then we reset the timer.\r\n\r\nPut this logic in the executor does not make sense to me.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/628166128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/628166438","html_url":"https://github.com/apache/helix/pull/1000#issuecomment-628166438","issue_url":"https://api.github.com/repos/apache/helix/issues/1000","id":628166438,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODE2NjQzOA==","user":{"login":"mgao0","id":31704180,"node_id":"MDQ6VXNlcjMxNzA0MTgw","avatar_url":"https://avatars.githubusercontent.com/u/31704180?v=4","gravatar_id":"","url":"https://api.github.com/users/mgao0","html_url":"https://github.com/mgao0","followers_url":"https://api.github.com/users/mgao0/followers","following_url":"https://api.github.com/users/mgao0/following{/other_user}","gists_url":"https://api.github.com/users/mgao0/gists{/gist_id}","starred_url":"https://api.github.com/users/mgao0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgao0/subscriptions","organizations_url":"https://api.github.com/users/mgao0/orgs","repos_url":"https://api.github.com/users/mgao0/repos","events_url":"https://api.github.com/users/mgao0/events{/privacy}","received_events_url":"https://api.github.com/users/mgao0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-13T18:25:47Z","updated_at":"2020-05-13T18:25:47Z","author_association":"CONTRIBUTOR","body":"@jiajunwang  Sorry if it's confusing. This PR is for the periodic refresh. I have copied and pasted all your comments here and I will address them here.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/628166438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/628234157","html_url":"https://github.com/apache/helix/pull/1002#issuecomment-628234157","issue_url":"https://api.github.com/repos/apache/helix/issues/1002","id":628234157,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODIzNDE1Nw==","user":{"login":"mgao0","id":31704180,"node_id":"MDQ6VXNlcjMxNzA0MTgw","avatar_url":"https://avatars.githubusercontent.com/u/31704180?v=4","gravatar_id":"","url":"https://api.github.com/users/mgao0","html_url":"https://github.com/mgao0","followers_url":"https://api.github.com/users/mgao0/followers","following_url":"https://api.github.com/users/mgao0/following{/other_user}","gists_url":"https://api.github.com/users/mgao0/gists{/gist_id}","starred_url":"https://api.github.com/users/mgao0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgao0/subscriptions","organizations_url":"https://api.github.com/users/mgao0/orgs","repos_url":"https://api.github.com/users/mgao0/repos","events_url":"https://api.github.com/users/mgao0/events{/privacy}","received_events_url":"https://api.github.com/users/mgao0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-13T20:40:14Z","updated_at":"2020-05-13T20:40:14Z","author_association":"CONTRIBUTOR","body":"> I think the design is a little bit awkward. Please check out my comments and see if that would be an easier design.\r\n\r\nI moved all your comments on periodic message refresh to https://github.com/apache/helix/pull/1000. I decided to separate the PR since it's trying to resolve two different issues. Sorry for the confusion, please refer to the link above for the replies on your comments.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/628234157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/628282251","html_url":"https://github.com/apache/helix/pull/1002#issuecomment-628282251","issue_url":"https://api.github.com/repos/apache/helix/issues/1002","id":628282251,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODI4MjI1MQ==","user":{"login":"mgao0","id":31704180,"node_id":"MDQ6VXNlcjMxNzA0MTgw","avatar_url":"https://avatars.githubusercontent.com/u/31704180?v=4","gravatar_id":"","url":"https://api.github.com/users/mgao0","html_url":"https://github.com/mgao0","followers_url":"https://api.github.com/users/mgao0/followers","following_url":"https://api.github.com/users/mgao0/following{/other_user}","gists_url":"https://api.github.com/users/mgao0/gists{/gist_id}","starred_url":"https://api.github.com/users/mgao0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgao0/subscriptions","organizations_url":"https://api.github.com/users/mgao0/orgs","repos_url":"https://api.github.com/users/mgao0/repos","events_url":"https://api.github.com/users/mgao0/events{/privacy}","received_events_url":"https://api.github.com/users/mgao0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-13T22:38:29Z","updated_at":"2020-05-13T22:38:29Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @dasahcc @jiajunwang .\r\nFinal commit message:\r\nUse updaters to update messages with READ state to ZK","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/628282251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/628808052","html_url":"https://github.com/apache/helix/pull/974#issuecomment-628808052","issue_url":"https://api.github.com/repos/apache/helix/issues/974","id":628808052,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODgwODA1Mg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T18:21:29Z","updated_at":"2020-05-14T18:21:29Z","author_association":"CONTRIBUTOR","body":"There are too many places that previously read partial data but now thrown exception. We need to reason for each case that when exception thrown, what is the difference of behavior and what should be right behavior.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/628808052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/628838174","html_url":"https://github.com/apache/helix/pull/974#issuecomment-628838174","issue_url":"https://api.github.com/repos/apache/helix/issues/974","id":628838174,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODgzODE3NA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T19:19:52Z","updated_at":"2020-05-14T19:21:05Z","author_association":"CONTRIBUTOR","body":"> There are too many places that previously read partial data but now thrown exception. We need to reason for each case that when exception thrown, what is the difference of behavior and what should be right behavior.\r\n\r\nI believe, on the contrary, we need a reason for each case that does not throw an exception. The partial reads cause many problems. We need to be very strict.\r\nMoreover, the batch retry logic has been checked in to ensure connectivity issues won't be a concern anymore.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/628838174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/628902348","html_url":"https://github.com/apache/helix/pull/974#issuecomment-628902348","issue_url":"https://api.github.com/repos/apache/helix/issues/974","id":628902348,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODkwMjM0OA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T21:43:45Z","updated_at":"2020-05-14T21:43:45Z","author_association":"CONTRIBUTOR","body":"I agree, partial result hide problem. \r\n\r\nBut theoretically, now you can have an exception previously you don't. Now the problem is that this exception may not be caught properly and that would cause other problems like pipeline stopping, or thread get terminated etc. For these, we need to evaluate case by case. \r\n\r\nThis is my point -- all the changed places, the potential exception is handled properly.  Maybe you already considered them. Just a reminder.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/628902348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/628926195","html_url":"https://github.com/apache/helix/pull/974#issuecomment-628926195","issue_url":"https://api.github.com/repos/apache/helix/issues/974","id":628926195,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODkyNjE5NQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T22:51:28Z","updated_at":"2020-05-14T22:51:28Z","author_association":"CONTRIBUTOR","body":"Thanks for the review @dasahcc and @kaisun2000 \r\nI have converted back some of the changes that enforce strictly check. Could you please take a look at the remaining ones?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/628926195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/628938854","html_url":"https://github.com/apache/helix/pull/974#issuecomment-628938854","issue_url":"https://api.github.com/repos/apache/helix/issues/974","id":628938854,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODkzODg1NA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T23:28:42Z","updated_at":"2020-05-14T23:28:42Z","author_association":"CONTRIBUTOR","body":"@jiajunwang, I guess you see my point.\r\nThe other thinking is to let this api throw exception explicitly and run all unit test to see if they are ok. But that can be very time consuming.\r\n\r\nI cannot review review each use case.  I am willing to trust you made all the right choice. I will give you approval.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/628938854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/628940291","html_url":"https://github.com/apache/helix/pull/974#issuecomment-628940291","issue_url":"https://api.github.com/repos/apache/helix/issues/974","id":628940291,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODk0MDI5MQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-14T23:33:35Z","updated_at":"2020-05-14T23:33:35Z","author_association":"CONTRIBUTOR","body":"> @jiajunwang, I guess you see my point.\r\n> The other thinking is to let this api throw exception explicitly and run all unit test to see if they are ok. But that can be very time consuming.\r\n> \r\n> I cannot review review each use case. I am willing to trust you made all the right choice. I will give you approval.\r\n\r\nI have run all the unit test against the current change. But the main concern is that our unit test cannot cover all the scenarios. Hopefully, our stress test process will help to catch if anything left. But please let me know if any other practical tests that is in your mind. I'd like to run whatever test possible to ensure this is a safe change.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/628940291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/628957326","html_url":"https://github.com/apache/helix/pull/974#issuecomment-628957326","issue_url":"https://api.github.com/repos/apache/helix/issues/974","id":628957326,"node_id":"MDEyOklzc3VlQ29tbWVudDYyODk1NzMyNg==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T00:33:29Z","updated_at":"2020-05-15T00:33:29Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @kaisun2000 ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/628957326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/629080044","html_url":"https://github.com/apache/helix/pull/1007#issuecomment-629080044","issue_url":"https://api.github.com/repos/apache/helix/issues/1007","id":629080044,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTA4MDA0NA==","user":{"login":"xyuanlu","id":6392021,"node_id":"MDQ6VXNlcjYzOTIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/6392021?v=4","gravatar_id":"","url":"https://api.github.com/users/xyuanlu","html_url":"https://github.com/xyuanlu","followers_url":"https://api.github.com/users/xyuanlu/followers","following_url":"https://api.github.com/users/xyuanlu/following{/other_user}","gists_url":"https://api.github.com/users/xyuanlu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyuanlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyuanlu/subscriptions","organizations_url":"https://api.github.com/users/xyuanlu/orgs","repos_url":"https://api.github.com/users/xyuanlu/repos","events_url":"https://api.github.com/users/xyuanlu/events{/privacy}","received_events_url":"https://api.github.com/users/xyuanlu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T07:33:04Z","updated_at":"2020-05-15T07:33:04Z","author_association":"CONTRIBUTOR","body":"Thanks for the review! There are still some issue/comments open to further discuss. I will address them in the following commits. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/629080044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/629428555","html_url":"https://github.com/apache/helix/pull/1009#issuecomment-629428555","issue_url":"https://api.github.com/repos/apache/helix/issues/1009","id":629428555,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTQyODU1NQ==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-15T19:05:40Z","updated_at":"2020-05-15T19:05:40Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @narendly  \r\nFinal commit message:\r\n## Modify AssignableInstance for Configurable Thread Pool Size ##\r\nAssignableInstance used to assign a default value of 40 to its resource capacity (resource capacity has only one field: TASK_EXEC_THREAD). With the recent change related to configurable thread pool size, AssignableInstance should respect the reported thread pool size in LiveInstance's.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/629428555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/630291240","html_url":"https://github.com/apache/helix/pull/1011#issuecomment-630291240","issue_url":"https://api.github.com/repos/apache/helix/issues/1011","id":630291240,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMDI5MTI0MA==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-18T16:20:01Z","updated_at":"2020-05-18T16:20:01Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @narendly  \r\nFinal commit message:\r\n## Add CRUD endpoints to TaskDriver for configurable thread pool size support ##\r\nWe are adding CRUD endpoints to TaskDriver that support \"setting target thread pool sizes\", \"getting target thread pool sizes\", \"setting global target thread pool sizes\", \"getting global target thread pool sizes\", and \"getting current thread pool sizes\".","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/630291240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/630352986","html_url":"https://github.com/apache/helix/pull/994#issuecomment-630352986","issue_url":"https://api.github.com/repos/apache/helix/issues/994","id":630352986,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMDM1Mjk4Ng==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-18T18:16:11Z","updated_at":"2020-05-18T18:16:11Z","author_association":"NONE","body":"> I have a general suggestion. Let's do the renaming in another PR. Then we can have clear understand what is the logical change.\r\n\r\nThere are not that much name changes. It is basically prevAssignment to currentState. The rest are similar. If you still think the name change is necessary, I can change the names back to original. Please let me know.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/630352986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/630577706","html_url":"https://github.com/apache/helix/pull/1016#issuecomment-630577706","issue_url":"https://api.github.com/repos/apache/helix/issues/1016","id":630577706,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMDU3NzcwNg==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-19T04:49:32Z","updated_at":"2020-05-19T04:49:32Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @pkuwm ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/630577706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/631253312","html_url":"https://github.com/apache/helix/pull/1007#issuecomment-631253312","issue_url":"https://api.github.com/repos/apache/helix/issues/1007","id":631253312,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMTI1MzMxMg==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-20T05:54:31Z","updated_at":"2020-05-20T05:54:31Z","author_association":"CONTRIBUTOR","body":"BTW, please resolve the conversation if the issue has been resolved.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/631253312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/631797050","html_url":"https://github.com/apache/helix/pull/1021#issuecomment-631797050","issue_url":"https://api.github.com/repos/apache/helix/issues/1021","id":631797050,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMTc5NzA1MA==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-20T23:51:00Z","updated_at":"2020-05-20T23:51:00Z","author_association":"CONTRIBUTOR","body":"After an offline discussion, we are temporarily suspending this PR. \r\nWe had the following concerns to the design: \r\n1. Adding these endpoints seem to lead to an unscalable design, where for each config field, we provide endpoints. \r\n2. We also have the option of adding hierarchy to the endpoints (such as \"/task-framework/target-thread-pool-size\"), but that requires other REST endpoints to comply with the same convention, which requires further discussion. \r\n\r\nSince the design is up to debate, and these endpoints are not completely necessary, we are postponing the associated work to later. \r\n\r\nUsers can use \"getInstanceConfig\", \"updateInstanceConfig\", \"getClusterConfig\", \"updateClusterConfig\", and \"getInstanceById\" endpoints to achieve the desired functionalities. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/631797050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/632228685","html_url":"https://github.com/apache/helix/pull/1013#issuecomment-632228685","issue_url":"https://api.github.com/repos/apache/helix/issues/1013","id":632228685,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjIyODY4NQ==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-21T17:07:23Z","updated_at":"2020-05-21T17:07:23Z","author_association":"NONE","body":"This PR is ready to be merged, approved by @dasahcc \r\n\r\nFinal commit message:\r\n\r\nAdd timeout for stoppable post request\r\n\r\nIn this commit, a http timeout has been added for the POST requests\r\nwhich is mainly used for REST's stoppable check.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/632228685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/632353105","html_url":"https://github.com/apache/helix/pull/1019#issuecomment-632353105","issue_url":"https://api.github.com/repos/apache/helix/issues/1019","id":632353105,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjM1MzEwNQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-21T21:22:02Z","updated_at":"2020-05-21T21:22:02Z","author_association":"CONTRIBUTOR","body":"@jiajunwang, @dasahcc, considering that user can configure java property ZK_CONNECTION_TIMEOUT ( \"zk.connection.timeout\"), then, let us recommend to change this value instead of changing the DEFAULT_CONNECTION_TIMEOUT. \r\n\r\nPut it another way, let us abandon this pull for now.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/632353105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/632946096","html_url":"https://github.com/apache/helix/pull/1023#issuecomment-632946096","issue_url":"https://api.github.com/repos/apache/helix/issues/1023","id":632946096,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMjk0NjA5Ng==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-22T23:47:52Z","updated_at":"2020-05-22T23:47:52Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang @narendly \r\n\r\nCommit message\r\n```\r\nThere are two MonitorDomainNames classes in modules: helix-core and metrics-common. The one in metrics-common misses a field Rebalancer and would cause RuntimeException error and failure for customers' running if the old class is being used in runtime: java.lang.NoSuchFieldError: Rebalancer.\r\n\r\nThis commit fixes this issue by updating the class MonitorDomainNames in metrics-common and removing the duplicate one in helix-core\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/632946096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/633679355","html_url":"https://github.com/apache/helix/issues/1004#issuecomment-633679355","issue_url":"https://api.github.com/repos/apache/helix/issues/1004","id":633679355,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMzY3OTM1NQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-25T18:34:03Z","updated_at":"2020-05-25T18:34:03Z","author_association":"CONTRIBUTOR","body":"@kaisun2000  Can you fix this?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/633679355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/634121257","html_url":"https://github.com/apache/helix/pull/1006#issuecomment-634121257","issue_url":"https://api.github.com/repos/apache/helix/issues/1006","id":634121257,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDEyMTI1Nw==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T16:06:55Z","updated_at":"2020-05-26T16:07:08Z","author_association":"NONE","body":"This PR is ready to be merged, approved by @dasahcc and @narendly \r\n\r\nFinal commit message:\r\n\r\nFix adding same job multiple times to RuntimeJobDag \r\n\r\nIn this commit, a fix has been implemented to avoid\r\n _readyJobList in RuntimeJobDag to contain multiple\r\nentries of the same job.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/634121257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/634264991","html_url":"https://github.com/apache/helix/issues/1027#issuecomment-634264991","issue_url":"https://api.github.com/repos/apache/helix/issues/1027","id":634264991,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDI2NDk5MQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T20:36:00Z","updated_at":"2020-05-26T20:36:00Z","author_association":"CONTRIBUTOR","body":"@pkuwm and @kaisun2000 Please use this issue when you are working on your part.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/634264991/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/634298494","html_url":"https://github.com/apache/helix/pull/1029#issuecomment-634298494","issue_url":"https://api.github.com/repos/apache/helix/issues/1029","id":634298494,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDI5ODQ5NA==","user":{"login":"zhangmeng916","id":56051770,"node_id":"MDQ6VXNlcjU2MDUxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/56051770?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangmeng916","html_url":"https://github.com/zhangmeng916","followers_url":"https://api.github.com/users/zhangmeng916/followers","following_url":"https://api.github.com/users/zhangmeng916/following{/other_user}","gists_url":"https://api.github.com/users/zhangmeng916/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangmeng916/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangmeng916/subscriptions","organizations_url":"https://api.github.com/users/zhangmeng916/orgs","repos_url":"https://api.github.com/users/zhangmeng916/repos","events_url":"https://api.github.com/users/zhangmeng916/events{/privacy}","received_events_url":"https://api.github.com/users/zhangmeng916/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T21:48:44Z","updated_at":"2020-05-26T21:48:44Z","author_association":"CONTRIBUTOR","body":"This PR is ready to merge. Approved by @narendly \r\nFinal commit message: Remove commented out code in participant manager.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/634298494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/634334592","html_url":"https://github.com/apache/helix/pull/994#issuecomment-634334592","issue_url":"https://api.github.com/repos/apache/helix/issues/994","id":634334592,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDMzNDU5Mg==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T23:32:33Z","updated_at":"2020-05-26T23:32:33Z","author_association":"NONE","body":"mvn test result before merge:\r\nHelix-Core\r\n```\r\n[INFO] Tests run: 1144, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4,939.921 s - in TestSuite\r\n[INFO] \r\n[INFO] Results:\r\n[INFO] \r\n[INFO] Tests run: 1144, Failures: 0, Errors: 0, Skipped: 0\r\n[INFO] \r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  01:22 h\r\n[INFO] Finished at: 2020-05-26T10:42:39-07:00\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\nHelix-rest:\r\n```\r\n[INFO] Tests run: 159, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 46.025 s - in TestSuite\r\n[INFO] \r\n[INFO] Results:\r\n[INFO] \r\n[INFO] Tests run: 159, Failures: 0, Errors: 0, Skipped: 0\r\n[INFO] \r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD SUCCESS\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  51.874 s\r\n[INFO] Finished at: 2020-05-26T16:31:12-07:00\r\n[INFO] ------------------------------------------------------------------------\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/634334592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/634336485","html_url":"https://github.com/apache/helix/pull/994#issuecomment-634336485","issue_url":"https://api.github.com/repos/apache/helix/issues/994","id":634336485,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDMzNjQ4NQ==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-26T23:39:09Z","updated_at":"2020-05-26T23:40:40Z","author_association":"NONE","body":"This PR is ready to be merged, approved by @narendly \r\n\r\nFinal commit message:\r\n\r\nMake the task scheduling decision independent of the PreviousAssignment\r\n\r\nIn this commit, the previous scheduling logic which was based on PreviousAssignment, \r\nhas been changed. Instead, the task scheduling will be based on the CurrentState.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/634336485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/634439552","html_url":"https://github.com/apache/helix/pull/1024#issuecomment-634439552","issue_url":"https://api.github.com/repos/apache/helix/issues/1024","id":634439552,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDQzOTU1Mg==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-27T05:37:16Z","updated_at":"2020-05-27T05:37:16Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @narendly @alirezazamani \r\n\r\nCommit:\r\n```\r\nThere is a typo in the IllegalArgumentException of SharedZkClient which is confusing: DedicatedZkClient should be changed to SharedZkClient.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/634439552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/634441483","html_url":"https://github.com/apache/helix/pull/976#issuecomment-634441483","issue_url":"https://api.github.com/repos/apache/helix/issues/976","id":634441483,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNDQ0MTQ4Mw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-27T05:43:41Z","updated_at":"2020-05-27T05:43:41Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @narendly \r\n\r\n```\r\nIn TestZNRecordSizeLimit, the assertion message should indicate the data is smaller than 1 MB threshold. HelixException should be ZkMarshallingError because the exception type is changed in ZNRecord serializer.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/634441483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/635134097","html_url":"https://github.com/apache/helix/pull/1000#issuecomment-635134097","issue_url":"https://api.github.com/repos/apache/helix/issues/1000","id":635134097,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTEzNDA5Nw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T06:28:06Z","updated_at":"2020-05-28T06:28:22Z","author_association":"CONTRIBUTOR","body":"I just saw this diff. In fact, this is a totally different from what it was before. I have quite some reservation to add periodical refresh in CallbackHandler. \r\n\r\nCallbackHandler is the interface with zkclient managing the lifecycle of a specific Helix property path. Specifically they handle notification (further calling back to application logic) and registering further notification logic. \r\n\r\nThe part actually already had some notable issues (lose notification, or installing \"leaked path etc) that should be addressed. We should not complicate this part with further here.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/635134097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/635528578","html_url":"https://github.com/apache/helix/pull/1000#issuecomment-635528578","issue_url":"https://api.github.com/repos/apache/helix/issues/1000","id":635528578,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTUyODU3OA==","user":{"login":"mgao0","id":31704180,"node_id":"MDQ6VXNlcjMxNzA0MTgw","avatar_url":"https://avatars.githubusercontent.com/u/31704180?v=4","gravatar_id":"","url":"https://api.github.com/users/mgao0","html_url":"https://github.com/mgao0","followers_url":"https://api.github.com/users/mgao0/followers","following_url":"https://api.github.com/users/mgao0/following{/other_user}","gists_url":"https://api.github.com/users/mgao0/gists{/gist_id}","starred_url":"https://api.github.com/users/mgao0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgao0/subscriptions","organizations_url":"https://api.github.com/users/mgao0/orgs","repos_url":"https://api.github.com/users/mgao0/repos","events_url":"https://api.github.com/users/mgao0/events{/privacy}","received_events_url":"https://api.github.com/users/mgao0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T18:45:50Z","updated_at":"2020-05-28T18:45:50Z","author_association":"CONTRIBUTOR","body":"> I just saw this diff. In fact, this is a totally different from what it was before. I have quite some reservation to add periodical refresh in CallbackHandler.\r\n> \r\n> CallbackHandler is the interface with zkclient managing the lifecycle of a specific Helix property path. Specifically they handle notification (further calling back to application logic) and registering further notification logic.\r\n> \r\n> The part actually already had some notable issues (lose notification, or installing \"leaked path etc) that should be addressed. We should not complicate this part with further here.\r\n\r\nDoing periodic refresh in callback handler can actually resolve the issue that you mentioned such as lost notification or missing watcher. This periodic refresh logic is very independent, it's a separate thread, and it put an event in the event queue only if there is no event processed for a while. That being said, it the callback handler is functioning well and events are processed normally, it won't add much burden to the performance since the periodic refresh event won't be generated.\r\nIs there any specific concern you have on the periodic refresh?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/635528578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/635553574","html_url":"https://github.com/apache/helix/pull/1033#issuecomment-635553574","issue_url":"https://api.github.com/repos/apache/helix/issues/1033","id":635553574,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTU1MzU3NA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T19:36:19Z","updated_at":"2020-05-28T19:36:34Z","author_association":"CONTRIBUTOR","body":"Here's the copy of an offline discussion\r\n\r\n\r\n> Jiajun Wang:man-woman-girl-girl:  12:27\r\n> Meng will confirm. But I think that scenario was discussed and address in the original design.\r\n> 12:28\r\n> I will suggest keeping the root path listener (default feature for the new version controller) but the children's paths listeners will depend on the configuration.\r\n> \r\n> \r\n> \r\n> \r\n> \r\n> 12:29\r\n> that is the minimum code change and logic is the simpliest.\r\n> 12:30\r\n> Basically, we only need to avoid the default subscription to children nodes in the root path subscribe process (edited) \r\n> \r\n> Hunter Lee 12:30\r\n> So are we comfortable with creating CallbackHandlers for nonexistent root paths?\r\n> \r\n> Jiajun Wang  12:30\r\n> Then all the rest parts have been handled by the current code.\r\n> New\r\n> 12:32\r\n> That's the only downside. But my argument is that:\r\n> It is a default feature for the new controller.\r\n> It won't cause watcher leakage. It is always associated with a live callback handler, although never triggered,\r\n> The new participant will always have this folder. That's the agreement.\r\n> 12:33\r\n> The alternative design will create many additional codes for the \"perfect\" backward compatibility.\r\n> 12:33\r\n> Which is not necessary IMO\r\n> \r\n> Hunter Lee  12:35\r\n> Ok. Although not perfect, I think that approach strikes the right balance","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/635553574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/635646915","html_url":"https://github.com/apache/helix/pull/1028#issuecomment-635646915","issue_url":"https://api.github.com/repos/apache/helix/issues/1028","id":635646915,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTY0NjkxNQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T22:43:47Z","updated_at":"2020-05-28T22:43:47Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @dasahcc ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/635646915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/635650851","html_url":"https://github.com/apache/helix/pull/1028#issuecomment-635650851","issue_url":"https://api.github.com/repos/apache/helix/issues/1028","id":635650851,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTY1MDg1MQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-28T22:55:06Z","updated_at":"2020-05-28T22:55:06Z","author_association":"CONTRIBUTOR","body":"Will checkin to a separate branch for reviewing the later PRs.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/635650851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/636061467","html_url":"https://github.com/apache/helix/pull/1031#issuecomment-636061467","issue_url":"https://api.github.com/repos/apache/helix/issues/1031","id":636061467,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNjA2MTQ2Nw==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-29T16:19:41Z","updated_at":"2020-05-29T16:19:41Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @dasahcc \r\n\r\nAdd getIdealAssignmentForWagedFullAuto in HelixUtil for WAGED rebalancer\r\n\r\nThis commit adds a method, getIdealAssignmentForWagedFullAuto() in HelixUtil that returns to the user the cluster-wide assignment result obtained from running a rebalance using WAGED. The user will be able to use this method to predict how Helix will be rebalancing resources using the WAGED rebalancer.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/636061467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/636159369","html_url":"https://github.com/apache/helix/pull/1038#issuecomment-636159369","issue_url":"https://api.github.com/repos/apache/helix/issues/1038","id":636159369,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNjE1OTM2OQ==","user":{"login":"mgao0","id":31704180,"node_id":"MDQ6VXNlcjMxNzA0MTgw","avatar_url":"https://avatars.githubusercontent.com/u/31704180?v=4","gravatar_id":"","url":"https://api.github.com/users/mgao0","html_url":"https://github.com/mgao0","followers_url":"https://api.github.com/users/mgao0/followers","following_url":"https://api.github.com/users/mgao0/following{/other_user}","gists_url":"https://api.github.com/users/mgao0/gists{/gist_id}","starred_url":"https://api.github.com/users/mgao0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgao0/subscriptions","organizations_url":"https://api.github.com/users/mgao0/orgs","repos_url":"https://api.github.com/users/mgao0/repos","events_url":"https://api.github.com/users/mgao0/events{/privacy}","received_events_url":"https://api.github.com/users/mgao0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-29T19:54:43Z","updated_at":"2020-05-29T19:54:43Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @narendly.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/636159369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/637108731","html_url":"https://github.com/apache/helix/pull/1033#issuecomment-637108731","issue_url":"https://api.github.com/repos/apache/helix/issues/1033","id":637108731,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzEwODczMQ==","user":{"login":"zhangmeng916","id":56051770,"node_id":"MDQ6VXNlcjU2MDUxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/56051770?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangmeng916","html_url":"https://github.com/zhangmeng916","followers_url":"https://api.github.com/users/zhangmeng916/followers","following_url":"https://api.github.com/users/zhangmeng916/following{/other_user}","gists_url":"https://api.github.com/users/zhangmeng916/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangmeng916/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangmeng916/subscriptions","organizations_url":"https://api.github.com/users/zhangmeng916/orgs","repos_url":"https://api.github.com/users/zhangmeng916/repos","events_url":"https://api.github.com/users/zhangmeng916/events{/privacy}","received_events_url":"https://api.github.com/users/zhangmeng916/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-01T21:21:25Z","updated_at":"2020-06-01T21:21:25Z","author_association":"CONTRIBUTOR","body":"I updated this rb with a solution to avoid stack trace in our customers who have not updated their helix-lib version. As discussed before, this is the simplest while robust way to solve the issue without performance penalty. For further improvement on customized state listener, we track in this issue: https://github.com/apache/helix/issues/1046 and tackle it later.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/637108731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/637271014","html_url":"https://github.com/apache/helix/issues/1047#issuecomment-637271014","issue_url":"https://api.github.com/repos/apache/helix/issues/1047","id":637271014,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzI3MTAxNA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-02T04:52:33Z","updated_at":"2020-06-02T04:52:33Z","author_association":"CONTRIBUTOR","body":"Hi @akki,\r\n\r\nI think it is definitely fine to post your issue here on GitHub. We all create issues here for development. Feel free to post your issue for discussion.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/637271014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/637292194","html_url":"https://github.com/apache/helix/issues/1047#issuecomment-637292194","issue_url":"https://api.github.com/repos/apache/helix/issues/1047","id":637292194,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzI5MjE5NA==","user":{"login":"akki","id":4801628,"node_id":"MDQ6VXNlcjQ4MDE2Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/4801628?v=4","gravatar_id":"","url":"https://api.github.com/users/akki","html_url":"https://github.com/akki","followers_url":"https://api.github.com/users/akki/followers","following_url":"https://api.github.com/users/akki/following{/other_user}","gists_url":"https://api.github.com/users/akki/gists{/gist_id}","starred_url":"https://api.github.com/users/akki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akki/subscriptions","organizations_url":"https://api.github.com/users/akki/orgs","repos_url":"https://api.github.com/users/akki/repos","events_url":"https://api.github.com/users/akki/events{/privacy}","received_events_url":"https://api.github.com/users/akki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-02T05:45:12Z","updated_at":"2020-06-02T05:47:07Z","author_association":"NONE","body":"Hi, @pkuwm\r\nThanks for your reply.\r\nI actually tried subscribing to the mailing list & sending my mail and [this time it worked](http://mail-archives.apache.org/mod_mbox/helix-user/202006.mbox/browser).\r\n\r\n\r\n---------------------------------------------\r\nCopy-pasting it here as well, in case this is the preferred medium:\r\n\r\nHi Helix community\r\n\r\nNice to e-meet you guys. I am pretty new to this project and it is my first time writing to this mailing list - I apologize in advance for any mistakes.\r\n\r\nI am trying to implement a system's state model requirement here but am not able to achieve it. Hoping anyone here could point me in the right direction.\r\n\r\n\r\n### GOAL\r\nMy system is a typical multi-node + multi-resource system with the following properties:\r\n1. Any partition should have one & only one online partition at any given point of time.\r\n2. The _ONLINE -> OFFLINE_ transition is not instantaneous (typically takes minutes).\r\n3. Offline partitions have no special role - they can be dropped as soon as they become offline.\r\n\r\nIf it helps in understanding better, my application is a tool which copies data from Kafka to Hadoop.\r\nAnd having two ONLINE partitions at the same time means I am duplicating this data in Hadoop.\r\n\r\n\r\n### WHAT I HAVE TRIED\r\nI was able to successfully modify the [Quickstart](https://github.com/apache/helix/blob/master/helix-core/src/main/java/org/apache/helix/examples/Quickstart.java) script to imitate my use-case so I believe Helix can handle this scenario.\r\nBut when I do it in my application I see that Helix fires the ONLINE -> OFFLINE & OFFLINE -> ONLINE transitions (to the corresponding 2 nodes) almost simultaneously. I want Helix to signal \"ONLINE -> OFFLINE\", then wait until the partition goes offline and only then fire the \"OFFLINE -> ONLINE\" transition to the new upcoming node.\r\nI have implemented my `@Transition(from = \"ONLINE\", to = \"OFFLINE\")` function in such a way that it waits for the partition to go offline (using [`latch.await()`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CountDownLatch.html#await--)) and only then returns (I have confirmed this from application logs).\r\n\r\nMy application is different from my Quickstart trial app in the following ways (or at least, these are the ones known to me, I am building upon someone else's project so there might be code that I am not aware of):\r\n1. The rebalancing algo is **not** AUTO - I am using my own custom logic to distribute partitions among nodes\r\n2. I have enabled nodes to auto-join i.e. `props.put(ZKHelixManager.ALLOW_PARTICIPANT_AUTO_JOIN, String.valueOf(true));`\r\nIs it possible for me to achieve this system with these settings enabled?\r\n\r\n\r\n### DEBUG LOGS / CODE\r\nIf it helps, this is what I see in Zookeeper after adding a 2nd node to my cluster which had 1 node with 1 resource with 6 partitions - https://gist.github.com/akki/1d80c97463198275b3abe39350688bda#file-zookeeper-output-txt\r\n[As you can see](https://gist.github.com/akki/1d80c97463198275b3abe39350688bda#file-zookeeper-output-txt-L15), there are a few partitions which have 2 ONLINE replicas at the same time (after a while the draining replica goes away but in that duration, my data gets duplicated, which is the problem I want to overcome). I cannot understand how this is possible when I have set up [these bounds](https://gist.github.com/akki/1d80c97463198275b3abe39350688bda#file-onlineofflinestatemodel-java-L36) in [my model definition](https://gist.github.com/akki/1d80c97463198275b3abe39350688bda#file-onlineofflinestatemodel-java).\r\n\r\n\r\nI would really appreciate if anyone here could give me any clues that what I might be doing wrong (or what I am trying to achieve is even possible or not with Helix).\r\n\r\nThank you so much for building such a wonderful tool and having this mailing list to help us out.\r\n\r\n\r\nRegards\r\nAkshesh Doshi","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/637292194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/637769807","html_url":"https://github.com/apache/helix/issues/1047#issuecomment-637769807","issue_url":"https://api.github.com/repos/apache/helix/issues/1047","id":637769807,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzc2OTgwNw==","user":{"login":"akki","id":4801628,"node_id":"MDQ6VXNlcjQ4MDE2Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/4801628?v=4","gravatar_id":"","url":"https://api.github.com/users/akki","html_url":"https://github.com/akki","followers_url":"https://api.github.com/users/akki/followers","following_url":"https://api.github.com/users/akki/following{/other_user}","gists_url":"https://api.github.com/users/akki/gists{/gist_id}","starred_url":"https://api.github.com/users/akki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akki/subscriptions","organizations_url":"https://api.github.com/users/akki/orgs","repos_url":"https://api.github.com/users/akki/repos","events_url":"https://api.github.com/users/akki/events{/privacy}","received_events_url":"https://api.github.com/users/akki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-02T19:50:38Z","updated_at":"2020-06-02T19:50:38Z","author_association":"NONE","body":"The conversation has continued here - http://mail-archives.apache.org/mod_mbox/helix-user/202006.mbox/browser","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/637769807/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/637800887","html_url":"https://github.com/apache/helix/pull/1049#issuecomment-637800887","issue_url":"https://api.github.com/repos/apache/helix/issues/1049","id":637800887,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzgwMDg4Nw==","user":{"login":"mgao0","id":31704180,"node_id":"MDQ6VXNlcjMxNzA0MTgw","avatar_url":"https://avatars.githubusercontent.com/u/31704180?v=4","gravatar_id":"","url":"https://api.github.com/users/mgao0","html_url":"https://github.com/mgao0","followers_url":"https://api.github.com/users/mgao0/followers","following_url":"https://api.github.com/users/mgao0/following{/other_user}","gists_url":"https://api.github.com/users/mgao0/gists{/gist_id}","starred_url":"https://api.github.com/users/mgao0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgao0/subscriptions","organizations_url":"https://api.github.com/users/mgao0/orgs","repos_url":"https://api.github.com/users/mgao0/repos","events_url":"https://api.github.com/users/mgao0/events{/privacy}","received_events_url":"https://api.github.com/users/mgao0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-02T20:54:52Z","updated_at":"2020-06-02T20:54:52Z","author_association":"CONTRIBUTOR","body":"Looks good to me in general. I just wonder what is the chance that the content is in ZNRecord format. Which would be safer (true or false) as the default value for \"isZNRecord\"?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/637800887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/637843742","html_url":"https://github.com/apache/helix/pull/1007#issuecomment-637843742","issue_url":"https://api.github.com/repos/apache/helix/issues/1007","id":637843742,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzg0Mzc0Mg==","user":{"login":"xyuanlu","id":6392021,"node_id":"MDQ6VXNlcjYzOTIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/6392021?v=4","gravatar_id":"","url":"https://api.github.com/users/xyuanlu","html_url":"https://github.com/xyuanlu","followers_url":"https://api.github.com/users/xyuanlu/followers","following_url":"https://api.github.com/users/xyuanlu/following{/other_user}","gists_url":"https://api.github.com/users/xyuanlu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyuanlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyuanlu/subscriptions","organizations_url":"https://api.github.com/users/xyuanlu/orgs","repos_url":"https://api.github.com/users/xyuanlu/repos","events_url":"https://api.github.com/users/xyuanlu/events{/privacy}","received_events_url":"https://api.github.com/users/xyuanlu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-02T22:36:04Z","updated_at":"2020-06-02T22:36:04Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang \r\n\r\nAdd more accurate error message for resetPartition\r\n\r\nThis commit adds more specific messages for failure reason for reserPartion. It also adds a unit test for resetPartition.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/637843742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/637864776","html_url":"https://github.com/apache/helix/pull/1049#issuecomment-637864776","issue_url":"https://api.github.com/repos/apache/helix/issues/1049","id":637864776,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzg2NDc3Ng==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-02T23:45:52Z","updated_at":"2020-06-02T23:45:52Z","author_association":"CONTRIBUTOR","body":"> Looks good to me in general. I just wonder what is the chance that the content is in ZNRecord format. Which would be safer (true or false) as the default value for \"isZNRecord\"?\r\n\r\nisZNRecord = true would be safer because it would fail early in the chance that the content passed in is binary data.\r\n\r\nCould you approve the PR if you think it's good? :)","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/637864776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/637871010","html_url":"https://github.com/apache/helix/pull/1049#issuecomment-637871010","issue_url":"https://api.github.com/repos/apache/helix/issues/1049","id":637871010,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzg3MTAxMA==","user":{"login":"mgao0","id":31704180,"node_id":"MDQ6VXNlcjMxNzA0MTgw","avatar_url":"https://avatars.githubusercontent.com/u/31704180?v=4","gravatar_id":"","url":"https://api.github.com/users/mgao0","html_url":"https://github.com/mgao0","followers_url":"https://api.github.com/users/mgao0/followers","following_url":"https://api.github.com/users/mgao0/following{/other_user}","gists_url":"https://api.github.com/users/mgao0/gists{/gist_id}","starred_url":"https://api.github.com/users/mgao0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgao0/subscriptions","organizations_url":"https://api.github.com/users/mgao0/orgs","repos_url":"https://api.github.com/users/mgao0/repos","events_url":"https://api.github.com/users/mgao0/events{/privacy}","received_events_url":"https://api.github.com/users/mgao0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-02T23:53:05Z","updated_at":"2020-06-02T23:53:05Z","author_association":"CONTRIBUTOR","body":"> > Looks good to me in general. I just wonder what is the chance that the content is in ZNRecord format. Which would be safer (true or false) as the default value for \"isZNRecord\"?\r\n> \r\n> isZNRecord = true would be safer because it would fail early in the chance that the content passed in is binary data.\r\n> \r\n> Could you approve the PR if you think it's good? :)\r\n\r\nSeems that I don't have write access. So you'll need to find someone else to approve it.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/637871010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/637879892","html_url":"https://github.com/apache/helix/pull/1049#issuecomment-637879892","issue_url":"https://api.github.com/repos/apache/helix/issues/1049","id":637879892,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzg3OTg5Mg==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-03T00:12:51Z","updated_at":"2020-06-03T00:12:51Z","author_association":"CONTRIBUTOR","body":"> > > Looks good to me in general. I just wonder what is the chance that the content is in ZNRecord format. Which would be safer (true or false) as the default value for \"isZNRecord\"?\r\n> > \r\n> > \r\n> > isZNRecord = true would be safer because it would fail early in the chance that the content passed in is binary data.\r\n> > Could you approve the PR if you think it's good? :)\r\n> \r\n> Seems that I don't have write access. So you'll need to find someone else to approve it.\r\n\r\nYour approval went through just fine :) I see it.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/637879892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/637880143","html_url":"https://github.com/apache/helix/pull/1049#issuecomment-637880143","issue_url":"https://api.github.com/repos/apache/helix/issues/1049","id":637880143,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzg4MDE0Mw==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-03T00:13:46Z","updated_at":"2020-06-03T00:13:46Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @mgao0 \r\n\r\nAdd PropertyStore write endpoint to Helix REST\r\n\r\n\r\nThis commit adds in Helix REST a write endpoint that allows you to either write byte array or a ZNRecord to any path under PropertyStore, which is a directory in cluster metadata in ZK where applications can write custom data.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/637880143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/637938685","html_url":"https://github.com/apache/helix/pull/1053#issuecomment-637938685","issue_url":"https://api.github.com/repos/apache/helix/issues/1053","id":637938685,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzkzODY4NQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-03T04:02:24Z","updated_at":"2020-06-03T04:02:24Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @narendly \r\n\r\n```\r\nTest testDropInstance doesn't assert expected HelixException, so when a live instance is not created, the test still passes. The reason is the test uses a sharedZkClient to create a live instance but fails.\r\n\r\nThis PR addresses this issue by creating a dedicated zkclient in ZkBaseDataAccessor to create a live instance.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/637938685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/638472914","html_url":"https://github.com/apache/helix/pull/1050#issuecomment-638472914","issue_url":"https://api.github.com/repos/apache/helix/issues/1050","id":638472914,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODQ3MjkxNA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-03T21:31:21Z","updated_at":"2020-06-03T21:31:21Z","author_association":"CONTRIBUTOR","body":"Hi @akki , thanks for the PR. Could you please clarify if you are requesting to merge the code into the master branch or it is your POC code?\r\nIf the first case, please refer to this [wiki](https://github.com/apache/helix/wiki/Pull-Request-Description-Template) and provide more information about the change. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/638472914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/638476097","html_url":"https://github.com/apache/helix/pull/1056#issuecomment-638476097","issue_url":"https://api.github.com/repos/apache/helix/issues/1056","id":638476097,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODQ3NjA5Nw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-03T21:39:27Z","updated_at":"2020-06-03T21:39:27Z","author_association":"CONTRIBUTOR","body":"I have 2 questions,\r\n1. What is the expected ZK throughput? It sounds a very scary idea. Note that ZK writes traffic is the current performance bottleneck.\r\n2. If we are doing this, I suggest doing this as an additional metric reporting channel outside the monitor classes, or even outside the Helix lib. MBean is a generic way to report metrics. To expose that data to any other metric collection system or to ZK is not related to the MBeans. Adding this option and extra logic into the monitors just increase the unnecessary complexity of those classes.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/638476097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/638539425","html_url":"https://github.com/apache/helix/pull/1033#issuecomment-638539425","issue_url":"https://api.github.com/repos/apache/helix/issues/1033","id":638539425,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODUzOTQyNQ==","user":{"login":"zhangmeng916","id":56051770,"node_id":"MDQ6VXNlcjU2MDUxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/56051770?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangmeng916","html_url":"https://github.com/zhangmeng916","followers_url":"https://api.github.com/users/zhangmeng916/followers","following_url":"https://api.github.com/users/zhangmeng916/following{/other_user}","gists_url":"https://api.github.com/users/zhangmeng916/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangmeng916/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangmeng916/subscriptions","organizations_url":"https://api.github.com/users/zhangmeng916/orgs","repos_url":"https://api.github.com/users/zhangmeng916/repos","events_url":"https://api.github.com/users/zhangmeng916/events{/privacy}","received_events_url":"https://api.github.com/users/zhangmeng916/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-04T01:06:55Z","updated_at":"2020-06-04T01:06:55Z","author_association":"CONTRIBUTOR","body":"This PR is ready to merge. Approved by @pkuwm \r\nFinal commit message: \r\nRemove stack trace when customized state root does not exist and throws no node exception.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/638539425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/638587651","html_url":"https://github.com/apache/helix/pull/1041#issuecomment-638587651","issue_url":"https://api.github.com/repos/apache/helix/issues/1041","id":638587651,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODU4NzY1MQ==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-04T03:57:24Z","updated_at":"2020-06-04T03:57:24Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @pkuwm ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/638587651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/638597969","html_url":"https://github.com/apache/helix/pull/1019#issuecomment-638597969","issue_url":"https://api.github.com/repos/apache/helix/issues/1019","id":638597969,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODU5Nzk2OQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-04T04:39:29Z","updated_at":"2020-06-04T04:39:29Z","author_association":"CONTRIBUTOR","body":"Close the PR on behave of @kaisun2000 ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/638597969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/638687716","html_url":"https://github.com/apache/helix/pull/1035#issuecomment-638687716","issue_url":"https://api.github.com/repos/apache/helix/issues/1035","id":638687716,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODY4NzcxNg==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-04T08:15:30Z","updated_at":"2020-06-04T08:15:30Z","author_association":"CONTRIBUTOR","body":"@kaisun2000 since there are many conversations, it is hard for me to track the previous comments. Could you please leave my comments in the \"unresolved\" state even you replied. So that I can read your reply and confirm if my concerns have been resolved?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/638687716/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/638714404","html_url":"https://github.com/apache/helix/pull/1035#issuecomment-638714404","issue_url":"https://api.github.com/repos/apache/helix/issues/1035","id":638714404,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODcxNDQwNA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-04T08:55:45Z","updated_at":"2020-06-04T08:57:39Z","author_association":"CONTRIBUTOR","body":"It seems that comment session lost some of my important comments explaining the life cycle of callback handler and some others. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/638714404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/638726980","html_url":"https://github.com/apache/helix/pull/1035#issuecomment-638726980","issue_url":"https://api.github.com/repos/apache/helix/issues/1035","id":638726980,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODcyNjk4MA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-04T09:16:33Z","updated_at":"2020-06-04T09:16:33Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/helix/pull/1035#discussion_r434994750\r\n\r\nThis is hard to do for this issue. Leakage is kind of different animal. Whatever you verifywith does not mean much in this case. Can you give a proposal? @jiajunwang ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/638726980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/638962527","html_url":"https://github.com/apache/helix/pull/1040#issuecomment-638962527","issue_url":"https://api.github.com/repos/apache/helix/issues/1040","id":638962527,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODk2MjUyNw==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-04T16:23:02Z","updated_at":"2020-06-04T16:23:02Z","author_association":"NONE","body":"This PR is ready to be merged, approved by @dasahcc \r\n\r\nFinal commit message:\r\n\r\nRemove previousAssignment in processTaskWithPendingMessage method\r\n\r\nThe processTaskWithPendingMessage method is relying on the previousAssignment.\r\nIn this commit, this method has been modified and previousAssignment has been\r\nreplaced with currentState.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/638962527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/639003161","html_url":"https://github.com/apache/helix/pull/1058#issuecomment-639003161","issue_url":"https://api.github.com/repos/apache/helix/issues/1058","id":639003161,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTAwMzE2MQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-04T17:41:10Z","updated_at":"2020-06-04T17:41:10Z","author_association":"CONTRIBUTOR","body":"To avoid introducing unnecessary instability into the verifier, can we have 2 classes. One for the verifier, one for the simulate API. The verifier class can be a child class or an anonymous class. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/639003161/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/639015066","html_url":"https://github.com/apache/helix/pull/1056#issuecomment-639015066","issue_url":"https://api.github.com/repos/apache/helix/issues/1056","id":639015066,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTAxNTA2Ng==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-04T18:03:46Z","updated_at":"2020-06-04T18:03:57Z","author_association":"CONTRIBUTOR","body":"> I have 2 questions,\r\n> \r\n> 1. What is the expected ZK throughput? It sounds a very scary idea. Note that ZK writes traffic is the current performance bottleneck.\r\n> 2. If we are doing this, I suggest doing this as an additional metric reporting channel outside the monitor classes, or even outside the Helix lib. MBean is a generic way to report metrics. To expose that data to any other metric collection system or to ZK is not related to the MBeans. Adding this option and extra logic into the monitors just increase the unnecessary complexity of those classes.\r\n\r\n1. Unfortunately I can't answer this question with confidence - as noted in the design doc, @narendly believes this is not a major performance concern; without much context on performance bottleneck myself, I trust @narendly's assessment. \r\nIn terms of throughput, the syncing happens every time a data point is added to this metric. \r\nLastly, to achieve the goal of \"providing metrics on client side\", this is the only method I can think of: using ZK. Is there any other good ways to achieve this goal?\r\n\r\n2. There isn't any means to access the gauges outside JobMonitor, which is why I placed the logic inside JobMonitor. I don't think adding support for JobMonitor to optionally sync values to Zk is \"complexity\"; it's just an option. \r\nBut if you insist, I'm happy to leave the logic to an outer class. I will need to have JobMonitor providing access to the gauges. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/639015066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/639020103","html_url":"https://github.com/apache/helix/pull/1000#issuecomment-639020103","issue_url":"https://api.github.com/repos/apache/helix/issues/1000","id":639020103,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTAyMDEwMw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-04T18:13:48Z","updated_at":"2020-06-04T18:13:48Z","author_association":"CONTRIBUTOR","body":"Thanks for the update. Could you please add more information in the description about what the issue this refresh trying to address? I mean we discussed several scenarios that cannot be addressed by the other fixes, then we decided to proceed to finish this PR. But let's make it clear what is the missing part.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/639020103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/639033501","html_url":"https://github.com/apache/helix/pull/1056#issuecomment-639033501","issue_url":"https://api.github.com/repos/apache/helix/issues/1056","id":639033501,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTAzMzUwMQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-04T18:31:22Z","updated_at":"2020-06-04T18:31:22Z","author_association":"CONTRIBUTOR","body":"> > I have 2 questions,\r\n> > \r\n> > 1. What is the expected ZK throughput? It sounds a very scary idea. Note that ZK writes traffic is the current performance bottleneck.\r\n> > 2. If we are doing this, I suggest doing this as an additional metric reporting channel outside the monitor classes, or even outside the Helix lib. MBean is a generic way to report metrics. To expose that data to any other metric collection system or to ZK is not related to the MBeans. Adding this option and extra logic into the monitors just increase the unnecessary complexity of those classes.\r\n> \r\n> 1. Unfortunately I can't answer this question with confidence - as noted in the design doc, @narendly believes this is not a major performance concern; without much context on performance bottleneck myself, I trust @narendly's assessment.\r\n>    In terms of throughput, the syncing happens every time a data point is added to this metric.\r\n>    Lastly, to achieve the goal of \"providing metrics on client side\", this is the only method I can think of: using ZK. Is there any other good ways to achieve this goal?\r\n> 2. There isn't any means to access the gauges outside JobMonitor, which is why I placed the logic inside JobMonitor. I don't think adding support for JobMonitor to optionally sync values to Zk is \"complexity\"; it's just an option.\r\n>    But if you insist, I'm happy to leave the logic to an outer class. I will need to have JobMonitor providing access to the gauges.\r\n\r\n1. Then the problem is how you can convince us : ) This current explanation is not satisfying, to be frank. Please schedule a meeting so we can talk offline.\r\n2. Please check how we are using MBeanServer in our code base. That is the way. \"complexity\" means,\r\n     - The JobMonitor will be a larger file. And there are 2 systems of reporting mechanism inside one class.\r\n     - MBean is the generic mean for Java process to report it's status. The emitting part should be built above that. If you mixed emitting part with the MBean, it definitely makes it harder to understand.\r\n    - If you want to add this type of support to the other monitors, you will need to do this again. However, if you do this outside as service, then you just need to register your MBean there. I guess no more than 10 lines of change given the ZK based metric emitting service is designed well.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/639033501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/639050638","html_url":"https://github.com/apache/helix/pull/1037#issuecomment-639050638","issue_url":"https://api.github.com/repos/apache/helix/issues/1037","id":639050638,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTA1MDYzOA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-04T18:50:13Z","updated_at":"2020-06-04T18:50:13Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @dasahcc ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/639050638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/639629938","html_url":"https://github.com/apache/helix/pull/1033#issuecomment-639629938","issue_url":"https://api.github.com/repos/apache/helix/issues/1033","id":639629938,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTYyOTkzOA==","user":{"login":"zhangmeng916","id":56051770,"node_id":"MDQ6VXNlcjU2MDUxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/56051770?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangmeng916","html_url":"https://github.com/zhangmeng916","followers_url":"https://api.github.com/users/zhangmeng916/followers","following_url":"https://api.github.com/users/zhangmeng916/following{/other_user}","gists_url":"https://api.github.com/users/zhangmeng916/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangmeng916/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangmeng916/subscriptions","organizations_url":"https://api.github.com/users/zhangmeng916/orgs","repos_url":"https://api.github.com/users/zhangmeng916/repos","events_url":"https://api.github.com/users/zhangmeng916/events{/privacy}","received_events_url":"https://api.github.com/users/zhangmeng916/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T16:56:41Z","updated_at":"2020-06-05T16:56:41Z","author_association":"CONTRIBUTOR","body":"This PR is ready to merge. Approved by @pkuwm\r\nFinal commit message:\r\nRemove stack trace when customized state root does not exist and throws no node exception.\r\nChange logging in Callback handler to be parameterized logging.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/639629938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/639774314","html_url":"https://github.com/apache/helix/pull/1066#issuecomment-639774314","issue_url":"https://api.github.com/repos/apache/helix/issues/1066","id":639774314,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTc3NDMxNA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T20:12:37Z","updated_at":"2020-06-05T20:12:37Z","author_association":"CONTRIBUTOR","body":"Got it. Thanks for pointing that out. I will get a better name for it.\nMaybe \"ZkSessionWrapper\". If you have a better name, please let me know.\n\nOn Fri, Jun 5, 2020 at 12:52 PM Lei Xia <notifications@github.com> wrote:\n\n> *@lei-xia* commented on this pull request.\n> ------------------------------\n>\n> In helix-core/src/main/java/org/apache/helix/HelixManager.java\n> <https://github.com/apache/helix/pull/1066#discussion_r436132217>:\n>\n> > @@ -425,6 +426,19 @@ void addExternalViewChangeListener(org.apache.helix.ExternalViewChangeListener l\n>     */\n>    boolean isLeader();\n>\n> +  /**\n> +   * Checks if the cluster manager is leader and sets its ZK session in\n> +   * {@link ControllerLeaderSession}.\n> +   *\n> +   * @param controllerLeaderSession To include ZK session of the cluster manager in return\n> +   *\n> +   * @return true if this is a controller and a leader of the cluster. Zk session of the cluster\n> +   * manager is set in controllerLeaderSession\n> +   */\n> +  default boolean isLeader(ControllerLeaderSession controllerLeaderSession) {\n>\n> This could be confusion because there is no \"leader\" concept for a Helix\n> manager. Leader only applies to a controller instance, but HelixManager is\n> a broader concept here.\n>\n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/helix/pull/1066#pullrequestreview-425585806>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/ABHSRCM4ZMRIF3VAWDW7VQTRVFEHHANCNFSM4NU6ODJA>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/639774314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/639809703","html_url":"https://github.com/apache/helix/pull/1064#issuecomment-639809703","issue_url":"https://api.github.com/repos/apache/helix/issues/1064","id":639809703,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTgwOTcwMw==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T20:50:41Z","updated_at":"2020-06-05T20:50:41Z","author_association":"NONE","body":"This PR is ready to be merged, approved by @dasahcc \r\n\r\nFinal commit message:\r\nAvoid adding JobConfig if queue has reached its capacity limit\r\n\r\nIn this commit, the necessary check has been added in TaskDriver side\r\nto fail creation of JobConfig if the queue has reached its capacity limit.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/639809703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/639820116","html_url":"https://github.com/apache/helix/pull/1035#issuecomment-639820116","issue_url":"https://api.github.com/repos/apache/helix/issues/1035","id":639820116,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTgyMDExNg==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T21:09:50Z","updated_at":"2020-06-05T21:09:50Z","author_association":"CONTRIBUTOR","body":"> @kaisun2000 If you agree on the name changing, please change all the other parameter names of this option. They are not consistent now.\r\n\r\nPlease address this comment.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/639820116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/639821889","html_url":"https://github.com/apache/helix/pull/1035#issuecomment-639821889","issue_url":"https://api.github.com/repos/apache/helix/issues/1035","id":639821889,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTgyMTg4OQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T21:13:11Z","updated_at":"2020-06-05T21:13:11Z","author_association":"CONTRIBUTOR","body":"Sorry, but I don't agree with merging in the current state.\r\n1. Test issues are not my major concern. @pkuwm can say something if he is still concerned.\r\n2. The other remaining comments are easy to fix. Why adding TODO instead of just making the change? At most 10 more minutes work. That will make this PR clean and avoid back-and-forth change later.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/639821889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/639829386","html_url":"https://github.com/apache/helix/pull/1035#issuecomment-639829386","issue_url":"https://api.github.com/repos/apache/helix/issues/1035","id":639829386,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTgyOTM4Ng==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T21:27:11Z","updated_at":"2020-06-05T21:27:11Z","author_association":"CONTRIBUTOR","body":"For some pending items, since they don't affect correctness. We add the @todo comments. Will enhance then further. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/639829386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/639836147","html_url":"https://github.com/apache/helix/pull/1035#issuecomment-639836147","issue_url":"https://api.github.com/repos/apache/helix/issues/1035","id":639836147,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTgzNjE0Nw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T21:39:41Z","updated_at":"2020-06-05T21:39:41Z","author_association":"CONTRIBUTOR","body":"@jiajunwang, just saw you last comments. You are concerned with the issue of change the private \"watchforChild\" to have 2 parameter? Let me sync with you when you are back how can squeeze it in.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/639836147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/639894913","html_url":"https://github.com/apache/helix/pull/1035#issuecomment-639894913","issue_url":"https://api.github.com/repos/apache/helix/issues/1035","id":639894913,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTg5NDkxMw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-05T23:32:25Z","updated_at":"2020-06-05T23:32:25Z","author_association":"CONTRIBUTOR","body":"This is meant to address leakage of watch in Zookeeper server. It does become in issue of Zk server stability with current scale.\r\n\r\nAddressed the comments now.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/639894913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/639957231","html_url":"https://github.com/apache/helix/pull/1035#issuecomment-639957231","issue_url":"https://api.github.com/repos/apache/helix/issues/1035","id":639957231,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTk1NzIzMQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-06T02:12:53Z","updated_at":"2020-06-06T02:12:53Z","author_association":"CONTRIBUTOR","body":"@kaisun2000 Is this PR supposed to be closed but not merged? ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/639957231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/639964282","html_url":"https://github.com/apache/helix/pull/1035#issuecomment-639964282","issue_url":"https://api.github.com/repos/apache/helix/issues/1035","id":639964282,"node_id":"MDEyOklzc3VlQ29tbWVudDYzOTk2NDI4Mg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-06T02:52:54Z","updated_at":"2020-06-06T02:52:54Z","author_association":"CONTRIBUTOR","body":"Now the diff is ready to merge. The following is the final commit message\r\n\r\n> Short term fix #1034. Get rid of dangling CallbackHandlers and its\r\nrelated current state parent path in Zookeeper. Get rid of leaking\r\nof current state znode path due to async nature of deletion of\r\ncurrent state znode path to installatio of watcher in various\r\nthread in Helix.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/639964282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/640802148","html_url":"https://github.com/apache/helix/issues/609#issuecomment-640802148","issue_url":"https://api.github.com/repos/apache/helix/issues/609","id":640802148,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MDgwMjE0OA==","user":{"login":"ffcai","id":1645062,"node_id":"MDQ6VXNlcjE2NDUwNjI=","avatar_url":"https://avatars.githubusercontent.com/u/1645062?v=4","gravatar_id":"","url":"https://api.github.com/users/ffcai","html_url":"https://github.com/ffcai","followers_url":"https://api.github.com/users/ffcai/followers","following_url":"https://api.github.com/users/ffcai/following{/other_user}","gists_url":"https://api.github.com/users/ffcai/gists{/gist_id}","starred_url":"https://api.github.com/users/ffcai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ffcai/subscriptions","organizations_url":"https://api.github.com/users/ffcai/orgs","repos_url":"https://api.github.com/users/ffcai/repos","events_url":"https://api.github.com/users/ffcai/events{/privacy}","received_events_url":"https://api.github.com/users/ffcai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-08T18:39:24Z","updated_at":"2020-06-08T18:39:24Z","author_association":"NONE","body":"We were seeing same issue in our production environment. We can reproduce it in docker test environment which is similar to @esarkissian-rythmos 's config. In production, due to the application start/stop time and cluster setup, we were able to reproduce it but took a lot of time and effort. Thanks a lot to @lei-xia, we finally picked up the new rebalance strategy algo: https://helix.apache.org/0.8.4-docs/design_crushed.html. It works pretty well, we have been running it stable for several months on production. Please take a try. @lei-xia can provide more implementation details. I can also share more on our use case if you are interested.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/640802148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/640803264","html_url":"https://github.com/apache/helix/issues/609#issuecomment-640803264","issue_url":"https://api.github.com/repos/apache/helix/issues/609","id":640803264,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MDgwMzI2NA==","user":{"login":"esarkissian-rythmos","id":25537341,"node_id":"MDQ6VXNlcjI1NTM3MzQx","avatar_url":"https://avatars.githubusercontent.com/u/25537341?v=4","gravatar_id":"","url":"https://api.github.com/users/esarkissian-rythmos","html_url":"https://github.com/esarkissian-rythmos","followers_url":"https://api.github.com/users/esarkissian-rythmos/followers","following_url":"https://api.github.com/users/esarkissian-rythmos/following{/other_user}","gists_url":"https://api.github.com/users/esarkissian-rythmos/gists{/gist_id}","starred_url":"https://api.github.com/users/esarkissian-rythmos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/esarkissian-rythmos/subscriptions","organizations_url":"https://api.github.com/users/esarkissian-rythmos/orgs","repos_url":"https://api.github.com/users/esarkissian-rythmos/repos","events_url":"https://api.github.com/users/esarkissian-rythmos/events{/privacy}","received_events_url":"https://api.github.com/users/esarkissian-rythmos/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-08T18:41:38Z","updated_at":"2020-06-08T18:41:38Z","author_association":"NONE","body":"Thanks for the note @ffcai - we have pretty much stayed on the old version which has been running really stable in Prod. Is this crushed algorithm a recent development?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/640803264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/640805545","html_url":"https://github.com/apache/helix/issues/609#issuecomment-640805545","issue_url":"https://api.github.com/repos/apache/helix/issues/609","id":640805545,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MDgwNTU0NQ==","user":{"login":"ffcai","id":1645062,"node_id":"MDQ6VXNlcjE2NDUwNjI=","avatar_url":"https://avatars.githubusercontent.com/u/1645062?v=4","gravatar_id":"","url":"https://api.github.com/users/ffcai","html_url":"https://github.com/ffcai","followers_url":"https://api.github.com/users/ffcai/followers","following_url":"https://api.github.com/users/ffcai/following{/other_user}","gists_url":"https://api.github.com/users/ffcai/gists{/gist_id}","starred_url":"https://api.github.com/users/ffcai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ffcai/subscriptions","organizations_url":"https://api.github.com/users/ffcai/orgs","repos_url":"https://api.github.com/users/ffcai/repos","events_url":"https://api.github.com/users/ffcai/events{/privacy}","received_events_url":"https://api.github.com/users/ffcai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-08T18:46:14Z","updated_at":"2020-06-08T18:46:14Z","author_association":"NONE","body":"It's introduced in `0.8.4`. In our production, we upgraded to `0.8.4` last year and stayed on it since then. We also have another use case running old version `0.6.x` for years, but uses different rebalance strategy, no issues, stable.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/640805545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/640942724","html_url":"https://github.com/apache/helix/pull/1074#issuecomment-640942724","issue_url":"https://api.github.com/repos/apache/helix/issues/1074","id":640942724,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MDk0MjcyNA==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-08T23:37:58Z","updated_at":"2020-06-08T23:37:58Z","author_association":"NONE","body":"This PR depends on #1061 and can be reviewed after #1061 is merged.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/640942724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/641539518","html_url":"https://github.com/apache/helix/pull/1072#issuecomment-641539518","issue_url":"https://api.github.com/repos/apache/helix/issues/1072","id":641539518,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTUzOTUxOA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-09T20:02:45Z","updated_at":"2020-06-09T20:02:45Z","author_association":"CONTRIBUTOR","body":"I'm not convinced that this is a good idea.\r\n\r\nFor the non-Helix user, ZNRecord is not meaningful. How do you plan to document this config and let them configure ZK_SERIALIZER_**ZNRECORD**_WRITE_SIZE_LIMIT_BYTES for the general ZK usage?\r\nSecondly, we shall not block the write in the ZkClient if the write size is smaller than the jute.maxbuffer configuration. That is not very meaningful. On the other hand, if we have a large ZK_SERIALIZER_ZNRECORD_WRITE_SIZE_LIMIT_BYTES configured, but the jute.maxbuffer is small, what we shall do? The write will still fail.\r\n\r\nMy suggestion,\r\n- The raw ZkClient shall check size based on jute.maxbuffer, and maybe we leave some buffer like the default limit is current doing.\r\n- If jute.maxbuffer is not configured, then we apply the default value according to the ZK document.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/641539518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/641577556","html_url":"https://github.com/apache/helix/pull/1065#issuecomment-641577556","issue_url":"https://api.github.com/repos/apache/helix/issues/1065","id":641577556,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTU3NzU1Ng==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-09T21:09:59Z","updated_at":"2020-06-09T21:09:59Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @dasahcc ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/641577556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/641595353","html_url":"https://github.com/apache/helix/issues/609#issuecomment-641595353","issue_url":"https://api.github.com/repos/apache/helix/issues/609","id":641595353,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTU5NTM1Mw==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-09T21:36:30Z","updated_at":"2020-06-09T21:36:30Z","author_association":"CONTRIBUTOR","body":"Thanks for sharing the info @ffcai and @esarkissian-rythmos. Do you have detailed logs for ZK? Better to be transaction log for that. Then we can know whether that's ZK sync up issue or something else.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/641595353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/641628818","html_url":"https://github.com/apache/helix/pull/1072#issuecomment-641628818","issue_url":"https://api.github.com/repos/apache/helix/issues/1072","id":641628818,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTYyODgxOA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-09T23:15:32Z","updated_at":"2020-06-09T23:15:32Z","author_association":"CONTRIBUTOR","body":"> I'm not convinced that this is a good idea.\r\n> \r\n> For the non-Helix user, ZNRecord is not meaningful. How do you plan to document this config and let them configure ZK_SERIALIZER_**ZNRECORD**_WRITE_SIZE_LIMIT_BYTES for the general ZK usage?\r\n> Secondly, we shall not block the write in the ZkClient if the write size is smaller than the jute.maxbuffer configuration. That is not very meaningful. On the other hand, if we have a large ZK_SERIALIZER_ZNRECORD_WRITE_SIZE_LIMIT_BYTES configured, but the jute.maxbuffer is small, what we shall do? The write will still fail.\r\n> \r\n> My suggestion,\r\n> \r\n> * The raw ZkClient shall check size based on jute.maxbuffer, and maybe we leave some buffer like the default limit is current doing.\r\n> * If jute.maxbuffer is not configured, then we apply the default value according to the ZK document.\r\n\r\n@jiajunwang Thanks for the comments. I have the same concern about using the same config at zkclient level. This is why I would like to have it discussed at #1071 and confirmed: \r\n> A good idea is to make both consistently same. But the system property zk.serializer.znrecord.write.size.limit.bytes is for a ZNRecord serializer, not sure if it is fine to put it at ZkClient level, as it will apply to all other serializers, as well. We may discuss this.\r\n\r\nI have one thought if we use `jute.maxbuff` value here. If `jute.maxbuff` is set, considering client and server's values are the same. zkclient might be able to write but fail to read, due to the extra fields in ZK server. This is why we want to leave some buffer. \r\n\r\nBut it may be difficult to determine the buffer size. Say we leave 5 KB as buffer, the value would be maxbuffer - 5 KB.  But the value of ZK_SERIALIZER_**ZNRECORD**_WRITE_SIZE_LIMIT_BYTES might fall in the range of [maxbuffer, maxbuffer - 5 KB]. Even serializer check passes but it could be blocked by this check maxbuffer - 5 KB.\r\n\r\nIf we are using jute.maxbuffer for this check, we have to document to make it clear  ZK_SERIALIZER_ZNRECORD_WRITE_SIZE_LIMIT_BYTES should be less or equal to maxbuffer - 5KB.\r\n\r\nIf possible, I would prefer to just have one config `zkclient.znode.write.size.limit` at ZkClient level, instead of znrecord serializer. So it satisfies all cases. Let's discuss further.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/641628818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/641631396","html_url":"https://github.com/apache/helix/pull/1072#issuecomment-641631396","issue_url":"https://api.github.com/repos/apache/helix/issues/1072","id":641631396,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTYzMTM5Ng==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-09T23:23:48Z","updated_at":"2020-06-09T23:23:48Z","author_association":"CONTRIBUTOR","body":"1. jute.maxbuffer is a Zookeeper lib configuration, I don't think we need to add additional doc about it.\r\n2. Regarding how to determine the buffer, I think we can just do what we are doing now. Keeping the behavior the same.\r\n3. To avoid confusion, we can do the configuration check when the ZkClient is constructed. Just fail the constructing if the ZK_SERIALIZER_ZNRECORD_WRITE_SIZE_LIMIT_BYTES is configured larger than the ZkClient write limitation. With a clear Exception, users will understand what to do.\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/641631396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/641633602","html_url":"https://github.com/apache/helix/pull/1077#issuecomment-641633602","issue_url":"https://api.github.com/repos/apache/helix/issues/1077","id":641633602,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTYzMzYwMg==","user":{"login":"mgao0","id":31704180,"node_id":"MDQ6VXNlcjMxNzA0MTgw","avatar_url":"https://avatars.githubusercontent.com/u/31704180?v=4","gravatar_id":"","url":"https://api.github.com/users/mgao0","html_url":"https://github.com/mgao0","followers_url":"https://api.github.com/users/mgao0/followers","following_url":"https://api.github.com/users/mgao0/following{/other_user}","gists_url":"https://api.github.com/users/mgao0/gists{/gist_id}","starred_url":"https://api.github.com/users/mgao0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgao0/subscriptions","organizations_url":"https://api.github.com/users/mgao0/orgs","repos_url":"https://api.github.com/users/mgao0/repos","events_url":"https://api.github.com/users/mgao0/events{/privacy}","received_events_url":"https://api.github.com/users/mgao0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-09T23:30:49Z","updated_at":"2020-06-09T23:30:49Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang.\r\nFinal commit message: Add a close method to Helix lock interface and current implementation to avoid ZK connection leakage","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/641633602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/641811251","html_url":"https://github.com/apache/helix/pull/1072#issuecomment-641811251","issue_url":"https://api.github.com/repos/apache/helix/issues/1072","id":641811251,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTgxMTI1MQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-10T07:57:35Z","updated_at":"2020-06-10T07:57:35Z","author_association":"CONTRIBUTOR","body":"> * jute.maxbuffer is a Zookeeper lib configuration, I don't think we need to add additional doc about it.\r\n> * Regarding how to determine the buffer, I think we can just do what we are doing now. Keeping the behavior the same.\r\n> * To avoid confusion, we can do the configuration check when the ZkClient is constructed. Just fail the constructing if the ZK_SERIALIZER_ZNRECORD_WRITE_SIZE_LIMIT_BYTES is configured larger than the ZkClient write limitation. With a clear Exception, users will understand what to do.\r\n\r\n@jiajunwang Thanks for the input. Size margin would be using the current margin: default 1 MB - ZNRecord size limit (1000 KB) = 24 KB.  I've updated the PR. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/641811251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/642176993","html_url":"https://github.com/apache/helix/pull/1061#issuecomment-642176993","issue_url":"https://api.github.com/repos/apache/helix/issues/1061","id":642176993,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjE3Njk5Mw==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-10T18:15:29Z","updated_at":"2020-06-10T18:15:29Z","author_association":"NONE","body":"This PR is ready to be merged, approved by @dasahcc \r\n\r\nFinal commit message:\r\n\r\nRemove previousAssignment from FixedTargetTaskAssignmentCalculator\r\n\r\nThe FixedTargetTaskAssignmentCalculator class is relying on the previousAssignment.\r\nIn this commit, this class has been modified and previousAssignment has been\r\nreplaced with the context information. \r\nAlso several legacy job and workflow rebalancers have been removed.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/642176993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/642218115","html_url":"https://github.com/apache/helix/pull/1074#issuecomment-642218115","issue_url":"https://api.github.com/repos/apache/helix/issues/1074","id":642218115,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjIxODExNQ==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-10T19:42:50Z","updated_at":"2020-06-10T19:42:50Z","author_association":"NONE","body":"> For refresh part, I am OK. But seemed this PR contains the duplicated part as the another one.\r\n> \r\n> Also, are you gonna have another PR for context only refresh at start?\r\n\r\n@dasahcc Yeah this PR was depend on the previous one. Now it is ready for review. It is just for removing previousAssignment from cache and not persisting to the ZK. Context selective update should be on separate PR. \r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/642218115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/643000253","html_url":"https://github.com/apache/helix/pull/1087#issuecomment-643000253","issue_url":"https://api.github.com/repos/apache/helix/issues/1087","id":643000253,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzAwMDI1Mw==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-12T00:31:35Z","updated_at":"2020-06-15T19:17:56Z","author_association":"NONE","body":"This PR is ready to be merged, approved by @narendly and @jiajunwang \r\n\r\nFinal commit message:\r\nFix NPE for RoutingDataCache.refresh\r\n\r\nThis commit fixes NPE that is thrown in RoutingDataCache.refresh()\r\nmethod when CUSTOMIZEDVIEW has not being used as an entry of \r\nsourceDataTypeMap. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/643000253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/643383674","html_url":"https://github.com/apache/helix/pull/1068#issuecomment-643383674","issue_url":"https://api.github.com/repos/apache/helix/issues/1068","id":643383674,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzM4MzY3NA==","user":{"login":"zhangmeng916","id":56051770,"node_id":"MDQ6VXNlcjU2MDUxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/56051770?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangmeng916","html_url":"https://github.com/zhangmeng916","followers_url":"https://api.github.com/users/zhangmeng916/followers","following_url":"https://api.github.com/users/zhangmeng916/following{/other_user}","gists_url":"https://api.github.com/users/zhangmeng916/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangmeng916/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangmeng916/subscriptions","organizations_url":"https://api.github.com/users/zhangmeng916/orgs","repos_url":"https://api.github.com/users/zhangmeng916/repos","events_url":"https://api.github.com/users/zhangmeng916/events{/privacy}","received_events_url":"https://api.github.com/users/zhangmeng916/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-12T16:58:10Z","updated_at":"2020-06-12T16:58:10Z","author_association":"CONTRIBUTOR","body":"This PR is ready to merge, approved by @dasahcc \r\nFinal commit message:\r\nRemove the waiting logic in message generation phase on message deletion if current state is already updated. This will help increase the rate of P2P message during mastership handoff.\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/643383674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/643397489","html_url":"https://github.com/apache/helix/pull/1083#issuecomment-643397489","issue_url":"https://api.github.com/repos/apache/helix/issues/1083","id":643397489,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzM5NzQ4OQ==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-12T17:30:34Z","updated_at":"2020-06-12T17:32:04Z","author_association":"NONE","body":"This PR is ready to be merged, approved by @dasahcc\r\n\r\nFinal commit message:\r\nFix waitToStop method in TaskDriver\r\n\r\nIn this commit, waitToStop has been changed to make sure workflow/queue\r\nis in stopped state. \r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/643397489/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/643564748","html_url":"https://github.com/apache/helix/pull/1089#issuecomment-643564748","issue_url":"https://api.github.com/repos/apache/helix/issues/1089","id":643564748,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzU2NDc0OA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-13T04:04:58Z","updated_at":"2020-06-13T04:04:58Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang \r\n\r\nImplement getStat in ZookeeperAccessor\r\n\r\nHelix REST doesn't provide a way for users to get the Stat object for a ZNode. This commit enables this with a getStat command. Also, all getData() endpoints embed the stat fields by default.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/643564748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/643568995","html_url":"https://github.com/apache/helix/pull/1043#issuecomment-643568995","issue_url":"https://api.github.com/repos/apache/helix/issues/1043","id":643568995,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzU2ODk5NQ==","user":{"login":"xyuanlu","id":6392021,"node_id":"MDQ6VXNlcjYzOTIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/6392021?v=4","gravatar_id":"","url":"https://api.github.com/users/xyuanlu","html_url":"https://github.com/xyuanlu","followers_url":"https://api.github.com/users/xyuanlu/followers","following_url":"https://api.github.com/users/xyuanlu/following{/other_user}","gists_url":"https://api.github.com/users/xyuanlu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyuanlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyuanlu/subscriptions","organizations_url":"https://api.github.com/users/xyuanlu/orgs","repos_url":"https://api.github.com/users/xyuanlu/repos","events_url":"https://api.github.com/users/xyuanlu/events{/privacy}","received_events_url":"https://api.github.com/users/xyuanlu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-13T04:47:14Z","updated_at":"2020-06-13T04:49:38Z","author_association":"CONTRIBUTOR","body":"I ran a CPU profiler for my previous version (34bf638). It shows the lamda function \r\n`defaultDomainPathValuesCache.computeIfAbsent(key, k -> (DEFAULT_DOMAIN_PREFIX + key));  `\r\nand `InstanceConfig.getDomaiAsMap` are two hotspots for CPU consumption. I changed them back to the original implementation. \r\nAfter these changes, the new CPU profiler result of running testCreateClusterTopology is around 2%, comparing to \r\n 2 - 3%  for the original code and 6% with previous version. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/643568995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/643601288","html_url":"https://github.com/apache/helix/pull/1050#issuecomment-643601288","issue_url":"https://api.github.com/repos/apache/helix/issues/1050","id":643601288,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzYwMTI4OA==","user":{"login":"akki","id":4801628,"node_id":"MDQ6VXNlcjQ4MDE2Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/4801628?v=4","gravatar_id":"","url":"https://api.github.com/users/akki","html_url":"https://github.com/akki","followers_url":"https://api.github.com/users/akki/followers","following_url":"https://api.github.com/users/akki/following{/other_user}","gists_url":"https://api.github.com/users/akki/gists{/gist_id}","starred_url":"https://api.github.com/users/akki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akki/subscriptions","organizations_url":"https://api.github.com/users/akki/orgs","repos_url":"https://api.github.com/users/akki/repos","events_url":"https://api.github.com/users/akki/events{/privacy}","received_events_url":"https://api.github.com/users/akki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-13T10:04:28Z","updated_at":"2020-06-13T10:04:28Z","author_association":"NONE","body":"Hi @jiajunwang \r\n\r\nThank you for bringing my attention to this.\r\nI actually wanted to make a PR to my own fork [akki/helix](https://github.com/akki/helix) to showcase this code to someone else but I think GitHub (because of default) created the PR to [apache/helix](https://github.com/apache/helix).\r\n\r\nI'm closing this as it was created by mistake and I apologise for this confusion.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/643601288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/644315025","html_url":"https://github.com/apache/helix/pull/1059#issuecomment-644315025","issue_url":"https://api.github.com/repos/apache/helix/issues/1059","id":644315025,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDMxNTAyNQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-15T18:52:32Z","updated_at":"2020-06-15T18:52:32Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @pkuwm ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/644315025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/644382118","html_url":"https://github.com/apache/helix/pull/1074#issuecomment-644382118","issue_url":"https://api.github.com/repos/apache/helix/issues/1074","id":644382118,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDM4MjExOA==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-15T20:50:08Z","updated_at":"2020-06-15T23:52:23Z","author_association":"NONE","body":"This PR is ready to be merged, approved by @dasahcc \r\n\r\nFinal commit message:\r\nRemove previousAssignment read/write to ZK\r\n\r\nIn this commit, the previousAssignment has been removed from codebase\r\nand controller will no longer read/write previousAssignment from/to ZK.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/644382118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/644393693","html_url":"https://github.com/apache/helix/pull/1085#issuecomment-644393693","issue_url":"https://api.github.com/repos/apache/helix/issues/1085","id":644393693,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDM5MzY5Mw==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-15T21:14:00Z","updated_at":"2020-06-15T21:14:00Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @dasahcc \r\n\r\nMove serializers to zookeeper-api (#1085)\r\n\r\nSome serializer implementations (Chained, ByteArray) were never moved to zookeeper-api. This commit moves them out of helix-core and into zookeeper-api.\r\n\r\nNote that this might cause older implementations of Helix applications to no longer build. Since this is an API-level change that simply moves the classes, the user can simply update the package path in the import statements and can make it build again.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/644393693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/644473867","html_url":"https://github.com/apache/helix/pull/1093#issuecomment-644473867","issue_url":"https://api.github.com/repos/apache/helix/issues/1093","id":644473867,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDQ3Mzg2Nw==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T01:20:46Z","updated_at":"2020-06-16T01:20:46Z","author_association":"NONE","body":"This PR is ready to be merged, approved by @dasahcc \r\n\r\nFinal commit message:\r\nStabilize TestTaskThrottling\r\n\r\nIn this PR, the Thread sleeps have been removed from TestTaskThrottling and replaced with TestHelper verify method.\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/644473867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/645699324","html_url":"https://github.com/apache/helix/pull/1103#issuecomment-645699324","issue_url":"https://api.github.com/repos/apache/helix/issues/1103","id":645699324,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTY5OTMyNA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-18T00:36:08Z","updated_at":"2020-06-18T00:36:08Z","author_association":"CONTRIBUTOR","body":"Close this one due to apache/watcher is not bought up to recent master. created another one after this.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/645699324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/646274492","html_url":"https://github.com/apache/helix/pull/1098#issuecomment-646274492","issue_url":"https://api.github.com/repos/apache/helix/issues/1098","id":646274492,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjI3NDQ5Mg==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-18T19:55:41Z","updated_at":"2020-06-18T19:55:41Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @dasahcc ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/646274492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/646276144","html_url":"https://github.com/apache/helix/pull/1098#issuecomment-646276144","issue_url":"https://api.github.com/repos/apache/helix/issues/1098","id":646276144,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjI3NjE0NA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-18T19:59:16Z","updated_at":"2020-06-18T19:59:16Z","author_association":"CONTRIBUTOR","body":"Accidentally hit \"revert\". Will discard the reverting branch. The Master is fine.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/646276144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/646355655","html_url":"https://github.com/apache/helix/pull/1096#issuecomment-646355655","issue_url":"https://api.github.com/repos/apache/helix/issues/1096","id":646355655,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjM1NTY1NQ==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-18T23:31:49Z","updated_at":"2020-06-18T23:31:49Z","author_association":"NONE","body":"This PR is ready to be merged, approved by @dasahcc \r\n\r\nFinal commit message:\r\nStabilize TestWorkflowTermination\r\n\r\nIn this PR, TestWorkflowTermination has been stabilized.\r\nAlso, testGetStateModelDef which has not been adjusted\r\nin previous commits is fixed.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/646355655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/646880040","html_url":"https://github.com/apache/helix/pull/1043#issuecomment-646880040","issue_url":"https://api.github.com/repos/apache/helix/issues/1043","id":646880040,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Njg4MDA0MA==","user":{"login":"xyuanlu","id":6392021,"node_id":"MDQ6VXNlcjYzOTIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/6392021?v=4","gravatar_id":"","url":"https://api.github.com/users/xyuanlu","html_url":"https://github.com/xyuanlu","followers_url":"https://api.github.com/users/xyuanlu/followers","following_url":"https://api.github.com/users/xyuanlu/following{/other_user}","gists_url":"https://api.github.com/users/xyuanlu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyuanlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyuanlu/subscriptions","organizations_url":"https://api.github.com/users/xyuanlu/orgs","repos_url":"https://api.github.com/users/xyuanlu/repos","events_url":"https://api.github.com/users/xyuanlu/events{/privacy}","received_events_url":"https://api.github.com/users/xyuanlu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-19T22:21:12Z","updated_at":"2020-06-20T01:54:22Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang\r\n\r\nCode clean up -- Topology.java\r\nThis change did come code refactor work for Topology.java. It extracts the sanity check logic in multiple functions into one single function so it can be used else where as well. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/646880040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/646893555","html_url":"https://github.com/apache/helix/pull/1104#issuecomment-646893555","issue_url":"https://api.github.com/repos/apache/helix/issues/1104","id":646893555,"node_id":"MDEyOklzc3VlQ29tbWVudDY0Njg5MzU1NQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-19T23:17:05Z","updated_at":"2020-06-19T23:17:05Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang \r\n\r\n    \r\n\r\n> Fix flaky test testRemoveUserCbHandlerOnPathRemoval # #1102\r\n>     \r\n>     TestRemoveUserCbHandlerOnPathRemoval has a flaky assert. Addres\r\n>     the assertion in this diff.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/646893555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]