[{"url":"https://api.github.com/repos/apache/flink/issues/comments/288043272","html_url":"https://github.com/apache/flink/pull/3502#issuecomment-288043272","issue_url":"https://api.github.com/repos/apache/flink/issues/3502","id":288043272,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODA0MzI3Mg==","user":{"login":"DmytroShkvyra","id":3136590,"node_id":"MDQ6VXNlcjMxMzY1OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3136590?v=4","gravatar_id":"","url":"https://api.github.com/users/DmytroShkvyra","html_url":"https://github.com/DmytroShkvyra","followers_url":"https://api.github.com/users/DmytroShkvyra/followers","following_url":"https://api.github.com/users/DmytroShkvyra/following{/other_user}","gists_url":"https://api.github.com/users/DmytroShkvyra/gists{/gist_id}","starred_url":"https://api.github.com/users/DmytroShkvyra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DmytroShkvyra/subscriptions","organizations_url":"https://api.github.com/users/DmytroShkvyra/orgs","repos_url":"https://api.github.com/users/DmytroShkvyra/repos","events_url":"https://api.github.com/users/DmytroShkvyra/events{/privacy}","received_events_url":"https://api.github.com/users/DmytroShkvyra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T10:55:07Z","updated_at":"2017-03-21T10:55:07Z","author_association":"CONTRIBUTOR","body":"@twalthr Im so sorry but have no any clues how to use SubQueryRemoveRule","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288043272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288043384","html_url":"https://github.com/apache/flink/pull/3574#issuecomment-288043384","issue_url":"https://api.github.com/repos/apache/flink/issues/3574","id":288043384,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODA0MzM4NA==","user":{"login":"huawei-flink","id":25386821,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI1Mzg2ODIx","avatar_url":"https://avatars.githubusercontent.com/u/25386821?v=4","gravatar_id":"","url":"https://api.github.com/users/huawei-flink","html_url":"https://github.com/huawei-flink","followers_url":"https://api.github.com/users/huawei-flink/followers","following_url":"https://api.github.com/users/huawei-flink/following{/other_user}","gists_url":"https://api.github.com/users/huawei-flink/gists{/gist_id}","starred_url":"https://api.github.com/users/huawei-flink/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huawei-flink/subscriptions","organizations_url":"https://api.github.com/users/huawei-flink/orgs","repos_url":"https://api.github.com/users/huawei-flink/repos","events_url":"https://api.github.com/users/huawei-flink/events{/privacy}","received_events_url":"https://api.github.com/users/huawei-flink/received_events","type":"Organization","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T10:55:35Z","updated_at":"2017-03-21T12:47:20Z","author_association":"NONE","body":"@fhueske @sunjincheng121 would a ProcessWindowFunction work?\r\n\r\nor, using just the ProcessFunction, how would I keep track of the lowerbound? I was thinking of using a counter to be checked against the lowerbound. How does the scan work in the stream? from oldest to earliest? or the other way around? How do I get the relative \"stream position\" to consider the lower bounds when processing a single element? when is the ProcessFunction \"open\"?\r\n\r\nPerhaps I could just use a queue of size lowerbound+1 and assume the invocation order is the arrival one. (i.e. procTime semantic)","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288043384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288047975","html_url":"https://github.com/apache/flink/pull/3579#issuecomment-288047975","issue_url":"https://api.github.com/repos/apache/flink/issues/3579","id":288047975,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODA0Nzk3NQ==","user":{"login":"twalthr","id":5746567,"node_id":"MDQ6VXNlcjU3NDY1Njc=","avatar_url":"https://avatars.githubusercontent.com/u/5746567?v=4","gravatar_id":"","url":"https://api.github.com/users/twalthr","html_url":"https://github.com/twalthr","followers_url":"https://api.github.com/users/twalthr/followers","following_url":"https://api.github.com/users/twalthr/following{/other_user}","gists_url":"https://api.github.com/users/twalthr/gists{/gist_id}","starred_url":"https://api.github.com/users/twalthr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twalthr/subscriptions","organizations_url":"https://api.github.com/users/twalthr/orgs","repos_url":"https://api.github.com/users/twalthr/repos","events_url":"https://api.github.com/users/twalthr/events{/privacy}","received_events_url":"https://api.github.com/users/twalthr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T11:15:43Z","updated_at":"2017-03-21T11:15:43Z","author_association":"CONTRIBUTOR","body":"Thanks @docete. The changes look good. I will add the new aggregations to an existing IT cases and merge this afterwards.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288047975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288054631","html_url":"https://github.com/apache/flink/pull/3581#issuecomment-288054631","issue_url":"https://api.github.com/repos/apache/flink/issues/3581","id":288054631,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODA1NDYzMQ==","user":{"login":"wuchong","id":5378924,"node_id":"MDQ6VXNlcjUzNzg5MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/5378924?v=4","gravatar_id":"","url":"https://api.github.com/users/wuchong","html_url":"https://github.com/wuchong","followers_url":"https://api.github.com/users/wuchong/followers","following_url":"https://api.github.com/users/wuchong/following{/other_user}","gists_url":"https://api.github.com/users/wuchong/gists{/gist_id}","starred_url":"https://api.github.com/users/wuchong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wuchong/subscriptions","organizations_url":"https://api.github.com/users/wuchong/orgs","repos_url":"https://api.github.com/users/wuchong/repos","events_url":"https://api.github.com/users/wuchong/events{/privacy}","received_events_url":"https://api.github.com/users/wuchong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T11:47:47Z","updated_at":"2017-03-21T11:47:47Z","author_association":"MEMBER","body":"LGTM \r\n\r\nmerging ","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288054631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288055771","html_url":"https://github.com/apache/flink/pull/3524#issuecomment-288055771","issue_url":"https://api.github.com/repos/apache/flink/issues/3524","id":288055771,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODA1NTc3MQ==","user":{"login":"StephanEwen","id":1727146,"node_id":"MDQ6VXNlcjE3MjcxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/1727146?v=4","gravatar_id":"","url":"https://api.github.com/users/StephanEwen","html_url":"https://github.com/StephanEwen","followers_url":"https://api.github.com/users/StephanEwen/followers","following_url":"https://api.github.com/users/StephanEwen/following{/other_user}","gists_url":"https://api.github.com/users/StephanEwen/gists{/gist_id}","starred_url":"https://api.github.com/users/StephanEwen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StephanEwen/subscriptions","organizations_url":"https://api.github.com/users/StephanEwen/orgs","repos_url":"https://api.github.com/users/StephanEwen/repos","events_url":"https://api.github.com/users/StephanEwen/events{/privacy}","received_events_url":"https://api.github.com/users/StephanEwen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T11:53:12Z","updated_at":"2017-03-21T11:53:12Z","author_association":"CONTRIBUTOR","body":"@shixiaogang Yes, you are right.\r\n\r\nDo you want to update the pull request, or should I make the change while merging?","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288055771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288061385","html_url":"https://github.com/apache/flink/pull/3502#issuecomment-288061385","issue_url":"https://api.github.com/repos/apache/flink/issues/3502","id":288061385,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODA2MTM4NQ==","user":{"login":"twalthr","id":5746567,"node_id":"MDQ6VXNlcjU3NDY1Njc=","avatar_url":"https://avatars.githubusercontent.com/u/5746567?v=4","gravatar_id":"","url":"https://api.github.com/users/twalthr","html_url":"https://github.com/twalthr","followers_url":"https://api.github.com/users/twalthr/followers","following_url":"https://api.github.com/users/twalthr/following{/other_user}","gists_url":"https://api.github.com/users/twalthr/gists{/gist_id}","starred_url":"https://api.github.com/users/twalthr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twalthr/subscriptions","organizations_url":"https://api.github.com/users/twalthr/orgs","repos_url":"https://api.github.com/users/twalthr/repos","events_url":"https://api.github.com/users/twalthr/events{/privacy}","received_events_url":"https://api.github.com/users/twalthr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T12:18:31Z","updated_at":"2017-03-21T12:18:31Z","author_association":"CONTRIBUTOR","body":"I would suggest that you add the rules to the `FlinkRulesSets`, add check with a debugger what Calcite is doing in a SQL statement. We need to do the same in the Table API. I think your `InSub` expression needs translate to a `RexSubQuery` and Calcite will resolve the joining for you.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288061385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288070099","html_url":"https://github.com/apache/flink/pull/3460#issuecomment-288070099","issue_url":"https://api.github.com/repos/apache/flink/issues/3460","id":288070099,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODA3MDA5OQ==","user":{"login":"uce","id":1756620,"node_id":"MDQ6VXNlcjE3NTY2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/1756620?v=4","gravatar_id":"","url":"https://api.github.com/users/uce","html_url":"https://github.com/uce","followers_url":"https://api.github.com/users/uce/followers","following_url":"https://api.github.com/users/uce/following{/other_user}","gists_url":"https://api.github.com/users/uce/gists{/gist_id}","starred_url":"https://api.github.com/users/uce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uce/subscriptions","organizations_url":"https://api.github.com/users/uce/orgs","repos_url":"https://api.github.com/users/uce/repos","events_url":"https://api.github.com/users/uce/events{/privacy}","received_events_url":"https://api.github.com/users/uce/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T12:58:01Z","updated_at":"2017-03-21T12:58:01Z","author_association":"CONTRIBUTOR","body":"Tests passed here https://travis-ci.org/uce/flink/builds/213339988\r\n\r\nMerging! :+1:","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288070099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288072195","html_url":"https://github.com/apache/flink/pull/3574#issuecomment-288072195","issue_url":"https://api.github.com/repos/apache/flink/issues/3574","id":288072195,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODA3MjE5NQ==","user":{"login":"huawei-flink","id":25386821,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI1Mzg2ODIx","avatar_url":"https://avatars.githubusercontent.com/u/25386821?v=4","gravatar_id":"","url":"https://api.github.com/users/huawei-flink","html_url":"https://github.com/huawei-flink","followers_url":"https://api.github.com/users/huawei-flink/followers","following_url":"https://api.github.com/users/huawei-flink/following{/other_user}","gists_url":"https://api.github.com/users/huawei-flink/gists{/gist_id}","starred_url":"https://api.github.com/users/huawei-flink/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huawei-flink/subscriptions","organizations_url":"https://api.github.com/users/huawei-flink/orgs","repos_url":"https://api.github.com/users/huawei-flink/repos","events_url":"https://api.github.com/users/huawei-flink/events{/privacy}","received_events_url":"https://api.github.com/users/huawei-flink/received_events","type":"Organization","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T13:06:34Z","updated_at":"2017-03-21T13:06:34Z","author_association":"NONE","body":"@sunjincheng121 @fhueske as I understand, the open function is called for every element. So the accumulator is retrieved based on the state. So, the supportQueue is created in the constructor, and the open function just retrieves the latest state. Then the process function retracts the value evicted and accumulate the new one. Then the state is updated. And so on. I will give it a try.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288072195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288073679","html_url":"https://github.com/apache/flink/pull/3576#issuecomment-288073679","issue_url":"https://api.github.com/repos/apache/flink/issues/3576","id":288073679,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODA3MzY3OQ==","user":{"login":"zhengcanbin","id":26545140,"node_id":"MDQ6VXNlcjI2NTQ1MTQw","avatar_url":"https://avatars.githubusercontent.com/u/26545140?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengcanbin","html_url":"https://github.com/zhengcanbin","followers_url":"https://api.github.com/users/zhengcanbin/followers","following_url":"https://api.github.com/users/zhengcanbin/following{/other_user}","gists_url":"https://api.github.com/users/zhengcanbin/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengcanbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengcanbin/subscriptions","organizations_url":"https://api.github.com/users/zhengcanbin/orgs","repos_url":"https://api.github.com/users/zhengcanbin/repos","events_url":"https://api.github.com/users/zhengcanbin/events{/privacy}","received_events_url":"https://api.github.com/users/zhengcanbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T13:12:35Z","updated_at":"2017-03-21T13:12:35Z","author_association":"CONTRIBUTOR","body":"@hadronzoo can you review this patch ?","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288073679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288079563","html_url":"https://github.com/apache/flink/pull/3574#issuecomment-288079563","issue_url":"https://api.github.com/repos/apache/flink/issues/3574","id":288079563,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODA3OTU2Mw==","user":{"login":"fhueske","id":2388347,"node_id":"MDQ6VXNlcjIzODgzNDc=","avatar_url":"https://avatars.githubusercontent.com/u/2388347?v=4","gravatar_id":"","url":"https://api.github.com/users/fhueske","html_url":"https://github.com/fhueske","followers_url":"https://api.github.com/users/fhueske/followers","following_url":"https://api.github.com/users/fhueske/following{/other_user}","gists_url":"https://api.github.com/users/fhueske/gists{/gist_id}","starred_url":"https://api.github.com/users/fhueske/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fhueske/subscriptions","organizations_url":"https://api.github.com/users/fhueske/orgs","repos_url":"https://api.github.com/users/fhueske/repos","events_url":"https://api.github.com/users/fhueske/events{/privacy}","received_events_url":"https://api.github.com/users/fhueske/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T13:35:16Z","updated_at":"2017-03-21T13:36:17Z","author_association":"CONTRIBUTOR","body":"Hi @huawei-flink,\r\n\r\nWe would go for a `ProcessFunction` and implement it as follows:\r\n- `open()` In open we create two types of state: 1) the accumulators, which is a `ValueState[Row]`, 2) the rows we need to retract. This can be a `ListState[Row]`.\r\n- `processElement()` is called for each arriving row. We accumulate the row to the accumulator (fetched from the state) and retract the oldest value in the list of values to retract. Since the list is sorted on insertion order, we take the head element. We emit the row with the updated accumulator and append it to the list of rows to retract. Finally we update both states.\r\n- `onTimer()` is not required for processing time OVER window.\r\n\r\nIf we want to make it more efficient, we could just put those fields into the retraction rows which are actually used by the aggregation function and not the complete row.\r\n\r\nWhat do you think?","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288079563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288083572","html_url":"https://github.com/apache/flink/pull/3567#issuecomment-288083572","issue_url":"https://api.github.com/repos/apache/flink/issues/3567","id":288083572,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODA4MzU3Mg==","user":{"login":"dawidwys","id":6242259,"node_id":"MDQ6VXNlcjYyNDIyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/6242259?v=4","gravatar_id":"","url":"https://api.github.com/users/dawidwys","html_url":"https://github.com/dawidwys","followers_url":"https://api.github.com/users/dawidwys/followers","following_url":"https://api.github.com/users/dawidwys/following{/other_user}","gists_url":"https://api.github.com/users/dawidwys/gists{/gist_id}","starred_url":"https://api.github.com/users/dawidwys/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dawidwys/subscriptions","organizations_url":"https://api.github.com/users/dawidwys/orgs","repos_url":"https://api.github.com/users/dawidwys/repos","events_url":"https://api.github.com/users/dawidwys/events{/privacy}","received_events_url":"https://api.github.com/users/dawidwys/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T13:50:02Z","updated_at":"2017-03-21T13:50:02Z","author_association":"CONTRIBUTOR","body":"+1 for hosting the checkstyle under tools/maven/","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288083572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288085205","html_url":"https://github.com/apache/flink/pull/3582#issuecomment-288085205","issue_url":"https://api.github.com/repos/apache/flink/issues/3582","id":288085205,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODA4NTIwNQ==","user":{"login":"tzulitai","id":5284370,"node_id":"MDQ6VXNlcjUyODQzNzA=","avatar_url":"https://avatars.githubusercontent.com/u/5284370?v=4","gravatar_id":"","url":"https://api.github.com/users/tzulitai","html_url":"https://github.com/tzulitai","followers_url":"https://api.github.com/users/tzulitai/followers","following_url":"https://api.github.com/users/tzulitai/following{/other_user}","gists_url":"https://api.github.com/users/tzulitai/gists{/gist_id}","starred_url":"https://api.github.com/users/tzulitai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tzulitai/subscriptions","organizations_url":"https://api.github.com/users/tzulitai/orgs","repos_url":"https://api.github.com/users/tzulitai/repos","events_url":"https://api.github.com/users/tzulitai/events{/privacy}","received_events_url":"https://api.github.com/users/tzulitai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T13:55:30Z","updated_at":"2017-03-21T13:55:30Z","author_association":"CONTRIBUTOR","body":"@rmetzger I've added the \"mapr\" build profile to our Maven build.\r\n\r\nNow the build command is shortly: `mvn clean install -Pvendor-repos,mapr`. Much less daunting for users :) Currently, both `mapr` and `vendor-repos` must be used together.\r\nWe could perhaps shorten this further into a single profile, by also adding the MapR repo in `mapr` profile. What do you think?","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288085205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288086295","html_url":"https://github.com/apache/flink/pull/3582#issuecomment-288086295","issue_url":"https://api.github.com/repos/apache/flink/issues/3582","id":288086295,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODA4NjI5NQ==","user":{"login":"rmetzger","id":89049,"node_id":"MDQ6VXNlcjg5MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/89049?v=4","gravatar_id":"","url":"https://api.github.com/users/rmetzger","html_url":"https://github.com/rmetzger","followers_url":"https://api.github.com/users/rmetzger/followers","following_url":"https://api.github.com/users/rmetzger/following{/other_user}","gists_url":"https://api.github.com/users/rmetzger/gists{/gist_id}","starred_url":"https://api.github.com/users/rmetzger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmetzger/subscriptions","organizations_url":"https://api.github.com/users/rmetzger/orgs","repos_url":"https://api.github.com/users/rmetzger/repos","events_url":"https://api.github.com/users/rmetzger/events{/privacy}","received_events_url":"https://api.github.com/users/rmetzger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T13:58:46Z","updated_at":"2017-03-21T13:58:46Z","author_association":"CONTRIBUTOR","body":"I think its fine like this.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288086295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288086735","html_url":"https://github.com/apache/flink/pull/3583#issuecomment-288086735","issue_url":"https://api.github.com/repos/apache/flink/issues/3583","id":288086735,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODA4NjczNQ==","user":{"login":"zentol","id":5725237,"node_id":"MDQ6VXNlcjU3MjUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/5725237?v=4","gravatar_id":"","url":"https://api.github.com/users/zentol","html_url":"https://github.com/zentol","followers_url":"https://api.github.com/users/zentol/followers","following_url":"https://api.github.com/users/zentol/following{/other_user}","gists_url":"https://api.github.com/users/zentol/gists{/gist_id}","starred_url":"https://api.github.com/users/zentol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zentol/subscriptions","organizations_url":"https://api.github.com/users/zentol/orgs","repos_url":"https://api.github.com/users/zentol/repos","events_url":"https://api.github.com/users/zentol/events{/privacy}","received_events_url":"https://api.github.com/users/zentol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T14:00:17Z","updated_at":"2017-03-21T14:00:17Z","author_association":"CONTRIBUTOR","body":"@uce I've addressed your comments. The timestamp box will now be hidden if the timestamp wasn't visible yet. For the exception stuff in the EG I've introduce a separate container class ```ErrorInfo``` that holds the Exception and timestamp, which enforces that both have to be supplied.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288086735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288087320","html_url":"https://github.com/apache/flink/pull/3564#issuecomment-288087320","issue_url":"https://api.github.com/repos/apache/flink/issues/3564","id":288087320,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODA4NzMyMA==","user":{"login":"fhueske","id":2388347,"node_id":"MDQ6VXNlcjIzODgzNDc=","avatar_url":"https://avatars.githubusercontent.com/u/2388347?v=4","gravatar_id":"","url":"https://api.github.com/users/fhueske","html_url":"https://github.com/fhueske","followers_url":"https://api.github.com/users/fhueske/followers","following_url":"https://api.github.com/users/fhueske/following{/other_user}","gists_url":"https://api.github.com/users/fhueske/gists{/gist_id}","starred_url":"https://api.github.com/users/fhueske/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fhueske/subscriptions","organizations_url":"https://api.github.com/users/fhueske/orgs","repos_url":"https://api.github.com/users/fhueske/repos","events_url":"https://api.github.com/users/fhueske/events{/privacy}","received_events_url":"https://api.github.com/users/fhueske/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T14:02:18Z","updated_at":"2017-03-21T14:02:18Z","author_association":"CONTRIBUTOR","body":"**Please note**: This is the first PR for adding retraction support. It should be merged to the `table-retraction` feature branch, not the `master` branch.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288087320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288088856","html_url":"https://github.com/apache/flink/pull/3578#issuecomment-288088856","issue_url":"https://api.github.com/repos/apache/flink/issues/3578","id":288088856,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODA4ODg1Ng==","user":{"login":"StephanEwen","id":1727146,"node_id":"MDQ6VXNlcjE3MjcxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/1727146?v=4","gravatar_id":"","url":"https://api.github.com/users/StephanEwen","html_url":"https://github.com/StephanEwen","followers_url":"https://api.github.com/users/StephanEwen/followers","following_url":"https://api.github.com/users/StephanEwen/following{/other_user}","gists_url":"https://api.github.com/users/StephanEwen/gists{/gist_id}","starred_url":"https://api.github.com/users/StephanEwen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StephanEwen/subscriptions","organizations_url":"https://api.github.com/users/StephanEwen/orgs","repos_url":"https://api.github.com/users/StephanEwen/repos","events_url":"https://api.github.com/users/StephanEwen/events{/privacy}","received_events_url":"https://api.github.com/users/StephanEwen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T14:07:25Z","updated_at":"2017-03-21T14:07:25Z","author_association":"CONTRIBUTOR","body":"Good fix!\r\nChanges look good. Pending CI success, +1 to merge","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288088856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288089549","html_url":"https://github.com/apache/flink/pull/3556#issuecomment-288089549","issue_url":"https://api.github.com/repos/apache/flink/issues/3556","id":288089549,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODA4OTU0OQ==","user":{"login":"StephanEwen","id":1727146,"node_id":"MDQ6VXNlcjE3MjcxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/1727146?v=4","gravatar_id":"","url":"https://api.github.com/users/StephanEwen","html_url":"https://github.com/StephanEwen","followers_url":"https://api.github.com/users/StephanEwen/followers","following_url":"https://api.github.com/users/StephanEwen/following{/other_user}","gists_url":"https://api.github.com/users/StephanEwen/gists{/gist_id}","starred_url":"https://api.github.com/users/StephanEwen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StephanEwen/subscriptions","organizations_url":"https://api.github.com/users/StephanEwen/orgs","repos_url":"https://api.github.com/users/StephanEwen/repos","events_url":"https://api.github.com/users/StephanEwen/events{/privacy}","received_events_url":"https://api.github.com/users/StephanEwen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T14:09:48Z","updated_at":"2017-03-21T14:09:48Z","author_association":"CONTRIBUTOR","body":"Looks good to me, +1 to merge for both `master` and `release-1.2`","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288089549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288089750","html_url":"https://github.com/apache/flink/pull/3540#issuecomment-288089750","issue_url":"https://api.github.com/repos/apache/flink/issues/3540","id":288089750,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODA4OTc1MA==","user":{"login":"StephanEwen","id":1727146,"node_id":"MDQ6VXNlcjE3MjcxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/1727146?v=4","gravatar_id":"","url":"https://api.github.com/users/StephanEwen","html_url":"https://github.com/StephanEwen","followers_url":"https://api.github.com/users/StephanEwen/followers","following_url":"https://api.github.com/users/StephanEwen/following{/other_user}","gists_url":"https://api.github.com/users/StephanEwen/gists{/gist_id}","starred_url":"https://api.github.com/users/StephanEwen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StephanEwen/subscriptions","organizations_url":"https://api.github.com/users/StephanEwen/orgs","repos_url":"https://api.github.com/users/StephanEwen/repos","events_url":"https://api.github.com/users/StephanEwen/events{/privacy}","received_events_url":"https://api.github.com/users/StephanEwen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T14:10:23Z","updated_at":"2017-03-21T14:10:23Z","author_association":"CONTRIBUTOR","body":"Merging this...","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288089750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288090186","html_url":"https://github.com/apache/flink/pull/3576#issuecomment-288090186","issue_url":"https://api.github.com/repos/apache/flink/issues/3576","id":288090186,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODA5MDE4Ng==","user":{"login":"tillrohrmann","id":5756858,"node_id":"MDQ6VXNlcjU3NTY4NTg=","avatar_url":"https://avatars.githubusercontent.com/u/5756858?v=4","gravatar_id":"","url":"https://api.github.com/users/tillrohrmann","html_url":"https://github.com/tillrohrmann","followers_url":"https://api.github.com/users/tillrohrmann/followers","following_url":"https://api.github.com/users/tillrohrmann/following{/other_user}","gists_url":"https://api.github.com/users/tillrohrmann/gists{/gist_id}","starred_url":"https://api.github.com/users/tillrohrmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tillrohrmann/subscriptions","organizations_url":"https://api.github.com/users/tillrohrmann/orgs","repos_url":"https://api.github.com/users/tillrohrmann/repos","events_url":"https://api.github.com/users/tillrohrmann/events{/privacy}","received_events_url":"https://api.github.com/users/tillrohrmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T14:11:53Z","updated_at":"2017-03-21T14:11:53Z","author_association":"CONTRIBUTOR","body":"Thanks for your contribution @gaqzcb. Changes look good to me. Merging this PR.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288090186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288091579","html_url":"https://github.com/apache/flink/pull/3479#issuecomment-288091579","issue_url":"https://api.github.com/repos/apache/flink/issues/3479","id":288091579,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODA5MTU3OQ==","user":{"login":"sjwiesman","id":1891970,"node_id":"MDQ6VXNlcjE4OTE5NzA=","avatar_url":"https://avatars.githubusercontent.com/u/1891970?v=4","gravatar_id":"","url":"https://api.github.com/users/sjwiesman","html_url":"https://github.com/sjwiesman","followers_url":"https://api.github.com/users/sjwiesman/followers","following_url":"https://api.github.com/users/sjwiesman/following{/other_user}","gists_url":"https://api.github.com/users/sjwiesman/gists{/gist_id}","starred_url":"https://api.github.com/users/sjwiesman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sjwiesman/subscriptions","organizations_url":"https://api.github.com/users/sjwiesman/orgs","repos_url":"https://api.github.com/users/sjwiesman/repos","events_url":"https://api.github.com/users/sjwiesman/events{/privacy}","received_events_url":"https://api.github.com/users/sjwiesman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T14:16:25Z","updated_at":"2017-03-21T14:16:25Z","author_association":"CONTRIBUTOR","body":"It looks like when I rebased on master I broke one of the scala side outputs test. I'm going to push a fix right now but it won't change any of the code surrounding this pr. ","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288091579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288093622","html_url":"https://github.com/apache/flink/pull/3506#issuecomment-288093622","issue_url":"https://api.github.com/repos/apache/flink/issues/3506","id":288093622,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODA5MzYyMg==","user":{"login":"StephanEwen","id":1727146,"node_id":"MDQ6VXNlcjE3MjcxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/1727146?v=4","gravatar_id":"","url":"https://api.github.com/users/StephanEwen","html_url":"https://github.com/StephanEwen","followers_url":"https://api.github.com/users/StephanEwen/followers","following_url":"https://api.github.com/users/StephanEwen/following{/other_user}","gists_url":"https://api.github.com/users/StephanEwen/gists{/gist_id}","starred_url":"https://api.github.com/users/StephanEwen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StephanEwen/subscriptions","organizations_url":"https://api.github.com/users/StephanEwen/orgs","repos_url":"https://api.github.com/users/StephanEwen/repos","events_url":"https://api.github.com/users/StephanEwen/events{/privacy}","received_events_url":"https://api.github.com/users/StephanEwen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T14:22:53Z","updated_at":"2017-03-21T14:22:53Z","author_association":"CONTRIBUTOR","body":"Good change, merging this for `1.2.1` and `1.3`.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288093622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288093888","html_url":"https://github.com/apache/flink/pull/3535#issuecomment-288093888","issue_url":"https://api.github.com/repos/apache/flink/issues/3535","id":288093888,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODA5Mzg4OA==","user":{"login":"aljoscha","id":68551,"node_id":"MDQ6VXNlcjY4NTUx","avatar_url":"https://avatars.githubusercontent.com/u/68551?v=4","gravatar_id":"","url":"https://api.github.com/users/aljoscha","html_url":"https://github.com/aljoscha","followers_url":"https://api.github.com/users/aljoscha/followers","following_url":"https://api.github.com/users/aljoscha/following{/other_user}","gists_url":"https://api.github.com/users/aljoscha/gists{/gist_id}","starred_url":"https://api.github.com/users/aljoscha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aljoscha/subscriptions","organizations_url":"https://api.github.com/users/aljoscha/orgs","repos_url":"https://api.github.com/users/aljoscha/repos","events_url":"https://api.github.com/users/aljoscha/events{/privacy}","received_events_url":"https://api.github.com/users/aljoscha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T14:23:43Z","updated_at":"2017-03-21T14:23:43Z","author_association":"CONTRIBUTOR","body":"Closing in favour of #3587 which ensures that the situation this PR fixes cannot occur in the first place.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288093888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288094157","html_url":"https://github.com/apache/flink/pull/3587#issuecomment-288094157","issue_url":"https://api.github.com/repos/apache/flink/issues/3587","id":288094157,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODA5NDE1Nw==","user":{"login":"aljoscha","id":68551,"node_id":"MDQ6VXNlcjY4NTUx","avatar_url":"https://avatars.githubusercontent.com/u/68551?v=4","gravatar_id":"","url":"https://api.github.com/users/aljoscha","html_url":"https://github.com/aljoscha","followers_url":"https://api.github.com/users/aljoscha/followers","following_url":"https://api.github.com/users/aljoscha/following{/other_user}","gists_url":"https://api.github.com/users/aljoscha/gists{/gist_id}","starred_url":"https://api.github.com/users/aljoscha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aljoscha/subscriptions","organizations_url":"https://api.github.com/users/aljoscha/orgs","repos_url":"https://api.github.com/users/aljoscha/repos","events_url":"https://api.github.com/users/aljoscha/events{/privacy}","received_events_url":"https://api.github.com/users/aljoscha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T14:24:33Z","updated_at":"2017-03-21T14:24:33Z","author_association":"CONTRIBUTOR","body":"@StephanEwen this is the better alternative to #3535 in that it doesn't silently drop windows and throws an exception when window shrinking occurs.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288094157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288099844","html_url":"https://github.com/apache/flink/pull/3564#issuecomment-288099844","issue_url":"https://api.github.com/repos/apache/flink/issues/3564","id":288099844,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODA5OTg0NA==","user":{"login":"hequn8128","id":4971479,"node_id":"MDQ6VXNlcjQ5NzE0Nzk=","avatar_url":"https://avatars.githubusercontent.com/u/4971479?v=4","gravatar_id":"","url":"https://api.github.com/users/hequn8128","html_url":"https://github.com/hequn8128","followers_url":"https://api.github.com/users/hequn8128/followers","following_url":"https://api.github.com/users/hequn8128/following{/other_user}","gists_url":"https://api.github.com/users/hequn8128/gists{/gist_id}","starred_url":"https://api.github.com/users/hequn8128/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hequn8128/subscriptions","organizations_url":"https://api.github.com/users/hequn8128/orgs","repos_url":"https://api.github.com/users/hequn8128/repos","events_url":"https://api.github.com/users/hequn8128/events{/privacy}","received_events_url":"https://api.github.com/users/hequn8128/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T14:41:47Z","updated_at":"2017-03-21T14:41:47Z","author_association":"CONTRIBUTOR","body":"@twalthr Thanks for the review. I have addressed all your comments and updated the PR","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288099844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288101238","html_url":"https://github.com/apache/flink/pull/3479#issuecomment-288101238","issue_url":"https://api.github.com/repos/apache/flink/issues/3479","id":288101238,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODEwMTIzOA==","user":{"login":"aljoscha","id":68551,"node_id":"MDQ6VXNlcjY4NTUx","avatar_url":"https://avatars.githubusercontent.com/u/68551?v=4","gravatar_id":"","url":"https://api.github.com/users/aljoscha","html_url":"https://github.com/aljoscha","followers_url":"https://api.github.com/users/aljoscha/followers","following_url":"https://api.github.com/users/aljoscha/following{/other_user}","gists_url":"https://api.github.com/users/aljoscha/gists{/gist_id}","starred_url":"https://api.github.com/users/aljoscha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aljoscha/subscriptions","organizations_url":"https://api.github.com/users/aljoscha/orgs","repos_url":"https://api.github.com/users/aljoscha/repos","events_url":"https://api.github.com/users/aljoscha/events{/privacy}","received_events_url":"https://api.github.com/users/aljoscha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T14:46:03Z","updated_at":"2017-03-21T14:46:03Z","author_association":"CONTRIBUTOR","body":"Ok, please ping me when you pushed the fix. ðŸ˜ƒ ","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288101238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288102187","html_url":"https://github.com/apache/flink/pull/3574#issuecomment-288102187","issue_url":"https://api.github.com/repos/apache/flink/issues/3574","id":288102187,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODEwMjE4Nw==","user":{"login":"sunjincheng121","id":22488084,"node_id":"MDQ6VXNlcjIyNDg4MDg0","avatar_url":"https://avatars.githubusercontent.com/u/22488084?v=4","gravatar_id":"","url":"https://api.github.com/users/sunjincheng121","html_url":"https://github.com/sunjincheng121","followers_url":"https://api.github.com/users/sunjincheng121/followers","following_url":"https://api.github.com/users/sunjincheng121/following{/other_user}","gists_url":"https://api.github.com/users/sunjincheng121/gists{/gist_id}","starred_url":"https://api.github.com/users/sunjincheng121/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunjincheng121/subscriptions","organizations_url":"https://api.github.com/users/sunjincheng121/orgs","repos_url":"https://api.github.com/users/sunjincheng121/repos","events_url":"https://api.github.com/users/sunjincheng121/events{/privacy}","received_events_url":"https://api.github.com/users/sunjincheng121/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T14:48:55Z","updated_at":"2017-03-21T14:48:55Z","author_association":"MEMBER","body":"Hi, @huawei-flink @fhueske I have used `ProcessFunction` and implemented bounded event-time OVER window. Since I think both bounded proc-time can share the same infra. So I have completed the bounded proc-time OVER window design also in the PR #3585, Please take a look.\r\n\r\nBest,\r\nSunJIncheng","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288102187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288123414","html_url":"https://github.com/apache/flink/pull/3567#issuecomment-288123414","issue_url":"https://api.github.com/repos/apache/flink/issues/3567","id":288123414,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODEyMzQxNA==","user":{"login":"aljoscha","id":68551,"node_id":"MDQ6VXNlcjY4NTUx","avatar_url":"https://avatars.githubusercontent.com/u/68551?v=4","gravatar_id":"","url":"https://api.github.com/users/aljoscha","html_url":"https://github.com/aljoscha","followers_url":"https://api.github.com/users/aljoscha/followers","following_url":"https://api.github.com/users/aljoscha/following{/other_user}","gists_url":"https://api.github.com/users/aljoscha/gists{/gist_id}","starred_url":"https://api.github.com/users/aljoscha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aljoscha/subscriptions","organizations_url":"https://api.github.com/users/aljoscha/orgs","repos_url":"https://api.github.com/users/aljoscha/repos","events_url":"https://api.github.com/users/aljoscha/events{/privacy}","received_events_url":"https://api.github.com/users/aljoscha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T15:51:31Z","updated_at":"2017-03-21T15:51:31Z","author_association":"CONTRIBUTOR","body":"AFAIK it's not possible to make IntelliJ pick up the checkstyle config by itself. On my machine the setting is in the \"*.iml\" project file and I think we have so far not included IDE specific project files because this is quite uncommon, I think.\r\n\r\n@dawidwys I'll create a new maven module to host the maven-build related files. This will make it easier to include it in different modules without dealing with paths in the checkstyle config.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288123414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288128622","html_url":"https://github.com/apache/flink/pull/3556#issuecomment-288128622","issue_url":"https://api.github.com/repos/apache/flink/issues/3556","id":288128622,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODEyODYyMg==","user":{"login":"tzulitai","id":5284370,"node_id":"MDQ6VXNlcjUyODQzNzA=","avatar_url":"https://avatars.githubusercontent.com/u/5284370?v=4","gravatar_id":"","url":"https://api.github.com/users/tzulitai","html_url":"https://github.com/tzulitai","followers_url":"https://api.github.com/users/tzulitai/followers","following_url":"https://api.github.com/users/tzulitai/following{/other_user}","gists_url":"https://api.github.com/users/tzulitai/gists{/gist_id}","starred_url":"https://api.github.com/users/tzulitai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tzulitai/subscriptions","organizations_url":"https://api.github.com/users/tzulitai/orgs","repos_url":"https://api.github.com/users/tzulitai/repos","events_url":"https://api.github.com/users/tzulitai/events{/privacy}","received_events_url":"https://api.github.com/users/tzulitai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T16:06:49Z","updated_at":"2017-03-21T16:06:49Z","author_association":"CONTRIBUTOR","body":"Thanks for the fix, LGTM.\r\n@rmetzger could you proceed to merge this?","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288128622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288129710","html_url":"https://github.com/apache/flink/pull/3556#issuecomment-288129710","issue_url":"https://api.github.com/repos/apache/flink/issues/3556","id":288129710,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODEyOTcxMA==","user":{"login":"rmetzger","id":89049,"node_id":"MDQ6VXNlcjg5MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/89049?v=4","gravatar_id":"","url":"https://api.github.com/users/rmetzger","html_url":"https://github.com/rmetzger","followers_url":"https://api.github.com/users/rmetzger/followers","following_url":"https://api.github.com/users/rmetzger/following{/other_user}","gists_url":"https://api.github.com/users/rmetzger/gists{/gist_id}","starred_url":"https://api.github.com/users/rmetzger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmetzger/subscriptions","organizations_url":"https://api.github.com/users/rmetzger/orgs","repos_url":"https://api.github.com/users/rmetzger/repos","events_url":"https://api.github.com/users/rmetzger/events{/privacy}","received_events_url":"https://api.github.com/users/rmetzger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T16:10:07Z","updated_at":"2017-03-21T16:10:07Z","author_association":"CONTRIBUTOR","body":"I'll merge it later today.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288129710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288137332","html_url":"https://github.com/apache/flink/pull/3585#issuecomment-288137332","issue_url":"https://api.github.com/repos/apache/flink/issues/3585","id":288137332,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODEzNzMzMg==","user":{"login":"fhueske","id":2388347,"node_id":"MDQ6VXNlcjIzODgzNDc=","avatar_url":"https://avatars.githubusercontent.com/u/2388347?v=4","gravatar_id":"","url":"https://api.github.com/users/fhueske","html_url":"https://github.com/fhueske","followers_url":"https://api.github.com/users/fhueske/followers","following_url":"https://api.github.com/users/fhueske/following{/other_user}","gists_url":"https://api.github.com/users/fhueske/gists{/gist_id}","starred_url":"https://api.github.com/users/fhueske/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fhueske/subscriptions","organizations_url":"https://api.github.com/users/fhueske/orgs","repos_url":"https://api.github.com/users/fhueske/repos","events_url":"https://api.github.com/users/fhueske/events{/privacy}","received_events_url":"https://api.github.com/users/fhueske/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T16:33:22Z","updated_at":"2017-03-21T16:33:22Z","author_association":"CONTRIBUTOR","body":"Hi @sunjincheng121, thanks for this PR.\r\n\r\nTo be honest, I don't completely understand the implementation of the `RowsClauseBoundedOverProcessFunction`. \r\n\r\nI thought about another design, that I would like to discuss (not considering process time which should be addressed in a separate ProcessFunction, IMO.):\r\n\r\n- we have three state objects: 1) the accumulator row, 2) a MapState[Long, List[Row]] for not processed data (`toProcess`), 3) a MapState[Long, List[Row]] for processed data which needs to be retracted (`toRetract`).\r\n- processElement() puts the element in the `toProcess` MapState with the original timestamp and registers a timer for `currentWatermark() + 1`. Hence, we only have a single timer which triggers when the next watermark is reached.\r\n- onTimer() is called for the next watermark. We get an iterator over the `toProcess` MapState. For RocksDB the iterator is sorted on the key. We sort-insert the records from the iterator into a `LinkedList` (since the iterator is sorted for RocksDB this will be simple append. For other state backends it will be more expensive but we can tolerate that, IMO).  We do the same for `toRetract` MapState. So we have two sorted lists for data to accumulate and to retract. We go over both sorted lists and accumulate and retract for each step using the accumulator state. Then we emit the new row and move the emitted row from the `toProcess` MapState to the `toRetract` MapState.\r\n\r\nThis design has the benefit of using RocksDB to sort. Moreover, we could also put only those fields into the toRetract state that need to be retracted instead of the full row.\r\n\r\nWhat do you think about this approach?\r\n\r\nThanks, Fabian","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288137332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288138441","html_url":"https://github.com/apache/flink/pull/3574#issuecomment-288138441","issue_url":"https://api.github.com/repos/apache/flink/issues/3574","id":288138441,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODEzODQ0MQ==","user":{"login":"fhueske","id":2388347,"node_id":"MDQ6VXNlcjIzODgzNDc=","avatar_url":"https://avatars.githubusercontent.com/u/2388347?v=4","gravatar_id":"","url":"https://api.github.com/users/fhueske","html_url":"https://github.com/fhueske","followers_url":"https://api.github.com/users/fhueske/followers","following_url":"https://api.github.com/users/fhueske/following{/other_user}","gists_url":"https://api.github.com/users/fhueske/gists{/gist_id}","starred_url":"https://api.github.com/users/fhueske/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fhueske/subscriptions","organizations_url":"https://api.github.com/users/fhueske/orgs","repos_url":"https://api.github.com/users/fhueske/repos","events_url":"https://api.github.com/users/fhueske/events{/privacy}","received_events_url":"https://api.github.com/users/fhueske/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T16:36:44Z","updated_at":"2017-03-21T16:36:44Z","author_association":"CONTRIBUTOR","body":"Hi @sunjincheng121, I think processing `OVER ROW PRECEDING` windows are a much simpler case than the event-time variant. Not sure how much code could be shared.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288138441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288143554","html_url":"https://github.com/apache/flink/pull/3479#issuecomment-288143554","issue_url":"https://api.github.com/repos/apache/flink/issues/3479","id":288143554,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODE0MzU1NA==","user":{"login":"sjwiesman","id":1891970,"node_id":"MDQ6VXNlcjE4OTE5NzA=","avatar_url":"https://avatars.githubusercontent.com/u/1891970?v=4","gravatar_id":"","url":"https://api.github.com/users/sjwiesman","html_url":"https://github.com/sjwiesman","followers_url":"https://api.github.com/users/sjwiesman/followers","following_url":"https://api.github.com/users/sjwiesman/following{/other_user}","gists_url":"https://api.github.com/users/sjwiesman/gists{/gist_id}","starred_url":"https://api.github.com/users/sjwiesman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sjwiesman/subscriptions","organizations_url":"https://api.github.com/users/sjwiesman/orgs","repos_url":"https://api.github.com/users/sjwiesman/repos","events_url":"https://api.github.com/users/sjwiesman/events{/privacy}","received_events_url":"https://api.github.com/users/sjwiesman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T16:52:28Z","updated_at":"2017-03-21T16:52:28Z","author_association":"CONTRIBUTOR","body":"Pushed the fix, I had to update SideOutputsITCase so the ProcessAllWindowFunctions had a noop clear method. All tests passed locally, take a look","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288143554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288147660","html_url":"https://github.com/apache/flink/pull/3479#issuecomment-288147660","issue_url":"https://api.github.com/repos/apache/flink/issues/3479","id":288147660,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODE0NzY2MA==","user":{"login":"aljoscha","id":68551,"node_id":"MDQ6VXNlcjY4NTUx","avatar_url":"https://avatars.githubusercontent.com/u/68551?v=4","gravatar_id":"","url":"https://api.github.com/users/aljoscha","html_url":"https://github.com/aljoscha","followers_url":"https://api.github.com/users/aljoscha/followers","following_url":"https://api.github.com/users/aljoscha/following{/other_user}","gists_url":"https://api.github.com/users/aljoscha/gists{/gist_id}","starred_url":"https://api.github.com/users/aljoscha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aljoscha/subscriptions","organizations_url":"https://api.github.com/users/aljoscha/orgs","repos_url":"https://api.github.com/users/aljoscha/repos","events_url":"https://api.github.com/users/aljoscha/events{/privacy}","received_events_url":"https://api.github.com/users/aljoscha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T17:04:38Z","updated_at":"2017-03-21T17:04:38Z","author_association":"CONTRIBUTOR","body":"Thanks!","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288147660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288148548","html_url":"https://github.com/apache/flink/pull/3574#issuecomment-288148548","issue_url":"https://api.github.com/repos/apache/flink/issues/3574","id":288148548,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODE0ODU0OA==","user":{"login":"fhueske","id":2388347,"node_id":"MDQ6VXNlcjIzODgzNDc=","avatar_url":"https://avatars.githubusercontent.com/u/2388347?v=4","gravatar_id":"","url":"https://api.github.com/users/fhueske","html_url":"https://github.com/fhueske","followers_url":"https://api.github.com/users/fhueske/followers","following_url":"https://api.github.com/users/fhueske/following{/other_user}","gists_url":"https://api.github.com/users/fhueske/gists{/gist_id}","starred_url":"https://api.github.com/users/fhueske/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fhueske/subscriptions","organizations_url":"https://api.github.com/users/fhueske/orgs","repos_url":"https://api.github.com/users/fhueske/repos","events_url":"https://api.github.com/users/fhueske/events{/privacy}","received_events_url":"https://api.github.com/users/fhueske/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T17:07:22Z","updated_at":"2017-03-21T17:07:22Z","author_association":"CONTRIBUTOR","body":"Hi @huawei-flink, all of the current aggregation functions (including avg) should support retraction.\r\nHave a look at https://github.com/apache/flink/blob/master/flink-libraries/flink-table/src/main/scala/org/apache/flink/table/functions/aggfunctions/AvgAggFunction.scala","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288148548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288178131","html_url":"https://github.com/apache/flink/pull/3576#issuecomment-288178131","issue_url":"https://api.github.com/repos/apache/flink/issues/3576","id":288178131,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODE3ODEzMQ==","user":{"login":"hadronzoo","id":1408,"node_id":"MDQ6VXNlcjE0MDg=","avatar_url":"https://avatars.githubusercontent.com/u/1408?v=4","gravatar_id":"","url":"https://api.github.com/users/hadronzoo","html_url":"https://github.com/hadronzoo","followers_url":"https://api.github.com/users/hadronzoo/followers","following_url":"https://api.github.com/users/hadronzoo/following{/other_user}","gists_url":"https://api.github.com/users/hadronzoo/gists{/gist_id}","starred_url":"https://api.github.com/users/hadronzoo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hadronzoo/subscriptions","organizations_url":"https://api.github.com/users/hadronzoo/orgs","repos_url":"https://api.github.com/users/hadronzoo/repos","events_url":"https://api.github.com/users/hadronzoo/events{/privacy}","received_events_url":"https://api.github.com/users/hadronzoo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T18:39:20Z","updated_at":"2017-03-21T18:39:20Z","author_association":"CONTRIBUTOR","body":"LGTM @zhengcanbin ","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288178131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288178213","html_url":"https://github.com/apache/flink/pull/3588#issuecomment-288178213","issue_url":"https://api.github.com/repos/apache/flink/issues/3588","id":288178213,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODE3ODIxMw==","user":{"login":"StephanEwen","id":1727146,"node_id":"MDQ6VXNlcjE3MjcxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/1727146?v=4","gravatar_id":"","url":"https://api.github.com/users/StephanEwen","html_url":"https://github.com/StephanEwen","followers_url":"https://api.github.com/users/StephanEwen/followers","following_url":"https://api.github.com/users/StephanEwen/following{/other_user}","gists_url":"https://api.github.com/users/StephanEwen/gists{/gist_id}","starred_url":"https://api.github.com/users/StephanEwen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StephanEwen/subscriptions","organizations_url":"https://api.github.com/users/StephanEwen/orgs","repos_url":"https://api.github.com/users/StephanEwen/repos","events_url":"https://api.github.com/users/StephanEwen/events{/privacy}","received_events_url":"https://api.github.com/users/StephanEwen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T18:39:37Z","updated_at":"2017-03-21T18:39:37Z","author_association":"CONTRIBUTOR","body":"Good change, +1\r\n\r\nmerging this...","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288178213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288210192","html_url":"https://github.com/apache/flink/pull/3582#issuecomment-288210192","issue_url":"https://api.github.com/repos/apache/flink/issues/3582","id":288210192,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODIxMDE5Mg==","user":{"login":"rmetzger","id":89049,"node_id":"MDQ6VXNlcjg5MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/89049?v=4","gravatar_id":"","url":"https://api.github.com/users/rmetzger","html_url":"https://github.com/rmetzger","followers_url":"https://api.github.com/users/rmetzger/followers","following_url":"https://api.github.com/users/rmetzger/following{/other_user}","gists_url":"https://api.github.com/users/rmetzger/gists{/gist_id}","starred_url":"https://api.github.com/users/rmetzger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmetzger/subscriptions","organizations_url":"https://api.github.com/users/rmetzger/orgs","repos_url":"https://api.github.com/users/rmetzger/repos","events_url":"https://api.github.com/users/rmetzger/events{/privacy}","received_events_url":"https://api.github.com/users/rmetzger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T20:35:43Z","updated_at":"2017-03-21T20:35:43Z","author_association":"CONTRIBUTOR","body":"+1 to merge","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288210192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288210406","html_url":"https://github.com/apache/flink/pull/3460#issuecomment-288210406","issue_url":"https://api.github.com/repos/apache/flink/issues/3460","id":288210406,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODIxMDQwNg==","user":{"login":"rmetzger","id":89049,"node_id":"MDQ6VXNlcjg5MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/89049?v=4","gravatar_id":"","url":"https://api.github.com/users/rmetzger","html_url":"https://github.com/rmetzger","followers_url":"https://api.github.com/users/rmetzger/followers","following_url":"https://api.github.com/users/rmetzger/following{/other_user}","gists_url":"https://api.github.com/users/rmetzger/gists{/gist_id}","starred_url":"https://api.github.com/users/rmetzger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmetzger/subscriptions","organizations_url":"https://api.github.com/users/rmetzger/orgs","repos_url":"https://api.github.com/users/rmetzger/repos","events_url":"https://api.github.com/users/rmetzger/events{/privacy}","received_events_url":"https://api.github.com/users/rmetzger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T20:36:31Z","updated_at":"2017-03-21T20:36:31Z","author_association":"CONTRIBUTOR","body":"Looks like the PR wasn't closed as part of the merging?","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288210406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288215897","html_url":"https://github.com/apache/flink/pull/3460#issuecomment-288215897","issue_url":"https://api.github.com/repos/apache/flink/issues/3460","id":288215897,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODIxNTg5Nw==","user":{"login":"zentol","id":5725237,"node_id":"MDQ6VXNlcjU3MjUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/5725237?v=4","gravatar_id":"","url":"https://api.github.com/users/zentol","html_url":"https://github.com/zentol","followers_url":"https://api.github.com/users/zentol/followers","following_url":"https://api.github.com/users/zentol/following{/other_user}","gists_url":"https://api.github.com/users/zentol/gists{/gist_id}","starred_url":"https://api.github.com/users/zentol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zentol/subscriptions","organizations_url":"https://api.github.com/users/zentol/orgs","repos_url":"https://api.github.com/users/zentol/repos","events_url":"https://api.github.com/users/zentol/events{/privacy}","received_events_url":"https://api.github.com/users/zentol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T20:56:26Z","updated_at":"2017-03-21T20:56:26Z","author_association":"CONTRIBUTOR","body":"According to GitHub this wasnt merged yet.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288215897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288216528","html_url":"https://github.com/apache/flink/pull/3460#issuecomment-288216528","issue_url":"https://api.github.com/repos/apache/flink/issues/3460","id":288216528,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODIxNjUyOA==","user":{"login":"rmetzger","id":89049,"node_id":"MDQ6VXNlcjg5MDQ5","avatar_url":"https://avatars.githubusercontent.com/u/89049?v=4","gravatar_id":"","url":"https://api.github.com/users/rmetzger","html_url":"https://github.com/rmetzger","followers_url":"https://api.github.com/users/rmetzger/followers","following_url":"https://api.github.com/users/rmetzger/following{/other_user}","gists_url":"https://api.github.com/users/rmetzger/gists{/gist_id}","starred_url":"https://api.github.com/users/rmetzger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmetzger/subscriptions","organizations_url":"https://api.github.com/users/rmetzger/orgs","repos_url":"https://api.github.com/users/rmetzger/repos","events_url":"https://api.github.com/users/rmetzger/events{/privacy}","received_events_url":"https://api.github.com/users/rmetzger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T20:58:40Z","updated_at":"2017-03-21T20:58:40Z","author_association":"CONTRIBUTOR","body":"Yeah, true.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288216528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288234831","html_url":"https://github.com/apache/flink/pull/3590#issuecomment-288234831","issue_url":"https://api.github.com/repos/apache/flink/issues/3590","id":288234831,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODIzNDgzMQ==","user":{"login":"rtudoran","id":16573790,"node_id":"MDQ6VXNlcjE2NTczNzkw","avatar_url":"https://avatars.githubusercontent.com/u/16573790?v=4","gravatar_id":"","url":"https://api.github.com/users/rtudoran","html_url":"https://github.com/rtudoran","followers_url":"https://api.github.com/users/rtudoran/followers","following_url":"https://api.github.com/users/rtudoran/following{/other_user}","gists_url":"https://api.github.com/users/rtudoran/gists{/gist_id}","starred_url":"https://api.github.com/users/rtudoran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rtudoran/subscriptions","organizations_url":"https://api.github.com/users/rtudoran/orgs","repos_url":"https://api.github.com/users/rtudoran/repos","events_url":"https://api.github.com/users/rtudoran/events{/privacy}","received_events_url":"https://api.github.com/users/rtudoran/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-21T22:08:24Z","updated_at":"2017-03-21T22:08:24Z","author_association":"CONTRIBUTOR","body":"@fhueske @shijinkui @hongyuhong @twalthr @stefanobortoli \r\nI have reimplemented the OVER logic with time bounds over processfunction. PLease take a look\r\nI also addressed in principle the other remarks (tests., placement of functions....)","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288234831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288275792","html_url":"https://github.com/apache/flink/pull/3579#issuecomment-288275792","issue_url":"https://api.github.com/repos/apache/flink/issues/3579","id":288275792,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODI3NTc5Mg==","user":{"login":"shaoxuan-wang","id":9400874,"node_id":"MDQ6VXNlcjk0MDA4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/9400874?v=4","gravatar_id":"","url":"https://api.github.com/users/shaoxuan-wang","html_url":"https://github.com/shaoxuan-wang","followers_url":"https://api.github.com/users/shaoxuan-wang/followers","following_url":"https://api.github.com/users/shaoxuan-wang/following{/other_user}","gists_url":"https://api.github.com/users/shaoxuan-wang/gists{/gist_id}","starred_url":"https://api.github.com/users/shaoxuan-wang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shaoxuan-wang/subscriptions","organizations_url":"https://api.github.com/users/shaoxuan-wang/orgs","repos_url":"https://api.github.com/users/shaoxuan-wang/repos","events_url":"https://api.github.com/users/shaoxuan-wang/events{/privacy}","received_events_url":"https://api.github.com/users/shaoxuan-wang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T02:01:06Z","updated_at":"2017-03-22T02:01:22Z","author_association":"CONTRIBUTOR","body":"@twalthr, I saw you have removed the CHAR type when you merge this. Just want to clarify. In FLINK-3916, in method typeInfoToSqlTypeName, you have added \r\n```\r\n      case CHAR_TYPE_INFO | CHAR_VALUE_TYPE_INFO =>\r\n        throw TableException(\"Character type is not supported.\")\r\n```\r\nTableAPI is open for user to pass CHAR type data, \r\n```\r\nval data = List(                                    \r\n  (1L, 1, 1d, 1f, new BigDecimal(\"1\"), 'a', \"Hi\")\r\n...\r\n.toTable(tEnv, 'long, 'int, 'double, 'float, 'bigdec, 'char, 'string) \r\n...\r\nselect('char.count)\r\n```\r\nI am curious the reason why we do not support CHAR type explicitly.\r\n\r\nAlso, as I suggested early, we'd better to have all build-in aggregates to support the retraction method. We should add string type for Max/MinWithRetractAggFunction. What do you think?","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288275792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288284275","html_url":"https://github.com/apache/flink/pull/3386#issuecomment-288284275","issue_url":"https://api.github.com/repos/apache/flink/issues/3386","id":288284275,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODI4NDI3NQ==","user":{"login":"hongyuhong","id":19420932,"node_id":"MDQ6VXNlcjE5NDIwOTMy","avatar_url":"https://avatars.githubusercontent.com/u/19420932?v=4","gravatar_id":"","url":"https://api.github.com/users/hongyuhong","html_url":"https://github.com/hongyuhong","followers_url":"https://api.github.com/users/hongyuhong/followers","following_url":"https://api.github.com/users/hongyuhong/following{/other_user}","gists_url":"https://api.github.com/users/hongyuhong/gists{/gist_id}","starred_url":"https://api.github.com/users/hongyuhong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hongyuhong/subscriptions","organizations_url":"https://api.github.com/users/hongyuhong/orgs","repos_url":"https://api.github.com/users/hongyuhong/repos","events_url":"https://api.github.com/users/hongyuhong/events{/privacy}","received_events_url":"https://api.github.com/users/hongyuhong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T02:58:48Z","updated_at":"2017-03-22T02:58:48Z","author_association":"CONTRIBUTOR","body":"Hi @fhueske , @shijinkui & @sunjincheng121 , i have updated the pr according to your advices. Thanks very much.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288284275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288297974","html_url":"https://github.com/apache/flink/pull/3585#issuecomment-288297974","issue_url":"https://api.github.com/repos/apache/flink/issues/3585","id":288297974,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODI5Nzk3NA==","user":{"login":"sunjincheng121","id":22488084,"node_id":"MDQ6VXNlcjIyNDg4MDg0","avatar_url":"https://avatars.githubusercontent.com/u/22488084?v=4","gravatar_id":"","url":"https://api.github.com/users/sunjincheng121","html_url":"https://github.com/sunjincheng121","followers_url":"https://api.github.com/users/sunjincheng121/followers","following_url":"https://api.github.com/users/sunjincheng121/following{/other_user}","gists_url":"https://api.github.com/users/sunjincheng121/gists{/gist_id}","starred_url":"https://api.github.com/users/sunjincheng121/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunjincheng121/subscriptions","organizations_url":"https://api.github.com/users/sunjincheng121/orgs","repos_url":"https://api.github.com/users/sunjincheng121/repos","events_url":"https://api.github.com/users/sunjincheng121/events{/privacy}","received_events_url":"https://api.github.com/users/sunjincheng121/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T04:50:14Z","updated_at":"2017-03-22T04:50:14Z","author_association":"MEMBER","body":"Hi, @fhueske Thanks for your attention to the PR. Today I'll proposal the design doc and link here.\r\n\r\nBest,\r\nSunJIncheng","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288297974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288316380","html_url":"https://github.com/apache/flink/pull/3582#issuecomment-288316380","issue_url":"https://api.github.com/repos/apache/flink/issues/3582","id":288316380,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODMxNjM4MA==","user":{"login":"tzulitai","id":5284370,"node_id":"MDQ6VXNlcjUyODQzNzA=","avatar_url":"https://avatars.githubusercontent.com/u/5284370?v=4","gravatar_id":"","url":"https://api.github.com/users/tzulitai","html_url":"https://github.com/tzulitai","followers_url":"https://api.github.com/users/tzulitai/followers","following_url":"https://api.github.com/users/tzulitai/following{/other_user}","gists_url":"https://api.github.com/users/tzulitai/gists{/gist_id}","starred_url":"https://api.github.com/users/tzulitai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tzulitai/subscriptions","organizations_url":"https://api.github.com/users/tzulitai/orgs","repos_url":"https://api.github.com/users/tzulitai/repos","events_url":"https://api.github.com/users/tzulitai/events{/privacy}","received_events_url":"https://api.github.com/users/tzulitai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T07:10:17Z","updated_at":"2017-03-22T07:10:29Z","author_association":"CONTRIBUTOR","body":"Thanks for the review, merging to `master` and `release-1.2`.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288316380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288318395","html_url":"https://github.com/apache/flink/pull/3460#issuecomment-288318395","issue_url":"https://api.github.com/repos/apache/flink/issues/3460","id":288318395,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODMxODM5NQ==","user":{"login":"uce","id":1756620,"node_id":"MDQ6VXNlcjE3NTY2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/1756620?v=4","gravatar_id":"","url":"https://api.github.com/users/uce","html_url":"https://github.com/uce","followers_url":"https://api.github.com/users/uce/followers","following_url":"https://api.github.com/users/uce/following{/other_user}","gists_url":"https://api.github.com/users/uce/gists{/gist_id}","starred_url":"https://api.github.com/users/uce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uce/subscriptions","organizations_url":"https://api.github.com/users/uce/orgs","repos_url":"https://api.github.com/users/uce/repos","events_url":"https://api.github.com/users/uce/events{/privacy}","received_events_url":"https://api.github.com/users/uce/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T07:23:17Z","updated_at":"2017-03-22T07:23:17Z","author_association":"CONTRIBUTOR","body":"My push must have been rejected without me noticing. Sorry! I'm rerunning the tests after rebasing and pushing it.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288318395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288330410","html_url":"https://github.com/apache/flink/pull/3550#issuecomment-288330410","issue_url":"https://api.github.com/repos/apache/flink/issues/3550","id":288330410,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODMzMDQxMA==","user":{"login":"fhueske","id":2388347,"node_id":"MDQ6VXNlcjIzODgzNDc=","avatar_url":"https://avatars.githubusercontent.com/u/2388347?v=4","gravatar_id":"","url":"https://api.github.com/users/fhueske","html_url":"https://github.com/fhueske","followers_url":"https://api.github.com/users/fhueske/followers","following_url":"https://api.github.com/users/fhueske/following{/other_user}","gists_url":"https://api.github.com/users/fhueske/gists{/gist_id}","starred_url":"https://api.github.com/users/fhueske/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fhueske/subscriptions","organizations_url":"https://api.github.com/users/fhueske/orgs","repos_url":"https://api.github.com/users/fhueske/repos","events_url":"https://api.github.com/users/fhueske/events{/privacy}","received_events_url":"https://api.github.com/users/fhueske/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T08:31:03Z","updated_at":"2017-03-22T08:31:03Z","author_association":"CONTRIBUTOR","body":"PR is continued in #3590","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288330410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288331253","html_url":"https://github.com/apache/flink/pull/3579#issuecomment-288331253","issue_url":"https://api.github.com/repos/apache/flink/issues/3579","id":288331253,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODMzMTI1Mw==","user":{"login":"twalthr","id":5746567,"node_id":"MDQ6VXNlcjU3NDY1Njc=","avatar_url":"https://avatars.githubusercontent.com/u/5746567?v=4","gravatar_id":"","url":"https://api.github.com/users/twalthr","html_url":"https://github.com/twalthr","followers_url":"https://api.github.com/users/twalthr/followers","following_url":"https://api.github.com/users/twalthr/following{/other_user}","gists_url":"https://api.github.com/users/twalthr/gists{/gist_id}","starred_url":"https://api.github.com/users/twalthr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twalthr/subscriptions","organizations_url":"https://api.github.com/users/twalthr/orgs","repos_url":"https://api.github.com/users/twalthr/repos","events_url":"https://api.github.com/users/twalthr/events{/privacy}","received_events_url":"https://api.github.com/users/twalthr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T08:35:05Z","updated_at":"2017-03-22T08:35:05Z","author_association":"CONTRIBUTOR","body":"@shaoxuan-wang I haven't removed the char type, I just inlined the two cases. There is a difference between char type information and Calcites CHAR type. We don't support single characters such as 'a' but since the SQL parser translates fixed length strings to the Calcite CHAR type, we have to do the case distinction in the aggregate classes. But both CHAR and VARCHAR are treated like string.\r\n\r\nI agree we should also support the retraction case, thanks for the hint.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288331253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288338959","html_url":"https://github.com/apache/flink/pull/3579#issuecomment-288338959","issue_url":"https://api.github.com/repos/apache/flink/issues/3579","id":288338959,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODMzODk1OQ==","user":{"login":"twalthr","id":5746567,"node_id":"MDQ6VXNlcjU3NDY1Njc=","avatar_url":"https://avatars.githubusercontent.com/u/5746567?v=4","gravatar_id":"","url":"https://api.github.com/users/twalthr","html_url":"https://github.com/twalthr","followers_url":"https://api.github.com/users/twalthr/followers","following_url":"https://api.github.com/users/twalthr/following{/other_user}","gists_url":"https://api.github.com/users/twalthr/gists{/gist_id}","starred_url":"https://api.github.com/users/twalthr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twalthr/subscriptions","organizations_url":"https://api.github.com/users/twalthr/orgs","repos_url":"https://api.github.com/users/twalthr/repos","events_url":"https://api.github.com/users/twalthr/events{/privacy}","received_events_url":"https://api.github.com/users/twalthr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T09:10:05Z","updated_at":"2017-03-22T09:10:22Z","author_association":"CONTRIBUTOR","body":"@shaoxuan-wang I have implemented the missing retraction functions in #3593.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288338959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288340699","html_url":"https://github.com/apache/flink/pull/3571#issuecomment-288340699","issue_url":"https://api.github.com/repos/apache/flink/issues/3571","id":288340699,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODM0MDY5OQ==","user":{"login":"twalthr","id":5746567,"node_id":"MDQ6VXNlcjU3NDY1Njc=","avatar_url":"https://avatars.githubusercontent.com/u/5746567?v=4","gravatar_id":"","url":"https://api.github.com/users/twalthr","html_url":"https://github.com/twalthr","followers_url":"https://api.github.com/users/twalthr/followers","following_url":"https://api.github.com/users/twalthr/following{/other_user}","gists_url":"https://api.github.com/users/twalthr/gists{/gist_id}","starred_url":"https://api.github.com/users/twalthr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/twalthr/subscriptions","organizations_url":"https://api.github.com/users/twalthr/orgs","repos_url":"https://api.github.com/users/twalthr/repos","events_url":"https://api.github.com/users/twalthr/events{/privacy}","received_events_url":"https://api.github.com/users/twalthr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T09:18:02Z","updated_at":"2017-03-22T09:18:02Z","author_association":"CONTRIBUTOR","body":"I also did some testing and also saw performance improvements. +1 for this.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288340699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288341887","html_url":"https://github.com/apache/flink/pull/3578#issuecomment-288341887","issue_url":"https://api.github.com/repos/apache/flink/issues/3578","id":288341887,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODM0MTg4Nw==","user":{"login":"tillrohrmann","id":5756858,"node_id":"MDQ6VXNlcjU3NTY4NTg=","avatar_url":"https://avatars.githubusercontent.com/u/5756858?v=4","gravatar_id":"","url":"https://api.github.com/users/tillrohrmann","html_url":"https://github.com/tillrohrmann","followers_url":"https://api.github.com/users/tillrohrmann/followers","following_url":"https://api.github.com/users/tillrohrmann/following{/other_user}","gists_url":"https://api.github.com/users/tillrohrmann/gists{/gist_id}","starred_url":"https://api.github.com/users/tillrohrmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tillrohrmann/subscriptions","organizations_url":"https://api.github.com/users/tillrohrmann/orgs","repos_url":"https://api.github.com/users/tillrohrmann/repos","events_url":"https://api.github.com/users/tillrohrmann/events{/privacy}","received_events_url":"https://api.github.com/users/tillrohrmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T09:23:12Z","updated_at":"2017-03-22T09:23:12Z","author_association":"CONTRIBUTOR","body":"Thanks for the review @StephanEwen. \r\n\r\nTravis passed locally: https://travis-ci.org/tillrohrmann/flink/jobs/213720094. \r\n\r\nThe failing test case is unrelated due to a problem downloading an old Flink version for japicmp. Merging this PR.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288341887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288342743","html_url":"https://github.com/apache/flink/pull/3591#issuecomment-288342743","issue_url":"https://api.github.com/repos/apache/flink/issues/3591","id":288342743,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODM0Mjc0Mw==","user":{"login":"zhijiangW","id":12387855,"node_id":"MDQ6VXNlcjEyMzg3ODU1","avatar_url":"https://avatars.githubusercontent.com/u/12387855?v=4","gravatar_id":"","url":"https://api.github.com/users/zhijiangW","html_url":"https://github.com/zhijiangW","followers_url":"https://api.github.com/users/zhijiangW/followers","following_url":"https://api.github.com/users/zhijiangW/following{/other_user}","gists_url":"https://api.github.com/users/zhijiangW/gists{/gist_id}","starred_url":"https://api.github.com/users/zhijiangW/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhijiangW/subscriptions","organizations_url":"https://api.github.com/users/zhijiangW/orgs","repos_url":"https://api.github.com/users/zhijiangW/repos","events_url":"https://api.github.com/users/zhijiangW/events{/privacy}","received_events_url":"https://api.github.com/users/zhijiangW/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T09:26:57Z","updated_at":"2017-03-22T09:26:57Z","author_association":"CONTRIBUTOR","body":"@tillrohrmann , wish your reviews and I would submit the left heartbeat between `JobManager` and `ResourceManager` this week.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288342743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288348901","html_url":"https://github.com/apache/flink/pull/3585#issuecomment-288348901","issue_url":"https://api.github.com/repos/apache/flink/issues/3585","id":288348901,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODM0ODkwMQ==","user":{"login":"sunjincheng121","id":22488084,"node_id":"MDQ6VXNlcjIyNDg4MDg0","avatar_url":"https://avatars.githubusercontent.com/u/22488084?v=4","gravatar_id":"","url":"https://api.github.com/users/sunjincheng121","html_url":"https://github.com/sunjincheng121","followers_url":"https://api.github.com/users/sunjincheng121/followers","following_url":"https://api.github.com/users/sunjincheng121/following{/other_user}","gists_url":"https://api.github.com/users/sunjincheng121/gists{/gist_id}","starred_url":"https://api.github.com/users/sunjincheng121/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunjincheng121/subscriptions","organizations_url":"https://api.github.com/users/sunjincheng121/orgs","repos_url":"https://api.github.com/users/sunjincheng121/repos","events_url":"https://api.github.com/users/sunjincheng121/events{/privacy}","received_events_url":"https://api.github.com/users/sunjincheng121/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T09:52:32Z","updated_at":"2017-03-22T09:52:32Z","author_association":"MEMBER","body":"Hi, @fhueske  When I want to write a design document, I compare the different between your proposed design and the current program I propose. I finally decided to explain this directly in Jira instead of another design doc. If I understand you correctly, the differences of our design are as follows:\r\n  **-  Regard to the state:**\r\n- [ ] 1) the accumulator row -> accumulatorState (we are the same)\r\n- [ ] 2) a MapState[Long, List[Row]] -> ï¼ˆI did not use this, as I mentioned below, we do not a sorted map for accumulate, so it can share the same state (In my case, I just use one dataState) )\r\n- [ ] 3) a MapState[Long, List[Row]] -> (we are the same)\r\n\r\n **-  About core processing logicï¼š**\r\n- [ ] processElement:\r\n- 1) Check if the data is late.\r\n- 2) Register timer\r\n- [ ] onTimer:\r\n- 1) toRectract -> retract (we are the same)\r\n- 2) toProcess -> accumlate (we are the same)\r\n\r\n **-  About sorting with mapState:**\r\n- toProcess -> accumlate (Do not need to sort)\r\n- toRectract -> retract (Need to sort) The purpose of sorting in `retract` is to find expired data, such as for a ` 2 proceding` over window case, the dataState is (0-> row, 1-> row, 2-> row, 3-> row), When handling element `3 ` we need find the element` 0` and `retract` it. \r\n\r\nIf the backend state is `RocksDB` and the key is Long type, then luckily the data is sorted by key ensured by RocksDB. But if we use other backend, it may not be sorted, such as (heapBackend). So the existing MapState key sorting has some limitations, unless we implement a `sortedMapState`. This semantics can ensure that any backend are ordered. So my current design uses traversal dataState.keys to find the smallest one for retraction. \r\n\r\n**- About register timer:**\r\n     I would like to use the `timestamp` to register timer. For example for `(7L, 7, \"Hello\")` I use `7` to register timer. IMO, we should not use `currentWatermark + 1` to register timer, as the currentWatermark can not be representing the \"event time\" of each data. If we explicitly use `currentWatermark + 1`, there will be problems. For instance, two data with different event time could be arrival at same time. Then we will get the same register timer (because we have not updated currentWatermark). So eventually, these two data will different event time will be emitted at the same time, which is unexpected.\r\n\r\nFYI, examples (using my design) are as follows:\r\nï¼ˆRefer to:[ `testBoundPartitionedEventTimeWindowWithRowWithLateEvent`](https://github.com/sunjincheng121/flink/blob/FLINK-5990-PR/flink-libraries/flink-table/src/test/scala/org/apache/flink/table/api/scala/stream/sql/SqlITCase.scala)ï¼‰\r\n -  Sql:\r\n `   SELECT +c, a, sum(a) OVER (PARTITION BY c ORDER BY RowTime() ROWS BETWEEN 2 preceding AND CURRENT ROW) from T1`\r\n\r\n- TestData:\r\n```\r\n    val data = List(\r\n      (1L, 1, \"Hello\"),\r\n      (2L, 2, \"Hello\"),\r\n      (4L, 4, \"Hello\"),\r\n      (3L, 3, \"Hello\"),\r\n      (7L, 7, \"Hello\"),\r\n      (8L, 8, \"Hello World\"),\r\n      (7L, 8, \"Hello\"),\r\n      (5L, 5, \"Hello\"),\r\n      (20L, 20, \"Hello World\"),\r\n      (9L, 9, \"Hello World\"))\r\n```\r\n\r\n- WaterMark:\r\n```\r\n      (1L, 1, \"Hello\") -> -1\r\n      (2L, 2, \"Hello\") -> 0\r\n      (4L, 4, \"Hello\") -> 2\r\n      (3L, 3, \"Hello\") -> 1\r\n      (7L, 7, \"Hello\") -> 5\r\n      (8L, 8, \"Hello World\") -> 6\r\n      (7L, 8, \"Hello\") -> 5\r\n      (5L, 5, \"Hello\") -> 3\r\n      (20L, 20, \"Hello World\") -> 18\r\n      (9L, 9, \"Hello World\")) -> 7\r\n```\r\n\r\n- Print info in `processElement ` and `onTimer`:\r\n\r\n```\r\nprocess_ts_lastTs_wm:[1][0][-9223372036854775808]\r\nprocess_ts_lastTs_wm:[2][0][-1]\r\nprocess_ts_lastTs_wm:[4][0][0]\r\n====>ontime_ts_wm_triggerTs_lastRow:[1][2][null][null]\r\n====>ontime_ts_wm_triggerTs_lastRow:[2][2][1][null]\r\nprocess_ts_lastTs_wm:[3][2][2]\r\nprocess_ts_lastTs_wm:[7][2][2]\r\n====>ontime_ts_wm_triggerTs_lastRow:[3][5][2][null]\r\n====>ontime_ts_wm_triggerTs_lastRow:[4][5][3][(1,Hello)]\r\nprocess_ts_lastTs_wm:[8][0][5]\r\nprocess_ts_lastTs_wm:[7][4][6]\r\n<<late_ts_lastTs_wm:[5][4][6]\r\nprocess_ts_lastTs_wm:[20][0][6]\r\n====>ontime_ts_wm_triggerTs_lastRow:[7][18][4][(2,Hello)]\r\n====>ontime_ts_wm_triggerTs_lastRow:[7][18][4][(3,Hello)]\r\n====>ontime_ts_wm_triggerTs_lastRow:[8][18][null][null]\r\n<<late_ts_lastTs_wm:[9][8][18]\r\n====>ontime_ts_wm_triggerTs_lastRow:[20][9223372036854775807][8][null]\r\n```\r\nBTW, I updated the code, had separated the proc-time and event-time in to two classes.\r\n\r\nI am trying to make a detailed description, but I do not know if it is clear enough, feel free to feedback me if there is anything not clear.\r\n\r\nThanks,\r\nSunJincheng","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288348901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288351530","html_url":"https://github.com/apache/flink/pull/3529#issuecomment-288351530","issue_url":"https://api.github.com/repos/apache/flink/issues/3529","id":288351530,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODM1MTUzMA==","user":{"login":"zhuoluoy","id":656810,"node_id":"MDQ6VXNlcjY1NjgxMA==","avatar_url":"https://avatars.githubusercontent.com/u/656810?v=4","gravatar_id":"","url":"https://api.github.com/users/zhuoluoy","html_url":"https://github.com/zhuoluoy","followers_url":"https://api.github.com/users/zhuoluoy/followers","following_url":"https://api.github.com/users/zhuoluoy/following{/other_user}","gists_url":"https://api.github.com/users/zhuoluoy/gists{/gist_id}","starred_url":"https://api.github.com/users/zhuoluoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhuoluoy/subscriptions","organizations_url":"https://api.github.com/users/zhuoluoy/orgs","repos_url":"https://api.github.com/users/zhuoluoy/repos","events_url":"https://api.github.com/users/zhuoluoy/events{/privacy}","received_events_url":"https://api.github.com/users/zhuoluoy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T10:03:42Z","updated_at":"2017-03-22T10:03:42Z","author_association":"CONTRIBUTOR","body":"I've marked this issue won't fix and I will open another issue to describe our problems.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288351530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288364733","html_url":"https://github.com/apache/flink/pull/3584#issuecomment-288364733","issue_url":"https://api.github.com/repos/apache/flink/issues/3584","id":288364733,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODM2NDczMw==","user":{"login":"kl0u","id":2405800,"node_id":"MDQ6VXNlcjI0MDU4MDA=","avatar_url":"https://avatars.githubusercontent.com/u/2405800?v=4","gravatar_id":"","url":"https://api.github.com/users/kl0u","html_url":"https://github.com/kl0u","followers_url":"https://api.github.com/users/kl0u/followers","following_url":"https://api.github.com/users/kl0u/following{/other_user}","gists_url":"https://api.github.com/users/kl0u/gists{/gist_id}","starred_url":"https://api.github.com/users/kl0u/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kl0u/subscriptions","organizations_url":"https://api.github.com/users/kl0u/orgs","repos_url":"https://api.github.com/users/kl0u/repos","events_url":"https://api.github.com/users/kl0u/events{/privacy}","received_events_url":"https://api.github.com/users/kl0u/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T11:00:20Z","updated_at":"2017-03-22T11:00:20Z","author_association":"CONTRIBUTOR","body":"LGTM! Merging this...","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288364733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288371575","html_url":"https://github.com/apache/flink/pull/3573#issuecomment-288371575","issue_url":"https://api.github.com/repos/apache/flink/issues/3573","id":288371575,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODM3MTU3NQ==","user":{"login":"zentol","id":5725237,"node_id":"MDQ6VXNlcjU3MjUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/5725237?v=4","gravatar_id":"","url":"https://api.github.com/users/zentol","html_url":"https://github.com/zentol","followers_url":"https://api.github.com/users/zentol/followers","following_url":"https://api.github.com/users/zentol/following{/other_user}","gists_url":"https://api.github.com/users/zentol/gists{/gist_id}","starred_url":"https://api.github.com/users/zentol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zentol/subscriptions","organizations_url":"https://api.github.com/users/zentol/orgs","repos_url":"https://api.github.com/users/zentol/repos","events_url":"https://api.github.com/users/zentol/events{/privacy}","received_events_url":"https://api.github.com/users/zentol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T11:31:08Z","updated_at":"2017-03-22T11:31:08Z","author_association":"CONTRIBUTOR","body":"Since the MQS is explicitly started i was wondering whether it should also be stopped explicitly via ```stopMetricQueryService()```. The ```shutdown()``` method is right now the counterpart to the MR constructor, which doesn't start the MQS.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288371575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288386450","html_url":"https://github.com/apache/flink/pull/3567#issuecomment-288386450","issue_url":"https://api.github.com/repos/apache/flink/issues/3567","id":288386450,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODM4NjQ1MA==","user":{"login":"zentol","id":5725237,"node_id":"MDQ6VXNlcjU3MjUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/5725237?v=4","gravatar_id":"","url":"https://api.github.com/users/zentol","html_url":"https://github.com/zentol","followers_url":"https://api.github.com/users/zentol/followers","following_url":"https://api.github.com/users/zentol/following{/other_user}","gists_url":"https://api.github.com/users/zentol/gists{/gist_id}","starred_url":"https://api.github.com/users/zentol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zentol/subscriptions","organizations_url":"https://api.github.com/users/zentol/orgs","repos_url":"https://api.github.com/users/zentol/repos","events_url":"https://api.github.com/users/zentol/events{/privacy}","received_events_url":"https://api.github.com/users/zentol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T12:41:32Z","updated_at":"2017-03-22T12:41:32Z","author_association":"CONTRIBUTOR","body":"Could you create or link a guide on how to configure checkstyles per module in Intellij?","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288386450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288387047","html_url":"https://github.com/apache/flink/pull/3584#issuecomment-288387047","issue_url":"https://api.github.com/repos/apache/flink/issues/3584","id":288387047,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODM4NzA0Nw==","user":{"login":"kl0u","id":2405800,"node_id":"MDQ6VXNlcjI0MDU4MDA=","avatar_url":"https://avatars.githubusercontent.com/u/2405800?v=4","gravatar_id":"","url":"https://api.github.com/users/kl0u","html_url":"https://github.com/kl0u","followers_url":"https://api.github.com/users/kl0u/followers","following_url":"https://api.github.com/users/kl0u/following{/other_user}","gists_url":"https://api.github.com/users/kl0u/gists{/gist_id}","starred_url":"https://api.github.com/users/kl0u/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kl0u/subscriptions","organizations_url":"https://api.github.com/users/kl0u/orgs","repos_url":"https://api.github.com/users/kl0u/repos","events_url":"https://api.github.com/users/kl0u/events{/privacy}","received_events_url":"https://api.github.com/users/kl0u/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T12:44:08Z","updated_at":"2017-03-22T12:44:08Z","author_association":"CONTRIBUTOR","body":"Hi @dawidwys, I merged this. Can you close this PR and the related JIRA?","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288387047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288389644","html_url":"https://github.com/apache/flink/pull/3590#issuecomment-288389644","issue_url":"https://api.github.com/repos/apache/flink/issues/3590","id":288389644,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODM4OTY0NA==","user":{"login":"rtudoran","id":16573790,"node_id":"MDQ6VXNlcjE2NTczNzkw","avatar_url":"https://avatars.githubusercontent.com/u/16573790?v=4","gravatar_id":"","url":"https://api.github.com/users/rtudoran","html_url":"https://github.com/rtudoran","followers_url":"https://api.github.com/users/rtudoran/followers","following_url":"https://api.github.com/users/rtudoran/following{/other_user}","gists_url":"https://api.github.com/users/rtudoran/gists{/gist_id}","starred_url":"https://api.github.com/users/rtudoran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rtudoran/subscriptions","organizations_url":"https://api.github.com/users/rtudoran/orgs","repos_url":"https://api.github.com/users/rtudoran/repos","events_url":"https://api.github.com/users/rtudoran/events{/privacy}","received_events_url":"https://api.github.com/users/rtudoran/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T12:55:42Z","updated_at":"2017-03-22T12:55:42Z","author_association":"CONTRIBUTOR","body":"@fhueske Thanks for the review. Before i start to do the updates please have a look on my remarks. I think we need to clarify some things  - particular the access to the state of the events - it becomes problematic if this operation requires O(n) - as per my remarks.\r\nPlease have a look and let me know what do you think","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288389644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288390377","html_url":"https://github.com/apache/flink/pull/3567#issuecomment-288390377","issue_url":"https://api.github.com/repos/apache/flink/issues/3567","id":288390377,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODM5MDM3Nw==","user":{"login":"aljoscha","id":68551,"node_id":"MDQ6VXNlcjY4NTUx","avatar_url":"https://avatars.githubusercontent.com/u/68551?v=4","gravatar_id":"","url":"https://api.github.com/users/aljoscha","html_url":"https://github.com/aljoscha","followers_url":"https://api.github.com/users/aljoscha/followers","following_url":"https://api.github.com/users/aljoscha/following{/other_user}","gists_url":"https://api.github.com/users/aljoscha/gists{/gist_id}","starred_url":"https://api.github.com/users/aljoscha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aljoscha/subscriptions","organizations_url":"https://api.github.com/users/aljoscha/orgs","repos_url":"https://api.github.com/users/aljoscha/repos","events_url":"https://api.github.com/users/aljoscha/events{/privacy}","received_events_url":"https://api.github.com/users/aljoscha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T12:58:46Z","updated_at":"2017-03-22T12:58:46Z","author_association":"CONTRIBUTOR","body":"@zentol I added a section to our IDE setup Guide.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288390377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288417938","html_url":"https://github.com/apache/flink/pull/3574#issuecomment-288417938","issue_url":"https://api.github.com/repos/apache/flink/issues/3574","id":288417938,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODQxNzkzOA==","user":{"login":"sunjincheng121","id":22488084,"node_id":"MDQ6VXNlcjIyNDg4MDg0","avatar_url":"https://avatars.githubusercontent.com/u/22488084?v=4","gravatar_id":"","url":"https://api.github.com/users/sunjincheng121","html_url":"https://github.com/sunjincheng121","followers_url":"https://api.github.com/users/sunjincheng121/followers","following_url":"https://api.github.com/users/sunjincheng121/following{/other_user}","gists_url":"https://api.github.com/users/sunjincheng121/gists{/gist_id}","starred_url":"https://api.github.com/users/sunjincheng121/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunjincheng121/subscriptions","organizations_url":"https://api.github.com/users/sunjincheng121/orgs","repos_url":"https://api.github.com/users/sunjincheng121/repos","events_url":"https://api.github.com/users/sunjincheng121/events{/privacy}","received_events_url":"https://api.github.com/users/sunjincheng121/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T14:34:45Z","updated_at":"2017-03-22T14:35:21Z","author_association":"MEMBER","body":"Hi, @fhueske @huawei-flink about processing OVER ROW PRECEDING windows  I implemented a version in #3585 .  according to my version of the realization, with 90% similarity. Can you take a look and then discuss together?\r\n\r\nBest,\r\nSunJincheng","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288417938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288422767","html_url":"https://github.com/apache/flink/pull/3583#issuecomment-288422767","issue_url":"https://api.github.com/repos/apache/flink/issues/3583","id":288422767,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODQyMjc2Nw==","user":{"login":"uce","id":1756620,"node_id":"MDQ6VXNlcjE3NTY2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/1756620?v=4","gravatar_id":"","url":"https://api.github.com/users/uce","html_url":"https://github.com/uce","followers_url":"https://api.github.com/users/uce/followers","following_url":"https://api.github.com/users/uce/following{/other_user}","gists_url":"https://api.github.com/users/uce/gists{/gist_id}","starred_url":"https://api.github.com/users/uce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uce/subscriptions","organizations_url":"https://api.github.com/users/uce/orgs","repos_url":"https://api.github.com/users/uce/repos","events_url":"https://api.github.com/users/uce/events{/privacy}","received_events_url":"https://api.github.com/users/uce/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T14:49:45Z","updated_at":"2017-03-22T14:49:45Z","author_association":"CONTRIBUTOR","body":"Thanks for addressing the comments. I'm unsure about the `ErrorInfo` instead of adding the suggested method. Since @tillrohrmann and @StephanEwen often work on the `ExecutionGraph` I would like their input on this.\r\n","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288422767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288424231","html_url":"https://github.com/apache/flink/pull/3583#issuecomment-288424231","issue_url":"https://api.github.com/repos/apache/flink/issues/3583","id":288424231,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODQyNDIzMQ==","user":{"login":"zentol","id":5725237,"node_id":"MDQ6VXNlcjU3MjUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/5725237?v=4","gravatar_id":"","url":"https://api.github.com/users/zentol","html_url":"https://github.com/zentol","followers_url":"https://api.github.com/users/zentol/followers","following_url":"https://api.github.com/users/zentol/following{/other_user}","gists_url":"https://api.github.com/users/zentol/gists{/gist_id}","starred_url":"https://api.github.com/users/zentol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zentol/subscriptions","organizations_url":"https://api.github.com/users/zentol/orgs","repos_url":"https://api.github.com/users/zentol/repos","events_url":"https://api.github.com/users/zentol/events{/privacy}","received_events_url":"https://api.github.com/users/zentol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T14:54:10Z","updated_at":"2017-03-22T14:57:03Z","author_association":"CONTRIBUTOR","body":"The point of the ErrorInfo is to actually enforce that the exception is always set with a timestamp. By only adding a method you enforce nothing, the exception can still be set without a timestamp, voiding the entire purpose of the method which was to prevent these inconsistencies.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288424231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288430467","html_url":"https://github.com/apache/flink/pull/3495#issuecomment-288430467","issue_url":"https://api.github.com/repos/apache/flink/issues/3495","id":288430467,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODQzMDQ2Nw==","user":{"login":"dawidwys","id":6242259,"node_id":"MDQ6VXNlcjYyNDIyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/6242259?v=4","gravatar_id":"","url":"https://api.github.com/users/dawidwys","html_url":"https://github.com/dawidwys","followers_url":"https://api.github.com/users/dawidwys/followers","following_url":"https://api.github.com/users/dawidwys/following{/other_user}","gists_url":"https://api.github.com/users/dawidwys/gists{/gist_id}","starred_url":"https://api.github.com/users/dawidwys/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dawidwys/subscriptions","organizations_url":"https://api.github.com/users/dawidwys/orgs","repos_url":"https://api.github.com/users/dawidwys/repos","events_url":"https://api.github.com/users/dawidwys/events{/privacy}","received_events_url":"https://api.github.com/users/dawidwys/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T15:13:02Z","updated_at":"2017-03-22T15:13:02Z","author_association":"CONTRIBUTOR","body":"Could someone have a look on it? I saw other modules start to migrate to `ConfigOption` so I think would be nice to use it for docs generation.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288430467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288431287","html_url":"https://github.com/apache/flink/pull/3574#issuecomment-288431287","issue_url":"https://api.github.com/repos/apache/flink/issues/3574","id":288431287,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODQzMTI4Nw==","user":{"login":"fhueske","id":2388347,"node_id":"MDQ6VXNlcjIzODgzNDc=","avatar_url":"https://avatars.githubusercontent.com/u/2388347?v=4","gravatar_id":"","url":"https://api.github.com/users/fhueske","html_url":"https://github.com/fhueske","followers_url":"https://api.github.com/users/fhueske/followers","following_url":"https://api.github.com/users/fhueske/following{/other_user}","gists_url":"https://api.github.com/users/fhueske/gists{/gist_id}","starred_url":"https://api.github.com/users/fhueske/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fhueske/subscriptions","organizations_url":"https://api.github.com/users/fhueske/orgs","repos_url":"https://api.github.com/users/fhueske/repos","events_url":"https://api.github.com/users/fhueske/events{/privacy}","received_events_url":"https://api.github.com/users/fhueske/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T15:15:41Z","updated_at":"2017-03-22T15:15:41Z","author_association":"CONTRIBUTOR","body":"Hi @sunjincheng121, I like the idea of using `MapState` because we do not need to deserialize and serialize the Rows when updating the state as in case of a `ValueState` or `ListState` but just the Long timestamps to identify the Row to retract which should be OK.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288431287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288435335","html_url":"https://github.com/apache/flink/pull/3579#issuecomment-288435335","issue_url":"https://api.github.com/repos/apache/flink/issues/3579","id":288435335,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODQzNTMzNQ==","user":{"login":"shaoxuan-wang","id":9400874,"node_id":"MDQ6VXNlcjk0MDA4NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/9400874?v=4","gravatar_id":"","url":"https://api.github.com/users/shaoxuan-wang","html_url":"https://github.com/shaoxuan-wang","followers_url":"https://api.github.com/users/shaoxuan-wang/followers","following_url":"https://api.github.com/users/shaoxuan-wang/following{/other_user}","gists_url":"https://api.github.com/users/shaoxuan-wang/gists{/gist_id}","starred_url":"https://api.github.com/users/shaoxuan-wang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shaoxuan-wang/subscriptions","organizations_url":"https://api.github.com/users/shaoxuan-wang/orgs","repos_url":"https://api.github.com/users/shaoxuan-wang/repos","events_url":"https://api.github.com/users/shaoxuan-wang/events{/privacy}","received_events_url":"https://api.github.com/users/shaoxuan-wang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T15:27:13Z","updated_at":"2017-03-22T15:27:13Z","author_association":"CONTRIBUTOR","body":"@twalthr thanks for the reply and explanation.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288435335/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288439072","html_url":"https://github.com/apache/flink/pull/3592#issuecomment-288439072","issue_url":"https://api.github.com/repos/apache/flink/issues/3592","id":288439072,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODQzOTA3Mg==","user":{"login":"StephanEwen","id":1727146,"node_id":"MDQ6VXNlcjE3MjcxNDY=","avatar_url":"https://avatars.githubusercontent.com/u/1727146?v=4","gravatar_id":"","url":"https://api.github.com/users/StephanEwen","html_url":"https://github.com/StephanEwen","followers_url":"https://api.github.com/users/StephanEwen/followers","following_url":"https://api.github.com/users/StephanEwen/following{/other_user}","gists_url":"https://api.github.com/users/StephanEwen/gists{/gist_id}","starred_url":"https://api.github.com/users/StephanEwen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StephanEwen/subscriptions","organizations_url":"https://api.github.com/users/StephanEwen/orgs","repos_url":"https://api.github.com/users/StephanEwen/repos","events_url":"https://api.github.com/users/StephanEwen/events{/privacy}","received_events_url":"https://api.github.com/users/StephanEwen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T15:37:41Z","updated_at":"2017-03-22T15:37:41Z","author_association":"CONTRIBUTOR","body":"Thanks for the pull request.\r\nThis has actually already been fixed in https://github.com/apache/flink/commit/81a143f6b42cf39d56a36222d14b5db0cc54addb\r\n\r\nThe commit also retains the old key as a deprecated parameter for backwards compatibility.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288439072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288475304","html_url":"https://github.com/apache/flink/pull/3597#issuecomment-288475304","issue_url":"https://api.github.com/repos/apache/flink/issues/3597","id":288475304,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODQ3NTMwNA==","user":{"login":"aljoscha","id":68551,"node_id":"MDQ6VXNlcjY4NTUx","avatar_url":"https://avatars.githubusercontent.com/u/68551?v=4","gravatar_id":"","url":"https://api.github.com/users/aljoscha","html_url":"https://github.com/aljoscha","followers_url":"https://api.github.com/users/aljoscha/followers","following_url":"https://api.github.com/users/aljoscha/following{/other_user}","gists_url":"https://api.github.com/users/aljoscha/gists{/gist_id}","starred_url":"https://api.github.com/users/aljoscha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aljoscha/subscriptions","organizations_url":"https://api.github.com/users/aljoscha/orgs","repos_url":"https://api.github.com/users/aljoscha/repos","events_url":"https://api.github.com/users/aljoscha/events{/privacy}","received_events_url":"https://api.github.com/users/aljoscha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T17:25:15Z","updated_at":"2017-03-22T17:25:15Z","author_association":"CONTRIBUTOR","body":"LGTM!","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288475304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288476782","html_url":"https://github.com/apache/flink/pull/3597#issuecomment-288476782","issue_url":"https://api.github.com/repos/apache/flink/issues/3597","id":288476782,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODQ3Njc4Mg==","user":{"login":"uce","id":1756620,"node_id":"MDQ6VXNlcjE3NTY2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/1756620?v=4","gravatar_id":"","url":"https://api.github.com/users/uce","html_url":"https://github.com/uce","followers_url":"https://api.github.com/users/uce/followers","following_url":"https://api.github.com/users/uce/following{/other_user}","gists_url":"https://api.github.com/users/uce/gists{/gist_id}","starred_url":"https://api.github.com/users/uce/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uce/subscriptions","organizations_url":"https://api.github.com/users/uce/orgs","repos_url":"https://api.github.com/users/uce/repos","events_url":"https://api.github.com/users/uce/events{/privacy}","received_events_url":"https://api.github.com/users/uce/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T17:30:00Z","updated_at":"2017-03-22T17:30:00Z","author_association":"CONTRIBUTOR","body":"Thanks, will merge after Travis gives a green light.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288476782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288485871","html_url":"https://github.com/apache/flink/pull/3587#issuecomment-288485871","issue_url":"https://api.github.com/repos/apache/flink/issues/3587","id":288485871,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODQ4NTg3MQ==","user":{"login":"aljoscha","id":68551,"node_id":"MDQ6VXNlcjY4NTUx","avatar_url":"https://avatars.githubusercontent.com/u/68551?v=4","gravatar_id":"","url":"https://api.github.com/users/aljoscha","html_url":"https://github.com/aljoscha","followers_url":"https://api.github.com/users/aljoscha/followers","following_url":"https://api.github.com/users/aljoscha/following{/other_user}","gists_url":"https://api.github.com/users/aljoscha/gists{/gist_id}","starred_url":"https://api.github.com/users/aljoscha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aljoscha/subscriptions","organizations_url":"https://api.github.com/users/aljoscha/orgs","repos_url":"https://api.github.com/users/aljoscha/repos","events_url":"https://api.github.com/users/aljoscha/events{/privacy}","received_events_url":"https://api.github.com/users/aljoscha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T17:58:30Z","updated_at":"2017-03-22T17:58:30Z","author_association":"CONTRIBUTOR","body":"Thanks for the thorough review, @tzulitai!\r\n\r\nAnd shame over my head for all the code duplication ðŸ˜± \r\n\r\nI now refactored the contract tests into a base class and addressed all the issues that you found (hopefully).\r\n\r\nThe failing `WindowOperatorTest` tests actually discovered a real problem, I wasn't taking the allowed lateness into account when calculating if a merged window would be late. I modified the new tests in in the contract test to verify that we now have the correct behaviour.\r\n\r\nCould you maybe have another look?","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288485871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288500749","html_url":"https://github.com/apache/flink/pull/3515#issuecomment-288500749","issue_url":"https://api.github.com/repos/apache/flink/issues/3515","id":288500749,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODUwMDc0OQ==","user":{"login":"greghogan","id":569655,"node_id":"MDQ6VXNlcjU2OTY1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/569655?v=4","gravatar_id":"","url":"https://api.github.com/users/greghogan","html_url":"https://github.com/greghogan","followers_url":"https://api.github.com/users/greghogan/followers","following_url":"https://api.github.com/users/greghogan/following{/other_user}","gists_url":"https://api.github.com/users/greghogan/gists{/gist_id}","starred_url":"https://api.github.com/users/greghogan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/greghogan/subscriptions","organizations_url":"https://api.github.com/users/greghogan/orgs","repos_url":"https://api.github.com/users/greghogan/repos","events_url":"https://api.github.com/users/greghogan/events{/privacy}","received_events_url":"https://api.github.com/users/greghogan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T18:46:14Z","updated_at":"2017-03-22T18:46:14Z","author_association":"CONTRIBUTOR","body":"Not an issue of spilling memory but at least three elements are required to trigger two reduces and the error condition depends on which value is returned.\r\n\r\n@StephanEwen is this a +1?","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288500749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288507492","html_url":"https://github.com/apache/flink/pull/3587#issuecomment-288507492","issue_url":"https://api.github.com/repos/apache/flink/issues/3587","id":288507492,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODUwNzQ5Mg==","user":{"login":"tzulitai","id":5284370,"node_id":"MDQ6VXNlcjUyODQzNzA=","avatar_url":"https://avatars.githubusercontent.com/u/5284370?v=4","gravatar_id":"","url":"https://api.github.com/users/tzulitai","html_url":"https://github.com/tzulitai","followers_url":"https://api.github.com/users/tzulitai/followers","following_url":"https://api.github.com/users/tzulitai/following{/other_user}","gists_url":"https://api.github.com/users/tzulitai/gists{/gist_id}","starred_url":"https://api.github.com/users/tzulitai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tzulitai/subscriptions","organizations_url":"https://api.github.com/users/tzulitai/orgs","repos_url":"https://api.github.com/users/tzulitai/repos","events_url":"https://api.github.com/users/tzulitai/events{/privacy}","received_events_url":"https://api.github.com/users/tzulitai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T19:09:39Z","updated_at":"2017-03-22T19:09:39Z","author_association":"CONTRIBUTOR","body":"Thanks a lot for addressing my comments @aljoscha!\r\n\r\nThat's so much cleaner now :-D Really like the refactoring in the fixes.\r\nI actually didn't realize the mock stubs and util methods were already in `WindowOperatorContractTest` just looking at the previous diffs :P\r\n\r\nI did one final pass on the changes and didn't find anything. +1 to merge after Travis turns green.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288507492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288523783","html_url":"https://github.com/apache/flink/pull/2252#issuecomment-288523783","issue_url":"https://api.github.com/repos/apache/flink/issues/2252","id":288523783,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODUyMzc4Mw==","user":{"login":"liuml07","id":159186,"node_id":"MDQ6VXNlcjE1OTE4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/159186?v=4","gravatar_id":"","url":"https://api.github.com/users/liuml07","html_url":"https://github.com/liuml07","followers_url":"https://api.github.com/users/liuml07/followers","following_url":"https://api.github.com/users/liuml07/following{/other_user}","gists_url":"https://api.github.com/users/liuml07/gists{/gist_id}","starred_url":"https://api.github.com/users/liuml07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liuml07/subscriptions","organizations_url":"https://api.github.com/users/liuml07/orgs","repos_url":"https://api.github.com/users/liuml07/repos","events_url":"https://api.github.com/users/liuml07/events{/privacy}","received_events_url":"https://api.github.com/users/liuml07/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-22T20:11:01Z","updated_at":"2017-03-22T20:11:01Z","author_association":"MEMBER","body":"Is this related to https://issues.apache.org/jira/browse/HADOOP-14214? Thanks,","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288523783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288593735","html_url":"https://github.com/apache/flink/pull/3595#issuecomment-288593735","issue_url":"https://api.github.com/repos/apache/flink/issues/3595","id":288593735,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODU5MzczNQ==","user":{"login":"wenlong88","id":20785829,"node_id":"MDQ6VXNlcjIwNzg1ODI5","avatar_url":"https://avatars.githubusercontent.com/u/20785829?v=4","gravatar_id":"","url":"https://api.github.com/users/wenlong88","html_url":"https://github.com/wenlong88","followers_url":"https://api.github.com/users/wenlong88/followers","following_url":"https://api.github.com/users/wenlong88/following{/other_user}","gists_url":"https://api.github.com/users/wenlong88/gists{/gist_id}","starred_url":"https://api.github.com/users/wenlong88/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wenlong88/subscriptions","organizations_url":"https://api.github.com/users/wenlong88/orgs","repos_url":"https://api.github.com/users/wenlong88/repos","events_url":"https://api.github.com/users/wenlong88/events{/privacy}","received_events_url":"https://api.github.com/users/wenlong88/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T01:51:40Z","updated_at":"2017-03-23T01:51:40Z","author_association":"CONTRIBUTOR","body":"@greghogan thanks for the review, I have changed the change test to use explicit buffer size.\r\nyou are right that currently there is no dependency on this method. We used the ByteArrayOutputStreamWithPOs in our own scenario and caught the bug.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288593735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288608700","html_url":"https://github.com/apache/flink/pull/3585#issuecomment-288608700","issue_url":"https://api.github.com/repos/apache/flink/issues/3585","id":288608700,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODYwODcwMA==","user":{"login":"sunjincheng121","id":22488084,"node_id":"MDQ6VXNlcjIyNDg4MDg0","avatar_url":"https://avatars.githubusercontent.com/u/22488084?v=4","gravatar_id":"","url":"https://api.github.com/users/sunjincheng121","html_url":"https://github.com/sunjincheng121","followers_url":"https://api.github.com/users/sunjincheng121/followers","following_url":"https://api.github.com/users/sunjincheng121/following{/other_user}","gists_url":"https://api.github.com/users/sunjincheng121/gists{/gist_id}","starred_url":"https://api.github.com/users/sunjincheng121/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunjincheng121/subscriptions","organizations_url":"https://api.github.com/users/sunjincheng121/orgs","repos_url":"https://api.github.com/users/sunjincheng121/repos","events_url":"https://api.github.com/users/sunjincheng121/events{/privacy}","received_events_url":"https://api.github.com/users/sunjincheng121/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T03:39:05Z","updated_at":"2017-03-23T03:58:56Z","author_association":"MEMBER","body":"Hi @fhueske,Thanks a lot for your review. Let me share the views of the registration timers:\r\n\r\nIn our point of view, register timer should be correlated to the event time of the current data, but not currentWaterMark (which is correlated to the event time of the previous datas) . Using the previous event time (`currentWatermark + 1`) to register the timer for current data may cause some problems IMO. I do not have whole lots of counterexamples for now, just intuitively think this is not the correct way. One example I have is: \r\n\r\nData line -> ...               5   7 4   3   2 \r\nWatermark line -> ...  5    4      3   2 1\r\n\r\nIn this case, assuming when watermark is `3`ï¼Œwe get `4` and `7`, then we use ` currentWatermark + 1` to register timer `timer(3+1)` for both `4` and `7`. When watermark goes to `4`ï¼Œtimer `timer(3+1)` be triggered (then `4` and `7` will be emitted). After this, data `5` comes (while the watermark is still `4`), then we register timer `timer(4+1)` for 5. This is incorrect, as we should always ensure data `5` is triggered before data `7`. I run a test case, and printed the results of [event time][currentWatermark] as below. I hope it can help to explain my point.\r\nDatas:\r\n```\r\n(1L, 1, \"Hello\"),\r\n(2L, 2, \"Hello\"),\r\n(4L, 4, \"Hello\"),\r\n(3L, 3, \"Hello\"),\r\n(5L, 3, \"Hello\"),\r\n(7L, 7, \"Hello\"),\r\n(6L, 7, \"Hello\"),\r\n(8L, 8, \"Hello World\"),\r\n(7L, 8, \"Hello\"),\r\n(5L, 5, \"Hello\"),\r\n(20L, 20, \"Hello World\"),\r\n(9L, 9, \"Hello World\"))\r\n```\r\nEvent time of each data & Watermark: (newTS_currentWM[event time][currentWatermark])\r\n```\r\nnewTS_currentWM[1][-9223372036854775808]\r\nnewTS_currentWM[2][-1]\r\nnewTS_currentWM[4][0]\r\nnewTS_currentWM[3][2]\r\nnewTS_currentWM[5][2]\r\nnewTS_currentWM[7][3] // a data with event time 7, it will be registered timer to (3+1)\r\nnewTS_currentWM[6][5] // a data with event time 6, it will be registered timer to (5+1)\r\nnewTS_currentWM[8][5]\r\nnewTS_currentWM[7][6]\r\nnewTS_currentWM[5][6]\r\nnewTS_currentWM[20][6]\r\nnewTS_currentWM[9][18]\r\n```\r\n\r\nAnother important reason of using allowedLateness to configure the watermark in my design is that, in our point of view, watermark is a semantics which is correlated to the stream lateness SLA. User exactly knows the tuple of (SLA, allowedLateness). For instance: \r\n\r\n******************************************\r\nA system which always ensure the order:\r\nSLA(100%) = Watermark(eventTime)\r\n******************************************\r\nFor flink system process out of order data, and user have different watermarks indicating different SLA levels:\r\n (SLA, allowedLateness) = Watermark(eventTime - allowedLateness)\r\n (SLA(80%), 0) = Watermark(eventTime)\r\n (SLA(90%), 2)  = Watermark(eventTime - 2)\r\n (SLA(95%), 5)  = Watermark(eventTime - 5)\r\n\r\nWe want to keep the interface to let user configure the allowedLateness(AssignerWithPeriodicWatermarks|AssignerWithPunctuatedWatermarks), thereby the correlated SLA. \r\n\r\nWhat do you think ?\r\nThanks,\r\nSunJincheng","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288608700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288613419","html_url":"https://github.com/apache/flink/pull/3599#issuecomment-288613419","issue_url":"https://api.github.com/repos/apache/flink/issues/3599","id":288613419,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODYxMzQxOQ==","user":{"login":"wenlong88","id":20785829,"node_id":"MDQ6VXNlcjIwNzg1ODI5","avatar_url":"https://avatars.githubusercontent.com/u/20785829?v=4","gravatar_id":"","url":"https://api.github.com/users/wenlong88","html_url":"https://github.com/wenlong88","followers_url":"https://api.github.com/users/wenlong88/followers","following_url":"https://api.github.com/users/wenlong88/following{/other_user}","gists_url":"https://api.github.com/users/wenlong88/gists{/gist_id}","starred_url":"https://api.github.com/users/wenlong88/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wenlong88/subscriptions","organizations_url":"https://api.github.com/users/wenlong88/orgs","repos_url":"https://api.github.com/users/wenlong88/repos","events_url":"https://api.github.com/users/wenlong88/events{/privacy}","received_events_url":"https://api.github.com/users/wenlong88/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T04:20:48Z","updated_at":"2017-03-23T04:20:48Z","author_association":"CONTRIBUTOR","body":"Hi, @WangTaoTheTonic I think we can improve the reaction of ZookeeperLeaderElectionService on zookeeper connection expired or other errors instead of introducing the AlwaysLeaderService such as adding a retry before revoking leadership, because when the problem is caused by errors on the machine which JM is running on, we need to trigger a failover to make the JM change a machine. \r\nOn the other hand, in the coming FLIP-6 implementation, JM failover will not trigger cancelling all running tasks.\r\n","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288613419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288614747","html_url":"https://github.com/apache/flink/pull/3574#issuecomment-288614747","issue_url":"https://api.github.com/repos/apache/flink/issues/3574","id":288614747,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODYxNDc0Nw==","user":{"login":"sunjincheng121","id":22488084,"node_id":"MDQ6VXNlcjIyNDg4MDg0","avatar_url":"https://avatars.githubusercontent.com/u/22488084?v=4","gravatar_id":"","url":"https://api.github.com/users/sunjincheng121","html_url":"https://github.com/sunjincheng121","followers_url":"https://api.github.com/users/sunjincheng121/followers","following_url":"https://api.github.com/users/sunjincheng121/following{/other_user}","gists_url":"https://api.github.com/users/sunjincheng121/gists{/gist_id}","starred_url":"https://api.github.com/users/sunjincheng121/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunjincheng121/subscriptions","organizations_url":"https://api.github.com/users/sunjincheng121/orgs","repos_url":"https://api.github.com/users/sunjincheng121/repos","events_url":"https://api.github.com/users/sunjincheng121/events{/privacy}","received_events_url":"https://api.github.com/users/sunjincheng121/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T04:32:52Z","updated_at":"2017-03-23T04:32:52Z","author_association":"MEMBER","body":"Hi, @fhueske Sounds good. ","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288614747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288634679","html_url":"https://github.com/apache/flink/pull/3599#issuecomment-288634679","issue_url":"https://api.github.com/repos/apache/flink/issues/3599","id":288634679,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODYzNDY3OQ==","user":{"login":"WangTaoTheTonic","id":5276001,"node_id":"MDQ6VXNlcjUyNzYwMDE=","avatar_url":"https://avatars.githubusercontent.com/u/5276001?v=4","gravatar_id":"","url":"https://api.github.com/users/WangTaoTheTonic","html_url":"https://github.com/WangTaoTheTonic","followers_url":"https://api.github.com/users/WangTaoTheTonic/followers","following_url":"https://api.github.com/users/WangTaoTheTonic/following{/other_user}","gists_url":"https://api.github.com/users/WangTaoTheTonic/gists{/gist_id}","starred_url":"https://api.github.com/users/WangTaoTheTonic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WangTaoTheTonic/subscriptions","organizations_url":"https://api.github.com/users/WangTaoTheTonic/orgs","repos_url":"https://api.github.com/users/WangTaoTheTonic/repos","events_url":"https://api.github.com/users/WangTaoTheTonic/events{/privacy}","received_events_url":"https://api.github.com/users/WangTaoTheTonic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T07:07:13Z","updated_at":"2017-03-23T07:07:13Z","author_association":"CONTRIBUTOR","body":"Thanks for your comments @wenlong88 .\r\n\r\nI also gave a thought about adding retry logic when zk failover, but this part should modify `LeaderLatch` in curator, which is a 3rd party library, or we can only add a our private LeaderLatch through coping most parts of the implementation in curator.\r\n\r\nEven with adding this AlwaysLeaderService, the JM failover can also go well as RM will start a new instance.\r\n\r\nabout FLIP-6, I'll check the solution and find if anything can help with this :)","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288634679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288640007","html_url":"https://github.com/apache/flink/pull/3585#issuecomment-288640007","issue_url":"https://api.github.com/repos/apache/flink/issues/3585","id":288640007,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODY0MDAwNw==","user":{"login":"fhueske","id":2388347,"node_id":"MDQ6VXNlcjIzODgzNDc=","avatar_url":"https://avatars.githubusercontent.com/u/2388347?v=4","gravatar_id":"","url":"https://api.github.com/users/fhueske","html_url":"https://github.com/fhueske","followers_url":"https://api.github.com/users/fhueske/followers","following_url":"https://api.github.com/users/fhueske/following{/other_user}","gists_url":"https://api.github.com/users/fhueske/gists{/gist_id}","starred_url":"https://api.github.com/users/fhueske/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fhueske/subscriptions","organizations_url":"https://api.github.com/users/fhueske/orgs","repos_url":"https://api.github.com/users/fhueske/repos","events_url":"https://api.github.com/users/fhueske/events{/privacy}","received_events_url":"https://api.github.com/users/fhueske/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T07:39:54Z","updated_at":"2017-03-23T07:39:54Z","author_association":"CONTRIBUTOR","body":"I think you can do exactly the same with both approaches, but a single timer has the benefit of reduced overhead. If you have records `(id, ts)`\r\n\r\n```\r\n(1, 1), (2, 2), (3, 5), WM 4, (4, 7), (5, 10), (6, 6), WM 8\r\n```\r\n\r\nUsing timestamp timers would result in\r\n```\r\nprocessElement((1,1))\r\nprocessElement((2,2))\r\nprocessElement((3,5))\r\nonTimer(1)\r\nonTimer(2)\r\nprocessElement((4,7))\r\nprocessElement((5,10))\r\nprocessElement((6,6))\r\nonTimer(5)\r\nonTimer(6)\r\nonTimer(7)\r\n```\r\n\r\nWhere `onTimer(1)` and `onTimer(2)` (or `onTimer(5)`, `onTimer(6)`, and `onTimer(7)`) could share the access to the `MapState`\r\n\r\nUsing a single watermark timer we would have\r\n```\r\nprocessElement((1,1))\r\nprocessElement((2,2))\r\nprocessElement((3,5))\r\nonTimer(_) // emit all records with ts < current watermark (= 4): (1,1) and (2,2)\r\nprocessElement((4,7))\r\nprocessElement((5,10))\r\nprocessElement((6,6))\r\nonTimer(_) // emit all records with ts < current watermark (= 8): (3,5), (6,6), (4,7)\r\n```\r\n\r\nSince we can check against the current watermark also in this case, we can avoid to emit records too early. It should also be possible integrate an allowed lateness parameter into this approach in the future. \r\nThe benefit of processing multiple rows (for different timestamps) by a single `onTimer()` call is that we can iterate the list of `Long` keys just once.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288640007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288646109","html_url":"https://github.com/apache/flink/pull/3574#issuecomment-288646109","issue_url":"https://api.github.com/repos/apache/flink/issues/3574","id":288646109,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODY0NjEwOQ==","user":{"login":"fhueske","id":2388347,"node_id":"MDQ6VXNlcjIzODgzNDc=","avatar_url":"https://avatars.githubusercontent.com/u/2388347?v=4","gravatar_id":"","url":"https://api.github.com/users/fhueske","html_url":"https://github.com/fhueske","followers_url":"https://api.github.com/users/fhueske/followers","following_url":"https://api.github.com/users/fhueske/following{/other_user}","gists_url":"https://api.github.com/users/fhueske/gists{/gist_id}","starred_url":"https://api.github.com/users/fhueske/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fhueske/subscriptions","organizations_url":"https://api.github.com/users/fhueske/orgs","repos_url":"https://api.github.com/users/fhueske/repos","events_url":"https://api.github.com/users/fhueske/events{/privacy}","received_events_url":"https://api.github.com/users/fhueske/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T08:14:04Z","updated_at":"2017-03-23T08:14:04Z","author_association":"CONTRIBUTOR","body":"Hi @huawei-flink, let me explain the idea of using `MapState` and its benefits in more detail.\r\n\r\nI'll start with the way that a `ListState` works. With `ListState` we can get efficient access to the head element of the list. However, when updating the `ListState`, we cannot remove individual elements but have to clear the complete state and reinsert all elements that should remain. Hence we always need to deserialize and serialize all elements of a `ListState`.\r\n\r\nWith the `MapState` approach, we would put the elements in a map which is keyed on their processing timestamp. Since multiple records can arrive within the same millisecond, we use a `List[Row]` as value type for the map. To process a new row, we have to find the \"oldest\" row (i.e., the one with the smallest timestamp) to retract it from the accumulator. With `ListState` this is trivial, it is the head element. With `MapState` we have to iterate over the keys and find the smallest one (smallest processing timestamp). This requires to deserialize all keys, but these are only `Long` values and not complete rows. With the smallest key, we can get the `List[Row]` value and take the first Row from the list and retract it from the accumulator. When updating the state, we only update the `List[Row]` value of the smallest key (or possible remove it if the `List[Row]` became empty).\r\n\r\nSo the benefit of using `MapState` of `ListState` is that we only read `n` Long (+ read/write 1 `List[Row]`) instead of reading and writing `n` Row values.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288646109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288651626","html_url":"https://github.com/apache/flink/pull/3590#issuecomment-288651626","issue_url":"https://api.github.com/repos/apache/flink/issues/3590","id":288651626,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODY1MTYyNg==","user":{"login":"rtudoran","id":16573790,"node_id":"MDQ6VXNlcjE2NTczNzkw","avatar_url":"https://avatars.githubusercontent.com/u/16573790?v=4","gravatar_id":"","url":"https://api.github.com/users/rtudoran","html_url":"https://github.com/rtudoran","followers_url":"https://api.github.com/users/rtudoran/followers","following_url":"https://api.github.com/users/rtudoran/following{/other_user}","gists_url":"https://api.github.com/users/rtudoran/gists{/gist_id}","starred_url":"https://api.github.com/users/rtudoran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rtudoran/subscriptions","organizations_url":"https://api.github.com/users/rtudoran/orgs","repos_url":"https://api.github.com/users/rtudoran/repos","events_url":"https://api.github.com/users/rtudoran/events{/privacy}","received_events_url":"https://api.github.com/users/rtudoran/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T08:40:32Z","updated_at":"2017-03-23T08:40:32Z","author_association":"CONTRIBUTOR","body":"@fhueske @sunjincheng121 \r\nI have done another commit (actually i did it last evening but the network of the machine was down and did not push it). What i did was:\r\n1)address the formatting issues (i hope i did not miss (too) many)\r\n2) added some new tests including for processingtime. I did not find the reference to what @fhueske mentioned but i created a custom source that emits events 1 second apart. This gives us a good framework about events arriving with processing time 1 second apart, so we can run any tests and validate. I think this is quite relevant\r\n3) I did update the processing functions. However, i am still using the ValueState[Queue[JTuple2[Long,Row]]]= _ for buffering the events. As per my previosu mentioning - i strongly believe this is a better approach. Having the events sorted by their order is an advantage that we should not loose. Otherwise we will pay a high price later (sorting, limit, top, distinct...). We pay some price for serialziation, but as we do this over a full object it should be relatively ok rather than serializing independent objects (like in hash map...IMHO)\r\n4) I kept the partitioned/non partitioned cases separately ... as per initial argument of Fabian (i think it is worth paying the price of having an extra class) not to add extra operators that need to be maintained, dedicate resource, monitored for liveness and redeploy in case of failures.\r\n","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288651626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288651721","html_url":"https://github.com/apache/flink/pull/3600#issuecomment-288651721","issue_url":"https://api.github.com/repos/apache/flink/issues/3600","id":288651721,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODY1MTcyMQ==","user":{"login":"zhengcanbin","id":26545140,"node_id":"MDQ6VXNlcjI2NTQ1MTQw","avatar_url":"https://avatars.githubusercontent.com/u/26545140?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengcanbin","html_url":"https://github.com/zhengcanbin","followers_url":"https://api.github.com/users/zhengcanbin/followers","following_url":"https://api.github.com/users/zhengcanbin/following{/other_user}","gists_url":"https://api.github.com/users/zhengcanbin/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengcanbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengcanbin/subscriptions","organizations_url":"https://api.github.com/users/zhengcanbin/orgs","repos_url":"https://api.github.com/users/zhengcanbin/repos","events_url":"https://api.github.com/users/zhengcanbin/events{/privacy}","received_events_url":"https://api.github.com/users/zhengcanbin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T08:40:59Z","updated_at":"2017-03-23T08:40:59Z","author_association":"CONTRIBUTOR","body":"Hi, this patch works and passes all tests on my side, but now all checks have failed, I check all the five raw logs, obviously those errors are not from my side.\r\n![image](https://cloud.githubusercontent.com/assets/26545140/24238979/167209d4-0fe7-11e7-9e58-8e556ba793ba.png)\r\n\r\n![image](https://cloud.githubusercontent.com/assets/26545140/24238993/23a546a2-0fe7-11e7-8620-3de1de103b26.png)\r\n\r\n![image](https://cloud.githubusercontent.com/assets/26545140/24239009/2c6770da-0fe7-11e7-877c-bb53f2f53758.png)\r\n\r\nI found it's so hard to pass the CI build, is there something wrong with the servers?\r\nWho can help look over?","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288651721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288664327","html_url":"https://github.com/apache/flink/pull/3338#issuecomment-288664327","issue_url":"https://api.github.com/repos/apache/flink/issues/3338","id":288664327,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODY2NDMyNw==","user":{"login":"docete","id":59622,"node_id":"MDQ6VXNlcjU5NjIy","avatar_url":"https://avatars.githubusercontent.com/u/59622?v=4","gravatar_id":"","url":"https://api.github.com/users/docete","html_url":"https://github.com/docete","followers_url":"https://api.github.com/users/docete/followers","following_url":"https://api.github.com/users/docete/following{/other_user}","gists_url":"https://api.github.com/users/docete/gists{/gist_id}","starred_url":"https://api.github.com/users/docete/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/docete/subscriptions","organizations_url":"https://api.github.com/users/docete/orgs","repos_url":"https://api.github.com/users/docete/repos","events_url":"https://api.github.com/users/docete/events{/privacy}","received_events_url":"https://api.github.com/users/docete/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T09:35:05Z","updated_at":"2017-03-23T09:35:05Z","author_association":"CONTRIBUTOR","body":"@wuchong @haohui Could u help to check FLINK-6173 ?","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288664327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288666163","html_url":"https://github.com/apache/flink/pull/3599#issuecomment-288666163","issue_url":"https://api.github.com/repos/apache/flink/issues/3599","id":288666163,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODY2NjE2Mw==","user":{"login":"wenlong88","id":20785829,"node_id":"MDQ6VXNlcjIwNzg1ODI5","avatar_url":"https://avatars.githubusercontent.com/u/20785829?v=4","gravatar_id":"","url":"https://api.github.com/users/wenlong88","html_url":"https://github.com/wenlong88","followers_url":"https://api.github.com/users/wenlong88/followers","following_url":"https://api.github.com/users/wenlong88/following{/other_user}","gists_url":"https://api.github.com/users/wenlong88/gists{/gist_id}","starred_url":"https://api.github.com/users/wenlong88/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wenlong88/subscriptions","organizations_url":"https://api.github.com/users/wenlong88/orgs","repos_url":"https://api.github.com/users/wenlong88/repos","events_url":"https://api.github.com/users/wenlong88/events{/privacy}","received_events_url":"https://api.github.com/users/wenlong88/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T09:42:35Z","updated_at":"2017-03-23T09:43:02Z","author_association":"CONTRIBUTOR","body":"Hi, I may have described my concern wrongly in the last comment, my concern is that in yarn it is possible that two application master running at the same time: \r\n\r\neg: \r\nRM launches a AM and then the machine lost connection with RM by some reason, RM will launch another AM. It is possible that the first AM will be still running when launching the second AM in some scenario like NM heartbeat timeout but running.\r\n\r\nWhen it is possible that there are two AM running at the same time, we may go into a dead lock using the AlwaysLeaderService as follows: \r\n1. the first AM grant leadership\r\n2. the second AM grant leadership\r\n3. the second AM write leader info\r\n4. the first AM write leader info\r\n5. the first AM killed by NM or some cluster monitor tool since RM marked NM as unavailable.\r\n","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288666163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288666471","html_url":"https://github.com/apache/flink/pull/3562#issuecomment-288666471","issue_url":"https://api.github.com/repos/apache/flink/issues/3562","id":288666471,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODY2NjQ3MQ==","user":{"login":"tzulitai","id":5284370,"node_id":"MDQ6VXNlcjUyODQzNzA=","avatar_url":"https://avatars.githubusercontent.com/u/5284370?v=4","gravatar_id":"","url":"https://api.github.com/users/tzulitai","html_url":"https://github.com/tzulitai","followers_url":"https://api.github.com/users/tzulitai/followers","following_url":"https://api.github.com/users/tzulitai/following{/other_user}","gists_url":"https://api.github.com/users/tzulitai/gists{/gist_id}","starred_url":"https://api.github.com/users/tzulitai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tzulitai/subscriptions","organizations_url":"https://api.github.com/users/tzulitai/orgs","repos_url":"https://api.github.com/users/tzulitai/repos","events_url":"https://api.github.com/users/tzulitai/events{/privacy}","received_events_url":"https://api.github.com/users/tzulitai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T09:43:46Z","updated_at":"2017-03-23T09:43:46Z","author_association":"CONTRIBUTOR","body":"Here's my follow-up fixes for this: https://github.com/tzulitai/flink/tree/FLINK-6018\r\n\r\nIt also includes a rebase for the merge conflict + test fixes.\r\nWe can continue with this after Aljoscha comes back from vacation :)","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288666471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288674776","html_url":"https://github.com/apache/flink/pull/3585#issuecomment-288674776","issue_url":"https://api.github.com/repos/apache/flink/issues/3585","id":288674776,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODY3NDc3Ng==","user":{"login":"sunjincheng121","id":22488084,"node_id":"MDQ6VXNlcjIyNDg4MDg0","avatar_url":"https://avatars.githubusercontent.com/u/22488084?v=4","gravatar_id":"","url":"https://api.github.com/users/sunjincheng121","html_url":"https://github.com/sunjincheng121","followers_url":"https://api.github.com/users/sunjincheng121/followers","following_url":"https://api.github.com/users/sunjincheng121/following{/other_user}","gists_url":"https://api.github.com/users/sunjincheng121/gists{/gist_id}","starred_url":"https://api.github.com/users/sunjincheng121/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunjincheng121/subscriptions","organizations_url":"https://api.github.com/users/sunjincheng121/orgs","repos_url":"https://api.github.com/users/sunjincheng121/repos","events_url":"https://api.github.com/users/sunjincheng121/events{/privacy}","received_events_url":"https://api.github.com/users/sunjincheng121/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T10:17:57Z","updated_at":"2017-03-23T10:17:57Z","author_association":"MEMBER","body":"Hi @fhueske I had updated the PR. and move the `processing time OVER ROWS BETWEEN x PRECEDING` part(RowsClauseProcessingBoundedOverProcessFunction) to [Here](https://github.com/sunjincheng121/flink/blob/FLINK-5990-ForFLINK-5653/flink-libraries/flink-table/src/main/scala/org/apache/flink/table/runtime/aggregate/RowsClauseProcessingBoundedOverProcessFunction.scala)\r\nThanks,\r\nSunJincheng","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288674776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288684682","html_url":"https://github.com/apache/flink/pull/3573#issuecomment-288684682","issue_url":"https://api.github.com/repos/apache/flink/issues/3573","id":288684682,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODY4NDY4Mg==","user":{"login":"tillrohrmann","id":5756858,"node_id":"MDQ6VXNlcjU3NTY4NTg=","avatar_url":"https://avatars.githubusercontent.com/u/5756858?v=4","gravatar_id":"","url":"https://api.github.com/users/tillrohrmann","html_url":"https://github.com/tillrohrmann","followers_url":"https://api.github.com/users/tillrohrmann/followers","following_url":"https://api.github.com/users/tillrohrmann/following{/other_user}","gists_url":"https://api.github.com/users/tillrohrmann/gists{/gist_id}","starred_url":"https://api.github.com/users/tillrohrmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tillrohrmann/subscriptions","organizations_url":"https://api.github.com/users/tillrohrmann/orgs","repos_url":"https://api.github.com/users/tillrohrmann/repos","events_url":"https://api.github.com/users/tillrohrmann/events{/privacy}","received_events_url":"https://api.github.com/users/tillrohrmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T11:00:57Z","updated_at":"2017-03-23T11:00:57Z","author_association":"CONTRIBUTOR","body":"Thanks for the review @zentol.\r\n\r\nI think it's ok to close the query service in the `shutdown` method. If it later should turn out to be a disadvantage, we can still change it.\r\n\r\nAfter addressing your comments, I'll merge the PR.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288684682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288685074","html_url":"https://github.com/apache/flink/pull/3590#issuecomment-288685074","issue_url":"https://api.github.com/repos/apache/flink/issues/3590","id":288685074,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODY4NTA3NA==","user":{"login":"fhueske","id":2388347,"node_id":"MDQ6VXNlcjIzODgzNDc=","avatar_url":"https://avatars.githubusercontent.com/u/2388347?v=4","gravatar_id":"","url":"https://api.github.com/users/fhueske","html_url":"https://github.com/fhueske","followers_url":"https://api.github.com/users/fhueske/followers","following_url":"https://api.github.com/users/fhueske/following{/other_user}","gists_url":"https://api.github.com/users/fhueske/gists{/gist_id}","starred_url":"https://api.github.com/users/fhueske/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fhueske/subscriptions","organizations_url":"https://api.github.com/users/fhueske/orgs","repos_url":"https://api.github.com/users/fhueske/repos","events_url":"https://api.github.com/users/fhueske/events{/privacy}","received_events_url":"https://api.github.com/users/fhueske/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T11:02:38Z","updated_at":"2017-03-23T11:02:38Z","author_association":"CONTRIBUTOR","body":"Thanks for the update @rtudoran. I haven't looked at the changes yet. Just a few general remarks to your comments:\r\n\r\n1. thanks!\r\n2. we do not use tests which are based on manual timing of operations. These tests are typically very fragile and take a lot of time. The test harness I was pointing to solves this issue by controlling the processing time service of the ProcessFunction, i.e., we can control the time. See how  [WindowOperatorTest#testProcessingTimeTumblingWindows()](https://github.com/apache/flink/blob/master/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/operators/windowing/WindowOperatorTest.java#L1080) controls processing time using the [KeyedOneInputStreamOperatorTestHarness]( https://github.com/apache/flink/blob/master/flink-streaming-java/src/test/java/org/apache/flink/streaming/util/KeyedOneInputStreamOperatorTestHarness.java).\r\n3. Using `ValueState` has the overhead of always serializing and deserializing all data. The actual access inside the deserialized data is probably much less of an issue than the de/serialization + object instantiations itself. With `MapState` we can get ordered access to elements by accessing only the `Long` keys. This will also help for the operations you mentioned.\r\n4. In order to use `MapState` we would need to use the `NullByteKeyExtractor` approach, since non-keyed operators only support `ListState`\r\n\r\nBest, Fabian","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288685074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288690260","html_url":"https://github.com/apache/flink/pull/3409#issuecomment-288690260","issue_url":"https://api.github.com/repos/apache/flink/issues/3409","id":288690260,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODY5MDI2MA==","user":{"login":"beyond1920","id":1525333,"node_id":"MDQ6VXNlcjE1MjUzMzM=","avatar_url":"https://avatars.githubusercontent.com/u/1525333?v=4","gravatar_id":"","url":"https://api.github.com/users/beyond1920","html_url":"https://github.com/beyond1920","followers_url":"https://api.github.com/users/beyond1920/followers","following_url":"https://api.github.com/users/beyond1920/following{/other_user}","gists_url":"https://api.github.com/users/beyond1920/gists{/gist_id}","starred_url":"https://api.github.com/users/beyond1920/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beyond1920/subscriptions","organizations_url":"https://api.github.com/users/beyond1920/orgs","repos_url":"https://api.github.com/users/beyond1920/repos","events_url":"https://api.github.com/users/beyond1920/events{/privacy}","received_events_url":"https://api.github.com/users/beyond1920/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T11:27:24Z","updated_at":"2017-03-23T11:27:24Z","author_association":"CONTRIBUTOR","body":"@fhueske @twalthr , thanks for the reviews. I've updated the pr based on your comments.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288690260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288703796","html_url":"https://github.com/apache/flink/pull/3269#issuecomment-288703796","issue_url":"https://api.github.com/repos/apache/flink/issues/3269","id":288703796,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODcwMzc5Ng==","user":{"login":"tonycox","id":15128562,"node_id":"MDQ6VXNlcjE1MTI4NTYy","avatar_url":"https://avatars.githubusercontent.com/u/15128562?v=4","gravatar_id":"","url":"https://api.github.com/users/tonycox","html_url":"https://github.com/tonycox","followers_url":"https://api.github.com/users/tonycox/followers","following_url":"https://api.github.com/users/tonycox/following{/other_user}","gists_url":"https://api.github.com/users/tonycox/gists{/gist_id}","starred_url":"https://api.github.com/users/tonycox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonycox/subscriptions","organizations_url":"https://api.github.com/users/tonycox/orgs","repos_url":"https://api.github.com/users/tonycox/repos","events_url":"https://api.github.com/users/tonycox/events{/privacy}","received_events_url":"https://api.github.com/users/tonycox/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T12:30:01Z","updated_at":"2017-03-23T12:30:01Z","author_association":"CONTRIBUTOR","body":"@fhueske What dou you think about this PR?","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288703796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288706615","html_url":"https://github.com/apache/flink/pull/3386#issuecomment-288706615","issue_url":"https://api.github.com/repos/apache/flink/issues/3386","id":288706615,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODcwNjYxNQ==","user":{"login":"hongyuhong","id":19420932,"node_id":"MDQ6VXNlcjE5NDIwOTMy","avatar_url":"https://avatars.githubusercontent.com/u/19420932?v=4","gravatar_id":"","url":"https://api.github.com/users/hongyuhong","html_url":"https://github.com/hongyuhong","followers_url":"https://api.github.com/users/hongyuhong/followers","following_url":"https://api.github.com/users/hongyuhong/following{/other_user}","gists_url":"https://api.github.com/users/hongyuhong/gists{/gist_id}","starred_url":"https://api.github.com/users/hongyuhong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hongyuhong/subscriptions","organizations_url":"https://api.github.com/users/hongyuhong/orgs","repos_url":"https://api.github.com/users/hongyuhong/repos","events_url":"https://api.github.com/users/hongyuhong/events{/privacy}","received_events_url":"https://api.github.com/users/hongyuhong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T12:42:34Z","updated_at":"2017-03-23T12:42:34Z","author_association":"CONTRIBUTOR","body":"Hi, @fhueske , i have updated the pr. Thanks very much.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288706615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288707642","html_url":"https://github.com/apache/flink/pull/3601#issuecomment-288707642","issue_url":"https://api.github.com/repos/apache/flink/issues/3601","id":288707642,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODcwNzY0Mg==","user":{"login":"zentol","id":5725237,"node_id":"MDQ6VXNlcjU3MjUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/5725237?v=4","gravatar_id":"","url":"https://api.github.com/users/zentol","html_url":"https://github.com/zentol","followers_url":"https://api.github.com/users/zentol/followers","following_url":"https://api.github.com/users/zentol/following{/other_user}","gists_url":"https://api.github.com/users/zentol/gists{/gist_id}","starred_url":"https://api.github.com/users/zentol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zentol/subscriptions","organizations_url":"https://api.github.com/users/zentol/orgs","repos_url":"https://api.github.com/users/zentol/repos","events_url":"https://api.github.com/users/zentol/events{/privacy}","received_events_url":"https://api.github.com/users/zentol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T12:47:11Z","updated_at":"2017-03-23T12:47:11Z","author_association":"CONTRIBUTOR","body":"@uce @StephanEwen You might be interested in this.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288707642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288707898","html_url":"https://github.com/apache/flink/pull/3477#issuecomment-288707898","issue_url":"https://api.github.com/repos/apache/flink/issues/3477","id":288707898,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODcwNzg5OA==","user":{"login":"kl0u","id":2405800,"node_id":"MDQ6VXNlcjI0MDU4MDA=","avatar_url":"https://avatars.githubusercontent.com/u/2405800?v=4","gravatar_id":"","url":"https://api.github.com/users/kl0u","html_url":"https://github.com/kl0u","followers_url":"https://api.github.com/users/kl0u/followers","following_url":"https://api.github.com/users/kl0u/following{/other_user}","gists_url":"https://api.github.com/users/kl0u/gists{/gist_id}","starred_url":"https://api.github.com/users/kl0u/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kl0u/subscriptions","organizations_url":"https://api.github.com/users/kl0u/orgs","repos_url":"https://api.github.com/users/kl0u/repos","events_url":"https://api.github.com/users/kl0u/events{/privacy}","received_events_url":"https://api.github.com/users/kl0u/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T12:48:17Z","updated_at":"2017-03-23T12:48:17Z","author_association":"CONTRIBUTOR","body":"Merged this! Thanks for the work @dawidwys. \r\nCan you close this PR and the JIRA?","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288707898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288708582","html_url":"https://github.com/apache/flink/pull/3477#issuecomment-288708582","issue_url":"https://api.github.com/repos/apache/flink/issues/3477","id":288708582,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODcwODU4Mg==","user":{"login":"dawidwys","id":6242259,"node_id":"MDQ6VXNlcjYyNDIyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/6242259?v=4","gravatar_id":"","url":"https://api.github.com/users/dawidwys","html_url":"https://github.com/dawidwys","followers_url":"https://api.github.com/users/dawidwys/followers","following_url":"https://api.github.com/users/dawidwys/following{/other_user}","gists_url":"https://api.github.com/users/dawidwys/gists{/gist_id}","starred_url":"https://api.github.com/users/dawidwys/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dawidwys/subscriptions","organizations_url":"https://api.github.com/users/dawidwys/orgs","repos_url":"https://api.github.com/users/dawidwys/repos","events_url":"https://api.github.com/users/dawidwys/events{/privacy}","received_events_url":"https://api.github.com/users/dawidwys/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T12:51:09Z","updated_at":"2017-03-23T12:51:09Z","author_association":"CONTRIBUTOR","body":"Great! Thanks for your help @kl0u !","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288708582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288710130","html_url":"https://github.com/apache/flink/pull/3591#issuecomment-288710130","issue_url":"https://api.github.com/repos/apache/flink/issues/3591","id":288710130,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODcxMDEzMA==","user":{"login":"tillrohrmann","id":5756858,"node_id":"MDQ6VXNlcjU3NTY4NTg=","avatar_url":"https://avatars.githubusercontent.com/u/5756858?v=4","gravatar_id":"","url":"https://api.github.com/users/tillrohrmann","html_url":"https://github.com/tillrohrmann","followers_url":"https://api.github.com/users/tillrohrmann/followers","following_url":"https://api.github.com/users/tillrohrmann/following{/other_user}","gists_url":"https://api.github.com/users/tillrohrmann/gists{/gist_id}","starred_url":"https://api.github.com/users/tillrohrmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tillrohrmann/subscriptions","organizations_url":"https://api.github.com/users/tillrohrmann/orgs","repos_url":"https://api.github.com/users/tillrohrmann/repos","events_url":"https://api.github.com/users/tillrohrmann/events{/privacy}","received_events_url":"https://api.github.com/users/tillrohrmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T12:57:01Z","updated_at":"2017-03-23T12:57:01Z","author_association":"CONTRIBUTOR","body":"Thanks for your contribution @zhijiangW. Merging this PR.","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288710130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288713565","html_url":"https://github.com/apache/flink/pull/3590#issuecomment-288713565","issue_url":"https://api.github.com/repos/apache/flink/issues/3590","id":288713565,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODcxMzU2NQ==","user":{"login":"rtudoran","id":16573790,"node_id":"MDQ6VXNlcjE2NTczNzkw","avatar_url":"https://avatars.githubusercontent.com/u/16573790?v=4","gravatar_id":"","url":"https://api.github.com/users/rtudoran","html_url":"https://github.com/rtudoran","followers_url":"https://api.github.com/users/rtudoran/followers","following_url":"https://api.github.com/users/rtudoran/following{/other_user}","gists_url":"https://api.github.com/users/rtudoran/gists{/gist_id}","starred_url":"https://api.github.com/users/rtudoran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rtudoran/subscriptions","organizations_url":"https://api.github.com/users/rtudoran/orgs","repos_url":"https://api.github.com/users/rtudoran/repos","events_url":"https://api.github.com/users/rtudoran/events{/privacy}","received_events_url":"https://api.github.com/users/rtudoran/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T13:10:44Z","updated_at":"2017-03-23T13:10:44Z","author_association":"CONTRIBUTOR","body":"@fhueske\r\nNow what?...reimplementation again or it is ok to keep this in this way...at least for us/our scenarios  it would make sense like this\r\nAlso are you doing a review?","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288713565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288715547","html_url":"https://github.com/apache/flink/pull/3127#issuecomment-288715547","issue_url":"https://api.github.com/repos/apache/flink/issues/3127","id":288715547,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODcxNTU0Nw==","user":{"login":"tonycox","id":15128562,"node_id":"MDQ6VXNlcjE1MTI4NTYy","avatar_url":"https://avatars.githubusercontent.com/u/15128562?v=4","gravatar_id":"","url":"https://api.github.com/users/tonycox","html_url":"https://github.com/tonycox","followers_url":"https://api.github.com/users/tonycox/followers","following_url":"https://api.github.com/users/tonycox/following{/other_user}","gists_url":"https://api.github.com/users/tonycox/gists{/gist_id}","starred_url":"https://api.github.com/users/tonycox/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tonycox/subscriptions","organizations_url":"https://api.github.com/users/tonycox/orgs","repos_url":"https://api.github.com/users/tonycox/repos","events_url":"https://api.github.com/users/tonycox/events{/privacy}","received_events_url":"https://api.github.com/users/tonycox/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T13:17:28Z","updated_at":"2017-03-23T13:17:28Z","author_association":"CONTRIBUTOR","body":"@StephanEwen I fixed","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288715547/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288717970","html_url":"https://github.com/apache/flink/pull/3564#issuecomment-288717970","issue_url":"https://api.github.com/repos/apache/flink/issues/3564","id":288717970,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODcxNzk3MA==","user":{"login":"fhueske","id":2388347,"node_id":"MDQ6VXNlcjIzODgzNDc=","avatar_url":"https://avatars.githubusercontent.com/u/2388347?v=4","gravatar_id":"","url":"https://api.github.com/users/fhueske","html_url":"https://github.com/fhueske","followers_url":"https://api.github.com/users/fhueske/followers","following_url":"https://api.github.com/users/fhueske/following{/other_user}","gists_url":"https://api.github.com/users/fhueske/gists{/gist_id}","starred_url":"https://api.github.com/users/fhueske/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fhueske/subscriptions","organizations_url":"https://api.github.com/users/fhueske/orgs","repos_url":"https://api.github.com/users/fhueske/repos","events_url":"https://api.github.com/users/fhueske/events{/privacy}","received_events_url":"https://api.github.com/users/fhueske/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T13:25:22Z","updated_at":"2017-03-23T13:25:22Z","author_association":"CONTRIBUTOR","body":"Hi @hequn8128, thanks for the PR. I think it looks good, but I have a question.\r\nThis PR is prepares for adding retractions. Why do we need a decoration phase for batch queries if this is about retractions which only apply for streams?\r\n\r\nThanks, Fabian\r\n","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288717970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288719184","html_url":"https://github.com/apache/flink/pull/3602#issuecomment-288719184","issue_url":"https://api.github.com/repos/apache/flink/issues/3602","id":288719184,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODcxOTE4NA==","user":{"login":"StefanRRichter","id":2128543,"node_id":"MDQ6VXNlcjIxMjg1NDM=","avatar_url":"https://avatars.githubusercontent.com/u/2128543?v=4","gravatar_id":"","url":"https://api.github.com/users/StefanRRichter","html_url":"https://github.com/StefanRRichter","followers_url":"https://api.github.com/users/StefanRRichter/followers","following_url":"https://api.github.com/users/StefanRRichter/following{/other_user}","gists_url":"https://api.github.com/users/StefanRRichter/gists{/gist_id}","starred_url":"https://api.github.com/users/StefanRRichter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StefanRRichter/subscriptions","organizations_url":"https://api.github.com/users/StefanRRichter/orgs","repos_url":"https://api.github.com/users/StefanRRichter/repos","events_url":"https://api.github.com/users/StefanRRichter/events{/privacy}","received_events_url":"https://api.github.com/users/StefanRRichter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T13:29:31Z","updated_at":"2017-03-23T13:29:31Z","author_association":"CONTRIBUTOR","body":"CC @StephanEwen ","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288719184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/flink/issues/comments/288727986","html_url":"https://github.com/apache/flink/pull/3590#issuecomment-288727986","issue_url":"https://api.github.com/repos/apache/flink/issues/3590","id":288727986,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODcyNzk4Ng==","user":{"login":"rtudoran","id":16573790,"node_id":"MDQ6VXNlcjE2NTczNzkw","avatar_url":"https://avatars.githubusercontent.com/u/16573790?v=4","gravatar_id":"","url":"https://api.github.com/users/rtudoran","html_url":"https://github.com/rtudoran","followers_url":"https://api.github.com/users/rtudoran/followers","following_url":"https://api.github.com/users/rtudoran/following{/other_user}","gists_url":"https://api.github.com/users/rtudoran/gists{/gist_id}","starred_url":"https://api.github.com/users/rtudoran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rtudoran/subscriptions","organizations_url":"https://api.github.com/users/rtudoran/orgs","repos_url":"https://api.github.com/users/rtudoran/repos","events_url":"https://api.github.com/users/rtudoran/events{/privacy}","received_events_url":"https://api.github.com/users/rtudoran/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-03-23T14:00:56Z","updated_at":"2017-03-23T14:00:56Z","author_association":"CONTRIBUTOR","body":"@fhueske \r\nI tried before to use the WindowOperatorTest#testProcessingTimeTumblingWindows() controls processing time using the KeyedOneInputStreamOperatorTestHarness but i did not find the dependency. Also it is unclear to me how this can be properly used.\r\nI would propose that we either keep things based on the current test (which works for 10 seconds...i can also make it smaller timewise) as we or mimic the behaviour by assigning the timestamp with a time assignment function (which i had in the beginning). Basically to have the \r\ninputStream.assignTimestamp()\r\nand assign each timestamp with fixedvalue * (counter++) * 1000?","reactions":{"url":"https://api.github.com/repos/apache/flink/issues/comments/288727986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]