[{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/254586866","html_url":"https://github.com/apache/pulsar/pull/72#issuecomment-254586866","issue_url":"https://api.github.com/repos/apache/pulsar/issues/72","id":254586866,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NDU4Njg2Ng==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-18T17:53:50Z","updated_at":"2016-10-18T17:53:50Z","author_association":"CONTRIBUTOR","body":"@sschepens I'm seeing there is a test failure here that appears to be intermittent and related to the per-message redelivery change : \n\n```\ntestSharedAckedNormalTopic(com.yahoo.pulsar.client.impl.PerMessageUnAcknowledgedRedeliveryTest)  Time elapsed: 0.097 sec  <<< FAILURE!\njava.lang.AssertionError: expected [5] but found [3]\n    at com.yahoo.pulsar.client.impl.PerMessageUnAcknowledgedRedeliveryTest.testSharedAckedNormalTopic(PerMessageUnAcknowledgedRedeliveryTest.java:110)\n```\n\nI think the receive timeouts of 10ms are too low and can lead to this spurious errors, especially in Travis which runs the test in a Docker container and it appears to lead to very funny timing issues.\n\nTry to raise that to at least 100ms.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/254586866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/254588583","html_url":"https://github.com/apache/pulsar/pull/72#issuecomment-254588583","issue_url":"https://api.github.com/repos/apache/pulsar/issues/72","id":254588583,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NDU4ODU4Mw==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-18T17:59:46Z","updated_at":"2016-10-18T17:59:46Z","author_association":"CONTRIBUTOR","body":"@merlimat will do\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/254588583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/254607094","html_url":"https://github.com/apache/pulsar/pull/74#issuecomment-254607094","issue_url":"https://api.github.com/repos/apache/pulsar/issues/74","id":254607094,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NDYwNzA5NA==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-18T19:04:58Z","updated_at":"2016-10-18T19:04:58Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/254607094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/254607095","html_url":"https://github.com/apache/pulsar/pull/74#issuecomment-254607095","issue_url":"https://api.github.com/repos/apache/pulsar/issues/74","id":254607095,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NDYwNzA5NQ==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-18T19:04:58Z","updated_at":"2016-10-18T19:04:58Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/254607095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/254612779","html_url":"https://github.com/apache/pulsar/pull/74#issuecomment-254612779","issue_url":"https://api.github.com/repos/apache/pulsar/issues/74","id":254612779,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NDYxMjc3OQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-18T19:26:49Z","updated_at":"2016-10-18T19:26:49Z","author_association":"CONTRIBUTOR","body":"Looks like this test is failing : \n\n```\ntestBlockUnackedConsumerRedeliverySpecificMessages(com.yahoo.pulsar.client.api.SimpleProducerConsumerTest)  Time elapsed: 3.155 sec  <<< FAILURE!\njava.lang.AssertionError: expected [14] but found [16]\n    at com.yahoo.pulsar.client.api.SimpleProducerConsumerTest.testBlockUnackedConsumerRedeliverySpecificMessages(SimpleProducerConsumerTest.java:1609)\n```\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/254612779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/254634170","html_url":"https://github.com/apache/pulsar/issues/73#issuecomment-254634170","issue_url":"https://api.github.com/repos/apache/pulsar/issues/73","id":254634170,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NDYzNDE3MA==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-18T20:45:53Z","updated_at":"2016-10-18T20:45:53Z","author_association":"CONTRIBUTOR","body":"Yes, I don't remember if there was any specific reason to enforce that condition, but I cannot see any right now. \n\nhttps://github.com/yahoo/pulsar/blob/master/pulsar-broker/src/main/java/com/yahoo/pulsar/broker/admin/PersistentTopics.java#L851\n\nAs you said, subscriptions are independent for each clusters, and as with other operations (skip, unsubscribe, etc..) they are all performed on the subscription found on the local cluster, rather than everywhere.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/254634170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/254650651","html_url":"https://github.com/apache/pulsar/pull/74#issuecomment-254650651","issue_url":"https://api.github.com/repos/apache/pulsar/issues/74","id":254650651,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NDY1MDY1MQ==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-18T21:53:23Z","updated_at":"2016-10-18T21:53:23Z","author_association":"CONTRIBUTOR","body":"@merlimat  : added multiple deterministic unit-testcases.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/254650651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/254677224","html_url":"https://github.com/apache/pulsar/pull/75#issuecomment-254677224","issue_url":"https://api.github.com/repos/apache/pulsar/issues/75","id":254677224,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NDY3NzIyNA==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-19T00:26:29Z","updated_at":"2016-10-19T00:26:29Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/254677224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/255619049","html_url":"https://github.com/apache/pulsar/pull/76#issuecomment-255619049","issue_url":"https://api.github.com/repos/apache/pulsar/issues/76","id":255619049,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NTYxOTA0OQ==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-23T22:26:20Z","updated_at":"2016-10-23T22:26:20Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/255619049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/255619050","html_url":"https://github.com/apache/pulsar/pull/76#issuecomment-255619050","issue_url":"https://api.github.com/repos/apache/pulsar/issues/76","id":255619050,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NTYxOTA1MA==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-23T22:26:20Z","updated_at":"2016-10-23T22:26:20Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/255619050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/255619051","html_url":"https://github.com/apache/pulsar/pull/76#issuecomment-255619051","issue_url":"https://api.github.com/repos/apache/pulsar/issues/76","id":255619051,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NTYxOTA1MQ==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-23T22:26:20Z","updated_at":"2016-10-23T22:26:20Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/255619051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/255780300","html_url":"https://github.com/apache/pulsar/pull/78#issuecomment-255780300","issue_url":"https://api.github.com/repos/apache/pulsar/issues/78","id":255780300,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NTc4MDMwMA==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-24T15:48:55Z","updated_at":"2016-10-24T15:48:55Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/255780300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/255780961","html_url":"https://github.com/apache/pulsar/pull/79#issuecomment-255780961","issue_url":"https://api.github.com/repos/apache/pulsar/issues/79","id":255780961,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NTc4MDk2MQ==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-24T15:51:14Z","updated_at":"2016-10-24T15:51:14Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/255780961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/255824833","html_url":"https://github.com/apache/pulsar/issues/80#issuecomment-255824833","issue_url":"https://api.github.com/repos/apache/pulsar/issues/80","id":255824833,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NTgyNDgzMw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-24T18:28:32Z","updated_at":"2016-10-24T18:28:32Z","author_association":"CONTRIBUTOR","body":"The `PartitionedConsumerImpl` uses a specific internal executor to handle that. See at  : \n\nhttps://github.com/yahoo/pulsar/blob/master/pulsar-client/src/main/java/com/yahoo/pulsar/client/impl/PartitionedConsumerImpl.java#L47\n\nThe individual `ConsumerImpl` instances inside the `PartitionedConsumerImpl` will use that `internalListenerExecutor` to push messages into the common queue. If the application stops calling `receive()`, the common queue will get full and that will block the internal listener thread, but that will not block the IO threads, since they will just enqueue on the individual queues (which don't have size limit) and move on.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/255824833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/255845083","html_url":"https://github.com/apache/pulsar/issues/73#issuecomment-255845083","issue_url":"https://api.github.com/repos/apache/pulsar/issues/73","id":255845083,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NTg0NTA4Mw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-24T19:46:12Z","updated_at":"2016-10-24T19:46:12Z","author_association":"CONTRIBUTOR","body":"Fixed in #79 \n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/255845083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/255846397","html_url":"https://github.com/apache/pulsar/issues/80#issuecomment-255846397","issue_url":"https://api.github.com/repos/apache/pulsar/issues/80","id":255846397,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NTg0NjM5Nw==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-24T19:51:20Z","updated_at":"2016-10-24T19:52:03Z","author_association":"CONTRIBUTOR","body":"Yes, I realize it will not block IO threads, but it will block other `PartitionedConsumerImpl` that are using the same `internalListenerExecutor`, a `Client` creates an `internalListenerExecutor` of size 1 by default, but even increasing the size is not a really good solution. If we intend on creating many consumers, it's not a good solution to have 1 thread per consumer, it doesn't scale.\nIt would be great if `PartitionedConsumerImpl` could be a little more smart about handling messages, but this would probably need more communication between `PartitionedConsumerImpl` and its internal `ConsumerImpl` than we currently have. For example, `ConsumerImpl` could try and add a message to `PartitionedConsumerImpl` if it doesn't succeed then it could just remain in the queue, then, `PartitionedConsumerImpl` could somehow notifying it's internal consumers that it has space so they pop messages from their queues.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/255846397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/255865367","html_url":"https://github.com/apache/pulsar/issues/80#issuecomment-255865367","issue_url":"https://api.github.com/repos/apache/pulsar/issues/80","id":255865367,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NTg2NTM2Nw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-24T21:03:16Z","updated_at":"2016-10-24T21:03:16Z","author_association":"CONTRIBUTOR","body":"OK, that is a good point. \n\nThe key part is to leave the messages in the single topics queues, so that we can stop the broker from pushing more messages. If that can be done without recurring to blocking the intermediate listener thread, that would be great.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/255865367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/255886634","html_url":"https://github.com/apache/pulsar/pull/82#issuecomment-255886634","issue_url":"https://api.github.com/repos/apache/pulsar/issues/82","id":255886634,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NTg4NjYzNA==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-24T22:40:42Z","updated_at":"2016-10-24T22:40:42Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/255886634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/255886635","html_url":"https://github.com/apache/pulsar/pull/82#issuecomment-255886635","issue_url":"https://api.github.com/repos/apache/pulsar/issues/82","id":255886635,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NTg4NjYzNQ==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-24T22:40:42Z","updated_at":"2016-10-24T22:40:42Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/255886635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/255886636","html_url":"https://github.com/apache/pulsar/pull/82#issuecomment-255886636","issue_url":"https://api.github.com/repos/apache/pulsar/issues/82","id":255886636,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NTg4NjYzNg==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-24T22:40:42Z","updated_at":"2016-10-24T22:40:42Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/255886636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256079385","html_url":"https://github.com/apache/pulsar/pull/83#issuecomment-256079385","issue_url":"https://api.github.com/repos/apache/pulsar/issues/83","id":256079385,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NjA3OTM4NQ==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-25T16:01:37Z","updated_at":"2016-10-25T16:01:37Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256079385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256094101","html_url":"https://github.com/apache/pulsar/pull/84#issuecomment-256094101","issue_url":"https://api.github.com/repos/apache/pulsar/issues/84","id":256094101,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NjA5NDEwMQ==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-25T16:54:21Z","updated_at":"2016-10-25T16:54:21Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256094101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256100139","html_url":"https://github.com/apache/pulsar/pull/85#issuecomment-256100139","issue_url":"https://api.github.com/repos/apache/pulsar/issues/85","id":256100139,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NjEwMDEzOQ==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-25T17:17:13Z","updated_at":"2016-10-25T17:17:13Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256100139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256185895","html_url":"https://github.com/apache/pulsar/pull/83#issuecomment-256185895","issue_url":"https://api.github.com/repos/apache/pulsar/issues/83","id":256185895,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NjE4NTg5NQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-25T21:47:51Z","updated_at":"2016-10-25T21:47:51Z","author_association":"CONTRIBUTOR","body":"The approach looks good, though I need more time to go through the change\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256185895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256418761","html_url":"https://github.com/apache/pulsar/pull/87#issuecomment-256418761","issue_url":"https://api.github.com/repos/apache/pulsar/issues/87","id":256418761,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NjQxODc2MQ==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-26T17:24:07Z","updated_at":"2016-10-26T17:24:07Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256418761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256450829","html_url":"https://github.com/apache/pulsar/pull/5#issuecomment-256450829","issue_url":"https://api.github.com/repos/apache/pulsar/issues/5","id":256450829,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NjQ1MDgyOQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-26T19:22:56Z","updated_at":"2016-10-26T19:22:56Z","author_association":"CONTRIBUTOR","body":"@rdhabalia I have merged #76. Have fun with the rebase! ðŸ˜ƒ \n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256450829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256458662","html_url":"https://github.com/apache/pulsar/pull/88#issuecomment-256458662","issue_url":"https://api.github.com/repos/apache/pulsar/issues/88","id":256458662,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NjQ1ODY2Mg==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-26T19:54:41Z","updated_at":"2016-10-26T19:54:41Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256458662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256761697","html_url":"https://github.com/apache/pulsar/pull/89#issuecomment-256761697","issue_url":"https://api.github.com/repos/apache/pulsar/issues/89","id":256761697,"node_id":"MDEyOklzc3VlQ29tbWVudDI1Njc2MTY5Nw==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-27T20:36:55Z","updated_at":"2016-10-27T20:36:55Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256761697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256776758","html_url":"https://github.com/apache/pulsar/pull/90#issuecomment-256776758","issue_url":"https://api.github.com/repos/apache/pulsar/issues/90","id":256776758,"node_id":"MDEyOklzc3VlQ29tbWVudDI1Njc3Njc1OA==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-27T21:35:22Z","updated_at":"2016-10-27T21:35:22Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256776758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256776760","html_url":"https://github.com/apache/pulsar/pull/90#issuecomment-256776760","issue_url":"https://api.github.com/repos/apache/pulsar/issues/90","id":256776760,"node_id":"MDEyOklzc3VlQ29tbWVudDI1Njc3Njc2MA==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-27T21:35:22Z","updated_at":"2016-10-27T21:35:22Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256776760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256776761","html_url":"https://github.com/apache/pulsar/pull/90#issuecomment-256776761","issue_url":"https://api.github.com/repos/apache/pulsar/issues/90","id":256776761,"node_id":"MDEyOklzc3VlQ29tbWVudDI1Njc3Njc2MQ==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-27T21:35:22Z","updated_at":"2016-10-27T21:35:22Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256776761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256817440","html_url":"https://github.com/apache/pulsar/pull/5#issuecomment-256817440","issue_url":"https://api.github.com/repos/apache/pulsar/issues/5","id":256817440,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NjgxNzQ0MA==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-28T01:54:45Z","updated_at":"2016-10-28T01:54:45Z","author_association":"CONTRIBUTOR","body":"@merlimat : rebased and added async-lookup changes.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256817440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256921111","html_url":"https://github.com/apache/pulsar/pull/83#issuecomment-256921111","issue_url":"https://api.github.com/repos/apache/pulsar/issues/83","id":256921111,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NjkyMTExMQ==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-28T13:33:23Z","updated_at":"2016-10-28T13:33:23Z","author_association":"CONTRIBUTOR","body":"Any news regarding this?\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256921111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256999743","html_url":"https://github.com/apache/pulsar/pull/92#issuecomment-256999743","issue_url":"https://api.github.com/repos/apache/pulsar/issues/92","id":256999743,"node_id":"MDEyOklzc3VlQ29tbWVudDI1Njk5OTc0Mw==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-28T18:52:34Z","updated_at":"2016-10-28T18:52:34Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256999743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256999744","html_url":"https://github.com/apache/pulsar/pull/92#issuecomment-256999744","issue_url":"https://api.github.com/repos/apache/pulsar/issues/92","id":256999744,"node_id":"MDEyOklzc3VlQ29tbWVudDI1Njk5OTc0NA==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-28T18:52:34Z","updated_at":"2016-10-28T18:52:34Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256999744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256999745","html_url":"https://github.com/apache/pulsar/pull/92#issuecomment-256999745","issue_url":"https://api.github.com/repos/apache/pulsar/issues/92","id":256999745,"node_id":"MDEyOklzc3VlQ29tbWVudDI1Njk5OTc0NQ==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-28T18:52:34Z","updated_at":"2016-10-28T18:52:34Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/256999745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257006706","html_url":"https://github.com/apache/pulsar/pull/94#issuecomment-257006706","issue_url":"https://api.github.com/repos/apache/pulsar/issues/94","id":257006706,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzAwNjcwNg==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-28T19:23:51Z","updated_at":"2016-10-28T19:23:51Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257006706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257367834","html_url":"https://github.com/apache/pulsar/pull/5#issuecomment-257367834","issue_url":"https://api.github.com/repos/apache/pulsar/issues/5","id":257367834,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzM2NzgzNA==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-31T17:51:51Z","updated_at":"2016-10-31T17:51:51Z","author_association":"CONTRIBUTOR","body":"Please ignore travis-build for this PR for now: as it seems there is an issue with [travis-build](https://travis-ci.org/yahoo/pulsar/pull_requests), it always picks up a wrong [commit-1b99fa608daa42955e09356f89ae498d6c969347](https://github.com/yahoo/pulsar/commit/1b99fa608daa42955e09356f89ae498d6c969347) from different PR and that wrong [commit](https://github.com/yahoo/pulsar/commit/1b99fa608daa42955e09356f89ae498d6c969347) had a [unit-testcase-failure-issue](https://github.com/yahoo/pulsar/issues/93) which is already fixed in later commit of PR. I have [local-travis-job](https://travis-ci.org/rdhabalia/pulsar/builds/171882352) setup which is green by picking up correct commit. \n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257367834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257403798","html_url":"https://github.com/apache/pulsar/pull/95#issuecomment-257403798","issue_url":"https://api.github.com/repos/apache/pulsar/issues/95","id":257403798,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzQwMzc5OA==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-31T20:01:15Z","updated_at":"2016-10-31T20:01:15Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257403798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257407529","html_url":"https://github.com/apache/pulsar/pull/95#issuecomment-257407529","issue_url":"https://api.github.com/repos/apache/pulsar/issues/95","id":257407529,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzQwNzUyOQ==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-31T20:15:11Z","updated_at":"2016-10-31T20:15:11Z","author_association":"CONTRIBUTOR","body":"Added aggregated unAckedMessages count for a subscription as well\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257407529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257419264","html_url":"https://github.com/apache/pulsar/pull/96#issuecomment-257419264","issue_url":"https://api.github.com/repos/apache/pulsar/issues/96","id":257419264,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzQxOTI2NA==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-31T21:00:42Z","updated_at":"2016-10-31T21:00:42Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257419264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257423365","html_url":"https://github.com/apache/pulsar/pull/88#issuecomment-257423365","issue_url":"https://api.github.com/repos/apache/pulsar/issues/88","id":257423365,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzQyMzM2NQ==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-31T21:17:38Z","updated_at":"2016-10-31T21:17:38Z","author_association":"CONTRIBUTOR","body":"@merlimat do these last changes seem ok? I've reused `loadManagerExecutor` to schedule usage calculations, and addressed most of the comments I believe.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257423365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257425199","html_url":"https://github.com/apache/pulsar/pull/97#issuecomment-257425199","issue_url":"https://api.github.com/repos/apache/pulsar/issues/97","id":257425199,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzQyNTE5OQ==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-31T21:25:37Z","updated_at":"2016-10-31T21:25:37Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257425199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257431344","html_url":"https://github.com/apache/pulsar/pull/98#issuecomment-257431344","issue_url":"https://api.github.com/repos/apache/pulsar/issues/98","id":257431344,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzQzMTM0NA==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-31T21:50:26Z","updated_at":"2016-10-31T21:50:26Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257431344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257446556","html_url":"https://github.com/apache/pulsar/pull/97#issuecomment-257446556","issue_url":"https://api.github.com/repos/apache/pulsar/issues/97","id":257446556,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzQ0NjU1Ng==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-10-31T23:08:10Z","updated_at":"2016-10-31T23:08:10Z","author_association":"CONTRIBUTOR","body":"> I don't know if this could bring some unforeseen changes, though.\n\nI don't expect any particular problem. We'll verify in the internal regression and system tests to validate.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257446556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257499286","html_url":"https://github.com/apache/pulsar/pull/99#issuecomment-257499286","issue_url":"https://api.github.com/repos/apache/pulsar/issues/99","id":257499286,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzQ5OTI4Ng==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-01T06:39:45Z","updated_at":"2016-11-01T06:39:45Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257499286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257578548","html_url":"https://github.com/apache/pulsar/pull/83#issuecomment-257578548","issue_url":"https://api.github.com/repos/apache/pulsar/issues/83","id":257578548,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzU3ODU0OA==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-01T14:21:50Z","updated_at":"2016-11-01T14:21:50Z","author_association":"CONTRIBUTOR","body":"> Maybe using a bit-set to know which partitions have messages to pull could be helpful.\n\nWhere would this be? The issue would be that this could change at any time while cycling through the consumers.\n\n> Another approach could be to use receiveAsync(). The PartitionedConsumer would be calling receiveAsync on each partition consumer, and stop calling it when the queue gets full. \n> At that point we would need to remember on which partitions we'll need to call receiveAsync again, when the queue will get free space again\n\nThought about this too, the issue lies that we cannot control when `receiveAsync()` returns, so by the time it returns the queue may already be full.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257578548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257645781","html_url":"https://github.com/apache/pulsar/pull/83#issuecomment-257645781","issue_url":"https://api.github.com/repos/apache/pulsar/issues/83","id":257645781,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzY0NTc4MQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-01T18:10:25Z","updated_at":"2016-11-01T18:10:25Z","author_association":"CONTRIBUTOR","body":"I was thinking something in the line of : \n1. Partitioned consumer issues a `receiveAsync()` call for each partition\n2. If we have, let's say 10 partitions, we'd have max 10 messages to accumulate in shared queue\n3. Whenever we receive 1 message from 1 partition:\n   - If the shared queue size is < threshold, then enqueue and schedule next `receiveAsync()` for \n     the particular partition\n   - Otherwise, mark that partition as \"to read later\" \n4. Whenever the application calls `receive()` and frees enough space in the shared queue, we can resume calling `receiveAsync()` from the marked partitions.\n\nI don't think exceeding the shared queue size (by a small amount) would be a problem. In this case we would exceed at max by `N` messages with `N=number of partitions`. We already have a `GrowableArrayBlockingQueue` class that the `ConsumerImpl` is already using (to handle batch messages).\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257645781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257657417","html_url":"https://github.com/apache/pulsar/issues/100#issuecomment-257657417","issue_url":"https://api.github.com/repos/apache/pulsar/issues/100","id":257657417,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzY1NzQxNw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-01T18:46:41Z","updated_at":"2016-11-01T18:46:41Z","author_association":"CONTRIBUTOR","body":"I'm going to be out for the next few days. @rdhabalia can you take a look at this?\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257657417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257664098","html_url":"https://github.com/apache/pulsar/issues/100#issuecomment-257664098","issue_url":"https://api.github.com/repos/apache/pulsar/issues/100","id":257664098,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzY2NDA5OA==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-01T19:11:30Z","updated_at":"2016-11-01T19:11:36Z","author_association":"CONTRIBUTOR","body":"Also, `redeliverUnacknowledgedMessages(List<MessageIdImpl> messageIds)` doesn't seem to be removing redelivered messages from the queue at any time, so the queue will always be stuck with redelivered messages.\n\nI can't think of any simple way of solving this right now, maybe we can keep track of messages in the queue on a separate set.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257664098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257691473","html_url":"https://github.com/apache/pulsar/issues/100#issuecomment-257691473","issue_url":"https://api.github.com/repos/apache/pulsar/issues/100","id":257691473,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzY5MTQ3Mw==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-01T20:48:31Z","updated_at":"2016-11-01T20:48:31Z","author_association":"CONTRIBUTOR","body":"[redeliverUnacknowledgedMessages](https://github.com/yahoo/pulsar/blob/master/pulsar-client/src/main/java/com/yahoo/pulsar/client/impl/ConsumerImpl.java#L885) : it cleans up all the messages present into `incomingMessages` and sends separate `flow-message` command which increments `availablePermits` at broker for a given consumer. So, consumer will not be stuck at any time.\n\nHowever, right [redeliverUnacknowledgedMessages](https://github.com/yahoo/pulsar/blob/master/pulsar-client/src/main/java/com/yahoo/pulsar/client/impl/ConsumerImpl.java#L905) doesn't clean up `incomingMessages` queue and asks broker for redelivery. So, as soon as client consumes N/2 messages from the `incomingMessages` queue it triggers `flow-message` command to broker and broker will first release those redelivered messages as part of received permits. In this case: again consumer will not be stuck.\n\n> Also, redeliverUnacknowledgedMessages(List<MessageIdImpl> messageIds) doesn't seem to be removing redelivered messages from the queue at any time\n\nYes, we have to make similar change of [redeliverUnacknowledgedMessages](https://github.com/yahoo/pulsar/blob/master/pulsar-client/src/main/java/com/yahoo/pulsar/client/impl/ConsumerImpl.java#L885) to clean up from `incomingMessages` queue and sends permits to broker by triggering `flow-message` command.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257691473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257695671","html_url":"https://github.com/apache/pulsar/issues/100#issuecomment-257695671","issue_url":"https://api.github.com/repos/apache/pulsar/issues/100","id":257695671,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzY5NTY3MQ==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-01T21:01:29Z","updated_at":"2016-11-01T21:01:29Z","author_association":"CONTRIBUTOR","body":"I will make changes and add test-cases for this scenario.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257695671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257698541","html_url":"https://github.com/apache/pulsar/pull/101#issuecomment-257698541","issue_url":"https://api.github.com/repos/apache/pulsar/issues/101","id":257698541,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzY5ODU0MQ==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-01T21:10:37Z","updated_at":"2016-11-01T21:10:37Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257698541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257698704","html_url":"https://github.com/apache/pulsar/issues/100#issuecomment-257698704","issue_url":"https://api.github.com/repos/apache/pulsar/issues/100","id":257698704,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzY5ODcwNA==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-01T21:11:07Z","updated_at":"2016-11-01T21:11:07Z","author_association":"CONTRIBUTOR","body":"@rdhabalia I just created a PR for this, please give it a look, perhaps you can think of a better way of approaching this.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257698704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257699318","html_url":"https://github.com/apache/pulsar/issues/100#issuecomment-257699318","issue_url":"https://api.github.com/repos/apache/pulsar/issues/100","id":257699318,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzY5OTMxOA==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-01T21:13:15Z","updated_at":"2016-11-01T21:13:15Z","author_association":"CONTRIBUTOR","body":"Ok. thanks, I will look into it.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257699318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257716840","html_url":"https://github.com/apache/pulsar/pull/101#issuecomment-257716840","issue_url":"https://api.github.com/repos/apache/pulsar/issues/101","id":257716840,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzcxNjg0MA==","user":{"login":"rdhabalia","id":2898254,"node_id":"MDQ6VXNlcjI4OTgyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2898254?v=4","gravatar_id":"","url":"https://api.github.com/users/rdhabalia","html_url":"https://github.com/rdhabalia","followers_url":"https://api.github.com/users/rdhabalia/followers","following_url":"https://api.github.com/users/rdhabalia/following{/other_user}","gists_url":"https://api.github.com/users/rdhabalia/gists{/gist_id}","starred_url":"https://api.github.com/users/rdhabalia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdhabalia/subscriptions","organizations_url":"https://api.github.com/users/rdhabalia/orgs","repos_url":"https://api.github.com/users/rdhabalia/repos","events_url":"https://api.github.com/users/rdhabalia/events{/privacy}","received_events_url":"https://api.github.com/users/rdhabalia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-01T22:21:46Z","updated_at":"2016-11-01T22:21:46Z","author_association":"CONTRIBUTOR","body":"If possible can we also please add redelivery-test case may be similar like [RedeliveryTest](https://github.com/yahoo/pulsar/blob/master/pulsar-broker/src/test/java/com/yahoo/pulsar/client/api/SimpleProducerConsumerTest.java#L1243)\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257716840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257893535","html_url":"https://github.com/apache/pulsar/pull/101#issuecomment-257893535","issue_url":"https://api.github.com/repos/apache/pulsar/issues/101","id":257893535,"node_id":"MDEyOklzc3VlQ29tbWVudDI1Nzg5MzUzNQ==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-02T15:08:57Z","updated_at":"2016-11-02T16:01:06Z","author_association":"CONTRIBUTOR","body":"@rdhabalia I have added a test, and confirmed that it did not pass without this fix.\nI also realized that we had a sort of leak because we never removed messages from batchMessageAckTracker on per message redelivery.\n\nEdit:\nThere seems to be an issue with `GrowableArrayBlockingQueue` as it does not currently support iteration.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257893535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257956133","html_url":"https://github.com/apache/pulsar/pull/83#issuecomment-257956133","issue_url":"https://api.github.com/repos/apache/pulsar/issues/83","id":257956133,"node_id":"MDEyOklzc3VlQ29tbWVudDI1Nzk1NjEzMw==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-02T18:26:26Z","updated_at":"2016-11-02T19:49:56Z","author_association":"CONTRIBUTOR","body":"@merlimat @rdhabalia I don't understand why `GrowableArrayBlockingQueue` exists, can the broker send to the consumer a Batch Message larger than it's permits allow?\n\nEdit:\nI'm investigating the usage of `GrowableArrayBlockingQueue` for batches.\nIt seems Broker is allowed to send a message larger than `receiverQueueSize` and it ends up decrementing the `availablePermits` to a negative number. This is really inconvenient, and it probably raises lots of issues. for example [here](https://github.com/yahoo/pulsar/blob/master/pulsar-broker/src/main/java/com/yahoo/pulsar/broker/service/persistent/PersistentDispatcherMultipleConsumers.java#L394) and [here](https://github.com/yahoo/pulsar/blob/master/pulsar-broker/src/main/java/com/yahoo/pulsar/broker/service/persistent/PersistentDispatcherSingleActiveConsumer.java#L274), a consumer with permits < 0 could be available for receiving messages.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257956133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257984443","html_url":"https://github.com/apache/pulsar/pull/101#issuecomment-257984443","issue_url":"https://api.github.com/repos/apache/pulsar/issues/101","id":257984443,"node_id":"MDEyOklzc3VlQ29tbWVudDI1Nzk4NDQ0Mw==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-02T20:12:29Z","updated_at":"2016-11-02T20:12:29Z","author_association":"CONTRIBUTOR","body":"@rdhabalia @merlimat what do you suggest we do? We cannot fix it this way without replacing `GrowableArrayBlockingQueue`.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/257984443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/258044448","html_url":"https://github.com/apache/pulsar/pull/102#issuecomment-258044448","issue_url":"https://api.github.com/repos/apache/pulsar/issues/102","id":258044448,"node_id":"MDEyOklzc3VlQ29tbWVudDI1ODA0NDQ0OA==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-03T01:03:55Z","updated_at":"2016-11-03T01:03:55Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/258044448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/258298629","html_url":"https://github.com/apache/pulsar/pull/103#issuecomment-258298629","issue_url":"https://api.github.com/repos/apache/pulsar/issues/103","id":258298629,"node_id":"MDEyOklzc3VlQ29tbWVudDI1ODI5ODYyOQ==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-03T22:56:09Z","updated_at":"2016-11-03T22:56:09Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/258298629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259037343","html_url":"https://github.com/apache/pulsar/pull/104#issuecomment-259037343","issue_url":"https://api.github.com/repos/apache/pulsar/issues/104","id":259037343,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTAzNzM0Mw==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-08T03:41:17Z","updated_at":"2016-11-08T03:41:17Z","author_association":"NONE","body":"Thank you for submitting this pull request, however I do not see a valid CLA on file for you. Before we can merge this request please visit https://yahoocla.herokuapp.com/ and agree to the terms. Thanks! :smile:\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259037343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259037347","html_url":"https://github.com/apache/pulsar/pull/104#issuecomment-259037347","issue_url":"https://api.github.com/repos/apache/pulsar/issues/104","id":259037347,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTAzNzM0Nw==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-08T03:41:18Z","updated_at":"2016-11-08T03:41:18Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259037347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259224183","html_url":"https://github.com/apache/pulsar/issues/100#issuecomment-259224183","issue_url":"https://api.github.com/repos/apache/pulsar/issues/100","id":259224183,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTIyNDE4Mw==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-08T18:49:51Z","updated_at":"2016-11-08T18:49:51Z","author_association":"CONTRIBUTOR","body":"@merlimat @rdhabalia any news on this? We really need to solve this issue\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259224183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259311888","html_url":"https://github.com/apache/pulsar/issues/86#issuecomment-259311888","issue_url":"https://api.github.com/repos/apache/pulsar/issues/86","id":259311888,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTMxMTg4OA==","user":{"login":"maskit","id":153144,"node_id":"MDQ6VXNlcjE1MzE0NA==","avatar_url":"https://avatars.githubusercontent.com/u/153144?v=4","gravatar_id":"","url":"https://api.github.com/users/maskit","html_url":"https://github.com/maskit","followers_url":"https://api.github.com/users/maskit/followers","following_url":"https://api.github.com/users/maskit/following{/other_user}","gists_url":"https://api.github.com/users/maskit/gists{/gist_id}","starred_url":"https://api.github.com/users/maskit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maskit/subscriptions","organizations_url":"https://api.github.com/users/maskit/orgs","repos_url":"https://api.github.com/users/maskit/repos","events_url":"https://api.github.com/users/maskit/events{/privacy}","received_events_url":"https://api.github.com/users/maskit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-09T01:27:20Z","updated_at":"2016-11-09T01:27:20Z","author_association":"MEMBER","body":"FYI, Apache products have been unable to include works under JSON license.\nhttps://www.apache.org/legal/resolved#json\n\nA discussion about alternatives is on-going.\nhttps://mail-archives.apache.org/mod_mbox/www-legal-discuss/201611.mbox/browser\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259311888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259487987","html_url":"https://github.com/apache/pulsar/issues/86#issuecomment-259487987","issue_url":"https://api.github.com/repos/apache/pulsar/issues/86","id":259487987,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTQ4Nzk4Nw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-09T18:29:52Z","updated_at":"2016-11-09T18:29:52Z","author_association":"CONTRIBUTOR","body":"From the email thread, there's a link to a Debian page with few suggested alternatives. \n\nhttps://wiki.debian.org/qa.debian.org/jsonevil\n\nMaybe using any of these, would avoid making any code change.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259487987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259491275","html_url":"https://github.com/apache/pulsar/issues/100#issuecomment-259491275","issue_url":"https://api.github.com/repos/apache/pulsar/issues/100","id":259491275,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTQ5MTI3NQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-09T18:42:36Z","updated_at":"2016-11-09T18:42:36Z","author_association":"CONTRIBUTOR","body":"@sschepens just got back in office. reviewing the PRs\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259491275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259517201","html_url":"https://github.com/apache/pulsar/pull/83#issuecomment-259517201","issue_url":"https://api.github.com/repos/apache/pulsar/issues/83","id":259517201,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTUxNzIwMQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-09T20:26:32Z","updated_at":"2016-11-09T20:26:32Z","author_association":"CONTRIBUTOR","body":"@sschepens In the 2 examples the permits < 0 seems to be treated fine : \n\n``` java\nfor(Consumer consumer : consumerList) {\n            if (isConsumerAvailable(consumer)) {\n                return true;\n            }\n        }\n```\n\n``` java\nprivate boolean isConsumerAvailable(Consumer consumer) {\n        return consumer != null && !consumer.isBlocked() && consumer.getAvailablePermits() > 0;\n    }\n```\n\nIn this case, the consumers is shown as unavailable is the permits are negative. \n\nThe reason to use this \"negative-trick\" is that when we read batch-messages from BK storage we have no way to know how many single entries will there be. Since we want to keep the end-to-end batching for performance reasons and we want avoid keeping these messages in memory in the broker, the only choice left is to push the messages to the consumer even if that violates the max-permit limit. \n\nAfter that, the available permits will go <0 and broker will stop pushing, until it will receives more flow permits.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259517201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259517395","html_url":"https://github.com/apache/pulsar/pull/5#issuecomment-259517395","issue_url":"https://api.github.com/repos/apache/pulsar/issues/5","id":259517395,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTUxNzM5NQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-09T20:27:19Z","updated_at":"2016-11-09T20:27:19Z","author_association":"CONTRIBUTOR","body":"@rdhabalia There seems to be a conflict with master in the latest push\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259517395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259543612","html_url":"https://github.com/apache/pulsar/pull/105#issuecomment-259543612","issue_url":"https://api.github.com/repos/apache/pulsar/issues/105","id":259543612,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTU0MzYxMg==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-09T22:20:56Z","updated_at":"2016-11-09T22:20:56Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259543612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259547625","html_url":"https://github.com/apache/pulsar/issues/100#issuecomment-259547625","issue_url":"https://api.github.com/repos/apache/pulsar/issues/100","id":259547625,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTU0NzYyNQ==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-09T22:40:17Z","updated_at":"2016-11-09T22:40:17Z","author_association":"CONTRIBUTOR","body":"Just to clarify, this issue was introduced when tracking timeout on messages not pulled from the queue.\nPerhaps we can take a different approach to this, in the end what we want to prevent is a clientes to hold messages when it's not processing.\nWe could empty the queue and not as for messages until it resumes acknowledging messages or something of the sort.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259547625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259549242","html_url":"https://github.com/apache/pulsar/issues/100#issuecomment-259549242","issue_url":"https://api.github.com/repos/apache/pulsar/issues/100","id":259549242,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTU0OTI0Mg==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-09T22:48:29Z","updated_at":"2016-11-09T22:48:29Z","author_association":"CONTRIBUTOR","body":"OK, it looks like it would be easier to just empty the queue and have the broker resend the all the messages that were on it. Anyway, they're not going to be \"duplicates\" since the application would not have seen them already. \n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259549242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259550221","html_url":"https://github.com/apache/pulsar/issues/100#issuecomment-259550221","issue_url":"https://api.github.com/repos/apache/pulsar/issues/100","id":259550221,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTU1MDIyMQ==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-09T22:53:17Z","updated_at":"2016-11-09T22:53:17Z","author_association":"CONTRIBUTOR","body":"Yup, but we maybe should make the consumer not receive messages until it resumes acks. Just to prevent constant redelivery.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259550221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259551042","html_url":"https://github.com/apache/pulsar/issues/100#issuecomment-259551042","issue_url":"https://api.github.com/repos/apache/pulsar/issues/100","id":259551042,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTU1MTA0Mg==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-09T22:57:20Z","updated_at":"2016-11-09T22:57:20Z","author_association":"CONTRIBUTOR","body":"I agree on that, the library should be playing with the permits to do that, but I'd keep it separate from this PR, because:  \n1. It might be tricky to make sure we don't forget any corner case and leave the delivery stopped\n2. It should not be super-awful anyway.. you get 1000 messages resent every n-minutes\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259551042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259797123","html_url":"https://github.com/apache/pulsar/pull/104#issuecomment-259797123","issue_url":"https://api.github.com/repos/apache/pulsar/issues/104","id":259797123,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTc5NzEyMw==","user":{"login":"lovelle","id":7503370,"node_id":"MDQ6VXNlcjc1MDMzNzA=","avatar_url":"https://avatars.githubusercontent.com/u/7503370?v=4","gravatar_id":"","url":"https://api.github.com/users/lovelle","html_url":"https://github.com/lovelle","followers_url":"https://api.github.com/users/lovelle/followers","following_url":"https://api.github.com/users/lovelle/following{/other_user}","gists_url":"https://api.github.com/users/lovelle/gists{/gist_id}","starred_url":"https://api.github.com/users/lovelle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lovelle/subscriptions","organizations_url":"https://api.github.com/users/lovelle/orgs","repos_url":"https://api.github.com/users/lovelle/repos","events_url":"https://api.github.com/users/lovelle/events{/privacy}","received_events_url":"https://api.github.com/users/lovelle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-10T20:22:27Z","updated_at":"2016-11-10T21:57:31Z","author_association":"CONTRIBUTOR","body":"Hi, I thought it might be useful if someone has plans to have some consumers more \"intense\" than others, so, if a consumer wants to receive a big amount of messages in a short period of time, the consumer is going to tell the broker the available permits only when were less than half, customizing this setting could avoid this default behaviour of receiving the available permits at a different tresholds.\n\nPlease correct me if I'm wrong, and, of course, if you don't see a valuable usage of this, feel free to close this PR.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259797123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259900399","html_url":"https://github.com/apache/pulsar/pull/106#issuecomment-259900399","issue_url":"https://api.github.com/repos/apache/pulsar/issues/106","id":259900399,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTkwMDM5OQ==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-11T07:46:52Z","updated_at":"2016-11-11T07:46:52Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259900399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259900546","html_url":"https://github.com/apache/pulsar/pull/83#issuecomment-259900546","issue_url":"https://api.github.com/repos/apache/pulsar/issues/83","id":259900546,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTkwMDU0Ng==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-11T07:47:58Z","updated_at":"2016-11-11T07:47:58Z","author_association":"CONTRIBUTOR","body":"@sschepens I have added the implementation with `receiveAsync` that I was mentioning above in #106. Please take a look.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259900546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259901375","html_url":"https://github.com/apache/pulsar/pull/104#issuecomment-259901375","issue_url":"https://api.github.com/repos/apache/pulsar/issues/104","id":259901375,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTkwMTM3NQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-11T07:54:27Z","updated_at":"2016-11-11T07:54:27Z","author_association":"CONTRIBUTOR","body":"I think the \"receive rate\"  already depends effectively on the rate on which the application calls `receive()`. The \"refill threshold\" should not affect the receiving rate. It's just a trick to avoid the consumer being too chatty with the broker and trying to ask for one more message at a time. \n\nI haven't tried, but I would expect difference in receiving rates between 2 consumers with same queue size and different refill thresholds.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/259901375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260021923","html_url":"https://github.com/apache/pulsar/pull/107#issuecomment-260021923","issue_url":"https://api.github.com/repos/apache/pulsar/issues/107","id":260021923,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDAyMTkyMw==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-11T18:24:21Z","updated_at":"2016-11-11T18:24:21Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260021923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260077161","html_url":"https://github.com/apache/pulsar/pull/108#issuecomment-260077161","issue_url":"https://api.github.com/repos/apache/pulsar/issues/108","id":260077161,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDA3NzE2MQ==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-11T23:12:32Z","updated_at":"2016-11-11T23:12:32Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260077161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260242446","html_url":"https://github.com/apache/pulsar/issues/109#issuecomment-260242446","issue_url":"https://api.github.com/repos/apache/pulsar/issues/109","id":260242446,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDI0MjQ0Ng==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-14T03:46:00Z","updated_at":"2016-11-14T03:46:00Z","author_association":"CONTRIBUTOR","body":"Good point. Documenting the binary protocol was on the TODO list although got pushed over a bit. I'll try to get a it shortly.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260242446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260340421","html_url":"https://github.com/apache/pulsar/pull/104#issuecomment-260340421","issue_url":"https://api.github.com/repos/apache/pulsar/issues/104","id":260340421,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDM0MDQyMQ==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-14T13:56:13Z","updated_at":"2016-11-14T13:56:13Z","author_association":"CONTRIBUTOR","body":"@merlimat it could make sense to tweak this, a consumer may be consuming faster than a roundtrip to the broker, then it would be with an empty queue pretty often.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260340421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260410420","html_url":"https://github.com/apache/pulsar/pull/101#issuecomment-260410420","issue_url":"https://api.github.com/repos/apache/pulsar/issues/101","id":260410420,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQxMDQyMA==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-14T17:58:42Z","updated_at":"2016-11-14T17:58:42Z","author_association":"CONTRIBUTOR","body":"@merlimat do the latest changes seem ok?\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260410420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260412776","html_url":"https://github.com/apache/pulsar/pull/83#issuecomment-260412776","issue_url":"https://api.github.com/repos/apache/pulsar/issues/83","id":260412776,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQxMjc3Ng==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-14T18:07:02Z","updated_at":"2016-11-14T18:07:02Z","author_association":"CONTRIBUTOR","body":"Merged #106\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260412776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260412866","html_url":"https://github.com/apache/pulsar/issues/80#issuecomment-260412866","issue_url":"https://api.github.com/repos/apache/pulsar/issues/80","id":260412866,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQxMjg2Ng==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-14T18:07:23Z","updated_at":"2016-11-14T18:07:23Z","author_association":"CONTRIBUTOR","body":"Fixed by #106 \n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260412866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260422375","html_url":"https://github.com/apache/pulsar/pull/104#issuecomment-260422375","issue_url":"https://api.github.com/repos/apache/pulsar/issues/104","id":260422375,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQyMjM3NQ==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-14T18:40:53Z","updated_at":"2016-11-14T18:40:53Z","author_association":"CONTRIBUTOR","body":"@sschepens But wouldn't that case be handled by just increasing the queue size? Default is 1000, but if you raise that to 65K, that would mean you need to process 32K messages in less than one RTT. \n\nIn practice, we have seen that with 1000 we could consume way more than 50K msg/s (unbatched)\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260422375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260459052","html_url":"https://github.com/apache/pulsar/pull/101#issuecomment-260459052","issue_url":"https://api.github.com/repos/apache/pulsar/issues/101","id":260459052,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ1OTA1Mg==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-14T20:52:50Z","updated_at":"2016-11-14T20:52:50Z","author_association":"CONTRIBUTOR","body":"@merlimat test `SimpleProducerConsumerStatTest#testSyncProducerAndConsumer` keeps failing consistently at line 112 and I don't know exactly why, could you give it a look?\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260459052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260482795","html_url":"https://github.com/apache/pulsar/pull/104#issuecomment-260482795","issue_url":"https://api.github.com/repos/apache/pulsar/issues/104","id":260482795,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ4Mjc5NQ==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-14T22:23:09Z","updated_at":"2016-11-14T22:23:09Z","author_association":"CONTRIBUTOR","body":"> @sschepens But wouldn't that case be handled by just increasing the queue size? Default is 1000, but if you raise that to 65K, that would mean you need to process 32K messages in less than one RTT.\n\nYes it could, but it would also mean more memory usage, more so in the case of multiple consumers on a same jvm.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260482795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260493606","html_url":"https://github.com/apache/pulsar/pull/101#issuecomment-260493606","issue_url":"https://api.github.com/repos/apache/pulsar/issues/101","id":260493606,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ5MzYwNg==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-14T23:07:44Z","updated_at":"2016-11-14T23:07:44Z","author_association":"CONTRIBUTOR","body":"@sschepens There seems to be a small conflict on `ConsumerImpl.java`\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260493606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260494723","html_url":"https://github.com/apache/pulsar/pull/88#issuecomment-260494723","issue_url":"https://api.github.com/repos/apache/pulsar/issues/88","id":260494723,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ5NDcyMw==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-14T23:12:57Z","updated_at":"2016-11-14T23:12:57Z","author_association":"CONTRIBUTOR","body":"@merlimat pushed a generic implementation, could you review this again please?\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260494723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260498979","html_url":"https://github.com/apache/pulsar/pull/101#issuecomment-260498979","issue_url":"https://api.github.com/repos/apache/pulsar/issues/101","id":260498979,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ5ODk3OQ==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-14T23:34:23Z","updated_at":"2016-11-14T23:34:23Z","author_association":"CONTRIBUTOR","body":"> @sschepens There seems to be a small conflict on ConsumerImpl.java\n\nfixed\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260498979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260757557","html_url":"https://github.com/apache/pulsar/issues/110#issuecomment-260757557","issue_url":"https://api.github.com/repos/apache/pulsar/issues/110","id":260757557,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDc1NzU1Nw==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-15T20:27:15Z","updated_at":"2016-11-15T20:27:15Z","author_association":"CONTRIBUTOR","body":"Ok, there have been several changes in the Bookie RocksDB index that got picked in 1.15. At the same time we haven't updated the cluster settings in `conf/bookkeeper.conf`. \n\nThese are the new config settings with their default values:\n\n``` properties\ndbStorage_rocksDB_writeBufferSizeMB=64\ndbStorage_rocksDB_sstSizeInMB=64\ndbStorage_rocksDB_blockSize=65536\ndbStorage_rocksDB_bloomFilterBitsPerKey=10\ndbStorage_rocksDB_blockCacheSize=268435456 # 256 MBytes\ndbStorage_rocksDB_numLevels=-1\ndbStorage_rocksDB_numFilesInLevel0=4\ndbStorage_rocksDB_maxSizeInLevel1MB=256\n```\n\nIn production we're using these values, you can adjust the memory size to your machines.\n\n``` properties\n# This is where the data is stored before flushing. This will come from JVM direct memory.\ndbStorage_writeCacheMaxSizeMb=8192\n\n# Read-ahead cache to speed up backlog draining. From direct memory\ndbStorage_readAheadCacheMaxSizeMb=4096\n\n# Give 4GBytes to RocksDB block cache. Ideally this cache should be big enough\n# to contain most of the locations index data/bookkeeper/ledgers/current/locations/\ndbStorage_rocksDB_blockCacheSize=4294967296\n```\n\nIn particular, I believe the `blockCacheSize` is what is affecting the performance in your case.\n\nI'll update the conf files to include the new config variables.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260757557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260768129","html_url":"https://github.com/apache/pulsar/issues/110#issuecomment-260768129","issue_url":"https://api.github.com/repos/apache/pulsar/issues/110","id":260768129,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDc2ODEyOQ==","user":{"login":"sschepens","id":3072509,"node_id":"MDQ6VXNlcjMwNzI1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3072509?v=4","gravatar_id":"","url":"https://api.github.com/users/sschepens","html_url":"https://github.com/sschepens","followers_url":"https://api.github.com/users/sschepens/followers","following_url":"https://api.github.com/users/sschepens/following{/other_user}","gists_url":"https://api.github.com/users/sschepens/gists{/gist_id}","starred_url":"https://api.github.com/users/sschepens/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sschepens/subscriptions","organizations_url":"https://api.github.com/users/sschepens/orgs","repos_url":"https://api.github.com/users/sschepens/repos","events_url":"https://api.github.com/users/sschepens/events{/privacy}","received_events_url":"https://api.github.com/users/sschepens/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-15T21:07:04Z","updated_at":"2016-11-15T21:07:04Z","author_association":"CONTRIBUTOR","body":"Hmm tried those configs, still seeing 100% cpu usage.\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260768129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260791690","html_url":"https://github.com/apache/pulsar/issues/110#issuecomment-260791690","issue_url":"https://api.github.com/repos/apache/pulsar/issues/110","id":260791690,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDc5MTY5MA==","user":{"login":"merlimat","id":62500,"node_id":"MDQ6VXNlcjYyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/62500?v=4","gravatar_id":"","url":"https://api.github.com/users/merlimat","html_url":"https://github.com/merlimat","followers_url":"https://api.github.com/users/merlimat/followers","following_url":"https://api.github.com/users/merlimat/following{/other_user}","gists_url":"https://api.github.com/users/merlimat/gists{/gist_id}","starred_url":"https://api.github.com/users/merlimat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merlimat/subscriptions","organizations_url":"https://api.github.com/users/merlimat/orgs","repos_url":"https://api.github.com/users/merlimat/repos","events_url":"https://api.github.com/users/merlimat/events{/privacy}","received_events_url":"https://api.github.com/users/merlimat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-15T22:32:31Z","updated_at":"2016-11-15T22:32:31Z","author_association":"CONTRIBUTOR","body":"How big is the directory DB in `data/bookkeeper/ledgers/current/locations/` ? Are you using SSDs or HDDs? \n\nCan you enable bookie stats? \n\nFor example, to report stats to SLF4J logger, add this to `bookkeeper.conf` : \n\n``` properties\nstatsProviderClass=org.apache.bookkeeper.stats.CodahaleMetricsProvider\ncodahaleStatsSlf4jEndpoint=stats\n```\n\nThis should report the stats every 1 minute in the bookie log file.\n\nOne other thing you can try is to reduce the read-ahead cache, even try to disable it: \n\n``` properties\ndbStorage_readAheadCacheBatchSize=0\n```\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260791690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260807938","html_url":"https://github.com/apache/pulsar/pull/111#issuecomment-260807938","issue_url":"https://api.github.com/repos/apache/pulsar/issues/111","id":260807938,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDgwNzkzOA==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-15T23:48:21Z","updated_at":"2016-11-15T23:48:21Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260807938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260807939","html_url":"https://github.com/apache/pulsar/pull/111#issuecomment-260807939","issue_url":"https://api.github.com/repos/apache/pulsar/issues/111","id":260807939,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDgwNzkzOQ==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-15T23:48:21Z","updated_at":"2016-11-15T23:48:21Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260807939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260814293","html_url":"https://github.com/apache/pulsar/pull/112#issuecomment-260814293","issue_url":"https://api.github.com/repos/apache/pulsar/issues/112","id":260814293,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDgxNDI5Mw==","user":{"login":"yahoocla","id":6155154,"node_id":"MDQ6VXNlcjYxNTUxNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6155154?v=4","gravatar_id":"","url":"https://api.github.com/users/yahoocla","html_url":"https://github.com/yahoocla","followers_url":"https://api.github.com/users/yahoocla/followers","following_url":"https://api.github.com/users/yahoocla/following{/other_user}","gists_url":"https://api.github.com/users/yahoocla/gists{/gist_id}","starred_url":"https://api.github.com/users/yahoocla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yahoocla/subscriptions","organizations_url":"https://api.github.com/users/yahoocla/orgs","repos_url":"https://api.github.com/users/yahoocla/repos","events_url":"https://api.github.com/users/yahoocla/events{/privacy}","received_events_url":"https://api.github.com/users/yahoocla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-16T00:22:34Z","updated_at":"2016-11-16T00:22:34Z","author_association":"NONE","body":"CLA is valid!\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260814293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260834021","html_url":"https://github.com/apache/pulsar/issues/110#issuecomment-260834021","issue_url":"https://api.github.com/repos/apache/pulsar/issues/110","id":260834021,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDgzNDAyMQ==","user":{"login":"DongbinNie","id":8368713,"node_id":"MDQ6VXNlcjgzNjg3MTM=","avatar_url":"https://avatars.githubusercontent.com/u/8368713?v=4","gravatar_id":"","url":"https://api.github.com/users/DongbinNie","html_url":"https://github.com/DongbinNie","followers_url":"https://api.github.com/users/DongbinNie/followers","following_url":"https://api.github.com/users/DongbinNie/following{/other_user}","gists_url":"https://api.github.com/users/DongbinNie/gists{/gist_id}","starred_url":"https://api.github.com/users/DongbinNie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DongbinNie/subscriptions","organizations_url":"https://api.github.com/users/DongbinNie/orgs","repos_url":"https://api.github.com/users/DongbinNie/repos","events_url":"https://api.github.com/users/DongbinNie/events{/privacy}","received_events_url":"https://api.github.com/users/DongbinNie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-16T02:17:22Z","updated_at":"2016-11-16T02:28:22Z","author_association":"NONE","body":"I might encounter the same issue with the latest master branch build running on SAS disk servers with the default bookkeepr configuration, the data/bookkeeper/ledgers/current/locations/ is about 100MB.\n\nAnd the measused throughput with perf consumer is very strange:\n2016-11-16 10:22:40,138 - INFO  - [main:PerformanceConsumer@256] - Throughput received: 199.998  msg/s -- 0.391 Mbit/s\n2016-11-16 10:22:50,138 - INFO  - [main:PerformanceConsumer@256] - Throughput received: 199.979  msg/s -- 0.391 Mbit/s\n2016-11-16 10:23:00,139 - INFO  - [main:PerformanceConsumer@256] - Throughput received: 99.995  msg/s -- 0.195 Mbit/s\n2016-11-16 10:23:10,139 - INFO  - [main:PerformanceConsumer@256] - Throughput received: 199.990  msg/s -- 0.391 Mbit/s\n2016-11-16 10:23:20,140 - INFO  - [main:PerformanceConsumer@256] - Throughput received: 99.995  msg/s -- 0.195 Mbit/s\n\nis there any rate limiter in the processing(bookie, broker, client)?\n\nSome bookies exhaust full of one cpu core with following stack:\n\"BookieReadThread-3181-9-1\" #20 prio=5 os_prio=0 tid=0x00007f26fd35d800 nid=0x56ef runnable [0x00007f25a3e8e000]\n   java.lang.Thread.State: RUNNABLE\n        at org.rocksdb.RocksDB.get(Native Method)\n        at org.rocksdb.RocksDB.get(RocksDB.java:656)\n        at org.apache.bookkeeper.bookie.storage.ldb.KeyValueStorageRocksDB.get(KeyValueStorageRocksDB.java:202)\n        at org.apache.bookkeeper.bookie.storage.ldb.EntryLocationIndex.getLocation(EntryLocationIndex.java:82)\n        at org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage.fillReadAheadCache(DbLedgerStorage.java:429)\n        at org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage.getEntry(DbLedgerStorage.java:404)\n        at org.apache.bookkeeper.bookie.LedgerDescriptorImpl.readEntry(LedgerDescriptorImpl.java:90)\n        at org.apache.bookkeeper.bookie.Bookie.readEntry(Bookie.java:1080)\n        at org.apache.bookkeeper.proto.ReadEntryProcessor.processPacket(ReadEntryProcessor.java:72)\n        at org.apache.bookkeeper.proto.PacketProcessorBase.safeRun(PacketProcessorBase.java:82)\n        at org.apache.bookkeeper.util.SafeRunnable.run(SafeRunnable.java:31)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at io.netty.util.concurrent.DefaultThreadFactory$DefaultRunnableDecorator.run(DefaultThreadFactory.java:144)\n        at java.lang.Thread.run(Thread.java:745)\n\nI looked at the Bookkeeper's code a little bit, it seems the org.apache.bookkeeper.bookie.storage.ldb.DbLedgerStorage.fillReadAheadCache(long, long, long) is not such efficient that it looks up every entry's location from rocksdb other than using rocksdb's iterator interface to retrieve the locations in batch behavior.\n\nCan I disable rocksdb?\n\nThanks\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260834021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260894019","html_url":"https://github.com/apache/pulsar/issues/110#issuecomment-260894019","issue_url":"https://api.github.com/repos/apache/pulsar/issues/110","id":260894019,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDg5NDAxOQ==","user":{"login":"DongbinNie","id":8368713,"node_id":"MDQ6VXNlcjgzNjg3MTM=","avatar_url":"https://avatars.githubusercontent.com/u/8368713?v=4","gravatar_id":"","url":"https://api.github.com/users/DongbinNie","html_url":"https://github.com/DongbinNie","followers_url":"https://api.github.com/users/DongbinNie/followers","following_url":"https://api.github.com/users/DongbinNie/following{/other_user}","gists_url":"https://api.github.com/users/DongbinNie/gists{/gist_id}","starred_url":"https://api.github.com/users/DongbinNie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DongbinNie/subscriptions","organizations_url":"https://api.github.com/users/DongbinNie/orgs","repos_url":"https://api.github.com/users/DongbinNie/repos","events_url":"https://api.github.com/users/DongbinNie/events{/privacy}","received_events_url":"https://api.github.com/users/DongbinNie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-16T09:17:17Z","updated_at":"2016-11-16T09:22:04Z","author_association":"NONE","body":"I modified perf consumer to print out throughput every second, it seems related to the default dbStorage_readAheadCacheBatchSize=1000\n\n2016-11-16 17:16:12,415 - INFO  - [main:PerformanceConsumer@263] - Throughput received: 999.650  msg/s -- 1.952 Mbit/s\n2016-11-16 17:16:13,416 - INFO  - [main:PerformanceConsumer@263] - Throughput received: 0.000  msg/s -- 0.000 Mbit/s\n2016-11-16 17:16:14,416 - INFO  - [main:PerformanceConsumer@263] - Throughput received: 0.000  msg/s -- 0.000 Mbit/s\n2016-11-16 17:16:15,416 - INFO  - [main:PerformanceConsumer@263] - Throughput received: 0.000  msg/s -- 0.000 Mbit/s\n2016-11-16 17:16:16,417 - INFO  - [main:PerformanceConsumer@263] - Throughput received: 0.000  msg/s -- 0.000 Mbit/s\n2016-11-16 17:16:17,417 - INFO  - [main:PerformanceConsumer@263] - Throughput received: 0.000  msg/s -- 0.000 Mbit/s\n2016-11-16 17:16:18,418 - INFO  - [main:PerformanceConsumer@263] - Throughput received: 999.642  msg/s -- 1.952 Mbit/s\n2016-11-16 17:16:19,418 - INFO  - [main:PerformanceConsumer@263] - Throughput received: 0.000  msg/s -- 0.000 Mbit/s\n2016-11-16 17:16:20,418 - INFO  - [main:PerformanceConsumer@263] - Throughput received: 0.000  msg/s -- 0.000 Mbit/s\n2016-11-16 17:16:21,419 - INFO  - [main:PerformanceConsumer@263] - Throughput received: 0.000  msg/s -- 0.000 Mbit/s\n2016-11-16 17:16:22,419 - INFO  - [main:PerformanceConsumer@263] - Throughput received: 0.000  msg/s -- 0.000 Mbit/s\n2016-11-16 17:16:23,420 - INFO  - [main:PerformanceConsumer@263] - Throughput received: 0.000  msg/s -- 0.000 Mbit/s\n2016-11-16 17:16:24,420 - INFO  - [main:PerformanceConsumer@263] - Throughput received: 999.599  msg/s -- 1.952 Mbit/s\n2016-11-16 17:16:25,420 - INFO  - [main:PerformanceConsumer@263] - Throughput received: 0.000  msg/s -- 0.000 Mbit/s\n2016-11-16 17:16:26,421 - INFO  - [main:PerformanceConsumer@263] - Throughput received: 0.000  msg/s -- 0.000 Mbit/s\n2016-11-16 17:16:27,421 - INFO  - [main:PerformanceConsumer@263] - Throughput received: 0.000  msg/s -- 0.000 Mbit/s\n2016-11-16 17:16:28,421 - INFO  - [main:PerformanceConsumer@263] - Throughput received: 0.000  msg/s -- 0.000 Mbit/s\n2016-11-16 17:16:29,422 - INFO  - [main:PerformanceConsumer@263] - Throughput received: 0.000  msg/s -- 0.000 Mbit/s\n2016-11-16 17:16:30,422 - INFO  - [main:PerformanceConsumer@263] - Throughput received: 999.589  msg/s -- 1.952 Mbit/s\n2016-11-16 17:16:31,423 - INFO  - [main:PerformanceConsumer@263] - Throughput received: 0.000  msg/s -- 0.000 Mbit/s\n2016-11-16 17:16:32,423 - INFO  - [main:PerformanceConsumer@263] - Throughput received: 0.000  msg/s -- 0.000 Mbit/s\n2016-11-16 17:16:33,423 - INFO  - [main:PerformanceConsumer@263] - Throughput received: 0.000  msg/s -- 0.000 Mbit/s\n2016-11-16 17:16:34,424 - INFO  - [main:PerformanceConsumer@263] - Throughput received: 0.000  msg/s -- 0.000 Mbit/s\n2016-11-16 17:16:35,424 - INFO  - [main:PerformanceConsumer@263] - Throughput received: 0.000  msg/s -- 0.000 Mbit/s\n2016-11-16 17:16:36,425 - INFO  - [main:PerformanceConsumer@263] - Throughput received: 999.622  msg/s -- 1.952 Mbit/s \n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260894019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260894730","html_url":"https://github.com/apache/pulsar/issues/110#issuecomment-260894730","issue_url":"https://api.github.com/repos/apache/pulsar/issues/110","id":260894730,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDg5NDczMA==","user":{"login":"DongbinNie","id":8368713,"node_id":"MDQ6VXNlcjgzNjg3MTM=","avatar_url":"https://avatars.githubusercontent.com/u/8368713?v=4","gravatar_id":"","url":"https://api.github.com/users/DongbinNie","html_url":"https://github.com/DongbinNie","followers_url":"https://api.github.com/users/DongbinNie/followers","following_url":"https://api.github.com/users/DongbinNie/following{/other_user}","gists_url":"https://api.github.com/users/DongbinNie/gists{/gist_id}","starred_url":"https://api.github.com/users/DongbinNie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DongbinNie/subscriptions","organizations_url":"https://api.github.com/users/DongbinNie/orgs","repos_url":"https://api.github.com/users/DongbinNie/repos","events_url":"https://api.github.com/users/DongbinNie/events{/privacy}","received_events_url":"https://api.github.com/users/DongbinNie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-16T09:20:28Z","updated_at":"2016-11-16T09:20:28Z","author_association":"NONE","body":"I also tried to increased dbStorage_rocksDB_blockCacheSize to 512M, the throughput still the same and the cpu usage still 100%.\n\nAfter enabled stat, the log:\n2016-11-16 16:56:37,546 - INFO  [metrics-logger-reporter-thread-1:MarkerIgnoringBase@107] - type=TIMER, name=bookie.storage.read-cache-hits, count=21671, min=6.879999999999999E-4, max=0.035417, mean=0.0015175175097276263, stddev=0.0019345367031356107, median=0.001241, p75=0.0014857499999999999, p95=0.002438899999999998, p98=0.0035251799999999945, p99=0.005444550000000007, p999=0.03535641900000001, mean_rate=22.58734472301873, m1=84.39411867058821, m5=48.11240752194036, m15=20.77283687896956, rate_unit=events/second, duration_unit=milliseconds\n2016-11-16 16:56:37,546 - INFO  [metrics-logger-reporter-thread-1:MarkerIgnoringBase@107] - type=TIMER, name=bookie.storage.read-cache-hits-fail, count=0, min=0.0, max=0.0, mean=0.0, stddev=0.0, median=0.0, p75=0.0, p95=0.0, p98=0.0, p99=0.0, p999=0.0, mean_rate=0.0, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds\n2016-11-16 16:56:37,546 - INFO  [metrics-logger-reporter-thread-1:MarkerIgnoringBase@107] - type=TIMER, name=bookie.storage.read-cache-misses, count=44, min=5377.533544999999, max=8165.4839249999995, mean=6163.4561557045445, stddev=682.8165566878679, median=5878.1123275, p75=6319.618259999999, p95=7783.444525749999, p98=8165.4839249999995, p99=8165.4839249999995, p999=8165.4839249999995, mean_rate=0.04586050502350609, m1=0.16778861957075686, m5=0.09613923674913623, m15=0.041518573863973486, rate_unit=events/second, duration_unit=milliseconds\n2016-11-16 16:56:37,546 - INFO  [metrics-logger-reporter-thread-1:MarkerIgnoringBase@107] - type=TIMER, name=bookie.storage.read-cache-misses-fail, count=0, min=0.0, max=0.0, mean=0.0, stddev=0.0, median=0.0, p75=0.0, p95=0.0, p98=0.0, p99=0.0, p999=0.0, mean_rate=0.0, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds\n2016-11-16 16:56:37,546 - INFO  [metrics-logger-reporter-thread-1:MarkerIgnoringBase@107] - type=TIMER, name=bookie.storage.read-entry, count=21739, min=0.001761, max=6258.103631, mean=11.848359065175098, stddev=268.50722523997473, median=0.002434, p75=0.00310275, p95=0.004722399999999999, p98=0.0058926999999999955, p99=0.007628020000000005, p999=6248.241737416001, mean_rate=22.658196992965564, m1=84.5629030485838, m5=48.20859873250287, m15=20.814361490027295, rate_unit=events/second, duration_unit=milliseconds\n2016-11-16 16:56:37,547 - INFO  [metrics-logger-reporter-thread-1:MarkerIgnoringBase@107] - type=TIMER, name=bookie.storage.read-entry-fail, count=1, min=0.324559, max=0.324559, mean=0.324559, stddev=0.0, median=0.324559, p75=0.324559, p95=0.324559, p98=0.324559, p99=0.324559, p999=0.324559, mean_rate=0.0010422832855265462, m1=1.383502708828376E-4, m5=0.0012784533730485269, m15=8.072816662657008E-4, rate_unit=events/second, duration_unit=milliseconds\n2016-11-16 16:56:37,547 - INFO  [metrics-logger-reporter-thread-1:MarkerIgnoringBase@107] - type=TIMER, name=bookie.storage.readahead-batch-count, count=44, min=1000.0, max=1000.0, mean=1000.0, stddev=0.0, median=1000.0, p75=1000.0, p95=1000.0, p98=1000.0, p99=1000.0, p999=1000.0, mean_rate=0.045860470597819974, m1=0.16778861957075686, m5=0.09613923674913623, m15=0.041518573863973486, rate_unit=events/second, duration_unit=milliseconds\n2016-11-16 16:56:37,547 - INFO  [metrics-logger-reporter-thread-1:MarkerIgnoringBase@107] - type=TIMER, name=bookie.storage.readahead-batch-count-fail, count=0, min=0.0, max=0.0, mean=0.0, stddev=0.0, median=0.0, p75=0.0, p95=0.0, p98=0.0, p99=0.0, p999=0.0, mean_rate=0.0, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds\n2016-11-16 16:56:37,547 - INFO  [metrics-logger-reporter-thread-1:MarkerIgnoringBase@107] - type=TIMER, name=bookie.storage.readahead-batch-size, count=44, min=332000.0, max=332000.0, mean=332000.0, stddev=0.0, median=332000.0, p75=332000.0, p95=332000.0, p98=332000.0, p99=332000.0, p999=332000.0, mean_rate=0.04586046636091089, m1=0.16778861957075686, m5=0.09613923674913623, m15=0.041518573863973486, rate_unit=events/second, duration_unit=milliseconds\n2016-11-16 16:56:37,547 - INFO  [metrics-logger-reporter-thread-1:MarkerIgnoringBase@107] - type=TIMER, name=bookie.storage.readahead-batch-size-fail, count=0, min=0.0, max=0.0, mean=0.0, stddev=0.0, median=0.0, p75=0.0, p95=0.0, p98=0.0, p99=0.0, p999=0.0, mean_rate=0.0, m1=0.0, m5=0.0, m15=0.0, rate_unit=events/second, duration_unit=milliseconds\n","reactions":{"url":"https://api.github.com/repos/apache/pulsar/issues/comments/260894730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]