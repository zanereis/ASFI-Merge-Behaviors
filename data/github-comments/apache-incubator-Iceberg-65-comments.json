[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739450062","html_url":"https://github.com/apache/iceberg/issues/1865#issuecomment-739450062","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1865","id":739450062,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTQ1MDA2Mg==","user":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-06T03:42:26Z","updated_at":"2020-12-06T03:42:26Z","author_association":"MEMBER","body":"Also +1 for attaching `shade-sources`.\r\nWe use `iceberg-*-runtime` directly in `pom.xml` to avoid conflicting with exist cdh6 dependencies. For example, cdh6 use `hive-2.1.1` which bundled `hive-orc` instead of `apache-orc`, but with same package path, the new `apache-orc` will break the build.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739450062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739502286","html_url":"https://github.com/apache/iceberg/pull/1840#issuecomment-739502286","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1840","id":739502286,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTUwMjI4Ng==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-06T13:24:20Z","updated_at":"2020-12-06T13:24:20Z","author_association":"CONTRIBUTOR","body":"Thanks @marton-bod  for the review and @shardulm94 for the review and the push!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739502286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739513800","html_url":"https://github.com/apache/iceberg/issues/1470#issuecomment-739513800","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1470","id":739513800,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTUxMzgwMA==","user":{"login":"kesavkolla","id":274645,"node_id":"MDQ6VXNlcjI3NDY0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/274645?v=4","gravatar_id":"","url":"https://api.github.com/users/kesavkolla","html_url":"https://github.com/kesavkolla","followers_url":"https://api.github.com/users/kesavkolla/followers","following_url":"https://api.github.com/users/kesavkolla/following{/other_user}","gists_url":"https://api.github.com/users/kesavkolla/gists{/gist_id}","starred_url":"https://api.github.com/users/kesavkolla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kesavkolla/subscriptions","organizations_url":"https://api.github.com/users/kesavkolla/orgs","repos_url":"https://api.github.com/users/kesavkolla/repos","events_url":"https://api.github.com/users/kesavkolla/events{/privacy}","received_events_url":"https://api.github.com/users/kesavkolla/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-06T14:54:03Z","updated_at":"2020-12-06T14:54:03Z","author_association":"NONE","body":"I also have very similar requirement. I'm not using hadoop or spark I just want to interact with the S3 and HiveMetaStore. Currently there is no way to use HiveMetaStoreClient and use iceberg. Any idea when will this be implemented?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739513800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739743556","html_url":"https://github.com/apache/iceberg/pull/1835#issuecomment-739743556","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1835","id":739743556,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTc0MzU1Ng==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T07:59:03Z","updated_at":"2020-12-07T07:59:03Z","author_association":"MEMBER","body":"@zhangjun0x01 @rdsr  Thanks for the patch and reviewing work.  It would be better if we can follow the commit message rule that has a `module` name and a message log to explain that's the change.  I mean this PR commit message can be written as `Hive: Only provide iceberg tables in HiveCatalog listTables` .   It's okay for this one if we've really merged this :-).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739743556/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739776913","html_url":"https://github.com/apache/iceberg/pull/1835#issuecomment-739776913","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1835","id":739776913,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTc3NjkxMw==","user":{"login":"zhangjun0x01","id":25563794,"node_id":"MDQ6VXNlcjI1NTYzNzk0","avatar_url":"https://avatars.githubusercontent.com/u/25563794?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangjun0x01","html_url":"https://github.com/zhangjun0x01","followers_url":"https://api.github.com/users/zhangjun0x01/followers","following_url":"https://api.github.com/users/zhangjun0x01/following{/other_user}","gists_url":"https://api.github.com/users/zhangjun0x01/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangjun0x01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangjun0x01/subscriptions","organizations_url":"https://api.github.com/users/zhangjun0x01/orgs","repos_url":"https://api.github.com/users/zhangjun0x01/repos","events_url":"https://api.github.com/users/zhangjun0x01/events{/privacy}","received_events_url":"https://api.github.com/users/zhangjun0x01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T08:59:09Z","updated_at":"2020-12-07T08:59:09Z","author_association":"CONTRIBUTOR","body":"> @zhangjun0x01 @rdsr Thanks for the patch and reviewing work. It would be better if we can follow the commit message rule that has a `module` name and a message log to explain that's the change. I mean this PR commit message can be written as `Hive: Only provide iceberg tables in HiveCatalog listTables` . It's okay for this one if we've really merged this :-).\r\n\r\nOK,I updated it","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739776913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739803767","html_url":"https://github.com/apache/iceberg/issues/1883#issuecomment-739803767","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1883","id":739803767,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTgwMzc2Nw==","user":{"login":"zhangjun0x01","id":25563794,"node_id":"MDQ6VXNlcjI1NTYzNzk0","avatar_url":"https://avatars.githubusercontent.com/u/25563794?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangjun0x01","html_url":"https://github.com/zhangjun0x01","followers_url":"https://api.github.com/users/zhangjun0x01/followers","following_url":"https://api.github.com/users/zhangjun0x01/following{/other_user}","gists_url":"https://api.github.com/users/zhangjun0x01/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangjun0x01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangjun0x01/subscriptions","organizations_url":"https://api.github.com/users/zhangjun0x01/orgs","repos_url":"https://api.github.com/users/zhangjun0x01/repos","events_url":"https://api.github.com/users/zhangjun0x01/events{/privacy}","received_events_url":"https://api.github.com/users/zhangjun0x01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T09:47:38Z","updated_at":"2020-12-07T09:47:38Z","author_association":"CONTRIBUTOR","body":"> CREATE CATALOG hive_catalog WITH (\r\n> 'type'='iceberg',\r\n> 'catalog-type'='hive',\r\n> 'uri'='thrift://hd-node-3-41.wakedata.com:9083',\r\n> 'clients'='5',\r\n> 'property-version'='1',\r\n> 'warehouse'='hdfs://HDFSCluster/warehouse'\r\n> );\r\n\r\ntry use hadoop catalog instead of hive catalog to create the  catalog\r\n\r\n ```\r\nCREATE CATALOG hadoop_catalog WITH (\r\n  'type'='iceberg',\r\n  'catalog-type'='hadoop',\r\n  'warehouse'='hdfs://nn:8020/warehouse/path',\r\n  'property-version'='1'\r\n);\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739803767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739834121","html_url":"https://github.com/apache/iceberg/pull/1879#issuecomment-739834121","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1879","id":739834121,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTgzNDEyMQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T10:40:42Z","updated_at":"2020-12-07T10:40:42Z","author_association":"CONTRIBUTOR","body":"This PR looks good to me but I think we should keep calling the `invalidate` method in `CachingCatalog`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739834121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739839023","html_url":"https://github.com/apache/iceberg/pull/1843#issuecomment-739839023","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1843","id":739839023,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTgzOTAyMw==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T10:50:26Z","updated_at":"2020-12-07T10:50:26Z","author_association":"CONTRIBUTOR","body":"Thanks for the review @rdblue I think its looking much better now! The build will fail until #1879 is merged. I will rebase then hopefully we will be ready to go :-)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739839023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739840288","html_url":"https://github.com/apache/iceberg/pull/1843#issuecomment-739840288","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1843","id":739840288,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTg0MDI4OA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T10:52:59Z","updated_at":"2020-12-07T10:54:10Z","author_association":"CONTRIBUTOR","body":"Should we also respect `spark.sql.runSQLOnFiles` in Spark? I am not sure whether we should match built-in sources here.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739840288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739848182","html_url":"https://github.com/apache/iceberg/pull/1877#issuecomment-739848182","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1877","id":739848182,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTg0ODE4Mg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T11:07:32Z","updated_at":"2020-12-07T11:07:32Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR, do you happen to have a link to the open comment from the previous PR?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739848182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739850438","html_url":"https://github.com/apache/iceberg/pull/1877#issuecomment-739850438","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1877","id":739850438,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTg1MDQzOA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T11:11:48Z","updated_at":"2020-12-07T11:11:48Z","author_association":"CONTRIBUTOR","body":"I am not against having a table property but I think we should clearly document the concern of enabling this and discourage using fanout writers in batch jobs. The cost of a local sort is minimal and Spark does this implicitly in batch jobs for built-in V1 tables.\r\n\r\nI think the documentation should be clear about the potential consequences and give a good example.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739850438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739850845","html_url":"https://github.com/apache/iceberg/pull/1877#issuecomment-739850845","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1877","id":739850845,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTg1MDg0NQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T11:12:36Z","updated_at":"2020-12-07T11:12:36Z","author_association":"CONTRIBUTOR","body":"Thanks for working on this, @karuppayya!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739850845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739851600","html_url":"https://github.com/apache/iceberg/issues/1319#issuecomment-739851600","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1319","id":739851600,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTg1MTYwMA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T11:13:59Z","updated_at":"2020-12-07T11:13:59Z","author_association":"CONTRIBUTOR","body":"Thanks for working on this, @zhangjun0x01!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739851600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739855324","html_url":"https://github.com/apache/iceberg/issues/1885#issuecomment-739855324","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1885","id":739855324,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTg1NTMyNA==","user":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T11:21:34Z","updated_at":"2020-12-07T11:21:34Z","author_association":"MEMBER","body":"@JingsongLi @openinx Could you please have a look on this question? Thx.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739855324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739883152","html_url":"https://github.com/apache/iceberg/pull/1877#issuecomment-739883152","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1877","id":739883152,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTg4MzE1Mg==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T12:18:21Z","updated_at":"2020-12-07T12:18:21Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi \r\nHere it is. https://github.com/apache/iceberg/pull/1774#issuecomment-728736862\r\n\r\nI agree we could probably discourage using the option in doc. Probably they would only want to set the table property when their table is only written by streaming query.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739883152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739895879","html_url":"https://github.com/apache/iceberg/pull/1240#issuecomment-739895879","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1240","id":739895879,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTg5NTg3OQ==","user":{"login":"XuQianJin-Stars","id":10494131,"node_id":"MDQ6VXNlcjEwNDk0MTMx","avatar_url":"https://avatars.githubusercontent.com/u/10494131?v=4","gravatar_id":"","url":"https://api.github.com/users/XuQianJin-Stars","html_url":"https://github.com/XuQianJin-Stars","followers_url":"https://api.github.com/users/XuQianJin-Stars/followers","following_url":"https://api.github.com/users/XuQianJin-Stars/following{/other_user}","gists_url":"https://api.github.com/users/XuQianJin-Stars/gists{/gist_id}","starred_url":"https://api.github.com/users/XuQianJin-Stars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuQianJin-Stars/subscriptions","organizations_url":"https://api.github.com/users/XuQianJin-Stars/orgs","repos_url":"https://api.github.com/users/XuQianJin-Stars/repos","events_url":"https://api.github.com/users/XuQianJin-Stars/events{/privacy}","received_events_url":"https://api.github.com/users/XuQianJin-Stars/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T12:44:51Z","updated_at":"2020-12-07T12:44:51Z","author_association":"CONTRIBUTOR","body":"hi @pvary \r\n![image](https://user-images.githubusercontent.com/10494131/101352197-bbca1900-38cc-11eb-9128-7c669bd50fdb.png)\r\nIf it is set to false here, there will be a situation where the hdfs file directory will not be deleted when the flink sql client is deleting the database. What is the reason for this setting to false?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739895879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739941275","html_url":"https://github.com/apache/iceberg/issues/1885#issuecomment-739941275","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1885","id":739941275,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTk0MTI3NQ==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T14:10:02Z","updated_at":"2020-12-07T14:10:02Z","author_association":"MEMBER","body":"@pan3793 , the iceberg flink sink underlying will write  `RowData` into avro/parquet/orc files , no matter which data types you    are writing. So we provided the `MapFunction<T, RowData> mapper` to convert your own data type into `RowData`. So you might need to provide a function to convert `GenericRecord` to `RowData`.   The `TypeInformation<RowData>`  specify your data type for inputstream . \r\n\r\nWe have provided an unit test to write `row` stream to iceberg sink, you may want to take a look. https://github.com/apache/iceberg/blob/master/flink/src/test/java/org/apache/iceberg/flink/sink/TestFlinkIcebergSink.java#L153 .     ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739941275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739955832","html_url":"https://github.com/apache/iceberg/issues/1885#issuecomment-739955832","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1885","id":739955832,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTk1NTgzMg==","user":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T14:34:08Z","updated_at":"2020-12-07T14:34:08Z","author_association":"MEMBER","body":"@openinx Thanks for your response.\r\n\r\n> So you might need to provide a function to convert `GenericRecord` to RowData. The `TypeInformation<RowData>` specify your data type for inputstream .\r\n\r\nThat's definitely what I'm trying to do. My question is, as I already have avro `GenericRecord` and `Schema`, how to write a  generic `MapFunction` to handle all `GenericRecord` properly, convert `GenericRecord` to `RowData` and convert `Schema` to `TypeInformation<RowData>`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739955832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739956963","html_url":"https://github.com/apache/iceberg/pull/1861#issuecomment-739956963","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1861","id":739956963,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTk1Njk2Mw==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T14:35:59Z","updated_at":"2020-12-07T14:35:59Z","author_association":"CONTRIBUTOR","body":"Big thanks @rdblue for reviewing the PR even on Saturday! Really appreciate it!\r\n\r\nYour comments were really useful as usual. Updated the PR so if you have time again I would love to hear you thoughts.\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739956963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739967840","html_url":"https://github.com/apache/iceberg/pull/1781#issuecomment-739967840","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1781","id":739967840,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTk2Nzg0MA==","user":{"login":"marton-bod","id":19599214,"node_id":"MDQ6VXNlcjE5NTk5MjE0","avatar_url":"https://avatars.githubusercontent.com/u/19599214?v=4","gravatar_id":"","url":"https://api.github.com/users/marton-bod","html_url":"https://github.com/marton-bod","followers_url":"https://api.github.com/users/marton-bod/followers","following_url":"https://api.github.com/users/marton-bod/following{/other_user}","gists_url":"https://api.github.com/users/marton-bod/gists{/gist_id}","starred_url":"https://api.github.com/users/marton-bod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marton-bod/subscriptions","organizations_url":"https://api.github.com/users/marton-bod/orgs","repos_url":"https://api.github.com/users/marton-bod/repos","events_url":"https://api.github.com/users/marton-bod/events{/privacy}","received_events_url":"https://api.github.com/users/marton-bod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T14:53:39Z","updated_at":"2020-12-07T14:53:39Z","author_association":"COLLABORATOR","body":"Closing this PR","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739967840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739987048","html_url":"https://github.com/apache/iceberg/issues/1885#issuecomment-739987048","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1885","id":739987048,"node_id":"MDEyOklzc3VlQ29tbWVudDczOTk4NzA0OA==","user":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T15:24:29Z","updated_at":"2020-12-07T15:53:07Z","author_association":"MEMBER","body":"I think I found the solution:\r\n```\r\n@Override\r\nprotected void output(DataStream<GenericRecord> outputStream, org.apache.avro.Schema avroSchema) {\r\n    DataStream<Row> rowDataStream = outputStream.map(genericRecord -> {\r\n        int columnNum = genericRecord.getSchema().getFields().size();\r\n        Object[] rowData = new Object[columnNum];\r\n        for (int i = 0; i < columnNum; i++) {\r\n            rowData[i] = genericRecord.get(i);\r\n        }\r\n        return Row.of(rowData);\r\n    });\r\n    org.apache.iceberg.shaded.org.apache.avro.Schema shadeAvroSchema =\r\n            new org.apache.iceberg.shaded.org.apache.avro.Schema.Parser().parse(avroSchema.toString());\r\n    Schema icebergSchema = AvroSchemaUtil.toIceberg(shadeAvroSchema);\r\n    RowType rowType = FlinkSchemaUtil.convert(icebergSchema);\r\n    TableSchema tableSchema = FlinkSchemaUtil.toSchema(rowType);\r\n    FlinkSink.forRow(rowDataStream, tableSchema)\r\n       .table(table)\r\n       .tableLoader(tableLoader)\r\n       .tableSchema(tableSchema)\r\n       .writeParallelism(parallelism)\r\n       .build();\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/739987048/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740008622","html_url":"https://github.com/apache/iceberg/pull/1240#issuecomment-740008622","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1240","id":740008622,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDAwODYyMg==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T15:58:49Z","updated_at":"2020-12-07T15:58:49Z","author_association":"CONTRIBUTOR","body":"> If it is set to false here, there will be a situation where the hdfs file directory will not be deleted when the flink sql client is deleting the database. What is the reason for this setting to false?\r\n\r\n@XuQianJin-Stars: This PR has not changed the behavior of dropping namespaces. The highlighted code was added with #919\r\n\r\nIndependently of this IMO the best place for these questions would be the dev list, but I guess that we wanted to be conservative about dropping a namespace to prevent accidentally removing wrong directories and with them important data.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740008622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740012420","html_url":"https://github.com/apache/iceberg/issues/1470#issuecomment-740012420","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1470","id":740012420,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDAxMjQyMA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T16:04:59Z","updated_at":"2020-12-07T16:04:59Z","author_association":"CONTRIBUTOR","body":"@kesavkolla: This should not be that complicated. Currently I am focusing on other parts of the code, but if you want to try out yourself and contribute the code, I would be happy to review your change.\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740012420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740014725","html_url":"https://github.com/apache/iceberg/pull/1240#issuecomment-740014725","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1240","id":740014725,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDAxNDcyNQ==","user":{"login":"XuQianJin-Stars","id":10494131,"node_id":"MDQ6VXNlcjEwNDk0MTMx","avatar_url":"https://avatars.githubusercontent.com/u/10494131?v=4","gravatar_id":"","url":"https://api.github.com/users/XuQianJin-Stars","html_url":"https://github.com/XuQianJin-Stars","followers_url":"https://api.github.com/users/XuQianJin-Stars/followers","following_url":"https://api.github.com/users/XuQianJin-Stars/following{/other_user}","gists_url":"https://api.github.com/users/XuQianJin-Stars/gists{/gist_id}","starred_url":"https://api.github.com/users/XuQianJin-Stars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuQianJin-Stars/subscriptions","organizations_url":"https://api.github.com/users/XuQianJin-Stars/orgs","repos_url":"https://api.github.com/users/XuQianJin-Stars/repos","events_url":"https://api.github.com/users/XuQianJin-Stars/events{/privacy}","received_events_url":"https://api.github.com/users/XuQianJin-Stars/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T16:09:02Z","updated_at":"2020-12-07T16:09:02Z","author_association":"CONTRIBUTOR","body":"> > If it is set to false here, there will be a situation where the hdfs file directory will not be deleted when the flink sql client is deleting the database. What is the reason for this setting to false?\r\n> \r\n> @XuQianJin-Stars: This PR has not changed the behavior of dropping namespaces. The highlighted code was added with #919\r\n> \r\n> Independently of this IMO the best place for these questions would be the dev list, but I guess that we wanted to be conservative about dropping a namespace to prevent accidentally removing wrong directories and with them important data.\r\n\r\nThank you, I understand what you mean, do we need to expose the parameter option to the user, let the user decide whether to really delete the database? And the default option is not to delete data.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740014725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740020863","html_url":"https://github.com/apache/iceberg/issues/1808#issuecomment-740020863","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1808","id":740020863,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDAyMDg2Mw==","user":{"login":"shangshengtung","id":9952408,"node_id":"MDQ6VXNlcjk5NTI0MDg=","avatar_url":"https://avatars.githubusercontent.com/u/9952408?v=4","gravatar_id":"","url":"https://api.github.com/users/shangshengtung","html_url":"https://github.com/shangshengtung","followers_url":"https://api.github.com/users/shangshengtung/followers","following_url":"https://api.github.com/users/shangshengtung/following{/other_user}","gists_url":"https://api.github.com/users/shangshengtung/gists{/gist_id}","starred_url":"https://api.github.com/users/shangshengtung/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shangshengtung/subscriptions","organizations_url":"https://api.github.com/users/shangshengtung/orgs","repos_url":"https://api.github.com/users/shangshengtung/repos","events_url":"https://api.github.com/users/shangshengtung/events{/privacy}","received_events_url":"https://api.github.com/users/shangshengtung/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T16:18:45Z","updated_at":"2020-12-07T16:18:45Z","author_association":"NONE","body":"Great thought.  Is USE CATALOG BRANCH clearer If only branches are mutable (and USE CATALOG REFERENCE for tag or hash)?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740020863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740025149","html_url":"https://github.com/apache/iceberg/issues/1808#issuecomment-740025149","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1808","id":740025149,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDAyNTE0OQ==","user":{"login":"shangshengtung","id":9952408,"node_id":"MDQ6VXNlcjk5NTI0MDg=","avatar_url":"https://avatars.githubusercontent.com/u/9952408?v=4","gravatar_id":"","url":"https://api.github.com/users/shangshengtung","html_url":"https://github.com/shangshengtung","followers_url":"https://api.github.com/users/shangshengtung/followers","following_url":"https://api.github.com/users/shangshengtung/following{/other_user}","gists_url":"https://api.github.com/users/shangshengtung/gists{/gist_id}","starred_url":"https://api.github.com/users/shangshengtung/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shangshengtung/subscriptions","organizations_url":"https://api.github.com/users/shangshengtung/orgs","repos_url":"https://api.github.com/users/shangshengtung/repos","events_url":"https://api.github.com/users/shangshengtung/events{/privacy}","received_events_url":"https://api.github.com/users/shangshengtung/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T16:25:37Z","updated_at":"2020-12-07T16:25:37Z","author_association":"NONE","body":"Does it need a LIST CATALOG REFERENCE (some form of git branch)?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740025149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740065847","html_url":"https://github.com/apache/iceberg/pull/1665#issuecomment-740065847","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1665","id":740065847,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDA2NTg0Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T17:31:36Z","updated_at":"2020-12-07T17:31:36Z","author_association":"CONTRIBUTOR","body":"Sorry, I am running a bit behind on this one. Let me try to rebase this in a couple of days.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740065847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740099898","html_url":"https://github.com/apache/iceberg/pull/1879#issuecomment-740099898","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1879","id":740099898,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDA5OTg5OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T18:33:33Z","updated_at":"2020-12-07T18:33:33Z","author_association":"CONTRIBUTOR","body":"Merged this. Thanks for reviewing, @rymurr and @aokolnychyi!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740099898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740102113","html_url":"https://github.com/apache/iceberg/pull/1843#issuecomment-740102113","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1843","id":740102113,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDEwMjExMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T18:37:29Z","updated_at":"2020-12-07T18:37:29Z","author_association":"CONTRIBUTOR","body":"> Should we also respect spark.sql.runSQLOnFiles in Spark? I am not sure whether we should match built-in sources here.\r\n\r\nI don't think so. That setting is for v1. Instead, Spark needs to define how it will pass path-based tables to catalogs, and what the behavior requirements are for those tables. Right now, no one has done the work to find out what the behavior of v1 is or to try to build consensus in the Spark community about what it should be. I think that means that Iceberg should avoid Spark's path-based syntax for now and focus in this PR on the narrower case of passing identifiers for paths used in `DataFrameReader`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740102113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740102830","html_url":"https://github.com/apache/iceberg/pull/1843#issuecomment-740102830","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1843","id":740102830,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDEwMjgzMA==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T18:38:49Z","updated_at":"2020-12-07T18:38:49Z","author_association":"CONTRIBUTOR","body":"just rebased w/ your caching catalog change @rdblue. Hopefully the build shouild be green now\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740102830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740115373","html_url":"https://github.com/apache/iceberg/pull/1825#issuecomment-740115373","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1825","id":740115373,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDExNTM3Mw==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T19:00:42Z","updated_at":"2020-12-07T19:00:42Z","author_association":"CONTRIBUTOR","body":"@jacques-n & @rdblue is this good to go now? I think I have addressed everything but may have missed something.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740115373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740127934","html_url":"https://github.com/apache/iceberg/pull/1843#issuecomment-740127934","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1843","id":740127934,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDEyNzkzNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T19:24:19Z","updated_at":"2020-12-07T19:24:19Z","author_association":"CONTRIBUTOR","body":"Looks good overall. I think I'd prefer to refactor the load and builder creation a little bit, and add that check to the Hadoop builder. Thanks @rymurr!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740127934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740130491","html_url":"https://github.com/apache/iceberg/pull/1843#issuecomment-740130491","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1843","id":740130491,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDEzMDQ5MQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T19:29:21Z","updated_at":"2020-12-07T19:29:21Z","author_association":"MEMBER","body":"What are the plans for a test suite on this? I think this is all going in the right direction I just want to make sure we have a good set of checks to go along with it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740130491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740131244","html_url":"https://github.com/apache/iceberg/pull/1867#issuecomment-740131244","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1867","id":740131244,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDEzMTI0NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T19:30:49Z","updated_at":"2020-12-07T19:30:49Z","author_association":"CONTRIBUTOR","body":"Looks great! Thanks @openinx, I merged this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740131244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740133380","html_url":"https://github.com/apache/iceberg/pull/1843#issuecomment-740133380","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1843","id":740133380,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDEzMzM4MA==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T19:35:03Z","updated_at":"2020-12-07T19:35:03Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer Ive been wondering the same. It is hard to test till #1783 is merged. I will have a think tho\n\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740133380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740138355","html_url":"https://github.com/apache/iceberg/pull/1861#issuecomment-740138355","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1861","id":740138355,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDEzODM1NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T19:43:46Z","updated_at":"2020-12-07T19:43:46Z","author_association":"CONTRIBUTOR","body":"Looks like the last update accidentally included a few .crc files that are temp data from tests. Could you clean up the additions?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740138355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740142181","html_url":"https://github.com/apache/iceberg/pull/1858#issuecomment-740142181","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1858","id":740142181,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDE0MjE4MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T19:51:13Z","updated_at":"2020-12-07T19:51:13Z","author_association":"CONTRIBUTOR","body":"Thanks for the fixes, @openinx! I merged this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740142181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740142982","html_url":"https://github.com/apache/iceberg/pull/1861#issuecomment-740142982","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1861","id":740142982,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDE0Mjk4Mg==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T19:52:48Z","updated_at":"2020-12-07T19:52:48Z","author_association":"CONTRIBUTOR","body":"> Looks like the last update accidentally included a few .crc files that are temp data from tests. Could you clean up the additions?\r\n\r\nOf course. I have removed the extra files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740142982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740145759","html_url":"https://github.com/apache/iceberg/issues/1884#issuecomment-740145759","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1884","id":740145759,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDE0NTc1OQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T19:58:02Z","updated_at":"2020-12-07T19:58:02Z","author_association":"MEMBER","body":"Did you create the Iceberg table first?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740145759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740151085","html_url":"https://github.com/apache/iceberg/pull/1843#issuecomment-740151085","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1843","id":740151085,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDE1MTA4NQ==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T20:08:06Z","updated_at":"2020-12-07T20:08:06Z","author_association":"CONTRIBUTOR","body":"Thanks @rdblue! both the check in HadoopTables and the simplification in SparkCatalog have been added.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740151085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740158245","html_url":"https://github.com/apache/iceberg/pull/1843#issuecomment-740158245","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1843","id":740158245,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDE1ODI0NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T20:22:27Z","updated_at":"2020-12-07T20:22:27Z","author_association":"CONTRIBUTOR","body":"> What are the plans for a test suite on this?\r\n\r\nWe can always add a suite that passes `PathIdentifier` to a catalog. I was also thinking that once this is included with #1783, all of the existing tests for IcebergSource with path tables will be applied.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740158245/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740193832","html_url":"https://github.com/apache/iceberg/pull/1861#issuecomment-740193832","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1861","id":740193832,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDE5MzgzMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T21:34:59Z","updated_at":"2020-12-07T21:34:59Z","author_association":"CONTRIBUTOR","body":"@pvary, it looks like this now includes commits you didn't intend to add. Can you take a look at your branch? I think it's about ready to merge (we can fix the remaining issues later).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740193832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740204099","html_url":"https://github.com/apache/iceberg/pull/1842#issuecomment-740204099","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1842","id":740204099,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDIwNDA5OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T21:56:21Z","updated_at":"2020-12-07T21:56:21Z","author_association":"CONTRIBUTOR","body":"Thanks @pvary! I merged this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740204099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740204238","html_url":"https://github.com/apache/iceberg/issues/1887#issuecomment-740204238","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1887","id":740204238,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDIwNDIzOA==","user":{"login":"jacques-n","id":183350,"node_id":"MDQ6VXNlcjE4MzM1MA==","avatar_url":"https://avatars.githubusercontent.com/u/183350?v=4","gravatar_id":"","url":"https://api.github.com/users/jacques-n","html_url":"https://github.com/jacques-n","followers_url":"https://api.github.com/users/jacques-n/followers","following_url":"https://api.github.com/users/jacques-n/following{/other_user}","gists_url":"https://api.github.com/users/jacques-n/gists{/gist_id}","starred_url":"https://api.github.com/users/jacques-n/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jacques-n/subscriptions","organizations_url":"https://api.github.com/users/jacques-n/orgs","repos_url":"https://api.github.com/users/jacques-n/repos","events_url":"https://api.github.com/users/jacques-n/events{/privacy}","received_events_url":"https://api.github.com/users/jacques-n/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T21:56:40Z","updated_at":"2020-12-07T22:07:58Z","author_association":"NONE","body":"Per my comments in the sync, I think a good standard approach would be:\r\n\r\n- <=X, include directly in the base distribution jars\r\n- &gt;X, separate jar for this catalog modules\r\n\r\nMy vote would be to start with X == 1mb.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740204238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740213550","html_url":"https://github.com/apache/iceberg/pull/1825#issuecomment-740213550","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1825","id":740213550,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDIxMzU1MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T22:16:21Z","updated_at":"2020-12-07T22:16:21Z","author_association":"CONTRIBUTOR","body":"> Currently it treats everything as UTC, to be honest I didn't know about spark.sql.session.timeZone. Want me to change it to respect \"spark.sql.session.timeZone\"? I am personally biased against doing anything with data outside of UTC but if other people are using that setting we should probably not surprise them.\r\n\r\nSince these can be embedded in SQL queries, I think it makes the most sense to match what Spark does.\r\n\r\nThat should be parsing timestamps without an offset or zone using the SQL session time zone. That may default using `spark.sql.session.timeZone`, but there is usually a way to set it in a session so if we can get a live value from Spark then we should try to do that.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740213550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740216095","html_url":"https://github.com/apache/iceberg/pull/1783#issuecomment-740216095","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1783","id":740216095,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDIxNjA5NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T22:21:49Z","updated_at":"2020-12-07T22:21:49Z","author_association":"CONTRIBUTOR","body":"> I like this approach but will it be backward compatible if the user does not set the session catalog as Iceberg session catalog?\r\n\r\nI think I misinterpreted this comment from @aokolnychyi before. I thought he was talking about default catalogs, but now that I've thought about this a bit more there's still a problem if there is no Iceberg catalog configured in the environment. In 2.4, there is no need to configure any Iceberg catalog and we should support the same case, where a user wants to load a table and hasn't configured any catalogs in 3.0.\r\n\r\nI'm not sure how we want to do that exactly. One idea is to ensure that at least one catalog is registered by creating the properties for it. That's a bit ugly, but I can't think of other solutions.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740216095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740231750","html_url":"https://github.com/apache/iceberg/pull/1823#issuecomment-740231750","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1823","id":740231750,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDIzMTc1MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T22:58:13Z","updated_at":"2020-12-07T22:58:13Z","author_association":"CONTRIBUTOR","body":"I'll try to take a look at this tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740231750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740234141","html_url":"https://github.com/apache/iceberg/issues/1626#issuecomment-740234141","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1626","id":740234141,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDIzNDE0MQ==","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T23:04:12Z","updated_at":"2020-12-07T23:04:12Z","author_association":"CONTRIBUTOR","body":"My colleague (@sundargates) and I worked on this design doc: https://docs.google.com/document/d/1q6xaBxUPFwYsW9aXWxYUh7die6O7rDeAPFQcTAMQ0GM/edit#heading=h.z2xhib39g0nm. We would love to get feedbacks from the community. cc @openinx @JingsongLi @kbendick \r\n\r\nRegarding the implementation, we are still waiting for the 1.11.3 release, as we need some of the API changes back-ported from 1.12 branch. Even with 1.11.3, we still need to copy the BulkFormat related code from the file source 1.12.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740234141/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740266323","html_url":"https://github.com/apache/iceberg/issues/1832#issuecomment-740266323","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1832","id":740266323,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDI2NjMyMw==","user":{"login":"wangmiao1981","id":5033592,"node_id":"MDQ6VXNlcjUwMzM1OTI=","avatar_url":"https://avatars.githubusercontent.com/u/5033592?v=4","gravatar_id":"","url":"https://api.github.com/users/wangmiao1981","html_url":"https://github.com/wangmiao1981","followers_url":"https://api.github.com/users/wangmiao1981/followers","following_url":"https://api.github.com/users/wangmiao1981/following{/other_user}","gists_url":"https://api.github.com/users/wangmiao1981/gists{/gist_id}","starred_url":"https://api.github.com/users/wangmiao1981/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangmiao1981/subscriptions","organizations_url":"https://api.github.com/users/wangmiao1981/orgs","repos_url":"https://api.github.com/users/wangmiao1981/repos","events_url":"https://api.github.com/users/wangmiao1981/events{/privacy}","received_events_url":"https://api.github.com/users/wangmiao1981/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T00:28:34Z","updated_at":"2020-12-08T00:28:34Z","author_association":"CONTRIBUTOR","body":"Trying to log an issue for supporting secondary index (https://docs.google.com/document/d/1E1ofBQoKRnX04bWT3utgyHQGaHZoelgXosk_UNsTUuQ/edit). This may be related to the index support. \r\n\r\n@rdblue  please advise if I need to open a new issue. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740266323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740310274","html_url":"https://github.com/apache/iceberg/issues/1884#issuecomment-740310274","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1884","id":740310274,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDMxMDI3NA==","user":{"login":"XuQianJin-Stars","id":10494131,"node_id":"MDQ6VXNlcjEwNDk0MTMx","avatar_url":"https://avatars.githubusercontent.com/u/10494131?v=4","gravatar_id":"","url":"https://api.github.com/users/XuQianJin-Stars","html_url":"https://github.com/XuQianJin-Stars","followers_url":"https://api.github.com/users/XuQianJin-Stars/followers","following_url":"https://api.github.com/users/XuQianJin-Stars/following{/other_user}","gists_url":"https://api.github.com/users/XuQianJin-Stars/gists{/gist_id}","starred_url":"https://api.github.com/users/XuQianJin-Stars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuQianJin-Stars/subscriptions","organizations_url":"https://api.github.com/users/XuQianJin-Stars/orgs","repos_url":"https://api.github.com/users/XuQianJin-Stars/repos","events_url":"https://api.github.com/users/XuQianJin-Stars/events{/privacy}","received_events_url":"https://api.github.com/users/XuQianJin-Stars/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T02:00:30Z","updated_at":"2020-12-08T02:07:26Z","author_association":"CONTRIBUTOR","body":"hi @zuoyebushiwo  There are two ways to successfully create a hive table:\r\n\r\n1. Specify the schema information and perform the following operations to successfully create the table.\r\n`\r\nCREATE EXTERNAL TABLE customers STORED BY 'org.apache.iceberg.mr.hive.HiveIcebergStorageHandler' LOCATION 'hdfs://namenode:8020/cs/table_a' TBLPROPERTIES ('iceberg.mr.table.schema'='{\"type\":\"struct\",\"fields\":[{\"id\":1,\"name\":\"customer_id\",\"required\":false,\"type\":\"long\"},{\"id\":2,\"name\":\"first_name\",\"required\":false,\"type\":\"string\"},{\"id\":3,\"name\":\"last_name\",\"required\":false,\"type\":\"string\"}]}', 'iceberg.mr.table.partition.spec'='{\"spec-id\":0,\"fields\":[{\"name\":\"customer_id\",\"transform\":\"identity\",\"source-id\":1,\"field-id\":1000}]}', 'dummy'='test');\r\n`\r\n2.Create a hive external table on the hdfs path of the existing iceberg table.\r\n`\r\nCREATE EXTERNAL TABLE customers2 STORED BY 'org.apache.iceberg.mr.hive.HiveIcebergStorageHandler' LOCATION 'hdfs://namenode:8020/cs/table_a';\r\n`","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740310274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740316429","html_url":"https://github.com/apache/iceberg/issues/1884#issuecomment-740316429","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1884","id":740316429,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDMxNjQyOQ==","user":{"login":"XuQianJin-Stars","id":10494131,"node_id":"MDQ6VXNlcjEwNDk0MTMx","avatar_url":"https://avatars.githubusercontent.com/u/10494131?v=4","gravatar_id":"","url":"https://api.github.com/users/XuQianJin-Stars","html_url":"https://github.com/XuQianJin-Stars","followers_url":"https://api.github.com/users/XuQianJin-Stars/followers","following_url":"https://api.github.com/users/XuQianJin-Stars/following{/other_user}","gists_url":"https://api.github.com/users/XuQianJin-Stars/gists{/gist_id}","starred_url":"https://api.github.com/users/XuQianJin-Stars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuQianJin-Stars/subscriptions","organizations_url":"https://api.github.com/users/XuQianJin-Stars/orgs","repos_url":"https://api.github.com/users/XuQianJin-Stars/repos","events_url":"https://api.github.com/users/XuQianJin-Stars/events{/privacy}","received_events_url":"https://api.github.com/users/XuQianJin-Stars/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T02:19:26Z","updated_at":"2020-12-08T02:19:26Z","author_association":"CONTRIBUTOR","body":"> Did you create the Iceberg table first?\r\n\r\nhi @RussellSpitzer  Regarding this point, I think the document needs to be updated to further explain in detail.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740316429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740350601","html_url":"https://github.com/apache/iceberg/issues/1884#issuecomment-740350601","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1884","id":740350601,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDM1MDYwMQ==","user":{"login":"zuoyebushiwo","id":10195503,"node_id":"MDQ6VXNlcjEwMTk1NTAz","avatar_url":"https://avatars.githubusercontent.com/u/10195503?v=4","gravatar_id":"","url":"https://api.github.com/users/zuoyebushiwo","html_url":"https://github.com/zuoyebushiwo","followers_url":"https://api.github.com/users/zuoyebushiwo/followers","following_url":"https://api.github.com/users/zuoyebushiwo/following{/other_user}","gists_url":"https://api.github.com/users/zuoyebushiwo/gists{/gist_id}","starred_url":"https://api.github.com/users/zuoyebushiwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zuoyebushiwo/subscriptions","organizations_url":"https://api.github.com/users/zuoyebushiwo/orgs","repos_url":"https://api.github.com/users/zuoyebushiwo/repos","events_url":"https://api.github.com/users/zuoyebushiwo/events{/privacy}","received_events_url":"https://api.github.com/users/zuoyebushiwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T03:28:27Z","updated_at":"2020-12-08T03:28:27Z","author_association":"NONE","body":"> > Did you create the Iceberg table first?\r\n> \r\n> hi @RussellSpitzer Regarding this point, I think the document needs to be updated to further explain in detail.\r\n\r\nthink very much! it help me a lot","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740350601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740352781","html_url":"https://github.com/apache/iceberg/issues/1883#issuecomment-740352781","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1883","id":740352781,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDM1Mjc4MQ==","user":{"login":"zuoyebushiwo","id":10195503,"node_id":"MDQ6VXNlcjEwMTk1NTAz","avatar_url":"https://avatars.githubusercontent.com/u/10195503?v=4","gravatar_id":"","url":"https://api.github.com/users/zuoyebushiwo","html_url":"https://github.com/zuoyebushiwo","followers_url":"https://api.github.com/users/zuoyebushiwo/followers","following_url":"https://api.github.com/users/zuoyebushiwo/following{/other_user}","gists_url":"https://api.github.com/users/zuoyebushiwo/gists{/gist_id}","starred_url":"https://api.github.com/users/zuoyebushiwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zuoyebushiwo/subscriptions","organizations_url":"https://api.github.com/users/zuoyebushiwo/orgs","repos_url":"https://api.github.com/users/zuoyebushiwo/repos","events_url":"https://api.github.com/users/zuoyebushiwo/events{/privacy}","received_events_url":"https://api.github.com/users/zuoyebushiwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T03:35:36Z","updated_at":"2020-12-08T03:35:36Z","author_association":"NONE","body":"> > CREATE CATALOG hive_catalog WITH (\r\n> > 'type'='iceberg',\r\n> > 'catalog-type'='hive',\r\n> > 'uri'='thrift://hd-node-3-41.wakedata.com:9083',\r\n> > 'clients'='5',\r\n> > 'property-version'='1',\r\n> > 'warehouse'='hdfs://HDFSCluster/warehouse'\r\n> > );\r\n> \r\n> try use hadoop catalog instead of hive catalog to create the catalog\r\n> \r\n> ```\r\n> CREATE CATALOG hadoop_catalog WITH (\r\n>  'type'='iceberg',\r\n>  'catalog-type'='hadoop',\r\n>  'warehouse'='hdfs://nn:8020/warehouse/path',\r\n>  'property-version'='1'\r\n> );\r\n> ```\r\n\r\ni see!  this can do this with create hive external table for hive engine query.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740352781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740430700","html_url":"https://github.com/apache/iceberg/pull/1842#issuecomment-740430700","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1842","id":740430700,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDQzMDcwMA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T07:13:09Z","updated_at":"2020-12-08T07:13:09Z","author_association":"CONTRIBUTOR","body":"Thanks @rdblue for the review and the merge!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740430700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740492401","html_url":"https://github.com/apache/iceberg/issues/1832#issuecomment-740492401","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1832","id":740492401,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDQ5MjQwMQ==","user":{"login":"vvellanki","id":5296341,"node_id":"MDQ6VXNlcjUyOTYzNDE=","avatar_url":"https://avatars.githubusercontent.com/u/5296341?v=4","gravatar_id":"","url":"https://api.github.com/users/vvellanki","html_url":"https://github.com/vvellanki","followers_url":"https://api.github.com/users/vvellanki/followers","following_url":"https://api.github.com/users/vvellanki/following{/other_user}","gists_url":"https://api.github.com/users/vvellanki/gists{/gist_id}","starred_url":"https://api.github.com/users/vvellanki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvellanki/subscriptions","organizations_url":"https://api.github.com/users/vvellanki/orgs","repos_url":"https://api.github.com/users/vvellanki/repos","events_url":"https://api.github.com/users/vvellanki/events{/privacy}","received_events_url":"https://api.github.com/users/vvellanki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T09:15:44Z","updated_at":"2020-12-08T09:15:44Z","author_association":"NONE","body":"@wangmiao1981 I was referring to the [following](https://docs.google.com/document/d/1G6GeOXkGSiSTcu0lDS6VA1FtJ_uz9FO4tF2Pffmx9LU/edit#heading=h.48c09kgpva06) when I refer to Partition Index.\r\n\r\nReading your document, these two appear to be quite different:\r\n- The partition index proposal is at the table scope; while secondary indexes are per-file, per-column scope\r\n- The secondary indexes themselves are files - one or more files per data file; as opposed to the partition index (one per snapshot)\r\n\r\n@rdblue @wangmiao1981 I see the Partition Index and Secondary Indexes as being sufficiently different that we should treat them independently","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740492401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740610417","html_url":"https://github.com/apache/iceberg/pull/1783#issuecomment-740610417","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1783","id":740610417,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDYxMDQxNw==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T13:11:29Z","updated_at":"2020-12-08T13:11:29Z","author_association":"CONTRIBUTOR","body":"> I'm not sure how we want to do that exactly. One idea is to ensure that at least one catalog is registered by creating the properties for it. That's a bit ugly, but I can't think of other solutions.\r\n\r\nOne option is to default to the Hive Catalog if no other properties are present. The approach I took in #1875 is to try the Hive catalog if all else fails","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740610417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740621358","html_url":"https://github.com/apache/iceberg/issues/1887#issuecomment-740621358","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1887","id":740621358,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDYyMTM1OA==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T13:33:04Z","updated_at":"2020-12-08T13:33:04Z","author_association":"CONTRIBUTOR","body":"My initial experiment with the Nessie catalog increased the runtime jar size by 500kb as almost all of its dependencies are already included in Spark. I think that is a reasonable increase (<3%) and I would agree w/ @jacques-n  that a small increase in jar size is acceptable if it means we can ship more features to the user.\r\n\r\n@jackye1995 is the Glue catalog small enough if included w/o dependencies? The user only having to add the aws bundle could be useful and we should be able to properly catch the resulting `NoSuchMethodException` and print a helpful error message if the user didn't add the bundle.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740621358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740638215","html_url":"https://github.com/apache/iceberg/pull/1843#issuecomment-740638215","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1843","id":740638215,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDYzODIxNQ==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T14:03:54Z","updated_at":"2020-12-08T14:03:54Z","author_association":"CONTRIBUTOR","body":"I have added a simple test to ensure the correct behaviour of the `SparkCatalog` when passed a `PathIdentifier`. It smoked out one minor bug so thanks @RussellSpitzer!\r\n\r\nAll is up to date now and I think we are just about ready!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740638215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740661426","html_url":"https://github.com/apache/iceberg/pull/1825#issuecomment-740661426","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1825","id":740661426,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDY2MTQyNg==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T14:43:43Z","updated_at":"2020-12-08T14:43:43Z","author_association":"CONTRIBUTOR","body":"Cool, makes sense @rdblue . I have updated to respect the SQL timezone. It is a bit ugly as we have to employ reflection to get hold of spark conf from Nessie.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740661426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740856628","html_url":"https://github.com/apache/iceberg/pull/1878#issuecomment-740856628","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1878","id":740856628,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDg1NjYyOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T18:59:26Z","updated_at":"2020-12-08T18:59:26Z","author_association":"CONTRIBUTOR","body":"After discussing this, we decided it was a risk to get it into Spark. I'm going to close this PR and we can revisit this once stored procedures are in Spark.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740856628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740877489","html_url":"https://github.com/apache/iceberg/pull/1890#issuecomment-740877489","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1890","id":740877489,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDg3NzQ4OQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T19:13:12Z","updated_at":"2020-12-08T19:13:12Z","author_association":"MEMBER","body":"@aokolnychyi All done","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740877489/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740995874","html_url":"https://github.com/apache/iceberg/pull/1890#issuecomment-740995874","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1890","id":740995874,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDk5NTg3NA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T20:40:12Z","updated_at":"2020-12-08T20:40:12Z","author_association":"CONTRIBUTOR","body":"This looks good to me except the remaining open points.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/740995874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741077821","html_url":"https://github.com/apache/iceberg/issues/1887#issuecomment-741077821","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1887","id":741077821,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTA3NzgyMQ==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T21:41:04Z","updated_at":"2020-12-08T21:41:04Z","author_association":"CONTRIBUTOR","body":"> My vote would be to start with X == 1mb.\r\n\r\n> @jackye1995 is the Glue catalog small enough if included w/o dependencies?\r\n\r\nYeah that's actually a good way to go, basically mark all the AWS dependencies as provided. In that case the added jar size will only be the `iceberg-aws` itself which is 53KB.\r\n\r\nSo the user experience would be something like:\r\n\r\n```\r\nspark-sql --packages org.apache.iceberg:iceberg-spark3-runtime:0.11.0,software.amazon.awssdk:bundle:2.15.40 \\\r\n    --conf spark.sql.catalog.test=org.apache.iceberg.spark.SparkCatalog \\\r\n    --conf spark.sql.catalog.test.catalog-impl=org.apache.iceberg.aws.glue.GlueCatalog \\\r\n    --conf spark.sql.catalog.test.warehouse=s3://some-bucket\r\n```\r\n\r\nwhich looks good to me.\r\n\r\nI will put up a PR for this after #1823 and #1844 are merged to change dependencies to `compileOnly`. \r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741077821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741128713","html_url":"https://github.com/apache/iceberg/pull/1843#issuecomment-741128713","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1843","id":741128713,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTEyODcxMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T22:20:49Z","updated_at":"2020-12-08T22:20:49Z","author_association":"CONTRIBUTOR","body":"Thanks for the fixes! I merged this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741128713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741131151","html_url":"https://github.com/apache/iceberg/pull/1783#issuecomment-741131151","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1783","id":741131151,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTEzMTE1MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T22:22:41Z","updated_at":"2020-12-08T22:22:41Z","author_association":"CONTRIBUTOR","body":"> One option is to default to the Hive Catalog if no other properties are present.\r\n\r\nI don't think that would work because some catalog name must be returned. We could only use a hive catalog if we've create one.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741131151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741231960","html_url":"https://github.com/apache/iceberg/pull/1892#issuecomment-741231960","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1892","id":741231960,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTIzMTk2MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T23:32:56Z","updated_at":"2020-12-08T23:32:56Z","author_association":"CONTRIBUTOR","body":"Thanks @yyanyy! I think this just needs to fix the exception message and then it's ready to go in.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741231960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741244167","html_url":"https://github.com/apache/iceberg/pull/1890#issuecomment-741244167","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1890","id":741244167,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTI0NDE2Nw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T23:41:22Z","updated_at":"2020-12-08T23:41:22Z","author_association":"MEMBER","body":"We can always change the message when we get the procedure name code in\n\nOn Tue, Dec 8, 2020, 5:40 PM Ryan Blue <notifications@github.com> wrote:\n\n> *@rdblue* approved this pull request.\n>\n> I would prefer a more concise error message, but that's not a blocker.\n> I'll merge when tests are passing.\n>\n> \n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/pull/1890#pullrequestreview-547725186>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AADE2YKVS2TNJ7MQXYF6ZULST22ONANCNFSM4USIPK2Q>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741244167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741258006","html_url":"https://github.com/apache/iceberg/pull/1854#issuecomment-741258006","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1854","id":741258006,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTI1ODAwNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T23:51:01Z","updated_at":"2020-12-08T23:51:01Z","author_association":"CONTRIBUTOR","body":"I don't have any major concerns about this, so I'm going to merge it to unblock the other work. Thanks @pvary!\r\n\r\nIt would be nice to figure out a better way to traverse the object inspector tree that doesn't require the `FixNameMappingObjectInspector`. I'm not quite sure what that is, but I think it might be a matter of converting the name into a position and accessing the object inspectors by position. That can be done later, though.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741258006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741258868","html_url":"https://github.com/apache/iceberg/pull/1892#issuecomment-741258868","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1892","id":741258868,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTI1ODg2OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T23:51:32Z","updated_at":"2020-12-08T23:51:32Z","author_association":"CONTRIBUTOR","body":"Merged!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741258868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741278674","html_url":"https://github.com/apache/iceberg/pull/1839#issuecomment-741278674","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1839","id":741278674,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTI3ODY3NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T00:05:13Z","updated_at":"2020-12-09T00:05:13Z","author_association":"CONTRIBUTOR","body":"@397090770, I've added this to the agenda for our next community sync. I think we should talk about when Iceberg tables own the storage location and when they should automatically delete a location or prefix.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741278674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741442050","html_url":"https://github.com/apache/iceberg/issues/1885#issuecomment-741442050","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1885","id":741442050,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTQ0MjA1MA==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T02:00:06Z","updated_at":"2020-12-09T02:00:06Z","author_association":"MEMBER","body":"Will it work if the schema has a nested field ?  I think we may need a `converter` which just like the flink's `DataFormatConverters.RowConverter` to convert the avro `GenericRecord` to `RowData` ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741442050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741442756","html_url":"https://github.com/apache/iceberg/issues/1885#issuecomment-741442756","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1885","id":741442756,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTQ0Mjc1Ng==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T02:00:37Z","updated_at":"2020-12-09T02:00:37Z","author_association":"MEMBER","body":"I will try to provide an unit test to show how it work if I have time, Thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741442756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741473849","html_url":"https://github.com/apache/iceberg/issues/1885#issuecomment-741473849","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1885","id":741473849,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTQ3Mzg0OQ==","user":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T02:22:52Z","updated_at":"2020-12-09T02:29:00Z","author_association":"MEMBER","body":"@openinx Thanks for following up on this issue, I haven't test nested field, but found another issue about Logical Types. Our ETL build on CDH-6.3.1 with Avro 1.8.2, which not support generate Java 8 time because of AVRO-2079, and without `converter`, Flink can't handle joda time properly.\r\n\r\n> I think we may need a `converter` which just like the flink's `DataFormatConverters.RowConverter` to convert the avro `GenericRecord` to `RowData` ?\r\n\r\nWe really need that `converter`. All of our ETL job input and output data structures are present by Avro `GenericRecord` because it has `avrc` to define schema in Json, and provide `avro-maven-plugin` to generate Entity automatically. \r\n\r\nPS: We only use avro to manage schemas, but store in ORC. And we are trying to migrate storage format to Iceberg. If iceberg provide schema management tools like avro, may be we can also manage schema by Iceberg.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741473849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741487016","html_url":"https://github.com/apache/iceberg/pull/1893#issuecomment-741487016","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1893","id":741487016,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTQ4NzAxNg==","user":{"login":"zhangjun0x01","id":25563794,"node_id":"MDQ6VXNlcjI1NTYzNzk0","avatar_url":"https://avatars.githubusercontent.com/u/25563794?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangjun0x01","html_url":"https://github.com/zhangjun0x01","followers_url":"https://api.github.com/users/zhangjun0x01/followers","following_url":"https://api.github.com/users/zhangjun0x01/following{/other_user}","gists_url":"https://api.github.com/users/zhangjun0x01/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangjun0x01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangjun0x01/subscriptions","organizations_url":"https://api.github.com/users/zhangjun0x01/orgs","repos_url":"https://api.github.com/users/zhangjun0x01/repos","events_url":"https://api.github.com/users/zhangjun0x01/events{/privacy}","received_events_url":"https://api.github.com/users/zhangjun0x01/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T02:35:00Z","updated_at":"2020-12-09T02:35:00Z","author_association":"CONTRIBUTOR","body":"@openinx  could you help me review the pr when you have time ,thanks ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741487016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741592505","html_url":"https://github.com/apache/iceberg/issues/1831#issuecomment-741592505","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1831","id":741592505,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTU5MjUwNQ==","user":{"login":"GintokiYs","id":51935076,"node_id":"MDQ6VXNlcjUxOTM1MDc2","avatar_url":"https://avatars.githubusercontent.com/u/51935076?v=4","gravatar_id":"","url":"https://api.github.com/users/GintokiYs","html_url":"https://github.com/GintokiYs","followers_url":"https://api.github.com/users/GintokiYs/followers","following_url":"https://api.github.com/users/GintokiYs/following{/other_user}","gists_url":"https://api.github.com/users/GintokiYs/gists{/gist_id}","starred_url":"https://api.github.com/users/GintokiYs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GintokiYs/subscriptions","organizations_url":"https://api.github.com/users/GintokiYs/orgs","repos_url":"https://api.github.com/users/GintokiYs/repos","events_url":"https://api.github.com/users/GintokiYs/events{/privacy}","received_events_url":"https://api.github.com/users/GintokiYs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T07:36:06Z","updated_at":"2020-12-09T07:36:06Z","author_association":"NONE","body":"The property engine.hive.enabled needs to be set to true and added to the table properties when creating the Iceberg table.\r\n```\r\nMap<String, String> tableProperties = new HashMap<String, String>(); \r\ntableProperties.put(TableProperties.ENGINE_HIVE_ENABLED, \"true\"); //engine.hive.enabled=true \r\ncatalog.createTable(tableId, schema, spec, tableProperties);\r\n```\r\nYou may can refer to the Using Hive Catalog module of this article.\r\nhttps://iceberg.apache.org/hive/#using-hive-catalog","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741592505/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741595522","html_url":"https://github.com/apache/iceberg/pull/1854#issuecomment-741595522","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1854","id":741595522,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTU5NTUyMg==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T07:42:51Z","updated_at":"2020-12-09T07:42:51Z","author_association":"CONTRIBUTOR","body":"Thanks @rdblue for the review and the merge!\r\n\r\nIn Hive you always need to provide the name-value pair for structs. AFAIK the only exception is the Schema level struct.\r\nI have been thinking about 2 other solutions:\r\n- Move field matching to be based on the ordering of the fields. We can do it by adding a new input to parameter to `SchemaWithPartnerVisitor<P, R>.PartnerAccessors<P>.fieldPartner(P partnerStruct, int fieldId, String name, int fieldOrderId)`. I do not like this because I do not feel that Struct fields should have specific ordering. It could work, because we are the ones who generate the ObjectInspectors, but still...\r\n- Add the field name to the ObjectInspectors themselves when generating them for the Schema. I do not like this because then we will have specific ObjectInspector instances we have to create and drop.\r\n\r\nSo this is why I have kept the current one which has its own drawbacks, so I am happy to go for a more general solution if we find one.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741595522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741624785","html_url":"https://github.com/apache/iceberg/pull/1873#issuecomment-741624785","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1873","id":741624785,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTYyNDc4NQ==","user":{"login":"raptond","id":30231978,"node_id":"MDQ6VXNlcjMwMjMxOTc4","avatar_url":"https://avatars.githubusercontent.com/u/30231978?v=4","gravatar_id":"","url":"https://api.github.com/users/raptond","html_url":"https://github.com/raptond","followers_url":"https://api.github.com/users/raptond/followers","following_url":"https://api.github.com/users/raptond/following{/other_user}","gists_url":"https://api.github.com/users/raptond/gists{/gist_id}","starred_url":"https://api.github.com/users/raptond/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raptond/subscriptions","organizations_url":"https://api.github.com/users/raptond/orgs","repos_url":"https://api.github.com/users/raptond/repos","events_url":"https://api.github.com/users/raptond/events{/privacy}","received_events_url":"https://api.github.com/users/raptond/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T08:43:53Z","updated_at":"2020-12-09T08:43:53Z","author_association":"CONTRIBUTOR","body":"All comments taken care. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741624785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741650219","html_url":"https://github.com/apache/iceberg/pull/1893#issuecomment-741650219","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1893","id":741650219,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTY1MDIxOQ==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T09:31:19Z","updated_at":"2020-12-09T09:31:19Z","author_association":"MEMBER","body":"Thanks @zhangjun0x01 for contributing,  I will review this patch today or tomorrow. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741650219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741665068","html_url":"https://github.com/apache/iceberg/pull/1890#issuecomment-741665068","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1890","id":741665068,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTY2NTA2OA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T09:58:43Z","updated_at":"2020-12-09T09:58:43Z","author_association":"CONTRIBUTOR","body":"Since you guys are asleep right now, I went ahead and fixed the remanning minor points and submitted a [PR](https://github.com/RussellSpitzer/iceberg/pull/1) against Russell's repo. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741665068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741681514","html_url":"https://github.com/apache/iceberg/issues/1887#issuecomment-741681514","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1887","id":741681514,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTY4MTUxNA==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T10:29:02Z","updated_at":"2020-12-09T10:29:02Z","author_association":"CONTRIBUTOR","body":"I think it would be useful to try and catch any errors that may pop up if a user doesn't have the right classpath setup. I think clearly indicating that you have to add the aws bundle is a lot better than exploding (or worse silently swallowing). This is coming from someone who has spent entirely too much time trying to figure out why my spark job is failing ;-)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741681514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741703853","html_url":"https://github.com/apache/iceberg/pull/1783#issuecomment-741703853","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1783","id":741703853,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTcwMzg1Mw==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T11:11:45Z","updated_at":"2020-12-09T11:11:45Z","author_association":"CONTRIBUTOR","body":"\r\n> I don't think that would work because some catalog name must be returned. We could only use a hive catalog if we've create one.\r\n\r\nAh, yes. I was thinking of it from the `getTable` perspective. I see two options:\r\n\r\n1. as you suggested we register a catalog ourselves if none are registered\r\n2. we fail\r\n\r\nOption 2 is simple but obviously breaks backward compatibility. I don't know how people are using Spark3 and if catalogs are widely adopted so I don't know how bad of a break it is. Option 1 is as you say rather ugly but is backwards compatible.\r\n\r\nMy understanding for Option 1 is the following:\r\n* check if the requested catalog (or current catalog) is able to handle Iceberg\r\n* if yes great, else create and register a `HiveCatalog` and replace the requested catalog w/ the created one\r\n\r\nThis is rather woolly as I don't think we should change the catalog and I don't know how to reliably determine if a catalog supports Iceberg. A `CatalogPlugin` may be a delegating catalog or something that handles Iceberg tables but doesn't extend our `BaseCatalog`.\r\n\r\nI suppose option 3 is to proceed but warn that we can't guarantee the user is actually writing an Iceberg table. But who reads log messages ;-)\r\n\r\nI will post a straw man for option 1 to at least get something to discuss.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741703853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741853376","html_url":"https://github.com/apache/iceberg/pull/1890#issuecomment-741853376","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1890","id":741853376,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTg1MzM3Ng==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T15:38:15Z","updated_at":"2020-12-09T15:38:15Z","author_association":"CONTRIBUTOR","body":"I've merged this. Thanks, everyone!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741853376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741860625","html_url":"https://github.com/apache/iceberg/issues/1898#issuecomment-741860625","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1898","id":741860625,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTg2MDYyNQ==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T15:48:21Z","updated_at":"2020-12-09T15:48:21Z","author_association":"CONTRIBUTOR","body":"@islandgit: Could you please tell us which version of Hive were you using?\r\nAlso could you please provide the output of the `SHOW CREATE TABLE` output for the table mentioned above?\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741860625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741870471","html_url":"https://github.com/apache/iceberg/issues/1898#issuecomment-741870471","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1898","id":741870471,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTg3MDQ3MQ==","user":{"login":"island-lonely","id":25607446,"node_id":"MDQ6VXNlcjI1NjA3NDQ2","avatar_url":"https://avatars.githubusercontent.com/u/25607446?v=4","gravatar_id":"","url":"https://api.github.com/users/island-lonely","html_url":"https://github.com/island-lonely","followers_url":"https://api.github.com/users/island-lonely/followers","following_url":"https://api.github.com/users/island-lonely/following{/other_user}","gists_url":"https://api.github.com/users/island-lonely/gists{/gist_id}","starred_url":"https://api.github.com/users/island-lonely/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/island-lonely/subscriptions","organizations_url":"https://api.github.com/users/island-lonely/orgs","repos_url":"https://api.github.com/users/island-lonely/repos","events_url":"https://api.github.com/users/island-lonely/events{/privacy}","received_events_url":"https://api.github.com/users/island-lonely/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T16:03:04Z","updated_at":"2020-12-09T16:11:15Z","author_association":"NONE","body":"> @islandgit: Could you please tell us which version of Hive were you using?\r\n> Also could you please provide the output of the `SHOW CREATE TABLE` output for the table mentioned above?\r\n> Thanks,\r\n> Peter\r\n\r\n@pvary \r\nThanks for your answer\r\n\r\nmy hive version is  **_2.1.1-cdh6.3.2_**\r\n\r\nSHOW CREATE TABLE is:\r\n+----------------------------------------------------+\r\n|                   createtab_stmt                   |\r\n+----------------------------------------------------+\r\n| CREATE EXTERNAL TABLE `sinoiov_original_data`(     |\r\n|   `gtime` bigint COMMENT '',                                          |\r\n|   `stime` bigint COMMENT '',                                          |\r\n|   `ln` int COMMENT '',                                                     |\r\n|   `lt` int COMMENT '',                                                      |\r\n|   `speed` int COMMENT '',                                              |\r\n|   `direction` int COMMENT '',                                         |\r\n|   `altitude` int COMMENT '',                                           |\r\n|   `mileage` int COMMENT '',                                           |\r\n|   `state` string COMMENT '',                                          |\r\n|   `alarm` string COMMENT '',                                         |\r\n|   `color` int COMMENT '',                                               |\r\n|   `vehicle` string COMMENT '',                                      |\r\n|   `p_time` timestamp COMMENT '')                              |\r\n| ROW FORMAT SERDE                                                     |\r\n|   'org.apache.iceberg.mr.hive.HiveIcebergSerDe'        |\r\n| STORED BY                                          |\r\n|   'org.apache.iceberg.mr.hive.HiveIcebergStorageHandler'  |\r\n|                                                    |\r\n| LOCATION                                           |\r\n|   'hdfs://lbc/user/hive/warehouse/iceberg_gps_db.db/sinoiov_original_data' |\r\n| TBLPROPERTIES (                                    |\r\n|   'metadata_location'='hdfs://lbc/user/hive/warehouse/iceberg_gps_db.db/sinoiov_original_data/metadata/00001-c12049be-d808-40f8-b712-d0fe53647997.metadata.json',  |\r\n|   'previous_metadata_location'='hdfs://lbc/user/hive/warehouse/iceberg_gps_db.db/sinoiov_original_data/metadata/00000-b4c0733a-b0c3-4ae2-8546-05a761b6880c.metadata.json',  |\r\n|   'table_type'='ICEBERG',                          |\r\n|   'transient_lastDdlTime'='1607431371')            |\r\n+----------------------------------------------------+ \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741870471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741876296","html_url":"https://github.com/apache/iceberg/pull/1783#issuecomment-741876296","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1783","id":741876296,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTg3NjI5Ng==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T16:12:14Z","updated_at":"2020-12-09T16:12:14Z","author_association":"CONTRIBUTOR","body":"The most recent commit will try and use a `HiveCatalog` if the default catalog isn't an iceberg catalog. On one hand it doesn't require changing tests (woohoo!) on the other its not pretty, and not overly reliable. The forced catalog settings aren't quite right either: they turn off caching for example, though perhaps we want that behaviour for the `IcebergSource` as it didn't cache originally.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741876296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741879164","html_url":"https://github.com/apache/iceberg/issues/1898#issuecomment-741879164","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1898","id":741879164,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTg3OTE2NA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T16:16:25Z","updated_at":"2020-12-09T16:16:25Z","author_association":"CONTRIBUTOR","body":"@islandgit: I can not see any colum named `id`. Could you please send the exact query as well?\r\n\r\nThanks, Peter ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741879164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741886984","html_url":"https://github.com/apache/iceberg/issues/1898#issuecomment-741886984","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1898","id":741886984,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTg4Njk4NA==","user":{"login":"island-lonely","id":25607446,"node_id":"MDQ6VXNlcjI1NjA3NDQ2","avatar_url":"https://avatars.githubusercontent.com/u/25607446?v=4","gravatar_id":"","url":"https://api.github.com/users/island-lonely","html_url":"https://github.com/island-lonely","followers_url":"https://api.github.com/users/island-lonely/followers","following_url":"https://api.github.com/users/island-lonely/following{/other_user}","gists_url":"https://api.github.com/users/island-lonely/gists{/gist_id}","starred_url":"https://api.github.com/users/island-lonely/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/island-lonely/subscriptions","organizations_url":"https://api.github.com/users/island-lonely/orgs","repos_url":"https://api.github.com/users/island-lonely/repos","events_url":"https://api.github.com/users/island-lonely/events{/privacy}","received_events_url":"https://api.github.com/users/island-lonely/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T16:28:29Z","updated_at":"2020-12-09T16:28:29Z","author_association":"NONE","body":"> @islandgit`id`\r\n> \r\n> \r\n\r\n@pvary \r\nsorry   select * from table where id =  100 is just an example.\r\n\r\nThe actual SQL \r\n**_select * from sinoiov_original_data where vehicle = 'AP3068';_**\r\n\r\n**This is the query information for BeelineThe error message above is the 'hive' query**\r\nINFO  : Compiling command(queryId=hive_20201210002100_62b991d1-d5a6-40e1-835d-10f157291e0e): select * from sinoiov_original_data where vehicle = 'AP3068'\r\nINFO  : Semantic Analysis Completed\r\nINFO  : Returning Hive schema: Schema(fieldSchemas:[FieldSchema(name:sinoiov_original_data.gpstime, type:bigint, comment:null), FieldSchema(name:sinoiov_original_data.systime, type:bigint, comment:null), FieldSchema(name:sinoiov_original_data.lon, type:int, comment:null), FieldSchema(name:sinoiov_original_data.lat, type:int, comment:null), FieldSchema(name:sinoiov_original_data.gpsspeed, type:int, comment:null), FieldSchema(name:sinoiov_original_data.direction, type:int, comment:null), FieldSchema(name:sinoiov_original_data.altitude, type:int, comment:null), FieldSchema(name:sinoiov_original_data.mileage, type:int, comment:null), FieldSchema(name:sinoiov_original_data.state, type:string, comment:null), FieldSchema(name:sinoiov_original_data.alarm, type:string, comment:null), FieldSchema(name:sinoiov_original_data.color, type:int, comment:null), FieldSchema(name:sinoiov_original_data.vehicle, type:string, comment:null), FieldSchema(name:sinoiov_original_data.p_time, type:timestamp, comment:null)], properties:null)\r\nINFO  : Completed compiling command(queryId=hive_20201210002100_62b991d1-d5a6-40e1-835d-10f157291e0e); Time taken: 0.211 seconds\r\nINFO  : Executing command(queryId=hive_20201210002100_62b991d1-d5a6-40e1-835d-10f157291e0e): select * from sinoiov_original_data where vehicle = 'AP3068'\r\nWARN  : \r\nINFO  : Query ID = hive_20201210002100_62b991d1-d5a6-40e1-835d-10f157291e0e\r\nINFO  : Total jobs = 1\r\nINFO  : Launching Job 1 out of 1\r\nINFO  : Starting task [Stage-1:MAPRED] in serial mode\r\nINFO  : Number of reduce tasks is set to 0 since there's no reduce operator\r\nINFO  : Cleaning up the staging area /user/hive/.staging/job_1607332098484_0070\r\nERROR : FAILED: Execution Error, return code -101 from org.apache.hadoop.hive.ql.exec.mr.MapRedTask. org.apache.hadoop.hive.ql.io.sarg.ConvertAstToSearchArg.create(Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/hive/ql/plan/ExprNodeGenericFuncDesc;)Lorg/apache/hadoop/hive/ql/io/sarg/SearchArgument;\r\nINFO  : Completed executing command(queryId=hive_20201210002100_62b991d1-d5a6-40e1-835d-10f157291e0e); Time taken: 1.329 seconds\r\nError: Error while processing statement: FAILED: Execution Error, return code -101 from org.apache.hadoop.hive.ql.exec.mr.MapRedTask. org.apache.hadoop.hive.ql.io.sarg.ConvertAstToSearchArg.create(Lorg/apache/hadoop/conf/Configuration;Lorg/apache/hadoop/hive/ql/plan/ExprNodeGenericFuncDesc;)Lorg/apache/hadoop/hive/ql/io/sarg/SearchArgument; (state=08S01,code=-101)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741886984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741929560","html_url":"https://github.com/apache/iceberg/pull/1783#issuecomment-741929560","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1783","id":741929560,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTkyOTU2MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T17:37:44Z","updated_at":"2020-12-09T17:37:44Z","author_association":"CONTRIBUTOR","body":"I think that the catalog registration here is good. I don't see a way around registering a catalog, so I think we should do it and also use that to maintain compatibility. So here's what I think behavior should be:\r\n\r\n1. Always register a default Iceberg catalog that is a HiveCatalog using the HMS URI from hive-site.xml, like what you've done.\r\n2. Use the `/` check for paths. If the table ref is a path, then load it from the default Iceberg catalog (any catalog works).\r\n3. If the table ref has a catalog, use that catalog (if it doesn't support Iceberg, that's fine because we can't guess or replace it)\r\n4. If the table ref does not have a catalog, use the current catalog\r\n5. If the current catalog is the session catalog and is not an `IcebergSessionCatalog`, then replace it with the default Iceberg catalog\r\n6. If the current catalog is not the session catalog, use it even if it doesn't support Iceberg\r\n\r\nThat keeps behavior identical and also follows Spark's rules for identifiers. The only time that we use the default Iceberg catalog for a Hive identifier is if there is nothing new in Spark 3 that overrides the behavior to use a different catalog, and if the session catalog (equivalent to the default in 2.4) can't handle Iceberg.\r\n\r\nOptionally, paths could be loaded from the session catalog if it is an `IcebergSessionCatalog`.\r\n\r\nWhat do you think?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741929560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741941924","html_url":"https://github.com/apache/iceberg/issues/1898#issuecomment-741941924","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1898","id":741941924,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTk0MTkyNA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T17:49:20Z","updated_at":"2020-12-09T17:49:20Z","author_association":"CONTRIBUTOR","body":"@islandgit: The method was introduced by [HIVE-15269](https://issues.apache.org/jira/browse/HIVE-15269). This is only in Hive 2.2. Iceberg supports Hive 2.3.7(?), and Hive 3.1.2. The CDH version you have mentioned is using Hive 2.1.1, and it does not contain HIVE-15269.  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741941924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741947293","html_url":"https://github.com/apache/iceberg/pull/1895#issuecomment-741947293","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1895","id":741947293,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTk0NzI5Mw==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T17:58:47Z","updated_at":"2020-12-09T17:58:47Z","author_association":"CONTRIBUTOR","body":"What about the Flink and Hive runtimes?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741947293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741968113","html_url":"https://github.com/apache/iceberg/pull/1895#issuecomment-741968113","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1895","id":741968113,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTk2ODExMw==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T18:36:29Z","updated_at":"2020-12-09T18:36:29Z","author_association":"CONTRIBUTOR","body":"> What about the Flink and Hive runtimes?\r\n\r\nI haven't tested Flink or Hive yet so want to do those as separate PRs. Working on Hive today :-)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741968113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741974060","html_url":"https://github.com/apache/iceberg/pull/1783#issuecomment-741974060","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1783","id":741974060,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTk3NDA2MA==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T18:47:29Z","updated_at":"2020-12-09T18:47:29Z","author_association":"CONTRIBUTOR","body":"Thanks @rdblue I simplified the logic for resolving the default iceberg catalog. A good sign: the change keeps getting smaller :smile: ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/741974060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742024777","html_url":"https://github.com/apache/iceberg/pull/1897#issuecomment-742024777","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1897","id":742024777,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjAyNDc3Nw==","user":{"login":"marton-bod","id":19599214,"node_id":"MDQ6VXNlcjE5NTk5MjE0","avatar_url":"https://avatars.githubusercontent.com/u/19599214?v=4","gravatar_id":"","url":"https://api.github.com/users/marton-bod","html_url":"https://github.com/marton-bod","followers_url":"https://api.github.com/users/marton-bod/followers","following_url":"https://api.github.com/users/marton-bod/following{/other_user}","gists_url":"https://api.github.com/users/marton-bod/gists{/gist_id}","starred_url":"https://api.github.com/users/marton-bod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marton-bod/subscriptions","organizations_url":"https://api.github.com/users/marton-bod/orgs","repos_url":"https://api.github.com/users/marton-bod/repos","events_url":"https://api.github.com/users/marton-bod/events{/privacy}","received_events_url":"https://api.github.com/users/marton-bod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T20:20:25Z","updated_at":"2020-12-09T20:20:25Z","author_association":"COLLABORATOR","body":"@pvary can you please review when you have the chance?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742024777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742095467","html_url":"https://github.com/apache/iceberg/pull/1823#issuecomment-742095467","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1823","id":742095467,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjA5NTQ2Nw==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T22:11:28Z","updated_at":"2020-12-09T22:11:28Z","author_association":"CONTRIBUTOR","body":"> I'll try to take a look at this tomorrow.\r\n\r\nThere is an unresolved issue for the `commit.retry.max-wait-ms` that I am still not sure, please let me know if there are any other concerns, thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742095467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742103533","html_url":"https://github.com/apache/iceberg/issues/1887#issuecomment-742103533","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1887","id":742103533,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjEwMzUzMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T22:28:31Z","updated_at":"2020-12-09T22:28:31Z","author_association":"CONTRIBUTOR","body":"I agree with what appears to be the consensus here, to add both Nessie and Glue to the existing runtime Jars and omit the AWS dependency because it is large.\r\n\r\nI agree with @rymurr that if we have an opportunity to detect that AWS is missing and improve the error message, then that would be ideal.\r\n\r\nAlso, can we check to see if the AWS SDK is needed when running with the hadoop-aws module? That should provide the SDK and maybe we can just use that out of the box like we do with Hive.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742103533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742112667","html_url":"https://github.com/apache/iceberg/pull/1844#issuecomment-742112667","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1844","id":742112667,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjExMjY2Nw==","user":{"login":"johnclara","id":9331049,"node_id":"MDQ6VXNlcjkzMzEwNDk=","avatar_url":"https://avatars.githubusercontent.com/u/9331049?v=4","gravatar_id":"","url":"https://api.github.com/users/johnclara","html_url":"https://github.com/johnclara","followers_url":"https://api.github.com/users/johnclara/followers","following_url":"https://api.github.com/users/johnclara/following{/other_user}","gists_url":"https://api.github.com/users/johnclara/gists{/gist_id}","starred_url":"https://api.github.com/users/johnclara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnclara/subscriptions","organizations_url":"https://api.github.com/users/johnclara/orgs","repos_url":"https://api.github.com/users/johnclara/repos","events_url":"https://api.github.com/users/johnclara/events{/privacy}","received_events_url":"https://api.github.com/users/johnclara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T22:49:38Z","updated_at":"2020-12-10T16:41:49Z","author_association":"NONE","body":"> though I'd like to hear thoughts from others on that, @johnclara?\r\n\r\nI'm still catching up on all the different configuration locations/barriers. Clearly from my above comments, I'm confused about how it all works together.\r\n\r\nRyan's email helped me a lot: https://lists.apache.org/thread.html/r1c357c7867234fed58b12f0cba6e9d2c13ed1af94b8d922ffe3a3def%40%3Cdev.iceberg.apache.org%3E\r\n\r\nFor this PR it sounds like it's still in flux but my understanding is (please correct the things I have wrong):\r\n\r\nFor spark as an example the config barriers are:\r\n\r\n- User passes:\r\n- - command line args + hadoop config files on disk\r\n- Spark will push down:\r\n- - DataSourceV2 options + hadoop config\r\n- Spark source will initialize the catalog object (catalog client?) with:\r\n- - Map<String, String> argument (called properties?) + hadoop config\r\n\r\nInside the catalog the config sources seem like:\r\n\r\n- Map<String, String> arguments: system/compute constraints (like running on prem vs on an ec2 instance)\r\n- HadoopConfig: for setting up HadoopFileSystem\r\n- CatalogProperties: ~~I'm not sure what these are? If it's hive or glue would it be a Map<String, String> per table entry or would it be for the catalog as a whole? In ryan's email I think it says that it should just give the location and that it is an iceberg table (but what if it should also say if it's an iceberg table backed by aws vs gcp and how to read it?) [edit: I'm wrong. I don't understand what he's saying fully here: ```Config in the Hive MetaStore is only used to identify that a table is\r\n   Iceberg and point to its metadata location. All other config in HMS is\r\n   informational. For example, the input format is FileInputFormat so that\r\n   non-Iceberg readers cannot actually instantiate the format (its abstract)\r\n   but it is available so they also dont fail trying to load the class.\r\n   Table-specific config should not be stored in table or serde properties.```]~~ These are the same as the arguments\r\n- TableProperties: table specific infromation\r\n\r\nIt sounds like for tables which use S3FileIO:\r\n- HadoopConfig should be ignored since we're not using HadoopFileIO.\r\n- Map<String, String> arguments should give enough info to reach the catalog.\r\n- Then catalog properties should be mixed with some arguments which have constraints on where the compute is running (eg proxy for on prem vs an ec2 machine). This should give enough info to be able to read the table's json file.\r\n- Then the catalog properties should be ignored and the table properties should be mixed with the arguments. This should give enough information to read and write to the table?\r\n\r\nShould a file io be created just for the json file and then a new file io be created for the other part of the table after reading the table properties? (manifest list/ manifest + data files?)\r\n\r\nWhere should the kms key id go? Is that a per table thing to write new data files (table properties) or is it a user/system defined property which should go in the arguments?\r\n\r\nIt would help me a ton if that was written out somewhere (it might be in Jack's docs that he's written up I still have to go take a look)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742112667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742173682","html_url":"https://github.com/apache/iceberg/pull/1525#issuecomment-742173682","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1525","id":742173682,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjE3MzY4Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T01:30:50Z","updated_at":"2020-12-10T01:30:50Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer, I noted a few more changes needed in exception handling. I think one more update and it should be good to go.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742173682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742175606","html_url":"https://github.com/apache/iceberg/pull/1895#issuecomment-742175606","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1895","id":742175606,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjE3NTYwNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T01:36:52Z","updated_at":"2020-12-10T01:36:52Z","author_association":"CONTRIBUTOR","body":"Adding new classes and dependencies into the runtime Jars requires an update to the LICENSE and NOTICE files for those Jars. Could you also update those in this PR, @rymurr?\r\n\r\n@jacques-n, can you help with the license update validation?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742175606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742176946","html_url":"https://github.com/apache/iceberg/pull/1895#issuecomment-742176946","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1895","id":742176946,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjE3Njk0Ng==","user":{"login":"jacques-n","id":183350,"node_id":"MDQ6VXNlcjE4MzM1MA==","avatar_url":"https://avatars.githubusercontent.com/u/183350?v=4","gravatar_id":"","url":"https://api.github.com/users/jacques-n","html_url":"https://github.com/jacques-n","followers_url":"https://api.github.com/users/jacques-n/followers","following_url":"https://api.github.com/users/jacques-n/following{/other_user}","gists_url":"https://api.github.com/users/jacques-n/gists{/gist_id}","starred_url":"https://api.github.com/users/jacques-n/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jacques-n/subscriptions","organizations_url":"https://api.github.com/users/jacques-n/orgs","repos_url":"https://api.github.com/users/jacques-n/repos","events_url":"https://api.github.com/users/jacques-n/events{/privacy}","received_events_url":"https://api.github.com/users/jacques-n/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T01:41:15Z","updated_at":"2020-12-10T01:41:15Z","author_association":"NONE","body":"Will do.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742176946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742183032","html_url":"https://github.com/apache/iceberg/pull/1839#issuecomment-742183032","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1839","id":742183032,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjE4MzAzMg==","user":{"login":"wypb","id":5170878,"node_id":"MDQ6VXNlcjUxNzA4Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/5170878?v=4","gravatar_id":"","url":"https://api.github.com/users/wypb","html_url":"https://github.com/wypb","followers_url":"https://api.github.com/users/wypb/followers","following_url":"https://api.github.com/users/wypb/following{/other_user}","gists_url":"https://api.github.com/users/wypb/gists{/gist_id}","starred_url":"https://api.github.com/users/wypb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypb/subscriptions","organizations_url":"https://api.github.com/users/wypb/orgs","repos_url":"https://api.github.com/users/wypb/repos","events_url":"https://api.github.com/users/wypb/events{/privacy}","received_events_url":"https://api.github.com/users/wypb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T01:58:19Z","updated_at":"2020-12-10T01:58:19Z","author_association":"NONE","body":"@rdblue Yes, you are right, we should define these behaviors clearly. By the way, can you give me a link to the agenda, thank you.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/742183032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]