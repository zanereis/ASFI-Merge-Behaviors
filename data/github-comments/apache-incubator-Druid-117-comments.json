[{"url":"https://api.github.com/repos/apache/druid/issues/comments/263654706","html_url":"https://github.com/apache/druid/pull/1679#issuecomment-263654706","issue_url":"https://api.github.com/repos/apache/druid/issues/1679","id":263654706,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzY1NDcwNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-29T18:25:46Z","updated_at":"2016-11-29T18:25:46Z","author_association":"CONTRIBUTOR","body":"@pjain1 @himanshug do you all still need/want this? Should we direct attention back here for 0.9.3?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/263654706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/263678206","html_url":"https://github.com/apache/druid/issues/3719#issuecomment-263678206","issue_url":"https://api.github.com/repos/apache/druid/issues/3719","id":263678206,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzY3ODIwNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-29T19:48:09Z","updated_at":"2016-11-29T19:48:09Z","author_association":"CONTRIBUTOR","body":"That solution sounds workable @nishantmonu51. What do you think about a `Cacheable` interface instead, so people can do `implements PostAggregator, Cacheable`? This way, in 0.10.0 if we make the PostAggregator interface extend Cacheable, old source files will continue to work, and we won't have an unused \"CacheablePostAggregator\" interface floating around.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/263678206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/263686507","html_url":"https://github.com/apache/druid/pull/3681#issuecomment-263686507","issue_url":"https://api.github.com/repos/apache/druid/issues/3681","id":263686507,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzY4NjUwNw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-29T20:18:58Z","updated_at":"2016-11-29T20:18:58Z","author_association":"MEMBER","body":"@kaijianding could you please address comments?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/263686507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/263693592","html_url":"https://github.com/apache/druid/issues/3719#issuecomment-263693592","issue_url":"https://api.github.com/repos/apache/druid/issues/3719","id":263693592,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzY5MzU5Mg==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-29T20:46:31Z","updated_at":"2016-11-29T20:46:31Z","author_association":"MEMBER","body":"@gianm: sounds good. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/263693592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/263718478","html_url":"https://github.com/apache/druid/pull/3469#issuecomment-263718478","issue_url":"https://api.github.com/repos/apache/druid/issues/3469","id":263718478,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzcxODQ3OA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-29T22:19:40Z","updated_at":"2016-11-29T22:19:40Z","author_association":"CONTRIBUTOR","body":"Overall LGTM, need to address @leventov comments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/263718478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/263721274","html_url":"https://github.com/apache/druid/pull/3470#issuecomment-263721274","issue_url":"https://api.github.com/repos/apache/druid/issues/3470","id":263721274,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzcyMTI3NA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-29T22:30:12Z","updated_at":"2016-11-29T22:30:12Z","author_association":"CONTRIBUTOR","body":"@nishantmonu51 let's finish up this. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/263721274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/263745248","html_url":"https://github.com/apache/druid/pull/3722#issuecomment-263745248","issue_url":"https://api.github.com/repos/apache/druid/issues/3722","id":263745248,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mzc0NTI0OA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-30T00:28:27Z","updated_at":"2016-11-30T00:28:27Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/263745248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/263745365","html_url":"https://github.com/apache/druid/pull/3723#issuecomment-263745365","issue_url":"https://api.github.com/repos/apache/druid/issues/3723","id":263745365,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mzc0NTM2NQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-30T00:29:08Z","updated_at":"2016-11-30T00:29:08Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/263745365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/263745954","html_url":"https://github.com/apache/druid/issues/3645#issuecomment-263745954","issue_url":"https://api.github.com/repos/apache/druid/issues/3645","id":263745954,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mzc0NTk1NA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-30T00:32:41Z","updated_at":"2016-11-30T00:32:41Z","author_association":"CONTRIBUTOR","body":"I wonder this issue covers the comparison of nulls and boolean values. If so, null handling in sql can be a good reference. It specifies the null propagation in arithmetic and string expressions as well. See https://en.wikipedia.org/wiki/Null_(SQL). ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/263745954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/263747065","html_url":"https://github.com/apache/druid/issues/3645#issuecomment-263747065","issue_url":"https://api.github.com/repos/apache/druid/issues/3645","id":263747065,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mzc0NzA2NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-30T00:39:34Z","updated_at":"2016-11-30T00:39:34Z","author_association":"CONTRIBUTOR","body":"@jihoonson agree, I think something as close to SQL as possible would be good. The only situation I'd consider departing from SQL is if SQL behavior would create a really drastic discrepancy with how non-expression-based Druid queries work. Even then it could be nice to have an option to be more SQL like.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/263747065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/263756409","html_url":"https://github.com/apache/druid/pull/2511#issuecomment-263756409","issue_url":"https://api.github.com/repos/apache/druid/issues/2511","id":263756409,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mzc1NjQwOQ==","user":{"login":"navis","id":809395,"node_id":"MDQ6VXNlcjgwOTM5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/809395?v=4","gravatar_id":"","url":"https://api.github.com/users/navis","html_url":"https://github.com/navis","followers_url":"https://api.github.com/users/navis/followers","following_url":"https://api.github.com/users/navis/following{/other_user}","gists_url":"https://api.github.com/users/navis/gists{/gist_id}","starred_url":"https://api.github.com/users/navis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navis/subscriptions","organizations_url":"https://api.github.com/users/navis/orgs","repos_url":"https://api.github.com/users/navis/repos","events_url":"https://api.github.com/users/navis/events{/privacy}","received_events_url":"https://api.github.com/users/navis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-30T01:35:21Z","updated_at":"2016-11-30T01:35:21Z","author_association":"CONTRIBUTOR","body":"inline\r\n> - Move math expressions out of aggregators, to be handled by a math expression virtual column instead\r\n\r\nkind of decision whether to support inline vc in aggregator (or else) or not. \r\n> - Add result caching for virtual columns (e.g., for chained virtual columns, avoid recomputing row values)\r\n\r\nseemed to need wrapper for every expr nodes to memoize version-result pair. \r\n>- Eventually replace the non-default DimensionSpecs with virtual columns that support the current extractionFn, decoration use-cases. DimensionSpec could then be replaced by a simple name list that references base or derived columns. This would potentially override the multi-input column dimension spec aspect of this related PR in-review: https://github.com/druid-io/druid/pull/3091 (i.e., would have multi-column derived virtual columns instead), but the multi-input extractionFn aspect could still be relevant\r\n\r\nyep, but some dictionary-optimized ones would be still needed for performance.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/263756409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/263756949","html_url":"https://github.com/apache/druid/pull/3542#issuecomment-263756949","issue_url":"https://api.github.com/repos/apache/druid/issues/3542","id":263756949,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mzc1Njk0OQ==","user":{"login":"navis","id":809395,"node_id":"MDQ6VXNlcjgwOTM5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/809395?v=4","gravatar_id":"","url":"https://api.github.com/users/navis","html_url":"https://github.com/navis","followers_url":"https://api.github.com/users/navis/followers","following_url":"https://api.github.com/users/navis/following{/other_user}","gists_url":"https://api.github.com/users/navis/gists{/gist_id}","starred_url":"https://api.github.com/users/navis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navis/subscriptions","organizations_url":"https://api.github.com/users/navis/orgs","repos_url":"https://api.github.com/users/navis/repos","events_url":"https://api.github.com/users/navis/events{/privacy}","received_events_url":"https://api.github.com/users/navis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-30T01:38:40Z","updated_at":"2016-11-30T01:38:40Z","author_association":"CONTRIBUTOR","body":"@fjy forgot to comment. added test case","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/263756949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/263769806","html_url":"https://github.com/apache/druid/pull/3693#issuecomment-263769806","issue_url":"https://api.github.com/repos/apache/druid/issues/3693","id":263769806,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mzc2OTgwNg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-30T03:02:53Z","updated_at":"2016-11-30T03:02:53Z","author_association":"MEMBER","body":"@gianm \r\n\r\n1. Negative effects vary from inconsistent CPUTime/Query time measurement (including/not \"closing time\" of the wrapped sequence) to memory leaks and who knows what effects, because some \"sub-resources\" are closed after \"super-resources\", i. e. the resources the former are \"derived\" from. Taking `accumulate()` or `Yielder` path is hardly trackable and undetermined in some sense, because applying e. g. `Sequences.limit()` on upper level turns `accumulate()` into `Yielder` iteration underneath (because it's a `YieldingSequenceBase`)\r\n\r\n2. It's just breaks general Yielder implementation contract, when \"the same thing\" should be done in `toYielder()` and `next()`. It's hard to say if it is a bug or not right now, (if `MissingSegmentsException` is always thrown in `toYielder()`, it is not), but it could become a bug at any point in future.\r\n\r\n3. At the moment it removes some repetitive code. I originally did this because I added more to those code as part of my project of increasing amount and precision of query metrics. And repeating 30 lines of code in three places felt much more dangerous and boilerplate than repeating 10 lines. (This change is not yet in the PR itself, because it's blocked by this PR).\r\n\r\n4. This addresses #3563. Attempt to match try-with-resources safety in Sequences. Try-with-resources always catch Throwables and use `addSuppressed()` when needed. Current code catches either `Exception` or `RuntimeException` and logs exceptions which should better be suppressed. Suppression allows to see more actual exceptions in query response, for example. Generally it guarantees that two exceptions (\"main\" and suppressed) are logged at the same place, wherever it is done. Logging one exception and propagating the another may \"unlink\" those two in the unified log.\r\n\r\n5. Just remove unused code (merging java-util, extendedset, bytebuffer-collections, etc. opens a lot of such opportunities)\r\n\r\n6. Eases Sequences refactoring in future, and generally static factory methods are considered better than constructors, but really a minor thing (and it's only a couple of lines in this PR)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/263769806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/263856029","html_url":"https://github.com/apache/druid/issues/3720#issuecomment-263856029","issue_url":"https://api.github.com/repos/apache/druid/issues/3720","id":263856029,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mzg1NjAyOQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-30T11:55:19Z","updated_at":"2016-11-30T11:55:19Z","author_association":"CONTRIBUTOR","body":"Hi @leventov, do you have any log in addition to the stack trace?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/263856029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/263932924","html_url":"https://github.com/apache/druid/pull/3681#issuecomment-263932924","issue_url":"https://api.github.com/repos/apache/druid/issues/3681","id":263932924,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzkzMjkyNA==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-30T17:10:37Z","updated_at":"2016-11-30T17:10:37Z","author_association":"CONTRIBUTOR","body":"Addressed, @leventov ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/263932924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/263940835","html_url":"https://github.com/apache/druid/issues/3687#issuecomment-263940835","issue_url":"https://api.github.com/repos/apache/druid/issues/3687","id":263940835,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mzk0MDgzNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-30T17:39:15Z","updated_at":"2016-11-30T17:39:15Z","author_association":"CONTRIBUTOR","body":"After some reflection my preferred solution is to outlaw output fields named `__time`.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/263940835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/263959911","html_url":"https://github.com/apache/druid/issues/3017#issuecomment-263959911","issue_url":"https://api.github.com/repos/apache/druid/issues/3017","id":263959911,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mzk1OTkxMQ==","user":{"login":"udayakumarp","id":3504278,"node_id":"MDQ6VXNlcjM1MDQyNzg=","avatar_url":"https://avatars.githubusercontent.com/u/3504278?v=4","gravatar_id":"","url":"https://api.github.com/users/udayakumarp","html_url":"https://github.com/udayakumarp","followers_url":"https://api.github.com/users/udayakumarp/followers","following_url":"https://api.github.com/users/udayakumarp/following{/other_user}","gists_url":"https://api.github.com/users/udayakumarp/gists{/gist_id}","starred_url":"https://api.github.com/users/udayakumarp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/udayakumarp/subscriptions","organizations_url":"https://api.github.com/users/udayakumarp/orgs","repos_url":"https://api.github.com/users/udayakumarp/repos","events_url":"https://api.github.com/users/udayakumarp/events{/privacy}","received_events_url":"https://api.github.com/users/udayakumarp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-30T18:51:06Z","updated_at":"2016-11-30T18:51:06Z","author_association":"NONE","body":"Is this done as an extension? Can you pls. more info on this? How to use this etc?\r\n\r\nThanks,\r\nUday.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/263959911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/263960062","html_url":"https://github.com/apache/druid/issues/3017#issuecomment-263960062","issue_url":"https://api.github.com/repos/apache/druid/issues/3017","id":263960062,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mzk2MDA2Mg==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-30T18:51:38Z","updated_at":"2016-11-30T18:51:38Z","author_association":"CONTRIBUTOR","body":"@udayakumarp please read the documentation","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/263960062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/263962761","html_url":"https://github.com/apache/druid/issues/3017#issuecomment-263962761","issue_url":"https://api.github.com/repos/apache/druid/issues/3017","id":263962761,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mzk2Mjc2MQ==","user":{"login":"udayakumarp","id":3504278,"node_id":"MDQ6VXNlcjM1MDQyNzg=","avatar_url":"https://avatars.githubusercontent.com/u/3504278?v=4","gravatar_id":"","url":"https://api.github.com/users/udayakumarp","html_url":"https://github.com/udayakumarp","followers_url":"https://api.github.com/users/udayakumarp/followers","following_url":"https://api.github.com/users/udayakumarp/following{/other_user}","gists_url":"https://api.github.com/users/udayakumarp/gists{/gist_id}","starred_url":"https://api.github.com/users/udayakumarp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/udayakumarp/subscriptions","organizations_url":"https://api.github.com/users/udayakumarp/orgs","repos_url":"https://api.github.com/users/udayakumarp/repos","events_url":"https://api.github.com/users/udayakumarp/events{/privacy}","received_events_url":"https://api.github.com/users/udayakumarp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-30T19:01:43Z","updated_at":"2016-11-30T19:01:43Z","author_association":"NONE","body":"Thanks fjy - Can you pls. point me to the documentation (in GIT you mean?) ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/263962761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/263963269","html_url":"https://github.com/apache/druid/issues/3017#issuecomment-263963269","issue_url":"https://api.github.com/repos/apache/druid/issues/3017","id":263963269,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mzk2MzI2OQ==","user":{"login":"udayakumarp","id":3504278,"node_id":"MDQ6VXNlcjM1MDQyNzg=","avatar_url":"https://avatars.githubusercontent.com/u/3504278?v=4","gravatar_id":"","url":"https://api.github.com/users/udayakumarp","html_url":"https://github.com/udayakumarp","followers_url":"https://api.github.com/users/udayakumarp/followers","following_url":"https://api.github.com/users/udayakumarp/following{/other_user}","gists_url":"https://api.github.com/users/udayakumarp/gists{/gist_id}","starred_url":"https://api.github.com/users/udayakumarp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/udayakumarp/subscriptions","organizations_url":"https://api.github.com/users/udayakumarp/orgs","repos_url":"https://api.github.com/users/udayakumarp/repos","events_url":"https://api.github.com/users/udayakumarp/events{/privacy}","received_events_url":"https://api.github.com/users/udayakumarp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-30T19:03:42Z","updated_at":"2016-11-30T19:03:42Z","author_association":"NONE","body":"Never mind! Got it - http://druid.io/docs/0.9.2-rc2/development/extensions-contrib/orc.html \r\n\r\nThanks,\r\nUday.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/263963269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/263994641","html_url":"https://github.com/apache/druid/issues/3720#issuecomment-263994641","issue_url":"https://api.github.com/repos/apache/druid/issues/3720","id":263994641,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mzk5NDY0MQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-30T21:03:56Z","updated_at":"2016-11-30T21:03:56Z","author_association":"MEMBER","body":"@jihoonson no, unfortunately I didn't save it. Why it could be interesting?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/263994641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264029826","html_url":"https://github.com/apache/druid/pull/3724#issuecomment-264029826","issue_url":"https://api.github.com/repos/apache/druid/issues/3724","id":264029826,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDAyOTgyNg==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-30T23:27:21Z","updated_at":"2016-11-30T23:27:21Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264029826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264035929","html_url":"https://github.com/apache/druid/pull/3724#issuecomment-264035929","issue_url":"https://api.github.com/repos/apache/druid/issues/3724","id":264035929,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDAzNTkyOQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-11-30T23:58:56Z","updated_at":"2016-11-30T23:58:56Z","author_association":"CONTRIBUTOR","body":":+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264035929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264043744","html_url":"https://github.com/apache/druid/issues/3720#issuecomment-264043744","issue_url":"https://api.github.com/repos/apache/druid/issues/3720","id":264043744,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDA0Mzc0NA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T00:41:09Z","updated_at":"2016-12-01T00:41:09Z","author_association":"CONTRIBUTOR","body":"Yes. I'm trying to be familiar with druid's internal, and in this case, related logs will be very helpful for me. I'll dig deeper. Thanks. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264043744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264045815","html_url":"https://github.com/apache/druid/issues/3720#issuecomment-264045815","issue_url":"https://api.github.com/repos/apache/druid/issues/3720","id":264045815,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDA0NTgxNQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T00:53:22Z","updated_at":"2016-12-01T00:57:59Z","author_association":"MEMBER","body":"@jihoonson I can also suggest to review PRs which touch Druid internals, it's a great way to become familiar with them and also there is high demand for PR reviews in the project.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264045815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264046302","html_url":"https://github.com/apache/druid/issues/3720#issuecomment-264046302","issue_url":"https://api.github.com/repos/apache/druid/issues/3720","id":264046302,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDA0NjMwMg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T00:56:27Z","updated_at":"2016-12-01T00:56:27Z","author_association":"CONTRIBUTOR","body":"@leventov Right. Thanks for your advice. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264046302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264049139","html_url":"https://github.com/apache/druid/pull/3723#issuecomment-264049139","issue_url":"https://api.github.com/repos/apache/druid/issues/3723","id":264049139,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDA0OTEzOQ==","user":{"login":"navis","id":809395,"node_id":"MDQ6VXNlcjgwOTM5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/809395?v=4","gravatar_id":"","url":"https://api.github.com/users/navis","html_url":"https://github.com/navis","followers_url":"https://api.github.com/users/navis/followers","following_url":"https://api.github.com/users/navis/following{/other_user}","gists_url":"https://api.github.com/users/navis/gists{/gist_id}","starred_url":"https://api.github.com/users/navis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navis/subscriptions","organizations_url":"https://api.github.com/users/navis/orgs","repos_url":"https://api.github.com/users/navis/repos","events_url":"https://api.github.com/users/navis/events{/privacy}","received_events_url":"https://api.github.com/users/navis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T01:14:05Z","updated_at":"2016-12-01T01:14:05Z","author_association":"CONTRIBUTOR","body":"How about to use `Objects.equals/Objects.hash`? Just an opinion. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264049139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264049480","html_url":"https://github.com/apache/druid/pull/3718#issuecomment-264049480","issue_url":"https://api.github.com/repos/apache/druid/issues/3718","id":264049480,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDA0OTQ4MA==","user":{"login":"navis","id":809395,"node_id":"MDQ6VXNlcjgwOTM5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/809395?v=4","gravatar_id":"","url":"https://api.github.com/users/navis","html_url":"https://github.com/navis","followers_url":"https://api.github.com/users/navis/followers","following_url":"https://api.github.com/users/navis/following{/other_user}","gists_url":"https://api.github.com/users/navis/gists{/gist_id}","starred_url":"https://api.github.com/users/navis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navis/subscriptions","organizations_url":"https://api.github.com/users/navis/orgs","repos_url":"https://api.github.com/users/navis/repos","events_url":"https://api.github.com/users/navis/events{/privacy}","received_events_url":"https://api.github.com/users/navis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T01:16:21Z","updated_at":"2016-12-01T01:16:21Z","author_association":"CONTRIBUTOR","body":"test cases with custom delimiter?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264049480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264051651","html_url":"https://github.com/apache/druid/pull/2511#issuecomment-264051651","issue_url":"https://api.github.com/repos/apache/druid/issues/2511","id":264051651,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDA1MTY1MQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T01:29:04Z","updated_at":"2016-12-01T01:29:04Z","author_association":"CONTRIBUTOR","body":"üëç  but the following is required at some point\r\n- java docs on the virtual column interface as it is an important new concept\r\n- docs & developer docs explaining how to extend virtual columns\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264051651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264052125","html_url":"https://github.com/apache/druid/pull/3723#issuecomment-264052125","issue_url":"https://api.github.com/repos/apache/druid/issues/3723","id":264052125,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDA1MjEyNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T01:31:50Z","updated_at":"2016-12-01T01:31:50Z","author_association":"CONTRIBUTOR","body":"@navis these are just the IntelliJ defaults. I could switch them I guess. I usually use the IntelliJ defaults because Objects.equals doesn't handle arrays properly and sometimes I forget that when generating code.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264052125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264055263","html_url":"https://github.com/apache/druid/pull/3723#issuecomment-264055263","issue_url":"https://api.github.com/repos/apache/druid/issues/3723","id":264055263,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDA1NTI2Mw==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T01:52:32Z","updated_at":"2016-12-01T01:52:32Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264055263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264060377","html_url":"https://github.com/apache/druid/pull/2511#issuecomment-264060377","issue_url":"https://api.github.com/repos/apache/druid/issues/2511","id":264060377,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDA2MDM3Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T02:22:01Z","updated_at":"2016-12-01T02:22:01Z","author_association":"CONTRIBUTOR","body":"Just took another look. The only questions I have left are:\r\n\r\n- Can you move MapVirtualColumn to a contrib extension? It seems kind of specialty and not a good fit for core.\r\n- The `.` dot notation for embedding extra details in the column doesn't seem necessary to me; could it be replaced by adding that to the constructor of the virtual column?\r\n\r\nIn that case, VirtualColumn would become:\r\n\r\n```java\r\n/**\r\n * Virtual columns are \"views\" created over a ColumnSelectorFactory. They can potentially draw from multiple\r\n * underlying columns, although they always present themselves as if they were a single column.\r\n */\r\npublic interface VirtualColumn\r\n{\r\n  /**\r\n   * Output name of this column.\r\n   *\r\n   * @return name\r\n   */\r\n  String getOutputName();\r\n\r\n  /**\r\n   * Build a selector corresponding to this virtual column.\r\n   *\r\n   * @param factory column selector factory\r\n   * @return the selector\r\n   */\r\n  ObjectColumnSelector init(ColumnSelectorFactory factory);\r\n\r\n  byte[] getCacheKey();\r\n}\r\n```\r\n\r\nAnd MapVirtualColumn's constructor would become:\r\n\r\n```java\r\n  @JsonCreator\r\n  public MapVirtualColumn(\r\n      @JsonProperty(\"keyDimension\") String keyDimension,\r\n      @JsonProperty(\"valueDimension\") String valueDimension,\r\n      @JsonProperty(\"outputName\") String outputName,\r\n      @JsonProperty(\"targetKeyValue\") String targetKeyValue\r\n  )\r\n```\r\n\r\nAnd \"targetKeyValue\" would be used instead of the part after the dot in the column name. So if a user wants to get \"map.k1\" and \"map.k2\" as VCs, they would define two VCs, one for each.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264060377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264063643","html_url":"https://github.com/apache/druid/pull/2511#issuecomment-264063643","issue_url":"https://api.github.com/repos/apache/druid/issues/2511","id":264063643,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDA2MzY0Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T02:44:57Z","updated_at":"2016-12-01T02:48:01Z","author_association":"CONTRIBUTOR","body":"Or, another option: retain the behavior in the current diff, but make it optional, so VCs that don't want to have the dot notation stuff apply to them don't have to have it. That way they can have dots in their names and everything will work fine (rather than potentially surprising unsuspecting callers).\r\n\r\nSo in that case, VirtualColumn becomes:\r\n\r\n```java\r\n/**\r\n * Virtual columns are \"views\" created over a ColumnSelectorFactory. They can potentially draw from multiple\r\n * underlying columns, although they always present themselves as if they were a single column.\r\n */\r\npublic interface VirtualColumn\r\n{\r\n  /**\r\n   * Output name of this column.\r\n   *\r\n   * @return name\r\n   */\r\n  String getOutputName();\r\n\r\n  /**\r\n   * Build a selector corresponding to this virtual column. Also provides the name that the\r\n   * virtual column was referenced with, which is useful if this column uses dot notation.\r\n   *\r\n   * @param columnName the name this virtual column was referenced with\r\n   * @param factory column selector factory\r\n   * @return the selector\r\n   */\r\n  ObjectColumnSelector init(String columnName, ColumnSelectorFactory factory);\r\n\r\n  /**\r\n   * Indicates that this virtual column can be referenced with dot notation. For example,\r\n   * a virtual column named \"foo\" could be referred to as \"foo.bar\" with the Cursor it is\r\n   * registered with. In that case, init will be called with columnName \"foo.bar\" rather\r\n   * than \"foo\". The same VirtualColumn object may have \"init\" called on it multiple\r\n   * times with multiple different columnNames.\r\n   *\r\n   * @return true if this column can be referenced with dot notation\r\n   */\r\n  boolean usesDotNotation();\r\n\r\n  byte[] getCacheKey();\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264063643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264064385","html_url":"https://github.com/apache/druid/pull/2511#issuecomment-264064385","issue_url":"https://api.github.com/repos/apache/druid/issues/2511","id":264064385,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDA2NDM4NQ==","user":{"login":"navis","id":809395,"node_id":"MDQ6VXNlcjgwOTM5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/809395?v=4","gravatar_id":"","url":"https://api.github.com/users/navis","html_url":"https://github.com/navis","followers_url":"https://api.github.com/users/navis/followers","following_url":"https://api.github.com/users/navis/following{/other_user}","gists_url":"https://api.github.com/users/navis/gists{/gist_id}","starred_url":"https://api.github.com/users/navis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navis/subscriptions","organizations_url":"https://api.github.com/users/navis/orgs","repos_url":"https://api.github.com/users/navis/repos","events_url":"https://api.github.com/users/navis/events{/privacy}","received_events_url":"https://api.github.com/users/navis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T02:49:53Z","updated_at":"2016-12-01T02:49:53Z","author_association":"CONTRIBUTOR","body":"Then we get virtual columns like.. (`VirtualColumns`)\r\n```\r\n  private final Map<String, VirtualColumn> withDotSupport;\r\n  private final Map<String, VirtualColumn> withoutDotSupport;\r\n\r\n  public VirtualColumn getVirtualColumn(String dimension)\r\n  {\r\n    for (int index = dimension.indexOf('.'); index >= 0; index = dimension.indexOf('.', index + 1)) {\r\n      VirtualColumn vc = withoutDotSupport.get(dimension.substring(0, index));\r\n      if (vc != null) {\r\n        return vc;\r\n      }\r\n    }\r\n    VirtualColumn vc = withDotSupport.get(dimension);\r\n    if (vc == null) {\r\n      return withoutDotSupport.get(dimension);\r\n    }\r\n    return null;\r\n  }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264064385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264064924","html_url":"https://github.com/apache/druid/pull/3716#issuecomment-264064924","issue_url":"https://api.github.com/repos/apache/druid/issues/3716","id":264064924,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDA2NDkyNA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T02:53:45Z","updated_at":"2016-12-01T02:53:45Z","author_association":"MEMBER","body":"Some observations:\r\n- License should be different, not ASF. Look at existing files.\r\n- It's good that interfaces are based on Lucene code. Could you please demonstrate the diff with actual Lucene source? E. g. by cloning Lucene repo, and making a PR (within your cloned repo, from one branch to another), so that Github highlights diffs. Or any other way.\r\n - Words like `Index`, `Input`, `Output` are already massively overused in Druid, please try to choose more distinctive names for interfaces.\r\n - Lack of clear documentation on interfaces, describing their purpose.\r\n - Please demonstrate there are no performance regressions, because of adding another layer of indirection, in the Druid subsystems which use those interfaces.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264064924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264065618","html_url":"https://github.com/apache/druid/pull/2511#issuecomment-264065618","issue_url":"https://api.github.com/repos/apache/druid/issues/2511","id":264065618,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDA2NTYxOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T02:59:12Z","updated_at":"2016-12-01T02:59:12Z","author_association":"CONTRIBUTOR","body":"@navis why is that loop needed? Would this work instead:\r\n\r\n```java\r\nprivate final Map<String, VirtualColumn> withDotSupport;\r\nprivate final Map<String, VirtualColumn> withoutDotSupport;\r\n\r\npublic VirtualColumn getVirtualColumn(String columnName)\r\n{\r\n  VirtualColumn vc = withoutDotSupport.get(columnName);\r\n  if (vc != null) {\r\n    return vc;\r\n  } else {\r\n    // No VC without dot support matches this columnName; try ones with dot support.\r\n    int index = columnName.indexOf('.');\r\n    return withDotSupport.get(index < 0 ? columnName : columnName.substring(0, index));\r\n  }\r\n}\r\n```\r\n\r\nThat's what I was imagining.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264065618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264074775","html_url":"https://github.com/apache/druid/pull/3632#issuecomment-264074775","issue_url":"https://api.github.com/repos/apache/druid/issues/3632","id":264074775,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDA3NDc3NQ==","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T04:17:08Z","updated_at":"2016-12-01T04:17:08Z","author_association":"CONTRIBUTOR","body":"@dclim @xvrl can one of you please review this and +1?  It's an opt-in, configurable piece of code that we have been running in production for a few weeks now doing what we expect.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264074775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264075069","html_url":"https://github.com/apache/druid/issues/3725#issuecomment-264075069","issue_url":"https://api.github.com/repos/apache/druid/issues/3725","id":264075069,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDA3NTA2OQ==","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T04:19:49Z","updated_at":"2016-12-01T04:19:49Z","author_association":"CONTRIBUTOR","body":"üëç  the whole intent of throttling was to limit the amount of network traffic happening in the background to ensure a stable system.  Dropping segments doesn't induce network traffic so shouldn't be throttled.\r\n\r\nReally, I don't think there's ever a case where dropping should be throttled.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264075069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264075454","html_url":"https://github.com/apache/druid/pull/3632#issuecomment-264075454","issue_url":"https://api.github.com/repos/apache/druid/issues/3632","id":264075454,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDA3NTQ1NA==","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T04:23:19Z","updated_at":"2016-12-01T04:23:19Z","author_association":"MEMBER","body":"@cheddar I'm still waiting on a response to my comment here https://github.com/druid-io/druid/pull/3632/files#r90071380","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264075454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264086855","html_url":"https://github.com/apache/druid/pull/3632#issuecomment-264086855","issue_url":"https://api.github.com/repos/apache/druid/issues/3632","id":264086855,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDA4Njg1NQ==","user":{"login":"niketh","id":626548,"node_id":"MDQ6VXNlcjYyNjU0OA==","avatar_url":"https://avatars.githubusercontent.com/u/626548?v=4","gravatar_id":"","url":"https://api.github.com/users/niketh","html_url":"https://github.com/niketh","followers_url":"https://api.github.com/users/niketh/followers","following_url":"https://api.github.com/users/niketh/following{/other_user}","gists_url":"https://api.github.com/users/niketh/gists{/gist_id}","starred_url":"https://api.github.com/users/niketh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketh/subscriptions","organizations_url":"https://api.github.com/users/niketh/orgs","repos_url":"https://api.github.com/users/niketh/repos","events_url":"https://api.github.com/users/niketh/events{/privacy}","received_events_url":"https://api.github.com/users/niketh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T06:05:40Z","updated_at":"2016-12-01T06:05:40Z","author_association":"CONTRIBUTOR","body":"@xvrl Added the requested comments here https://github.com/druid-io/druid/pull/3632/files#r90071380 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264086855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264125031","html_url":"https://github.com/apache/druid/issues/3600#issuecomment-264125031","issue_url":"https://api.github.com/repos/apache/druid/issues/3600","id":264125031,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDEyNTAzMQ==","user":{"login":"liuqiyun","id":4703518,"node_id":"MDQ6VXNlcjQ3MDM1MTg=","avatar_url":"https://avatars.githubusercontent.com/u/4703518?v=4","gravatar_id":"","url":"https://api.github.com/users/liuqiyun","html_url":"https://github.com/liuqiyun","followers_url":"https://api.github.com/users/liuqiyun/followers","following_url":"https://api.github.com/users/liuqiyun/following{/other_user}","gists_url":"https://api.github.com/users/liuqiyun/gists{/gist_id}","starred_url":"https://api.github.com/users/liuqiyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liuqiyun/subscriptions","organizations_url":"https://api.github.com/users/liuqiyun/orgs","repos_url":"https://api.github.com/users/liuqiyun/repos","events_url":"https://api.github.com/users/liuqiyun/events{/privacy}","received_events_url":"https://api.github.com/users/liuqiyun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T09:36:51Z","updated_at":"2016-12-01T09:36:51Z","author_association":"NONE","body":"Hey, we encountered the same exception info and then got a data loss result. Is there any plan to fix this issue? Before code fixing, is there any workaround? For example, if we set the replica of a task group to 2, will another index task complete the segment publishing work when one fail on this issue?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264125031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264196418","html_url":"https://github.com/apache/druid/issues/3600#issuecomment-264196418","issue_url":"https://api.github.com/repos/apache/druid/issues/3600","id":264196418,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDE5NjQxOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T15:05:19Z","updated_at":"2016-12-01T15:05:19Z","author_association":"CONTRIBUTOR","body":"@pjain1 good catch, will look into this. The intent is that there should have been a retry there, but clearly that's not working.\r\n\r\n@liuqiyun by \"data loss\" do you mean permanent data loss, or did the data get loaded eventually? What _should_ happen is the supervisor should re-start the task and the successor task should re-load the data. And yes, before being fixed for real this should be mitigated by replication.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264196418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264202023","html_url":"https://github.com/apache/druid/issues/3600#issuecomment-264202023","issue_url":"https://api.github.com/repos/apache/druid/issues/3600","id":264202023,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDIwMjAyMw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T15:25:07Z","updated_at":"2016-12-01T15:25:07Z","author_association":"CONTRIBUTOR","body":"@pjain1 #3728 should fix this, could you review please?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264202023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264202776","html_url":"https://github.com/apache/druid/pull/3728#issuecomment-264202776","issue_url":"https://api.github.com/repos/apache/druid/issues/3728","id":264202776,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDIwMjc3Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T15:27:34Z","updated_at":"2016-12-01T15:27:34Z","author_association":"CONTRIBUTOR","body":"@dclim @pjain1, volunteered you as reviewers :)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264202776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264217322","html_url":"https://github.com/apache/druid/pull/3728#issuecomment-264217322","issue_url":"https://api.github.com/repos/apache/druid/issues/3728","id":264217322,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDIxNzMyMg==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T16:17:11Z","updated_at":"2016-12-01T16:17:11Z","author_association":"MEMBER","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264217322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264249695","html_url":"https://github.com/apache/druid/pull/3727#issuecomment-264249695","issue_url":"https://api.github.com/repos/apache/druid/issues/3727","id":264249695,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDI0OTY5NQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T18:15:26Z","updated_at":"2016-12-01T18:15:26Z","author_association":"CONTRIBUTOR","body":"@gianm i am wondering how is this different from having a filter (out side of the having) ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264249695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264249976","html_url":"https://github.com/apache/druid/pull/3727#issuecomment-264249976","issue_url":"https://api.github.com/repos/apache/druid/issues/3727","id":264249976,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDI0OTk3Ng==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T18:16:30Z","updated_at":"2016-12-01T18:16:30Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264249976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264250873","html_url":"https://github.com/apache/druid/pull/3727#issuecomment-264250873","issue_url":"https://api.github.com/repos/apache/druid/issues/3727","id":264250873,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDI1MDg3Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T18:20:00Z","updated_at":"2016-12-01T18:20:00Z","author_association":"CONTRIBUTOR","body":"@b-slim it's a HAVING filter, so it applies to the grouped results, not to the rows in the segment. You can use it to do things like only include groups that have sum(count) > x. Like the SQL `SELECT dim1, SUM(cnt) FROM druid.foo WHERE dim2 = 'x' GROUP BY dim1 HAVING SUM(cnt) > 2 ORDER BY dim1 LIMIT 4`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264250873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264251576","html_url":"https://github.com/apache/druid/pull/3681#issuecomment-264251576","issue_url":"https://api.github.com/repos/apache/druid/issues/3681","id":264251576,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDI1MTU3Ng==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T18:23:04Z","updated_at":"2016-12-01T18:23:04Z","author_association":"CONTRIBUTOR","body":"Addressed again, and refactor for easier understanding, @leventov ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264251576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264253793","html_url":"https://github.com/apache/druid/pull/3727#issuecomment-264253793","issue_url":"https://api.github.com/repos/apache/druid/issues/3727","id":264253793,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDI1Mzc5Mw==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T18:31:37Z","updated_at":"2016-12-01T18:31:37Z","author_association":"CONTRIBUTOR","body":"@gianm please bear with me the current example you posted is it possible to just use `LessThanHavingSpec` ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264253793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264254757","html_url":"https://github.com/apache/druid/pull/3727#issuecomment-264254757","issue_url":"https://api.github.com/repos/apache/druid/issues/3727","id":264254757,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDI1NDc1Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T18:35:21Z","updated_at":"2016-12-01T18:41:05Z","author_association":"CONTRIBUTOR","body":"@b-slim it is possible to use GreaterThanHavingSpec for that example, but this PR would allow you to also use BoundDimFilter. Some advantages are:\r\n\r\n- no need for users to learn two filter grammars; the DimFilters would work for both WHERE filters and HAVING filters.\r\n- allows use of any DimFilter in HAVING, including things that HavingSpecs don't currently support such as regex, \"in\", javascript, use of extractionFns, etc.\r\n- simplifies the SQL layer in #3682 since it can generate DimFilters for both WHERE and HAVING (this is my main motivation for this PR).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264254757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264258687","html_url":"https://github.com/apache/druid/pull/3728#issuecomment-264258687","issue_url":"https://api.github.com/repos/apache/druid/issues/3728","id":264258687,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDI1ODY4Nw==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T18:50:10Z","updated_at":"2016-12-01T18:50:10Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264258687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264260213","html_url":"https://github.com/apache/druid/pull/3681#issuecomment-264260213","issue_url":"https://api.github.com/repos/apache/druid/issues/3681","id":264260213,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDI2MDIxMw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T18:55:39Z","updated_at":"2016-12-01T18:55:39Z","author_association":"MEMBER","body":"Please make sure Travis CI doesn't fail.\r\n\r\nAlso in future don't rebase commits when addressing comments, add comments on top of existing ones, in order to ease diff review.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264260213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264260412","html_url":"https://github.com/apache/druid/pull/3727#issuecomment-264260412","issue_url":"https://api.github.com/repos/apache/druid/issues/3727","id":264260412,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDI2MDQxMg==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T18:56:20Z","updated_at":"2016-12-01T18:56:20Z","author_association":"CONTRIBUTOR","body":"@gianm Good point about re-using the syntax. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264260412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264269543","html_url":"https://github.com/apache/druid/pull/3729#issuecomment-264269543","issue_url":"https://api.github.com/repos/apache/druid/issues/3729","id":264269543,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDI2OTU0Mw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T19:29:51Z","updated_at":"2016-12-01T19:29:51Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264269543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264270193","html_url":"https://github.com/apache/druid/pull/3729#issuecomment-264270193","issue_url":"https://api.github.com/repos/apache/druid/issues/3729","id":264270193,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDI3MDE5Mw==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T19:32:14Z","updated_at":"2016-12-01T19:32:14Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264270193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264275311","html_url":"https://github.com/apache/druid/pull/3729#issuecomment-264275311","issue_url":"https://api.github.com/repos/apache/druid/issues/3729","id":264275311,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDI3NTMxMQ==","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T19:50:31Z","updated_at":"2016-12-01T19:50:31Z","author_association":"MEMBER","body":"@gianm any idea what patch would have broken this?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264275311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264275736","html_url":"https://github.com/apache/druid/pull/3729#issuecomment-264275736","issue_url":"https://api.github.com/repos/apache/druid/issues/3729","id":264275736,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDI3NTczNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T19:52:06Z","updated_at":"2016-12-01T19:53:18Z","author_association":"CONTRIBUTOR","body":"@xvrl HadoopFsWrapper is from #3650.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264275736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264285792","html_url":"https://github.com/apache/druid/pull/2511#issuecomment-264285792","issue_url":"https://api.github.com/repos/apache/druid/issues/2511","id":264285792,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDI4NTc5Mg==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T20:29:55Z","updated_at":"2016-12-01T20:29:55Z","author_association":"CONTRIBUTOR","body":"üëç  i think this is good to go","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264285792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264306405","html_url":"https://github.com/apache/druid/issues/3503#issuecomment-264306405","issue_url":"https://api.github.com/repos/apache/druid/issues/3503","id":264306405,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDMwNjQwNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T21:50:39Z","updated_at":"2016-12-01T21:50:39Z","author_association":"CONTRIBUTOR","body":"Final notes up at https://github.com/druid-io/druid/releases/tag/druid-0.9.2","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264306405/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264317122","html_url":"https://github.com/apache/druid/pull/3727#issuecomment-264317122","issue_url":"https://api.github.com/repos/apache/druid/issues/3727","id":264317122,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDMxNzEyMg==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-01T22:36:28Z","updated_at":"2016-12-01T22:36:28Z","author_association":"CONTRIBUTOR","body":"let's add a test that uses extraction fns with the having spec filters, e.g.:\r\n\r\n```\r\n@Test\r\n  public void testDimFilterHavingSpecWithExFn()\r\n  {\r\n    String extractionJsFn = \"function(str) { return 'super-' + str; }\";\r\n    ExtractionFn extractionFn = new JavaScriptExtractionFn(extractionJsFn, false, JavaScriptConfig.getDefault());\r\n\r\n    String extractionJsFn2 = \"function(num) { return num + 10; }\";\r\n    ExtractionFn extractionFn2 = new JavaScriptExtractionFn(extractionJsFn2, false, JavaScriptConfig.getDefault());\r\n\r\n    List<Row> expectedResults = Arrays.asList(\r\n        GroupByQueryRunnerTestHelper.createExpectedRow(\"2011-04-01\", \"alias\", \"business\", \"rows\", 2L, \"idx\", 217L),\r\n        GroupByQueryRunnerTestHelper.createExpectedRow(\"2011-04-01\", \"alias\", \"mezzanine\", \"rows\", 6L, \"idx\", 4420L),\r\n        GroupByQueryRunnerTestHelper.createExpectedRow(\"2011-04-01\", \"alias\", \"premium\", \"rows\", 6L, \"idx\", 4416L)\r\n    );\r\n\r\n    final DimFilterHavingSpec havingSpec = new DimFilterHavingSpec(\r\n        new AndDimFilter(\r\n            ImmutableList.of(\r\n                new OrDimFilter(\r\n                    ImmutableList.of(\r\n                        new BoundDimFilter(\"rows\", \"12\", null, true, false, null, extractionFn2, StringComparators.NUMERIC),\r\n                        new SelectorDimFilter(\"idx\", \"super-217\", extractionFn)\r\n                    )\r\n                ),\r\n                new SelectorDimFilter(\"__time\", String.valueOf(new DateTime(\"2011-04-01\").getMillis()), null)\r\n            )\r\n        )\r\n    );\r\n\r\n    GroupByQuery.Builder builder = GroupByQuery\r\n        .builder()\r\n        .setDataSource(QueryRunnerTestHelper.dataSource)\r\n        .setInterval(\"2011-04-02/2011-04-04\")\r\n        .setDimensions(Lists.<DimensionSpec>newArrayList(new DefaultDimensionSpec(\"quality\", \"alias\")))\r\n        .setAggregatorSpecs(\r\n            Arrays.asList(\r\n                QueryRunnerTestHelper.rowsCount,\r\n                new LongSumAggregatorFactory(\"idx\", \"index\")\r\n            )\r\n        )\r\n        .setGranularity(new PeriodGranularity(new Period(\"P1M\"), null, null))\r\n        .setHavingSpec(havingSpec);\r\n\r\n    final GroupByQuery fullQuery = builder.build();\r\n    TestHelper.assertExpectedObjects(\r\n        expectedResults,\r\n        GroupByQueryRunnerTestHelper.runQuery(factory, runner, fullQuery),\r\n        \"\"\r\n    );\r\n  }\r\n```\r\n\r\n:+1: otherwise","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264317122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264335321","html_url":"https://github.com/apache/druid/pull/3727#issuecomment-264335321","issue_url":"https://api.github.com/repos/apache/druid/issues/3727","id":264335321,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDMzNTMyMQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-02T00:08:45Z","updated_at":"2016-12-02T00:08:45Z","author_association":"CONTRIBUTOR","body":"@jon-wei added your test, thanks for writing it","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264335321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264352628","html_url":"https://github.com/apache/druid/pull/3681#issuecomment-264352628","issue_url":"https://api.github.com/repos/apache/druid/issues/3681","id":264352628,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDM1MjYyOA==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-02T01:57:23Z","updated_at":"2016-12-02T01:57:23Z","author_association":"CONTRIBUTOR","body":"Travis CI succeed. It failed because of checkstyle fail: \"SegmentLoaderLocalCacheManager.java:38:8: Unused import - java.util.Iterator. [UnusedImports]\"\r\n@leventov ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264352628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264359144","html_url":"https://github.com/apache/druid/pull/3570#issuecomment-264359144","issue_url":"https://api.github.com/repos/apache/druid/issues/3570","id":264359144,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDM1OTE0NA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-02T02:44:05Z","updated_at":"2016-12-02T02:44:05Z","author_association":"CONTRIBUTOR","body":"@dclim @gianm merged with master and fixed conflicts, can you please take another look?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264359144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264527183","html_url":"https://github.com/apache/druid/pull/3694#issuecomment-264527183","issue_url":"https://api.github.com/repos/apache/druid/issues/3694","id":264527183,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDUyNzE4Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-02T18:32:38Z","updated_at":"2016-12-02T18:32:38Z","author_association":"CONTRIBUTOR","body":"NB https://github.com/metamx/extendedset/pull/10 was merged in a branch upstream after this PR was filed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264527183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264527563","html_url":"https://github.com/apache/druid/pull/3694#issuecomment-264527563","issue_url":"https://api.github.com/repos/apache/druid/issues/3694","id":264527563,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDUyNzU2Mw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-02T18:34:10Z","updated_at":"2016-12-02T18:34:10Z","author_association":"MEMBER","body":"@gianm no need to rebase, I'll PR into Druid after this PR (#3694) is merged.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264527563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264541075","html_url":"https://github.com/apache/druid/pull/3731#issuecomment-264541075","issue_url":"https://api.github.com/repos/apache/druid/issues/3731","id":264541075,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDU0MTA3NQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-02T19:29:35Z","updated_at":"2016-12-02T19:29:35Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264541075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264541145","html_url":"https://github.com/apache/druid/pull/3732#issuecomment-264541145","issue_url":"https://api.github.com/repos/apache/druid/issues/3732","id":264541145,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDU0MTE0NQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-02T19:29:53Z","updated_at":"2016-12-02T19:29:53Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264541145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264543476","html_url":"https://github.com/apache/druid/pull/3734#issuecomment-264543476","issue_url":"https://api.github.com/repos/apache/druid/issues/3734","id":264543476,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDU0MzQ3Ng==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-02T19:39:20Z","updated_at":"2016-12-02T19:39:20Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264543476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264543532","html_url":"https://github.com/apache/druid/pull/3733#issuecomment-264543532","issue_url":"https://api.github.com/repos/apache/druid/issues/3733","id":264543532,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDU0MzUzMg==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-02T19:39:35Z","updated_at":"2016-12-02T19:39:35Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264543532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264550331","html_url":"https://github.com/apache/druid/pull/3731#issuecomment-264550331","issue_url":"https://api.github.com/repos/apache/druid/issues/3731","id":264550331,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDU1MDMzMQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-02T20:08:47Z","updated_at":"2016-12-02T20:08:47Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264550331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264561261","html_url":"https://github.com/apache/druid/pull/3735#issuecomment-264561261","issue_url":"https://api.github.com/repos/apache/druid/issues/3735","id":264561261,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDU2MTI2MQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-02T21:00:07Z","updated_at":"2016-12-02T21:00:07Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264561261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264570076","html_url":"https://github.com/apache/druid/pull/3733#issuecomment-264570076","issue_url":"https://api.github.com/repos/apache/druid/issues/3733","id":264570076,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDU3MDA3Ng==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-02T21:41:53Z","updated_at":"2016-12-02T21:41:53Z","author_association":"CONTRIBUTOR","body":"LGTM, :+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264570076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264570880","html_url":"https://github.com/apache/druid/pull/3732#issuecomment-264570880","issue_url":"https://api.github.com/repos/apache/druid/issues/3732","id":264570880,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDU3MDg4MA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-02T21:45:43Z","updated_at":"2016-12-02T21:45:43Z","author_association":"CONTRIBUTOR","body":"@gianm this is failing UT","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264570880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264572248","html_url":"https://github.com/apache/druid/pull/3732#issuecomment-264572248","issue_url":"https://api.github.com/repos/apache/druid/issues/3732","id":264572248,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDU3MjI0OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-02T21:51:53Z","updated_at":"2016-12-02T21:51:53Z","author_association":"CONTRIBUTOR","body":"@fjy fixed","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264572248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264584933","html_url":"https://github.com/apache/druid/pull/3734#issuecomment-264584933","issue_url":"https://api.github.com/repos/apache/druid/issues/3734","id":264584933,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDU4NDkzMw==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-02T22:56:32Z","updated_at":"2016-12-02T22:56:32Z","author_association":"MEMBER","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264584933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264586329","html_url":"https://github.com/apache/druid/pull/3732#issuecomment-264586329","issue_url":"https://api.github.com/repos/apache/druid/issues/3732","id":264586329,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDU4NjMyOQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-02T23:04:04Z","updated_at":"2016-12-02T23:04:04Z","author_association":"CONTRIBUTOR","body":":+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264586329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264625019","html_url":"https://github.com/apache/druid/pull/3718#issuecomment-264625019","issue_url":"https://api.github.com/repos/apache/druid/issues/3718","id":264625019,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDYyNTAxOQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-03T08:11:12Z","updated_at":"2016-12-03T08:11:12Z","author_association":"CONTRIBUTOR","body":"@navis @leventov thanks for your comment. I added some tests. \r\nI also added support for custom spatial dimension delimiter to ```IndexSpec``` for ```IndexMerger```. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264625019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264652551","html_url":"https://github.com/apache/druid/pull/3737#issuecomment-264652551","issue_url":"https://api.github.com/repos/apache/druid/issues/3737","id":264652551,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDY1MjU1MQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-03T17:22:26Z","updated_at":"2016-12-03T17:22:26Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264652551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264671703","html_url":"https://github.com/apache/druid/issues/3503#issuecomment-264671703","issue_url":"https://api.github.com/repos/apache/druid/issues/3503","id":264671703,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDY3MTcwMw==","user":{"login":"sascha-coenen","id":1635350,"node_id":"MDQ6VXNlcjE2MzUzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/1635350?v=4","gravatar_id":"","url":"https://api.github.com/users/sascha-coenen","html_url":"https://github.com/sascha-coenen","followers_url":"https://api.github.com/users/sascha-coenen/followers","following_url":"https://api.github.com/users/sascha-coenen/following{/other_user}","gists_url":"https://api.github.com/users/sascha-coenen/gists{/gist_id}","starred_url":"https://api.github.com/users/sascha-coenen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sascha-coenen/subscriptions","organizations_url":"https://api.github.com/users/sascha-coenen/orgs","repos_url":"https://api.github.com/users/sascha-coenen/repos","events_url":"https://api.github.com/users/sascha-coenen/events{/privacy}","received_events_url":"https://api.github.com/users/sascha-coenen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-03T23:05:46Z","updated_at":"2016-12-03T23:05:46Z","author_association":"NONE","body":"I wonder what the topn performance improvement in above screenshot is due to? Is it the new long encodings or the loop unrolling that's doing that?\r\n\r\nWe did some early tests that aren't concluded yet, but while the improvement for hyperloglogs was immediately noticeable, the segment scan times for topn queries seemed to be mostly the same as before. Is there something that needs to be specifically taken care of, like special inlining directives for jvm or using the new segment encoding options, or special topn query scenarios that bring out the perf difference more than others?\r\nthanks\r\n\r\n\r\n ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264671703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264679810","html_url":"https://github.com/apache/druid/pull/3718#issuecomment-264679810","issue_url":"https://api.github.com/repos/apache/druid/issues/3718","id":264679810,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDY3OTgxMA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-04T02:23:16Z","updated_at":"2016-12-04T02:23:16Z","author_association":"CONTRIBUTOR","body":"I simplified equals() and hashCode(), and fixed additional bugs in them.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264679810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264890462","html_url":"https://github.com/apache/druid/pull/3716#issuecomment-264890462","issue_url":"https://api.github.com/repos/apache/druid/issues/3716","id":264890462,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDg5MDQ2Mg==","user":{"login":"weijietong","id":728692,"node_id":"MDQ6VXNlcjcyODY5Mg==","avatar_url":"https://avatars.githubusercontent.com/u/728692?v=4","gravatar_id":"","url":"https://api.github.com/users/weijietong","html_url":"https://github.com/weijietong","followers_url":"https://api.github.com/users/weijietong/followers","following_url":"https://api.github.com/users/weijietong/following{/other_user}","gists_url":"https://api.github.com/users/weijietong/gists{/gist_id}","starred_url":"https://api.github.com/users/weijietong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weijietong/subscriptions","organizations_url":"https://api.github.com/users/weijietong/orgs","repos_url":"https://api.github.com/users/weijietong/repos","events_url":"https://api.github.com/users/weijietong/events{/privacy}","received_events_url":"https://api.github.com/users/weijietong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-05T15:52:14Z","updated_at":"2016-12-05T15:52:14Z","author_association":"NONE","body":"@leventov tks for your advise ,I have done a V9 version implementation. codes„ÄÅdocument and benchmark will be update soon . ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264890462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264921305","html_url":"https://github.com/apache/druid/pull/3740#issuecomment-264921305","issue_url":"https://api.github.com/repos/apache/druid/issues/3740","id":264921305,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDkyMTMwNQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-05T17:38:21Z","updated_at":"2016-12-05T17:38:21Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264921305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264940151","html_url":"https://github.com/apache/druid/pull/3735#issuecomment-264940151","issue_url":"https://api.github.com/repos/apache/druid/issues/3735","id":264940151,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDk0MDE1MQ==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-05T18:47:41Z","updated_at":"2016-12-05T18:47:41Z","author_association":"MEMBER","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264940151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264940188","html_url":"https://github.com/apache/druid/pull/3682#issuecomment-264940188","issue_url":"https://api.github.com/repos/apache/druid/issues/3682","id":264940188,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDk0MDE4OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-05T18:47:50Z","updated_at":"2016-12-05T18:47:57Z","author_association":"CONTRIBUTOR","body":"@cheddar I can think of some ways to reduce the linearly increasing load, like caching metadata more aggressively on historicals, but can't think of a good way to do a truly constant load other than moving this to the coordinator.\r\n\r\nIn the meantime I can add a config \"druid.sql.enable\" that you can use to turn all this off if you don't want it, which will mean that people that don't need SQL won't get the additional metadata load. Would that work for you?\r\n\r\nAnd even though it's linear, I don't expect the load of this metadata querying to be too large, since the SegmentMetadataQuery results should mostly be cached on historicals anyway.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264940188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264952142","html_url":"https://github.com/apache/druid/issues/3741#issuecomment-264952142","issue_url":"https://api.github.com/repos/apache/druid/issues/3741","id":264952142,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDk1MjE0Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-05T19:31:32Z","updated_at":"2016-12-05T19:31:32Z","author_association":"CONTRIBUTOR","body":"@pjain1 do you have replicas or not?\r\n\r\nThat sanity check is helpful for double checking that replicas are in sync. Two different Kafka tasks that are replicas of each other need to make the _exact same_ decisions based on the Kafka topic, or else replicas can drift and cause inconsistencies. #3678 appears to break this assumption, since it's possible for two replicas to make different decisions about whether and when to reset their offsets. That decision should be made by the supervisor, not by the task. That should be fixed since it means the option from #3678 isn't safe to use with replicas.\r\n\r\nYou might be running into that or you might be running into something else. If it looks like something else, do you have some more details about what series of events caused the problem you're seeing?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264952142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264965234","html_url":"https://github.com/apache/druid/issues/3741#issuecomment-264965234","issue_url":"https://api.github.com/repos/apache/druid/issues/3741","id":264965234,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDk2NTIzNA==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-05T20:19:48Z","updated_at":"2016-12-05T20:19:48Z","author_association":"MEMBER","body":"@gianm We do not have any replicas. \r\n\r\nI looked more into it and my previous diagnosis is not exactly correct so please ignore that. Here's what I have observed. \r\n\r\nTask failed to get a new segment id, it did not ingest anything failed on first event (after reset) -\r\n\r\n```\r\n2016-12-02T21:59:50,132 INFO [task-runner-0-priority-0] io.druid.segment.realtime.appenderator.FiniteAppenderatorDriver - Restored metadata[null].\r\n2016-12-02T21:59:50,136 INFO [task-runner-0-priority-0] io.druid.indexing.kafka.KafkaIndexTask - Seeking partition[24] to offset[12,835,490,176].\r\n...\r\n...\r\n2016-12-02T21:59:50,308 INFO [task-runner-0-priority-0] org.apache.kafka.clients.consumer.internals.Fetcher - Fetch offset 12835490176 is out of range, resetting offset\r\n2016-12-02T21:59:50,309 WARN [task-runner-0-priority-0] io.druid.indexing.kafka.KafkaIndexTask - OffsetOutOfRangeException with message [Offsets out of range with no configured reset policy for partitions: {mx-\r\ncluster-production-metrics-24=12835490176}]\r\nDec 02, 2016 9:59:50 PM com.sun.jersey.guice.spi.container.GuiceComponentProviderFactory getComponentProvider\r\nINFO: Binding com.fasterxml.jackson.jaxrs.smile.JacksonSmileProvider to GuiceManagedComponentProvider with the scope \"Singleton\"\r\n2016-12-02T21:59:50,317 WARN [task-runner-0-priority-0] io.druid.indexing.kafka.KafkaIndexTask - Resetting consumer offset to [latest] for partition [24]\r\n2016-12-02T21:59:50,318 WARN [task-runner-0-priority-0] io.druid.indexing.kafka.KafkaIndexTask - Consumer is now at offset [14090209678]\r\n2016-12-02T21:59:50,744 INFO [task-runner-0-priority-0] io.druid.indexing.common.actions.RemoteTaskActionClient - Performing action for task[index_kafka_v2_metrics_cluster_06ef3c335c14bfd_elbapfik]: SegmentAllo\r\ncateAction{dataSource='v2_metrics_cluster', timestamp=2016-12-02T21:59:48.606Z, queryGranularity=DurationGranularity{length=60000, origin=0}, preferredSegmentGranularity=HOUR, sequenceName='index_kafka_v2_metrics_cluster_06ef3c335c14bfd_24', previousSegmentId='null'}\r\n2016-12-02T21:59:50,763 INFO [task-runner-0-priority-0] io.druid.indexing.common.actions.RemoteTaskActionClient - Submitting action for task[index_kafka_v2_metrics_cluster_06ef3c335c14bfd_elbapfik] to overlord[/druid/indexer/v1/action]: SegmentAllocateAction{dataSource='v2_metrics_cluster', timestamp=2016-12-02T21:59:48.606Z, queryGranularity=DurationGranularity{length=60000, origin=0}, preferredSegmentGranularity=HOUR, sequenceName='index_kafka_v2_metrics_cluster_06ef3c335c14bfd_24', previousSegmentId='null'}\r\n\r\n2016-12-02T21:59:51,701 ERROR [task-runner-0-priority-0] io.druid.indexing.overlord.ThreadPoolTaskRunner - Exception while running task[KafkaIndexTask{id=index_kafka_v2_metrics_cluster_06ef3c335c14bfd_elbapfik,\r\n type=index_kafka, dataSource=v2_metrics_cluster}]\r\nio.druid.java.util.common.ISE: Could not allocate segment for row with timestamp[2016-12-02T21:59:48.606Z]\r\n        at io.druid.indexing.kafka.KafkaIndexTask.run(KafkaIndexTask.java:434) ~[druid-kafka-indexing-service-0.9.3-1479913717-13c75d6-1087.jar:0.9.3-1479913717-13c75d6-1087]\r\n        at io.druid.indexing.overlord.ThreadPoolTaskRunner$ThreadPoolTaskRunnerCallable.call(ThreadPoolTaskRunner.java:436) [druid-indexing-service-0.9.3-1479913717-13c75d6-1087.jar:0.9.3-1479913717-13c75d6-108\r\n7]\r\n        at io.druid.indexing.overlord.ThreadPoolTaskRunner$ThreadPoolTaskRunnerCallable.call(ThreadPoolTaskRunner.java:408) [druid-indexing-service-0.9.3-1479913717-13c75d6-1087.jar:0.9.3-1479913717-13c75d6-108\r\n7]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_60]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_60]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_60]\r\n        at java.lang.Thread.run(Thread.java:745) [?:1.8.0_60]\r\n2016-12-02T21:59:51,707 INFO [task-runner-0-priority-0] io.druid.indexing.overlord.TaskRunnerUtils - Task [index_kafka_v2_metrics_cluster_06ef3c335c14bfd_elbapfik] status changed to [FAILED].\r\n2016-12-02T21:59:51,711 INFO [task-runner-0-priority-0] io.druid.indexing.worker.executor.ExecutorLifecycle - Task completed with status: {\r\n  \"id\" : \"index_kafka_v2_metrics_cluster_06ef3c335c14bfd_elbapfik\",\r\n  \"status\" : \"FAILED\",\r\n  \"duration\" : 1757\r\n}\r\n```\r\n\r\nOverlord logs - \r\n```\r\n2016-12-02T21:59:51,594 INFO [qtp40910225-116] io.druid.indexing.common.actions.LocalTaskActionClient - Performing action for task[index_kafka_v2_metrics_cluster_06ef3c335c14bfd_elbapfik]: SegmentAllocateAction{dataSource='v2_metrics_cluster', timestamp=2016-12-02T21:59:48.606Z, queryGranularity=DurationGranularity{length=60000, origin=0}, preferredSegmentGranularity=HOUR, sequenceName='index_kafka_v2_metrics_cluster_06ef3c335c14bfd_24', previousSegmentId='null'}\r\n2016-12-02T21:59:51,602 INFO [qtp40910225-116] io.druid.indexing.overlord.TaskLockbox - Added task[index_kafka_v2_metrics_cluster_06ef3c335c14bfd_elbapfik] to TaskLock[index_kafka_v2_metrics_cluster]\r\n2016-12-02T21:59:51,602 INFO [qtp40910225-116] io.druid.indexing.overlord.MetadataTaskStorage - Adding lock on interval[2016-12-02T21:00:00.000Z/2016-12-02T22:00:00.000Z] version[2016-12-02T21:00:00.244Z] for task: index_kafka_v2_metrics_cluster_06ef3c335c14bfd_elbapfik\r\n2016-12-02T21:59:51,618 WARN [qtp40910225-116] io.druid.metadata.IndexerSQLMetadataStorageCoordinator - Cannot use existing pending segment [v2_metrics_cluster_2016-11-29T17:00:00.000Z_2016-11-29T18:00:00.000Z_2016-11-29T17:00:00.207Z_59] for sequence[index_kafka_v2_metrics_cluster_06ef3c335c14bfd_24] (previous = []) in DB, does not match requested interval[2016-12-02T21:00:00.000Z/2016-12-02T22:00:00.000Z]\r\n```\r\n\r\nI can see in the database that there are pending segments in this sequence\r\n\r\n```\r\n{\r\n\t\"data\":\r\n\t[\r\n\t\t{\r\n\t\t\t\"id\": \"v2_metrics_cluster_2016-11-29T17:00:00.000Z_2016-11-29T18:00:00.000Z_2016-11-29T17:00:00.207Z_59\",\r\n\t\t\t\"dataSource\": \"v2_metrics_cluster\",\r\n\t\t\t\"created_date\": \"2016-11-29T17:51:40.375Z\",\r\n\t\t\t\"start\": \"2016-11-29T17:00:00.000Z\",\r\n\t\t\t\"end\": \"2016-11-29T18:00:00.000Z\",\r\n\t\t\t\"sequence_name\": \"index_kafka_v2_metrics_cluster_06ef3c335c14bfd_24\",\r\n\t\t\t\"sequence_prev_id\": \"\",\r\n\t\t\t\"sequence_name_prev_id_sha1\": \"1BF32CA26D5F48710C00EF8CDC96F650BA0AF936\",\r\n\t\t\t\"payload\": \"BLOB\"\r\n\t\t}\r\n\t]\r\n}\r\n```\r\n\r\nIf the task would have asked to allocate segment with previousSegmentId as `v2_metrics_cluster_2016-11-29T17:00:00.000Z_2016-11-29T18:00:00.000Z_2016-11-29T17:00:00.207Z_59` instead of `null` then it would have been fine and I think that's how it normally works.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264965234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264983959","html_url":"https://github.com/apache/druid/pull/3672#issuecomment-264983959","issue_url":"https://api.github.com/repos/apache/druid/issues/3672","id":264983959,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDk4Mzk1OQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-05T21:33:03Z","updated_at":"2016-12-05T21:33:03Z","author_association":"CONTRIBUTOR","body":"@b-slim comments addressed","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264983959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/264995829","html_url":"https://github.com/apache/druid/pull/3632#issuecomment-264995829","issue_url":"https://api.github.com/repos/apache/druid/issues/3632","id":264995829,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDk5NTgyOQ==","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-05T22:17:37Z","updated_at":"2016-12-05T22:17:37Z","author_association":"MEMBER","body":"@niketh do you mind filing a github issue for the suggestion to try out so we don't forget?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/264995829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/265001382","html_url":"https://github.com/apache/druid/pull/3632#issuecomment-265001382","issue_url":"https://api.github.com/repos/apache/druid/issues/3632","id":265001382,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NTAwMTM4Mg==","user":{"login":"niketh","id":626548,"node_id":"MDQ6VXNlcjYyNjU0OA==","avatar_url":"https://avatars.githubusercontent.com/u/626548?v=4","gravatar_id":"","url":"https://api.github.com/users/niketh","html_url":"https://github.com/niketh","followers_url":"https://api.github.com/users/niketh/followers","following_url":"https://api.github.com/users/niketh/following{/other_user}","gists_url":"https://api.github.com/users/niketh/gists{/gist_id}","starred_url":"https://api.github.com/users/niketh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketh/subscriptions","organizations_url":"https://api.github.com/users/niketh/orgs","repos_url":"https://api.github.com/users/niketh/repos","events_url":"https://api.github.com/users/niketh/events{/privacy}","received_events_url":"https://api.github.com/users/niketh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-05T22:40:22Z","updated_at":"2016-12-05T22:40:22Z","author_association":"CONTRIBUTOR","body":"@xvrl Created the issue here https://github.com/druid-io/druid/issues/3742 , will update it this week.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/265001382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/265009281","html_url":"https://github.com/apache/druid/pull/2511#issuecomment-265009281","issue_url":"https://api.github.com/repos/apache/druid/issues/2511","id":265009281,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NTAwOTI4MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-05T23:14:31Z","updated_at":"2016-12-05T23:14:31Z","author_association":"CONTRIBUTOR","body":"LGTM üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/265009281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/265014494","html_url":"https://github.com/apache/druid/pull/3682#issuecomment-265014494","issue_url":"https://api.github.com/repos/apache/druid/issues/3682","id":265014494,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NTAxNDQ5NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-05T23:41:41Z","updated_at":"2016-12-05T23:41:41Z","author_association":"CONTRIBUTOR","body":"Removed the \"WIP\" tag since I believe this is ready for review. I updated the top comment with the current state of the patch, please refer to that for context.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/265014494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/265032032","html_url":"https://github.com/apache/druid/pull/3736#issuecomment-265032032","issue_url":"https://api.github.com/repos/apache/druid/issues/3736","id":265032032,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NTAzMjAzMg==","user":{"login":"cheddar","id":216778,"node_id":"MDQ6VXNlcjIxNjc3OA==","avatar_url":"https://avatars.githubusercontent.com/u/216778?v=4","gravatar_id":"","url":"https://api.github.com/users/cheddar","html_url":"https://github.com/cheddar","followers_url":"https://api.github.com/users/cheddar/followers","following_url":"https://api.github.com/users/cheddar/following{/other_user}","gists_url":"https://api.github.com/users/cheddar/gists{/gist_id}","starred_url":"https://api.github.com/users/cheddar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cheddar/subscriptions","organizations_url":"https://api.github.com/users/cheddar/orgs","repos_url":"https://api.github.com/users/cheddar/repos","events_url":"https://api.github.com/users/cheddar/events{/privacy}","received_events_url":"https://api.github.com/users/cheddar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-06T01:20:10Z","updated_at":"2016-12-06T01:20:10Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/265032032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/265032775","html_url":"https://github.com/apache/druid/pull/3736#issuecomment-265032775","issue_url":"https://api.github.com/repos/apache/druid/issues/3736","id":265032775,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NTAzMjc3NQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-06T01:24:35Z","updated_at":"2016-12-06T01:24:35Z","author_association":"CONTRIBUTOR","body":"@niketh As i recall, the original reason for having throttling for drops was to avoid thundering herd problems and ZK outages as a result when too many segments were dropped","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/265032775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/265032940","html_url":"https://github.com/apache/druid/pull/3736#issuecomment-265032940","issue_url":"https://api.github.com/repos/apache/druid/issues/3736","id":265032940,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NTAzMjk0MA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-06T01:25:31Z","updated_at":"2016-12-06T01:25:31Z","author_association":"CONTRIBUTOR","body":"üëé As the original code did not have throttles in place for dropping segments and we experienced outages leading to the code being added","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/265032940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/265033445","html_url":"https://github.com/apache/druid/pull/3736#issuecomment-265033445","issue_url":"https://api.github.com/repos/apache/druid/issues/3736","id":265033445,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NTAzMzQ0NQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-06T01:28:26Z","updated_at":"2016-12-06T01:28:48Z","author_association":"CONTRIBUTOR","body":"I don't understand why \"some segments could never get deleted\". The queue should eventually clear up and segments should be removed. I propose faster dropping of segments by making it such that each time the coordinator runs, up to X segments can be loaded or dropped. This differs from the current logic, where X segments must all be loaded/dropped before the next set of X segments be can be loaded/dropped","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/265033445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/265065594","html_url":"https://github.com/apache/druid/pull/3736#issuecomment-265065594","issue_url":"https://api.github.com/repos/apache/druid/issues/3736","id":265065594,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NTA2NTU5NA==","user":{"login":"niketh","id":626548,"node_id":"MDQ6VXNlcjYyNjU0OA==","avatar_url":"https://avatars.githubusercontent.com/u/626548?v=4","gravatar_id":"","url":"https://api.github.com/users/niketh","html_url":"https://github.com/niketh","followers_url":"https://api.github.com/users/niketh/followers","following_url":"https://api.github.com/users/niketh/following{/other_user}","gists_url":"https://api.github.com/users/niketh/gists{/gist_id}","starred_url":"https://api.github.com/users/niketh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketh/subscriptions","organizations_url":"https://api.github.com/users/niketh/orgs","repos_url":"https://api.github.com/users/niketh/repos","events_url":"https://api.github.com/users/niketh/events{/privacy}","received_events_url":"https://api.github.com/users/niketh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-06T05:39:05Z","updated_at":"2016-12-06T06:01:42Z","author_association":"CONTRIBUTOR","body":"@fjy The reason why \"some segments could never get deleted\" was because we had maxSegmentsToMove to be set more than replicationThrottleLimit. This is why some segments couldn't get deleted and the replication factor for them was higher than the other nodes. \r\n\r\n\"The queue should eventually clear up and segments should be removed\" - This assumption doesn't seem to be right, at least from the code (it might be a bug). This is what is effectively happening today:\r\n`If (actualReplicantCount > expectedReplicantCount && nSegmentsBeingDropped < replicantThrottleLimit) \r\nthen drop;\r\nelse break;`\r\n\r\nAlso i saw that most of the segments that were over replicated were for our oldest time range because of https://github.com/niketh/druid/blob/master/server/src/main/java/io/druid/server/coordinator/DruidCoordinatorRuntimeParams.java#L186 , since the segments are reverse chronologically sorted, only the early ones will get picked for dropping if we hit the replicantThrottleLimit","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/265065594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/265068920","html_url":"https://github.com/apache/druid/pull/3736#issuecomment-265068920","issue_url":"https://api.github.com/repos/apache/druid/issues/3736","id":265068920,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NTA2ODkyMA==","user":{"login":"niketh","id":626548,"node_id":"MDQ6VXNlcjYyNjU0OA==","avatar_url":"https://avatars.githubusercontent.com/u/626548?v=4","gravatar_id":"","url":"https://api.github.com/users/niketh","html_url":"https://github.com/niketh","followers_url":"https://api.github.com/users/niketh/followers","following_url":"https://api.github.com/users/niketh/following{/other_user}","gists_url":"https://api.github.com/users/niketh/gists{/gist_id}","starred_url":"https://api.github.com/users/niketh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketh/subscriptions","organizations_url":"https://api.github.com/users/niketh/orgs","repos_url":"https://api.github.com/users/niketh/repos","events_url":"https://api.github.com/users/niketh/events{/privacy}","received_events_url":"https://api.github.com/users/niketh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-06T06:06:30Z","updated_at":"2016-12-06T06:06:30Z","author_association":"CONTRIBUTOR","body":"@fjy @cheddar If not having throttling causes ZK issues then at least we should have the logic in place where \r\n1. We either pick segments randomly and not in reverse chronological order OR\r\n2. We add all segments to drop to a FIFO queue and throttle on that so that there are no segments that are left starved","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/265068920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/265221106","html_url":"https://github.com/apache/druid/pull/3740#issuecomment-265221106","issue_url":"https://api.github.com/repos/apache/druid/issues/3740","id":265221106,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NTIyMTEwNg==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-06T17:52:18Z","updated_at":"2016-12-06T17:52:18Z","author_association":"CONTRIBUTOR","body":"@gianm there's some conflicts","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/265221106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/265225075","html_url":"https://github.com/apache/druid/pull/3743#issuecomment-265225075","issue_url":"https://api.github.com/repos/apache/druid/issues/3743","id":265225075,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NTIyNTA3NQ==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-12-06T18:06:53Z","updated_at":"2016-12-06T18:06:53Z","author_association":"MEMBER","body":"I am on vacation starting tomorrow and since https://github.com/druid-io/druid/pull/3069 has merge conflicts and has not been reviewed fully so it would make sense to make this version 2 and https://github.com/druid-io/druid/pull/3069 can be version 3 as and when it gets in so that this PR is not blocked.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/265225075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]