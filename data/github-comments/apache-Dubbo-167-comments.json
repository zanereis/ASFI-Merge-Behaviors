[{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/752900072","html_url":"https://github.com/apache/dubbo/issues/7054#issuecomment-752900072","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7054","id":752900072,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjkwMDA3Mg==","user":{"login":"zhongxiongzeng","id":41657421,"node_id":"MDQ6VXNlcjQxNjU3NDIx","avatar_url":"https://avatars.githubusercontent.com/u/41657421?v=4","gravatar_id":"","url":"https://api.github.com/users/zhongxiongzeng","html_url":"https://github.com/zhongxiongzeng","followers_url":"https://api.github.com/users/zhongxiongzeng/followers","following_url":"https://api.github.com/users/zhongxiongzeng/following{/other_user}","gists_url":"https://api.github.com/users/zhongxiongzeng/gists{/gist_id}","starred_url":"https://api.github.com/users/zhongxiongzeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhongxiongzeng/subscriptions","organizations_url":"https://api.github.com/users/zhongxiongzeng/orgs","repos_url":"https://api.github.com/users/zhongxiongzeng/repos","events_url":"https://api.github.com/users/zhongxiongzeng/events{/privacy}","received_events_url":"https://api.github.com/users/zhongxiongzeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-31T09:20:34Z","updated_at":"2020-12-31T09:20:34Z","author_association":"NONE","body":"我觉得大多数应用的provider暴露的端口都是一样的，就等于是在共享同一个线程池了，共享线程池的方案还不错。\r\n如果要做隔离的话是不是可以考虑用provider的host作为key好一点。","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/752900072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/753346955","html_url":"https://github.com/apache/dubbo/pull/7070#issuecomment-753346955","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7070","id":753346955,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MzM0Njk1NQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-01T17:18:51Z","updated_at":"2021-01-01T17:22:36Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/dubbo/pull/7070?src=pr&el=h1) Report\n> Merging [#7070](https://codecov.io/gh/apache/dubbo/pull/7070?src=pr&el=desc) (bdb4173) into [master](https://codecov.io/gh/apache/dubbo/commit/d98d48914b139d6abb2139ea36e51e536713edfe?el=desc) (d98d489) will **decrease** coverage by `0.20%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/dubbo/pull/7070/graphs/tree.svg?width=650&height=150&src=pr&token=VnEIkiFQT0)](https://codecov.io/gh/apache/dubbo/pull/7070?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #7070      +/-   ##\n============================================\n- Coverage     59.36%   59.15%   -0.21%     \n  Complexity      507      507              \n============================================\n  Files          1028     1028              \n  Lines         41527    41525       -2     \n  Branches       6038     6038              \n============================================\n- Hits          24651    24564      -87     \n- Misses        14123    14195      +72     \n- Partials       2753     2766      +13     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/dubbo/pull/7070?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...org/apache/dubbo/registry/nacos/NacosRegistry.java](https://codecov.io/gh/apache/dubbo/pull/7070/diff?src=pr&el=tree#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktbmFjb3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JlZ2lzdHJ5L25hY29zL05hY29zUmVnaXN0cnkuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [...rg/apache/dubbo/remoting/utils/PayloadDropper.java](https://codecov.io/gh/apache/dubbo/pull/7070/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy91dGlscy9QYXlsb2FkRHJvcHBlci5qYXZh) | `0.00% <0.00%> (-46.16%)` | `0.00% <0.00%> (ø%)` | |\n| [...ng/transport/dispatcher/all/AllChannelHandler.java](https://codecov.io/gh/apache/dubbo/pull/7070/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy90cmFuc3BvcnQvZGlzcGF0Y2hlci9hbGwvQWxsQ2hhbm5lbEhhbmRsZXIuamF2YQ==) | `62.06% <0.00%> (-34.49%)` | `0.00% <0.00%> (ø%)` | |\n| [...dubbo/common/status/support/LoadStatusChecker.java](https://codecov.io/gh/apache/dubbo/pull/7070/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vc3RhdHVzL3N1cHBvcnQvTG9hZFN0YXR1c0NoZWNrZXIuamF2YQ==) | `46.15% <0.00%> (-15.39%)` | `0.00% <0.00%> (ø%)` | |\n| [...ng/transport/dispatcher/WrappedChannelHandler.java](https://codecov.io/gh/apache/dubbo/pull/7070/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy90cmFuc3BvcnQvZGlzcGF0Y2hlci9XcmFwcGVkQ2hhbm5lbEhhbmRsZXIuamF2YQ==) | `47.82% <0.00%> (-15.22%)` | `0.00% <0.00%> (ø%)` | |\n| [...mmon/threadpool/support/AbortPolicyWithReport.java](https://codecov.io/gh/apache/dubbo/pull/7070/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdGhyZWFkcG9vbC9zdXBwb3J0L0Fib3J0UG9saWN5V2l0aFJlcG9ydC5qYXZh) | `85.00% <0.00%> (-12.50%)` | `0.00% <0.00%> (ø%)` | |\n| [.../remoting/transport/netty4/NettyClientHandler.java](https://codecov.io/gh/apache/dubbo/pull/7070/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctbmV0dHk0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy90cmFuc3BvcnQvbmV0dHk0L05ldHR5Q2xpZW50SGFuZGxlci5qYXZh) | `57.62% <0.00%> (-10.17%)` | `0.00% <0.00%> (ø%)` | |\n| [...dubbo/remoting/exchange/support/DefaultFuture.java](https://codecov.io/gh/apache/dubbo/pull/7070/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy9leGNoYW5nZS9zdXBwb3J0L0RlZmF1bHRGdXR1cmUuamF2YQ==) | `78.63% <0.00%> (-7.70%)` | `0.00% <0.00%> (ø%)` | |\n| [...apache/dubbo/common/config/ConfigurationUtils.java](https://codecov.io/gh/apache/dubbo/pull/7070/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vY29uZmlnL0NvbmZpZ3VyYXRpb25VdGlscy5qYXZh) | `58.62% <0.00%> (-6.90%)` | `0.00% <0.00%> (ø%)` | |\n| [.../dubbo/remoting/transport/netty4/NettyChannel.java](https://codecov.io/gh/apache/dubbo/pull/7070/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctbmV0dHk0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy90cmFuc3BvcnQvbmV0dHk0L05ldHR5Q2hhbm5lbC5qYXZh) | `61.38% <0.00%> (-5.95%)` | `0.00% <0.00%> (ø%)` | |\n| ... and [19 more](https://codecov.io/gh/apache/dubbo/pull/7070/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/dubbo/pull/7070?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/dubbo/pull/7070?src=pr&el=footer). Last update [d98d489...bdb4173](https://codecov.io/gh/apache/dubbo/pull/7070?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/753346955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/753356335","html_url":"https://github.com/apache/dubbo/issues/7031#issuecomment-753356335","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7031","id":753356335,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MzM1NjMzNQ==","user":{"login":"changfubai","id":20989201,"node_id":"MDQ6VXNlcjIwOTg5MjAx","avatar_url":"https://avatars.githubusercontent.com/u/20989201?v=4","gravatar_id":"","url":"https://api.github.com/users/changfubai","html_url":"https://github.com/changfubai","followers_url":"https://api.github.com/users/changfubai/followers","following_url":"https://api.github.com/users/changfubai/following{/other_user}","gists_url":"https://api.github.com/users/changfubai/gists{/gist_id}","starred_url":"https://api.github.com/users/changfubai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/changfubai/subscriptions","organizations_url":"https://api.github.com/users/changfubai/orgs","repos_url":"https://api.github.com/users/changfubai/repos","events_url":"https://api.github.com/users/changfubai/events{/privacy}","received_events_url":"https://api.github.com/users/changfubai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-01T17:57:46Z","updated_at":"2021-01-01T17:59:49Z","author_association":"CONTRIBUTOR","body":"fixed the rest of all in pr #7072 ","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/753356335/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/753592289","html_url":"https://github.com/apache/dubbo/issues/7065#issuecomment-753592289","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7065","id":753592289,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MzU5MjI4OQ==","user":{"login":"xinhefanzhou","id":28953380,"node_id":"MDQ6VXNlcjI4OTUzMzgw","avatar_url":"https://avatars.githubusercontent.com/u/28953380?v=4","gravatar_id":"","url":"https://api.github.com/users/xinhefanzhou","html_url":"https://github.com/xinhefanzhou","followers_url":"https://api.github.com/users/xinhefanzhou/followers","following_url":"https://api.github.com/users/xinhefanzhou/following{/other_user}","gists_url":"https://api.github.com/users/xinhefanzhou/gists{/gist_id}","starred_url":"https://api.github.com/users/xinhefanzhou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinhefanzhou/subscriptions","organizations_url":"https://api.github.com/users/xinhefanzhou/orgs","repos_url":"https://api.github.com/users/xinhefanzhou/repos","events_url":"https://api.github.com/users/xinhefanzhou/events{/privacy}","received_events_url":"https://api.github.com/users/xinhefanzhou/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-03T09:50:01Z","updated_at":"2021-01-03T09:50:01Z","author_association":"NONE","body":"已经解决了， 是zk会话超时了\r\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/753592289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/753787215","html_url":"https://github.com/apache/dubbo/issues/7071#issuecomment-753787215","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7071","id":753787215,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Mzc4NzIxNQ==","user":{"login":"dkisser","id":24600271,"node_id":"MDQ6VXNlcjI0NjAwMjcx","avatar_url":"https://avatars.githubusercontent.com/u/24600271?v=4","gravatar_id":"","url":"https://api.github.com/users/dkisser","html_url":"https://github.com/dkisser","followers_url":"https://api.github.com/users/dkisser/followers","following_url":"https://api.github.com/users/dkisser/following{/other_user}","gists_url":"https://api.github.com/users/dkisser/gists{/gist_id}","starred_url":"https://api.github.com/users/dkisser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkisser/subscriptions","organizations_url":"https://api.github.com/users/dkisser/orgs","repos_url":"https://api.github.com/users/dkisser/repos","events_url":"https://api.github.com/users/dkisser/events{/privacy}","received_events_url":"https://api.github.com/users/dkisser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T06:36:03Z","updated_at":"2021-01-04T06:36:03Z","author_association":"NONE","body":"just warn ,it doesn't matter.provider (172.17.0.152:30770 )  response timeout, but another provider(172.17.0.154:30770) response successfully.if you want know the reason of the timeout ,you should watch the log of the provder(172.17.0.152:30770) .","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/753787215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/753792559","html_url":"https://github.com/apache/dubbo/issues/7054#issuecomment-753792559","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7054","id":753792559,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Mzc5MjU1OQ==","user":{"login":"wikiwikiwiki","id":3408085,"node_id":"MDQ6VXNlcjM0MDgwODU=","avatar_url":"https://avatars.githubusercontent.com/u/3408085?v=4","gravatar_id":"","url":"https://api.github.com/users/wikiwikiwiki","html_url":"https://github.com/wikiwikiwiki","followers_url":"https://api.github.com/users/wikiwikiwiki/followers","following_url":"https://api.github.com/users/wikiwikiwiki/following{/other_user}","gists_url":"https://api.github.com/users/wikiwikiwiki/gists{/gist_id}","starred_url":"https://api.github.com/users/wikiwikiwiki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wikiwikiwiki/subscriptions","organizations_url":"https://api.github.com/users/wikiwikiwiki/orgs","repos_url":"https://api.github.com/users/wikiwikiwiki/repos","events_url":"https://api.github.com/users/wikiwikiwiki/events{/privacy}","received_events_url":"https://api.github.com/users/wikiwikiwiki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T06:50:22Z","updated_at":"2021-01-04T06:51:18Z","author_association":"NONE","body":"> 我觉得大多数应用的provider暴露的端口都是一样的，就等于是在共享同一个线程池了，共享线程池的方案还不错。\r\n> 如果要做隔离的话是不是可以考虑用provider的host作为key好一点。\r\n\r\n大多数端口一样只是简单环境的情况，要真碰到复杂环境就出问题了，线上因为这个出问题怪大家自己配置端口这肯定不行啊。\r\n\r\n隔离用provider host做key没啥意义，不管是针对接口还是方法或是其它，都应该是针对一个服务的所有机器，一个服务可能100台机器，应该是针对这个服务做线程隔离，针对其中某台没什么用。","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/753792559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/753884779","html_url":"https://github.com/apache/dubbo/issues/7065#issuecomment-753884779","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7065","id":753884779,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Mzg4NDc3OQ==","user":{"login":"dongze1213","id":2329986,"node_id":"MDQ6VXNlcjIzMjk5ODY=","avatar_url":"https://avatars.githubusercontent.com/u/2329986?v=4","gravatar_id":"","url":"https://api.github.com/users/dongze1213","html_url":"https://github.com/dongze1213","followers_url":"https://api.github.com/users/dongze1213/followers","following_url":"https://api.github.com/users/dongze1213/following{/other_user}","gists_url":"https://api.github.com/users/dongze1213/gists{/gist_id}","starred_url":"https://api.github.com/users/dongze1213/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongze1213/subscriptions","organizations_url":"https://api.github.com/users/dongze1213/orgs","repos_url":"https://api.github.com/users/dongze1213/repos","events_url":"https://api.github.com/users/dongze1213/events{/privacy}","received_events_url":"https://api.github.com/users/dongze1213/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T10:10:23Z","updated_at":"2021-01-04T10:13:32Z","author_association":"NONE","body":"> 已经解决了， 是zk会话超时了\r\n\r\n怎么判断是zk会话超时造成的？日志里看不出啊，最后怎么解决的呢？","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/753884779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/753939954","html_url":"https://github.com/apache/dubbo/issues/7065#issuecomment-753939954","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7065","id":753939954,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MzkzOTk1NA==","user":{"login":"xinhefanzhou","id":28953380,"node_id":"MDQ6VXNlcjI4OTUzMzgw","avatar_url":"https://avatars.githubusercontent.com/u/28953380?v=4","gravatar_id":"","url":"https://api.github.com/users/xinhefanzhou","html_url":"https://github.com/xinhefanzhou","followers_url":"https://api.github.com/users/xinhefanzhou/followers","following_url":"https://api.github.com/users/xinhefanzhou/following{/other_user}","gists_url":"https://api.github.com/users/xinhefanzhou/gists{/gist_id}","starred_url":"https://api.github.com/users/xinhefanzhou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinhefanzhou/subscriptions","organizations_url":"https://api.github.com/users/xinhefanzhou/orgs","repos_url":"https://api.github.com/users/xinhefanzhou/repos","events_url":"https://api.github.com/users/xinhefanzhou/events{/privacy}","received_events_url":"https://api.github.com/users/xinhefanzhou/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T12:09:45Z","updated_at":"2021-01-04T12:09:45Z","author_association":"NONE","body":"> \r\n> \r\n> > 已经解决了， 是zk会话超时了\r\n> \r\n> 怎么判断是zk会话超时造成的？日志里看不出啊，最后怎么解决的呢？\r\n\r\n1.zk的日志中有很多的timeout\r\n2.缩短zk zoo.cfg中的minSessionTimeout和maxSessionTimeout 之后重新测试，很快出现了找不到provider的情况\r\n3.增加zk zoo.cfg中的minSessionTimeout和maxSessionTimeout 之后重新测试，跑了很久没有出现该现象","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/753939954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/753983406","html_url":"https://github.com/apache/dubbo/issues/7074#issuecomment-753983406","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7074","id":753983406,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Mzk4MzQwNg==","user":{"login":"cxdhefei","id":16495772,"node_id":"MDQ6VXNlcjE2NDk1Nzcy","avatar_url":"https://avatars.githubusercontent.com/u/16495772?v=4","gravatar_id":"","url":"https://api.github.com/users/cxdhefei","html_url":"https://github.com/cxdhefei","followers_url":"https://api.github.com/users/cxdhefei/followers","following_url":"https://api.github.com/users/cxdhefei/following{/other_user}","gists_url":"https://api.github.com/users/cxdhefei/gists{/gist_id}","starred_url":"https://api.github.com/users/cxdhefei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cxdhefei/subscriptions","organizations_url":"https://api.github.com/users/cxdhefei/orgs","repos_url":"https://api.github.com/users/cxdhefei/repos","events_url":"https://api.github.com/users/cxdhefei/events{/privacy}","received_events_url":"https://api.github.com/users/cxdhefei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T13:46:22Z","updated_at":"2021-01-04T13:46:22Z","author_association":"NONE","body":"@manzhizhen \r\nThis problem is similar to this [issue ](https://github.com/apache/dubbo/issues/6813)","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/753983406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/754375231","html_url":"https://github.com/apache/dubbo/pull/7078#issuecomment-754375231","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7078","id":754375231,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDM3NTIzMQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T03:53:52Z","updated_at":"2021-01-21T12:51:50Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/dubbo/pull/7078?src=pr&el=h1) Report\n> Merging [#7078](https://codecov.io/gh/apache/dubbo/pull/7078?src=pr&el=desc) (8e509bf) into [master](https://codecov.io/gh/apache/dubbo/commit/70b6fb357c2a4a5aa0f593af588e9e4abd2ec05e?el=desc) (70b6fb3) will **increase** coverage by `1.03%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/dubbo/pull/7078/graphs/tree.svg?width=650&height=150&src=pr&token=VnEIkiFQT0)](https://codecov.io/gh/apache/dubbo/pull/7078?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #7078      +/-   ##\n============================================\n+ Coverage     59.22%   60.25%   +1.03%     \n+ Complexity      508      507       -1     \n============================================\n  Files          1028     1028              \n  Lines         41525    41531       +6     \n  Branches       6038     6038              \n============================================\n+ Hits          24593    25025     +432     \n+ Misses        14169    13754     -415     \n+ Partials       2763     2752      -11     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/dubbo/pull/7078?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../apache/dubbo/remoting/transport/AbstractPeer.java](https://codecov.io/gh/apache/dubbo/pull/7078/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy90cmFuc3BvcnQvQWJzdHJhY3RQZWVyLmphdmE=) | `58.69% <0.00%> (-4.35%)` | `0.00% <0.00%> (ø%)` | |\n| [...pache/dubbo/remoting/transport/AbstractServer.java](https://codecov.io/gh/apache/dubbo/pull/7078/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy90cmFuc3BvcnQvQWJzdHJhY3RTZXJ2ZXIuamF2YQ==) | `53.75% <0.00%> (-3.75%)` | `0.00% <0.00%> (ø%)` | |\n| [...e/dubbo/remoting/transport/netty/NettyChannel.java](https://codecov.io/gh/apache/dubbo/pull/7078/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctbmV0dHkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JlbW90aW5nL3RyYW5zcG9ydC9uZXR0eS9OZXR0eUNoYW5uZWwuamF2YQ==) | `52.27% <0.00%> (-3.41%)` | `19.00% <0.00%> (-1.00%)` | |\n| [.../src/main/java/org/apache/dubbo/rpc/RpcStatus.java](https://codecov.io/gh/apache/dubbo/pull/7078/diff?src=pr&el=tree#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy1hcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JwYy9ScGNTdGF0dXMuamF2YQ==) | `71.42% <0.00%> (-1.20%)` | `0.00% <0.00%> (ø%)` | |\n| [...pache/dubbo/registry/support/AbstractRegistry.java](https://codecov.io/gh/apache/dubbo/pull/7078/diff?src=pr&el=tree#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS9zdXBwb3J0L0Fic3RyYWN0UmVnaXN0cnkuamF2YQ==) | `79.62% <0.00%> (-1.12%)` | `0.00% <0.00%> (ø%)` | |\n| [...a/org/apache/dubbo/monitor/dubbo/DubboMonitor.java](https://codecov.io/gh/apache/dubbo/pull/7078/diff?src=pr&el=tree#diff-ZHViYm8tbW9uaXRvci9kdWJiby1tb25pdG9yLWRlZmF1bHQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL21vbml0b3IvZHViYm8vRHViYm9Nb25pdG9yLmphdmE=) | `88.57% <0.00%> (-0.96%)` | `16.00% <0.00%> (-1.00%)` | |\n| [...figcenter/file/FileSystemDynamicConfiguration.java](https://codecov.io/gh/apache/dubbo/pull/7078/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vY29uZmlnL2NvbmZpZ2NlbnRlci9maWxlL0ZpbGVTeXN0ZW1EeW5hbWljQ29uZmlndXJhdGlvbi5qYXZh) | `62.38% <0.00%> (-0.48%)` | `0.00% <0.00%> (ø%)` | |\n| [...ava/org/apache/dubbo/common/utils/MemberUtils.java](https://codecov.io/gh/apache/dubbo/pull/7078/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdXRpbHMvTWVtYmVyVXRpbHMuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...apache/dubbo/common/extension/ExtensionLoader.java](https://codecov.io/gh/apache/dubbo/pull/7078/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vZXh0ZW5zaW9uL0V4dGVuc2lvbkxvYWRlci5qYXZh) | `75.56% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...mon/src/main/java/org/apache/dubbo/common/URL.java](https://codecov.io/gh/apache/dubbo/pull/7078/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vVVJMLmphdmE=) | `48.95% <0.00%> (+0.10%)` | `0.00% <0.00%> (ø%)` | |\n| ... and [47 more](https://codecov.io/gh/apache/dubbo/pull/7078/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/dubbo/pull/7078?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/dubbo/pull/7078?src=pr&el=footer). Last update [70b6fb3...8e509bf](https://codecov.io/gh/apache/dubbo/pull/7078?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/754375231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/754462429","html_url":"https://github.com/apache/dubbo/issues/6383#issuecomment-754462429","issue_url":"https://api.github.com/repos/apache/dubbo/issues/6383","id":754462429,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDQ2MjQyOQ==","user":{"login":"seven-boot","id":40301562,"node_id":"MDQ6VXNlcjQwMzAxNTYy","avatar_url":"https://avatars.githubusercontent.com/u/40301562?v=4","gravatar_id":"","url":"https://api.github.com/users/seven-boot","html_url":"https://github.com/seven-boot","followers_url":"https://api.github.com/users/seven-boot/followers","following_url":"https://api.github.com/users/seven-boot/following{/other_user}","gists_url":"https://api.github.com/users/seven-boot/gists{/gist_id}","starred_url":"https://api.github.com/users/seven-boot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seven-boot/subscriptions","organizations_url":"https://api.github.com/users/seven-boot/orgs","repos_url":"https://api.github.com/users/seven-boot/repos","events_url":"https://api.github.com/users/seven-boot/events{/privacy}","received_events_url":"https://api.github.com/users/seven-boot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T07:38:46Z","updated_at":"2021-01-05T07:38:46Z","author_association":"NONE","body":"dubbo 2.7.7\r\nnacos-client 1.2.1\r\n并没有出现这个问题，指定 group 之后均正常注册：接口名+版本号+分组名\r\n\r\n> 这个Bug 在nacos 注册中心也有这样的问题\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/754462429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/754645682","html_url":"https://github.com/apache/dubbo/pull/7080#issuecomment-754645682","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7080","id":754645682,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDY0NTY4Mg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T13:46:21Z","updated_at":"2021-01-05T13:46:21Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/dubbo/pull/7080?src=pr&el=h1) Report\n> Merging [#7080](https://codecov.io/gh/apache/dubbo/pull/7080?src=pr&el=desc) (286913c) into [master](https://codecov.io/gh/apache/dubbo/commit/70b6fb357c2a4a5aa0f593af588e9e4abd2ec05e?el=desc) (70b6fb3) will **decrease** coverage by `0.15%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/dubbo/pull/7080/graphs/tree.svg?width=650&height=150&src=pr&token=VnEIkiFQT0)](https://codecov.io/gh/apache/dubbo/pull/7080?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #7080      +/-   ##\n============================================\n- Coverage     59.21%   59.05%   -0.16%     \n+ Complexity      508      506       -2     \n============================================\n  Files          1028     1028              \n  Lines         41525    41481      -44     \n  Branches       6038     6008      -30     \n============================================\n- Hits          24587    24496      -91     \n- Misses        14172    14224      +52     \n+ Partials       2766     2761       -5     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/dubbo/pull/7080?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...o/rpc/cluster/support/wrapper/AbstractCluster.java](https://codecov.io/gh/apache/dubbo/pull/7080/diff?src=pr&el=tree#diff-ZHViYm8tY2x1c3Rlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvZHViYm8vcnBjL2NsdXN0ZXIvc3VwcG9ydC93cmFwcGVyL0Fic3RyYWN0Q2x1c3Rlci5qYXZh) | `62.16% <ø> (ø)` | `0.00 <0.00> (ø)` | |\n| [...rg/apache/dubbo/remoting/utils/PayloadDropper.java](https://codecov.io/gh/apache/dubbo/pull/7080/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy91dGlscy9QYXlsb2FkRHJvcHBlci5qYXZh) | `15.38% <0.00%> (-30.77%)` | `0.00% <0.00%> (ø%)` | |\n| [...bo/config/event/listener/LoggingEventListener.java](https://codecov.io/gh/apache/dubbo/pull/7080/diff?src=pr&el=tree#diff-ZHViYm8tY29uZmlnL2R1YmJvLWNvbmZpZy1hcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL2NvbmZpZy9ldmVudC9saXN0ZW5lci9Mb2dnaW5nRXZlbnRMaXN0ZW5lci5qYXZh) | `37.50% <0.00%> (-25.00%)` | `0.00% <0.00%> (ø%)` | |\n| [...va/org/apache/dubbo/remoting/TimeoutException.java](https://codecov.io/gh/apache/dubbo/pull/7080/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy9UaW1lb3V0RXhjZXB0aW9uLmphdmE=) | `0.00% <0.00%> (-22.23%)` | `0.00% <0.00%> (ø%)` | |\n| [...bbo/common/bytecode/CustomizedLoaderClassPath.java](https://codecov.io/gh/apache/dubbo/pull/7080/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vYnl0ZWNvZGUvQ3VzdG9taXplZExvYWRlckNsYXNzUGF0aC5qYXZh) | `28.00% <0.00%> (-16.00%)` | `0.00% <0.00%> (ø%)` | |\n| [...he/dubbo/common/threadpool/ThreadlessExecutor.java](https://codecov.io/gh/apache/dubbo/pull/7080/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdGhyZWFkcG9vbC9UaHJlYWRsZXNzRXhlY3V0b3IuamF2YQ==) | `52.17% <0.00%> (-10.87%)` | `0.00% <0.00%> (ø%)` | |\n| [...ava/org/apache/dubbo/config/DubboShutdownHook.java](https://codecov.io/gh/apache/dubbo/pull/7080/diff?src=pr&el=tree#diff-ZHViYm8tY29uZmlnL2R1YmJvLWNvbmZpZy1hcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL2NvbmZpZy9EdWJib1NodXRkb3duSG9vay5qYXZh) | `63.82% <0.00%> (-10.64%)` | `0.00% <0.00%> (ø%)` | |\n| [...che/dubbo/remoting/transport/mina/MinaChannel.java](https://codecov.io/gh/apache/dubbo/pull/7080/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctbWluYS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvZHViYm8vcmVtb3RpbmcvdHJhbnNwb3J0L21pbmEvTWluYUNoYW5uZWwuamF2YQ==) | `39.47% <0.00%> (-10.53%)` | `15.00% <0.00%> (-1.00%)` | |\n| [.../apache/dubbo/rpc/protocol/AsyncToSyncInvoker.java](https://codecov.io/gh/apache/dubbo/pull/7080/diff?src=pr&el=tree#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy1hcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JwYy9wcm90b2NvbC9Bc3luY1RvU3luY0ludm9rZXIuamF2YQ==) | `62.06% <0.00%> (-10.35%)` | `0.00% <0.00%> (ø%)` | |\n| [...dubbo/remoting/exchange/support/DefaultFuture.java](https://codecov.io/gh/apache/dubbo/pull/7080/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy9leGNoYW5nZS9zdXBwb3J0L0RlZmF1bHRGdXR1cmUuamF2YQ==) | `70.79% <0.00%> (-7.84%)` | `0.00% <0.00%> (ø%)` | |\n| ... and [36 more](https://codecov.io/gh/apache/dubbo/pull/7080/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/dubbo/pull/7080?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/dubbo/pull/7080?src=pr&el=footer). Last update [70b6fb3...286913c](https://codecov.io/gh/apache/dubbo/pull/7080?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/754645682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/754683802","html_url":"https://github.com/apache/dubbo/issues/7054#issuecomment-754683802","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7054","id":754683802,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDY4MzgwMg==","user":{"login":"zhangyz-hd","id":10389889,"node_id":"MDQ6VXNlcjEwMzg5ODg5","avatar_url":"https://avatars.githubusercontent.com/u/10389889?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyz-hd","html_url":"https://github.com/zhangyz-hd","followers_url":"https://api.github.com/users/zhangyz-hd/followers","following_url":"https://api.github.com/users/zhangyz-hd/following{/other_user}","gists_url":"https://api.github.com/users/zhangyz-hd/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyz-hd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyz-hd/subscriptions","organizations_url":"https://api.github.com/users/zhangyz-hd/orgs","repos_url":"https://api.github.com/users/zhangyz-hd/repos","events_url":"https://api.github.com/users/zhangyz-hd/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyz-hd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T14:53:42Z","updated_at":"2021-01-05T23:35:40Z","author_association":"CONTRIBUTOR","body":"这个问题的核心，应该是：**当某个提供者下线时，消费者端创建一个fixed的线程池**，创建的时的堆栈如下\r\n```\r\n\tat org.apache.dubbo.remoting.transport.dispatcher.all.AllChannelHandler.disconnected(AllChannelHandler.java:50)\r\n\tat org.apache.dubbo.remoting.exchange.support.header.HeartbeatHandler.disconnected(HeartbeatHandler.java:55)\r\n\tat org.apache.dubbo.remoting.transport.AbstractChannelHandlerDelegate.disconnected(AbstractChannelHandlerDelegate.java:48)\r\n\tat org.apache.dubbo.remoting.transport.AbstractPeer.disconnected(AbstractPeer.java:131)\r\n\tat org.apache.dubbo.remoting.transport.netty4.NettyClientHandler.channelInactive(NettyClientHandler.java:70)\r\n\r\n```\r\n\r\n看AllChannelHandler.disconnected中，目的应该是要一个共享的pool把断连后的ChannelEventRunnable任务完成\r\n```\r\n    @Override\r\n    public void disconnected(Channel channel) throws RemotingException {\r\n        ExecutorService executor = getExecutorService();//<------\r\n        try {\r\n            executor.execute(new ChannelEventRunnable(channel, handler, ChannelState.DISCONNECTED));\r\n        } catch (Throwable t) {\r\n            throw new ExecutionException(\"disconnect event\", channel, getClass() + \" error when process disconnected event .\", t);\r\n        }\r\n    }\r\n```\r\n\r\n但是在DefaultExecutorRepository.getExecutor中，因为executor已经shutdown状态，所以if分支内又执行了一次executor = createExecutor(url);而这次创建的pool，是fixed类型，因为URL中的portKey没变化，因此覆盖了AbstractClient创建的cached池\r\n```\r\n        if (executor != null) {\r\n            if (executor.isShutdown() || executor.isTerminated()) {\r\n                executors.remove(portKey);\r\n                executor = createExecutor(url);//<------\r\n                executors.put(portKey, executor);\r\n            }\r\n        }\r\n```\r\n\r\n我觉得不一定要修复consumer端的线程模型，只需要修复AllChannelHandler.disconnected的问题，比如AllChannelHandler中ExecutorService固定为自身专用的池，或者改为全局共享的一个池。\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/754683802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/755065012","html_url":"https://github.com/apache/dubbo/issues/7054#issuecomment-755065012","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7054","id":755065012,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTA2NTAxMg==","user":{"login":"zhangyz-hd","id":10389889,"node_id":"MDQ6VXNlcjEwMzg5ODg5","avatar_url":"https://avatars.githubusercontent.com/u/10389889?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyz-hd","html_url":"https://github.com/zhangyz-hd","followers_url":"https://api.github.com/users/zhangyz-hd/followers","following_url":"https://api.github.com/users/zhangyz-hd/following{/other_user}","gists_url":"https://api.github.com/users/zhangyz-hd/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyz-hd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyz-hd/subscriptions","organizations_url":"https://api.github.com/users/zhangyz-hd/orgs","repos_url":"https://api.github.com/users/zhangyz-hd/repos","events_url":"https://api.github.com/users/zhangyz-hd/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyz-hd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T04:08:02Z","updated_at":"2021-01-06T04:08:02Z","author_association":"CONTRIBUTOR","body":"@wikiwikiwiki see #7081 ","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/755065012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/755065530","html_url":"https://github.com/apache/dubbo/issues/4806#issuecomment-755065530","issue_url":"https://api.github.com/repos/apache/dubbo/issues/4806","id":755065530,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTA2NTUzMA==","user":{"login":"yllions","id":5567469,"node_id":"MDQ6VXNlcjU1Njc0Njk=","avatar_url":"https://avatars.githubusercontent.com/u/5567469?v=4","gravatar_id":"","url":"https://api.github.com/users/yllions","html_url":"https://github.com/yllions","followers_url":"https://api.github.com/users/yllions/followers","following_url":"https://api.github.com/users/yllions/following{/other_user}","gists_url":"https://api.github.com/users/yllions/gists{/gist_id}","starred_url":"https://api.github.com/users/yllions/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yllions/subscriptions","organizations_url":"https://api.github.com/users/yllions/orgs","repos_url":"https://api.github.com/users/yllions/repos","events_url":"https://api.github.com/users/yllions/events{/privacy}","received_events_url":"https://api.github.com/users/yllions/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T04:10:00Z","updated_at":"2021-01-06T04:10:00Z","author_association":"NONE","body":"我们也遇到这个问题，有官方同学来回答一下吗","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/755065530/reactions","total_count":5,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":5},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/755245646","html_url":"https://github.com/apache/dubbo/pull/7083#issuecomment-755245646","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7083","id":755245646,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTI0NTY0Ng==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T11:27:15Z","updated_at":"2021-01-06T11:29:52Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/dubbo/pull/7083?src=pr&el=h1) Report\n> Merging [#7083](https://codecov.io/gh/apache/dubbo/pull/7083?src=pr&el=desc) (6ac15e9) into [master](https://codecov.io/gh/apache/dubbo/commit/70b6fb357c2a4a5aa0f593af588e9e4abd2ec05e?el=desc) (70b6fb3) will **decrease** coverage by `0.03%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/dubbo/pull/7083/graphs/tree.svg?width=650&height=150&src=pr&token=VnEIkiFQT0)](https://codecov.io/gh/apache/dubbo/pull/7083?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #7083      +/-   ##\n============================================\n- Coverage     59.22%   59.19%   -0.04%     \n+ Complexity      508      506       -2     \n============================================\n  Files          1028     1028              \n  Lines         41525    41525              \n  Branches       6038     6038              \n============================================\n- Hits          24593    24580      -13     \n- Misses        14169    14178       +9     \n- Partials       2763     2767       +4     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/dubbo/pull/7083?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...rg/apache/dubbo/remoting/utils/PayloadDropper.java](https://codecov.io/gh/apache/dubbo/pull/7083/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy91dGlscy9QYXlsb2FkRHJvcHBlci5qYXZh) | `15.38% <0.00%> (-30.77%)` | `0.00% <0.00%> (ø%)` | |\n| [.../registry/multicast/MulticastServiceDiscovery.java](https://codecov.io/gh/apache/dubbo/pull/7083/diff?src=pr&el=tree#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktbXVsdGljYXN0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS9tdWx0aWNhc3QvTXVsdGljYXN0U2VydmljZURpc2NvdmVyeS5qYXZh) | `23.07% <0.00%> (-7.70%)` | `0.00% <0.00%> (ø%)` | |\n| [...pache/dubbo/remoting/transport/AbstractServer.java](https://codecov.io/gh/apache/dubbo/pull/7083/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy90cmFuc3BvcnQvQWJzdHJhY3RTZXJ2ZXIuamF2YQ==) | `53.75% <0.00%> (-3.75%)` | `0.00% <0.00%> (ø%)` | |\n| [...e/dubbo/remoting/transport/netty/NettyChannel.java](https://codecov.io/gh/apache/dubbo/pull/7083/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctbmV0dHkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JlbW90aW5nL3RyYW5zcG9ydC9uZXR0eS9OZXR0eUNoYW5uZWwuamF2YQ==) | `52.27% <0.00%> (-3.41%)` | `19.00% <0.00%> (-1.00%)` | |\n| [...ubbo/registry/client/ServiceDiscoveryRegistry.java](https://codecov.io/gh/apache/dubbo/pull/7083/diff?src=pr&el=tree#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS9jbGllbnQvU2VydmljZURpc2NvdmVyeVJlZ2lzdHJ5LmphdmE=) | `27.84% <0.00%> (-2.54%)` | `0.00% <0.00%> (ø%)` | |\n| [...a/org/apache/dubbo/monitor/dubbo/DubboMonitor.java](https://codecov.io/gh/apache/dubbo/pull/7083/diff?src=pr&el=tree#diff-ZHViYm8tbW9uaXRvci9kdWJiby1tb25pdG9yLWRlZmF1bHQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL21vbml0b3IvZHViYm8vRHViYm9Nb25pdG9yLmphdmE=) | `88.57% <0.00%> (-0.96%)` | `16.00% <0.00%> (-1.00%)` | |\n| [...ava/org/apache/dubbo/config/ServiceConfigBase.java](https://codecov.io/gh/apache/dubbo/pull/7083/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb25maWcvU2VydmljZUNvbmZpZ0Jhc2UuamF2YQ==) | `58.95% <0.00%> (-0.58%)` | `0.00% <0.00%> (ø%)` | |\n| [...rg/apache/dubbo/common/timer/HashedWheelTimer.java](https://codecov.io/gh/apache/dubbo/pull/7083/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdGltZXIvSGFzaGVkV2hlZWxUaW1lci5qYXZh) | `63.23% <0.00%> (-0.35%)` | `0.00% <0.00%> (ø%)` | |\n| [...n/java/org/apache/dubbo/common/utils/NetUtils.java](https://codecov.io/gh/apache/dubbo/pull/7083/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdXRpbHMvTmV0VXRpbHMuamF2YQ==) | `66.21% <0.00%> (-0.35%)` | `0.00% <0.00%> (ø%)` | |\n| [...exchange/support/header/HeaderExchangeHandler.java](https://codecov.io/gh/apache/dubbo/pull/7083/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy9leGNoYW5nZS9zdXBwb3J0L2hlYWRlci9IZWFkZXJFeGNoYW5nZUhhbmRsZXIuamF2YQ==) | `63.71% <0.00%> (+2.65%)` | `0.00% <0.00%> (ø%)` | |\n| ... and [2 more](https://codecov.io/gh/apache/dubbo/pull/7083/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/dubbo/pull/7083?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/dubbo/pull/7083?src=pr&el=footer). Last update [70b6fb3...6ac15e9](https://codecov.io/gh/apache/dubbo/pull/7083?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/755245646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/755471160","html_url":"https://github.com/apache/dubbo/issues/156#issuecomment-755471160","issue_url":"https://api.github.com/repos/apache/dubbo/issues/156","id":755471160,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTQ3MTE2MA==","user":{"login":"GuoDapeng","id":7477750,"node_id":"MDQ6VXNlcjc0Nzc3NTA=","avatar_url":"https://avatars.githubusercontent.com/u/7477750?v=4","gravatar_id":"","url":"https://api.github.com/users/GuoDapeng","html_url":"https://github.com/GuoDapeng","followers_url":"https://api.github.com/users/GuoDapeng/followers","following_url":"https://api.github.com/users/GuoDapeng/following{/other_user}","gists_url":"https://api.github.com/users/GuoDapeng/gists{/gist_id}","starred_url":"https://api.github.com/users/GuoDapeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GuoDapeng/subscriptions","organizations_url":"https://api.github.com/users/GuoDapeng/orgs","repos_url":"https://api.github.com/users/GuoDapeng/repos","events_url":"https://api.github.com/users/GuoDapeng/events{/privacy}","received_events_url":"https://api.github.com/users/GuoDapeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T18:19:26Z","updated_at":"2021-01-06T18:19:26Z","author_association":"NONE","body":"这事情让我难受了2天，大部分解决方案让我不要用延迟加载，笑死我了。","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/755471160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/755833473","html_url":"https://github.com/apache/dubbo/issues/7079#issuecomment-755833473","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7079","id":755833473,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTgzMzQ3Mw==","user":{"login":"github-ganyu","id":25056767,"node_id":"MDQ6VXNlcjI1MDU2NzY3","avatar_url":"https://avatars.githubusercontent.com/u/25056767?v=4","gravatar_id":"","url":"https://api.github.com/users/github-ganyu","html_url":"https://github.com/github-ganyu","followers_url":"https://api.github.com/users/github-ganyu/followers","following_url":"https://api.github.com/users/github-ganyu/following{/other_user}","gists_url":"https://api.github.com/users/github-ganyu/gists{/gist_id}","starred_url":"https://api.github.com/users/github-ganyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-ganyu/subscriptions","organizations_url":"https://api.github.com/users/github-ganyu/orgs","repos_url":"https://api.github.com/users/github-ganyu/repos","events_url":"https://api.github.com/users/github-ganyu/events{/privacy}","received_events_url":"https://api.github.com/users/github-ganyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T01:58:05Z","updated_at":"2021-01-07T01:58:05Z","author_association":"NONE","body":"Could it be a bug of SpringCloudAlibaba?","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/755833473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/755905474","html_url":"https://github.com/apache/dubbo/issues/7084#issuecomment-755905474","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7084","id":755905474,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTkwNTQ3NA==","user":{"login":"Daibhid666","id":10000521,"node_id":"MDQ6VXNlcjEwMDAwNTIx","avatar_url":"https://avatars.githubusercontent.com/u/10000521?v=4","gravatar_id":"","url":"https://api.github.com/users/Daibhid666","html_url":"https://github.com/Daibhid666","followers_url":"https://api.github.com/users/Daibhid666/followers","following_url":"https://api.github.com/users/Daibhid666/following{/other_user}","gists_url":"https://api.github.com/users/Daibhid666/gists{/gist_id}","starred_url":"https://api.github.com/users/Daibhid666/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Daibhid666/subscriptions","organizations_url":"https://api.github.com/users/Daibhid666/orgs","repos_url":"https://api.github.com/users/Daibhid666/repos","events_url":"https://api.github.com/users/Daibhid666/events{/privacy}","received_events_url":"https://api.github.com/users/Daibhid666/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T06:02:21Z","updated_at":"2021-01-07T06:02:21Z","author_association":"NONE","body":"dubbo2.7.7泛化调用具体是怎么配置的","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/755905474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/756000187","html_url":"https://github.com/apache/dubbo/issues/7084#issuecomment-756000187","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7084","id":756000187,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjAwMDE4Nw==","user":{"login":"dkisser","id":24600271,"node_id":"MDQ6VXNlcjI0NjAwMjcx","avatar_url":"https://avatars.githubusercontent.com/u/24600271?v=4","gravatar_id":"","url":"https://api.github.com/users/dkisser","html_url":"https://github.com/dkisser","followers_url":"https://api.github.com/users/dkisser/followers","following_url":"https://api.github.com/users/dkisser/following{/other_user}","gists_url":"https://api.github.com/users/dkisser/gists{/gist_id}","starred_url":"https://api.github.com/users/dkisser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkisser/subscriptions","organizations_url":"https://api.github.com/users/dkisser/orgs","repos_url":"https://api.github.com/users/dkisser/repos","events_url":"https://api.github.com/users/dkisser/events{/privacy}","received_events_url":"https://api.github.com/users/dkisser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T09:34:36Z","updated_at":"2021-01-07T09:34:36Z","author_association":"NONE","body":"http://dubbo.apache.org/docs/v2.7/user/examples/generic-service/","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/756000187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/756226726","html_url":"https://github.com/apache/dubbo/pull/6033#issuecomment-756226726","issue_url":"https://api.github.com/repos/apache/dubbo/issues/6033","id":756226726,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjIyNjcyNg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T16:33:06Z","updated_at":"2021-01-07T16:36:06Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/dubbo/pull/6033?src=pr&el=h1) Report\n> Merging [#6033](https://codecov.io/gh/apache/dubbo/pull/6033?src=pr&el=desc) (d2988cc) into [master](https://codecov.io/gh/apache/dubbo/commit/f7127c7abc6424ff07e4615546176f543927fbfa?el=desc) (f7127c7) will **decrease** coverage by `0.03%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/dubbo/pull/6033/graphs/tree.svg?width=650&height=150&src=pr&token=VnEIkiFQT0)](https://codecov.io/gh/apache/dubbo/pull/6033?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #6033      +/-   ##\n============================================\n- Coverage     59.18%   59.14%   -0.04%     \n+ Complexity      509      507       -2     \n============================================\n  Files          1028     1028              \n  Lines         41525    41526       +1     \n  Branches       6038     6038              \n============================================\n- Hits          24575    24559      -16     \n- Misses        14187    14200      +13     \n- Partials       2763     2767       +4     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/dubbo/pull/6033?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...org/apache/dubbo/qos/legacy/ListTelnetHandler.java](https://codecov.io/gh/apache/dubbo/pull/6033/diff?src=pr&el=tree#diff-ZHViYm8tcGx1Z2luL2R1YmJvLXFvcy9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvZHViYm8vcW9zL2xlZ2FjeS9MaXN0VGVsbmV0SGFuZGxlci5qYXZh) | `66.25% <0.00%> (-0.84%)` | `0.00 <0.00> (ø)` | |\n| [...rg/apache/dubbo/remoting/utils/PayloadDropper.java](https://codecov.io/gh/apache/dubbo/pull/6033/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy91dGlscy9QYXlsb2FkRHJvcHBlci5qYXZh) | `15.38% <0.00%> (-30.77%)` | `0.00% <0.00%> (ø%)` | |\n| [...he/dubbo/common/threadpool/ThreadlessExecutor.java](https://codecov.io/gh/apache/dubbo/pull/6033/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdGhyZWFkcG9vbC9UaHJlYWRsZXNzRXhlY3V0b3IuamF2YQ==) | `52.17% <0.00%> (-10.87%)` | `0.00% <0.00%> (ø%)` | |\n| [.../apache/dubbo/rpc/protocol/AsyncToSyncInvoker.java](https://codecov.io/gh/apache/dubbo/pull/6033/diff?src=pr&el=tree#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy1hcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JwYy9wcm90b2NvbC9Bc3luY1RvU3luY0ludm9rZXIuamF2YQ==) | `62.06% <0.00%> (-10.35%)` | `0.00% <0.00%> (ø%)` | |\n| [...e/dubbo/remoting/transport/netty/NettyChannel.java](https://codecov.io/gh/apache/dubbo/pull/6033/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctbmV0dHkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JlbW90aW5nL3RyYW5zcG9ydC9uZXR0eS9OZXR0eUNoYW5uZWwuamF2YQ==) | `55.68% <0.00%> (-4.55%)` | `20.00% <0.00%> (-1.00%)` | |\n| [...dubbo/remoting/exchange/support/DefaultFuture.java](https://codecov.io/gh/apache/dubbo/pull/6033/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy9leGNoYW5nZS9zdXBwb3J0L0RlZmF1bHRGdXR1cmUuamF2YQ==) | `74.35% <0.00%> (-4.28%)` | `0.00% <0.00%> (ø%)` | |\n| [...a/org/apache/dubbo/monitor/dubbo/DubboMonitor.java](https://codecov.io/gh/apache/dubbo/pull/6033/diff?src=pr&el=tree#diff-ZHViYm8tbW9uaXRvci9kdWJiby1tb25pdG9yLWRlZmF1bHQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL21vbml0b3IvZHViYm8vRHViYm9Nb25pdG9yLmphdmE=) | `86.66% <0.00%> (-2.86%)` | `16.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/dubbo/common/timer/HashedWheelTimer.java](https://codecov.io/gh/apache/dubbo/pull/6033/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdGltZXIvSGFzaGVkV2hlZWxUaW1lci5qYXZh) | `62.54% <0.00%> (-0.69%)` | `0.00% <0.00%> (ø%)` | |\n| [...g/apache/dubbo/registry/consul/ConsulRegistry.java](https://codecov.io/gh/apache/dubbo/pull/6033/diff?src=pr&el=tree#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktY29uc3VsL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS9jb25zdWwvQ29uc3VsUmVnaXN0cnkuamF2YQ==) | `60.00% <0.00%> (-0.59%)` | `31.00% <0.00%> (ø%)` | |\n| [...figcenter/file/FileSystemDynamicConfiguration.java](https://codecov.io/gh/apache/dubbo/pull/6033/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vY29uZmlnL2NvbmZpZ2NlbnRlci9maWxlL0ZpbGVTeXN0ZW1EeW5hbWljQ29uZmlndXJhdGlvbi5qYXZh) | `62.38% <0.00%> (-0.48%)` | `0.00% <0.00%> (ø%)` | |\n| ... and [4 more](https://codecov.io/gh/apache/dubbo/pull/6033/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/dubbo/pull/6033?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/dubbo/pull/6033?src=pr&el=footer). Last update [f7127c7...d2988cc](https://codecov.io/gh/apache/dubbo/pull/6033?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/756226726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/756496215","html_url":"https://github.com/apache/dubbo/issues/5928#issuecomment-756496215","issue_url":"https://api.github.com/repos/apache/dubbo/issues/5928","id":756496215,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjQ5NjIxNQ==","user":{"login":"SYSNPE","id":48785251,"node_id":"MDQ6VXNlcjQ4Nzg1MjUx","avatar_url":"https://avatars.githubusercontent.com/u/48785251?v=4","gravatar_id":"","url":"https://api.github.com/users/SYSNPE","html_url":"https://github.com/SYSNPE","followers_url":"https://api.github.com/users/SYSNPE/followers","following_url":"https://api.github.com/users/SYSNPE/following{/other_user}","gists_url":"https://api.github.com/users/SYSNPE/gists{/gist_id}","starred_url":"https://api.github.com/users/SYSNPE/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SYSNPE/subscriptions","organizations_url":"https://api.github.com/users/SYSNPE/orgs","repos_url":"https://api.github.com/users/SYSNPE/repos","events_url":"https://api.github.com/users/SYSNPE/events{/privacy}","received_events_url":"https://api.github.com/users/SYSNPE/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T01:52:01Z","updated_at":"2021-01-08T01:52:01Z","author_association":"NONE","body":"相同的问题 我们是为客户端提供http接口 之后gateway转化为dubbo协议调用dubbo接口 如果不使用泛化调用的方式 yyyy-MM-dd这种是可以直接调用的 但是使用泛化调用之后 日期类型的json数据必须为yyyy-MM-dd HH:mm:ss 这样很多老接口都需要改造 这个应该是公共问题吧","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/756496215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/756496617","html_url":"https://github.com/apache/dubbo/issues/5928#issuecomment-756496617","issue_url":"https://api.github.com/repos/apache/dubbo/issues/5928","id":756496617,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjQ5NjYxNw==","user":{"login":"SYSNPE","id":48785251,"node_id":"MDQ6VXNlcjQ4Nzg1MjUx","avatar_url":"https://avatars.githubusercontent.com/u/48785251?v=4","gravatar_id":"","url":"https://api.github.com/users/SYSNPE","html_url":"https://github.com/SYSNPE","followers_url":"https://api.github.com/users/SYSNPE/followers","following_url":"https://api.github.com/users/SYSNPE/following{/other_user}","gists_url":"https://api.github.com/users/SYSNPE/gists{/gist_id}","starred_url":"https://api.github.com/users/SYSNPE/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SYSNPE/subscriptions","organizations_url":"https://api.github.com/users/SYSNPE/orgs","repos_url":"https://api.github.com/users/SYSNPE/repos","events_url":"https://api.github.com/users/SYSNPE/events{/privacy}","received_events_url":"https://api.github.com/users/SYSNPE/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T01:53:31Z","updated_at":"2021-01-08T01:53:31Z","author_association":"NONE","body":"希望在泛化调用方面投入多一些 基于dubbo的架构 gateway都不好做","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/756496617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/756590511","html_url":"https://github.com/apache/dubbo/issues/5630#issuecomment-756590511","issue_url":"https://api.github.com/repos/apache/dubbo/issues/5630","id":756590511,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjU5MDUxMQ==","user":{"login":"oaoit","id":3363419,"node_id":"MDQ6VXNlcjMzNjM0MTk=","avatar_url":"https://avatars.githubusercontent.com/u/3363419?v=4","gravatar_id":"","url":"https://api.github.com/users/oaoit","html_url":"https://github.com/oaoit","followers_url":"https://api.github.com/users/oaoit/followers","following_url":"https://api.github.com/users/oaoit/following{/other_user}","gists_url":"https://api.github.com/users/oaoit/gists{/gist_id}","starred_url":"https://api.github.com/users/oaoit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oaoit/subscriptions","organizations_url":"https://api.github.com/users/oaoit/orgs","repos_url":"https://api.github.com/users/oaoit/repos","events_url":"https://api.github.com/users/oaoit/events{/privacy}","received_events_url":"https://api.github.com/users/oaoit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T07:07:22Z","updated_at":"2021-01-08T07:07:22Z","author_association":"CONTRIBUTOR","body":"> > 1.当ContextClosedEvent触发时，spring容器已经销毁，此时如果外部流量进来、以及内部依旧在运行的线程，会因为bean找不到，出现异常\r\n> \r\n> the ContextClosedEvent is raised while the Spring container is closing, however, the managed Spring Beans are not destroyed yet, Please refer to the method `org.springframework.context.support.AbstractApplicationContext#doClose`. Actually, the provider will be offlined first when the method `org.apache.dubbo.config.bootstrap.DubboBootstrap#stop` is invoked.\r\n\r\n外部流量是没有了，但是内部没有执行完的dubbo线程还在执行。spring 发送完关机事件紧接着就要销毁所有beans没有什么停顿，所以dubbo的残留线程很有可能没执行完。","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/756590511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/756612451","html_url":"https://github.com/apache/dubbo/issues/7088#issuecomment-756612451","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7088","id":756612451,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjYxMjQ1MQ==","user":{"login":"herist","id":3771334,"node_id":"MDQ6VXNlcjM3NzEzMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/3771334?v=4","gravatar_id":"","url":"https://api.github.com/users/herist","html_url":"https://github.com/herist","followers_url":"https://api.github.com/users/herist/followers","following_url":"https://api.github.com/users/herist/following{/other_user}","gists_url":"https://api.github.com/users/herist/gists{/gist_id}","starred_url":"https://api.github.com/users/herist/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/herist/subscriptions","organizations_url":"https://api.github.com/users/herist/orgs","repos_url":"https://api.github.com/users/herist/repos","events_url":"https://api.github.com/users/herist/events{/privacy}","received_events_url":"https://api.github.com/users/herist/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T08:05:46Z","updated_at":"2021-01-08T08:05:46Z","author_association":"NONE","body":"由于内存暴增，导致无法升级，只能退回来了","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/756612451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/756741462","html_url":"https://github.com/apache/dubbo/pull/7073#issuecomment-756741462","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7073","id":756741462,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Njc0MTQ2Mg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T12:55:39Z","updated_at":"2021-01-13T09:50:16Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/dubbo/pull/7073?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`2.7.x@c48dc6a`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/dubbo/pull/7073/graphs/tree.svg?width=650&height=150&src=pr&token=VnEIkiFQT0)](https://codecov.io/gh/apache/dubbo/pull/7073?src=pr&el=tree)\n\n```diff\n@@           Coverage Diff            @@\n##             2.7.x    #7073   +/-   ##\n========================================\n  Coverage         ?   60.96%           \n  Complexity       ?      491           \n========================================\n  Files            ?     1014           \n  Lines            ?    40408           \n  Branches         ?     5831           \n========================================\n  Hits             ?    24634           \n  Misses           ?    13047           \n  Partials         ?     2727           \n```\n\n\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/dubbo/pull/7073?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/dubbo/pull/7073?src=pr&el=footer). Last update [c48dc6a...e62f961](https://codecov.io/gh/apache/dubbo/pull/7073?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/756741462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/756767896","html_url":"https://github.com/apache/dubbo/pull/7073#issuecomment-756767896","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7073","id":756767896,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Njc2Nzg5Ng==","user":{"login":"dkisser","id":24600271,"node_id":"MDQ6VXNlcjI0NjAwMjcx","avatar_url":"https://avatars.githubusercontent.com/u/24600271?v=4","gravatar_id":"","url":"https://api.github.com/users/dkisser","html_url":"https://github.com/dkisser","followers_url":"https://api.github.com/users/dkisser/followers","following_url":"https://api.github.com/users/dkisser/following{/other_user}","gists_url":"https://api.github.com/users/dkisser/gists{/gist_id}","starred_url":"https://api.github.com/users/dkisser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkisser/subscriptions","organizations_url":"https://api.github.com/users/dkisser/orgs","repos_url":"https://api.github.com/users/dkisser/repos","events_url":"https://api.github.com/users/dkisser/events{/privacy}","received_events_url":"https://api.github.com/users/dkisser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T13:56:45Z","updated_at":"2021-01-08T13:56:45Z","author_association":"NONE","body":"1.ConfigUtils add default value support\r\n2.fix CompatibleTypeUtils eroor in dealing with LocalDate","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/756767896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/757613498","html_url":"https://github.com/apache/dubbo/pull/7094#issuecomment-757613498","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7094","id":757613498,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NzYxMzQ5OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-11T04:07:15Z","updated_at":"2021-01-11T04:10:37Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/dubbo/pull/7094?src=pr&el=h1) Report\n> Merging [#7094](https://codecov.io/gh/apache/dubbo/pull/7094?src=pr&el=desc) (5f6cd17) into [master](https://codecov.io/gh/apache/dubbo/commit/f7127c7abc6424ff07e4615546176f543927fbfa?el=desc) (f7127c7) will **decrease** coverage by `0.07%`.\n> The diff coverage is `100.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/dubbo/pull/7094/graphs/tree.svg?width=650&height=150&src=pr&token=VnEIkiFQT0)](https://codecov.io/gh/apache/dubbo/pull/7094?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #7094      +/-   ##\n============================================\n- Coverage     59.23%   59.15%   -0.08%     \n+ Complexity      510      506       -4     \n============================================\n  Files          1028     1028              \n  Lines         41525    41525              \n  Branches       6038     6038              \n============================================\n- Hits          24597    24565      -32     \n- Misses        14167    14195      +28     \n- Partials       2761     2765       +4     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/dubbo/pull/7094?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...n/java/org/apache/dubbo/common/utils/LFUCache.java](https://codecov.io/gh/apache/dubbo/pull/7094/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdXRpbHMvTEZVQ2FjaGUuamF2YQ==) | `79.61% <100.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [...he/dubbo/common/threadpool/ThreadlessExecutor.java](https://codecov.io/gh/apache/dubbo/pull/7094/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdGhyZWFkcG9vbC9UaHJlYWRsZXNzRXhlY3V0b3IuamF2YQ==) | `52.17% <0.00%> (-10.87%)` | `0.00% <0.00%> (ø%)` | |\n| [...che/dubbo/remoting/transport/mina/MinaChannel.java](https://codecov.io/gh/apache/dubbo/pull/7094/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctbWluYS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvZHViYm8vcmVtb3RpbmcvdHJhbnNwb3J0L21pbmEvTWluYUNoYW5uZWwuamF2YQ==) | `39.47% <0.00%> (-10.53%)` | `15.00% <0.00%> (-1.00%)` | |\n| [.../apache/dubbo/rpc/protocol/AsyncToSyncInvoker.java](https://codecov.io/gh/apache/dubbo/pull/7094/diff?src=pr&el=tree#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy1hcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JwYy9wcm90b2NvbC9Bc3luY1RvU3luY0ludm9rZXIuamF2YQ==) | `62.06% <0.00%> (-10.35%)` | `0.00% <0.00%> (ø%)` | |\n| [...e/dubbo/remoting/transport/netty/NettyChannel.java](https://codecov.io/gh/apache/dubbo/pull/7094/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctbmV0dHkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JlbW90aW5nL3RyYW5zcG9ydC9uZXR0eS9OZXR0eUNoYW5uZWwuamF2YQ==) | `55.68% <0.00%> (-4.55%)` | `20.00% <0.00%> (-1.00%)` | |\n| [...dubbo/remoting/exchange/support/DefaultFuture.java](https://codecov.io/gh/apache/dubbo/pull/7094/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy9leGNoYW5nZS9zdXBwb3J0L0RlZmF1bHRGdXR1cmUuamF2YQ==) | `74.35% <0.00%> (-4.28%)` | `0.00% <0.00%> (ø%)` | |\n| [...he/dubbo/remoting/transport/netty/NettyServer.java](https://codecov.io/gh/apache/dubbo/pull/7094/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctbmV0dHkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JlbW90aW5nL3RyYW5zcG9ydC9uZXR0eS9OZXR0eVNlcnZlci5qYXZh) | `70.17% <0.00%> (-3.51%)` | `8.00% <0.00%> (-1.00%)` | |\n| [...pache/dubbo/registry/support/AbstractRegistry.java](https://codecov.io/gh/apache/dubbo/pull/7094/diff?src=pr&el=tree#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS9zdXBwb3J0L0Fic3RyYWN0UmVnaXN0cnkuamF2YQ==) | `77.77% <0.00%> (-3.34%)` | `0.00% <0.00%> (ø%)` | |\n| [...a/org/apache/dubbo/monitor/dubbo/DubboMonitor.java](https://codecov.io/gh/apache/dubbo/pull/7094/diff?src=pr&el=tree#diff-ZHViYm8tbW9uaXRvci9kdWJiby1tb25pdG9yLWRlZmF1bHQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL21vbml0b3IvZHViYm8vRHViYm9Nb25pdG9yLmphdmE=) | `86.66% <0.00%> (-2.86%)` | `16.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/dubbo/common/timer/HashedWheelTimer.java](https://codecov.io/gh/apache/dubbo/pull/7094/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdGltZXIvSGFzaGVkV2hlZWxUaW1lci5qYXZh) | `62.88% <0.00%> (-0.69%)` | `0.00% <0.00%> (ø%)` | |\n| ... and [7 more](https://codecov.io/gh/apache/dubbo/pull/7094/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/dubbo/pull/7094?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/dubbo/pull/7094?src=pr&el=footer). Last update [f7127c7...5f6cd17](https://codecov.io/gh/apache/dubbo/pull/7094?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/757613498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/757899840","html_url":"https://github.com/apache/dubbo/issues/7054#issuecomment-757899840","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7054","id":757899840,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Nzg5OTg0MA==","user":{"login":"xiaoheng1","id":12539730,"node_id":"MDQ6VXNlcjEyNTM5NzMw","avatar_url":"https://avatars.githubusercontent.com/u/12539730?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoheng1","html_url":"https://github.com/xiaoheng1","followers_url":"https://api.github.com/users/xiaoheng1/followers","following_url":"https://api.github.com/users/xiaoheng1/following{/other_user}","gists_url":"https://api.github.com/users/xiaoheng1/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoheng1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoheng1/subscriptions","organizations_url":"https://api.github.com/users/xiaoheng1/orgs","repos_url":"https://api.github.com/users/xiaoheng1/repos","events_url":"https://api.github.com/users/xiaoheng1/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoheng1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-11T11:46:38Z","updated_at":"2021-01-11T12:01:53Z","author_association":"CONTRIBUTOR","body":"@zhangyz-hd 当 provider 下线的时候，会重刷 invokers. 此时会销毁无用的 invoker，这是会导致客户端线程池被销毁吧？\r\n\r\n并且现在的争论点并不是线程池的问题，而是是否应该销毁，创建，销毁这么一个过程。客户端线程池设计是否合理的问题。","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/757899840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/758509841","html_url":"https://github.com/apache/dubbo/issues/4090#issuecomment-758509841","issue_url":"https://api.github.com/repos/apache/dubbo/issues/4090","id":758509841,"node_id":"MDEyOklzc3VlQ29tbWVudDc1ODUwOTg0MQ==","user":{"login":"rxxy","id":14834156,"node_id":"MDQ6VXNlcjE0ODM0MTU2","avatar_url":"https://avatars.githubusercontent.com/u/14834156?v=4","gravatar_id":"","url":"https://api.github.com/users/rxxy","html_url":"https://github.com/rxxy","followers_url":"https://api.github.com/users/rxxy/followers","following_url":"https://api.github.com/users/rxxy/following{/other_user}","gists_url":"https://api.github.com/users/rxxy/gists{/gist_id}","starred_url":"https://api.github.com/users/rxxy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rxxy/subscriptions","organizations_url":"https://api.github.com/users/rxxy/orgs","repos_url":"https://api.github.com/users/rxxy/repos","events_url":"https://api.github.com/users/rxxy/events{/privacy}","received_events_url":"https://api.github.com/users/rxxy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-12T08:59:25Z","updated_at":"2021-01-12T08:59:25Z","author_association":"NONE","body":"好像是3.0开始支持?","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/758509841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/758527521","html_url":"https://github.com/apache/dubbo/pull/7095#issuecomment-758527521","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7095","id":758527521,"node_id":"MDEyOklzc3VlQ29tbWVudDc1ODUyNzUyMQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-12T09:30:03Z","updated_at":"2021-01-12T09:34:01Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/dubbo/pull/7095?src=pr&el=h1) Report\n> Merging [#7095](https://codecov.io/gh/apache/dubbo/pull/7095?src=pr&el=desc) (81802ce) into [master](https://codecov.io/gh/apache/dubbo/commit/f7127c7abc6424ff07e4615546176f543927fbfa?el=desc) (f7127c7) will **decrease** coverage by `0.02%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/dubbo/pull/7095/graphs/tree.svg?width=650&height=150&src=pr&token=VnEIkiFQT0)](https://codecov.io/gh/apache/dubbo/pull/7095?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #7095      +/-   ##\n============================================\n- Coverage     59.23%   59.21%   -0.03%     \n+ Complexity      510      508       -2     \n============================================\n  Files          1028     1028              \n  Lines         41525    41525              \n  Branches       6038     6038              \n============================================\n- Hits          24597    24587      -10     \n- Misses        14167    14175       +8     \n- Partials       2761     2763       +2     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/dubbo/pull/7095?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...pc/cluster/support/wrapper/MockClusterInvoker.java](https://codecov.io/gh/apache/dubbo/pull/7095/diff?src=pr&el=tree#diff-ZHViYm8tY2x1c3Rlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvZHViYm8vcnBjL2NsdXN0ZXIvc3VwcG9ydC93cmFwcGVyL01vY2tDbHVzdGVySW52b2tlci5qYXZh) | `64.06% <ø> (ø)` | `0.00 <0.00> (ø)` | |\n| [...he/dubbo/remoting/transport/netty/NettyServer.java](https://codecov.io/gh/apache/dubbo/pull/7095/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctbmV0dHkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JlbW90aW5nL3RyYW5zcG9ydC9uZXR0eS9OZXR0eVNlcnZlci5qYXZh) | `70.17% <0.00%> (-3.51%)` | `8.00% <0.00%> (-1.00%)` | |\n| [...pache/dubbo/registry/support/AbstractRegistry.java](https://codecov.io/gh/apache/dubbo/pull/7095/diff?src=pr&el=tree#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS9zdXBwb3J0L0Fic3RyYWN0UmVnaXN0cnkuamF2YQ==) | `77.77% <0.00%> (-3.34%)` | `0.00% <0.00%> (ø%)` | |\n| [...a/org/apache/dubbo/monitor/dubbo/DubboMonitor.java](https://codecov.io/gh/apache/dubbo/pull/7095/diff?src=pr&el=tree#diff-ZHViYm8tbW9uaXRvci9kdWJiby1tb25pdG9yLWRlZmF1bHQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL21vbml0b3IvZHViYm8vRHViYm9Nb25pdG9yLmphdmE=) | `88.57% <0.00%> (-0.96%)` | `16.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/dubbo/common/timer/HashedWheelTimer.java](https://codecov.io/gh/apache/dubbo/pull/7095/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdGltZXIvSGFzaGVkV2hlZWxUaW1lci5qYXZh) | `63.23% <0.00%> (-0.35%)` | `0.00% <0.00%> (ø%)` | |\n| [...n/java/org/apache/dubbo/common/utils/NetUtils.java](https://codecov.io/gh/apache/dubbo/pull/7095/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdXRpbHMvTmV0VXRpbHMuamF2YQ==) | `66.21% <0.00%> (-0.35%)` | `0.00% <0.00%> (ø%)` | |\n| [...apache/dubbo/common/extension/ExtensionLoader.java](https://codecov.io/gh/apache/dubbo/pull/7095/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vZXh0ZW5zaW9uL0V4dGVuc2lvbkxvYWRlci5qYXZh) | `75.33% <0.00%> (-0.23%)` | `0.00% <0.00%> (ø%)` | |\n| [...ava/org/apache/dubbo/config/ServiceConfigBase.java](https://codecov.io/gh/apache/dubbo/pull/7095/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb25maWcvU2VydmljZUNvbmZpZ0Jhc2UuamF2YQ==) | `59.53% <0.00%> (+0.57%)` | `0.00% <0.00%> (ø%)` | |\n| [...he/dubbo/rpc/protocol/hessian/HessianProtocol.java](https://codecov.io/gh/apache/dubbo/pull/7095/diff?src=pr&el=tree#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy1oZXNzaWFuL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9ycGMvcHJvdG9jb2wvaGVzc2lhbi9IZXNzaWFuUHJvdG9jb2wuamF2YQ==) | `69.87% <0.00%> (+2.40%)` | `9.00% <0.00%> (ø%)` | |\n| [.../apache/dubbo/remoting/transport/AbstractPeer.java](https://codecov.io/gh/apache/dubbo/pull/7095/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy90cmFuc3BvcnQvQWJzdHJhY3RQZWVyLmphdmE=) | `67.39% <0.00%> (+4.34%)` | `0.00% <0.00%> (ø%)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/dubbo/pull/7095?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/dubbo/pull/7095?src=pr&el=footer). Last update [f7127c7...81802ce](https://codecov.io/gh/apache/dubbo/pull/7095?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/758527521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759261945","html_url":"https://github.com/apache/dubbo/issues/7097#issuecomment-759261945","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7097","id":759261945,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTI2MTk0NQ==","user":{"login":"kevinw66","id":31196226,"node_id":"MDQ6VXNlcjMxMTk2MjI2","avatar_url":"https://avatars.githubusercontent.com/u/31196226?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinw66","html_url":"https://github.com/kevinw66","followers_url":"https://api.github.com/users/kevinw66/followers","following_url":"https://api.github.com/users/kevinw66/following{/other_user}","gists_url":"https://api.github.com/users/kevinw66/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinw66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinw66/subscriptions","organizations_url":"https://api.github.com/users/kevinw66/orgs","repos_url":"https://api.github.com/users/kevinw66/repos","events_url":"https://api.github.com/users/kevinw66/events{/privacy}","received_events_url":"https://api.github.com/users/kevinw66/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-13T07:29:28Z","updated_at":"2021-01-13T07:29:28Z","author_association":"CONTRIBUTOR","body":"Have you try to increase the timeout period for this consumer","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759261945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759294478","html_url":"https://github.com/apache/dubbo/issues/7096#issuecomment-759294478","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7096","id":759294478,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTI5NDQ3OA==","user":{"login":"dkisser","id":24600271,"node_id":"MDQ6VXNlcjI0NjAwMjcx","avatar_url":"https://avatars.githubusercontent.com/u/24600271?v=4","gravatar_id":"","url":"https://api.github.com/users/dkisser","html_url":"https://github.com/dkisser","followers_url":"https://api.github.com/users/dkisser/followers","following_url":"https://api.github.com/users/dkisser/following{/other_user}","gists_url":"https://api.github.com/users/dkisser/gists{/gist_id}","starred_url":"https://api.github.com/users/dkisser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkisser/subscriptions","organizations_url":"https://api.github.com/users/dkisser/orgs","repos_url":"https://api.github.com/users/dkisser/repos","events_url":"https://api.github.com/users/dkisser/events{/privacy}","received_events_url":"https://api.github.com/users/dkisser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-13T08:37:07Z","updated_at":"2021-01-13T08:37:07Z","author_association":"NONE","body":"还是不建议这样使用。虽然服务端有负载均衡的功能，但是最终还是某个特定的容器节点和dubbo建立了连接。由于使用的是长连接，不会重新建立连接（除非连接断开），所以请求只会跑到你直连的那个容器中，这样负载均衡便会失效。","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759294478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759296503","html_url":"https://github.com/apache/dubbo/issues/7097#issuecomment-759296503","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7097","id":759296503,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTI5NjUwMw==","user":{"login":"songxu","id":3148530,"node_id":"MDQ6VXNlcjMxNDg1MzA=","avatar_url":"https://avatars.githubusercontent.com/u/3148530?v=4","gravatar_id":"","url":"https://api.github.com/users/songxu","html_url":"https://github.com/songxu","followers_url":"https://api.github.com/users/songxu/followers","following_url":"https://api.github.com/users/songxu/following{/other_user}","gists_url":"https://api.github.com/users/songxu/gists{/gist_id}","starred_url":"https://api.github.com/users/songxu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/songxu/subscriptions","organizations_url":"https://api.github.com/users/songxu/orgs","repos_url":"https://api.github.com/users/songxu/repos","events_url":"https://api.github.com/users/songxu/events{/privacy}","received_events_url":"https://api.github.com/users/songxu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-13T08:40:53Z","updated_at":"2021-01-13T08:40:53Z","author_association":"NONE","body":"> Have you try to increase the timeout period for this consumer\r\n\r\nHave tried, less timeout, but the latency will increase.\r\nBut it only happened during the startup. Is there a way to warmup the consumer?","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759296503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759300048","html_url":"https://github.com/apache/dubbo/issues/7096#issuecomment-759300048","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7096","id":759300048,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTMwMDA0OA==","user":{"login":"rxxy","id":14834156,"node_id":"MDQ6VXNlcjE0ODM0MTU2","avatar_url":"https://avatars.githubusercontent.com/u/14834156?v=4","gravatar_id":"","url":"https://api.github.com/users/rxxy","html_url":"https://github.com/rxxy","followers_url":"https://api.github.com/users/rxxy/followers","following_url":"https://api.github.com/users/rxxy/following{/other_user}","gists_url":"https://api.github.com/users/rxxy/gists{/gist_id}","starred_url":"https://api.github.com/users/rxxy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rxxy/subscriptions","organizations_url":"https://api.github.com/users/rxxy/orgs","repos_url":"https://api.github.com/users/rxxy/repos","events_url":"https://api.github.com/users/rxxy/events{/privacy}","received_events_url":"https://api.github.com/users/rxxy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-13T08:47:53Z","updated_at":"2021-01-13T08:47:53Z","author_association":"NONE","body":"感谢回复\r\n\r\n这样看来和容器集群结合的最好方式还是得dubbo原生使用集群的注册中心，我看到有3.0-k8s分支。\r\n\r\n除此之外还是需要在集群中部署好注册中心。","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759300048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759303365","html_url":"https://github.com/apache/dubbo/issues/7097#issuecomment-759303365","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7097","id":759303365,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTMwMzM2NQ==","user":{"login":"kevinw66","id":31196226,"node_id":"MDQ6VXNlcjMxMTk2MjI2","avatar_url":"https://avatars.githubusercontent.com/u/31196226?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinw66","html_url":"https://github.com/kevinw66","followers_url":"https://api.github.com/users/kevinw66/followers","following_url":"https://api.github.com/users/kevinw66/following{/other_user}","gists_url":"https://api.github.com/users/kevinw66/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinw66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinw66/subscriptions","organizations_url":"https://api.github.com/users/kevinw66/orgs","repos_url":"https://api.github.com/users/kevinw66/repos","events_url":"https://api.github.com/users/kevinw66/events{/privacy}","received_events_url":"https://api.github.com/users/kevinw66/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-13T08:54:11Z","updated_at":"2021-01-13T08:54:11Z","author_association":"CONTRIBUTOR","body":"> > Have you try to increase the timeout period for this consumer\r\n> \r\n> Have tried, less timeout, but the latency will increase.\r\n> But it only happened during the startup. Is there a way to warmup the consumer?\r\n\r\nSee if this meets your needs   http://dubbo.apache.org/docs/v2.7/user/examples/async-call/","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759303365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759328352","html_url":"https://github.com/apache/dubbo/issues/7099#issuecomment-759328352","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7099","id":759328352,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTMyODM1Mg==","user":{"login":"ennian001","id":36769491,"node_id":"MDQ6VXNlcjM2NzY5NDkx","avatar_url":"https://avatars.githubusercontent.com/u/36769491?v=4","gravatar_id":"","url":"https://api.github.com/users/ennian001","html_url":"https://github.com/ennian001","followers_url":"https://api.github.com/users/ennian001/followers","following_url":"https://api.github.com/users/ennian001/following{/other_user}","gists_url":"https://api.github.com/users/ennian001/gists{/gist_id}","starred_url":"https://api.github.com/users/ennian001/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ennian001/subscriptions","organizations_url":"https://api.github.com/users/ennian001/orgs","repos_url":"https://api.github.com/users/ennian001/repos","events_url":"https://api.github.com/users/ennian001/events{/privacy}","received_events_url":"https://api.github.com/users/ennian001/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-13T09:38:14Z","updated_at":"2021-01-13T09:38:31Z","author_association":"NONE","body":"格式化的 配置依赖 \r\n####配置\r\ndubbo:\r\n  application:\r\n    name: pay-merchant-provider\r\n    owner: ynby\r\n    logger: slf4j\r\n  registry:\r\n    address: zookeeper://xxxxxxxxxxxxxxx\r\n    timeout: 40000\r\n    simplified: true\r\n    extra-keys: retries,owner\r\n  annotation:\r\n    package: com.ynby.merchant\r\n  consumer:\r\n    timeout: 60000\r\n    retries: 0\r\n  protocol:\r\n    name: dubbo\r\n    port: 20991","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759328352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759344469","html_url":"https://github.com/apache/dubbo/issues/7099#issuecomment-759344469","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7099","id":759344469,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTM0NDQ2OQ==","user":{"login":"github-ganyu","id":25056767,"node_id":"MDQ6VXNlcjI1MDU2NzY3","avatar_url":"https://avatars.githubusercontent.com/u/25056767?v=4","gravatar_id":"","url":"https://api.github.com/users/github-ganyu","html_url":"https://github.com/github-ganyu","followers_url":"https://api.github.com/users/github-ganyu/followers","following_url":"https://api.github.com/users/github-ganyu/following{/other_user}","gists_url":"https://api.github.com/users/github-ganyu/gists{/gist_id}","starred_url":"https://api.github.com/users/github-ganyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-ganyu/subscriptions","organizations_url":"https://api.github.com/users/github-ganyu/orgs","repos_url":"https://api.github.com/users/github-ganyu/repos","events_url":"https://api.github.com/users/github-ganyu/events{/privacy}","received_events_url":"https://api.github.com/users/github-ganyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-13T10:06:19Z","updated_at":"2021-01-13T10:06:19Z","author_association":"NONE","body":"It's better to provide a demo","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759344469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759439344","html_url":"https://github.com/apache/dubbo/issues/7097#issuecomment-759439344","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7097","id":759439344,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTQzOTM0NA==","user":{"login":"xiaoheng1","id":12539730,"node_id":"MDQ6VXNlcjEyNTM5NzMw","avatar_url":"https://avatars.githubusercontent.com/u/12539730?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoheng1","html_url":"https://github.com/xiaoheng1","followers_url":"https://api.github.com/users/xiaoheng1/followers","following_url":"https://api.github.com/users/xiaoheng1/following{/other_user}","gists_url":"https://api.github.com/users/xiaoheng1/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoheng1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoheng1/subscriptions","organizations_url":"https://api.github.com/users/xiaoheng1/orgs","repos_url":"https://api.github.com/users/xiaoheng1/repos","events_url":"https://api.github.com/users/xiaoheng1/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoheng1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-13T13:11:55Z","updated_at":"2021-01-13T13:11:55Z","author_association":"CONTRIBUTOR","body":"这个应该是 dubbo provider 延迟暴露了，把 provider 不延迟暴露试下。","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759439344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759877367","html_url":"https://github.com/apache/dubbo/issues/7099#issuecomment-759877367","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7099","id":759877367,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTg3NzM2Nw==","user":{"login":"dkisser","id":24600271,"node_id":"MDQ6VXNlcjI0NjAwMjcx","avatar_url":"https://avatars.githubusercontent.com/u/24600271?v=4","gravatar_id":"","url":"https://api.github.com/users/dkisser","html_url":"https://github.com/dkisser","followers_url":"https://api.github.com/users/dkisser/followers","following_url":"https://api.github.com/users/dkisser/following{/other_user}","gists_url":"https://api.github.com/users/dkisser/gists{/gist_id}","starred_url":"https://api.github.com/users/dkisser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkisser/subscriptions","organizations_url":"https://api.github.com/users/dkisser/orgs","repos_url":"https://api.github.com/users/dkisser/repos","events_url":"https://api.github.com/users/dkisser/events{/privacy}","received_events_url":"https://api.github.com/users/dkisser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T02:09:09Z","updated_at":"2021-01-14T02:23:50Z","author_association":"NONE","body":"你这两个provider配置里面错误有点多，去官网看看吧。你这个的报错的原因是protocol.name设置错了，去掉provider里面的consumer配置。官网链接：[http://dubbo.apache.org/docs/v2.7/user/examples/](url)","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759877367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759900187","html_url":"https://github.com/apache/dubbo/issues/7099#issuecomment-759900187","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7099","id":759900187,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTkwMDE4Nw==","user":{"login":"ennian001","id":36769491,"node_id":"MDQ6VXNlcjM2NzY5NDkx","avatar_url":"https://avatars.githubusercontent.com/u/36769491?v=4","gravatar_id":"","url":"https://api.github.com/users/ennian001","html_url":"https://github.com/ennian001","followers_url":"https://api.github.com/users/ennian001/followers","following_url":"https://api.github.com/users/ennian001/following{/other_user}","gists_url":"https://api.github.com/users/ennian001/gists{/gist_id}","starred_url":"https://api.github.com/users/ennian001/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ennian001/subscriptions","organizations_url":"https://api.github.com/users/ennian001/orgs","repos_url":"https://api.github.com/users/ennian001/repos","events_url":"https://api.github.com/users/ennian001/events{/privacy}","received_events_url":"https://api.github.com/users/ennian001/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T03:23:06Z","updated_at":"2021-01-14T03:23:06Z","author_association":"NONE","body":"> 你这两个provider配置里面错误有点多，去官网看看吧。你这个的报错的原因是protocol.name设置错了，去掉provider里面的consumer配置。官网链接：[http://dubbo.apache.org/docs/v2.7/user/examples/](url)\r\n\r\n它既是消费者，又是提供者。。。这种情况不需要配置消费者信息么？","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759900187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759904852","html_url":"https://github.com/apache/dubbo/issues/7099#issuecomment-759904852","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7099","id":759904852,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTkwNDg1Mg==","user":{"login":"dkisser","id":24600271,"node_id":"MDQ6VXNlcjI0NjAwMjcx","avatar_url":"https://avatars.githubusercontent.com/u/24600271?v=4","gravatar_id":"","url":"https://api.github.com/users/dkisser","html_url":"https://github.com/dkisser","followers_url":"https://api.github.com/users/dkisser/followers","following_url":"https://api.github.com/users/dkisser/following{/other_user}","gists_url":"https://api.github.com/users/dkisser/gists{/gist_id}","starred_url":"https://api.github.com/users/dkisser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkisser/subscriptions","organizations_url":"https://api.github.com/users/dkisser/orgs","repos_url":"https://api.github.com/users/dkisser/repos","events_url":"https://api.github.com/users/dkisser/events{/privacy}","received_events_url":"https://api.github.com/users/dkisser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T03:39:38Z","updated_at":"2021-01-14T03:39:38Z","author_association":"NONE","body":"那就去掉protocol.name那个配置","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759904852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759905131","html_url":"https://github.com/apache/dubbo/issues/7097#issuecomment-759905131","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7097","id":759905131,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTkwNTEzMQ==","user":{"login":"songxu","id":3148530,"node_id":"MDQ6VXNlcjMxNDg1MzA=","avatar_url":"https://avatars.githubusercontent.com/u/3148530?v=4","gravatar_id":"","url":"https://api.github.com/users/songxu","html_url":"https://github.com/songxu","followers_url":"https://api.github.com/users/songxu/followers","following_url":"https://api.github.com/users/songxu/following{/other_user}","gists_url":"https://api.github.com/users/songxu/gists{/gist_id}","starred_url":"https://api.github.com/users/songxu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/songxu/subscriptions","organizations_url":"https://api.github.com/users/songxu/orgs","repos_url":"https://api.github.com/users/songxu/repos","events_url":"https://api.github.com/users/songxu/events{/privacy}","received_events_url":"https://api.github.com/users/songxu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T03:40:43Z","updated_at":"2021-01-14T03:40:43Z","author_association":"NONE","body":"> 这个应该是 dubbo provider 延迟暴露了，把 provider 不延迟暴露试下。\r\n\r\nprovider没有重新启动，是我们的consumer所在的web 服务重启过程中的问题。","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759905131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759967354","html_url":"https://github.com/apache/dubbo/issues/7074#issuecomment-759967354","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7074","id":759967354,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTk2NzM1NA==","user":{"login":"chengj1","id":64000943,"node_id":"MDQ6VXNlcjY0MDAwOTQz","avatar_url":"https://avatars.githubusercontent.com/u/64000943?v=4","gravatar_id":"","url":"https://api.github.com/users/chengj1","html_url":"https://github.com/chengj1","followers_url":"https://api.github.com/users/chengj1/followers","following_url":"https://api.github.com/users/chengj1/following{/other_user}","gists_url":"https://api.github.com/users/chengj1/gists{/gist_id}","starred_url":"https://api.github.com/users/chengj1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chengj1/subscriptions","organizations_url":"https://api.github.com/users/chengj1/orgs","repos_url":"https://api.github.com/users/chengj1/repos","events_url":"https://api.github.com/users/chengj1/events{/privacy}","received_events_url":"https://api.github.com/users/chengj1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T06:53:29Z","updated_at":"2021-01-14T06:53:29Z","author_association":"NONE","body":"dubbo 2.7.8 版本也存在此问题","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759967354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759998317","html_url":"https://github.com/apache/dubbo/issues/7098#issuecomment-759998317","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7098","id":759998317,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTk5ODMxNw==","user":{"login":"dkisser","id":24600271,"node_id":"MDQ6VXNlcjI0NjAwMjcx","avatar_url":"https://avatars.githubusercontent.com/u/24600271?v=4","gravatar_id":"","url":"https://api.github.com/users/dkisser","html_url":"https://github.com/dkisser","followers_url":"https://api.github.com/users/dkisser/followers","following_url":"https://api.github.com/users/dkisser/following{/other_user}","gists_url":"https://api.github.com/users/dkisser/gists{/gist_id}","starred_url":"https://api.github.com/users/dkisser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkisser/subscriptions","organizations_url":"https://api.github.com/users/dkisser/orgs","repos_url":"https://api.github.com/users/dkisser/repos","events_url":"https://api.github.com/users/dkisser/events{/privacy}","received_events_url":"https://api.github.com/users/dkisser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T07:55:31Z","updated_at":"2021-01-14T07:55:31Z","author_association":"NONE","body":"参考fastjson内存泄露问题：[https://www.cnblogs.com/liqipeng/p/11665889.html](url)。本地测试，并不是一个实例就会新增一个缓存，而是当你的泛型有多少个就会有多少个缓存，例如：返回RespVo<User> 、RespVo<Product>，这才会有两个缓存。你内存泄露应该是泛型类太多，直接返回数据对象就好没必要用泛型类做返回值","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/759998317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760043299","html_url":"https://github.com/apache/dubbo/issues/7054#issuecomment-760043299","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7054","id":760043299,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDA0MzI5OQ==","user":{"login":"zhangyz-hd","id":10389889,"node_id":"MDQ6VXNlcjEwMzg5ODg5","avatar_url":"https://avatars.githubusercontent.com/u/10389889?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyz-hd","html_url":"https://github.com/zhangyz-hd","followers_url":"https://api.github.com/users/zhangyz-hd/followers","following_url":"https://api.github.com/users/zhangyz-hd/following{/other_user}","gists_url":"https://api.github.com/users/zhangyz-hd/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyz-hd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyz-hd/subscriptions","organizations_url":"https://api.github.com/users/zhangyz-hd/orgs","repos_url":"https://api.github.com/users/zhangyz-hd/repos","events_url":"https://api.github.com/users/zhangyz-hd/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyz-hd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T08:58:41Z","updated_at":"2021-01-14T08:58:41Z","author_association":"CONTRIBUTOR","body":"> @zhangyz-hd 当 provider 下线的时候，会重刷 invokers. 此时会销毁无用的 invoker，这是会导致客户端线程池被销毁吧？\r\n> \r\n> 并且现在的争论点并不是线程池的问题，而是是否应该销毁，创建，销毁这么一个过程。客户端线程池设计是否合理的问题。\r\n\r\n对，我这里的线程池模型的确存在值得讨论的地方。\r\n同时#7081先撤回，遗漏了一种场景。","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760043299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760049604","html_url":"https://github.com/apache/dubbo/issues/7097#issuecomment-760049604","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7097","id":760049604,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDA0OTYwNA==","user":{"login":"xiaoheng1","id":12539730,"node_id":"MDQ6VXNlcjEyNTM5NzMw","avatar_url":"https://avatars.githubusercontent.com/u/12539730?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoheng1","html_url":"https://github.com/xiaoheng1","followers_url":"https://api.github.com/users/xiaoheng1/followers","following_url":"https://api.github.com/users/xiaoheng1/following{/other_user}","gists_url":"https://api.github.com/users/xiaoheng1/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoheng1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoheng1/subscriptions","organizations_url":"https://api.github.com/users/xiaoheng1/orgs","repos_url":"https://api.github.com/users/xiaoheng1/repos","events_url":"https://api.github.com/users/xiaoheng1/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoheng1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T09:05:19Z","updated_at":"2021-01-14T09:05:31Z","author_association":"CONTRIBUTOR","body":"能否提供一个 demo？","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760049604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760177302","html_url":"https://github.com/apache/dubbo/issues/7097#issuecomment-760177302","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7097","id":760177302,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDE3NzMwMg==","user":{"login":"web1992","id":6828647,"node_id":"MDQ6VXNlcjY4Mjg2NDc=","avatar_url":"https://avatars.githubusercontent.com/u/6828647?v=4","gravatar_id":"","url":"https://api.github.com/users/web1992","html_url":"https://github.com/web1992","followers_url":"https://api.github.com/users/web1992/followers","following_url":"https://api.github.com/users/web1992/following{/other_user}","gists_url":"https://api.github.com/users/web1992/gists{/gist_id}","starred_url":"https://api.github.com/users/web1992/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web1992/subscriptions","organizations_url":"https://api.github.com/users/web1992/orgs","repos_url":"https://api.github.com/users/web1992/repos","events_url":"https://api.github.com/users/web1992/events{/privacy}","received_events_url":"https://api.github.com/users/web1992/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T12:52:49Z","updated_at":"2021-01-14T12:55:35Z","author_association":"CONTRIBUTOR","body":"可以吧 `check = false`  改成 `check = true` 试试，在 `check = true`  的情况下，会先创建建立TCP 连接，并执行类似 `ping`的操作，检查服务是否可用。consumer 在启动的时候，第一次 RPC 调用 确实耗时会比较多（因为要先建立TCP链接）。","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760177302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760595886","html_url":"https://github.com/apache/dubbo/issues/7058#issuecomment-760595886","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7058","id":760595886,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDU5NTg4Ng==","user":{"login":"zhangj20122753","id":50874743,"node_id":"MDQ6VXNlcjUwODc0NzQz","avatar_url":"https://avatars.githubusercontent.com/u/50874743?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangj20122753","html_url":"https://github.com/zhangj20122753","followers_url":"https://api.github.com/users/zhangj20122753/followers","following_url":"https://api.github.com/users/zhangj20122753/following{/other_user}","gists_url":"https://api.github.com/users/zhangj20122753/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangj20122753/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangj20122753/subscriptions","organizations_url":"https://api.github.com/users/zhangj20122753/orgs","repos_url":"https://api.github.com/users/zhangj20122753/repos","events_url":"https://api.github.com/users/zhangj20122753/events{/privacy}","received_events_url":"https://api.github.com/users/zhangj20122753/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T02:05:55Z","updated_at":"2021-01-15T02:17:29Z","author_association":"NONE","body":"I am meeting this question , anybody know how to fix it?","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760595886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760605196","html_url":"https://github.com/apache/dubbo/issues/7054#issuecomment-760605196","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7054","id":760605196,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDYwNTE5Ng==","user":{"login":"chickenlj","id":18097545,"node_id":"MDQ6VXNlcjE4MDk3NTQ1","avatar_url":"https://avatars.githubusercontent.com/u/18097545?v=4","gravatar_id":"","url":"https://api.github.com/users/chickenlj","html_url":"https://github.com/chickenlj","followers_url":"https://api.github.com/users/chickenlj/followers","following_url":"https://api.github.com/users/chickenlj/following{/other_user}","gists_url":"https://api.github.com/users/chickenlj/gists{/gist_id}","starred_url":"https://api.github.com/users/chickenlj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chickenlj/subscriptions","organizations_url":"https://api.github.com/users/chickenlj/orgs","repos_url":"https://api.github.com/users/chickenlj/repos","events_url":"https://api.github.com/users/chickenlj/events{/privacy}","received_events_url":"https://api.github.com/users/chickenlj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T02:34:52Z","updated_at":"2021-01-15T03:02:49Z","author_association":"CONTRIBUTOR","body":"目前consumer端的线程池在某些场景是会有问题的，在高并发场景下会创建大量的线程池。其中，2.7 和 2.6 版本分别对不同的调用场景做了优化，我认为两者可以合并到一起：\r\n\r\n**2.7版本：**\r\n将消费端 Executor 逻辑统一到了这个位置：\r\nhttps://github.com/apache/dubbo/blob/master/dubbo-rpc/dubbo-rpc-api/src/main/java/org/apache/dubbo/rpc/protocol/AbstractInvoker.java#L187\r\n\r\nhttps://github.com/apache/dubbo/blob/master/dubbo-remoting/dubbo-remoting-api/src/main/java/org/apache/dubbo/remoting/transport/dispatcher/WrappedChannelHandler.java#L109\r\n\r\n* 同步调用，通过 ThreadlessExecutor 复用业务线程池，从io线程直接到业务线程\r\n* 异步调用，目前行为未变 ”io- > 线程池 -> 业务线程“，逻辑上有调整，统一到了ExecutorRepository 中，可以参考 2.6中改动，增加全局共享线程池配置\r\n\r\n**2.6版本：**\r\n2.6 版本中做了全局共享 consumer 线程池策略（同步&异步），避免线程数创建过多 https://github.com/apache/dubbo/pull/5891\r\n\r\n\r\n> AbstractClient.close()方法会被调用，线程池会被关闭... 而dubbo有默认端口，在实际场景下大部分provider端口都一致，其中只要有一个下线，整个线程池就会关闭。\r\n所以在实际场景中，consumer使用的线程池一直在不断的关闭\r\n\r\n@wikiwikiwiki 这个小点是不成立的，AbstractClient是共享的且有reference计数的，只有当所有的 provider 都下线时，AbstractClient实例才会被关闭","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760605196/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760623054","html_url":"https://github.com/apache/dubbo/issues/7088#issuecomment-760623054","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7088","id":760623054,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDYyMzA1NA==","user":{"login":"chickenlj","id":18097545,"node_id":"MDQ6VXNlcjE4MDk3NTQ1","avatar_url":"https://avatars.githubusercontent.com/u/18097545?v=4","gravatar_id":"","url":"https://api.github.com/users/chickenlj","html_url":"https://github.com/chickenlj","followers_url":"https://api.github.com/users/chickenlj/followers","following_url":"https://api.github.com/users/chickenlj/following{/other_user}","gists_url":"https://api.github.com/users/chickenlj/gists{/gist_id}","starred_url":"https://api.github.com/users/chickenlj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chickenlj/subscriptions","organizations_url":"https://api.github.com/users/chickenlj/orgs","repos_url":"https://api.github.com/users/chickenlj/repos","events_url":"https://api.github.com/users/chickenlj/events{/privacy}","received_events_url":"https://api.github.com/users/chickenlj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T03:34:11Z","updated_at":"2021-01-15T03:34:11Z","author_association":"CONTRIBUTOR","body":"方便私下给我一份 dump 吗，InMemoryMetadataService 占了有多少空间","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760623054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760658980","html_url":"https://github.com/apache/dubbo/pull/6200#issuecomment-760658980","issue_url":"https://api.github.com/repos/apache/dubbo/issues/6200","id":760658980,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDY1ODk4MA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T05:39:32Z","updated_at":"2021-01-15T05:39:32Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/dubbo/pull/6200?src=pr&el=h1) Report\n> Merging [#6200](https://codecov.io/gh/apache/dubbo/pull/6200?src=pr&el=desc) (281db7d) into [master](https://codecov.io/gh/apache/dubbo/commit/3fc2d100bb2081c3da1996508e1f1200cea21d2f?el=desc) (3fc2d10) will **decrease** coverage by `0.25%`.\n> The diff coverage is `56.25%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/dubbo/pull/6200/graphs/tree.svg?width=650&height=150&src=pr&token=VnEIkiFQT0)](https://codecov.io/gh/apache/dubbo/pull/6200?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #6200      +/-   ##\n============================================\n- Coverage     59.44%   59.19%   -0.26%     \n+ Complexity      511      505       -6     \n============================================\n  Files          1028     1028              \n  Lines         41519    41521       +2     \n  Branches       6037     6035       -2     \n============================================\n- Hits          24683    24577     -106     \n- Misses        14101    14184      +83     \n- Partials       2735     2760      +25     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/dubbo/pull/6200?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...org/apache/dubbo/rpc/filter/GenericImplFilter.java](https://codecov.io/gh/apache/dubbo/pull/6200/diff?src=pr&el=tree#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy1hcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JwYy9maWx0ZXIvR2VuZXJpY0ltcGxGaWx0ZXIuamF2YQ==) | `52.32% <52.32%> (-1.60%)` | `0.00 <0.00> (ø)` | |\n| [...ava/org/apache/dubbo/rpc/filter/GenericFilter.java](https://codecov.io/gh/apache/dubbo/pull/6200/diff?src=pr&el=tree#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy1hcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JwYy9maWx0ZXIvR2VuZXJpY0ZpbHRlci5qYXZh) | `43.43% <57.14%> (+3.43%)` | `0.00 <0.00> (ø)` | |\n| [.../main/java/org/apache/dubbo/rpc/RpcInvocation.java](https://codecov.io/gh/apache/dubbo/pull/6200/diff?src=pr&el=tree#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy1hcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JwYy9ScGNJbnZvY2F0aW9uLmphdmE=) | `65.26% <72.22%> (+0.72%)` | `0.00 <0.00> (ø)` | |\n| [...apache/dubbo/common/constants/CommonConstants.java](https://codecov.io/gh/apache/dubbo/pull/6200/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vY29uc3RhbnRzL0NvbW1vbkNvbnN0YW50cy5qYXZh) | `100.00% <100.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [...rg/apache/dubbo/remoting/utils/PayloadDropper.java](https://codecov.io/gh/apache/dubbo/pull/6200/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy91dGlscy9QYXlsb2FkRHJvcHBlci5qYXZh) | `15.38% <0.00%> (-30.77%)` | `0.00% <0.00%> (ø%)` | |\n| [...ng/transport/dispatcher/all/AllChannelHandler.java](https://codecov.io/gh/apache/dubbo/pull/6200/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy90cmFuc3BvcnQvZGlzcGF0Y2hlci9hbGwvQWxsQ2hhbm5lbEhhbmRsZXIuamF2YQ==) | `68.96% <0.00%> (-27.59%)` | `0.00% <0.00%> (ø%)` | |\n| [...dubbo/common/status/support/LoadStatusChecker.java](https://codecov.io/gh/apache/dubbo/pull/6200/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vc3RhdHVzL3N1cHBvcnQvTG9hZFN0YXR1c0NoZWNrZXIuamF2YQ==) | `46.15% <0.00%> (-15.39%)` | `0.00% <0.00%> (ø%)` | |\n| [...ng/transport/dispatcher/WrappedChannelHandler.java](https://codecov.io/gh/apache/dubbo/pull/6200/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy90cmFuc3BvcnQvZGlzcGF0Y2hlci9XcmFwcGVkQ2hhbm5lbEhhbmRsZXIuamF2YQ==) | `47.82% <0.00%> (-15.22%)` | `0.00% <0.00%> (ø%)` | |\n| [...che/dubbo/remoting/transport/mina/MinaChannel.java](https://codecov.io/gh/apache/dubbo/pull/6200/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctbWluYS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvZHViYm8vcmVtb3RpbmcvdHJhbnNwb3J0L21pbmEvTWluYUNoYW5uZWwuamF2YQ==) | `39.47% <0.00%> (-11.85%)` | `15.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/dubbo/remoting/TimeoutException.java](https://codecov.io/gh/apache/dubbo/pull/6200/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy9UaW1lb3V0RXhjZXB0aW9uLmphdmE=) | `22.22% <0.00%> (-11.12%)` | `0.00% <0.00%> (ø%)` | |\n| ... and [27 more](https://codecov.io/gh/apache/dubbo/pull/6200/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/dubbo/pull/6200?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/dubbo/pull/6200?src=pr&el=footer). Last update [3fc2d10...281db7d](https://codecov.io/gh/apache/dubbo/pull/6200?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760658980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760678521","html_url":"https://github.com/apache/dubbo/issues/7091#issuecomment-760678521","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7091","id":760678521,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDY3ODUyMQ==","user":{"login":"vio-lin","id":12695349,"node_id":"MDQ6VXNlcjEyNjk1MzQ5","avatar_url":"https://avatars.githubusercontent.com/u/12695349?v=4","gravatar_id":"","url":"https://api.github.com/users/vio-lin","html_url":"https://github.com/vio-lin","followers_url":"https://api.github.com/users/vio-lin/followers","following_url":"https://api.github.com/users/vio-lin/following{/other_user}","gists_url":"https://api.github.com/users/vio-lin/gists{/gist_id}","starred_url":"https://api.github.com/users/vio-lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vio-lin/subscriptions","organizations_url":"https://api.github.com/users/vio-lin/orgs","repos_url":"https://api.github.com/users/vio-lin/repos","events_url":"https://api.github.com/users/vio-lin/events{/privacy}","received_events_url":"https://api.github.com/users/vio-lin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T06:17:44Z","updated_at":"2021-01-15T06:17:44Z","author_association":"CONTRIBUTOR","body":"我也看到这个，建议楼主加下版本信息。会更瞩目一点","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760678521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760769095","html_url":"https://github.com/apache/dubbo/issues/7085#issuecomment-760769095","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7085","id":760769095,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDc2OTA5NQ==","user":{"login":"xiaoheng1","id":12539730,"node_id":"MDQ6VXNlcjEyNTM5NzMw","avatar_url":"https://avatars.githubusercontent.com/u/12539730?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoheng1","html_url":"https://github.com/xiaoheng1","followers_url":"https://api.github.com/users/xiaoheng1/followers","following_url":"https://api.github.com/users/xiaoheng1/following{/other_user}","gists_url":"https://api.github.com/users/xiaoheng1/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoheng1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoheng1/subscriptions","organizations_url":"https://api.github.com/users/xiaoheng1/orgs","repos_url":"https://api.github.com/users/xiaoheng1/repos","events_url":"https://api.github.com/users/xiaoheng1/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoheng1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T09:09:13Z","updated_at":"2021-01-15T09:09:13Z","author_association":"CONTRIBUTOR","body":"能提供一个 demo 不？","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760769095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760778147","html_url":"https://github.com/apache/dubbo/issues/7054#issuecomment-760778147","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7054","id":760778147,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDc3ODE0Nw==","user":{"login":"zhangyz-hd","id":10389889,"node_id":"MDQ6VXNlcjEwMzg5ODg5","avatar_url":"https://avatars.githubusercontent.com/u/10389889?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyz-hd","html_url":"https://github.com/zhangyz-hd","followers_url":"https://api.github.com/users/zhangyz-hd/followers","following_url":"https://api.github.com/users/zhangyz-hd/following{/other_user}","gists_url":"https://api.github.com/users/zhangyz-hd/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyz-hd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyz-hd/subscriptions","organizations_url":"https://api.github.com/users/zhangyz-hd/orgs","repos_url":"https://api.github.com/users/zhangyz-hd/repos","events_url":"https://api.github.com/users/zhangyz-hd/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyz-hd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T09:26:33Z","updated_at":"2021-01-15T09:26:33Z","author_association":"CONTRIBUTOR","body":"@wikiwikiwiki @xiaoheng1 \r\n我尝试按消费者使用1个线程池的思路修改了一下，请验证下是否能解决\r\n[fix_7054_again](https://github.com/apache/dubbo/compare/master...zhangyz-hd:fix_7054_again)","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760778147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760794676","html_url":"https://github.com/apache/dubbo/issues/7054#issuecomment-760794676","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7054","id":760794676,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDc5NDY3Ng==","user":{"login":"wikiwikiwiki","id":3408085,"node_id":"MDQ6VXNlcjM0MDgwODU=","avatar_url":"https://avatars.githubusercontent.com/u/3408085?v=4","gravatar_id":"","url":"https://api.github.com/users/wikiwikiwiki","html_url":"https://github.com/wikiwikiwiki","followers_url":"https://api.github.com/users/wikiwikiwiki/followers","following_url":"https://api.github.com/users/wikiwikiwiki/following{/other_user}","gists_url":"https://api.github.com/users/wikiwikiwiki/gists{/gist_id}","starred_url":"https://api.github.com/users/wikiwikiwiki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wikiwikiwiki/subscriptions","organizations_url":"https://api.github.com/users/wikiwikiwiki/orgs","repos_url":"https://api.github.com/users/wikiwikiwiki/repos","events_url":"https://api.github.com/users/wikiwikiwiki/events{/privacy}","received_events_url":"https://api.github.com/users/wikiwikiwiki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T09:58:51Z","updated_at":"2021-01-15T09:59:14Z","author_association":"NONE","body":"> 目前consumer端的线程池在某些场景是会有问题的，在高并发场景下会创建大量的线程池。其中，2.7 和 2.6 版本分别对不同的调用场景做了优化，我认为两者可以合并到一起：\r\n> \r\n> **2.7版本：**\r\n> 将消费端 Executor 逻辑统一到了这个位置：\r\n> https://github.com/apache/dubbo/blob/master/dubbo-rpc/dubbo-rpc-api/src/main/java/org/apache/dubbo/rpc/protocol/AbstractInvoker.java#L187\r\n> \r\n> https://github.com/apache/dubbo/blob/master/dubbo-remoting/dubbo-remoting-api/src/main/java/org/apache/dubbo/remoting/transport/dispatcher/WrappedChannelHandler.java#L109\r\n> \r\n> * 同步调用，通过 ThreadlessExecutor 复用业务线程池，从io线程直接到业务线程\r\n> * 异步调用，目前行为未变 ”io- > 线程池 -> 业务线程“，逻辑上有调整，统一到了ExecutorRepository 中，可以参考 2.6中改动，增加全局共享线程池配置\r\n> \r\n> **2.6版本：**\r\n> 2.6 版本中做了全局共享 consumer 线程池策略（同步&异步），避免线程数创建过多 #5891\r\n> \r\n> > AbstractClient.close()方法会被调用，线程池会被关闭... 而dubbo有默认端口，在实际场景下大部分provider端口都一致，其中只要有一个下线，整个线程池就会关闭。\r\n> > 所以在实际场景中，consumer使用的线程池一直在不断的关闭\r\n> \r\n> @wikiwikiwiki 这个小点是不成立的，AbstractClient是共享的且有reference计数的，只有当所有的 provider 都下线时，AbstractClient实例才会被关闭\r\n\r\n这个小点是成立的啊... AbstractClient有引用计数，但是这个计数的key是url.getAddress()，也就是ip:port，共享相关代码我贴上来了。举个例子，一个服务三台provider { 192.168.1.2:8080, 192.168.1.3:8080, 192.168.1.4:8080 }，consumer端建立的三个client不会共享，但是port完全相同，而线程池共享的单位为port也就是同一个线程池，结果就是任意一台下线都会关闭线程池导致重建。\r\n````\r\nprivate List<ReferenceCountExchangeClient> getSharedClient(URL url, int connectNum) {\r\n        String key = url.getAddress();\r\n        List<ReferenceCountExchangeClient> clients = referenceClientMap.get(key);\r\n````\r\n\r\n2.6这个设置确实没注意到，感觉这应该是默认设置，默认一个共享。\r\n2.7的同步线程池模型确实改了，但是还有事件处理和异步需要用到线程池，所以影响还在。\r\n然后既然要改，这次是不是可以一次改好，提供<dubbo:consumerthreadpool>这样的东西，default是一个CachedThreadPool，想做隔离的可以自己配置。\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760794676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760834298","html_url":"https://github.com/apache/dubbo/issues/7054#issuecomment-760834298","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7054","id":760834298,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDgzNDI5OA==","user":{"login":"wikiwikiwiki","id":3408085,"node_id":"MDQ6VXNlcjM0MDgwODU=","avatar_url":"https://avatars.githubusercontent.com/u/3408085?v=4","gravatar_id":"","url":"https://api.github.com/users/wikiwikiwiki","html_url":"https://github.com/wikiwikiwiki","followers_url":"https://api.github.com/users/wikiwikiwiki/followers","following_url":"https://api.github.com/users/wikiwikiwiki/following{/other_user}","gists_url":"https://api.github.com/users/wikiwikiwiki/gists{/gist_id}","starred_url":"https://api.github.com/users/wikiwikiwiki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wikiwikiwiki/subscriptions","organizations_url":"https://api.github.com/users/wikiwikiwiki/orgs","repos_url":"https://api.github.com/users/wikiwikiwiki/repos","events_url":"https://api.github.com/users/wikiwikiwiki/events{/privacy}","received_events_url":"https://api.github.com/users/wikiwikiwiki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T10:43:45Z","updated_at":"2021-01-15T10:43:58Z","author_association":"NONE","body":"> @wikiwikiwiki @xiaoheng1\r\n> 我尝试按消费者使用1个线程池的思路修改了一下，请验证下是否能解决\r\n> [fix_7054_again](https://github.com/apache/dubbo/compare/master...zhangyz-hd:fix_7054_again)\r\n\r\n看了一下，感觉如果只是改成consumer端强制只使用一个CacheThreadPool逻辑上应该没啥问题，不过DubboBootstrap destroy的时候也应该关闭","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760834298/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760921812","html_url":"https://github.com/apache/dubbo/issues/7054#issuecomment-760921812","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7054","id":760921812,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MDkyMTgxMg==","user":{"login":"zhangyz-hd","id":10389889,"node_id":"MDQ6VXNlcjEwMzg5ODg5","avatar_url":"https://avatars.githubusercontent.com/u/10389889?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyz-hd","html_url":"https://github.com/zhangyz-hd","followers_url":"https://api.github.com/users/zhangyz-hd/followers","following_url":"https://api.github.com/users/zhangyz-hd/following{/other_user}","gists_url":"https://api.github.com/users/zhangyz-hd/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyz-hd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyz-hd/subscriptions","organizations_url":"https://api.github.com/users/zhangyz-hd/orgs","repos_url":"https://api.github.com/users/zhangyz-hd/repos","events_url":"https://api.github.com/users/zhangyz-hd/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyz-hd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-15T12:45:52Z","updated_at":"2021-01-15T12:46:32Z","author_association":"CONTRIBUTOR","body":"> > @wikiwikiwiki @xiaoheng1\r\n> > 我尝试按消费者使用1个线程池的思路修改了一下，请验证下是否能解决\r\n> > [fix_7054_again](https://github.com/apache/dubbo/compare/master...zhangyz-hd:fix_7054_again)\r\n> \r\n> 看了一下，感觉如果只是改成consumer端强制只使用一个CacheThreadPool逻辑上应该没啥问题，不过DubboBootstrap destroy的时候也应该关闭\r\n\r\n已尝试在DubboBootstrap destroy中增加ExecutorRepository销毁。[fix_7054_again](https://github.com/apache/dubbo/compare/master...zhangyz-hd:fix_7054_again)","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/760921812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/761547851","html_url":"https://github.com/apache/dubbo/issues/7105#issuecomment-761547851","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7105","id":761547851,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTU0Nzg1MQ==","user":{"login":"kevinw66","id":31196226,"node_id":"MDQ6VXNlcjMxMTk2MjI2","avatar_url":"https://avatars.githubusercontent.com/u/31196226?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinw66","html_url":"https://github.com/kevinw66","followers_url":"https://api.github.com/users/kevinw66/followers","following_url":"https://api.github.com/users/kevinw66/following{/other_user}","gists_url":"https://api.github.com/users/kevinw66/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinw66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinw66/subscriptions","organizations_url":"https://api.github.com/users/kevinw66/orgs","repos_url":"https://api.github.com/users/kevinw66/repos","events_url":"https://api.github.com/users/kevinw66/events{/privacy}","received_events_url":"https://api.github.com/users/kevinw66/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-16T11:27:15Z","updated_at":"2021-01-16T11:27:15Z","author_association":"CONTRIBUTOR","body":"You can try add commons-lang3 dependency on your own","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/761547851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/761595012","html_url":"https://github.com/apache/dubbo/issues/7105#issuecomment-761595012","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7105","id":761595012,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTU5NTAxMg==","user":{"login":"lishangbu","id":36465346,"node_id":"MDQ6VXNlcjM2NDY1MzQ2","avatar_url":"https://avatars.githubusercontent.com/u/36465346?v=4","gravatar_id":"","url":"https://api.github.com/users/lishangbu","html_url":"https://github.com/lishangbu","followers_url":"https://api.github.com/users/lishangbu/followers","following_url":"https://api.github.com/users/lishangbu/following{/other_user}","gists_url":"https://api.github.com/users/lishangbu/gists{/gist_id}","starred_url":"https://api.github.com/users/lishangbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lishangbu/subscriptions","organizations_url":"https://api.github.com/users/lishangbu/orgs","repos_url":"https://api.github.com/users/lishangbu/repos","events_url":"https://api.github.com/users/lishangbu/events{/privacy}","received_events_url":"https://api.github.com/users/lishangbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-16T16:47:30Z","updated_at":"2021-01-16T16:47:30Z","author_association":"NONE","body":"> You can try add commons-lang3 dependency on your own\r\n\r\nOf course.But I think that too many same methods is unnecessarily.such as ```org.apache.dubbo.registry.nacos.NacosRegistry#appendIfPresent```\r\n\r\n```java\r\n\r\n    private void appendIfPresent(StringBuilder target, URL url, String parameterName) {\r\n        String parameterValue = url.getParameter(parameterName);\r\n        if (!org.apache.commons.lang3.StringUtils.isBlank(parameterValue)) {\r\n            target.append(SERVICE_NAME_SEPARATOR).append(parameterValue);\r\n        }\r\n    }\r\n```\r\n\r\nMayBe it's a better way to use ```org.apache.dubbo.common.utils.StringUtils``` rather than ```org.apache.commons.lang3.StringUtils``` like other methods in same file,then we do not need to add ```commons-lang3```  dependency when using dubbo and nacos any more.","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/761595012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/761601868","html_url":"https://github.com/apache/dubbo/issues/7105#issuecomment-761601868","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7105","id":761601868,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTYwMTg2OA==","user":{"login":"kevinw66","id":31196226,"node_id":"MDQ6VXNlcjMxMTk2MjI2","avatar_url":"https://avatars.githubusercontent.com/u/31196226?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinw66","html_url":"https://github.com/kevinw66","followers_url":"https://api.github.com/users/kevinw66/followers","following_url":"https://api.github.com/users/kevinw66/following{/other_user}","gists_url":"https://api.github.com/users/kevinw66/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinw66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinw66/subscriptions","organizations_url":"https://api.github.com/users/kevinw66/orgs","repos_url":"https://api.github.com/users/kevinw66/repos","events_url":"https://api.github.com/users/kevinw66/events{/privacy}","received_events_url":"https://api.github.com/users/kevinw66/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-16T17:29:52Z","updated_at":"2021-01-16T17:29:52Z","author_association":"CONTRIBUTOR","body":"Thanks for your advise, I have created a pull request for this issue. [#7106](https://github.com/apache/dubbo/pull/7106)","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/761601868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/761649151","html_url":"https://github.com/apache/dubbo/pull/7106#issuecomment-761649151","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7106","id":761649151,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTY0OTE1MQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-16T20:55:15Z","updated_at":"2021-01-16T20:57:39Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/dubbo/pull/7106?src=pr&el=h1) Report\n> Merging [#7106](https://codecov.io/gh/apache/dubbo/pull/7106?src=pr&el=desc) (e27487e) into [master](https://codecov.io/gh/apache/dubbo/commit/bd43fa7fe46d8ac09109c8b83c0e2950dfb919f3?el=desc) (bd43fa7) will **decrease** coverage by `0.03%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/dubbo/pull/7106/graphs/tree.svg?width=650&height=150&src=pr&token=VnEIkiFQT0)](https://codecov.io/gh/apache/dubbo/pull/7106?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #7106      +/-   ##\n============================================\n- Coverage     60.07%   60.04%   -0.04%     \n- Complexity      506      507       +1     \n============================================\n  Files          1028     1028              \n  Lines         41531    41531              \n  Branches       6038     6038              \n============================================\n- Hits          24951    24936      -15     \n- Misses        13813    13825      +12     \n- Partials       2767     2770       +3     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/dubbo/pull/7106?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...org/apache/dubbo/registry/nacos/NacosRegistry.java](https://codecov.io/gh/apache/dubbo/pull/7106/diff?src=pr&el=tree#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktbmFjb3Mvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JlZ2lzdHJ5L25hY29zL05hY29zUmVnaXN0cnkuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [...bo/config/event/listener/LoggingEventListener.java](https://codecov.io/gh/apache/dubbo/pull/7106/diff?src=pr&el=tree#diff-ZHViYm8tY29uZmlnL2R1YmJvLWNvbmZpZy1hcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL2NvbmZpZy9ldmVudC9saXN0ZW5lci9Mb2dnaW5nRXZlbnRMaXN0ZW5lci5qYXZh) | `37.50% <0.00%> (-25.00%)` | `0.00% <0.00%> (ø%)` | |\n| [...ava/org/apache/dubbo/config/DubboShutdownHook.java](https://codecov.io/gh/apache/dubbo/pull/7106/diff?src=pr&el=tree#diff-ZHViYm8tY29uZmlnL2R1YmJvLWNvbmZpZy1hcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL2NvbmZpZy9EdWJib1NodXRkb3duSG9vay5qYXZh) | `63.82% <0.00%> (-10.64%)` | `0.00% <0.00%> (ø%)` | |\n| [...che/dubbo/remoting/transport/mina/MinaChannel.java](https://codecov.io/gh/apache/dubbo/pull/7106/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctbWluYS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvZHViYm8vcmVtb3RpbmcvdHJhbnNwb3J0L21pbmEvTWluYUNoYW5uZWwuamF2YQ==) | `39.47% <0.00%> (-10.53%)` | `15.00% <0.00%> (-1.00%)` | |\n| [.../apache/dubbo/remoting/transport/AbstractPeer.java](https://codecov.io/gh/apache/dubbo/pull/7106/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy90cmFuc3BvcnQvQWJzdHJhY3RQZWVyLmphdmE=) | `58.69% <0.00%> (-4.35%)` | `0.00% <0.00%> (ø%)` | |\n| [...g/apache/dubbo/registry/consul/ConsulRegistry.java](https://codecov.io/gh/apache/dubbo/pull/7106/diff?src=pr&el=tree#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktY29uc3VsL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS9jb25zdWwvQ29uc3VsUmVnaXN0cnkuamF2YQ==) | `60.00% <0.00%> (-0.59%)` | `31.00% <0.00%> (ø%)` | |\n| [...ava/org/apache/dubbo/config/ServiceConfigBase.java](https://codecov.io/gh/apache/dubbo/pull/7106/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb25maWcvU2VydmljZUNvbmZpZ0Jhc2UuamF2YQ==) | `58.95% <0.00%> (-0.58%)` | `0.00% <0.00%> (ø%)` | |\n| [...figcenter/file/FileSystemDynamicConfiguration.java](https://codecov.io/gh/apache/dubbo/pull/7106/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vY29uZmlnL2NvbmZpZ2NlbnRlci9maWxlL0ZpbGVTeXN0ZW1EeW5hbWljQ29uZmlndXJhdGlvbi5qYXZh) | `62.38% <0.00%> (-0.48%)` | `0.00% <0.00%> (ø%)` | |\n| [.../apache/dubbo/config/bootstrap/DubboBootstrap.java](https://codecov.io/gh/apache/dubbo/pull/7106/diff?src=pr&el=tree#diff-ZHViYm8tY29uZmlnL2R1YmJvLWNvbmZpZy1hcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL2NvbmZpZy9ib290c3RyYXAvRHViYm9Cb290c3RyYXAuamF2YQ==) | `41.70% <0.00%> (-0.33%)` | `0.00% <0.00%> (ø%)` | |\n| [...org/apache/dubbo/registry/redis/RedisRegistry.java](https://codecov.io/gh/apache/dubbo/pull/7106/diff?src=pr&el=tree#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktcmVkaXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JlZ2lzdHJ5L3JlZGlzL1JlZGlzUmVnaXN0cnkuamF2YQ==) | `49.21% <0.00%> (+0.39%)` | `28.00% <0.00%> (+1.00%)` | |\n| ... and [2 more](https://codecov.io/gh/apache/dubbo/pull/7106/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/dubbo/pull/7106?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/dubbo/pull/7106?src=pr&el=footer). Last update [bd43fa7...e27487e](https://codecov.io/gh/apache/dubbo/pull/7106?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/761649151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/761727981","html_url":"https://github.com/apache/dubbo/issues/7052#issuecomment-761727981","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7052","id":761727981,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTcyNzk4MQ==","user":{"login":"kevinw66","id":31196226,"node_id":"MDQ6VXNlcjMxMTk2MjI2","avatar_url":"https://avatars.githubusercontent.com/u/31196226?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinw66","html_url":"https://github.com/kevinw66","followers_url":"https://api.github.com/users/kevinw66/followers","following_url":"https://api.github.com/users/kevinw66/following{/other_user}","gists_url":"https://api.github.com/users/kevinw66/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinw66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinw66/subscriptions","organizations_url":"https://api.github.com/users/kevinw66/orgs","repos_url":"https://api.github.com/users/kevinw66/repos","events_url":"https://api.github.com/users/kevinw66/events{/privacy}","received_events_url":"https://api.github.com/users/kevinw66/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-17T04:02:13Z","updated_at":"2021-01-17T04:02:13Z","author_association":"CONTRIBUTOR","body":"与这个ISSUE是一样的原因 [ISSUE-#6606](https://github.com/apache/dubbo/issues/6606) \r\n同时已经有了对应的PR [#6717](https://github.com/apache/dubbo/pull/6717)","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/761727981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/761816530","html_url":"https://github.com/apache/dubbo/issues/7054#issuecomment-761816530","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7054","id":761816530,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTgxNjUzMA==","user":{"login":"kevinw66","id":31196226,"node_id":"MDQ6VXNlcjMxMTk2MjI2","avatar_url":"https://avatars.githubusercontent.com/u/31196226?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinw66","html_url":"https://github.com/kevinw66","followers_url":"https://api.github.com/users/kevinw66/followers","following_url":"https://api.github.com/users/kevinw66/following{/other_user}","gists_url":"https://api.github.com/users/kevinw66/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinw66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinw66/subscriptions","organizations_url":"https://api.github.com/users/kevinw66/orgs","repos_url":"https://api.github.com/users/kevinw66/repos","events_url":"https://api.github.com/users/kevinw66/events{/privacy}","received_events_url":"https://api.github.com/users/kevinw66/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-17T13:56:14Z","updated_at":"2021-01-17T13:56:14Z","author_association":"CONTRIBUTOR","body":"> > > @wikiwikiwiki @xiaoheng1\r\n> > > 我尝试按消费者使用1个线程池的思路修改了一下，请验证下是否能解决\r\n> > > [fix_7054_again](https://github.com/apache/dubbo/compare/master...zhangyz-hd:fix_7054_again)\r\n> > \r\n> > \r\n> > 看了一下，感觉如果只是改成consumer端强制只使用一个CacheThreadPool逻辑上应该没啥问题，不过DubboBootstrap destroy的时候也应该关闭\r\n> \r\n> 已尝试在DubboBootstrap destroy中增加ExecutorRepository销毁。[fix_7054_again](https://github.com/apache/dubbo/compare/master...zhangyz-hd:fix_7054_again)\r\n\r\n@zhangyz-hd 可以测试一下，然后提个PR","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/761816530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/761934234","html_url":"https://github.com/apache/dubbo/issues/7097#issuecomment-761934234","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7097","id":761934234,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTkzNDIzNA==","user":{"login":"songxu","id":3148530,"node_id":"MDQ6VXNlcjMxNDg1MzA=","avatar_url":"https://avatars.githubusercontent.com/u/3148530?v=4","gravatar_id":"","url":"https://api.github.com/users/songxu","html_url":"https://github.com/songxu","followers_url":"https://api.github.com/users/songxu/followers","following_url":"https://api.github.com/users/songxu/following{/other_user}","gists_url":"https://api.github.com/users/songxu/gists{/gist_id}","starred_url":"https://api.github.com/users/songxu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/songxu/subscriptions","organizations_url":"https://api.github.com/users/songxu/orgs","repos_url":"https://api.github.com/users/songxu/repos","events_url":"https://api.github.com/users/songxu/events{/privacy}","received_events_url":"https://api.github.com/users/songxu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T02:11:08Z","updated_at":"2021-01-18T02:11:08Z","author_association":"NONE","body":"> 可以吧 `check = false` 改成 `check = true` 试试，在 `check = true` 的情况下，会先创建建立TCP 连接，并执行类似 `ping`的操作，检查服务是否可用。consumer 在启动的时候，第一次 RPC 调用 确实耗时会比较多（因为要先建立TCP链接）。\r\n\r\n谢谢建议，我们试下。","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/761934234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/761942799","html_url":"https://github.com/apache/dubbo/issues/7054#issuecomment-761942799","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7054","id":761942799,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTk0Mjc5OQ==","user":{"login":"zhangyz-hd","id":10389889,"node_id":"MDQ6VXNlcjEwMzg5ODg5","avatar_url":"https://avatars.githubusercontent.com/u/10389889?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyz-hd","html_url":"https://github.com/zhangyz-hd","followers_url":"https://api.github.com/users/zhangyz-hd/followers","following_url":"https://api.github.com/users/zhangyz-hd/following{/other_user}","gists_url":"https://api.github.com/users/zhangyz-hd/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyz-hd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyz-hd/subscriptions","organizations_url":"https://api.github.com/users/zhangyz-hd/orgs","repos_url":"https://api.github.com/users/zhangyz-hd/repos","events_url":"https://api.github.com/users/zhangyz-hd/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyz-hd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T02:42:04Z","updated_at":"2021-01-18T02:42:04Z","author_association":"CONTRIBUTOR","body":"其实我觉得，DUBBO2.5、2.6下消费者端一个AbstractClient一个pool也这么多年了，要不把这种1:1的也保留下？","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/761942799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/761950105","html_url":"https://github.com/apache/dubbo/issues/7054#issuecomment-761950105","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7054","id":761950105,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTk1MDEwNQ==","user":{"login":"xiaoheng1","id":12539730,"node_id":"MDQ6VXNlcjEyNTM5NzMw","avatar_url":"https://avatars.githubusercontent.com/u/12539730?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoheng1","html_url":"https://github.com/xiaoheng1","followers_url":"https://api.github.com/users/xiaoheng1/followers","following_url":"https://api.github.com/users/xiaoheng1/following{/other_user}","gists_url":"https://api.github.com/users/xiaoheng1/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoheng1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoheng1/subscriptions","organizations_url":"https://api.github.com/users/xiaoheng1/orgs","repos_url":"https://api.github.com/users/xiaoheng1/repos","events_url":"https://api.github.com/users/xiaoheng1/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoheng1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T03:07:28Z","updated_at":"2021-01-18T03:07:28Z","author_association":"CONTRIBUTOR","body":"我觉得这个做成配置的会更好，交由用户自行决定是否共享线程池。默认情况下共享。可以配置隔离线程池。","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/761950105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/761961012","html_url":"https://github.com/apache/dubbo/issues/74#issuecomment-761961012","issue_url":"https://api.github.com/repos/apache/dubbo/issues/74","id":761961012,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTk2MTAxMg==","user":{"login":"maoxiaoxiong","id":31685834,"node_id":"MDQ6VXNlcjMxNjg1ODM0","avatar_url":"https://avatars.githubusercontent.com/u/31685834?v=4","gravatar_id":"","url":"https://api.github.com/users/maoxiaoxiong","html_url":"https://github.com/maoxiaoxiong","followers_url":"https://api.github.com/users/maoxiaoxiong/followers","following_url":"https://api.github.com/users/maoxiaoxiong/following{/other_user}","gists_url":"https://api.github.com/users/maoxiaoxiong/gists{/gist_id}","starred_url":"https://api.github.com/users/maoxiaoxiong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maoxiaoxiong/subscriptions","organizations_url":"https://api.github.com/users/maoxiaoxiong/orgs","repos_url":"https://api.github.com/users/maoxiaoxiong/repos","events_url":"https://api.github.com/users/maoxiaoxiong/events{/privacy}","received_events_url":"https://api.github.com/users/maoxiaoxiong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T03:47:05Z","updated_at":"2021-01-18T03:47:05Z","author_association":"NONE","body":"@liuluo129 \r\n\r\n java.lang.NoClassDefFoundError: org/apache/zookeeper/proto/SetWatches\r\n\r\n请问这个问题你在当前版本 解决了吗\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/761961012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/761979788","html_url":"https://github.com/apache/dubbo/issues/6627#issuecomment-761979788","issue_url":"https://api.github.com/repos/apache/dubbo/issues/6627","id":761979788,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTk3OTc4OA==","user":{"login":"vio-lin","id":12695349,"node_id":"MDQ6VXNlcjEyNjk1MzQ5","avatar_url":"https://avatars.githubusercontent.com/u/12695349?v=4","gravatar_id":"","url":"https://api.github.com/users/vio-lin","html_url":"https://github.com/vio-lin","followers_url":"https://api.github.com/users/vio-lin/followers","following_url":"https://api.github.com/users/vio-lin/following{/other_user}","gists_url":"https://api.github.com/users/vio-lin/gists{/gist_id}","starred_url":"https://api.github.com/users/vio-lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vio-lin/subscriptions","organizations_url":"https://api.github.com/users/vio-lin/orgs","repos_url":"https://api.github.com/users/vio-lin/repos","events_url":"https://api.github.com/users/vio-lin/events{/privacy}","received_events_url":"https://api.github.com/users/vio-lin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T04:57:27Z","updated_at":"2021-01-18T04:57:27Z","author_association":"CONTRIBUTOR","body":"我遇到了差不多同样的问题，我尝试重现了下。\r\n1. 请求已经经过了选址，到负载均衡及其后面的逻辑 卡主这个请求\r\n2. 客户端收到服务端拉出的消息，并且尝试销毁invoker \r\n3. invoker销毁之后，放掉前面在负载均衡的请求，它触发建立Channel \r\n4. 因为服务端的ip还能ping 通，chananle建立定时任务去重连\r\n5. 因为前面invoker已经被销毁，不会有人来destry这个channel，陷入循环。","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/761979788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762000381","html_url":"https://github.com/apache/dubbo/issues/74#issuecomment-762000381","issue_url":"https://api.github.com/repos/apache/dubbo/issues/74","id":762000381,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjAwMDM4MQ==","user":{"login":"maoxiaoxiong","id":31685834,"node_id":"MDQ6VXNlcjMxNjg1ODM0","avatar_url":"https://avatars.githubusercontent.com/u/31685834?v=4","gravatar_id":"","url":"https://api.github.com/users/maoxiaoxiong","html_url":"https://github.com/maoxiaoxiong","followers_url":"https://api.github.com/users/maoxiaoxiong/followers","following_url":"https://api.github.com/users/maoxiaoxiong/following{/other_user}","gists_url":"https://api.github.com/users/maoxiaoxiong/gists{/gist_id}","starred_url":"https://api.github.com/users/maoxiaoxiong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maoxiaoxiong/subscriptions","organizations_url":"https://api.github.com/users/maoxiaoxiong/orgs","repos_url":"https://api.github.com/users/maoxiaoxiong/repos","events_url":"https://api.github.com/users/maoxiaoxiong/events{/privacy}","received_events_url":"https://api.github.com/users/maoxiaoxiong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T05:54:12Z","updated_at":"2021-01-18T05:54:12Z","author_association":"NONE","body":"> \r\n> \r\n> 有人解决这个问题了吗？我用的weblogic,jdk8\r\n\r\n你这个问题解决了吗 除了版本升级","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762000381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762084488","html_url":"https://github.com/apache/dubbo/pull/7110#issuecomment-762084488","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7110","id":762084488,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjA4NDQ4OA==","user":{"login":"xukefu","id":51318151,"node_id":"MDQ6VXNlcjUxMzE4MTUx","avatar_url":"https://avatars.githubusercontent.com/u/51318151?v=4","gravatar_id":"","url":"https://api.github.com/users/xukefu","html_url":"https://github.com/xukefu","followers_url":"https://api.github.com/users/xukefu/followers","following_url":"https://api.github.com/users/xukefu/following{/other_user}","gists_url":"https://api.github.com/users/xukefu/gists{/gist_id}","starred_url":"https://api.github.com/users/xukefu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xukefu/subscriptions","organizations_url":"https://api.github.com/users/xukefu/orgs","repos_url":"https://api.github.com/users/xukefu/repos","events_url":"https://api.github.com/users/xukefu/events{/privacy}","received_events_url":"https://api.github.com/users/xukefu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T08:40:24Z","updated_at":"2021-01-18T08:40:24Z","author_association":"NONE","body":"cancel","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762084488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762086666","html_url":"https://github.com/apache/dubbo/issues/6969#issuecomment-762086666","issue_url":"https://api.github.com/repos/apache/dubbo/issues/6969","id":762086666,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjA4NjY2Ng==","user":{"login":"RobertLiu0905","id":10494702,"node_id":"MDQ6VXNlcjEwNDk0NzAy","avatar_url":"https://avatars.githubusercontent.com/u/10494702?v=4","gravatar_id":"","url":"https://api.github.com/users/RobertLiu0905","html_url":"https://github.com/RobertLiu0905","followers_url":"https://api.github.com/users/RobertLiu0905/followers","following_url":"https://api.github.com/users/RobertLiu0905/following{/other_user}","gists_url":"https://api.github.com/users/RobertLiu0905/gists{/gist_id}","starred_url":"https://api.github.com/users/RobertLiu0905/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RobertLiu0905/subscriptions","organizations_url":"https://api.github.com/users/RobertLiu0905/orgs","repos_url":"https://api.github.com/users/RobertLiu0905/repos","events_url":"https://api.github.com/users/RobertLiu0905/events{/privacy}","received_events_url":"https://api.github.com/users/RobertLiu0905/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T08:43:47Z","updated_at":"2021-01-18T08:43:47Z","author_association":"NONE","body":"@chickenlj 是否有什么好的解决方案？","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762086666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762091708","html_url":"https://github.com/apache/dubbo/issues/7054#issuecomment-762091708","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7054","id":762091708,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjA5MTcwOA==","user":{"login":"zhangyz-hd","id":10389889,"node_id":"MDQ6VXNlcjEwMzg5ODg5","avatar_url":"https://avatars.githubusercontent.com/u/10389889?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyz-hd","html_url":"https://github.com/zhangyz-hd","followers_url":"https://api.github.com/users/zhangyz-hd/followers","following_url":"https://api.github.com/users/zhangyz-hd/following{/other_user}","gists_url":"https://api.github.com/users/zhangyz-hd/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyz-hd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyz-hd/subscriptions","organizations_url":"https://api.github.com/users/zhangyz-hd/orgs","repos_url":"https://api.github.com/users/zhangyz-hd/repos","events_url":"https://api.github.com/users/zhangyz-hd/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyz-hd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T08:51:39Z","updated_at":"2021-01-18T08:51:39Z","author_association":"CONTRIBUTOR","body":"> 我觉得这个做成配置的会更好，交由用户自行决定是否共享线程池。默认情况下共享。可以配置隔离线程池。\r\n\r\n比如这样？[share.threadpool配置也加上了](https://github.com/apache/dubbo/compare/master...zhangyz-hd:fix_7054_again_more)","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762091708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762219900","html_url":"https://github.com/apache/dubbo/issues/7054#issuecomment-762219900","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7054","id":762219900,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjIxOTkwMA==","user":{"login":"xiaoheng1","id":12539730,"node_id":"MDQ6VXNlcjEyNTM5NzMw","avatar_url":"https://avatars.githubusercontent.com/u/12539730?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoheng1","html_url":"https://github.com/xiaoheng1","followers_url":"https://api.github.com/users/xiaoheng1/followers","following_url":"https://api.github.com/users/xiaoheng1/following{/other_user}","gists_url":"https://api.github.com/users/xiaoheng1/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoheng1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoheng1/subscriptions","organizations_url":"https://api.github.com/users/xiaoheng1/orgs","repos_url":"https://api.github.com/users/xiaoheng1/repos","events_url":"https://api.github.com/users/xiaoheng1/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoheng1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-18T12:29:11Z","updated_at":"2021-01-18T12:29:11Z","author_association":"CONTRIBUTOR","body":"@zhangyz-hd 看了下逻辑，使用 ip+port 做隔离逻辑上没啥问题。","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762219900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762538114","html_url":"https://github.com/apache/dubbo/issues/5829#issuecomment-762538114","issue_url":"https://api.github.com/repos/apache/dubbo/issues/5829","id":762538114,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjUzODExNA==","user":{"login":"niuchen","id":25069292,"node_id":"MDQ6VXNlcjI1MDY5Mjky","avatar_url":"https://avatars.githubusercontent.com/u/25069292?v=4","gravatar_id":"","url":"https://api.github.com/users/niuchen","html_url":"https://github.com/niuchen","followers_url":"https://api.github.com/users/niuchen/followers","following_url":"https://api.github.com/users/niuchen/following{/other_user}","gists_url":"https://api.github.com/users/niuchen/gists{/gist_id}","starred_url":"https://api.github.com/users/niuchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niuchen/subscriptions","organizations_url":"https://api.github.com/users/niuchen/orgs","repos_url":"https://api.github.com/users/niuchen/repos","events_url":"https://api.github.com/users/niuchen/events{/privacy}","received_events_url":"https://api.github.com/users/niuchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T01:05:22Z","updated_at":"2021-01-19T01:05:22Z","author_association":"NONE","body":"遇到同样的问题  不知道可以解决吗  ","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762538114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762549342","html_url":"https://github.com/apache/dubbo/issues/5829#issuecomment-762549342","issue_url":"https://api.github.com/repos/apache/dubbo/issues/5829","id":762549342,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjU0OTM0Mg==","user":{"login":"niuchen","id":25069292,"node_id":"MDQ6VXNlcjI1MDY5Mjky","avatar_url":"https://avatars.githubusercontent.com/u/25069292?v=4","gravatar_id":"","url":"https://api.github.com/users/niuchen","html_url":"https://github.com/niuchen","followers_url":"https://api.github.com/users/niuchen/followers","following_url":"https://api.github.com/users/niuchen/following{/other_user}","gists_url":"https://api.github.com/users/niuchen/gists{/gist_id}","starred_url":"https://api.github.com/users/niuchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niuchen/subscriptions","organizations_url":"https://api.github.com/users/niuchen/orgs","repos_url":"https://api.github.com/users/niuchen/repos","events_url":"https://api.github.com/users/niuchen/events{/privacy}","received_events_url":"https://api.github.com/users/niuchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T01:48:55Z","updated_at":"2021-01-19T01:48:55Z","author_association":"NONE","body":"Caused by: java.lang.IllegalStateException: No such extension org.apache.dubbo.rpc.cluster.LoadBalance by name random\r\n\tat org.apache.dubbo.common.extension.ExtensionLoader.findException(ExtensionLoader.java:623)\r\n\tat org.apache.dubbo.common.extension.ExtensionLoader.createExtension(ExtensionLoader.java:630)\r\n\tat org.apache.dubbo.common.extension.ExtensionLoader.getExtension(ExtensionLoader.java:429)\r\n\tat org.apache.dubbo.common.extension.ExtensionLoader.getExtension(ExtensionLoader.java:413)\r\n\tat org.apache.dubbo.rpc.cluster.support.AbstractClusterInvoker.initLoadBalance(AbstractClusterInvoker.java:308)\r\n\tat org.apache.dubbo.rpc.cluster.support.AbstractClusterInvoker.invoke(AbstractClusterInvoker.java:258)\r\n\tat org.apache.dubbo.rpc.cluster.interceptor.ClusterInterceptor.intercept(ClusterInterceptor.java:47)\r\n\tat org.apache.dubbo.rpc.cluster.support.wrapper.AbstractCluster$InterceptorInvokerNode.invoke(AbstractCluster.java:92)\r\n\tat org.apache.dubbo.rpc.cluster.support.wrapper.MockClusterInvoker.invoke(MockClusterInvoker.java:88)\r\n\tat org.apache.dubbo.rpc.proxy.InvokerInvocationHandler.invoke(InvokerInvocationHandler.java:74)\r\n\tat org.apache.dubbo.common.bytecode.proxy0.currentTaskInfos(proxy0.java)\r\n\tat com.elitesland.pur.service.impl.PurPrServiceImpl.taskName(PurPrServiceImpl.java:156)","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762549342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762550169","html_url":"https://github.com/apache/dubbo/issues/5829#issuecomment-762550169","issue_url":"https://api.github.com/repos/apache/dubbo/issues/5829","id":762550169,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjU1MDE2OQ==","user":{"login":"niuchen","id":25069292,"node_id":"MDQ6VXNlcjI1MDY5Mjky","avatar_url":"https://avatars.githubusercontent.com/u/25069292?v=4","gravatar_id":"","url":"https://api.github.com/users/niuchen","html_url":"https://github.com/niuchen","followers_url":"https://api.github.com/users/niuchen/followers","following_url":"https://api.github.com/users/niuchen/following{/other_user}","gists_url":"https://api.github.com/users/niuchen/gists{/gist_id}","starred_url":"https://api.github.com/users/niuchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niuchen/subscriptions","organizations_url":"https://api.github.com/users/niuchen/orgs","repos_url":"https://api.github.com/users/niuchen/repos","events_url":"https://api.github.com/users/niuchen/events{/privacy}","received_events_url":"https://api.github.com/users/niuchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T01:51:55Z","updated_at":"2021-01-19T01:51:55Z","author_association":"NONE","body":"服务器服务开始是好的.  不一定什么时候就一直报错.   只能重启服务才可以恢复.      是有大内存消耗,CG释放了缓存吗?   还是其他的原因.    对dubbo感觉不可靠了.","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762550169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762550986","html_url":"https://github.com/apache/dubbo/issues/6627#issuecomment-762550986","issue_url":"https://api.github.com/repos/apache/dubbo/issues/6627","id":762550986,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjU1MDk4Ng==","user":{"login":"vio-lin","id":12695349,"node_id":"MDQ6VXNlcjEyNjk1MzQ5","avatar_url":"https://avatars.githubusercontent.com/u/12695349?v=4","gravatar_id":"","url":"https://api.github.com/users/vio-lin","html_url":"https://github.com/vio-lin","followers_url":"https://api.github.com/users/vio-lin/followers","following_url":"https://api.github.com/users/vio-lin/following{/other_user}","gists_url":"https://api.github.com/users/vio-lin/gists{/gist_id}","starred_url":"https://api.github.com/users/vio-lin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vio-lin/subscriptions","organizations_url":"https://api.github.com/users/vio-lin/orgs","repos_url":"https://api.github.com/users/vio-lin/repos","events_url":"https://api.github.com/users/vio-lin/events{/privacy}","received_events_url":"https://api.github.com/users/vio-lin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T01:55:05Z","updated_at":"2021-01-19T01:55:05Z","author_association":"CONTRIBUTOR","body":"大家都想怎么去解决呢，公司换了动态Ip之后 这个问题更严重了。","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762550986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762625891","html_url":"https://github.com/apache/dubbo/issues/7074#issuecomment-762625891","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7074","id":762625891,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjYyNTg5MQ==","user":{"login":"xiaoheng1","id":12539730,"node_id":"MDQ6VXNlcjEyNTM5NzMw","avatar_url":"https://avatars.githubusercontent.com/u/12539730?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoheng1","html_url":"https://github.com/xiaoheng1","followers_url":"https://api.github.com/users/xiaoheng1/followers","following_url":"https://api.github.com/users/xiaoheng1/following{/other_user}","gists_url":"https://api.github.com/users/xiaoheng1/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoheng1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoheng1/subscriptions","organizations_url":"https://api.github.com/users/xiaoheng1/orgs","repos_url":"https://api.github.com/users/xiaoheng1/repos","events_url":"https://api.github.com/users/xiaoheng1/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoheng1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T06:15:13Z","updated_at":"2021-01-19T06:15:13Z","author_association":"CONTRIBUTOR","body":"> dubbo 2.7.8 版本也存在此问题\r\n\r\n@chengj1 能提供一个配置重现这个问题不？","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762625891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762740226","html_url":"https://github.com/apache/dubbo/issues/7074#issuecomment-762740226","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7074","id":762740226,"node_id":"MDEyOklzc3VlQ29tbWVudDc2Mjc0MDIyNg==","user":{"login":"chengj1","id":64000943,"node_id":"MDQ6VXNlcjY0MDAwOTQz","avatar_url":"https://avatars.githubusercontent.com/u/64000943?v=4","gravatar_id":"","url":"https://api.github.com/users/chengj1","html_url":"https://github.com/chengj1","followers_url":"https://api.github.com/users/chengj1/followers","following_url":"https://api.github.com/users/chengj1/following{/other_user}","gists_url":"https://api.github.com/users/chengj1/gists{/gist_id}","starred_url":"https://api.github.com/users/chengj1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chengj1/subscriptions","organizations_url":"https://api.github.com/users/chengj1/orgs","repos_url":"https://api.github.com/users/chengj1/repos","events_url":"https://api.github.com/users/chengj1/events{/privacy}","received_events_url":"https://api.github.com/users/chengj1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T10:08:21Z","updated_at":"2021-01-19T10:09:49Z","author_association":"NONE","body":"**_Which Component_**\r\nnacos-server: 1.3.2\r\nzooker: 3.6.2\r\ndubbo:  2.7.8\r\nspring framework:  4.3.28.RELEASE （没有使用spring boot和sc albaba 框架）\r\n私有云容器化部署，服务量 1000+\r\n\r\n**_Describe the bug_**\r\n服务提供者重启后，消费者需要重启才能正确消费服务，否则不是报 no provider 错误  就是  调用的URL地址还是旧的地址，刚开始怀疑是Nacos的问题，后来换成 zookeeper 问题还在。另外我通过 RegistryService.subscribe(url, notifyListener) 订阅服务时，后台会疯狂打印日志（这个刚开始很正常，一天日志就200M左右，运行几周后才会这样），一个节点一天能输出 10+G 的日志量（都是订阅的服务地址信息，内容都是重复的，可以确定当时并没有大量的容量频繁重启的现象），而且订阅的服务量和在nacos consule 上查询到的数量对不上（按接口统计的）。","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762740226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762777879","html_url":"https://github.com/apache/dubbo/issues/7074#issuecomment-762777879","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7074","id":762777879,"node_id":"MDEyOklzc3VlQ29tbWVudDc2Mjc3Nzg3OQ==","user":{"login":"xiaoheng1","id":12539730,"node_id":"MDQ6VXNlcjEyNTM5NzMw","avatar_url":"https://avatars.githubusercontent.com/u/12539730?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoheng1","html_url":"https://github.com/xiaoheng1","followers_url":"https://api.github.com/users/xiaoheng1/followers","following_url":"https://api.github.com/users/xiaoheng1/following{/other_user}","gists_url":"https://api.github.com/users/xiaoheng1/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoheng1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoheng1/subscriptions","organizations_url":"https://api.github.com/users/xiaoheng1/orgs","repos_url":"https://api.github.com/users/xiaoheng1/repos","events_url":"https://api.github.com/users/xiaoheng1/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoheng1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T11:18:52Z","updated_at":"2021-01-19T11:18:52Z","author_association":"CONTRIBUTOR","body":"服务提供者只是单纯的重启不？有没有修改提供者的参数配置？","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762777879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762781081","html_url":"https://github.com/apache/dubbo/issues/7074#issuecomment-762781081","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7074","id":762781081,"node_id":"MDEyOklzc3VlQ29tbWVudDc2Mjc4MTA4MQ==","user":{"login":"xiaoheng1","id":12539730,"node_id":"MDQ6VXNlcjEyNTM5NzMw","avatar_url":"https://avatars.githubusercontent.com/u/12539730?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoheng1","html_url":"https://github.com/xiaoheng1","followers_url":"https://api.github.com/users/xiaoheng1/followers","following_url":"https://api.github.com/users/xiaoheng1/following{/other_user}","gists_url":"https://api.github.com/users/xiaoheng1/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoheng1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoheng1/subscriptions","organizations_url":"https://api.github.com/users/xiaoheng1/orgs","repos_url":"https://api.github.com/users/xiaoheng1/repos","events_url":"https://api.github.com/users/xiaoheng1/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoheng1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T11:25:32Z","updated_at":"2021-01-19T11:25:32Z","author_association":"CONTRIBUTOR","body":"@chengj1  我在本地进行来测试，一个生产者，一个消费者，生产这重启，消费者能否正确消费服务。\r\n\r\n代码如下：\r\n\r\ndubbo2.7.8\r\n\r\nprovider：\r\n\r\n```\r\npublic class Application {\r\n    private static String zookeeperHost = System.getProperty(\"zookeeper.address\", \"127.0.0.1\");\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        ServiceConfig<GreetingsService> service = new ServiceConfig<>();\r\n        service.setScope(\"remote\");\r\n        service.setApplication(new ApplicationConfig(\"first-dubbo-provider\"));\r\n        RegistryConfig registryConfig = new RegistryConfig(\"zookeeper://\" + zookeeperHost + \":2181\");\r\n        HashMap<String, String> map = new HashMap<>();\r\n        //map.put(\"registry-type\", \"service\");\r\n        registryConfig.setParameters(map);\r\n        //registryConfig.setSimplified(true);\r\n        service.setRegistry(registryConfig);\r\n\r\n        service.setInterface(GreetingsService.class);\r\n        service.setRef(new GreetingsServiceImpl());\r\n        service.export();\r\n\r\n        System.out.println(\"dubbo service started\");\r\n        new CountDownLatch(1).await();\r\n    }\r\n}\r\n```\r\n\r\ncomsuner：\r\n\r\n```\r\npublic class Application {\r\n    private static String zookeeperHost = System.getProperty(\"zookeeper.address\", \"127.0.0.1\");\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        for(int i=0; i<3; i++){\r\n            ReferenceConfig<GreetingsService> reference = new ReferenceConfig<>();\r\n            reference.setApplication(new ApplicationConfig(\"first-dubbo-consumer\"));\r\n            RegistryConfig registryConfig = new RegistryConfig(\"zookeeper://\" + zookeeperHost + \":2181\");\r\n           // registryConfig.setSimplified(true);\r\n            reference.setRegistry(registryConfig);\r\n            reference.setTimeout(1000 * 60);\r\n            reference.setInterface(GreetingsService.class);\r\n            GreetingsService service = reference.get();\r\n            String message = service.sayHi(\"dubbo\");\r\n            System.out.println(message);\r\n            Thread.sleep(60 * 1000 * 2);\r\n        }\r\n\r\n    }\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762781081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762788501","html_url":"https://github.com/apache/dubbo/issues/7074#issuecomment-762788501","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7074","id":762788501,"node_id":"MDEyOklzc3VlQ29tbWVudDc2Mjc4ODUwMQ==","user":{"login":"chengj1","id":64000943,"node_id":"MDQ6VXNlcjY0MDAwOTQz","avatar_url":"https://avatars.githubusercontent.com/u/64000943?v=4","gravatar_id":"","url":"https://api.github.com/users/chengj1","html_url":"https://github.com/chengj1","followers_url":"https://api.github.com/users/chengj1/followers","following_url":"https://api.github.com/users/chengj1/following{/other_user}","gists_url":"https://api.github.com/users/chengj1/gists{/gist_id}","starred_url":"https://api.github.com/users/chengj1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chengj1/subscriptions","organizations_url":"https://api.github.com/users/chengj1/orgs","repos_url":"https://api.github.com/users/chengj1/repos","events_url":"https://api.github.com/users/chengj1/events{/privacy}","received_events_url":"https://api.github.com/users/chengj1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T11:41:15Z","updated_at":"2021-01-19T11:46:36Z","author_association":"NONE","body":"这样是没有问题的，我们在开发环境都很正常。问题在生产环境应用是先启动一个新节，然后再停掉老节。最后服务提供者IP就变了，而且每个应用都是多节点部署的。","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762788501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762790867","html_url":"https://github.com/apache/dubbo/issues/7074#issuecomment-762790867","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7074","id":762790867,"node_id":"MDEyOklzc3VlQ29tbWVudDc2Mjc5MDg2Nw==","user":{"login":"xiaoheng1","id":12539730,"node_id":"MDQ6VXNlcjEyNTM5NzMw","avatar_url":"https://avatars.githubusercontent.com/u/12539730?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoheng1","html_url":"https://github.com/xiaoheng1","followers_url":"https://api.github.com/users/xiaoheng1/followers","following_url":"https://api.github.com/users/xiaoheng1/following{/other_user}","gists_url":"https://api.github.com/users/xiaoheng1/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoheng1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoheng1/subscriptions","organizations_url":"https://api.github.com/users/xiaoheng1/orgs","repos_url":"https://api.github.com/users/xiaoheng1/repos","events_url":"https://api.github.com/users/xiaoheng1/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoheng1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T11:46:27Z","updated_at":"2021-01-19T11:46:27Z","author_association":"CONTRIBUTOR","body":"> 这样是没有问题的，我们在开发环境都很正常。问题在生产环境应用重启后IP就变了，而且每个应用都是多节点部署的，重启速度很快。\r\n\r\n你的意思说容器重启后，导致 ip 发生变化，那这种情况下消费者调用不到生产者逻辑上应该算正常的。\r\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762790867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762793329","html_url":"https://github.com/apache/dubbo/issues/7074#issuecomment-762793329","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7074","id":762793329,"node_id":"MDEyOklzc3VlQ29tbWVudDc2Mjc5MzMyOQ==","user":{"login":"chengj1","id":64000943,"node_id":"MDQ6VXNlcjY0MDAwOTQz","avatar_url":"https://avatars.githubusercontent.com/u/64000943?v=4","gravatar_id":"","url":"https://api.github.com/users/chengj1","html_url":"https://github.com/chengj1","followers_url":"https://api.github.com/users/chengj1/followers","following_url":"https://api.github.com/users/chengj1/following{/other_user}","gists_url":"https://api.github.com/users/chengj1/gists{/gist_id}","starred_url":"https://api.github.com/users/chengj1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chengj1/subscriptions","organizations_url":"https://api.github.com/users/chengj1/orgs","repos_url":"https://api.github.com/users/chengj1/repos","events_url":"https://api.github.com/users/chengj1/events{/privacy}","received_events_url":"https://api.github.com/users/chengj1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T11:51:44Z","updated_at":"2021-01-19T11:51:44Z","author_association":"NONE","body":"关键是这个问不光会在重启过程中，在重启完成后不重启消费者的话就会一直调不到","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762793329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762794430","html_url":"https://github.com/apache/dubbo/issues/7074#issuecomment-762794430","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7074","id":762794430,"node_id":"MDEyOklzc3VlQ29tbWVudDc2Mjc5NDQzMA==","user":{"login":"xiaoheng1","id":12539730,"node_id":"MDQ6VXNlcjEyNTM5NzMw","avatar_url":"https://avatars.githubusercontent.com/u/12539730?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoheng1","html_url":"https://github.com/xiaoheng1","followers_url":"https://api.github.com/users/xiaoheng1/followers","following_url":"https://api.github.com/users/xiaoheng1/following{/other_user}","gists_url":"https://api.github.com/users/xiaoheng1/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoheng1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoheng1/subscriptions","organizations_url":"https://api.github.com/users/xiaoheng1/orgs","repos_url":"https://api.github.com/users/xiaoheng1/repos","events_url":"https://api.github.com/users/xiaoheng1/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoheng1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T11:54:09Z","updated_at":"2021-01-19T11:54:09Z","author_association":"CONTRIBUTOR","body":"明白你的意思了，我这边测试下这种情况。","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762794430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762903393","html_url":"https://github.com/apache/dubbo/issues/7074#issuecomment-762903393","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7074","id":762903393,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjkwMzM5Mw==","user":{"login":"xiaoheng1","id":12539730,"node_id":"MDQ6VXNlcjEyNTM5NzMw","avatar_url":"https://avatars.githubusercontent.com/u/12539730?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoheng1","html_url":"https://github.com/xiaoheng1","followers_url":"https://api.github.com/users/xiaoheng1/followers","following_url":"https://api.github.com/users/xiaoheng1/following{/other_user}","gists_url":"https://api.github.com/users/xiaoheng1/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoheng1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoheng1/subscriptions","organizations_url":"https://api.github.com/users/xiaoheng1/orgs","repos_url":"https://api.github.com/users/xiaoheng1/repos","events_url":"https://api.github.com/users/xiaoheng1/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoheng1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T15:09:20Z","updated_at":"2021-01-19T15:09:20Z","author_association":"CONTRIBUTOR","body":"@chengj1 \r\n测试步骤如下：\r\n1.两台电脑，一台提供者，另一台部署消费者 + 注册中心。\r\n2.先启动提供者，然后启动消费者，消费者循环调用提供者的一个方法，每次间隔 60s。\r\n3.第一次调用完成后，关闭提供者，修改其 ip，然后启动提供者，发现消费者还是能够正常调用提供者，没有重现你说的这个问题。","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762903393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762914506","html_url":"https://github.com/apache/dubbo/issues/7074#issuecomment-762914506","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7074","id":762914506,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MjkxNDUwNg==","user":{"login":"xiaoheng1","id":12539730,"node_id":"MDQ6VXNlcjEyNTM5NzMw","avatar_url":"https://avatars.githubusercontent.com/u/12539730?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoheng1","html_url":"https://github.com/xiaoheng1","followers_url":"https://api.github.com/users/xiaoheng1/followers","following_url":"https://api.github.com/users/xiaoheng1/following{/other_user}","gists_url":"https://api.github.com/users/xiaoheng1/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoheng1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoheng1/subscriptions","organizations_url":"https://api.github.com/users/xiaoheng1/orgs","repos_url":"https://api.github.com/users/xiaoheng1/repos","events_url":"https://api.github.com/users/xiaoheng1/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoheng1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-19T15:24:51Z","updated_at":"2021-01-19T15:24:51Z","author_association":"CONTRIBUTOR","body":"能提供一些日志不？","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/762914506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/763297127","html_url":"https://github.com/apache/dubbo/issues/7113#issuecomment-763297127","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7113","id":763297127,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzI5NzEyNw==","user":{"login":"d-shuangjie","id":8670578,"node_id":"MDQ6VXNlcjg2NzA1Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/8670578?v=4","gravatar_id":"","url":"https://api.github.com/users/d-shuangjie","html_url":"https://github.com/d-shuangjie","followers_url":"https://api.github.com/users/d-shuangjie/followers","following_url":"https://api.github.com/users/d-shuangjie/following{/other_user}","gists_url":"https://api.github.com/users/d-shuangjie/gists{/gist_id}","starred_url":"https://api.github.com/users/d-shuangjie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d-shuangjie/subscriptions","organizations_url":"https://api.github.com/users/d-shuangjie/orgs","repos_url":"https://api.github.com/users/d-shuangjie/repos","events_url":"https://api.github.com/users/d-shuangjie/events{/privacy}","received_events_url":"https://api.github.com/users/d-shuangjie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T03:05:43Z","updated_at":"2021-01-20T03:05:43Z","author_association":"NONE","body":"...","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/763297127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/763364525","html_url":"https://github.com/apache/dubbo/issues/7111#issuecomment-763364525","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7111","id":763364525,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzM2NDUyNQ==","user":{"login":"github-ganyu","id":25056767,"node_id":"MDQ6VXNlcjI1MDU2NzY3","avatar_url":"https://avatars.githubusercontent.com/u/25056767?v=4","gravatar_id":"","url":"https://api.github.com/users/github-ganyu","html_url":"https://github.com/github-ganyu","followers_url":"https://api.github.com/users/github-ganyu/followers","following_url":"https://api.github.com/users/github-ganyu/following{/other_user}","gists_url":"https://api.github.com/users/github-ganyu/gists{/gist_id}","starred_url":"https://api.github.com/users/github-ganyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-ganyu/subscriptions","organizations_url":"https://api.github.com/users/github-ganyu/orgs","repos_url":"https://api.github.com/users/github-ganyu/repos","events_url":"https://api.github.com/users/github-ganyu/events{/privacy}","received_events_url":"https://api.github.com/users/github-ganyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T06:16:27Z","updated_at":"2021-01-20T06:16:27Z","author_association":"NONE","body":"I think you can use apache dubbo to try.","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/763364525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/763387886","html_url":"https://github.com/apache/dubbo/issues/7115#issuecomment-763387886","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7115","id":763387886,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzM4Nzg4Ng==","user":{"login":"robinZhao","id":4110466,"node_id":"MDQ6VXNlcjQxMTA0NjY=","avatar_url":"https://avatars.githubusercontent.com/u/4110466?v=4","gravatar_id":"","url":"https://api.github.com/users/robinZhao","html_url":"https://github.com/robinZhao","followers_url":"https://api.github.com/users/robinZhao/followers","following_url":"https://api.github.com/users/robinZhao/following{/other_user}","gists_url":"https://api.github.com/users/robinZhao/gists{/gist_id}","starred_url":"https://api.github.com/users/robinZhao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robinZhao/subscriptions","organizations_url":"https://api.github.com/users/robinZhao/orgs","repos_url":"https://api.github.com/users/robinZhao/repos","events_url":"https://api.github.com/users/robinZhao/events{/privacy}","received_events_url":"https://api.github.com/users/robinZhao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T07:06:54Z","updated_at":"2021-01-20T07:21:51Z","author_association":"NONE","body":"update nacos-spring-context to 1.0.0 because nacos-spring-context0.3.6 can't read yaml in nacos when using nacos-client1.3.2,\r\nnacos-spring-context 1.0.0 dependency spring-context-support 1.0.11 \r\nin spring-context-support 1.0.11  \r\nAbstractAnnotationBeanPostProcessor read annotation property interfaceClass=void as interfaceClass=\"void\" \r\n\r\ncode in AbstractAnnotationBeanPostProcessor \r\n```java\r\n    /**\r\n     * whether to turn Class references into Strings (for\r\n     * compatibility with {@link org.springframework.core.type.AnnotationMetadata} or to\r\n     * preserve them as Class references\r\n     *\r\n     * @since 1.0.11\r\n     */\r\n    private boolean classValuesAsString = true;\r\n......\r\n    protected AnnotationAttributes doGetAnnotationAttributes(AnnotatedElement annotatedElement,\r\n                                                             Class<? extends Annotation> annotationType) {\r\n        return getAnnotationAttributes(annotatedElement, annotationType, getEnvironment(),\r\n                classValuesAsString, nestedAnnotationsAsMap, ignoreDefaultValue, tryMergedAnnotation);\r\n    }\r\n```\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/763387886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/763510598","html_url":"https://github.com/apache/dubbo/pull/7114#issuecomment-763510598","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7114","id":763510598,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzUxMDU5OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T10:38:15Z","updated_at":"2021-01-20T10:40:59Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/dubbo/pull/7114?src=pr&el=h1) Report\n> Merging [#7114](https://codecov.io/gh/apache/dubbo/pull/7114?src=pr&el=desc) (b61fa6c) into [master](https://codecov.io/gh/apache/dubbo/commit/70b6fb357c2a4a5aa0f593af588e9e4abd2ec05e?el=desc) (70b6fb3) will **increase** coverage by `0.84%`.\n> The diff coverage is `33.33%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/dubbo/pull/7114/graphs/tree.svg?width=650&height=150&src=pr&token=VnEIkiFQT0)](https://codecov.io/gh/apache/dubbo/pull/7114?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #7114      +/-   ##\n============================================\n+ Coverage     59.22%   60.06%   +0.84%     \n+ Complexity      508      507       -1     \n============================================\n  Files          1028     1027       -1     \n  Lines         41525    41533       +8     \n  Branches       6038     6039       +1     \n============================================\n+ Hits          24593    24948     +355     \n+ Misses        14169    13817     -352     \n- Partials       2763     2768       +5     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/dubbo/pull/7114?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...mon/src/main/java/org/apache/dubbo/common/URL.java](https://codecov.io/gh/apache/dubbo/pull/7114/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vVVJMLmphdmE=) | `48.90% <33.33%> (+0.05%)` | `0.00 <0.00> (ø)` | |\n| [...mmon/threadpool/support/AbortPolicyWithReport.java](https://codecov.io/gh/apache/dubbo/pull/7114/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdGhyZWFkcG9vbC9zdXBwb3J0L0Fib3J0UG9saWN5V2l0aFJlcG9ydC5qYXZh) | `85.00% <0.00%> (-5.00%)` | `0.00% <0.00%> (ø%)` | |\n| [...pache/dubbo/remoting/transport/AbstractServer.java](https://codecov.io/gh/apache/dubbo/pull/7114/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy90cmFuc3BvcnQvQWJzdHJhY3RTZXJ2ZXIuamF2YQ==) | `53.75% <0.00%> (-3.75%)` | `0.00% <0.00%> (ø%)` | |\n| [...e/dubbo/remoting/transport/netty/NettyChannel.java](https://codecov.io/gh/apache/dubbo/pull/7114/diff?src=pr&el=tree#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctbmV0dHkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JlbW90aW5nL3RyYW5zcG9ydC9uZXR0eS9OZXR0eUNoYW5uZWwuamF2YQ==) | `52.27% <0.00%> (-3.41%)` | `19.00% <0.00%> (-1.00%)` | |\n| [...pache/dubbo/registry/support/AbstractRegistry.java](https://codecov.io/gh/apache/dubbo/pull/7114/diff?src=pr&el=tree#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS9zdXBwb3J0L0Fic3RyYWN0UmVnaXN0cnkuamF2YQ==) | `78.14% <0.00%> (-2.60%)` | `0.00% <0.00%> (ø%)` | |\n| [...a/org/apache/dubbo/monitor/dubbo/DubboMonitor.java](https://codecov.io/gh/apache/dubbo/pull/7114/diff?src=pr&el=tree#diff-ZHViYm8tbW9uaXRvci9kdWJiby1tb25pdG9yLWRlZmF1bHQvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL21vbml0b3IvZHViYm8vRHViYm9Nb25pdG9yLmphdmE=) | `88.57% <0.00%> (-0.96%)` | `16.00% <0.00%> (-1.00%)` | |\n| [...figcenter/file/FileSystemDynamicConfiguration.java](https://codecov.io/gh/apache/dubbo/pull/7114/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vY29uZmlnL2NvbmZpZ2NlbnRlci9maWxlL0ZpbGVTeXN0ZW1EeW5hbWljQ29uZmlndXJhdGlvbi5qYXZh) | `62.38% <0.00%> (-0.48%)` | `0.00% <0.00%> (ø%)` | |\n| [...n/java/org/apache/dubbo/common/utils/NetUtils.java](https://codecov.io/gh/apache/dubbo/pull/7114/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdXRpbHMvTmV0VXRpbHMuamF2YQ==) | `66.21% <0.00%> (-0.35%)` | `0.00% <0.00%> (ø%)` | |\n| [...ava/org/apache/dubbo/common/utils/MemberUtils.java](https://codecov.io/gh/apache/dubbo/pull/7114/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdXRpbHMvTWVtYmVyVXRpbHMuamF2YQ==) | `0.00% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| [...apache/dubbo/common/extension/ExtensionLoader.java](https://codecov.io/gh/apache/dubbo/pull/7114/diff?src=pr&el=tree#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vZXh0ZW5zaW9uL0V4dGVuc2lvbkxvYWRlci5qYXZh) | `75.56% <0.00%> (ø)` | `0.00% <0.00%> (ø%)` | |\n| ... and [25 more](https://codecov.io/gh/apache/dubbo/pull/7114/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/dubbo/pull/7114?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/dubbo/pull/7114?src=pr&el=footer). Last update [70b6fb3...b61fa6c](https://codecov.io/gh/apache/dubbo/pull/7114?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/763510598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/763526993","html_url":"https://github.com/apache/dubbo/issues/7111#issuecomment-763526993","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7111","id":763526993,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzUyNjk5Mw==","user":{"login":"hahapigs","id":29922837,"node_id":"MDQ6VXNlcjI5OTIyODM3","avatar_url":"https://avatars.githubusercontent.com/u/29922837?v=4","gravatar_id":"","url":"https://api.github.com/users/hahapigs","html_url":"https://github.com/hahapigs","followers_url":"https://api.github.com/users/hahapigs/followers","following_url":"https://api.github.com/users/hahapigs/following{/other_user}","gists_url":"https://api.github.com/users/hahapigs/gists{/gist_id}","starred_url":"https://api.github.com/users/hahapigs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hahapigs/subscriptions","organizations_url":"https://api.github.com/users/hahapigs/orgs","repos_url":"https://api.github.com/users/hahapigs/repos","events_url":"https://api.github.com/users/hahapigs/events{/privacy}","received_events_url":"https://api.github.com/users/hahapigs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T11:06:08Z","updated_at":"2021-01-20T11:06:39Z","author_association":"NONE","body":"> I think you can use apache dubbo to try.\n\napache dubbo 也存在此问题，应该是 nacos的包版本太高， dubbo包的版本太低造成的，如果把nacos的版本降低到 2.6.7 以下，【0.0.1，2.67】\n可以正常启动","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/763526993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/763557942","html_url":"https://github.com/apache/dubbo/issues/7117#issuecomment-763557942","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7117","id":763557942,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzU1Nzk0Mg==","user":{"login":"gfgfggf1988","id":16377180,"node_id":"MDQ6VXNlcjE2Mzc3MTgw","avatar_url":"https://avatars.githubusercontent.com/u/16377180?v=4","gravatar_id":"","url":"https://api.github.com/users/gfgfggf1988","html_url":"https://github.com/gfgfggf1988","followers_url":"https://api.github.com/users/gfgfggf1988/followers","following_url":"https://api.github.com/users/gfgfggf1988/following{/other_user}","gists_url":"https://api.github.com/users/gfgfggf1988/gists{/gist_id}","starred_url":"https://api.github.com/users/gfgfggf1988/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gfgfggf1988/subscriptions","organizations_url":"https://api.github.com/users/gfgfggf1988/orgs","repos_url":"https://api.github.com/users/gfgfggf1988/repos","events_url":"https://api.github.com/users/gfgfggf1988/events{/privacy}","received_events_url":"https://api.github.com/users/gfgfggf1988/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T12:02:57Z","updated_at":"2021-01-20T12:02:57Z","author_association":"NONE","body":"异常信息 \r\njava.lang.IllegalStateException: No registry config found or it's not a valid config! The registry config is: <dubbo:registry />\r\n\tat org.apache.dubbo.config.AbstractInterfaceConfig.checkRegistry(AbstractInterfaceConfig.java:185) ~[dubbo-2.7.8.jar:2.7.8]\r\n\tat org.apache.dubbo.config.ServiceConfig.checkAndUpdateSubConfigs(ServiceConfig.java:229) ~[dubbo-2.7.8.jar:2.7.8]\r\n\tat org.apache.dubbo.config.ServiceConfig.export(ServiceConfig.java:193) ~[dubbo-2.7.8.jar:2.7.8]\r\n\tat org.apache.dubbo.config.bootstrap.DubboBootstrap.lambda$exportServices$15(DubboBootstrap.java:1103) ~[dubbo-2.7.8.jar:2.7.8]\r\n\tat java.util.HashMap$Values.forEach(HashMap.java:981) ~[na:1.8.0_271]\r\n\tat org.apache.dubbo.config.bootstrap.DubboBootstrap.exportServices(DubboBootstrap.java:1090) ~[dubbo-2.7.8.jar:2.7.8]\r\n\tat org.apache.dubbo.config.bootstrap.DubboBootstrap.start(DubboBootstrap.java:901) ~[dubbo-2.7.8.jar:2.7.8]\r\n\tat org.apache.dubbo.config.spring.context.DubboBootstrapApplicationListener.onContextRefreshedEvent(DubboBootstrapApplicationListener.java:59) ~[dubbo-2.7.8.jar:2.7.8]\r\n\tat org.apache.dubbo.config.spring.context.DubboBootstrapApplicationListener.onApplicationContextEvent(DubboBootstrapApplicationListener.java:52) ~[dubbo-2.7.8.jar:2.7.8]\r\n\tat org.apache.dubbo.config.spring.context.OneTimeExecutionApplicationContextEventListener.onApplicationEvent(OneTimeExecutionApplicationContextEventListener.java:40) ~[dubbo-2.7.8.jar:2.7.8]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:404) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:361) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:898) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:554) ~[spring-context-5.2.7.RELEASE.jar:5.2.7.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n\tat com.example.demo.Demo4Application.main(Demo4Application.java:13) [classes/:na]","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/763557942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/763558742","html_url":"https://github.com/apache/dubbo/issues/7117#issuecomment-763558742","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7117","id":763558742,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MzU1ODc0Mg==","user":{"login":"gfgfggf1988","id":16377180,"node_id":"MDQ6VXNlcjE2Mzc3MTgw","avatar_url":"https://avatars.githubusercontent.com/u/16377180?v=4","gravatar_id":"","url":"https://api.github.com/users/gfgfggf1988","html_url":"https://github.com/gfgfggf1988","followers_url":"https://api.github.com/users/gfgfggf1988/followers","following_url":"https://api.github.com/users/gfgfggf1988/following{/other_user}","gists_url":"https://api.github.com/users/gfgfggf1988/gists{/gist_id}","starred_url":"https://api.github.com/users/gfgfggf1988/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gfgfggf1988/subscriptions","organizations_url":"https://api.github.com/users/gfgfggf1988/orgs","repos_url":"https://api.github.com/users/gfgfggf1988/repos","events_url":"https://api.github.com/users/gfgfggf1988/events{/privacy}","received_events_url":"https://api.github.com/users/gfgfggf1988/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T12:04:19Z","updated_at":"2021-01-20T12:04:19Z","author_association":"NONE","body":"定位怀疑的代码位置：**AbstractConfig**类\r\n\r\n  /**\r\n     * Add {@link AbstractConfig instance} into {@link ConfigManager}\r\n     * <p>\r\n     * Current method will invoked by Spring or Java EE container automatically, or should be triggered manually.\r\n     *\r\n     * @see ConfigManager#addConfig(AbstractConfig)\r\n     * @since 2.7.5\r\n     */\r\n    @PostConstruct\r\n    public void addIntoConfigManager() {\r\n        ApplicationModel.getConfigManager().addConfig(this);\r\n    }","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/763558742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/764501597","html_url":"https://github.com/apache/dubbo/issues/7117#issuecomment-764501597","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7117","id":764501597,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NDUwMTU5Nw==","user":{"login":"kevinw66","id":31196226,"node_id":"MDQ6VXNlcjMxMTk2MjI2","avatar_url":"https://avatars.githubusercontent.com/u/31196226?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinw66","html_url":"https://github.com/kevinw66","followers_url":"https://api.github.com/users/kevinw66/followers","following_url":"https://api.github.com/users/kevinw66/following{/other_user}","gists_url":"https://api.github.com/users/kevinw66/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinw66/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinw66/subscriptions","organizations_url":"https://api.github.com/users/kevinw66/orgs","repos_url":"https://api.github.com/users/kevinw66/repos","events_url":"https://api.github.com/users/kevinw66/events{/privacy}","received_events_url":"https://api.github.com/users/kevinw66/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-21T09:26:40Z","updated_at":"2021-01-21T09:26:40Z","author_association":"CONTRIBUTOR","body":"能否麻烦发一个可以复现的工程上来呢","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/764501597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/764520765","html_url":"https://github.com/apache/dubbo/issues/7117#issuecomment-764520765","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7117","id":764520765,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NDUyMDc2NQ==","user":{"login":"gfgfggf1988","id":16377180,"node_id":"MDQ6VXNlcjE2Mzc3MTgw","avatar_url":"https://avatars.githubusercontent.com/u/16377180?v=4","gravatar_id":"","url":"https://api.github.com/users/gfgfggf1988","html_url":"https://github.com/gfgfggf1988","followers_url":"https://api.github.com/users/gfgfggf1988/followers","following_url":"https://api.github.com/users/gfgfggf1988/following{/other_user}","gists_url":"https://api.github.com/users/gfgfggf1988/gists{/gist_id}","starred_url":"https://api.github.com/users/gfgfggf1988/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gfgfggf1988/subscriptions","organizations_url":"https://api.github.com/users/gfgfggf1988/orgs","repos_url":"https://api.github.com/users/gfgfggf1988/repos","events_url":"https://api.github.com/users/gfgfggf1988/events{/privacy}","received_events_url":"https://api.github.com/users/gfgfggf1988/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-21T09:59:56Z","updated_at":"2021-01-21T09:59:56Z","author_association":"NONE","body":"> 能否麻烦发一个可以复现的工程上来呢\r\n\r\n[demo4.zip](https://github.com/apache/dubbo/files/5848420/demo4.zip)\r\n需要修改yixi一下nacos的地址和zipkin地址","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/764520765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/764547841","html_url":"https://github.com/apache/dubbo/issues/6866#issuecomment-764547841","issue_url":"https://api.github.com/repos/apache/dubbo/issues/6866","id":764547841,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NDU0Nzg0MQ==","user":{"login":"xishian","id":13712743,"node_id":"MDQ6VXNlcjEzNzEyNzQz","avatar_url":"https://avatars.githubusercontent.com/u/13712743?v=4","gravatar_id":"","url":"https://api.github.com/users/xishian","html_url":"https://github.com/xishian","followers_url":"https://api.github.com/users/xishian/followers","following_url":"https://api.github.com/users/xishian/following{/other_user}","gists_url":"https://api.github.com/users/xishian/gists{/gist_id}","starred_url":"https://api.github.com/users/xishian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xishian/subscriptions","organizations_url":"https://api.github.com/users/xishian/orgs","repos_url":"https://api.github.com/users/xishian/repos","events_url":"https://api.github.com/users/xishian/events{/privacy}","received_events_url":"https://api.github.com/users/xishian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-21T10:46:39Z","updated_at":"2021-01-21T10:46:39Z","author_association":"NONE","body":"dubbo 2.7.7, org.apache.dubbo.remoting.exchange.support.DefaultFuture中有一个静态对象FUTURES（ConcurrentHashMap），consumer发起请求后会创建一个DefaultFuture的实例放到这个Map中，然后请求完成后会从FUTURES中删除这个实例（通过receive或者cancel方法）\r\n\r\n我的程序（Consumer）中出现了一种情况，DefaultFuture实例并没有被成功删除，导致了内存泄漏\r\n\r\n我的场景：Provider处理能力非常有限，Consumer端会出现大量超时，以及服务端线程池满等问题，另外发起dubbo请求的线程可能被中断","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/764547841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/764549748","html_url":"https://github.com/apache/dubbo/issues/6866#issuecomment-764549748","issue_url":"https://api.github.com/repos/apache/dubbo/issues/6866","id":764549748,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NDU0OTc0OA==","user":{"login":"xishian","id":13712743,"node_id":"MDQ6VXNlcjEzNzEyNzQz","avatar_url":"https://avatars.githubusercontent.com/u/13712743?v=4","gravatar_id":"","url":"https://api.github.com/users/xishian","html_url":"https://github.com/xishian","followers_url":"https://api.github.com/users/xishian/followers","following_url":"https://api.github.com/users/xishian/following{/other_user}","gists_url":"https://api.github.com/users/xishian/gists{/gist_id}","starred_url":"https://api.github.com/users/xishian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xishian/subscriptions","organizations_url":"https://api.github.com/users/xishian/orgs","repos_url":"https://api.github.com/users/xishian/repos","events_url":"https://api.github.com/users/xishian/events{/privacy}","received_events_url":"https://api.github.com/users/xishian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-21T10:50:13Z","updated_at":"2021-01-21T10:50:13Z","author_association":"NONE","body":"我想知道DefaultFuture没有被成功删除的原因，以及有没有办法在请求完成后手动清除该次请求的上下文（比如通过RpcContext?）\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/764549748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/764554432","html_url":"https://github.com/apache/dubbo/issues/7100#issuecomment-764554432","issue_url":"https://api.github.com/repos/apache/dubbo/issues/7100","id":764554432,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NDU1NDQzMg==","user":{"login":"xishian","id":13712743,"node_id":"MDQ6VXNlcjEzNzEyNzQz","avatar_url":"https://avatars.githubusercontent.com/u/13712743?v=4","gravatar_id":"","url":"https://api.github.com/users/xishian","html_url":"https://github.com/xishian","followers_url":"https://api.github.com/users/xishian/followers","following_url":"https://api.github.com/users/xishian/following{/other_user}","gists_url":"https://api.github.com/users/xishian/gists{/gist_id}","starred_url":"https://api.github.com/users/xishian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xishian/subscriptions","organizations_url":"https://api.github.com/users/xishian/orgs","repos_url":"https://api.github.com/users/xishian/repos","events_url":"https://api.github.com/users/xishian/events{/privacy}","received_events_url":"https://api.github.com/users/xishian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-21T10:58:52Z","updated_at":"2021-01-21T10:58:52Z","author_association":"NONE","body":"我也遇到这个问题了，DefaultFuture实例没有成功删除，一直停留在FUTURES中，有什么办法手动清除吗？DefaultFuture间接引用了RpcInvocation，这里面包含了请求参数(DefautFuture -> Request -> mData(RpcInvocation) -> arguments)，我想至少手动清除掉参数","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/764554432/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]