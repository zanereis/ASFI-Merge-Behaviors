[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1022962719","html_url":"https://github.com/apache/iceberg/pull/3990#issuecomment-1022962719","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3990","id":1022962719,"node_id":"IC_kwDOCW7NX848-Swf","user":{"login":"coolderli","id":38486782,"node_id":"MDQ6VXNlcjM4NDg2Nzgy","avatar_url":"https://avatars.githubusercontent.com/u/38486782?v=4","gravatar_id":"","url":"https://api.github.com/users/coolderli","html_url":"https://github.com/coolderli","followers_url":"https://api.github.com/users/coolderli/followers","following_url":"https://api.github.com/users/coolderli/following{/other_user}","gists_url":"https://api.github.com/users/coolderli/gists{/gist_id}","starred_url":"https://api.github.com/users/coolderli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coolderli/subscriptions","organizations_url":"https://api.github.com/users/coolderli/orgs","repos_url":"https://api.github.com/users/coolderli/repos","events_url":"https://api.github.com/users/coolderli/events{/privacy}","received_events_url":"https://api.github.com/users/coolderli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-27T08:27:28Z","updated_at":"2022-01-27T08:27:28Z","author_association":"CONTRIBUTOR","body":"@rdblue Could you please review thisï¼ŸAre there any other better solutionsï¼Ÿ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1022962719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023020791","html_url":"https://github.com/apache/iceberg/pull/3095#issuecomment-1023020791","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3095","id":1023020791,"node_id":"IC_kwDOCW7NX848-g73","user":{"login":"kingeasternsun","id":5291739,"node_id":"MDQ6VXNlcjUyOTE3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/5291739?v=4","gravatar_id":"","url":"https://api.github.com/users/kingeasternsun","html_url":"https://github.com/kingeasternsun","followers_url":"https://api.github.com/users/kingeasternsun/followers","following_url":"https://api.github.com/users/kingeasternsun/following{/other_user}","gists_url":"https://api.github.com/users/kingeasternsun/gists{/gist_id}","starred_url":"https://api.github.com/users/kingeasternsun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kingeasternsun/subscriptions","organizations_url":"https://api.github.com/users/kingeasternsun/orgs","repos_url":"https://api.github.com/users/kingeasternsun/repos","events_url":"https://api.github.com/users/kingeasternsun/events{/privacy}","received_events_url":"https://api.github.com/users/kingeasternsun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-27T09:40:47Z","updated_at":"2022-01-27T09:40:47Z","author_association":"CONTRIBUTOR","body":"> I merged this PR and did some testing. i used flink cdc to consume binlog and wrote to iceberg table, then run some flink sql query(streaming) and compared with mysql original query , then the results were not matched.\r\n> \r\n> After some debug I found 2 issues.\r\n> \r\n> 1. flink writing cdc data to iceberg will ignore UPDATE_BEFORE and treat UPDATE_AFTER as retract message,  it's completely not correct. The relevant codes are as follows:\r\n> \r\n> `\r\n> \r\n> ```\r\n> //org.apache.iceberg.flink.sink.BaseDeltaTaskWriter\r\n>  switch (row.getRowKind()) {\r\n>   case INSERT:\r\n>   case UPDATE_AFTER:\r\n>     if (upsert) {\r\n>       writer.delete(row);\r\n>     }\r\n>     writer.write(row);\r\n>     break;\r\n> \r\n>   case UPDATE_BEFORE:\r\n>     if (upsert) {\r\n>       break;  // UPDATE_BEFORE is not necessary for UPDATE, we do nothing to prevent delete one row twice\r\n>     }\r\n>     writer.delete(row);\r\n>     break;\r\n>   case DELETE:\r\n>     writer.delete(row);\r\n>     break;\r\n> \r\n>   default:\r\n>     throw new UnsupportedOperationException(\"Unknown row kind: \" + row.getRowKind());\r\n> }\r\n> ```\r\n> \r\n> `\r\n> \r\n> 2. when there is only delete operation during the period of one snapshotï¼Œthe snapshot of iceberg will contains only equality delete files  and no data file(data file is deleted),  flink will ignore equality delete files and miss all  -D .   function org.apache.iceberg.ManifestGroup.planStreamingFiles()   create FileScanTask  only when data file exists, so flink can not process equality delete files.\r\n> \r\n> After fixed above 2 issues the test is passed.\r\n\r\n\r\n\r\n> BaseDeltaTaskWriter\r\n\r\nI think this code will be more clear if written like this\r\n```java\r\n  public void write(RowData row) throws IOException {\r\n    RowDataDeltaWriter writer = route(row);\r\n\r\n    switch (row.getRowKind()) {\r\n      case INSERT:\r\n        if (upsert) {\r\n          writer.delete(row);\r\n        }\r\n        writer.write(row);\r\n        break;\r\n      case UPDATE_AFTER:\r\n        writer.write(row);\r\n        break;\r\n      case UPDATE_BEFORE:\r\n      case DELETE:\r\n        writer.delete(row);\r\n        break;\r\n\r\n      default:\r\n        throw new UnsupportedOperationException(\"Unknown row kind: \" + row.getRowKind());\r\n    }\r\n  }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023020791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023419414","html_url":"https://github.com/apache/iceberg/pull/3986#issuecomment-1023419414","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3986","id":1023419414,"node_id":"IC_kwDOCW7NX849ACQW","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-27T16:37:55Z","updated_at":"2022-01-27T16:37:55Z","author_association":"CONTRIBUTOR","body":"@coolderli This PR is almost ready. I left a nit comment.\r\n\r\nAlso we probably should update the PR description. The essence of the collision problem is that we may have multiple committers for multiple sink tables, no matter it is the same TM or different TMs.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023419414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023493891","html_url":"https://github.com/apache/iceberg/issues/3994#issuecomment-1023493891","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3994","id":1023493891,"node_id":"IC_kwDOCW7NX849AUcD","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-27T17:56:11Z","updated_at":"2022-01-27T17:56:11Z","author_association":"CONTRIBUTOR","body":"we actually have a similar use case that EMR clusters would benefit from some cluster level configs that could be applied to all CREATE TABLE operations, and itâ€™s not hard to achieve.\r\n\r\nI would imagine that a Spark cluster admin could do something like the following (I use CLI example, but this could be in the Spark default config file):\r\n\r\n```\r\nspark-sql \\\r\n    --conf spark.sql.catalog.glue=org.apache.iceberg.spark.SparkCatalog \\\r\n    --conf spark.sql.catalog.glue.warehouse=s3://bucket/glue \\\r\n    --conf spark.sql.catalog.glue.catalog-impl=org.apache.iceberg.aws.glue.GlueCatalog \\\r\n    --conf spark.sql.catalog.glue.table.create.default.write.parquet.compression-codec=zstd\r\n    --conf spark.sql.catalog.glue.table.create.default.write.parquet.dict-size-bytes=4194304\r\n```\r\n\r\nAnd everything under `table.create.default` are initialized in the catalog implementation to be used as the default when a table is created. If user provides the same property, user can win.\r\n\r\nAnother property we can introduce is `table.create.required`, in that case if user provides the same property, it has no effect and system default wins.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023493891/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023526290","html_url":"https://github.com/apache/iceberg/pull/3912#issuecomment-1023526290","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3912","id":1023526290,"node_id":"IC_kwDOCW7NX849AcWS","user":{"login":"humengyu2012","id":45056332,"node_id":"MDQ6VXNlcjQ1MDU2MzMy","avatar_url":"https://avatars.githubusercontent.com/u/45056332?v=4","gravatar_id":"","url":"https://api.github.com/users/humengyu2012","html_url":"https://github.com/humengyu2012","followers_url":"https://api.github.com/users/humengyu2012/followers","following_url":"https://api.github.com/users/humengyu2012/following{/other_user}","gists_url":"https://api.github.com/users/humengyu2012/gists{/gist_id}","starred_url":"https://api.github.com/users/humengyu2012/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/humengyu2012/subscriptions","organizations_url":"https://api.github.com/users/humengyu2012/orgs","repos_url":"https://api.github.com/users/humengyu2012/repos","events_url":"https://api.github.com/users/humengyu2012/events{/privacy}","received_events_url":"https://api.github.com/users/humengyu2012/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-27T18:35:34Z","updated_at":"2022-01-27T18:35:34Z","author_association":"NONE","body":"The javadoc has been fixed. Thanks for your review.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023526290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023540702","html_url":"https://github.com/apache/iceberg/issues/3994#issuecomment-1023540702","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3994","id":1023540702,"node_id":"IC_kwDOCW7NX849Af3e","user":{"login":"anuragmantri","id":13743212,"node_id":"MDQ6VXNlcjEzNzQzMjEy","avatar_url":"https://avatars.githubusercontent.com/u/13743212?v=4","gravatar_id":"","url":"https://api.github.com/users/anuragmantri","html_url":"https://github.com/anuragmantri","followers_url":"https://api.github.com/users/anuragmantri/followers","following_url":"https://api.github.com/users/anuragmantri/following{/other_user}","gists_url":"https://api.github.com/users/anuragmantri/gists{/gist_id}","starred_url":"https://api.github.com/users/anuragmantri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuragmantri/subscriptions","organizations_url":"https://api.github.com/users/anuragmantri/orgs","repos_url":"https://api.github.com/users/anuragmantri/repos","events_url":"https://api.github.com/users/anuragmantri/events{/privacy}","received_events_url":"https://api.github.com/users/anuragmantri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-27T18:54:27Z","updated_at":"2022-01-27T18:54:27Z","author_association":"CONTRIBUTOR","body":"+1 to this request. We also have some properties that we want to set as admins like `write.object-storage.enabled` that we don't want users to set or worry about. As @jackye1995 mentioned we could have three levels\r\n- default - users can override\r\n- required - users cannot override\r\n- Another category for anything that can be added to defaults. (In spark we do that for properties like `spark.executor.extraJavaOptions` etc. Not sure if Iceberg has such properties). \r\n\r\nI can take a look at how this can be done. Any suggestions welcome.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023540702/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023556640","html_url":"https://github.com/apache/iceberg/pull/3996#issuecomment-1023556640","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3996","id":1023556640,"node_id":"IC_kwDOCW7NX849Ajwg","user":{"login":"SinghAsDev","id":4915557,"node_id":"MDQ6VXNlcjQ5MTU1NTc=","avatar_url":"https://avatars.githubusercontent.com/u/4915557?v=4","gravatar_id":"","url":"https://api.github.com/users/SinghAsDev","html_url":"https://github.com/SinghAsDev","followers_url":"https://api.github.com/users/SinghAsDev/followers","following_url":"https://api.github.com/users/SinghAsDev/following{/other_user}","gists_url":"https://api.github.com/users/SinghAsDev/gists{/gist_id}","starred_url":"https://api.github.com/users/SinghAsDev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SinghAsDev/subscriptions","organizations_url":"https://api.github.com/users/SinghAsDev/orgs","repos_url":"https://api.github.com/users/SinghAsDev/repos","events_url":"https://api.github.com/users/SinghAsDev/events{/privacy}","received_events_url":"https://api.github.com/users/SinghAsDev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-27T19:15:01Z","updated_at":"2022-01-27T19:15:01Z","author_association":"CONTRIBUTOR","body":"@danielcweeks @jackye1995 could you help review this small diff. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023556640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023559327","html_url":"https://github.com/apache/iceberg/issues/3994#issuecomment-1023559327","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3994","id":1023559327,"node_id":"IC_kwDOCW7NX849Akaf","user":{"login":"SinghAsDev","id":4915557,"node_id":"MDQ6VXNlcjQ5MTU1NTc=","avatar_url":"https://avatars.githubusercontent.com/u/4915557?v=4","gravatar_id":"","url":"https://api.github.com/users/SinghAsDev","html_url":"https://github.com/SinghAsDev","followers_url":"https://api.github.com/users/SinghAsDev/followers","following_url":"https://api.github.com/users/SinghAsDev/following{/other_user}","gists_url":"https://api.github.com/users/SinghAsDev/gists{/gist_id}","starred_url":"https://api.github.com/users/SinghAsDev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SinghAsDev/subscriptions","organizations_url":"https://api.github.com/users/SinghAsDev/orgs","repos_url":"https://api.github.com/users/SinghAsDev/repos","events_url":"https://api.github.com/users/SinghAsDev/events{/privacy}","received_events_url":"https://api.github.com/users/SinghAsDev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-27T19:18:32Z","updated_at":"2022-01-27T19:18:32Z","author_association":"CONTRIBUTOR","body":"Great, I agree with `default` and `required` configs. We are working on a PR on this, will tag you both on reviews.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023559327/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023561013","html_url":"https://github.com/apache/iceberg/issues/3994#issuecomment-1023561013","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3994","id":1023561013,"node_id":"IC_kwDOCW7NX849Ak01","user":{"login":"anuragmantri","id":13743212,"node_id":"MDQ6VXNlcjEzNzQzMjEy","avatar_url":"https://avatars.githubusercontent.com/u/13743212?v=4","gravatar_id":"","url":"https://api.github.com/users/anuragmantri","html_url":"https://github.com/anuragmantri","followers_url":"https://api.github.com/users/anuragmantri/followers","following_url":"https://api.github.com/users/anuragmantri/following{/other_user}","gists_url":"https://api.github.com/users/anuragmantri/gists{/gist_id}","starred_url":"https://api.github.com/users/anuragmantri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anuragmantri/subscriptions","organizations_url":"https://api.github.com/users/anuragmantri/orgs","repos_url":"https://api.github.com/users/anuragmantri/repos","events_url":"https://api.github.com/users/anuragmantri/events{/privacy}","received_events_url":"https://api.github.com/users/anuragmantri/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-27T19:20:59Z","updated_at":"2022-01-27T19:20:59Z","author_association":"CONTRIBUTOR","body":"Great. Thanks for working on this @SinghAsDev.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023561013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023618913","html_url":"https://github.com/apache/iceberg/issues/3995#issuecomment-1023618913","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3995","id":1023618913,"node_id":"IC_kwDOCW7NX849Ay9h","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-27T20:38:01Z","updated_at":"2022-01-27T20:38:01Z","author_association":"CONTRIBUTOR","body":"It should work by checking the code. Did you test it out? For example, data file is parquet, delete file is avro.\r\nHere is the delete read path, which is different from data file read path. https://github.com/apache/iceberg/blob/7fd7ccbcc5493b98aba3d5a26117e87d299bdbcf/data/src/main/java/org/apache/iceberg/data/DeleteFilter.java#L241\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023618913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023630724","html_url":"https://github.com/apache/iceberg/pull/3992#issuecomment-1023630724","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3992","id":1023630724,"node_id":"IC_kwDOCW7NX849A12E","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-27T20:55:25Z","updated_at":"2022-01-27T20:55:25Z","author_association":"MEMBER","body":"Could you explain at a high level what the bug is and how it is fixed here? It looks like we are just subbing in a join node that can't be replaced by normal optimization pathways?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023630724/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023652086","html_url":"https://github.com/apache/iceberg/pull/3992#issuecomment-1023652086","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3992","id":1023652086,"node_id":"IC_kwDOCW7NX849A7D2","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-27T21:24:39Z","updated_at":"2022-01-27T21:24:39Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer, added some description. Added tests used to fail before too.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023652086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023664937","html_url":"https://github.com/apache/iceberg/issues/2435#issuecomment-1023664937","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2435","id":1023664937,"node_id":"IC_kwDOCW7NX849A-Mp","user":{"login":"dramaticlly","id":5961173,"node_id":"MDQ6VXNlcjU5NjExNzM=","avatar_url":"https://avatars.githubusercontent.com/u/5961173?v=4","gravatar_id":"","url":"https://api.github.com/users/dramaticlly","html_url":"https://github.com/dramaticlly","followers_url":"https://api.github.com/users/dramaticlly/followers","following_url":"https://api.github.com/users/dramaticlly/following{/other_user}","gists_url":"https://api.github.com/users/dramaticlly/gists{/gist_id}","starred_url":"https://api.github.com/users/dramaticlly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dramaticlly/subscriptions","organizations_url":"https://api.github.com/users/dramaticlly/orgs","repos_url":"https://api.github.com/users/dramaticlly/repos","events_url":"https://api.github.com/users/dramaticlly/events{/privacy}","received_events_url":"https://api.github.com/users/dramaticlly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-27T21:42:49Z","updated_at":"2022-01-27T21:42:49Z","author_association":"CONTRIBUTOR","body":"+1, I am curious to know if there's any existing way to reconcile the manifest based on current status quo of the underlying file system. \r\n\r\nExample scenario we ran into is that, the parquet data file is accidentally deleted outside the knowledge of the iceberg but manifest file still keep track of it. Is there any viable way to repair the given manifest? Any suggestion would be helpful","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023664937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023759326","html_url":"https://github.com/apache/iceberg/pull/3982#issuecomment-1023759326","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3982","id":1023759326,"node_id":"IC_kwDOCW7NX849BVPe","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T00:14:54Z","updated_at":"2022-01-28T00:14:54Z","author_association":"CONTRIBUTOR","body":"Thanks, @jackye1995!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023759326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023761026","html_url":"https://github.com/apache/iceberg/pull/3996#issuecomment-1023761026","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3996","id":1023761026,"node_id":"IC_kwDOCW7NX849BVqC","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T00:18:06Z","updated_at":"2022-01-28T00:18:06Z","author_association":"CONTRIBUTOR","body":"Thanks, @SinghAsDev!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023761026/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023774877","html_url":"https://github.com/apache/iceberg/pull/3774#issuecomment-1023774877","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3774","id":1023774877,"node_id":"IC_kwDOCW7NX849BZCd","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T00:43:32Z","updated_at":"2022-01-28T00:43:32Z","author_association":"CONTRIBUTOR","body":"@SinghAsDev, I did another round of review. This also still needs to update [Iceberg generics](https://github.com/apache/iceberg/blob/master/parquet/src/main/java/org/apache/iceberg/data/parquet/GenericParquetReaders.java), I think.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023774877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023792640","html_url":"https://github.com/apache/iceberg/issues/2435#issuecomment-1023792640","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2435","id":1023792640,"node_id":"IC_kwDOCW7NX849BdYA","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T01:14:12Z","updated_at":"2022-01-28T01:14:12Z","author_association":"COLLABORATOR","body":"Hi guys, in my experience running 'delete from table where part=error_part' works, can you give a try?  I'm actually not sure why it says fail for @KarlManong , if its using the iceberg catalog from spark-sql then that query should be removing only metadata and not try to access the missing data file.\r\n\r\nOf course this change can fix it but its still waiting review","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023792640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023805686","html_url":"https://github.com/apache/iceberg/pull/2925#issuecomment-1023805686","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2925","id":1023805686,"node_id":"IC_kwDOCW7NX849Bgj2","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T01:42:03Z","updated_at":"2022-01-28T01:42:03Z","author_association":"CONTRIBUTOR","body":"Let me take a look.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023805686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023818621","html_url":"https://github.com/apache/iceberg/issues/3941#issuecomment-1023818621","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3941","id":1023818621,"node_id":"IC_kwDOCW7NX849Bjt9","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T02:11:10Z","updated_at":"2022-01-28T02:11:38Z","author_association":"CONTRIBUTOR","body":"Hi @mohitgargk, we had multiple discussions internally and are working on a doc. Will share it later. Generally speaking, CDC on MOR is in a better position, we should target it first. CDC on COW is almost impossible without additional metadata column or extra logging. cc @aokolnychyi @RussellSpitzer ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023818621/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023912443","html_url":"https://github.com/apache/iceberg/issues/3941#issuecomment-1023912443","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3941","id":1023912443,"node_id":"IC_kwDOCW7NX849B6n7","user":{"login":"mohitgargk","id":1259955,"node_id":"MDQ6VXNlcjEyNTk5NTU=","avatar_url":"https://avatars.githubusercontent.com/u/1259955?v=4","gravatar_id":"","url":"https://api.github.com/users/mohitgargk","html_url":"https://github.com/mohitgargk","followers_url":"https://api.github.com/users/mohitgargk/followers","following_url":"https://api.github.com/users/mohitgargk/following{/other_user}","gists_url":"https://api.github.com/users/mohitgargk/gists{/gist_id}","starred_url":"https://api.github.com/users/mohitgargk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mohitgargk/subscriptions","organizations_url":"https://api.github.com/users/mohitgargk/orgs","repos_url":"https://api.github.com/users/mohitgargk/repos","events_url":"https://api.github.com/users/mohitgargk/events{/privacy}","received_events_url":"https://api.github.com/users/mohitgargk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T06:00:41Z","updated_at":"2022-01-28T06:10:11Z","author_association":"NONE","body":"@flyrain Agree on that. With CoW, without any row-identifier, it is not possible to establish link with the new state and old state of the records without ambiguities.\r\n\r\nFor the CDF record structure, we grokked a bit on the design and came up with [this](https://docs.google.com/document/d/14ZRQc1anvXN52HGoNpSbKy7Ua6_7IIkr6mlXe_gHrJA/edit?usp=sharing). \r\n\r\nAbove proposal is based on our use case where we are interested in change of a certain column but also want the values of other columns. If the whole state is part of CDF record, the consumer can avoid query/lookup/join with the table to get rest of the state. \r\n\r\ncc - @SreeramGarlapati @rawataaryan9 @dharamshoo\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023912443/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023914271","html_url":"https://github.com/apache/iceberg/pull/3912#issuecomment-1023914271","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3912","id":1023914271,"node_id":"IC_kwDOCW7NX849B7Ef","user":{"login":"humengyu2012","id":45056332,"node_id":"MDQ6VXNlcjQ1MDU2MzMy","avatar_url":"https://avatars.githubusercontent.com/u/45056332?v=4","gravatar_id":"","url":"https://api.github.com/users/humengyu2012","html_url":"https://github.com/humengyu2012","followers_url":"https://api.github.com/users/humengyu2012/followers","following_url":"https://api.github.com/users/humengyu2012/following{/other_user}","gists_url":"https://api.github.com/users/humengyu2012/gists{/gist_id}","starred_url":"https://api.github.com/users/humengyu2012/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/humengyu2012/subscriptions","organizations_url":"https://api.github.com/users/humengyu2012/orgs","repos_url":"https://api.github.com/users/humengyu2012/repos","events_url":"https://api.github.com/users/humengyu2012/events{/privacy}","received_events_url":"https://api.github.com/users/humengyu2012/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T06:04:49Z","updated_at":"2022-01-28T06:20:05Z","author_association":"NONE","body":"@rdblue Do you mean the method should like this:\r\n```java\r\n   static Schema rebuildSchemaWithIdentifierFieldIds(Schema schema, Set<String> identifierFieldNames) {\r\n    if (identifierFieldNames.size() == 0) {\r\n      return schema;\r\n    }\r\n\r\n    Map<Integer, Integer> indexParents = TypeUtil.indexParents(schema.asStruct());\r\n    Set<Integer> identifierFieldIds = identifierFieldNames.stream()\r\n        .map(name -> {\r\n          Types.NestedField field = schema.findField(name);\r\n          Preconditions.checkArgument(field != null, \"Column %s does not exist\", name);\r\n          \r\n          int id = field.fieldId();\r\n          Optional<Types.NestedField> parent = Optional.ofNullable(indexParents.get(id)).map(schema::findField);\r\n          parent.ifPresent(parentField -> Preconditions.checkArgument(parentField.type().isStructType(),\r\n              \"Cannot add field %s as an identifier field: must not be nested in %s\", field.name(), parent));\r\n          \r\n          Preconditions.checkArgument(field.type().isPrimitiveType(),\r\n              \"Cannot add field %s as an identifier field: not a primitive type field\", field.name());\r\n          return id;\r\n        }).collect(Collectors.toSet());\r\n\r\n    List<Types.NestedField> columns = schema.columns().stream()\r\n        .map(column -> identifierFieldIds.contains(column.fieldId()) ? column.asRequired() : column)\r\n        .collect(Collectors.toList());\r\n    return new Schema(columns, identifierFieldIds);\r\n  }\r\n```\r\nThe original implementation of this method looked like this, but @pvary and me both think it would be better to simply just check the first level fields instead of a recursive check. We just want to simplify the calculation for finding fields. I would like to know your suggestions.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023914271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023976437","html_url":"https://github.com/apache/iceberg/pull/3844#issuecomment-1023976437","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3844","id":1023976437,"node_id":"IC_kwDOCW7NX849CKP1","user":{"login":"smallx","id":16517035,"node_id":"MDQ6VXNlcjE2NTE3MDM1","avatar_url":"https://avatars.githubusercontent.com/u/16517035?v=4","gravatar_id":"","url":"https://api.github.com/users/smallx","html_url":"https://github.com/smallx","followers_url":"https://api.github.com/users/smallx/followers","following_url":"https://api.github.com/users/smallx/following{/other_user}","gists_url":"https://api.github.com/users/smallx/gists{/gist_id}","starred_url":"https://api.github.com/users/smallx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smallx/subscriptions","organizations_url":"https://api.github.com/users/smallx/orgs","repos_url":"https://api.github.com/users/smallx/repos","events_url":"https://api.github.com/users/smallx/events{/privacy}","received_events_url":"https://api.github.com/users/smallx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T08:06:19Z","updated_at":"2022-01-28T08:06:19Z","author_association":"CONTRIBUTOR","body":"Good idea, I add `truncate-snapshot-id` to `SnapshotSummary` to record truncate-before snapshot.\r\n\r\n**Case 1**: We will delete ANY files in snapshot B and D.\r\n```\r\nA -- B -truncate- C (empty snapshot, truncate-snapshot-id=B) -- D -truncate- E (empty snapshot, truncate-snapshot-id=D)\r\n```\r\n\r\n**Case 2**: We will ignore truncate snapshot C.\r\n```\r\nA -- B -- D -- E (current snapshot)\r\n     |\r\n     `truncate- C (empty snapshot, truncate-snapshot-id=B)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023976437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023979870","html_url":"https://github.com/apache/iceberg/pull/3987#issuecomment-1023979870","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3987","id":1023979870,"node_id":"IC_kwDOCW7NX849CLFe","user":{"login":"smallx","id":16517035,"node_id":"MDQ6VXNlcjE2NTE3MDM1","avatar_url":"https://avatars.githubusercontent.com/u/16517035?v=4","gravatar_id":"","url":"https://api.github.com/users/smallx","html_url":"https://github.com/smallx","followers_url":"https://api.github.com/users/smallx/followers","following_url":"https://api.github.com/users/smallx/following{/other_user}","gists_url":"https://api.github.com/users/smallx/gists{/gist_id}","starred_url":"https://api.github.com/users/smallx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smallx/subscriptions","organizations_url":"https://api.github.com/users/smallx/orgs","repos_url":"https://api.github.com/users/smallx/repos","events_url":"https://api.github.com/users/smallx/events{/privacy}","received_events_url":"https://api.github.com/users/smallx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T08:11:47Z","updated_at":"2022-01-28T08:11:47Z","author_association":"CONTRIBUTOR","body":"I like this ðŸ›","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1023979870/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024107552","html_url":"https://github.com/apache/iceberg/pull/3980#issuecomment-1024107552","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3980","id":1024107552,"node_id":"IC_kwDOCW7NX849CqQg","user":{"login":"szlta","id":40628386,"node_id":"MDQ6VXNlcjQwNjI4Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/40628386?v=4","gravatar_id":"","url":"https://api.github.com/users/szlta","html_url":"https://github.com/szlta","followers_url":"https://api.github.com/users/szlta/followers","following_url":"https://api.github.com/users/szlta/following{/other_user}","gists_url":"https://api.github.com/users/szlta/gists{/gist_id}","starred_url":"https://api.github.com/users/szlta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szlta/subscriptions","organizations_url":"https://api.github.com/users/szlta/orgs","repos_url":"https://api.github.com/users/szlta/repos","events_url":"https://api.github.com/users/szlta/events{/privacy}","received_events_url":"https://api.github.com/users/szlta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T11:03:37Z","updated_at":"2022-01-28T11:03:37Z","author_association":"CONTRIBUTOR","body":"I have found an issue while testing column re-addition, I'll be uploading the fix for that shortly, please don't commit yet.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024107552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024146798","html_url":"https://github.com/apache/iceberg/issues/3941#issuecomment-1024146798","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3941","id":1024146798,"node_id":"IC_kwDOCW7NX849Cz1u","user":{"login":"NOD507","id":1448331,"node_id":"MDQ6VXNlcjE0NDgzMzE=","avatar_url":"https://avatars.githubusercontent.com/u/1448331?v=4","gravatar_id":"","url":"https://api.github.com/users/NOD507","html_url":"https://github.com/NOD507","followers_url":"https://api.github.com/users/NOD507/followers","following_url":"https://api.github.com/users/NOD507/following{/other_user}","gists_url":"https://api.github.com/users/NOD507/gists{/gist_id}","starred_url":"https://api.github.com/users/NOD507/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NOD507/subscriptions","organizations_url":"https://api.github.com/users/NOD507/orgs","repos_url":"https://api.github.com/users/NOD507/repos","events_url":"https://api.github.com/users/NOD507/events{/privacy}","received_events_url":"https://api.github.com/users/NOD507/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T11:58:24Z","updated_at":"2022-01-28T11:58:24Z","author_association":"NONE","body":"> I'm working on a Iceberg CDC design doc. It will be like the CDF(change data feed) in the proprietary Delta. Will keep you posted. It'd be helpful if you can share your CDC use case.\r\n\r\nWe are interested in CDC to be able to incrementally sync changes from a datalake to a datawarehouse. To be able to do ETL in the datalake and use the dwh for end user consumption. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024146798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024148085","html_url":"https://github.com/apache/iceberg/issues/3941#issuecomment-1024148085","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3941","id":1024148085,"node_id":"IC_kwDOCW7NX849C0J1","user":{"login":"NOD507","id":1448331,"node_id":"MDQ6VXNlcjE0NDgzMzE=","avatar_url":"https://avatars.githubusercontent.com/u/1448331?v=4","gravatar_id":"","url":"https://api.github.com/users/NOD507","html_url":"https://github.com/NOD507","followers_url":"https://api.github.com/users/NOD507/followers","following_url":"https://api.github.com/users/NOD507/following{/other_user}","gists_url":"https://api.github.com/users/NOD507/gists{/gist_id}","starred_url":"https://api.github.com/users/NOD507/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NOD507/subscriptions","organizations_url":"https://api.github.com/users/NOD507/orgs","repos_url":"https://api.github.com/users/NOD507/repos","events_url":"https://api.github.com/users/NOD507/events{/privacy}","received_events_url":"https://api.github.com/users/NOD507/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T12:00:14Z","updated_at":"2022-01-28T12:00:14Z","author_association":"NONE","body":"> @flyrain Agree on that. With CoW, without any row-identifier, it is not possible to establish link with the new state and old state of the records without ambiguities.\r\n> \r\n> For the CDF record structure, we grokked a bit on the design and came up with [this](https://docs.google.com/document/d/14ZRQc1anvXN52HGoNpSbKy7Ua6_7IIkr6mlXe_gHrJA/edit?usp=sharing).\r\n> \r\n> Above proposal is based on our use case where we are interested in change of a certain column but also want the values of other columns. If the whole state is part of CDF record, the consumer can avoid query/lookup/join with the table to get rest of the state.\r\n> \r\n> cc - @SreeramGarlapati @rawataaryan9 @dharamshoo\r\n\r\nThis design would work great for our use case, is exactly what we need. Thanks for sharing","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024148085/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024214082","html_url":"https://github.com/apache/iceberg/issues/3088#issuecomment-1024214082","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3088","id":1024214082,"node_id":"IC_kwDOCW7NX849DERC","user":{"login":"peay","id":7261177,"node_id":"MDQ6VXNlcjcyNjExNzc=","avatar_url":"https://avatars.githubusercontent.com/u/7261177?v=4","gravatar_id":"","url":"https://api.github.com/users/peay","html_url":"https://github.com/peay","followers_url":"https://api.github.com/users/peay/followers","following_url":"https://api.github.com/users/peay/following{/other_user}","gists_url":"https://api.github.com/users/peay/gists{/gist_id}","starred_url":"https://api.github.com/users/peay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peay/subscriptions","organizations_url":"https://api.github.com/users/peay/orgs","repos_url":"https://api.github.com/users/peay/repos","events_url":"https://api.github.com/users/peay/events{/privacy}","received_events_url":"https://api.github.com/users/peay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T13:16:31Z","updated_at":"2022-01-28T13:16:31Z","author_association":"NONE","body":"@alex-shchetkov I had the same issue on Spark 3.1.2, and noticed it worked in Scala but not with `pyspark`.\r\n\r\nI believe that the root cause is https://github.com/apache/spark/commit/33deeb35f1c994328b577970d4577e6d9288bfc2, fixed in `pyspark` 3.1.3 and other patches releases.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024214082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024244353","html_url":"https://github.com/apache/iceberg/issues/3607#issuecomment-1024244353","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3607","id":1024244353,"node_id":"IC_kwDOCW7NX849DLqB","user":{"login":"smaspe","id":4571256,"node_id":"MDQ6VXNlcjQ1NzEyNTY=","avatar_url":"https://avatars.githubusercontent.com/u/4571256?v=4","gravatar_id":"","url":"https://api.github.com/users/smaspe","html_url":"https://github.com/smaspe","followers_url":"https://api.github.com/users/smaspe/followers","following_url":"https://api.github.com/users/smaspe/following{/other_user}","gists_url":"https://api.github.com/users/smaspe/gists{/gist_id}","starred_url":"https://api.github.com/users/smaspe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smaspe/subscriptions","organizations_url":"https://api.github.com/users/smaspe/orgs","repos_url":"https://api.github.com/users/smaspe/repos","events_url":"https://api.github.com/users/smaspe/events{/privacy}","received_events_url":"https://api.github.com/users/smaspe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T13:52:03Z","updated_at":"2022-01-28T13:52:03Z","author_association":"NONE","body":"Hi @RussellSpitzer , sorry to jump on this thread, but I have a question regarding your last message, if you could elaborate, as I think I'm missing a step:\r\n\r\n> For example if you say  `purchase_ts = timestampOf(2021-01-01)` and you have actually partitioning on `day(purchase_ts)` it transforms the predicate into `day(purchase_ts) = day(timestampOf(2021-01-01)`.\r\n\r\nSurely, `purchase_ts` being a timestamp, has all sorts of values that are not a round day, so to have a predicate transformed into `day(purchase_ts) = day(timestampOf(2021-01-01)`, how would you write it?\r\n\r\n- `on target.purchase_ts = timestampOf(2021-01-01)` doesn't seem right, because if `purchase_ts = 2021-01-01 14:10:00.001`, the meaning is actually different\r\n- `on target.purchase_ts = timestamp '2021-01-01 14:10:00.001'`, if you know the exact value of the partition key in the target row\r\n- `on target.purchase_ts >= timestamp '2021-01-01' and target.purchase_ts < timestamp '2021-01-02'`\r\n- I don't think `on day(target.purchase_ts) = '2021-01-01'` or similar works, as far as I've tried?\r\n\r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024244353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024416788","html_url":"https://github.com/apache/iceberg/issues/3607#issuecomment-1024416788","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3607","id":1024416788,"node_id":"IC_kwDOCW7NX849D1wU","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T16:54:48Z","updated_at":"2022-01-28T16:54:48Z","author_association":"MEMBER","body":"> Hi @RussellSpitzer , sorry to jump on this thread, but I have a question regarding your last message, if you could elaborate, as I think I'm missing a step:\r\n> \r\n> > For example if you say  `purchase_ts = timestampOf(2021-01-01)` and you have actually partitioning on `day(purchase_ts)` it transforms the predicate into `day(purchase_ts) = day(timestampOf(2021-01-01)`.\r\n> \r\n> Surely, `purchase_ts` being a timestamp, has all sorts of values that are not a round day, so to have a predicate transformed into `day(purchase_ts) = day(timestampOf(2021-01-01)`, how would you write it?\r\n> \r\n> * `on target.purchase_ts = timestampOf(2021-01-01)` doesn't seem right, because if `purchase_ts = 2021-01-01 14:10:00.001`, the meaning is actually different\r\n> * `on target.purchase_ts = timestamp '2021-01-01 14:10:00.001'`, if you know the exact value of the partition key in the target row\r\n> * `on target.purchase_ts >= timestamp '2021-01-01' and target.purchase_ts < timestamp '2021-01-02'`\r\n> * I don't think `on day(target.purchase_ts) = '2021-01-01'` or similar works, as far as I've tried?\r\n> \r\n> Thanks!\r\n\r\nI think I may have misled you by oversimplifying. The user here still only writes queries using their exact restrictions, Iceberg then uses this restriction to create restrictions which match the partitioning. For example, Iceberg knows a specific timestamp can only occur in a certain day and it can use that information to limit the files read. Iceberg doesn't disregard the original predicate, that stays with the execution engine for actually evaluating rows but Iceberg can still use this timestamp for partition pruning and file evaluation.\r\n\r\nFor example say you are looking for \r\n`ts = 3PM on Aug 12`\r\n\r\nFirst thing we do is look at our manifest_list file, see docs in the [spec](https://iceberg.apache.org/#spec/)\r\nEach entry there will have a `partitions` field summary column and a `partition_spec_id` to let us know how to use that data. \r\n\r\nWe load up the partition spec for the given spec ID and transform the original predicate into one that matches that spec. If our `spec` contains a `day(ts)` transform we take the original predicate and transform it using the `day` transform . So for evaluating this line the original predicate becomes `day(ts) = projectDay(3pm Aug 12) = Aug 12`. \r\n\r\nWith this new transform we evaluate all the `partitions` listed in this file. These values only contain `day(ts)` since that is the only thing kept by the spec. If any pass we know the particular manifest file may have valid datafiles to be scanned.\r\n\r\nOnce we have a list of all the possible manifest files that may have hits we play this game again. Now we check against `ManifestEntries`. Every entry contains a `partition` value and then details about the `datafile` (spec_id is inherited from the entry in manifest_list). \r\n\r\nHere we can do two steps of evaluation for each individual data file. First we can use the transformed predicate (`day(ts) = Aug 12`) to check if the partition value is a match, if so we then move to evaluating the individual metrics of the file. Here we would use the original predicate and would check whether the `3PM on Aug 12` is a possible value for the timestamp column of each file based on the min and max values for that column. If datafile passes both of these checks we keep it for the scan.\r\n\r\nThe scan then contains of all data files which we know **may** have our given row, this is transformed into a set of tasks for whatever execution engine is in use and evaluated. The execution engine then will use its own logic to filter individual rows with the original predicates (YMMV based on engine specific implementations).\r\n\r\nSo what happens if we cannot transform a predicate into the partition spec? Or what if a data file was inserted into the table when it was unpartitioned? In both of these cases we default to \"this file may contain the row we are looking for\" and return it to the engine. For example, suppose you have a predicate `age > 10` and a partition spec of `bucket(age,128)`. There is no way to project a [greater than predicate](https://github.com/apache/iceberg/blob/f960698a04266270a8eaf9e23e8b55e97e550564/api/src/main/java/org/apache/iceberg/transforms/Bucket.java#L131-L134) into a valid bucket predicate so we simply have to say all partitions may match. \r\n\r\n### \r\nMy big TLDR here is:\r\n\r\nAs a user you query on normal columns, Iceberg attempts to transform your predicates into ones that match the partitioning of the files within the table to prune out files. When Iceberg cannot transform the predicates it simply assumes there may be a match and returns those files to the execution engine which does the actual row level filtering.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024416788/reactions","total_count":8,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":8,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024572860","html_url":"https://github.com/apache/iceberg/pull/3517#issuecomment-1024572860","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3517","id":1024572860,"node_id":"IC_kwDOCW7NX849Eb28","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T19:41:14Z","updated_at":"2022-01-28T19:41:14Z","author_association":"CONTRIBUTOR","body":"Merged. Thanks @SreeramGarlapati and @rajarshisarkar!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024572860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024584042","html_url":"https://github.com/apache/iceberg/pull/3965#issuecomment-1024584042","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3965","id":1024584042,"node_id":"IC_kwDOCW7NX849Eelq","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T19:48:34Z","updated_at":"2022-01-28T19:48:34Z","author_association":"CONTRIBUTOR","body":"@jun-he, the `__eq__` implementations look good to me. It would be good to fix some of the test suggestions that @emkornfield pointed out, along with fixing hash functions. In Java, you always override hash functions if you override equality and I don't see why you wouldn't in Python as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024584042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024585042","html_url":"https://github.com/apache/iceberg/pull/3979#issuecomment-1024585042","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3979","id":1024585042,"node_id":"IC_kwDOCW7NX849Ee1S","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T19:50:06Z","updated_at":"2022-01-28T19:50:06Z","author_association":"CONTRIBUTOR","body":"Thanks, @singhpk234. Good catch!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024585042/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024585288","html_url":"https://github.com/apache/iceberg/pull/3979#issuecomment-1024585288","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3979","id":1024585288,"node_id":"IC_kwDOCW7NX849Ee5I","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T19:50:27Z","updated_at":"2022-01-28T19:50:27Z","author_association":"CONTRIBUTOR","body":"@jackye1995 should this be in the 0.13.0 release?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024585288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024586529","html_url":"https://github.com/apache/iceberg/pull/3977#issuecomment-1024586529","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3977","id":1024586529,"node_id":"IC_kwDOCW7NX849EfMh","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T19:52:28Z","updated_at":"2022-01-28T19:52:28Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi, do you think this is a good idea?\r\n\r\nI'm not sure about this. What will end up happening in Spark is that you'll create a lot of new data files. But in that case you should have used a better plan that clustered data instead of using the fanout writer. Maybe this is needed in Flink only?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024586529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024605152","html_url":"https://github.com/apache/iceberg/pull/3965#issuecomment-1024605152","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3965","id":1024605152,"node_id":"IC_kwDOCW7NX849Ejvg","user":{"login":"emkornfield","id":17869838,"node_id":"MDQ6VXNlcjE3ODY5ODM4","avatar_url":"https://avatars.githubusercontent.com/u/17869838?v=4","gravatar_id":"","url":"https://api.github.com/users/emkornfield","html_url":"https://github.com/emkornfield","followers_url":"https://api.github.com/users/emkornfield/followers","following_url":"https://api.github.com/users/emkornfield/following{/other_user}","gists_url":"https://api.github.com/users/emkornfield/gists{/gist_id}","starred_url":"https://api.github.com/users/emkornfield/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emkornfield/subscriptions","organizations_url":"https://api.github.com/users/emkornfield/orgs","repos_url":"https://api.github.com/users/emkornfield/repos","events_url":"https://api.github.com/users/emkornfield/events{/privacy}","received_events_url":"https://api.github.com/users/emkornfield/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T20:17:05Z","updated_at":"2022-01-28T20:17:05Z","author_association":"CONTRIBUTOR","body":"In python objects can be considered unhashable (this is the default) which could be a design choice.  This wouldn't lead to correctness issues like have","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024605152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024626611","html_url":"https://github.com/apache/iceberg/pull/3981#issuecomment-1024626611","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3981","id":1024626611,"node_id":"IC_kwDOCW7NX849Eo-z","user":{"login":"emkornfield","id":17869838,"node_id":"MDQ6VXNlcjE3ODY5ODM4","avatar_url":"https://avatars.githubusercontent.com/u/17869838?v=4","gravatar_id":"","url":"https://api.github.com/users/emkornfield","html_url":"https://github.com/emkornfield","followers_url":"https://api.github.com/users/emkornfield/followers","following_url":"https://api.github.com/users/emkornfield/following{/other_user}","gists_url":"https://api.github.com/users/emkornfield/gists{/gist_id}","starred_url":"https://api.github.com/users/emkornfield/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emkornfield/subscriptions","organizations_url":"https://api.github.com/users/emkornfield/orgs","repos_url":"https://api.github.com/users/emkornfield/repos","events_url":"https://api.github.com/users/emkornfield/events{/privacy}","received_events_url":"https://api.github.com/users/emkornfield/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T20:52:16Z","updated_at":"2022-01-28T20:52:16Z","author_association":"CONTRIBUTOR","body":"While this seems like cool functionality, I'm a bit ambivalent of conflating the iceberg type system with the python type system, I can't think of any immediate drawbacks other then it isn't clear if the issubclass relation is really the right relation to be using between types.  For instance the last example:\r\n```\r\n>>>issubclass(StructType[\r\n        NestedField[DecimalType[32, 3], 0, \"c1\", True],\r\n        NestedField[FloatType, 1, \"c2\", False],\r\n    ], StructType[\r\n        NestedField[IcebergType, 0, \"c1\", True],\r\n        NestedField[FloatType, 1, \"c2\", False],\r\n    ])\r\nTrue\r\n```\r\nstrikes me as not immediately what the semantics of a StructType inheritance should be and if inheritance in this case really makes sense?\r\n\r\n\r\nIs there a design doc someplace that discusses this approach? Are there other projects that have gone this route that have had good results?  Does this make important constructs much easier to express?  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024626611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024718266","html_url":"https://github.com/apache/iceberg/issues/4000#issuecomment-1024718266","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4000","id":1024718266,"node_id":"IC_kwDOCW7NX849E_W6","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-28T22:41:51Z","updated_at":"2022-01-28T22:41:51Z","author_association":"CONTRIBUTOR","body":"100% agreed, once it's working one file is nice, but I will admit that i had to clean up from failing midway through (the `version.txt` commit which I moved to be further down at some point, but obviously not far enough).\r\n\r\nI agree that if we're looking to have more people involved in the release process, it might be better to break it up more.\r\n\r\nI feel it makes sense if possible to have a separate script that ensures one has all of the permissions? Ensure that the code signing key exists as well as checking `svn` permissions. Do we know if there's any guidance from ASF on ways to check those things? That seems like a good first step.\r\n\r\nA possible source of inspiration in breaking it up could come from Flink: https://github.com/apache/flink/tree/master/tools/releasing\r\n\r\nSome of it could possibly also be pushed into gradle tasks, to allow us to escape some of the bash knowledge needed.\r\n\r\nI'm open on ideas as to how to split it up, but here's one idea:\r\n1. `pre-source-release.sh` - ensure all permissions, executables are on the path.\r\n2. `tag-and-commit.sh` - step one above.\r\n3. `create-and-sign-tarball.sh`\r\n4. `all-svn.sh` - add tarball, signature, checksum to svn\r\n5. `post-source-release.sh` - email template file.\r\n\r\nBreaking it up into named bash functions first might help (no argument ones that pull from global variables for simplicity's sake). That way, each block is more independent. From there, that might give us a better idea on how to break it up.\r\n\r\nOne thing is that if we want release managers that don't have all of the permissions, we should definitely move the signing and `svn` stuff, as somebody else has to do that for them. But it would be nice if they could still commit the `version.txt` file or handle enough of it to be able to pass it off easily.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024718266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024774708","html_url":"https://github.com/apache/iceberg/pull/3955#issuecomment-1024774708","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3955","id":1024774708,"node_id":"IC_kwDOCW7NX849FNI0","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-29T00:51:57Z","updated_at":"2022-01-29T00:51:57Z","author_association":"CONTRIBUTOR","body":"Thanks for the reviews, @RussellSpitzer, @danielcweeks, @jackye1995, @kbendick, @szehon-ho, and @bryanck!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024774708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024788880","html_url":"https://github.com/apache/iceberg/pull/3981#issuecomment-1024788880","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3981","id":1024788880,"node_id":"IC_kwDOCW7NX849FQmQ","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-29T01:08:13Z","updated_at":"2022-01-29T01:08:13Z","author_association":"CONTRIBUTOR","body":"@emkornfield, I just had a discussion with @CircArgs about this yesterday. I think that we're currently evaluating whether integration with Python's type system is necessary and worth the additional complexity. It seems like the main benefit is to be able to have functions like transforms that accept a certain argument type and to make the literals conform to that type. But given how we will process actual data (and not just literal values in in expressions) won't use type safety because the data is in a dataframe or some direct representation (like a python int rather than a wrapper around int), it seems fairly limited.\r\n\r\nI think we may want to go with a simpler type implementation, but @CircArgs was going to give it some thought and weigh in.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024788880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024802697","html_url":"https://github.com/apache/iceberg/pull/3981#issuecomment-1024802697","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3981","id":1024802697,"node_id":"IC_kwDOCW7NX849FT-J","user":{"login":"emkornfield","id":17869838,"node_id":"MDQ6VXNlcjE3ODY5ODM4","avatar_url":"https://avatars.githubusercontent.com/u/17869838?v=4","gravatar_id":"","url":"https://api.github.com/users/emkornfield","html_url":"https://github.com/emkornfield","followers_url":"https://api.github.com/users/emkornfield/followers","following_url":"https://api.github.com/users/emkornfield/following{/other_user}","gists_url":"https://api.github.com/users/emkornfield/gists{/gist_id}","starred_url":"https://api.github.com/users/emkornfield/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emkornfield/subscriptions","organizations_url":"https://api.github.com/users/emkornfield/orgs","repos_url":"https://api.github.com/users/emkornfield/repos","events_url":"https://api.github.com/users/emkornfield/events{/privacy}","received_events_url":"https://api.github.com/users/emkornfield/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-29T01:45:01Z","updated_at":"2022-01-29T01:45:01Z","author_association":"CONTRIBUTOR","body":"@rdblue thanks for the update.  Was this conversation on slack or offline.  I'm trying to ramp up on the with the community is doing and trying to figure out which communication channels are critical to monitor?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024802697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024876282","html_url":"https://github.com/apache/iceberg/issues/3905#issuecomment-1024876282","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3905","id":1024876282,"node_id":"IC_kwDOCW7NX849Fl76","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-29T09:34:14Z","updated_at":"2022-01-29T09:34:14Z","author_association":"CONTRIBUTOR","body":"cc @hbgstc123  https://github.com/apache/iceberg/blob/c1ca6c536a0248ea752334889ab1c5fcc935f26f/flink/v1.14/flink/src/main/java/org/apache/iceberg/flink/source/FlinkSource.java#L95","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1024876282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025048506","html_url":"https://github.com/apache/iceberg/pull/3977#issuecomment-1025048506","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3977","id":1025048506,"node_id":"IC_kwDOCW7NX849GP-6","user":{"login":"xloya","id":26177232,"node_id":"MDQ6VXNlcjI2MTc3MjMy","avatar_url":"https://avatars.githubusercontent.com/u/26177232?v=4","gravatar_id":"","url":"https://api.github.com/users/xloya","html_url":"https://github.com/xloya","followers_url":"https://api.github.com/users/xloya/followers","following_url":"https://api.github.com/users/xloya/following{/other_user}","gists_url":"https://api.github.com/users/xloya/gists{/gist_id}","starred_url":"https://api.github.com/users/xloya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xloya/subscriptions","organizations_url":"https://api.github.com/users/xloya/orgs","repos_url":"https://api.github.com/users/xloya/repos","events_url":"https://api.github.com/users/xloya/events{/privacy}","received_events_url":"https://api.github.com/users/xloya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T01:51:03Z","updated_at":"2022-01-30T01:51:03Z","author_association":"CONTRIBUTOR","body":"> @aokolnychyi, do you think this is a good idea?\r\n> \r\n> I'm not sure about this. What will end up happening in Spark is that you'll create a lot of new data files. But in that case you should have used a better plan that clustered data instead of using the fanout writer. Maybe this is needed in Flink only?\r\n\r\n@rdblue Sorry for my late reply, I am on holiday because of Chinese New Year, I will read comments later! Thx again!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025048506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025055623","html_url":"https://github.com/apache/iceberg/pull/4006#issuecomment-1025055623","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4006","id":1025055623,"node_id":"IC_kwDOCW7NX849GRuH","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T02:48:32Z","updated_at":"2022-01-30T02:48:43Z","author_association":"CONTRIBUTOR","body":"@jackye1995 @rdblue It would be great to get your feedback on this Draft PR. Really appreciate it! ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025055623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025057052","html_url":"https://github.com/apache/iceberg/issues/3960#issuecomment-1025057052","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3960","id":1025057052,"node_id":"IC_kwDOCW7NX849GSEc","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T03:02:28Z","updated_at":"2022-01-30T03:02:28Z","author_association":"CONTRIBUTOR","body":"it's realy cool for introduce  z-order. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025057052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025060021","html_url":"https://github.com/apache/iceberg/pull/4004#issuecomment-1025060021","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4004","id":1025060021,"node_id":"IC_kwDOCW7NX849GSy1","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T03:29:14Z","updated_at":"2022-01-30T04:08:53Z","author_association":"CONTRIBUTOR","body":"> Great, looks more consistent\r\n\r\nIt also parses better in various CLI tools outside of editor.swagger.io!\r\n\r\nAs a follow up, I intend to add some documentation about using some of these tools, and ideally a Github Action to validate the specification file once a good CLI tool is determined. Everything I've found so far is installed via `npm` or  `pip` and I haven't been able to determine if there's consensus around the best tool (or even top 3 best CLI tools). I'm not one to dive right in on bringing in an `npm` based dependency without some research.\r\n\r\nIt's presently valid per `editor.swagger.io` - which is a paid / enterprise tool (with a free tier) which focuses in this space (open api docs). So I'm continuing to use editor.swagger.io as the canonical validation tool, but fixing things that could be made better for parsing in other tools.\r\n\r\nSo this is a step in that direction, as well as looking more consistent. ðŸ™‚ ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025060021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025074087","html_url":"https://github.com/apache/iceberg/issues/4007#issuecomment-1025074087","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4007","id":1025074087,"node_id":"IC_kwDOCW7NX849GWOn","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T05:30:37Z","updated_at":"2022-01-30T05:30:37Z","author_association":"CONTRIBUTOR","body":"Here's a link to the parameters of the RemoveOrphanFilesProcedure action: https://github.com/apache/iceberg/blob/7249d67c5b5215bd04d51d446de12934d2efcbae/spark/v3.2/spark/src/main/java/org/apache/iceberg/spark/procedures/RemoveOrphanFilesProcedure.java#L52-L58","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025074087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025075845","html_url":"https://github.com/apache/iceberg/pull/4008#issuecomment-1025075845","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4008","id":1025075845,"node_id":"IC_kwDOCW7NX849GWqF","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T05:47:35Z","updated_at":"2022-01-30T05:47:35Z","author_association":"CONTRIBUTOR","body":"cc @RussellSpitzer @szehon-ho @dramaticlly @samredai  @jackye1995 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025075845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025192870","html_url":"https://github.com/apache/iceberg/pull/4003#issuecomment-1025192870","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4003","id":1025192870,"node_id":"IC_kwDOCW7NX849GzOm","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T17:41:23Z","updated_at":"2022-01-30T17:41:23Z","author_association":"CONTRIBUTOR","body":"Thanks for the reviews!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025192870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025196798","html_url":"https://github.com/apache/iceberg/pull/3981#issuecomment-1025196798","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3981","id":1025196798,"node_id":"IC_kwDOCW7NX849G0L-","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T18:04:25Z","updated_at":"2022-01-30T18:04:25Z","author_association":"CONTRIBUTOR","body":"@emkornfield, we had an offline chat because I didn't understand the goal of this approach at first. Most of the time, we coordinate through PRs and the #python channel in the apache-iceberg Slack community.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025196798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025235542","html_url":"https://github.com/apache/iceberg/pull/3774#issuecomment-1025235542","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3774","id":1025235542,"node_id":"IC_kwDOCW7NX849G9pW","user":{"login":"SinghAsDev","id":4915557,"node_id":"MDQ6VXNlcjQ5MTU1NTc=","avatar_url":"https://avatars.githubusercontent.com/u/4915557?v=4","gravatar_id":"","url":"https://api.github.com/users/SinghAsDev","html_url":"https://github.com/SinghAsDev","followers_url":"https://api.github.com/users/SinghAsDev/followers","following_url":"https://api.github.com/users/SinghAsDev/following{/other_user}","gists_url":"https://api.github.com/users/SinghAsDev/gists{/gist_id}","starred_url":"https://api.github.com/users/SinghAsDev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SinghAsDev/subscriptions","organizations_url":"https://api.github.com/users/SinghAsDev/orgs","repos_url":"https://api.github.com/users/SinghAsDev/repos","events_url":"https://api.github.com/users/SinghAsDev/events{/privacy}","received_events_url":"https://api.github.com/users/SinghAsDev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T21:29:49Z","updated_at":"2022-01-30T21:29:49Z","author_association":"CONTRIBUTOR","body":"> @SinghAsDev, I did another round of review. This also still needs to update [Iceberg generics](https://github.com/apache/iceberg/blob/master/parquet/src/main/java/org/apache/iceberg/data/parquet/GenericParquetReaders.java), I think.\r\n\r\nThanks for thorough reviews @rdblue ! I thought I already covered the Iceberg generic with this [change](https://github.com/apache/iceberg/pull/3774/files#diff-b8e8443fcec3843e538dbc702d4c131ff58359cb83ccdb211d8679c1d77c16bd). Am I missing something?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025235542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025235929","html_url":"https://github.com/apache/iceberg/pull/4011#issuecomment-1025235929","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4011","id":1025235929,"node_id":"IC_kwDOCW7NX849G9vZ","user":{"login":"SinghAsDev","id":4915557,"node_id":"MDQ6VXNlcjQ5MTU1NTc=","avatar_url":"https://avatars.githubusercontent.com/u/4915557?v=4","gravatar_id":"","url":"https://api.github.com/users/SinghAsDev","html_url":"https://github.com/SinghAsDev","followers_url":"https://api.github.com/users/SinghAsDev/followers","following_url":"https://api.github.com/users/SinghAsDev/following{/other_user}","gists_url":"https://api.github.com/users/SinghAsDev/gists{/gist_id}","starred_url":"https://api.github.com/users/SinghAsDev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SinghAsDev/subscriptions","organizations_url":"https://api.github.com/users/SinghAsDev/orgs","repos_url":"https://api.github.com/users/SinghAsDev/repos","events_url":"https://api.github.com/users/SinghAsDev/events{/privacy}","received_events_url":"https://api.github.com/users/SinghAsDev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T21:32:12Z","updated_at":"2022-01-30T21:32:12Z","author_association":"CONTRIBUTOR","body":"@jackye1995 @rdblue @anuragmantri  can you help review this, thanks","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025235929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025256683","html_url":"https://github.com/apache/iceberg/pull/3774#issuecomment-1025256683","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3774","id":1025256683,"node_id":"IC_kwDOCW7NX849HCzr","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T23:18:59Z","updated_at":"2022-01-30T23:19:05Z","author_association":"CONTRIBUTOR","body":"@SinghAsDev, looks like it is missing a test for Iceberg generics. I see the update for it now. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025256683/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025260143","html_url":"https://github.com/apache/iceberg/pull/4011#issuecomment-1025260143","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4011","id":1025260143,"node_id":"IC_kwDOCW7NX849HDpv","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T23:32:40Z","updated_at":"2022-01-30T23:32:40Z","author_association":"CONTRIBUTOR","body":"I took a quick look. I think the idea is reasonable, but the implementation needs to be changed:\r\n* I think `table-default` and `table-override` are better property prefixes\r\n* This should not modify the `Catalog` interface or `CachingCatalog`\r\n* The best place to add this is in `BaseMetastoreCatalog` or other catalogs you need to update\r\n* Subclasses should pass properties using `super(...)` in the constructor, not set parent fields\r\n* Please reduce the footprint of this change by not modifying classes unnecessarily; add defaults to avoid touching so many files","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025260143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025261159","html_url":"https://github.com/apache/iceberg/pull/3965#issuecomment-1025261159","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3965","id":1025261159,"node_id":"IC_kwDOCW7NX849HD5n","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T23:38:43Z","updated_at":"2022-01-30T23:38:43Z","author_association":"CONTRIBUTOR","body":"> In python objects can be considered unhashable (this is the default) which could be a design choice. This wouldn't lead to correctness issues like have\r\n\r\nIsn't it reasonable to use type classes in maps though?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025261159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025261311","html_url":"https://github.com/apache/iceberg/pull/3989#issuecomment-1025261311","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3989","id":1025261311,"node_id":"IC_kwDOCW7NX849HD7_","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T23:39:30Z","updated_at":"2022-01-30T23:39:30Z","author_association":"CONTRIBUTOR","body":"@cccs-eric, could you take a look at the minor fixes here? I think it's about ready but I'd like to make sure the method name is correct.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025261311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025261518","html_url":"https://github.com/apache/iceberg/issues/4001#issuecomment-1025261518","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4001","id":1025261518,"node_id":"IC_kwDOCW7NX849HD_O","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T23:40:39Z","updated_at":"2022-01-30T23:40:39Z","author_association":"CONTRIBUTOR","body":"Fixed by #4003.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025261518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025275594","html_url":"https://github.com/apache/iceberg/pull/3883#issuecomment-1025275594","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3883","id":1025275594,"node_id":"IC_kwDOCW7NX849HHbK","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T00:36:27Z","updated_at":"2022-01-31T00:36:27Z","author_association":"CONTRIBUTOR","body":"@amogh-jahagirdar, there are a lot of good changes in here, but I think we should break this up into smaller, more manageable commits:\r\n\r\n* Parser updates to read/write refs\r\n* Additions to the Table API\r\n* The ref management API\r\n* TableMetadata updates\r\n* Updates to SnapshotProducer API\r\n* Updates to MergingSnapshotProducer and FastAppend\r\n\r\nCan you refactor the parser updates and API interface updates into separate PRs? In the meantime, I'll take a look at the table metadata updates.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025275594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025282448","html_url":"https://github.com/apache/iceberg/pull/4011#issuecomment-1025282448","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4011","id":1025282448,"node_id":"IC_kwDOCW7NX849HJGQ","user":{"login":"SinghAsDev","id":4915557,"node_id":"MDQ6VXNlcjQ5MTU1NTc=","avatar_url":"https://avatars.githubusercontent.com/u/4915557?v=4","gravatar_id":"","url":"https://api.github.com/users/SinghAsDev","html_url":"https://github.com/SinghAsDev","followers_url":"https://api.github.com/users/SinghAsDev/followers","following_url":"https://api.github.com/users/SinghAsDev/following{/other_user}","gists_url":"https://api.github.com/users/SinghAsDev/gists{/gist_id}","starred_url":"https://api.github.com/users/SinghAsDev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SinghAsDev/subscriptions","organizations_url":"https://api.github.com/users/SinghAsDev/orgs","repos_url":"https://api.github.com/users/SinghAsDev/repos","events_url":"https://api.github.com/users/SinghAsDev/events{/privacy}","received_events_url":"https://api.github.com/users/SinghAsDev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T00:57:04Z","updated_at":"2022-01-31T00:57:04Z","author_association":"CONTRIBUTOR","body":"@rdblue thanks for the review, updated to keep changes to hive and hadoop catalogs.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025282448/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025363239","html_url":"https://github.com/apache/iceberg/pull/3965#issuecomment-1025363239","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3965","id":1025363239,"node_id":"IC_kwDOCW7NX849Hc0n","user":{"login":"emkornfield","id":17869838,"node_id":"MDQ6VXNlcjE3ODY5ODM4","avatar_url":"https://avatars.githubusercontent.com/u/17869838?v=4","gravatar_id":"","url":"https://api.github.com/users/emkornfield","html_url":"https://github.com/emkornfield","followers_url":"https://api.github.com/users/emkornfield/followers","following_url":"https://api.github.com/users/emkornfield/following{/other_user}","gists_url":"https://api.github.com/users/emkornfield/gists{/gist_id}","starred_url":"https://api.github.com/users/emkornfield/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emkornfield/subscriptions","organizations_url":"https://api.github.com/users/emkornfield/orgs","repos_url":"https://api.github.com/users/emkornfield/repos","events_url":"https://api.github.com/users/emkornfield/events{/privacy}","received_events_url":"https://api.github.com/users/emkornfield/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T04:16:55Z","updated_at":"2022-01-31T04:16:55Z","author_association":"CONTRIBUTOR","body":"> Isn't it reasonable to use type classes in maps though?\r\n\r\nYes.  Just pointing out that it isn't critical for correctness (i.e. can be done in a separate PR).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025363239/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025382932","html_url":"https://github.com/apache/iceberg/pull/3977#issuecomment-1025382932","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3977","id":1025382932,"node_id":"IC_kwDOCW7NX849HhoU","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T05:03:26Z","updated_at":"2022-01-31T05:03:26Z","author_association":"CONTRIBUTOR","body":"My concern with this approach is that it can potentially create more small files (with close and open for the same partition after cache eviction). @xloya can you share some of the results that you tried with this approach? I am sure it can help with memory usage. but does it create more small files?\r\n\r\nI shared a design doc on shuffling support in Flink sink with the community a few months ago. That was a diff approach. https://docs.google.com/document/d/13N8cMqPi-ZPSKbkXGOBMPOzbv2Fua59j8bIjjtxLWqo/edit#heading=h.o4q8a61sahkq","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025382932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025444415","html_url":"https://github.com/apache/iceberg/pull/3965#issuecomment-1025444415","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3965","id":1025444415,"node_id":"IC_kwDOCW7NX849Hwo_","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T07:16:19Z","updated_at":"2022-01-31T07:16:19Z","author_association":"COLLABORATOR","body":"@rdblue @emkornfield  Thanks for the comments. I improved the type classes using singleton pattern for non parameterized types. No equal or hash overriding is needed for them and default worked well.\r\n\r\nFor parameterized ones, I still keep the equal method in this PR as currently type objects are not used as key in dict or set. It makes sense to use as key in the future and I will open a new PR to add hash overrides for them.\r\n\r\nI also updated the tests according to the comments. Can you please take another look? Thanks.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025444415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025491259","html_url":"https://github.com/apache/iceberg/pull/3323#issuecomment-1025491259","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3323","id":1025491259,"node_id":"IC_kwDOCW7NX849H8E7","user":{"login":"Reo-LEI","id":17312872,"node_id":"MDQ6VXNlcjE3MzEyODcy","avatar_url":"https://avatars.githubusercontent.com/u/17312872?v=4","gravatar_id":"","url":"https://api.github.com/users/Reo-LEI","html_url":"https://github.com/Reo-LEI","followers_url":"https://api.github.com/users/Reo-LEI/followers","following_url":"https://api.github.com/users/Reo-LEI/following{/other_user}","gists_url":"https://api.github.com/users/Reo-LEI/gists{/gist_id}","starred_url":"https://api.github.com/users/Reo-LEI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Reo-LEI/subscriptions","organizations_url":"https://api.github.com/users/Reo-LEI/orgs","repos_url":"https://api.github.com/users/Reo-LEI/repos","events_url":"https://api.github.com/users/Reo-LEI/events{/privacy}","received_events_url":"https://api.github.com/users/Reo-LEI/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T08:31:23Z","updated_at":"2022-01-31T08:31:23Z","author_association":"CONTRIBUTOR","body":"I finish the reactor of this PR according the [comment ](https://github.com/apache/iceberg/pull/3323#issuecomment-962068331) of @rdblue and have been updated the description of this PR. \r\n\r\nBriefly explain the change, I add the `IcebergRewriteTaskEmitter` to collect all data files and delete files which are committed by the flink job and collect all eq-delete files which are committed by other writers. Emit `CombinedScanTask` to `IcebergStreamRewriter` to make same partition rewrite file group can be rewritten in paralle. Group rewrite results by starting snapshot id and partition and commit them in batch.\r\n\r\nI test this in our prod env and has been running for a while, and that is work for v1 and v2 table. And for the time-based partitioned v1 table, we can use streaming rewrite to replace the batct rewrite action.\r\n\r\n@rdblue @jackye1995 @openinx @stevenzwu @kbendick  Could you please take another look when you free?\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025491259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025658560","html_url":"https://github.com/apache/iceberg/pull/3989#issuecomment-1025658560","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3989","id":1025658560,"node_id":"IC_kwDOCW7NX849Ik7A","user":{"login":"cccs-eric","id":56447460,"node_id":"MDQ6VXNlcjU2NDQ3NDYw","avatar_url":"https://avatars.githubusercontent.com/u/56447460?v=4","gravatar_id":"","url":"https://api.github.com/users/cccs-eric","html_url":"https://github.com/cccs-eric","followers_url":"https://api.github.com/users/cccs-eric/followers","following_url":"https://api.github.com/users/cccs-eric/following{/other_user}","gists_url":"https://api.github.com/users/cccs-eric/gists{/gist_id}","starred_url":"https://api.github.com/users/cccs-eric/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cccs-eric/subscriptions","organizations_url":"https://api.github.com/users/cccs-eric/orgs","repos_url":"https://api.github.com/users/cccs-eric/repos","events_url":"https://api.github.com/users/cccs-eric/events{/privacy}","received_events_url":"https://api.github.com/users/cccs-eric/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T11:51:52Z","updated_at":"2022-01-31T12:26:12Z","author_association":"CONTRIBUTOR","body":"@rdblue I've changed the `asMapType` method to `as_map_type` as requested.  I simply wanted to highlight in my previous [comment](https://github.com/apache/iceberg/pull/3989#discussion_r793977478) that this method was part of the `Type` interface.  But I'm totally fine with that change.\r\n\r\nAs for the `NotImplementedError` being raised in the visitor, did you want to also get that fixed?  I had a look and there is a code gap [here](https://github.com/apache/iceberg/blob/master/python_legacy/iceberg/api/types/type_util.py#L172), but I tried to remove catch clauses in the visitor to see if any test would break and everything passed.  So we are obviously missing test coverage in that area, so I think a fix for this should go in another PR, or simply be moved to the new python refactoring.\r\n\r\nLet me know if want anything else added to this PR. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025658560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025825624","html_url":"https://github.com/apache/iceberg/pull/3056#issuecomment-1025825624","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3056","id":1025825624,"node_id":"IC_kwDOCW7NX849JNtY","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T14:48:49Z","updated_at":"2022-01-31T14:48:49Z","author_association":"MEMBER","body":"@ConeyLiu, @rdblue, @jackye1995:   Should we support this with spark3.2 now ? I see some of the users in slack asking for this feature. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025825624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025945558","html_url":"https://github.com/apache/iceberg/pull/3056#issuecomment-1025945558","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3056","id":1025945558,"node_id":"IC_kwDOCW7NX849Jq_W","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T16:09:22Z","updated_at":"2022-01-31T16:09:22Z","author_association":"CONTRIBUTOR","body":"@ajantha-bhat, thanks for bringing this back up. Now that the refactor is done, this should be much easier to support in 3.1 and 3.2. @ConeyLiu would you like to update this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025945558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025958689","html_url":"https://github.com/apache/iceberg/pull/3989#issuecomment-1025958689","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3989","id":1025958689,"node_id":"IC_kwDOCW7NX849JuMh","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T16:21:09Z","updated_at":"2022-01-31T16:21:09Z","author_association":"CONTRIBUTOR","body":"Thanks, @cccs-eric! I'm sorry that I had missed your comment explaining why you chose not to do it. I think it makes sense to go ahead and change it. It is unlikely that this is used like you noted.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025958689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025959987","html_url":"https://github.com/apache/iceberg/pull/4013#issuecomment-1025959987","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4013","id":1025959987,"node_id":"IC_kwDOCW7NX849Jugz","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T16:22:20Z","updated_at":"2022-01-31T16:22:20Z","author_association":"CONTRIBUTOR","body":"Thanks, @rajarshisarkar!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025959987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025960356","html_url":"https://github.com/apache/iceberg/pull/4014#issuecomment-1025960356","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4014","id":1025960356,"node_id":"IC_kwDOCW7NX849Jumk","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T16:22:42Z","updated_at":"2022-01-31T16:22:42Z","author_association":"CONTRIBUTOR","body":"Thanks, @rajarshisarkar!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025960356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025961297","html_url":"https://github.com/apache/iceberg/pull/4011#issuecomment-1025961297","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4011","id":1025961297,"node_id":"IC_kwDOCW7NX849Ju1R","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T16:23:37Z","updated_at":"2022-01-31T16:23:37Z","author_association":"CONTRIBUTOR","body":"Thanks for the quick turn-around @SinghAsDev! I'll take another look, hopefully today.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025961297/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025968006","html_url":"https://github.com/apache/iceberg/pull/3988#issuecomment-1025968006","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3988","id":1025968006,"node_id":"IC_kwDOCW7NX849JweG","user":{"login":"cccs-eric","id":56447460,"node_id":"MDQ6VXNlcjU2NDQ3NDYw","avatar_url":"https://avatars.githubusercontent.com/u/56447460?v=4","gravatar_id":"","url":"https://api.github.com/users/cccs-eric","html_url":"https://github.com/cccs-eric","followers_url":"https://api.github.com/users/cccs-eric/followers","following_url":"https://api.github.com/users/cccs-eric/following{/other_user}","gists_url":"https://api.github.com/users/cccs-eric/gists{/gist_id}","starred_url":"https://api.github.com/users/cccs-eric/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cccs-eric/subscriptions","organizations_url":"https://api.github.com/users/cccs-eric/orgs","repos_url":"https://api.github.com/users/cccs-eric/repos","events_url":"https://api.github.com/users/cccs-eric/events{/privacy}","received_events_url":"https://api.github.com/users/cccs-eric/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T16:29:57Z","updated_at":"2022-01-31T16:29:57Z","author_association":"CONTRIBUTOR","body":"@rdblue Here is another PR related to python_legacy.  Sam requested your input earlier, but I think you missed it.  Would you mind having a look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025968006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025971088","html_url":"https://github.com/apache/iceberg/pull/3988#issuecomment-1025971088","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3988","id":1025971088,"node_id":"IC_kwDOCW7NX849JxOQ","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T16:32:56Z","updated_at":"2022-01-31T16:32:56Z","author_association":"CONTRIBUTOR","body":"@cccs-eric, will do.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1025971088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026010653","html_url":"https://github.com/apache/iceberg/pull/3883#issuecomment-1026010653","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3883","id":1026010653,"node_id":"IC_kwDOCW7NX849J64d","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T17:12:09Z","updated_at":"2022-01-31T17:12:09Z","author_association":"CONTRIBUTOR","body":"@rdblue Sure, makes sense! I will break this up into separate PRs. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026010653/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026146777","html_url":"https://github.com/apache/iceberg/pull/4009#issuecomment-1026146777","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4009","id":1026146777,"node_id":"IC_kwDOCW7NX849KcHZ","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T19:49:27Z","updated_at":"2022-01-31T19:49:27Z","author_association":"CONTRIBUTOR","body":"@fqaiser94, you can edit your personal access token and under scopes, check the \"workflow\" box. Then you can update the github workflow.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026146777/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026193882","html_url":"https://github.com/apache/iceberg/pull/3965#issuecomment-1026193882","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3965","id":1026193882,"node_id":"IC_kwDOCW7NX849Knna","user":{"login":"CircArgs","id":35903677,"node_id":"MDQ6VXNlcjM1OTAzNjc3","avatar_url":"https://avatars.githubusercontent.com/u/35903677?v=4","gravatar_id":"","url":"https://api.github.com/users/CircArgs","html_url":"https://github.com/CircArgs","followers_url":"https://api.github.com/users/CircArgs/followers","following_url":"https://api.github.com/users/CircArgs/following{/other_user}","gists_url":"https://api.github.com/users/CircArgs/gists{/gist_id}","starred_url":"https://api.github.com/users/CircArgs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CircArgs/subscriptions","organizations_url":"https://api.github.com/users/CircArgs/orgs","repos_url":"https://api.github.com/users/CircArgs/repos","events_url":"https://api.github.com/users/CircArgs/events{/privacy}","received_events_url":"https://api.github.com/users/CircArgs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T20:46:28Z","updated_at":"2022-01-31T20:46:28Z","author_association":"CONTRIBUTOR","body":"Not sure if this behavior may be undesirable\r\n\r\n```python\r\n>>> FixedType(length=8) is FixedType(length=8)\r\nFalse\r\n\r\n>>> FixedType(length=8) == FixedType(length=8)\r\nTrue\r\n```\r\n\r\nis that the desired behavior?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026193882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026218307","html_url":"https://github.com/apache/iceberg/pull/4009#issuecomment-1026218307","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4009","id":1026218307,"node_id":"IC_kwDOCW7NX849KtlD","user":{"login":"fqaiser94","id":20507243,"node_id":"MDQ6VXNlcjIwNTA3MjQz","avatar_url":"https://avatars.githubusercontent.com/u/20507243?v=4","gravatar_id":"","url":"https://api.github.com/users/fqaiser94","html_url":"https://github.com/fqaiser94","followers_url":"https://api.github.com/users/fqaiser94/followers","following_url":"https://api.github.com/users/fqaiser94/following{/other_user}","gists_url":"https://api.github.com/users/fqaiser94/gists{/gist_id}","starred_url":"https://api.github.com/users/fqaiser94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fqaiser94/subscriptions","organizations_url":"https://api.github.com/users/fqaiser94/orgs","repos_url":"https://api.github.com/users/fqaiser94/repos","events_url":"https://api.github.com/users/fqaiser94/events{/privacy}","received_events_url":"https://api.github.com/users/fqaiser94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T21:16:36Z","updated_at":"2022-01-31T21:16:36Z","author_association":"CONTRIBUTOR","body":"@wypoon thanks! \r\nAlso, are you able to approve running workflows on this branch? \r\nI'd like to see if everything passes on CI at least :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026218307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026329359","html_url":"https://github.com/apache/iceberg/pull/4008#issuecomment-1026329359","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4008","id":1026329359,"node_id":"IC_kwDOCW7NX849LIsP","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T23:55:37Z","updated_at":"2022-01-31T23:55:37Z","author_association":"CONTRIBUTOR","body":"Thanks, @kbendick!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026329359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026330456","html_url":"https://github.com/apache/iceberg/pull/3959#issuecomment-1026330456","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3959","id":1026330456,"node_id":"IC_kwDOCW7NX849LI9Y","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T23:58:16Z","updated_at":"2022-01-31T23:58:16Z","author_association":"COLLABORATOR","body":"Hi @rdblue @danielcweeks , any thought on this?  Thanks in advance","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026330456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026343368","html_url":"https://github.com/apache/iceberg/pull/3056#issuecomment-1026343368","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3056","id":1026343368,"node_id":"IC_kwDOCW7NX849LMHI","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T00:18:04Z","updated_at":"2022-02-01T00:18:04Z","author_association":"CONTRIBUTOR","body":"OK, will do it.\n\nGet Outlook for Android<https://aka.ms/AAb9ysg>\n________________________________\nFrom: Ryan Blue ***@***.***>\nSent: Tuesday, February 1, 2022 12:09:40 AM\nTo: apache/iceberg ***@***.***>\nCc: Xianyang Liu ***@***.***>; Mention ***@***.***>\nSubject: Re: [apache/iceberg] Support purge for Spark 3.1 & 3.2 (#3056)\n\n\n@ajantha-bhat<https://github.com/ajantha-bhat>, thanks for bringing this back up. Now that the refactor is done, this should be much easier to support in 3.1 and 3.2. @ConeyLiu<https://github.com/ConeyLiu> would you like to update this?\n\nâ€”\nReply to this email directly, view it on GitHub<https://github.com/apache/iceberg/pull/3056#issuecomment-1025945558>, or unsubscribe<https://github.com/notifications/unsubscribe-auth/ADBEWSA65FIVO65ICGJ4HGLUY2X4JANCNFSM5DD7MGTQ>.\nTriage notifications on the go with GitHub Mobile for iOS<https://apps.apple.com/app/apple-store/id1477376905?ct=notification-email&mt=8&pt=524675> or Android<https://play.google.com/store/apps/details?id=com.github.android&referrer=utm_campaign%3Dnotification-email%26utm_medium%3Demail%26utm_source%3Dgithub>.\nYou are receiving this because you were mentioned.Message ID: ***@***.***>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026343368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026369522","html_url":"https://github.com/apache/iceberg/pull/3516#issuecomment-1026369522","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3516","id":1026369522,"node_id":"IC_kwDOCW7NX849LSfy","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T00:59:59Z","updated_at":"2022-02-01T00:59:59Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @flyrain @rdblue!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026369522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026420165","html_url":"https://github.com/apache/iceberg/pull/4009#issuecomment-1026420165","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4009","id":1026420165,"node_id":"IC_kwDOCW7NX849Le3F","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T02:28:36Z","updated_at":"2022-02-01T02:28:36Z","author_association":"CONTRIBUTOR","body":"> @wypoon thanks! Also, are you able to approve running workflows on this branch? I'd like to see if everything passes on CI at least :)\r\n\r\nI am not a committer and have no privileges.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026420165/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026450761","html_url":"https://github.com/apache/iceberg/pull/4017#issuecomment-1026450761","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4017","id":1026450761,"node_id":"IC_kwDOCW7NX849LmVJ","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T03:46:54Z","updated_at":"2022-02-01T03:46:54Z","author_association":"CONTRIBUTOR","body":"@pvary @marton-bod please look.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026450761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026551586","html_url":"https://github.com/apache/iceberg/pull/3965#issuecomment-1026551586","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3965","id":1026551586,"node_id":"IC_kwDOCW7NX849L-8i","user":{"login":"jun-he","id":12246263,"node_id":"MDQ6VXNlcjEyMjQ2MjYz","avatar_url":"https://avatars.githubusercontent.com/u/12246263?v=4","gravatar_id":"","url":"https://api.github.com/users/jun-he","html_url":"https://github.com/jun-he","followers_url":"https://api.github.com/users/jun-he/followers","following_url":"https://api.github.com/users/jun-he/following{/other_user}","gists_url":"https://api.github.com/users/jun-he/gists{/gist_id}","starred_url":"https://api.github.com/users/jun-he/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jun-he/subscriptions","organizations_url":"https://api.github.com/users/jun-he/orgs","repos_url":"https://api.github.com/users/jun-he/repos","events_url":"https://api.github.com/users/jun-he/events{/privacy}","received_events_url":"https://api.github.com/users/jun-he/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T07:37:47Z","updated_at":"2022-02-01T07:37:47Z","author_association":"COLLABORATOR","body":"> Not sure if this behavior may be undesirable\r\n> \r\n> ```python\r\n> >>> FixedType(length=8) is FixedType(length=8)\r\n> False\r\n> \r\n> >>> FixedType(length=8) == FixedType(length=8)\r\n> True\r\n> ```\r\n> \r\n> is that the desired behavior?\r\n\r\nThanks @CircArgs for pointing it out. `is` is used to check the reference equality. The implementation here seems matching what is implemented in Java, i.e. \r\n```\r\n    Assert.assertTrue(Types.FixedType.ofLength(10) != Types.FixedType.ofLength(10));\r\n    Assert.assertTrue(Types.FixedType.ofLength(10).equals(Types.FixedType.ofLength(10)));\r\n```\r\n\r\nI think the issue here is related to the consistency. For non-parameterized types, `is` and `==` return the same results but for non non parameterized types, they are not.\r\n\r\nIf we want to make `is` to be the same as `==`, one way is that we can cache created non parameterized types, which seems to be the approach in https://github.com/apache/iceberg/pull/4016.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026551586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026598525","html_url":"https://github.com/apache/iceberg/pull/3980#issuecomment-1026598525","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3980","id":1026598525,"node_id":"IC_kwDOCW7NX849MKZ9","user":{"login":"szlta","id":40628386,"node_id":"MDQ6VXNlcjQwNjI4Mzg2","avatar_url":"https://avatars.githubusercontent.com/u/40628386?v=4","gravatar_id":"","url":"https://api.github.com/users/szlta","html_url":"https://github.com/szlta","followers_url":"https://api.github.com/users/szlta/followers","following_url":"https://api.github.com/users/szlta/following{/other_user}","gists_url":"https://api.github.com/users/szlta/gists{/gist_id}","starred_url":"https://api.github.com/users/szlta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szlta/subscriptions","organizations_url":"https://api.github.com/users/szlta/orgs","repos_url":"https://api.github.com/users/szlta/repos","events_url":"https://api.github.com/users/szlta/events{/privacy}","received_events_url":"https://api.github.com/users/szlta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T08:42:58Z","updated_at":"2022-02-01T08:42:58Z","author_association":"CONTRIBUTOR","body":"Thanks for the reviews and the merge!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026598525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026626425","html_url":"https://github.com/apache/iceberg/issues/4015#issuecomment-1026626425","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4015","id":1026626425,"node_id":"IC_kwDOCW7NX849MRN5","user":{"login":"rajarshisarkar","id":4561678,"node_id":"MDQ6VXNlcjQ1NjE2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/4561678?v=4","gravatar_id":"","url":"https://api.github.com/users/rajarshisarkar","html_url":"https://github.com/rajarshisarkar","followers_url":"https://api.github.com/users/rajarshisarkar/followers","following_url":"https://api.github.com/users/rajarshisarkar/following{/other_user}","gists_url":"https://api.github.com/users/rajarshisarkar/gists{/gist_id}","starred_url":"https://api.github.com/users/rajarshisarkar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajarshisarkar/subscriptions","organizations_url":"https://api.github.com/users/rajarshisarkar/orgs","repos_url":"https://api.github.com/users/rajarshisarkar/repos","events_url":"https://api.github.com/users/rajarshisarkar/events{/privacy}","received_events_url":"https://api.github.com/users/rajarshisarkar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T09:17:15Z","updated_at":"2022-02-01T09:17:15Z","author_association":"CONTRIBUTOR","body":"Hi @elferherrera,\r\n\r\nI think you are referring to `Spark3Util.toTransforms` which creates an array of `Transform`: [Code Link](https://github.com/apache/iceberg/blob/master/spark/v3.2/spark/src/main/java/org/apache/iceberg/spark/Spark3Util.java#L255-L311)\r\n\r\nYou can refer `SparkTable` class to understand the caller.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026626425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026761547","html_url":"https://github.com/apache/iceberg/pull/4018#issuecomment-1026761547","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4018","id":1026761547,"node_id":"IC_kwDOCW7NX849MyNL","user":{"login":"marton-bod","id":19599214,"node_id":"MDQ6VXNlcjE5NTk5MjE0","avatar_url":"https://avatars.githubusercontent.com/u/19599214?v=4","gravatar_id":"","url":"https://api.github.com/users/marton-bod","html_url":"https://github.com/marton-bod","followers_url":"https://api.github.com/users/marton-bod/followers","following_url":"https://api.github.com/users/marton-bod/following{/other_user}","gists_url":"https://api.github.com/users/marton-bod/gists{/gist_id}","starred_url":"https://api.github.com/users/marton-bod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marton-bod/subscriptions","organizations_url":"https://api.github.com/users/marton-bod/orgs","repos_url":"https://api.github.com/users/marton-bod/repos","events_url":"https://api.github.com/users/marton-bod/events{/privacy}","received_events_url":"https://api.github.com/users/marton-bod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T11:53:00Z","updated_at":"2022-02-01T11:53:17Z","author_association":"COLLABORATOR","body":"In the newer versions of Hive, there is a table property `external.table.purge` which if true, the external table data will be deleted upon dropping the table, just like for managed tables. For Iceberg tables created by the Hive engine, we automatically append this property `external.table.purge=true` (and set the gc.enabled to true as well accordingly).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026761547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026852298","html_url":"https://github.com/apache/iceberg/pull/4020#issuecomment-1026852298","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4020","id":1026852298,"node_id":"IC_kwDOCW7NX849NIXK","user":{"login":"izchen","id":67534059,"node_id":"MDQ6VXNlcjY3NTM0MDU5","avatar_url":"https://avatars.githubusercontent.com/u/67534059?v=4","gravatar_id":"","url":"https://api.github.com/users/izchen","html_url":"https://github.com/izchen","followers_url":"https://api.github.com/users/izchen/followers","following_url":"https://api.github.com/users/izchen/following{/other_user}","gists_url":"https://api.github.com/users/izchen/gists{/gist_id}","starred_url":"https://api.github.com/users/izchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/izchen/subscriptions","organizations_url":"https://api.github.com/users/izchen/orgs","repos_url":"https://api.github.com/users/izchen/repos","events_url":"https://api.github.com/users/izchen/events{/privacy}","received_events_url":"https://api.github.com/users/izchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T13:36:53Z","updated_at":"2022-02-01T13:36:53Z","author_association":"CONTRIBUTOR","body":"@rdblue @kbendick Could you help review? ðŸ˜„","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026852298/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026892885","html_url":"https://github.com/apache/iceberg/pull/3056#issuecomment-1026892885","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3056","id":1026892885,"node_id":"IC_kwDOCW7NX849NSRV","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T14:18:54Z","updated_at":"2022-02-01T14:18:54Z","author_association":"CONTRIBUTOR","body":"@ajantha-bhat @rdblue Please take a look, thanks a lot.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1026892885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027097691","html_url":"https://github.com/apache/iceberg/pull/4010#issuecomment-1027097691","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4010","id":1027097691,"node_id":"IC_kwDOCW7NX849OERb","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T17:24:19Z","updated_at":"2022-02-01T17:24:19Z","author_association":"CONTRIBUTOR","body":"> 406 http error code should rather be a 400\r\n\r\nI don't think that I agree. 400 is something that the caller did incorrectly, but this is that the service doesn't support custom metadata. Neither one fits very well, but I think 406 is closer because it indicates that something isn't supported.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027097691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027105346","html_url":"https://github.com/apache/iceberg/pull/4020#issuecomment-1027105346","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4020","id":1027105346,"node_id":"IC_kwDOCW7NX849OGJC","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T17:32:30Z","updated_at":"2022-02-01T17:32:30Z","author_association":"CONTRIBUTOR","body":"Mostly looks good to me. Just a couple of minor things to fix. Thanks, @izchen!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027105346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027109889","html_url":"https://github.com/apache/iceberg/pull/4010#issuecomment-1027109889","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4010","id":1027109889,"node_id":"IC_kwDOCW7NX849OHQB","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T17:37:14Z","updated_at":"2022-02-01T17:37:14Z","author_association":"CONTRIBUTOR","body":"> > 406 http error code should rather be a 400\r\n> \r\n> I don't think that I agree. 400 is something that the caller did incorrectly, but this is that the service doesn't support custom metadata. Neither one fits very well, but I think 406 is closer because it indicates that something isn't supported.\r\n\r\nyeah I guess it's difficult to find the appropriate error code for this particular one","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027109889/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027110666","html_url":"https://github.com/apache/iceberg/pull/4010#issuecomment-1027110666","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4010","id":1027110666,"node_id":"IC_kwDOCW7NX849OHcK","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T17:38:06Z","updated_at":"2022-02-01T17:38:06Z","author_association":"CONTRIBUTOR","body":"Thanks for the reviews, @kbendick, @nastra, and @RussellSpitzer!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027110666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027165582","html_url":"https://github.com/apache/iceberg/pull/4018#issuecomment-1027165582","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4018","id":1027165582,"node_id":"IC_kwDOCW7NX849OU2O","user":{"login":"SinghAsDev","id":4915557,"node_id":"MDQ6VXNlcjQ5MTU1NTc=","avatar_url":"https://avatars.githubusercontent.com/u/4915557?v=4","gravatar_id":"","url":"https://api.github.com/users/SinghAsDev","html_url":"https://github.com/SinghAsDev","followers_url":"https://api.github.com/users/SinghAsDev/followers","following_url":"https://api.github.com/users/SinghAsDev/following{/other_user}","gists_url":"https://api.github.com/users/SinghAsDev/gists{/gist_id}","starred_url":"https://api.github.com/users/SinghAsDev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SinghAsDev/subscriptions","organizations_url":"https://api.github.com/users/SinghAsDev/orgs","repos_url":"https://api.github.com/users/SinghAsDev/repos","events_url":"https://api.github.com/users/SinghAsDev/events{/privacy}","received_events_url":"https://api.github.com/users/SinghAsDev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T18:39:53Z","updated_at":"2022-02-01T18:44:36Z","author_association":"CONTRIBUTOR","body":"Hi @marton-bod , thanks for the comment. A few follow ups.\r\n\r\n1. What you said is definitely correct that we translate `gc.enabled` behavior to hive's `external.table.purge` behavior while creating hms table in hive catalog. However, the issue I am pointing to is that `external` table behavior is not translated to `gc.enabled` behavior. The issue should be evident from unit tests added in this PR, but let me also add a bit of clarification to the PR summary.\r\n2. `external.table.purge` is only supported for >= Hive 4.x.\r\n3. I think I should update the diff to also check for `external.table.purge` property before turning on/off gc.enabled. What do you think @marton-bod ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027165582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027189505","html_url":"https://github.com/apache/iceberg/pull/4023#issuecomment-1027189505","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4023","id":1027189505,"node_id":"IC_kwDOCW7NX849OasB","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T19:06:47Z","updated_at":"2022-02-01T19:06:47Z","author_association":"CONTRIBUTOR","body":"cc @rdblue @RussellSpitzer @singhpk234 @szehon-ho @flyrain ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027189505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027244729","html_url":"https://github.com/apache/iceberg/pull/3774#issuecomment-1027244729","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3774","id":1027244729,"node_id":"IC_kwDOCW7NX849OoK5","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T20:13:31Z","updated_at":"2022-02-01T20:13:31Z","author_association":"CONTRIBUTOR","body":"Thanks, @SinghAsDev!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027244729/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027271733","html_url":"https://github.com/apache/iceberg/pull/4023#issuecomment-1027271733","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4023","id":1027271733,"node_id":"IC_kwDOCW7NX849Ouw1","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T20:47:05Z","updated_at":"2022-02-01T20:47:05Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @singhpk234 @szehon-ho @rdblue!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027271733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027294992","html_url":"https://github.com/apache/iceberg/issues/4026#issuecomment-1027294992","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4026","id":1027294992,"node_id":"IC_kwDOCW7NX849O0cQ","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T21:15:40Z","updated_at":"2022-02-01T21:15:40Z","author_association":"CONTRIBUTOR","body":"I'll make a separate ticket for the Github action.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027294992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027311957","html_url":"https://github.com/apache/iceberg/pull/4027#issuecomment-1027311957","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4027","id":1027311957,"node_id":"IC_kwDOCW7NX849O4lV","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T21:37:19Z","updated_at":"2022-02-01T21:37:19Z","author_association":"CONTRIBUTOR","body":"cc @rdblue @RussellSpitzer @jackye1995 @samredai ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027311957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027392338","html_url":"https://github.com/apache/iceberg/pull/4020#issuecomment-1027392338","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4020","id":1027392338,"node_id":"IC_kwDOCW7NX849PMNS","user":{"login":"izchen","id":67534059,"node_id":"MDQ6VXNlcjY3NTM0MDU5","avatar_url":"https://avatars.githubusercontent.com/u/67534059?v=4","gravatar_id":"","url":"https://api.github.com/users/izchen","html_url":"https://github.com/izchen","followers_url":"https://api.github.com/users/izchen/followers","following_url":"https://api.github.com/users/izchen/following{/other_user}","gists_url":"https://api.github.com/users/izchen/gists{/gist_id}","starred_url":"https://api.github.com/users/izchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/izchen/subscriptions","organizations_url":"https://api.github.com/users/izchen/orgs","repos_url":"https://api.github.com/users/izchen/repos","events_url":"https://api.github.com/users/izchen/events{/privacy}","received_events_url":"https://api.github.com/users/izchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T23:32:37Z","updated_at":"2022-02-01T23:32:37Z","author_association":"CONTRIBUTOR","body":"Thanks for your review, @rdblue !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027392338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027394402","html_url":"https://github.com/apache/iceberg/pull/4020#issuecomment-1027394402","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4020","id":1027394402,"node_id":"IC_kwDOCW7NX849PMti","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-01T23:36:40Z","updated_at":"2022-02-01T23:36:40Z","author_association":"CONTRIBUTOR","body":"Thanks, @izchen! I'll merge this when tests have passed. Do you want to also port this to Spark 3.1 and 3.2?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027394402/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027466195","html_url":"https://github.com/apache/iceberg/pull/4018#issuecomment-1027466195","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4018","id":1027466195,"node_id":"IC_kwDOCW7NX849PePT","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-02T00:51:12Z","updated_at":"2022-02-02T00:51:12Z","author_association":"COLLABORATOR","body":"Hi @SinghAsDev , I see now, if I understand this is making gc.enabled synonymous with another table property 'external', but only in case of HiveCatalog.\r\n\r\nIt sounds reasonable to me, but is it too specific for Spark -> HiveCatalog setup?  As there's several clients (Spark, Hive, Flink, Trino) and several catalogs (Hive, Glue, JDBC, REST?), I wonder if we have to make 'external' a recognized Iceberg table property across all catalogs to make it standard. \r\n\r\nJust thinking aloud, would an easier fix for Spark's Catalog to just do the mapping from 'external' => 'gc.enabled', like Hive is doing?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1027466195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]