[{"url":"https://api.github.com/repos/apache/helix/issues/comments/733190660","html_url":"https://github.com/apache/helix/pull/1550#issuecomment-733190660","issue_url":"https://api.github.com/repos/apache/helix/issues/1550","id":733190660,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzE5MDY2MA==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T19:37:40Z","updated_at":"2020-11-24T19:37:40Z","author_association":"NONE","body":"I did initial parsing for this PR. Did not see any specific issue. Will look more soon.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/733190660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/733193530","html_url":"https://github.com/apache/helix/pull/1550#issuecomment-733193530","issue_url":"https://api.github.com/repos/apache/helix/issues/1550","id":733193530,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzE5MzUzMA==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T19:43:26Z","updated_at":"2020-11-24T19:43:26Z","author_association":"CONTRIBUTOR","body":"> So the participant side change will come later on. Right? Then this PR will be a new controller just listening on both paths? Basically, the integration tests are passing and they are confirming the controller is able to listen on both paths. But the actual functionality of the new path will be done later when you do participant side change?\r\n\r\nThe goal I'm trying to achieve is that this PR can be separately rolled out/back without breaking anything. Your understanding is right that there's no code that's making use of the new path, but the listener is ready to listen and respond with the new path. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/733193530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/733240250","html_url":"https://github.com/apache/helix/issues/1552#issuecomment-733240250","issue_url":"https://api.github.com/repos/apache/helix/issues/1552","id":733240250,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzI0MDI1MA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T21:20:47Z","updated_at":"2020-11-24T21:20:47Z","author_association":"CONTRIBUTOR","body":"Local test does not seem to re produce it.\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/733240250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/733313457","html_url":"https://github.com/apache/helix/pull/1554#issuecomment-733313457","issue_url":"https://api.github.com/repos/apache/helix/issues/1554","id":733313457,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzMxMzQ1Nw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T23:54:12Z","updated_at":"2020-11-24T23:54:12Z","author_association":"CONTRIBUTOR","body":"The specific test case passed with no issue. Since there is no logic change, I will merge the PR.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/733313457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/733908737","html_url":"https://github.com/apache/helix/issues/1336#issuecomment-733908737","issue_url":"https://api.github.com/repos/apache/helix/issues/1336","id":733908737,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzkwODczNw==","user":{"login":"xyuanlu","id":6392021,"node_id":"MDQ6VXNlcjYzOTIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/6392021?v=4","gravatar_id":"","url":"https://api.github.com/users/xyuanlu","html_url":"https://github.com/xyuanlu","followers_url":"https://api.github.com/users/xyuanlu/followers","following_url":"https://api.github.com/users/xyuanlu/following{/other_user}","gists_url":"https://api.github.com/users/xyuanlu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyuanlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyuanlu/subscriptions","organizations_url":"https://api.github.com/users/xyuanlu/orgs","repos_url":"https://api.github.com/users/xyuanlu/repos","events_url":"https://api.github.com/users/xyuanlu/events{/privacy}","received_events_url":"https://api.github.com/users/xyuanlu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-25T19:32:22Z","updated_at":"2020-11-25T19:50:02Z","author_association":"CONTRIBUTOR","body":"The test is constantly failing on master now. The direct reason is the same, there is an empty `INSTANCE_CAPACITY_KEYS=[],` list so we get a IndexOutOfBoundsException error. \r\n\r\nMy theory is that, this empty list could be added by TestInstancesAccessor.testValidateWeightForAllInstances() or TestPerInstanceAccessor.testValidateWeightForInstance() since these two tests and TestClusterAccessor.testUpdateConfigFields() uses the same cluster \"TestCluster_0\". \r\n\r\nIn the test log where testUpdateConfigFields is failing, the two tests that added this empty list always happen before this testUpdateConfigFields.  \r\n\r\nMy solution is simply changing the cluster for testUpdateConfigFields to another test cluster and use \"TestCluster_0\" only for WAGED related tests. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/733908737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/733950379","html_url":"https://github.com/apache/helix/pull/1548#issuecomment-733950379","issue_url":"https://api.github.com/repos/apache/helix/issues/1548","id":733950379,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzk1MDM3OQ==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-25T21:18:53Z","updated_at":"2020-11-25T21:18:53Z","author_association":"NONE","body":"This PR is ready to be merged. \r\n\r\nFinal commit message:\r\nFix targeted job quota calculation for given up tasks\r\n\r\nIn this commit, the tasks that should not be retried again, will not occupy \r\nany quota. The would avoid the jobs being blocked because of quota \r\nusage of given up tasks.\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/733950379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/736132378","html_url":"https://github.com/apache/helix/pull/1550#issuecomment-736132378","issue_url":"https://api.github.com/repos/apache/helix/issues/1550","id":736132378,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjEzMjM3OA==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-01T00:16:00Z","updated_at":"2020-12-01T00:16:00Z","author_association":"CONTRIBUTOR","body":"@dasahcc As requested, I have trimmed down this PR: I removed all the non-essential changes, including REST and tools (utils) changes. \r\n\r\nI kept both path building and controller logic change together. It doesn't make much sense for them to be separated. The controller change looks daunting, but it's actually just a refactor, so it's not very hard to review. Splitting it out would result too small of a PR. \r\n\r\nPlease let me know if this looks good. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/736132378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/736756313","html_url":"https://github.com/apache/helix/pull/1566#issuecomment-736756313","issue_url":"https://api.github.com/repos/apache/helix/issues/1566","id":736756313,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjc1NjMxMw==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-01T19:05:28Z","updated_at":"2020-12-01T19:05:28Z","author_association":"CONTRIBUTOR","body":"Overall, LGTM. Let's wait for vote of 0.9.9 official release.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/736756313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/736842580","html_url":"https://github.com/apache/helix/issues/1336#issuecomment-736842580","issue_url":"https://api.github.com/repos/apache/helix/issues/1336","id":736842580,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjg0MjU4MA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-01T21:50:24Z","updated_at":"2020-12-01T21:50:24Z","author_association":"CONTRIBUTOR","body":"```\r\n\r\n  @Test(dependsOnMethods = \"checkUpdateFails\")\r\n  public void testValidateWeightForInstance()\r\n      throws IOException {\r\n    System.out.println(\"Start test :\" + TestHelper.getTestMethodName());\r\n    // Empty out ClusterConfig's weight key setting and InstanceConfig's capacity maps for testing\r\n    ClusterConfig clusterConfig = _configAccessor.getClusterConfig(CLUSTER_NAME);\r\n    clusterConfig.getRecord()\r\n        .setListField(ClusterConfig.ClusterConfigProperty.INSTANCE_CAPACITY_KEYS.name(),\r\n            new ArrayList<>());\r\n    _configAccessor.setClusterConfig(CLUSTER_NAME, clusterConfig);\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/736842580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/736877957","html_url":"https://github.com/apache/helix/pull/1570#issuecomment-736877957","issue_url":"https://api.github.com/repos/apache/helix/issues/1570","id":736877957,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjg3Nzk1Nw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-01T23:10:11Z","updated_at":"2020-12-01T23:10:11Z","author_association":"CONTRIBUTOR","body":"> Code looks good for me. Do we have tests to verify it?\r\n\r\nWe don’t have a specific test to just test the type of partitions in the payload. It’d be a bit complicated to specifically test the part as it’ll need a http server running and some context to verify the payload the custom client receives. Mocking doesn’t work for testing this specific part.\r\nI’ve manually tested it by connecting it to SN. And print out the payloads. It is what we want: list of partitions, not a string. I think this change it fine.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/736877957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/736889897","html_url":"https://github.com/apache/helix/pull/1570#issuecomment-736889897","issue_url":"https://api.github.com/repos/apache/helix/issues/1570","id":736889897,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjg4OTg5Nw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-01T23:37:27Z","updated_at":"2020-12-01T23:37:27Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @dasahcc \r\n\r\nProblem:\r\nCustomRestClientImpl serializes the partitions list to a string before sending the payloads to the custom client health check Rest API. The custom client is expecting a list of partitions, but received a string. So the custom client returns an error 400. But actually the partitions are healthy. This is caused by the serialization/deserialization inconsistency between helix rest and custom client rest.\r\n\r\nSolution:\r\nKeep the partitions list in the payload without serializing it to a string when sending post request. So the custom client will get the list of partitions after deserializing the payloads.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/736889897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/737434186","html_url":"https://github.com/apache/helix/pull/1565#issuecomment-737434186","issue_url":"https://api.github.com/repos/apache/helix/issues/1565","id":737434186,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzQzNDE4Ng==","user":{"login":"xyuanlu","id":6392021,"node_id":"MDQ6VXNlcjYzOTIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/6392021?v=4","gravatar_id":"","url":"https://api.github.com/users/xyuanlu","html_url":"https://github.com/xyuanlu","followers_url":"https://api.github.com/users/xyuanlu/followers","following_url":"https://api.github.com/users/xyuanlu/following{/other_user}","gists_url":"https://api.github.com/users/xyuanlu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyuanlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyuanlu/subscriptions","organizations_url":"https://api.github.com/users/xyuanlu/orgs","repos_url":"https://api.github.com/users/xyuanlu/repos","events_url":"https://api.github.com/users/xyuanlu/events{/privacy}","received_events_url":"https://api.github.com/users/xyuanlu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-02T19:06:08Z","updated_at":"2020-12-02T19:06:08Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged. Approved by alirezazamani and dasahcc.\r\n\r\nFinal commit message:\r\nRefine task framework log. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/737434186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/737573287","html_url":"https://github.com/apache/helix/pull/1568#issuecomment-737573287","issue_url":"https://api.github.com/repos/apache/helix/issues/1568","id":737573287,"node_id":"MDEyOklzc3VlQ29tbWVudDczNzU3MzI4Nw==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-03T00:13:26Z","updated_at":"2020-12-03T00:13:26Z","author_association":"NONE","body":"This PR is ready to be merged.\r\n\r\nFinal commit message:\r\nMark tasks as DROPPED if assigned participant is not live\r\n\r\nIn this commit, when the workflows or jobs are being stopped,\r\nif the assigned participant becomes offline for the task, the\r\ntask would be marked as DROPPED which allows the workflows\r\nand jobs to go to STOPPED state.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/737573287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/738457550","html_url":"https://github.com/apache/helix/pull/1566#issuecomment-738457550","issue_url":"https://api.github.com/repos/apache/helix/issues/1566","id":738457550,"node_id":"MDEyOklzc3VlQ29tbWVudDczODQ1NzU1MA==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-03T23:50:16Z","updated_at":"2020-12-03T23:50:16Z","author_association":"CONTRIBUTOR","body":"@zhangmeng916 We may not need this. Discussed with Kishore, this release is not necessary.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/738457550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/738534952","html_url":"https://github.com/apache/helix/pull/1562#issuecomment-738534952","issue_url":"https://api.github.com/repos/apache/helix/issues/1562","id":738534952,"node_id":"MDEyOklzc3VlQ29tbWVudDczODUzNDk1Mg==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T03:09:22Z","updated_at":"2020-12-04T03:11:05Z","author_association":"CONTRIBUTOR","body":"> A general question, I see some of verifiers use external client to be true, some are false. Is that on purpose? Could you elaborate more why we do this?\r\n\r\nGood question to ask here. \r\n\r\nSome constructors have `usesExternalZkClient = false` and others have `usesExternalZkClient=true`. Why?\r\n\r\nThe answer lies in where the ZkClient object is being passed in. You will see a pattern where the top-level, public constructors that accept an instance of `zkClient` (external zkclient) have the flag set to true, and the private constructors whose zkClient objects originate from the Builder (created from `createZkClient()` method) will have this flag set to false.\r\n\r\nThe difference here is that if the flag is set to true, the zkclient will NOT be closed because it is an external ZkClient (that might be used elsewhere - we don't control the fate of this ZkClient). If the flat is set to false, then the ZkClient will be closed because we control this ZkClient (we created it).\r\n\r\n@dasahcc let me know if this clarifies it. I've added more descriptive comments.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/738534952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/738932730","html_url":"https://github.com/apache/helix/pull/1550#issuecomment-738932730","issue_url":"https://api.github.com/repos/apache/helix/issues/1550","id":738932730,"node_id":"MDEyOklzc3VlQ29tbWVudDczODkzMjczMA==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T18:04:59Z","updated_at":"2020-12-04T18:04:59Z","author_association":"NONE","body":"Do not forget to request to merge it to the Task_CurrentState branch","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/738932730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/738993687","html_url":"https://github.com/apache/helix/pull/1560#issuecomment-738993687","issue_url":"https://api.github.com/repos/apache/helix/issues/1560","id":738993687,"node_id":"MDEyOklzc3VlQ29tbWVudDczODk5MzY4Nw==","user":{"login":"xyuanlu","id":6392021,"node_id":"MDQ6VXNlcjYzOTIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/6392021?v=4","gravatar_id":"","url":"https://api.github.com/users/xyuanlu","html_url":"https://github.com/xyuanlu","followers_url":"https://api.github.com/users/xyuanlu/followers","following_url":"https://api.github.com/users/xyuanlu/following{/other_user}","gists_url":"https://api.github.com/users/xyuanlu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyuanlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyuanlu/subscriptions","organizations_url":"https://api.github.com/users/xyuanlu/orgs","repos_url":"https://api.github.com/users/xyuanlu/repos","events_url":"https://api.github.com/users/xyuanlu/events{/privacy}","received_events_url":"https://api.github.com/users/xyuanlu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-04T20:10:20Z","updated_at":"2020-12-04T20:10:20Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged. Approved by @kaisun2000 \r\n\r\nFinal commit message:\r\nFix test Helix-rest testAddConfigFields","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/738993687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/740254066","html_url":"https://github.com/apache/helix/pull/1550#issuecomment-740254066","issue_url":"https://api.github.com/repos/apache/helix/issues/1550","id":740254066,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDI1NDA2Ng==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-07T23:56:39Z","updated_at":"2020-12-07T23:56:39Z","author_association":"CONTRIBUTOR","body":"Yeah. I dont have major concern and already approve it. If there is no other concerns, feel free to check in.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/740254066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/740819020","html_url":"https://github.com/apache/helix/issues/1576#issuecomment-740819020","issue_url":"https://api.github.com/repos/apache/helix/issues/1576","id":740819020,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDgxOTAyMA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T18:23:00Z","updated_at":"2020-12-08T18:23:00Z","author_association":"CONTRIBUTOR","body":"@brentwritescode This is fair. Would be great if you could submit a PR. Thanks for the catch!","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/740819020/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/740821309","html_url":"https://github.com/apache/helix/issues/1577#issuecomment-740821309","issue_url":"https://api.github.com/repos/apache/helix/issues/1577","id":740821309,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDgyMTMwOQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T18:26:30Z","updated_at":"2020-12-08T18:26:30Z","author_association":"CONTRIBUTOR","body":"Tagging the PMC:\r\n@kishoreg @lei-xia @dasahcc - what do you think? Any big objections?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/740821309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/740889131","html_url":"https://github.com/apache/helix/pull/1550#issuecomment-740889131","issue_url":"https://api.github.com/repos/apache/helix/issues/1550","id":740889131,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MDg4OTEzMQ==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T19:19:59Z","updated_at":"2020-12-08T19:19:59Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @alirezazamani @dasahcc @jiajunwang \r\nFinal commit message:\r\n## Controller-side Task Current State Migration ##\r\nFirst part of task current state migration. All changes made in this PR are on the controller side and are directly pipeline-impacting. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/740889131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/741123469","html_url":"https://github.com/apache/helix/issues/1577#issuecomment-741123469","issue_url":"https://api.github.com/repos/apache/helix/issues/1577","id":741123469,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTEyMzQ2OQ==","user":{"login":"brentwritescode","id":33364712,"node_id":"MDQ6VXNlcjMzMzY0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/33364712?v=4","gravatar_id":"","url":"https://api.github.com/users/brentwritescode","html_url":"https://github.com/brentwritescode","followers_url":"https://api.github.com/users/brentwritescode/followers","following_url":"https://api.github.com/users/brentwritescode/following{/other_user}","gists_url":"https://api.github.com/users/brentwritescode/gists{/gist_id}","starred_url":"https://api.github.com/users/brentwritescode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brentwritescode/subscriptions","organizations_url":"https://api.github.com/users/brentwritescode/orgs","repos_url":"https://api.github.com/users/brentwritescode/repos","events_url":"https://api.github.com/users/brentwritescode/events{/privacy}","received_events_url":"https://api.github.com/users/brentwritescode/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-08T22:16:57Z","updated_at":"2020-12-08T22:16:57Z","author_association":"CONTRIBUTOR","body":"Just saw this and wanted to add a few small comments/thoughts (and then I'll remove myself from this discussion since I know I'm not a core developer here):\r\n\r\nThere was just a very long discussion on the Zookeeper dev mailing list about this 2 months ago if it helps:  https://mail-archives.apache.org/mod_mbox/zookeeper-dev/202010.mbox/browser\r\n\r\nAre you thinking backward-incompatible Java 11 only (i.e. using features that are unavailable in Java 8)?  Asking so I can be prepared to have some discussions since we currently default to Java 8 in my environment.  Java 8 is still LTS until 2030 I think (https://en.wikipedia.org/wiki/Java_version_history),  so maybe worth understanding how many Helix users are bound to that.\r\n\r\nFWIW, I think as of https://github.com/apache/helix/pull/1424 Helix successfully builds on Java 11, though I've only done minimal testing.\r\n\r\nThanks for listening!  \r\n\r\n_slowly backs out of discussion_","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/741123469/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/741569262","html_url":"https://github.com/apache/helix/pull/1581#issuecomment-741569262","issue_url":"https://api.github.com/repos/apache/helix/issues/1581","id":741569262,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTU2OTI2Mg==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T06:43:17Z","updated_at":"2020-12-09T06:43:17Z","author_association":"CONTRIBUTOR","body":"I remember by checking code to your forked repo's master branch will also trigger the test.\r\nCould you please have a try? So you won't need to mark the PR as not for review in the main repo's dashboard : )","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/741569262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/742036465","html_url":"https://github.com/apache/helix/pull/1579#issuecomment-742036465","issue_url":"https://api.github.com/repos/apache/helix/issues/1579","id":742036465,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjAzNjQ2NQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T20:41:33Z","updated_at":"2020-12-09T20:41:33Z","author_association":"CONTRIBUTOR","body":"Please don't apply the webapp changes as we discussed offline.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/742036465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/742074230","html_url":"https://github.com/apache/helix/issues/1577#issuecomment-742074230","issue_url":"https://api.github.com/repos/apache/helix/issues/1577","id":742074230,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjA3NDIzMA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-09T21:28:25Z","updated_at":"2020-12-09T21:28:25Z","author_association":"CONTRIBUTOR","body":"Thanks for the input. It helps to know that there are users out there that build in JDK 8. At the moment, there are no plans to use Java features that are only available in Java 11.\r\n\r\nI'll be sending an email to the helix-user mailing list. If we don't see a strong reason for the upgrade, we might hold off on this since Java 8 code will run under Java 11, 12 and further as they will be backward compatible.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/742074230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/742154219","html_url":"https://github.com/apache/helix/pull/1583#issuecomment-742154219","issue_url":"https://api.github.com/repos/apache/helix/issues/1583","id":742154219,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjE1NDIxOQ==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T00:36:26Z","updated_at":"2020-12-10T00:36:26Z","author_association":"NONE","body":"This PR is ready to be merged.\r\n\r\nFinal commit message:\r\nFix redundant workflow context updates for finished workflows\r\n\r\nIf the workflow has been finished, there is no need to update the workflow context.\r\nIn this commit, this behavior has been fixed and optimized.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/742154219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/742751878","html_url":"https://github.com/apache/helix/pull/1580#issuecomment-742751878","issue_url":"https://api.github.com/repos/apache/helix/issues/1580","id":742751878,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mjc1MTg3OA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T19:42:39Z","updated_at":"2020-12-10T19:42:39Z","author_association":"CONTRIBUTOR","body":"One general comment, shall we add a simple test to make sure this is working as expected?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/742751878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/742863583","html_url":"https://github.com/apache/helix/pull/1580#issuecomment-742863583","issue_url":"https://api.github.com/repos/apache/helix/issues/1580","id":742863583,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mjg2MzU4Mw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-10T23:22:22Z","updated_at":"2020-12-10T23:22:22Z","author_association":"CONTRIBUTOR","body":"One bigger picture question:\r\n\r\nThink from controller caching layer (of zk)  point of view. The write of data is normally from tools or participant or even controller. But they do not use (should not use) these setClusterConfig etc methods of BaseControllerDataProvider.\r\n\r\nThen who should use these set method? Note, these set method does not really persist the data to ZK. BaseControllerDataProvider is read only cache, right? \r\n\r\nIn fact, we should mark these set method test only? Otherwise, when people use them, they would be surprised:\r\n\r\n-  The data is not going to persist to next controller running cycle.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/742863583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/742894133","html_url":"https://github.com/apache/helix/pull/1592#issuecomment-742894133","issue_url":"https://api.github.com/repos/apache/helix/issues/1592","id":742894133,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mjg5NDEzMw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T00:51:21Z","updated_at":"2020-12-11T00:51:21Z","author_association":"CONTRIBUTOR","body":"> Could you elaborate more in description why the retry is waiting? Is that because of the recursive call? This is the part I am confusing, since the get ExpectedZookeeper will throw exception and not caught. So the recursive call will not continue.\r\n\r\nI think you got it. If getExpectedZookeeper throws an exception, the recursive retry will not continue or push next retry request to queue. Then the final step of marking the operation done is not executed. In this case, the caller will `wait()` forever. To resolve it, we need to cancel it so `wait()` can be released.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/742894133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/742966189","html_url":"https://github.com/apache/helix/pull/1580#issuecomment-742966189","issue_url":"https://api.github.com/repos/apache/helix/issues/1580","id":742966189,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mjk2NjE4OQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T04:47:35Z","updated_at":"2020-12-11T05:01:29Z","author_association":"CONTRIBUTOR","body":"> Change looks fine to me. Can you elaborate more we do this from external input? Why we cannot set cluster config and call these functions\r\n\r\nThat's also a possible way. But the target refresh method is a private one. And I don't think we want to break the OO design here.\r\nSo as a result you cannot set and then trigger a partial refresh from outside. So either you set to override one list, but the corresponding derived fields have old values. Or you call full refresh but your set data will be covered by the ZK data source.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/742966189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/742968121","html_url":"https://github.com/apache/helix/pull/1580#issuecomment-742968121","issue_url":"https://api.github.com/repos/apache/helix/issues/1580","id":742968121,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Mjk2ODEyMQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T04:54:27Z","updated_at":"2020-12-11T04:54:27Z","author_association":"CONTRIBUTOR","body":"> One bigger picture question:\r\n> \r\n> Think from controller caching layer (of zk) point of view. The write of data is normally from tools or participant or even controller. But they do not use (should not use) these setClusterConfig etc methods of BaseControllerDataProvider.\r\n> \r\n> Then who should use these set method? Note, these set method does not really persist the data to ZK. BaseControllerDataProvider is read only cache, right?\r\n> \r\n> In fact, we should mark these set method test only? Otherwise, when people use them, they would be surprised:\r\n> \r\n> * The data is not going to persist to next controller running cycle.\r\n\r\nI don't agree with you. The rebalancer tool is not test code. They are really used in production.\r\nThe best we can do is create a child class based on the basic cache class. But that is out of the scope of this PR. And it is not an essential change.\r\n\r\nI suggest focusing on the issue fixing here. For the other topic, feel free to create other issues to track : )","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/742968121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/743333250","html_url":"https://github.com/apache/helix/pull/1579#issuecomment-743333250","issue_url":"https://api.github.com/repos/apache/helix/issues/1579","id":743333250,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzMzMzI1MA==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T17:45:26Z","updated_at":"2020-12-11T17:45:26Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @alirezazamani \r\nFinal commit message:\r\n## Task Current State Migration: helix-rest, utils, tests changes ##\r\nFirst part of task current state migration. All changes made in this PR are on the controller side and are non-pipeline related. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/743333250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/743448796","html_url":"https://github.com/apache/helix/pull/1532#issuecomment-743448796","issue_url":"https://api.github.com/repos/apache/helix/issues/1532","id":743448796,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzQ0ODc5Ng==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T21:59:01Z","updated_at":"2020-12-11T21:59:01Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/helix/pull/1532#discussion_r541205021\r\n\r\n> This method seems to be added for debug log only.\r\nFor simplifying the business logic, I suggest don't add this method but relying on the existing get method to retrieve information\r\n\r\nThis is not for debug info only. Note the selectedMessage from previous stage is of this type. Before, we don't need to access it this way. Now per replica stage is using MessageOutput as input, this why we need this method.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/743448796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/743453913","html_url":"https://github.com/apache/helix/pull/1592#issuecomment-743453913","issue_url":"https://api.github.com/repos/apache/helix/issues/1592","id":743453913,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzQ1MzkxMw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-11T22:11:38Z","updated_at":"2020-12-11T22:11:38Z","author_association":"CONTRIBUTOR","body":"> Are we sure this is the reason that cause pipeline stop? Did you see the error log that cause the pipeline hanging? Because after a certain time, we do not see any of these exceptions.\r\n\r\n@dasahcc We do believe it is the root cause. Below is the stack trace right before the controller was restarted. By combining the previous session mismatch stack trace with this, it makes sense the message async creation operation is kept waiting by `waitForSuccess()`.  Session mismatched exception is thrown and interrupt the retrying. The retry run catches the exception but does not cancel the callback or send it for next retry - the async callback operation is never marked as done but not ever tried again after the exception. \r\n\r\nSince the pipeline handling is stuck at `waitForSuccess()`, it cannot process future events or send any messages. That's why you also did not see any task messages written.\r\n\r\n```\r\norg.apache.helix.zookeeper.zkclient.exception.ZkSessionMismatchedException: <LOG MESSAGE REDACTED DUE TO GDPR REQUIREMENTS>\r\n\tat org.apache.helix.zookeeper.zkclient.ZkClient.getExpectedZookeeper(ZkClient.java:2373)\r\n\tat org.apache.helix.zookeeper.zkclient.ZkClient.lambda$doAsyncCreate$3(ZkClient.java:1930)\r\n\tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1655)\r\n\tat org.apache.helix.zookeeper.zkclient.ZkClient.doAsyncCreate(ZkClient.java:1929)\r\n\tat org.apache.helix.zookeeper.zkclient.ZkClient.access$900(ZkClient.java:85)\r\n\tat org.apache.helix.zookeeper.zkclient.ZkClient$13.doRetry(ZkClient.java:1935)\r\n\tat org.apache.helix.zookeeper.zkclient.callback.ZkAsyncRetryThread.run(ZkAsyncRetryThread.java:46)\r\n```\r\n\r\n```\r\n2020/12/10 01:54:30.867 INFO [GenericHelixController] [HelixController-pipeline-default-cluster-(79b55ff9_DEFAULT)] [helix] [] END ClusterEventProcessor thread default-cluster\r\n2020/12/10 01:54:30.867 INFO [GenericHelixController] [HelixTaskExecutor-message_handle_thread_5] [helix] [] Shutting down TASK pipeline\r\n2020/12/10 01:54:30.867 ERROR [ZkAsyncCallbacks] [HelixController-pipeline-task-cluster-(99dc3f03_TASK)] [helix] [] Interrupted waiting for success\r\njava.lang.InterruptedException: null\r\n    at java.lang.Object.wait(Native Method) ~[?:1.8.0_172]\r\n    at java.lang.Object.wait(Object.java:502) ~[?:1.8.0_172]\r\n    at org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks$DefaultCallback.waitForSuccess(ZkAsyncCallbacks.java:220) [helix-core-1.0.1.2200.jar:1.0.1.2200]\r\n    at org.apache.helix.manager.zk.ZkBaseDataAccessor.create(ZkBaseDataAccessor.java:761) [helix-core-1.0.1.2200.jar:1.0.1.2200]\r\n    at org.apache.helix.manager.zk.ZkBaseDataAccessor.createChildren(ZkBaseDataAccessor.java:831) [helix-core-1.0.1.2200.jar:1.0.1.2200]\r\n    at org.apache.helix.manager.zk.ZKHelixDataAccessor.createChildren(ZKHelixDataAccessor.java:516) [helix-core-1.0.1.2200.jar:1.0.1.2200]\r\n    at org.apache.helix.controller.stages.MessageDispatchStage.sendMessages(MessageDispatchStage.java:187) [helix-core-1.0.1.2200.jar:1.0.1.2200]\r\n    at org.apache.helix.controller.stages.MessageDispatchStage.processEvent(MessageDispatchStage.java:96) [helix-core-1.0.1.2200.jar:1.0.1.2200]\r\n    at org.apache.helix.controller.stages.task.TaskMessageDispatchStage.process(TaskMessageDispatchStage.java:33) [helix-core-1.0.1.2200.jar:1.0.1.2200]\r\n    at org.apache.helix.controller.pipeline.Pipeline.handle(Pipeline.java:68) [helix-core-1.0.1.2200.jar:1.0.1.2200]\r\n    at org.apache.helix.controller.GenericHelixController.handleEvent(GenericHelixController.java:802) [helix-core-1.0.1.2200.jar:1.0.1.2200]\r\n    at org.apache.helix.controller.GenericHelixController.access$500(GenericHelixController.java:129) [helix-core-1.0.1.2200.jar:1.0.1.2200]\r\n    at org.apache.helix.controller.GenericHelixController$ClusterEventProcessor.run(GenericHelixController.java:1442) [helix-core-1.0.1.2200.jar:1.0.1.2200]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/743453913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/743690145","html_url":"https://github.com/apache/helix/pull/1532#issuecomment-743690145","issue_url":"https://api.github.com/repos/apache/helix/issues/1532","id":743690145,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MzY5MDE0NQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-12T02:56:00Z","updated_at":"2020-12-12T02:56:00Z","author_association":"CONTRIBUTOR","body":"@jiajunwang , thx for the review, address-ed current main logic feedback. Will add the comments about why test changed next. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/743690145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/744695853","html_url":"https://github.com/apache/helix/pull/1592#issuecomment-744695853","issue_url":"https://api.github.com/repos/apache/helix/issues/1592","id":744695853,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDY5NTg1Mw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T20:37:36Z","updated_at":"2020-12-14T20:37:36Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang @alirezazamani \r\n\r\nProblem:\r\nIn the ZkClient async retry run, if ZkSessionMismatchedException is thrown from getExpectedZookeeper(), the actual async callback is neither being retried nor cancelled, causing the callback waitForSuccess() to hang.\r\n\r\nSolution:\r\nOnce an exception is thrown during the retry run, the callback context should be processed or cancelled correctly.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/744695853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/744729607","html_url":"https://github.com/apache/helix/pull/1564#issuecomment-744729607","issue_url":"https://api.github.com/repos/apache/helix/issues/1564","id":744729607,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDcyOTYwNw==","user":{"login":"zhangmeng916","id":56051770,"node_id":"MDQ6VXNlcjU2MDUxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/56051770?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangmeng916","html_url":"https://github.com/zhangmeng916","followers_url":"https://api.github.com/users/zhangmeng916/followers","following_url":"https://api.github.com/users/zhangmeng916/following{/other_user}","gists_url":"https://api.github.com/users/zhangmeng916/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangmeng916/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangmeng916/subscriptions","organizations_url":"https://api.github.com/users/zhangmeng916/orgs","repos_url":"https://api.github.com/users/zhangmeng916/repos","events_url":"https://api.github.com/users/zhangmeng916/events{/privacy}","received_events_url":"https://api.github.com/users/zhangmeng916/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T21:44:12Z","updated_at":"2020-12-14T21:44:12Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged. Approved by @jiajunwang \r\nFinal commit message:\r\nImplement priority for Helix distributed lock.\r\n- Add priority definition and different kinds of timeout definition for Helix lock.\r\n- Add notification support during high priority lock request preempting low priority lock.\r\n- Add forceful lock concept when the cleanup work of low priority lock is not finished in the timeout. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/744729607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/744741417","html_url":"https://github.com/apache/helix/pull/1580#issuecomment-744741417","issue_url":"https://api.github.com/repos/apache/helix/issues/1580","id":744741417,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDc0MTQxNw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-14T22:08:54Z","updated_at":"2020-12-14T22:08:54Z","author_association":"CONTRIBUTOR","body":"> > One bigger picture question:\r\n> > Think from controller caching layer (of zk) point of view. The write of data is normally from tools or participant or even controller. But they do not use (should not use) these setClusterConfig etc methods of BaseControllerDataProvider.\r\n> > Then who should use these set method? Note, these set method does not really persist the data to ZK. BaseControllerDataProvider is read only cache, right?\r\n> > In fact, we should mark these set method test only? Otherwise, when people use them, they would be surprised:\r\n> > \r\n> > * The data is not going to persist to next controller running cycle.\r\n> \r\n> I don't agree with you. The rebalancer tool is not test code. They are really used in production.\r\n> The best we can do is create a child class based on the basic cache class. But that is out of the scope of this PR. And it is not an essential change.\r\n> \r\n> I suggest focusing on the issue fixing here. For the other topic, feel free to create other issues to track : )\r\n\r\nThe the question is this:\r\n\r\nCalling setClusterConfig method of BaseControllerDataProvider by tools would only change data in the cache. However, it is not going to change data in Zookeeper. Next controller run cycle, the data refreshed from BaseController would be old again.\r\n\r\n Is this something expected? I doubt.\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/744741417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/744881329","html_url":"https://github.com/apache/helix/pull/1588#issuecomment-744881329","issue_url":"https://api.github.com/repos/apache/helix/issues/1588","id":744881329,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NDg4MTMyOQ==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T00:27:57Z","updated_at":"2020-12-15T00:27:57Z","author_association":"CONTRIBUTOR","body":"@pkuwm If you are ready, remember to add the final statement. Then merge into master.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/744881329/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/745009246","html_url":"https://github.com/apache/helix/pull/1588#issuecomment-745009246","issue_url":"https://api.github.com/repos/apache/helix/issues/1588","id":745009246,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTAwOTI0Ng==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T02:22:59Z","updated_at":"2020-12-15T02:22:59Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @dasahcc @jiajunwang @alirezazamani \r\n\r\nThe log for invoking pipeline in controller is incorrect: cluster name and pipeline name is mis-ordered. This commit corrects the order.\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/745009246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/745606714","html_url":"https://github.com/apache/helix/pull/1584#issuecomment-745606714","issue_url":"https://api.github.com/repos/apache/helix/issues/1584","id":745606714,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTYwNjcxNA==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-15T22:25:45Z","updated_at":"2020-12-15T22:25:45Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @dasahcc  @alirezazamani \r\nFinal commit message:\r\n## Participant-side Task Current State Migration ##\r\nSecond part of task current state migration. All changes made in this PR are on the participant side. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/745606714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/745642983","html_url":"https://github.com/apache/helix/pull/1580#issuecomment-745642983","issue_url":"https://api.github.com/repos/apache/helix/issues/1580","id":745642983,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTY0Mjk4Mw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T00:01:54Z","updated_at":"2020-12-16T00:01:54Z","author_association":"CONTRIBUTOR","body":"> > > One bigger picture question:\r\n> > > Think from controller caching layer (of zk) point of view. The write of data is normally from tools or participant or even controller. But they do not use (should not use) these setClusterConfig etc methods of BaseControllerDataProvider.\r\n> > > Then who should use these set method? Note, these set method does not really persist the data to ZK. BaseControllerDataProvider is read only cache, right?\r\n> > > In fact, we should mark these set method test only? Otherwise, when people use them, they would be surprised:\r\n> > > \r\n> > > * The data is not going to persist to next controller running cycle.\r\n> > \r\n> > \r\n> > I don't agree with you. The rebalancer tool is not test code. They are really used in production.\r\n> > The best we can do is create a child class based on the basic cache class. But that is out of the scope of this PR. And it is not an essential change.\r\n> > I suggest focusing on the issue fixing here. For the other topic, feel free to create other issues to track : )\r\n> \r\n> The the question is this:\r\n> \r\n> Calling setClusterConfig method of BaseControllerDataProvider by tools would only change data in the cache. However, it is not going to change data in Zookeeper. Next controller run cycle, the data refreshed from BaseController would be old again.\r\n> \r\n> Is this something expected? I doubt.\r\n\r\nAs I mentioned this is out of the scope of this PR. And I already proposed a solution in the previous discussion. Do you have any other comments about the change itself? Or I suggest that we discuss future enhancement in another thread.\r\nI think what you said is valid. But I'm not convinced that this is very important so we need to address in the near future. But if you don't agree, please feel free to create an issue for your concern. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/745642983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/745957862","html_url":"https://github.com/apache/helix/pull/1594#issuecomment-745957862","issue_url":"https://api.github.com/repos/apache/helix/issues/1594","id":745957862,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NTk1Nzg2Mg==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T09:08:04Z","updated_at":"2020-12-16T09:08:04Z","author_association":"CONTRIBUTOR","body":"Thanks for the PR. Good catch! I agree with the change.\r\n\r\nAfter I search around, there is one thing I'd like to suggest in addition. There is another uncommon exception \"org.apache.commons.lang3.NotImplementedException\" used in InstancesAccessor.java. Do you think it makes sense to change that one as well in this PR?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/745957862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/746579232","html_url":"https://github.com/apache/helix/pull/1594#issuecomment-746579232","issue_url":"https://api.github.com/repos/apache/helix/issues/1594","id":746579232,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NjU3OTIzMg==","user":{"login":"brentwritescode","id":33364712,"node_id":"MDQ6VXNlcjMzMzY0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/33364712?v=4","gravatar_id":"","url":"https://api.github.com/users/brentwritescode","html_url":"https://github.com/brentwritescode","followers_url":"https://api.github.com/users/brentwritescode/followers","following_url":"https://api.github.com/users/brentwritescode/following{/other_user}","gists_url":"https://api.github.com/users/brentwritescode/gists{/gist_id}","starred_url":"https://api.github.com/users/brentwritescode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brentwritescode/subscriptions","organizations_url":"https://api.github.com/users/brentwritescode/orgs","repos_url":"https://api.github.com/users/brentwritescode/repos","events_url":"https://api.github.com/users/brentwritescode/events{/privacy}","received_events_url":"https://api.github.com/users/brentwritescode/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T16:25:56Z","updated_at":"2020-12-16T16:25:56Z","author_association":"CONTRIBUTOR","body":"Sure, I can do that.  \r\n\r\nI think the difference worth pointing out is that things from the `sun.*` packages literally don't compile on some JDKs whereas things from `commons-lang3` compile fine, they just come from a 3rd party dependency instead of from the core JDK itself.\r\n\r\nThe usage of `commons-lang3` as a whole in the entire project seems pretty minimal.  It's only getting used in a few places in `helix-rest` (JerseyUriRequestBuilder, ClusterAccessor, InstancesAccesor) and one place in `zookeeper-api` (RoutingDataReaderType) so maybe a future consideration might be either making more use of it or removing the dependency entirely from the project.\r\n\r\nUpdated PR incoming.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/746579232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/746794830","html_url":"https://github.com/apache/helix/pull/1580#issuecomment-746794830","issue_url":"https://api.github.com/repos/apache/helix/issues/1580","id":746794830,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Njc5NDgzMA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T18:36:19Z","updated_at":"2020-12-16T18:36:19Z","author_association":"CONTRIBUTOR","body":"Approved by @dasahcc, I will merge the change soon.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/746794830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/746900960","html_url":"https://github.com/apache/helix/issues/1525#issuecomment-746900960","issue_url":"https://api.github.com/repos/apache/helix/issues/1525","id":746900960,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NjkwMDk2MA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T19:43:00Z","updated_at":"2020-12-16T19:43:00Z","author_association":"CONTRIBUTOR","body":"As a record, pasted the log for the case that if the API called is unimplemented on the zk server, the session will be disconnected. The zkClient needs to wait for reconnection to be able to call getChildren on server.\r\n\r\n```\r\n2020-12-15 17:24:16,558 [TestNGInvoker-testGetChildrenOnLargeNumChildren()] INFO  org.apache.helix.zookeeper.zkclient.ZkConnection - Pagination config zk.getChildren.pagination.disabled=false, method to be invoked: getAllChildrenPaginated\r\n2020-12-15 17:24:16,577 [TestNGInvoker-testGetChildrenOnLargeNumChildren(localhost:2121)] WARN  org.apache.zookeeper.ClientCnxn - Session 0x17668ca649f0005 for sever localhost:2121, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.\r\nEndOfStreamException: Unable to read additional data from server sessionid 0x17668ca649f0005, likely server has closed socket\r\n    at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:77)\r\n    at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350)\r\n    at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1275)\r\norg.apache.zookeeper.KeeperException$UnimplementedException: KeeperErrorCode = Unimplemented for /testGetChildrenOnLargeNumChildren\r\n2020-12-15 17:24:16,581 [TestNGInvoker-testGetChildrenOnLargeNumChildren()] WARN  org.apache.helix.zookeeper.zkclient.ZkConnection - Paginated getChildren is unimplemented in ZK server! Falling back to non-paginated getChildren\r\n==== calling getChildren\r\n2020-12-15 17:24:16,684 [TestNGInvoker-testGetChildrenOnLargeNumChildren()-EventThread] INFO  org.apache.helix.zookeeper.zkclient.ZkClient - zkclient 0, zookeeper state changed ( Disconnected )\r\n2020-12-15 17:24:18,393 [TestNGInvoker-testGetChildrenOnLargeNumChildren(localhost:2121)] INFO  org.apache.zookeeper.ClientCnxn - Opening socket connection to server hulu-localhost:2121.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/746900960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/747643982","html_url":"https://github.com/apache/helix/pull/1594#issuecomment-747643982","issue_url":"https://api.github.com/repos/apache/helix/issues/1594","id":747643982,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzY0Mzk4Mg==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T19:16:52Z","updated_at":"2020-12-17T19:16:52Z","author_association":"CONTRIBUTOR","body":"@brentwritescode Please follow the instruction here to confirm that this PR is ready to be merged. https://github.com/apache/helix/wiki/Pull-Request-Merge-Steps","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/747643982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/747660639","html_url":"https://github.com/apache/helix/pull/1594#issuecomment-747660639","issue_url":"https://api.github.com/repos/apache/helix/issues/1594","id":747660639,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NzY2MDYzOQ==","user":{"login":"brentwritescode","id":33364712,"node_id":"MDQ6VXNlcjMzMzY0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/33364712?v=4","gravatar_id":"","url":"https://api.github.com/users/brentwritescode","html_url":"https://github.com/brentwritescode","followers_url":"https://api.github.com/users/brentwritescode/followers","following_url":"https://api.github.com/users/brentwritescode/following{/other_user}","gists_url":"https://api.github.com/users/brentwritescode/gists{/gist_id}","starred_url":"https://api.github.com/users/brentwritescode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brentwritescode/subscriptions","organizations_url":"https://api.github.com/users/brentwritescode/orgs","repos_url":"https://api.github.com/users/brentwritescode/repos","events_url":"https://api.github.com/users/brentwritescode/events{/privacy}","received_events_url":"https://api.github.com/users/brentwritescode/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-17T19:46:38Z","updated_at":"2020-12-17T19:46:38Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/747660639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/747849827","html_url":"https://github.com/apache/helix/pull/1526#issuecomment-747849827","issue_url":"https://api.github.com/repos/apache/helix/issues/1526","id":747849827,"node_id":"MDEyOklzc3VlQ29tbWVudDc0Nzg0OTgyNw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T03:46:26Z","updated_at":"2020-12-18T03:46:26Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang \r\n\r\nIf a node has many children and the packet length exceeds the network buffer limit, the ZkClient's getChildren operation will fail. There are some cases that users will expect to fetch all the children successfully. Pagination could be used to support this feature. It requires the native zk to have the paginated getChildren API.\r\n\r\nThis uses reflection to determine whether or not getChildren should use the native zk pagination api.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/747849827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/748260887","html_url":"https://github.com/apache/helix/pull/1589#issuecomment-748260887","issue_url":"https://api.github.com/repos/apache/helix/issues/1589","id":748260887,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODI2MDg4Nw==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T18:55:13Z","updated_at":"2020-12-18T18:55:13Z","author_association":"CONTRIBUTOR","body":"Code looks good to me. But I have a general question. Fundamental, there is no difference for synchronize and atomic variable. Can this change solve the problem? Have we tested it for real use case?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/748260887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/748269133","html_url":"https://github.com/apache/helix/pull/1589#issuecomment-748269133","issue_url":"https://api.github.com/repos/apache/helix/issues/1589","id":748269133,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODI2OTEzMw==","user":{"login":"xyuanlu","id":6392021,"node_id":"MDQ6VXNlcjYzOTIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/6392021?v=4","gravatar_id":"","url":"https://api.github.com/users/xyuanlu","html_url":"https://github.com/xyuanlu","followers_url":"https://api.github.com/users/xyuanlu/followers","following_url":"https://api.github.com/users/xyuanlu/following{/other_user}","gists_url":"https://api.github.com/users/xyuanlu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyuanlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyuanlu/subscriptions","organizations_url":"https://api.github.com/users/xyuanlu/orgs","repos_url":"https://api.github.com/users/xyuanlu/repos","events_url":"https://api.github.com/users/xyuanlu/events{/privacy}","received_events_url":"https://api.github.com/users/xyuanlu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T19:12:32Z","updated_at":"2020-12-18T19:12:32Z","author_association":"CONTRIBUTOR","body":"> Code looks good to me. But I have a general question. Fundamental, there is no difference for synchronize and atomic variable. Can this change solve the problem? Have we tested it for real use case?\r\n\r\nYes, we have tested the change in our test env. The oendingCallback queue is almost zero and goes down as soon as number of callback request goes down. \r\nI think the major difference for this PR is it removed the lock on `this` keyword for _batchCallbackProcessor. The contention is not between different enqueue request, but between the enqueue and the `synchronize(this)` in function `invoke`, where `subscribeForChange` will take a lot time. \r\n\r\nI think the take away from this issue is that, we should always sync on as small object as possible.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/748269133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/748270643","html_url":"https://github.com/apache/helix/pull/1589#issuecomment-748270643","issue_url":"https://api.github.com/repos/apache/helix/issues/1589","id":748270643,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODI3MDY0Mw==","user":{"login":"xyuanlu","id":6392021,"node_id":"MDQ6VXNlcjYzOTIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/6392021?v=4","gravatar_id":"","url":"https://api.github.com/users/xyuanlu","html_url":"https://github.com/xyuanlu","followers_url":"https://api.github.com/users/xyuanlu/followers","following_url":"https://api.github.com/users/xyuanlu/following{/other_user}","gists_url":"https://api.github.com/users/xyuanlu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyuanlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyuanlu/subscriptions","organizations_url":"https://api.github.com/users/xyuanlu/orgs","repos_url":"https://api.github.com/users/xyuanlu/repos","events_url":"https://api.github.com/users/xyuanlu/events{/privacy}","received_events_url":"https://api.github.com/users/xyuanlu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-18T19:14:30Z","updated_at":"2020-12-18T19:14:30Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged in. Also verified the final change on test environment. \r\napproved by @jiajunwang \r\n\r\nFinal commit message\r\n\r\nReduce lock contention in CallbackHandler.enqueueTask using atomic ref.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/748270643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/748393028","html_url":"https://github.com/apache/helix/pull/1542#issuecomment-748393028","issue_url":"https://api.github.com/repos/apache/helix/issues/1542","id":748393028,"node_id":"MDEyOklzc3VlQ29tbWVudDc0ODM5MzAyOA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-19T00:57:47Z","updated_at":"2020-12-19T00:57:47Z","author_association":"CONTRIBUTOR","body":"@kaisun2000 Since we have already claimed that the test is now stabilized enough, is this PR still needed?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/748393028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/754997754","html_url":"https://github.com/apache/helix/pull/1597#issuecomment-754997754","issue_url":"https://api.github.com/repos/apache/helix/issues/1597","id":754997754,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDk5Nzc1NA==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T01:03:28Z","updated_at":"2021-01-06T01:03:28Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @alirezazamani \r\nFinal commit message:\r\n## Stabilize TestTaskCurrentStatePathDisabled ##\r\nTestTaskCurrentStatePathDisabled could be unstable due to the assertNotNull it performs on current states, should use verify instead. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/754997754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/755436486","html_url":"https://github.com/apache/helix/issues/1598#issuecomment-755436486","issue_url":"https://api.github.com/repos/apache/helix/issues/1598","id":755436486,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTQzNjQ4Ng==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T17:15:26Z","updated_at":"2021-01-06T17:15:26Z","author_association":"CONTRIBUTOR","body":"We can update the annotation with a github verified one: https://github.com/marketplace/actions/paths-changes-filter#examples","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/755436486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/755572659","html_url":"https://github.com/apache/helix/pull/1562#issuecomment-755572659","issue_url":"https://api.github.com/repos/apache/helix/issues/1562","id":755572659,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTU3MjY1OQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T19:36:31Z","updated_at":"2021-01-06T19:36:31Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged.\r\n\r\nZkBaseDataAccessor and Helix API that uses it using its Builder were having zkClient thread leak issues because the usesExternalZkClient flag was not being set properly. Also, the family of Verifiers were having a similar issue. This change solves this by making sure the private/protected constructors used by the Builders of these classes set the flag correctly to false so that in their respective close() functions, the underlying zkClient (created by the Builder) would get closed.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/755572659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/755698925","html_url":"https://github.com/apache/helix/pull/1600#issuecomment-755698925","issue_url":"https://api.github.com/repos/apache/helix/issues/1600","id":755698925,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTY5ODkyNQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T21:08:22Z","updated_at":"2021-01-06T21:08:22Z","author_association":"CONTRIBUTOR","body":"We should use the result of github run as standard now. Does it pass now?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/755698925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/755711205","html_url":"https://github.com/apache/helix/pull/1597#issuecomment-755711205","issue_url":"https://api.github.com/repos/apache/helix/issues/1597","id":755711205,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTcxMTIwNQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T21:16:53Z","updated_at":"2021-01-06T21:16:53Z","author_association":"CONTRIBUTOR","body":"Please post the github run link showing unit test passing.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/755711205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/755723881","html_url":"https://github.com/apache/helix/pull/1600#issuecomment-755723881","issue_url":"https://api.github.com/repos/apache/helix/issues/1600","id":755723881,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTcyMzg4MQ==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T21:26:52Z","updated_at":"2021-01-06T21:26:52Z","author_association":"NONE","body":"> We should use the result of github run as standard now. Does it pass now?\r\n\r\nIt does not even run recently.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/755723881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/755821855","html_url":"https://github.com/apache/helix/issues/1598#issuecomment-755821855","issue_url":"https://api.github.com/repos/apache/helix/issues/1598","id":755821855,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTgyMTg1NQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T01:18:56Z","updated_at":"2021-01-07T01:18:56Z","author_association":"CONTRIBUTOR","body":"> We can update the annotation with a github verified one: https://github.com/marketplace/actions/paths-changes-filter#examples\r\n\r\nThis annotation does not work for /apache projects. We need to satisfy this: `Actions in this workflow must be: created by GitHub, verified in the GitHub Marketplace, within a repository owned by apache or match the following: apache/, dawidd6/action-download-artifact@, gradle/wrapper-validation-action@*, peter-evans/create-pull-request@*, scacap/action-surefire-report@*, shivammathur/setup-php@*, peaceiris/actions-hugo@*, peaceiris/actions-gh-pages@*`","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/755821855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/755832394","html_url":"https://github.com/apache/helix/issues/1598#issuecomment-755832394","issue_url":"https://api.github.com/repos/apache/helix/issues/1598","id":755832394,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTgzMjM5NA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T01:53:57Z","updated_at":"2021-01-07T01:53:57Z","author_association":"CONTRIBUTOR","body":"Workflow \"PR test\" is fixed by #1603 ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/755832394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/756455605","html_url":"https://github.com/apache/helix/pull/1600#issuecomment-756455605","issue_url":"https://api.github.com/repos/apache/helix/issues/1600","id":756455605,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjQ1NTYwNQ==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T23:48:05Z","updated_at":"2021-01-07T23:48:05Z","author_association":"NONE","body":"This PR is ready to be merged.\r\n\r\nEliminate redundant workflow context writes\r\n\r\nIn this commit, the workflow context will only be written to ZK\r\nif it has been modified. Otherwise, there is no need to update the\r\ncontext information in the ZK.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/756455605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/758889264","html_url":"https://github.com/apache/helix/pull/1605#issuecomment-758889264","issue_url":"https://api.github.com/repos/apache/helix/issues/1605","id":758889264,"node_id":"MDEyOklzc3VlQ29tbWVudDc1ODg4OTI2NA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-12T19:38:42Z","updated_at":"2021-01-12T19:38:42Z","author_association":"CONTRIBUTOR","body":"Approved by @alirezazamani, I will merge it soon.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/758889264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/758899642","html_url":"https://github.com/apache/helix/pull/1607#issuecomment-758899642","issue_url":"https://api.github.com/repos/apache/helix/issues/1607","id":758899642,"node_id":"MDEyOklzc3VlQ29tbWVudDc1ODg5OTY0Mg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-12T19:58:07Z","updated_at":"2021-01-12T19:58:07Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/helix/actions/runs/478730540/workflow, some test failed? Is it related to this change?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/758899642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/759088063","html_url":"https://github.com/apache/helix/pull/1607#issuecomment-759088063","issue_url":"https://api.github.com/repos/apache/helix/issues/1607","id":759088063,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTA4ODA2Mw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-12T22:52:27Z","updated_at":"2021-01-12T22:52:27Z","author_association":"CONTRIBUTOR","body":"Approved by @alirezazamani and @dasahcc.\r\nI will merge this PR since the existing test failure is in the master branch already. We will fix that issue separately.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/759088063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/759088744","html_url":"https://github.com/apache/helix/pull/1607#issuecomment-759088744","issue_url":"https://api.github.com/repos/apache/helix/issues/1607","id":759088744,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTA4ODc0NA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-12T22:54:04Z","updated_at":"2021-01-12T22:54:04Z","author_association":"CONTRIBUTOR","body":"> https://github.com/apache/helix/actions/runs/478730540/workflow, some test failed? Is it related to this change?\r\n\r\nNo, I have tested without this PR. Same error.\r\nIn addition, as I search code, this change is not impacting any other tests except TestIdealStateBuilder in any way.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/759088744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/759114018","html_url":"https://github.com/apache/helix/issues/1601#issuecomment-759114018","issue_url":"https://api.github.com/repos/apache/helix/issues/1601","id":759114018,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTExNDAxOA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-13T00:02:07Z","updated_at":"2021-01-13T00:02:07Z","author_association":"CONTRIBUTOR","body":"Will be fixed by #1609 ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/759114018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/759677066","html_url":"https://github.com/apache/helix/pull/1611#issuecomment-759677066","issue_url":"https://api.github.com/repos/apache/helix/issues/1611","id":759677066,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTY3NzA2Ng==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-13T19:32:35Z","updated_at":"2021-01-13T19:33:51Z","author_association":"NONE","body":"This PR is ready to be merged.\r\n\r\nFinal commit message:\r\n\r\nEliminate redundant job context writes\r\n\r\nIn this commit, the job context will only be written to ZK if \r\nit has been modified. Otherwise, there is no need to update \r\nthe context information in the ZK.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/759677066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/759743095","html_url":"https://github.com/apache/helix/pull/1612#issuecomment-759743095","issue_url":"https://api.github.com/repos/apache/helix/issues/1612","id":759743095,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTc0MzA5NQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-13T21:13:26Z","updated_at":"2021-01-13T21:13:26Z","author_association":"CONTRIBUTOR","body":"Approved by @pkuwm and @alirezazamani ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/759743095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/761518154","html_url":"https://github.com/apache/helix/pull/1586#issuecomment-761518154","issue_url":"https://api.github.com/repos/apache/helix/issues/1586","id":761518154,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTUxODE1NA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-16T06:52:54Z","updated_at":"2021-01-16T06:52:54Z","author_association":"CONTRIBUTOR","body":"@kaisun2000 Is this PR ready to merge?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/761518154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/761519103","html_url":"https://github.com/apache/helix/pull/1609#issuecomment-761519103","issue_url":"https://api.github.com/repos/apache/helix/issues/1609","id":761519103,"node_id":"MDEyOklzc3VlQ29tbWVudDc2MTUxOTEwMw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-16T07:02:57Z","updated_at":"2021-01-16T07:02:57Z","author_association":"CONTRIBUTOR","body":"Maybe we could also add the reason here?\r\n```\r\n        } else if (Code.get(cb.getRc()) != Code.NONODE && throwException) {\r\n          throw new HelixMetaDataAccessException(\r\n              String.format(\"Failed to read node %s\", paths.get(i)));\r\n```\r\nWill be\r\n```\r\nString.format(\"Failed to read node %s, return code: %s\", paths.get(i)), Code.get(cb.getRc()));\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/761519103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/763884250","html_url":"https://github.com/apache/helix/pull/1609#issuecomment-763884250","issue_url":"https://api.github.com/repos/apache/helix/issues/1609","id":763884250,"node_id":"MDEyOklzc3VlQ29tbWVudDc2Mzg4NDI1MA==","user":{"login":"xyuanlu","id":6392021,"node_id":"MDQ6VXNlcjYzOTIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/6392021?v=4","gravatar_id":"","url":"https://api.github.com/users/xyuanlu","html_url":"https://github.com/xyuanlu","followers_url":"https://api.github.com/users/xyuanlu/followers","following_url":"https://api.github.com/users/xyuanlu/following{/other_user}","gists_url":"https://api.github.com/users/xyuanlu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyuanlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyuanlu/subscriptions","organizations_url":"https://api.github.com/users/xyuanlu/orgs","repos_url":"https://api.github.com/users/xyuanlu/repos","events_url":"https://api.github.com/users/xyuanlu/events{/privacy}","received_events_url":"https://api.github.com/users/xyuanlu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-20T19:37:01Z","updated_at":"2021-01-20T19:37:01Z","author_association":"CONTRIBUTOR","body":"> Maybe we could also add the reason here?\r\n> \r\n> ```\r\n>         } else if (Code.get(cb.getRc()) != Code.NONODE && throwException) {\r\n>           throw new HelixMetaDataAccessException(\r\n>               String.format(\"Failed to read node %s\", paths.get(i)));\r\n> ```\r\n> \r\n> Will be\r\n> \r\n> ```\r\n> String.format(\"Failed to read node %s, return code: %s\", paths.get(i)), Code.get(cb.getRc()));\r\n> ```\r\n\r\nTFTR. Nice suggestion. Updated.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/763884250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/764439291","html_url":"https://github.com/apache/helix/pull/1609#issuecomment-764439291","issue_url":"https://api.github.com/repos/apache/helix/issues/1609","id":764439291,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NDQzOTI5MQ==","user":{"login":"xyuanlu","id":6392021,"node_id":"MDQ6VXNlcjYzOTIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/6392021?v=4","gravatar_id":"","url":"https://api.github.com/users/xyuanlu","html_url":"https://github.com/xyuanlu","followers_url":"https://api.github.com/users/xyuanlu/followers","following_url":"https://api.github.com/users/xyuanlu/following{/other_user}","gists_url":"https://api.github.com/users/xyuanlu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyuanlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyuanlu/subscriptions","organizations_url":"https://api.github.com/users/xyuanlu/orgs","repos_url":"https://api.github.com/users/xyuanlu/repos","events_url":"https://api.github.com/users/xyuanlu/events{/privacy}","received_events_url":"https://api.github.com/users/xyuanlu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-21T07:24:36Z","updated_at":"2021-01-21T07:24:36Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged. Approved by @jiajunwang \r\n\r\nFinal commit message:\r\nInclude Exception Message in Log of ZkBaseDataAccessor\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/764439291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/764858787","html_url":"https://github.com/apache/helix/issues/1617#issuecomment-764858787","issue_url":"https://api.github.com/repos/apache/helix/issues/1617","id":764858787,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NDg1ODc4Nw==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-21T18:46:33Z","updated_at":"2021-01-21T18:46:33Z","author_association":"CONTRIBUTOR","body":"Would adding a isLeader() check prevent this scenario here? https://github.com/apache/helix/blob/361e18da4152c0146daa9d9dc7929f1f2bdcd9dc/helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java#L656","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/764858787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/765572644","html_url":"https://github.com/apache/helix/pull/1620#issuecomment-765572644","issue_url":"https://api.github.com/repos/apache/helix/issues/1620","id":765572644,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NTU3MjY0NA==","user":{"login":"lei-xia","id":9325494,"node_id":"MDQ6VXNlcjkzMjU0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9325494?v=4","gravatar_id":"","url":"https://api.github.com/users/lei-xia","html_url":"https://github.com/lei-xia","followers_url":"https://api.github.com/users/lei-xia/followers","following_url":"https://api.github.com/users/lei-xia/following{/other_user}","gists_url":"https://api.github.com/users/lei-xia/gists{/gist_id}","starred_url":"https://api.github.com/users/lei-xia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lei-xia/subscriptions","organizations_url":"https://api.github.com/users/lei-xia/orgs","repos_url":"https://api.github.com/users/lei-xia/repos","events_url":"https://api.github.com/users/lei-xia/events{/privacy}","received_events_url":"https://api.github.com/users/lei-xia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-22T17:32:40Z","updated_at":"2021-01-22T17:32:40Z","author_association":"MEMBER","body":"Can we make the PR title more meaningful, what is PR1 here mean?  I know it is your first PR on this feature, but that does not really make much sense as the PR title. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/765572644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/765793744","html_url":"https://github.com/apache/helix/issues/1617#issuecomment-765793744","issue_url":"https://api.github.com/repos/apache/helix/issues/1617","id":765793744,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NTc5Mzc0NA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-23T00:09:52Z","updated_at":"2021-01-23T00:10:20Z","author_association":"CONTRIBUTOR","body":"> Would adding a isLeader() check prevent this scenario here?\r\n> \r\n> https://github.com/apache/helix/blob/361e18da4152c0146daa9d9dc7929f1f2bdcd9dc/helix-core/src/main/java/org/apache/helix/controller/GenericHelixController.java#L656\r\n\r\nPossible but not necessarily the best solution. The leadership could be changed at any time. However, there is no existing way to modify the record in the map after the controller instance is created.\r\nI believe we need to refactor this factory map to address this problem gracefully.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/765793744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/767415354","html_url":"https://github.com/apache/helix/pull/1621#issuecomment-767415354","issue_url":"https://api.github.com/repos/apache/helix/issues/1621","id":767415354,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NzQxNTM1NA==","user":{"login":"AnatolyPopov","id":2312534,"node_id":"MDQ6VXNlcjIzMTI1MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/2312534?v=4","gravatar_id":"","url":"https://api.github.com/users/AnatolyPopov","html_url":"https://github.com/AnatolyPopov","followers_url":"https://api.github.com/users/AnatolyPopov/followers","following_url":"https://api.github.com/users/AnatolyPopov/following{/other_user}","gists_url":"https://api.github.com/users/AnatolyPopov/gists{/gist_id}","starred_url":"https://api.github.com/users/AnatolyPopov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AnatolyPopov/subscriptions","organizations_url":"https://api.github.com/users/AnatolyPopov/orgs","repos_url":"https://api.github.com/users/AnatolyPopov/repos","events_url":"https://api.github.com/users/AnatolyPopov/events{/privacy}","received_events_url":"https://api.github.com/users/AnatolyPopov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-26T09:25:56Z","updated_at":"2021-01-26T09:25:56Z","author_association":"NONE","body":"Hi @narendly, could you please clarify how to get this one merged and released if possible?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/767415354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/767772269","html_url":"https://github.com/apache/helix/pull/1621#issuecomment-767772269","issue_url":"https://api.github.com/repos/apache/helix/issues/1621","id":767772269,"node_id":"MDEyOklzc3VlQ29tbWVudDc2Nzc3MjI2OQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-26T19:24:56Z","updated_at":"2021-01-26T19:24:56Z","author_association":"CONTRIBUTOR","body":"Hi @AnatolyPopov - you can follow the procedures described here: https://github.com/apache/helix/wiki/Pull-Request-Merge-Steps\r\n\r\nAlso, we aren't currently supporting 0.9.X versions and currently have no plans for future releases for 0.9+ versions. If you think there's a need, you can start a conversation in the Helix email thread: user@helix.apache.org. Alternatively, you could try to upgrade to the latest official release.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/767772269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/767840260","html_url":"https://github.com/apache/helix/pull/1621#issuecomment-767840260","issue_url":"https://api.github.com/repos/apache/helix/issues/1621","id":767840260,"node_id":"MDEyOklzc3VlQ29tbWVudDc2Nzg0MDI2MA==","user":{"login":"AnatolyPopov","id":2312534,"node_id":"MDQ6VXNlcjIzMTI1MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/2312534?v=4","gravatar_id":"","url":"https://api.github.com/users/AnatolyPopov","html_url":"https://github.com/AnatolyPopov","followers_url":"https://api.github.com/users/AnatolyPopov/followers","following_url":"https://api.github.com/users/AnatolyPopov/following{/other_user}","gists_url":"https://api.github.com/users/AnatolyPopov/gists{/gist_id}","starred_url":"https://api.github.com/users/AnatolyPopov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AnatolyPopov/subscriptions","organizations_url":"https://api.github.com/users/AnatolyPopov/orgs","repos_url":"https://api.github.com/users/AnatolyPopov/repos","events_url":"https://api.github.com/users/AnatolyPopov/events{/privacy}","received_events_url":"https://api.github.com/users/AnatolyPopov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-26T21:30:13Z","updated_at":"2021-01-26T21:30:13Z","author_association":"NONE","body":"@narendly - thanks a lot for the answer. We are planning the upgrade but it's not going to happen soon. So we will try to start an email thread I guess.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/767840260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/767840308","html_url":"https://github.com/apache/helix/pull/1621#issuecomment-767840308","issue_url":"https://api.github.com/repos/apache/helix/issues/1621","id":767840308,"node_id":"MDEyOklzc3VlQ29tbWVudDc2Nzg0MDMwOA==","user":{"login":"AnatolyPopov","id":2312534,"node_id":"MDQ6VXNlcjIzMTI1MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/2312534?v=4","gravatar_id":"","url":"https://api.github.com/users/AnatolyPopov","html_url":"https://github.com/AnatolyPopov","followers_url":"https://api.github.com/users/AnatolyPopov/followers","following_url":"https://api.github.com/users/AnatolyPopov/following{/other_user}","gists_url":"https://api.github.com/users/AnatolyPopov/gists{/gist_id}","starred_url":"https://api.github.com/users/AnatolyPopov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AnatolyPopov/subscriptions","organizations_url":"https://api.github.com/users/AnatolyPopov/orgs","repos_url":"https://api.github.com/users/AnatolyPopov/repos","events_url":"https://api.github.com/users/AnatolyPopov/events{/privacy}","received_events_url":"https://api.github.com/users/AnatolyPopov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-26T21:30:19Z","updated_at":"2021-01-26T21:30:19Z","author_association":"NONE","body":"This PR is ready to be merged.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/767840308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/768708525","html_url":"https://github.com/apache/helix/pull/1620#issuecomment-768708525","issue_url":"https://api.github.com/repos/apache/helix/issues/1620","id":768708525,"node_id":"MDEyOklzc3VlQ29tbWVudDc2ODcwODUyNQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-28T01:35:12Z","updated_at":"2021-01-28T01:35:12Z","author_association":"CONTRIBUTOR","body":"> I see the new classes are not licensed. Please do so.\r\n> \r\n> Moreover, I guess you didn't get my point of adding the test. Sorry that I should have made it clearer.\r\n> Overall, we want the PR to be small for reviewing. And it against our original goal that you add more logic back just to make the test complete. The test should cover whatever the code logic has, but the reverse way. For example, as I mentioned that the original logic only generates the empty result. This is hard to test. But you can just copy-paste whatever in the MessageOutput into the new throttling stage's result. In this case, I don't think you will need to add all the logic in [4d452e7](https://github.com/apache/helix/commit/4d452e76497d713e86acccc1d05e99d48c6ddac0).\r\n> And the test will verify 2 things only: 1. the stage can run without exception. 2. the output contains all the messages.\r\n\r\nChanged.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/768708525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/768769133","html_url":"https://github.com/apache/helix/pull/1615#issuecomment-768769133","issue_url":"https://api.github.com/repos/apache/helix/issues/1615","id":768769133,"node_id":"MDEyOklzc3VlQ29tbWVudDc2ODc2OTEzMw==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-28T03:17:12Z","updated_at":"2021-01-28T03:17:12Z","author_association":"CONTRIBUTOR","body":"@jiajunwang Could you create a branch for me to push to? ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/768769133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/768825693","html_url":"https://github.com/apache/helix/pull/1615#issuecomment-768825693","issue_url":"https://api.github.com/repos/apache/helix/issues/1615","id":768825693,"node_id":"MDEyOklzc3VlQ29tbWVudDc2ODgyNTY5Mw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-28T06:14:24Z","updated_at":"2021-01-28T06:14:24Z","author_association":"CONTRIBUTOR","body":"> @jiajunwang Could you create a branch for me to push to?\r\n\r\nI have created **wagedImprove** for you @NealSun96 ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/768825693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/769928938","html_url":"https://github.com/apache/helix/issues/1622#issuecomment-769928938","issue_url":"https://api.github.com/repos/apache/helix/issues/1622","id":769928938,"node_id":"MDEyOklzc3VlQ29tbWVudDc2OTkyODkzOA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-29T17:05:15Z","updated_at":"2021-01-29T17:05:15Z","author_association":"CONTRIBUTOR","body":"@arindamc2000  Seems like you are manually triggering a rebalance when an application exits/shuts down. Are you aware that Helix supports a Full-auto mode where this is done all automatically?\r\n\r\nIt sounds like full-auto should solve this issue and simplify your shutdown logic.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/769928938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/771200351","html_url":"https://github.com/apache/helix/pull/1625#issuecomment-771200351","issue_url":"https://api.github.com/repos/apache/helix/issues/1625","id":771200351,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MTIwMDM1MQ==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-01T22:21:29Z","updated_at":"2021-02-01T22:21:29Z","author_association":"NONE","body":"This PR is ready to be merged.\r\nFinal commit message:\r\n\r\nDrop current state of the task on disabled instances\r\n\r\nIn this commit, if an instance is not enabled, the controller drops\r\nthe current state of the task on the disabled node before assigning \r\nthe task to another instance. Otherwise, once the instance becomes\r\nenabled again the controller will see two running tasks.\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/771200351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/772062963","html_url":"https://github.com/apache/helix/pull/1619#issuecomment-772062963","issue_url":"https://api.github.com/repos/apache/helix/issues/1619","id":772062963,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjA2Mjk2Mw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-02T22:42:02Z","updated_at":"2021-02-02T22:43:57Z","author_association":"CONTRIBUTOR","body":"Tested locally and all tests passed. CI test is not stable now.\r\n\r\nApproved by @dasahcc , I will merge the change.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/772062963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/772135228","html_url":"https://github.com/apache/helix/pull/1627#issuecomment-772135228","issue_url":"https://api.github.com/repos/apache/helix/issues/1627","id":772135228,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MjEzNTIyOA==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T01:22:40Z","updated_at":"2021-02-03T01:22:40Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @narendly  \r\nFinal commit message:\r\n## Fix ZkAddress null case for TaskStateModelFactory ##\r\nIf zkAddress is null for the HelixManager passed to TaskStateModelFactory and multizk is not enabled, a NullPointerException will be raised. This PR fixes that by adding a null check.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/772135228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/772754836","html_url":"https://github.com/apache/helix/pull/1586#issuecomment-772754836","issue_url":"https://api.github.com/repos/apache/helix/issues/1586","id":772754836,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Mjc1NDgzNg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T19:18:59Z","updated_at":"2021-02-03T19:18:59Z","author_association":"CONTRIBUTOR","body":"@pkuwm, this one is good to get it. Please help to merge:\r\n\r\n> fix TestWagedRebalance.testRebalanceTool() unstableness .\r\nThe root cause is that the tool use sync mode baseline while the\r\ncontroller use async mode baseline which is not necessarily\r\ndeterministic. Fix by make sure pipeline use sync mode and tearing\r\ndown this config after the test.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/772754836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/772758036","html_url":"https://github.com/apache/helix/pull/1615#issuecomment-772758036","issue_url":"https://api.github.com/repos/apache/helix/issues/1615","id":772758036,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Mjc1ODAzNg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T19:23:49Z","updated_at":"2021-02-03T19:26:20Z","author_association":"CONTRIBUTOR","body":"Two things:\r\n1/ Now we use github test run results as standard, which in this case is ok. Shall we update the Test description?\r\n2/ `TestPreferenceListAsQueue.testParallelismInStateModel` did not fail before. Can you double check this change won't really affect the correctness of this test? I did have a look and don't see any potential possibility, but it would be good for you to double check too. Just give it another eye.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/772758036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/772771897","html_url":"https://github.com/apache/helix/pull/1620#issuecomment-772771897","issue_url":"https://api.github.com/repos/apache/helix/issues/1620","id":772771897,"node_id":"MDEyOklzc3VlQ29tbWVudDc3Mjc3MTg5Nw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-03T19:41:09Z","updated_at":"2021-02-03T19:41:09Z","author_association":"CONTRIBUTOR","body":"This PR is approved, please help to merge in\r\n> First part of Per Replica throttling, skeleton only output the input messages.\r\n\r\nPer replica throttling replacing intermediate stage which is partition based. The finer granularity\r\nwould skip boosting unnecessary replica in a recovery partition.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/772771897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/773106700","html_url":"https://github.com/apache/helix/issues/1630#issuecomment-773106700","issue_url":"https://api.github.com/repos/apache/helix/issues/1630","id":773106700,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzEwNjcwMA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T07:50:38Z","updated_at":"2021-02-04T22:21:38Z","author_association":"CONTRIBUTOR","body":"There is one race condition here before `_gSetupTool.dropInstanceFromCluster(CLUSTER_NAME, p.getInstanceName());`, The reason is that from test code perspective at the time this instance is disabled and liveinstance gone, it may not reflect the view of controller. Controller may very well see it the instance live not disabled a little bit early and send messages to the instance. The fundamental issue is that HelixAdmin tool has not synchronization with Helix controller when changing messages of a participant.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/773106700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/773561069","html_url":"https://github.com/apache/helix/issues/1630#issuecomment-773561069","issue_url":"https://api.github.com/repos/apache/helix/issues/1630","id":773561069,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzU2MTA2OQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T19:47:23Z","updated_at":"2021-02-04T19:47:23Z","author_association":"CONTRIBUTOR","body":"> It seems that Huizhi tried to fix issue April 2020 by adding\r\n> \r\n> ```\r\n>       Assert.assertTrue(TestHelper.verify(() -> {\r\n>         _gSetupTool.getClusterManagementTool()\r\n>             .enableInstance(CLUSTER_NAME, p.getInstanceName(), false);\r\n>         return !InstanceValidationUtil.isEnabled(helixDataAccessor, p.getInstanceName())\r\n>             && !InstanceValidationUtil.isAlive(helixDataAccessor, p.getInstanceName());\r\n>       }, TestHelper.WAIT_DURATION), \"Instance should be disabled and offline\");\r\n> ```\r\n> \r\n> However, this may not work. The reason is that from test code perspective at the time this instance is disabled and liveinstance gone, it may not reflect the view of controller. Controller may very well see it the instance live not disabled a little bit early and send messages to the instance.\r\n> \r\n> A better approach seems to be stop controller before disable instance and re-enable controller afterward.\r\n\r\n@kaisun2000 Can you help understand what I fixed may not work?\r\n\r\nI believe what I fixed is different from the failure cause you are talking about. What I fixed is to make sure the correct exception is caught and retry is done. It worked and at that time the test was stable with no issue. Please be aware that it fails now because of a different issue. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/773561069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/773618244","html_url":"https://github.com/apache/helix/issues/1630#issuecomment-773618244","issue_url":"https://api.github.com/repos/apache/helix/issues/1630","id":773618244,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzYxODI0NA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T21:34:27Z","updated_at":"2021-02-04T22:20:16Z","author_association":"CONTRIBUTOR","body":"You are right, I should not say \"it does not work\".  It fixes other cases. Let me change the description there. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/773618244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/773680850","html_url":"https://github.com/apache/helix/pull/1637#issuecomment-773680850","issue_url":"https://api.github.com/repos/apache/helix/issues/1637","id":773680850,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzY4MDg1MA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T23:54:22Z","updated_at":"2021-02-04T23:54:22Z","author_association":"CONTRIBUTOR","body":"Can I clarify about the root of the bug?\r\n\r\nThe error msg is send by the participant itself, not the controller. controller only send cancellation upon seeing the Error message and send cancellation of this error in message generation phase?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/773680850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/773682190","html_url":"https://github.com/apache/helix/pull/1637#issuecomment-773682190","issue_url":"https://api.github.com/repos/apache/helix/issues/1637","id":773682190,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzY4MjE5MA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-04T23:58:20Z","updated_at":"2021-02-04T23:58:20Z","author_association":"CONTRIBUTOR","body":"> Can I clarify about the root of the bug?\r\n> \r\n> The error msg is send by the participant itself, not the controller. controller only send cancellation upon seeing the Error message and send cancellation of this error in message generation phase?\r\n\r\nIt's described in the issue #1636 \r\n\r\nHelix ST cancellation is a feature that helix can cancel pending or ongoing partition assignment state transitions(ST) that are unnecessary due to some reasons, eg. pending state does not match the target state. The feature expects ST messages are only sent by helix controller so controller knows what kind of ST can be cancelled.\r\n\r\nRoot cause: When SN resets partition with ERROR -> OFFLINE ST, helix controller determines it is an unnecessary ST so it sends out cancellation, which is expected for helix ST cancellation feature.\r\n\r\nThis PR improves it by skipping cancelling the reset ST sent by Admin or participant.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/773682190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/773689299","html_url":"https://github.com/apache/helix/issues/1638#issuecomment-773689299","issue_url":"https://api.github.com/repos/apache/helix/issues/1638","id":773689299,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzY4OTI5OQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-05T00:15:20Z","updated_at":"2021-02-05T00:15:20Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/helix/pull/1637/files#diff-2cb76d8441ab4b7048349bd7cc47ee88590e912941f54f927ebaed1571c9c3e3R120-R129","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/773689299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/773690654","html_url":"https://github.com/apache/helix/issues/1638#issuecomment-773690654","issue_url":"https://api.github.com/repos/apache/helix/issues/1638","id":773690654,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzY5MDY1NA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-05T00:18:31Z","updated_at":"2021-02-05T00:18:31Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/helix/pull/1628/files#diff-ba0f03a16d6ae5853f78317b481d36ca217e052dade58528d7d701849f436391R236-R243","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/773690654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/773691056","html_url":"https://github.com/apache/helix/pull/1637#issuecomment-773691056","issue_url":"https://api.github.com/repos/apache/helix/issues/1637","id":773691056,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzY5MTA1Ng==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-05T00:19:36Z","updated_at":"2021-02-05T00:24:33Z","author_association":"CONTRIBUTOR","body":"> > Can I clarify about the root of the bug?\r\n> > The error msg is send by the participant itself, not the controller. controller only send cancellation upon seeing the Error message and send cancellation of this error in message generation phase?\r\n> \r\n> It's described in the issue #1636\r\n> \r\n> Helix ST cancellation is a feature that helix can cancel pending or ongoing partition assignment state transitions(ST) that are unnecessary due to some reasons, eg. pending state does not match the target state. The feature expects ST messages are only sent by helix controller so controller knows what kind of ST can be cancelled.\r\n> \r\n> Root cause: When SN resets partition with ERROR -> OFFLINE ST, helix controller determines it is an unnecessary ST so it sends out cancellation, which is expected for helix ST cancellation feature.\r\n> \r\n> This PR improves it by skipping cancelling the reset ST sent by Admin or participant.\r\n\r\nDo we have other messages similar to error message that can be set by admin tool/ participant, that can be cancelled by controller? ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/773691056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/773693233","html_url":"https://github.com/apache/helix/pull/1637#issuecomment-773693233","issue_url":"https://api.github.com/repos/apache/helix/issues/1637","id":773693233,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzY5MzIzMw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-05T00:24:54Z","updated_at":"2021-02-05T00:24:54Z","author_association":"CONTRIBUTOR","body":"> > > Can I clarify about the root of the bug?\r\n> > > The error msg is send by the participant itself, not the controller. controller only send cancellation upon seeing the Error message and send cancellation of this error in message generation phase?\r\n> > \r\n> > \r\n> > It's described in the issue #1636\r\n> > Helix ST cancellation is a feature that helix can cancel pending or ongoing partition assignment state transitions(ST) that are unnecessary due to some reasons, eg. pending state does not match the target state. The feature expects ST messages are only sent by helix controller so controller knows what kind of ST can be cancelled.\r\n> > Root cause: When SN resets partition with ERROR -> OFFLINE ST, helix controller determines it is an unnecessary ST so it sends out cancellation, which is expected for helix ST cancellation feature.\r\n> > This PR improves it by skipping cancelling the reset ST sent by Admin or participant.\r\n> \r\n> Do we have other messages similar to error message that can be set by admin tool/ participant, that can be cancelled by controller?\r\n\r\nAs far as I know, this is the only type of message sent by helix admin. In the future, we may add a feature that allows admin/participant to send a custom request/message to state transition to a state. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/773693233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/773694194","html_url":"https://github.com/apache/helix/issues/1638#issuecomment-773694194","issue_url":"https://api.github.com/repos/apache/helix/issues/1638","id":773694194,"node_id":"MDEyOklzc3VlQ29tbWVudDc3MzY5NDE5NA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-05T00:27:25Z","updated_at":"2021-02-05T00:27:25Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/helix/pull/1000/files#diff-a7737834d48d58f89a95636b50b2858589a27e7043625bffaaa68ece67e3c361R8-R19","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/773694194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]