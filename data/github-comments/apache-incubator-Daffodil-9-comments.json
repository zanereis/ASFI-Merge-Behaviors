[{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/847162023","html_url":"https://github.com/apache/daffodil/pull/550#issuecomment-847162023","issue_url":"https://api.github.com/repos/apache/daffodil/issues/550","id":847162023,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NzE2MjAyMw==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-24T16:25:22Z","updated_at":"2021-05-24T16:25:22Z","author_association":"MEMBER","body":"Looks great! Once the GitHub Actions finish I'll merge this. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/847162023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/847797937","html_url":"https://github.com/apache/daffodil/pull/560#issuecomment-847797937","issue_url":"https://api.github.com/repos/apache/daffodil/issues/560","id":847797937,"node_id":"MDEyOklzc3VlQ29tbWVudDg0Nzc5NzkzNw==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T11:42:19Z","updated_at":"2021-05-25T11:42:19Z","author_association":"MEMBER","body":"Had one more though, this mostly changes how we parse things like TDML files, DFDL Schemas, etc. But I *think* it leaves out some of the InfosetInputters? I assume the Scala, JDOM, and W3CDOM don't have these security issues since the XML was parsed into these data structures and so are safe to use. But the XMLTextInfosetInputter and JSON use the woodstox and jackson libraries, respectively. Neither of these use an XMLReader of parse. The XML one is StAX which uses a different API. And the JSON one is custom, but similar to StAX.\r\n\r\nIt looks like the Woodstox StAX properties are defined in three blog posts:\r\nhttps://cowtowncoder.medium.com/configuring-woodstox-xml-parser-basic-stax-properties-39bdf88c18ec\r\nhttps://cowtowncoder.medium.com/configuring-woodstox-xml-parser-stax2-properties-c80ef5a32ef1\r\nhttps://cowtowncoder.medium.com/configuring-woodstox-xml-parser-woodstox-specific-properties-1ce5030a5173\r\n\r\nI think these are the javadocs for what an XMLInputFactory supports:\r\nhttps://docs.oracle.com/javase/6/docs/api/javax/xml/stream/XMLInputFactory.html\r\nhttps://fasterxml.github.io/woodstox/javadoc/6.2/com/ctc/wstx/api/WstxInputProperties.html\r\n\r\nDo we need to set something similar for these? Could probably be done in a separate bug/Pr if you want. This one is getting kind of big.\r\n","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/847797937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/847798404","html_url":"https://github.com/apache/daffodil/pull/560#issuecomment-847798404","issue_url":"https://api.github.com/repos/apache/daffodil/issues/560","id":847798404,"node_id":"MDEyOklzc3VlQ29tbWVudDg0Nzc5ODQwNA==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-25T11:43:00Z","updated_at":"2021-05-25T11:43:00Z","author_association":"MEMBER","body":"+1 with @tuxji comments addressed","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/847798404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/848790387","html_url":"https://github.com/apache/daffodil/pull/560#issuecomment-848790387","issue_url":"https://api.github.com/repos/apache/daffodil/issues/560","id":848790387,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODc5MDM4Nw==","user":{"login":"tuxji","id":5915561,"node_id":"MDQ6VXNlcjU5MTU1NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5915561?v=4","gravatar_id":"","url":"https://api.github.com/users/tuxji","html_url":"https://github.com/tuxji","followers_url":"https://api.github.com/users/tuxji/followers","following_url":"https://api.github.com/users/tuxji/following{/other_user}","gists_url":"https://api.github.com/users/tuxji/gists{/gist_id}","starred_url":"https://api.github.com/users/tuxji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuxji/subscriptions","organizations_url":"https://api.github.com/users/tuxji/orgs","repos_url":"https://api.github.com/users/tuxji/repos","events_url":"https://api.github.com/users/tuxji/events{/privacy}","received_events_url":"https://api.github.com/users/tuxji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-26T13:55:07Z","updated_at":"2021-05-26T13:55:07Z","author_association":"CONTRIBUTOR","body":"+1\r\n\r\nI reviewed the three new commits.  First and third commits indeed address all my comments and the changes look great.  Second commit has a slight problem with test coverage.  Your @Test def testXMLTextInfosetInputterDisallowsDocType() tried several ways to load XML securely with the Woodstox XML library and found the best way was to both turn off features and add a doctype check / throw exception in XMLTextInfosetInputter.scala.  I believe you then got inspired to add a doctype check / throw exception to a similar place in JDOMInfosetInputter.scala but that line doesn't get called by any test either because we either need a new test to check JDOM secure loading or JDOM doesn't let programs see the doctype at all when you enable secure XML loading.  If the latter is the case, It's probably a good idea to keep the check in case of malicious input and just add a comment saying so along with comments to disable codecov.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/848790387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/853322506","html_url":"https://github.com/apache/daffodil/pull/583#issuecomment-853322506","issue_url":"https://api.github.com/repos/apache/daffodil/issues/583","id":853322506,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MzMyMjUwNg==","user":{"login":"mbeckerle","id":1524099,"node_id":"MDQ6VXNlcjE1MjQwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1524099?v=4","gravatar_id":"","url":"https://api.github.com/users/mbeckerle","html_url":"https://github.com/mbeckerle","followers_url":"https://api.github.com/users/mbeckerle/followers","following_url":"https://api.github.com/users/mbeckerle/following{/other_user}","gists_url":"https://api.github.com/users/mbeckerle/gists{/gist_id}","starred_url":"https://api.github.com/users/mbeckerle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbeckerle/subscriptions","organizations_url":"https://api.github.com/users/mbeckerle/orgs","repos_url":"https://api.github.com/users/mbeckerle/repos","events_url":"https://api.github.com/users/mbeckerle/events{/privacy}","received_events_url":"https://api.github.com/users/mbeckerle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T19:22:25Z","updated_at":"2021-06-02T19:22:25Z","author_association":"CONTRIBUTOR","body":"This stripping of line numbers/file attributes .. moving that over into the processor for IBM DFDL makes sense, because it is its inability to tolerate non-native attributes that is at issue. That would be an improvement. \r\n\r\nSince I am changing both Daffodil, and the cross-tester to match and work together right now, it's a good time to make that change. ","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/853322506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/856522084","html_url":"https://github.com/apache/daffodil/pull/581#issuecomment-856522084","issue_url":"https://api.github.com/repos/apache/daffodil/issues/581","id":856522084,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NjUyMjA4NA==","user":{"login":"Samarth08","id":17105953,"node_id":"MDQ6VXNlcjE3MTA1OTUz","avatar_url":"https://avatars.githubusercontent.com/u/17105953?v=4","gravatar_id":"","url":"https://api.github.com/users/Samarth08","html_url":"https://github.com/Samarth08","followers_url":"https://api.github.com/users/Samarth08/followers","following_url":"https://api.github.com/users/Samarth08/following{/other_user}","gists_url":"https://api.github.com/users/Samarth08/gists{/gist_id}","starred_url":"https://api.github.com/users/Samarth08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Samarth08/subscriptions","organizations_url":"https://api.github.com/users/Samarth08/orgs","repos_url":"https://api.github.com/users/Samarth08/repos","events_url":"https://api.github.com/users/Samarth08/events{/privacy}","received_events_url":"https://api.github.com/users/Samarth08/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-08T07:18:48Z","updated_at":"2021-06-08T07:18:48Z","author_association":"NONE","body":"Let me know if I can start with the test cases.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/856522084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/856664024","html_url":"https://github.com/apache/daffodil/pull/581#issuecomment-856664024","issue_url":"https://api.github.com/repos/apache/daffodil/issues/581","id":856664024,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NjY2NDAyNA==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-08T10:58:22Z","updated_at":"2021-06-08T10:58:22Z","author_association":"MEMBER","body":"Yep, changes look good. Please add some tests.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/856664024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/858031169","html_url":"https://github.com/apache/daffodil/pull/581#issuecomment-858031169","issue_url":"https://api.github.com/repos/apache/daffodil/issues/581","id":858031169,"node_id":"MDEyOklzc3VlQ29tbWVudDg1ODAzMTE2OQ==","user":{"login":"Samarth08","id":17105953,"node_id":"MDQ6VXNlcjE3MTA1OTUz","avatar_url":"https://avatars.githubusercontent.com/u/17105953?v=4","gravatar_id":"","url":"https://api.github.com/users/Samarth08","html_url":"https://github.com/Samarth08","followers_url":"https://api.github.com/users/Samarth08/followers","following_url":"https://api.github.com/users/Samarth08/following{/other_user}","gists_url":"https://api.github.com/users/Samarth08/gists{/gist_id}","starred_url":"https://api.github.com/users/Samarth08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Samarth08/subscriptions","organizations_url":"https://api.github.com/users/Samarth08/orgs","repos_url":"https://api.github.com/users/Samarth08/repos","events_url":"https://api.github.com/users/Samarth08/events{/privacy}","received_events_url":"https://api.github.com/users/Samarth08/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-09T19:25:26Z","updated_at":"2021-06-09T19:25:26Z","author_association":"NONE","body":"I am passing the below mentioned type to XOR and getting an error-\r\n\r\nCaused by: Schema Definition Error: Unsupported function: dfdlx:DFDLXXor.  \r\n\r\n<xs:complexType name=\"IntXor\">\r\n    <xs:sequence dfdl:separator=\",\">\r\n      <xs:element name=\"num\" type=\"xs:int\" dfdl:lengthKind=\"delimited\" dfdl:textNumberPattern=\"#0\"/>\r\n      <xs:element name=\"count\" type=\"xs:int\" dfdl:lengthKind=\"delimited\"/>\r\n      <xs:element name=\"value\" type=\"xs:int\" dfdl:inputValueCalc=\"{dfdlx:DFDLXXor(../num,../count)}\"/>\r\n    </xs:sequence>\r\n  </xs:complexType>\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/858031169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/858035086","html_url":"https://github.com/apache/daffodil/pull/581#issuecomment-858035086","issue_url":"https://api.github.com/repos/apache/daffodil/issues/581","id":858035086,"node_id":"MDEyOklzc3VlQ29tbWVudDg1ODAzNTA4Ng==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-09T19:31:01Z","updated_at":"2021-06-09T19:31:01Z","author_association":"MEMBER","body":"`DFDLXXor` is the name of the internal class that implements the functionality, which isn't necessarily the same as the name that goes in the schema.\r\n\r\nYou added the following in Expression.scala which defines the function name to use in a DFDL schema:\r\n\r\n```scala\r\n      case (RefQName(_, \"xor\", DFDLX), args) =>\r\n        DFDLXBitExpr(functionQNameString, functionQName, args,\r\n          DFDLXXor(_,_))\r\n```\r\nSo the name of this function is `xor` in the `DFDLX` namespace. So your test schema should just have\r\n\r\n```scala\r\ndfdlx:xor(../num,../count)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/858035086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/863196890","html_url":"https://github.com/apache/daffodil/pull/590#issuecomment-863196890","issue_url":"https://api.github.com/repos/apache/daffodil/issues/590","id":863196890,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MzE5Njg5MA==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-17T12:28:33Z","updated_at":"2021-06-17T12:28:33Z","author_association":"MEMBER","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/863196890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/863197212","html_url":"https://github.com/apache/daffodil/pull/589#issuecomment-863197212","issue_url":"https://api.github.com/repos/apache/daffodil/issues/589","id":863197212,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MzE5NzIxMg==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-17T12:29:04Z","updated_at":"2021-06-17T12:29:04Z","author_association":"MEMBER","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/863197212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/863479218","html_url":"https://github.com/apache/daffodil/pull/592#issuecomment-863479218","issue_url":"https://api.github.com/repos/apache/daffodil/issues/592","id":863479218,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MzQ3OTIxOA==","user":{"login":"mbeckerle","id":1524099,"node_id":"MDQ6VXNlcjE1MjQwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1524099?v=4","gravatar_id":"","url":"https://api.github.com/users/mbeckerle","html_url":"https://github.com/mbeckerle","followers_url":"https://api.github.com/users/mbeckerle/followers","following_url":"https://api.github.com/users/mbeckerle/following{/other_user}","gists_url":"https://api.github.com/users/mbeckerle/gists{/gist_id}","starred_url":"https://api.github.com/users/mbeckerle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbeckerle/subscriptions","organizations_url":"https://api.github.com/users/mbeckerle/orgs","repos_url":"https://api.github.com/users/mbeckerle/repos","events_url":"https://api.github.com/users/mbeckerle/events{/privacy}","received_events_url":"https://api.github.com/users/mbeckerle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-17T18:46:06Z","updated_at":"2021-06-17T18:46:06Z","author_association":"CONTRIBUTOR","body":"I also see that your branch is dasmallwood:master. Our standard practice is that you create a branch named after the JIRA ticket such as daf-2335-rc. \r\n\r\nThis is useful practice because given review cycles, etc. most of us end up working on more than one ticket simultaneously. It also allows other people to pull down your changes without stepping on the master branch of their local sandbox git repository, which is something we do frequently as part of review, or just to help out. ","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/863479218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/863493049","html_url":"https://github.com/apache/daffodil/pull/591#issuecomment-863493049","issue_url":"https://api.github.com/repos/apache/daffodil/issues/591","id":863493049,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MzQ5MzA0OQ==","user":{"login":"mbeckerle","id":1524099,"node_id":"MDQ6VXNlcjE1MjQwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1524099?v=4","gravatar_id":"","url":"https://api.github.com/users/mbeckerle","html_url":"https://github.com/mbeckerle","followers_url":"https://api.github.com/users/mbeckerle/followers","following_url":"https://api.github.com/users/mbeckerle/following{/other_user}","gists_url":"https://api.github.com/users/mbeckerle/gists{/gist_id}","starred_url":"https://api.github.com/users/mbeckerle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbeckerle/subscriptions","organizations_url":"https://api.github.com/users/mbeckerle/orgs","repos_url":"https://api.github.com/users/mbeckerle/repos","events_url":"https://api.github.com/users/mbeckerle/events{/privacy}","received_events_url":"https://api.github.com/users/mbeckerle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-17T19:05:51Z","updated_at":"2021-06-17T19:05:51Z","author_association":"CONTRIBUTOR","body":"Test Comment - Testing whether this comment will go out on the dev list or something is wrong with it. ","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/863493049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/864980490","html_url":"https://github.com/apache/daffodil/pull/592#issuecomment-864980490","issue_url":"https://api.github.com/repos/apache/daffodil/issues/592","id":864980490,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NDk4MDQ5MA==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T12:07:27Z","updated_at":"2021-06-21T12:07:27Z","author_association":"MEMBER","body":"Another thing to consider is that we return error codes in non-Exception cases as well. For example, we have these lines in the parser section of Main.scala:\r\n```scala\r\n          case Some(proc) if (!proc.isError) => {\r\n            ...\r\n            if (error) 1 else 0\r\n          }\r\n          case Some(processor) => 1\r\n          case None => 1\r\n```\r\nThere are three different places where we return a 1, which potentially means three different error codes. I think the other two cases represent different failures to compile a schema, though I'm not sure specifically what differentiates them.  I\"m also not even sure if they both can be hit. I think if there is a compilation issue, then the CLI outputs diagnostics and then returns None. So I think this wants to be something like:\r\n\r\n```scala\r\n          case Some(proc) => {\r\n            Assert.invariant(!proc.isError)\r\n            ...\r\n            if (error) 1 else 0\r\n          }\r\n          case None => 1\r\n```\r\nBut the point is, these 1's probably want to have separate error codes as well. Something like COMPILE_SCHEMA_ERROR_CODE, and one like PARSE_ERROR_CODE.\r\n\r\nAnytime there is a ``1`` in the run function, that's probably an error code that needs to be changed.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/864980490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/865013564","html_url":"https://github.com/apache/daffodil/pull/592#issuecomment-865013564","issue_url":"https://api.github.com/repos/apache/daffodil/issues/592","id":865013564,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTAxMzU2NA==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T13:01:50Z","updated_at":"2021-06-21T13:01:50Z","author_association":"MEMBER","body":"In regards to Mike's comment about checking the return code, since integration tests are just run in a shell with expect, you need to echo the return code and then expect the right code. For example, in some tests we have something like this:\r\n\r\n```scala\r\n      val exitCodeCmd = if (Util.isWindows) \"echo %errorlevel%\" else \"echo $?\"\r\n      shell.sendLine(exitCodeCmd)\r\n\r\n      if (Util.isWindows) shell.expect(contains(exitCodeCmd + \"\\n\"))\r\n      else shell.expect(contains(\"\\n\"))\r\n\r\n      val sExitCode = shell.expect(contains(\"\\n\")).getBefore()\r\n      val exitCode = Integer.parseInt(sExitCode.trim())\r\n      if (exitCode != 0)\r\n        fail(\"Tests failed. Exit code: \" + exitCode)\r\n```\r\nMight make sense to change this to some utility function so we don't have to copy/paste this every time we want to check the return code.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/865013564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/865309958","html_url":"https://github.com/apache/daffodil/pull/581#issuecomment-865309958","issue_url":"https://api.github.com/repos/apache/daffodil/issues/581","id":865309958,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NTMwOTk1OA==","user":{"login":"Samarth08","id":17105953,"node_id":"MDQ6VXNlcjE3MTA1OTUz","avatar_url":"https://avatars.githubusercontent.com/u/17105953?v=4","gravatar_id":"","url":"https://api.github.com/users/Samarth08","html_url":"https://github.com/Samarth08","followers_url":"https://api.github.com/users/Samarth08/followers","following_url":"https://api.github.com/users/Samarth08/following{/other_user}","gists_url":"https://api.github.com/users/Samarth08/gists{/gist_id}","starred_url":"https://api.github.com/users/Samarth08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Samarth08/subscriptions","organizations_url":"https://api.github.com/users/Samarth08/orgs","repos_url":"https://api.github.com/users/Samarth08/repos","events_url":"https://api.github.com/users/Samarth08/events{/privacy}","received_events_url":"https://api.github.com/users/Samarth08/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-21T20:06:59Z","updated_at":"2021-06-21T20:06:59Z","author_association":"NONE","body":"@mbeckerle Fixed the indentation.\r\nThank You.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/865309958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/866285156","html_url":"https://github.com/apache/daffodil/pull/594#issuecomment-866285156","issue_url":"https://api.github.com/repos/apache/daffodil/issues/594","id":866285156,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjI4NTE1Ng==","user":{"login":"tuxji","id":5915561,"node_id":"MDQ6VXNlcjU5MTU1NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5915561?v=4","gravatar_id":"","url":"https://api.github.com/users/tuxji","html_url":"https://github.com/tuxji","followers_url":"https://api.github.com/users/tuxji/followers","following_url":"https://api.github.com/users/tuxji/following{/other_user}","gists_url":"https://api.github.com/users/tuxji/gists{/gist_id}","starred_url":"https://api.github.com/users/tuxji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuxji/subscriptions","organizations_url":"https://api.github.com/users/tuxji/orgs","repos_url":"https://api.github.com/users/tuxji/repos","events_url":"https://api.github.com/users/tuxji/events{/privacy}","received_events_url":"https://api.github.com/users/tuxji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-22T19:50:01Z","updated_at":"2021-06-22T19:50:01Z","author_association":"CONTRIBUTOR","body":"One check (Java 11, windows 2019) had a test failure unrelated to this PR:\r\n\r\n```log\r\n[info] Test org.apache.daffodil.example.TestScalaAPI.testScalaAPI2 started\r\ntestScalaAPI2: [SAPI LOG] [compile] Unparser = <Element name='e1'><DelimiterStack initiator='Nope' separator='Nope' terminator='One((dafint:TerminatorUnparseEv@9749aaa, constant: [Lorg.apache.daffodil.processors.dfa.DFADelimiter;@6fb3f672))'><seq><DelimiterStack initiator='Nope' separator='One((dafint:SeparatorUnparseEv@52b2f7ce, constant: [Lorg.apache.daffodil.processors.dfa.DFADelimiter;@2cc6e99f))' terminator='Nope'><Sequence><ScalarOrderedSeparatedSequenceChildUnparser><Element name='elementGroup'><DelimiterStack initiator='Nope' separator='Nope' terminator='Nope'><DelimiterStack initiator='Nope' separator='One((dafint:SeparatorUnparseEv@3e4eed54, constant: [Lorg.apache.daffodil.processors.dfa.DFADelimiter;@6f878529))' terminator='Nope'><Sequence><ScalarOrderedSeparatedSequenceChildUnparser><Element name='e2'><DelimiterStack initiator='Nope' separator='Nope' terminator='Nope'><seq><CaptureStartOfContentLengthUnparser/><CaptureStartOfValueLengthUnparser/><ConvertTextCombinatorUnparser><ConvertTextNumberUnparser/><SpecifiedLengthExplicitImplicitUnparser><StringNoTruncateUnparser/></SpecifiedLengthExplicitImplicitUnparser></ConvertTextCombinatorUnparser><CaptureEndOfValueLengthUnparser/><RightFillUnparser/><CaptureEndOfContentLengthUnparser/></seq></DelimiterStack></Element><SeparatorUnparser /></ScalarOrderedSeparatedSequenceChildUnparser><ScalarOrderedSeparatedSequenceChildUnparser><Element name='e3'><DelimiterStack initiator='Nope' separator='Nope' terminator='Nope'><seq><CaptureStartOfContentLengthUnparser/><CaptureStartOfValueLengthUnparser/><SpecifiedLengthExplicitImplicitUnparser><StringNoTruncateUnparser/></SpecifiedLengthExplicitImplicitUnparser><CaptureEndOfValueLengthUnparser/><RightFillUnparser/><CaptureEndOfContentLengthUnparser/></seq></DelimiterStack></Element><SeparatorUnparser /></ScalarOrderedSeparatedSequenceChildUnparser><SeparatorUnparser /></Sequence></DelimiterStack></DelimiterStack></Element><SeparatorUnparser /></ScalarOrderedSeparatedSequenceChildUnparser><SeparatorUnparser /></Sequence></DelimiterStack><TerminatorUnparser /></seq></DelimiterStack></Element>.[SAPI LOG] [compile] \r\n[error] Test org.apache.daffodil.example.TestScalaAPI.testScalaAPI2 failed: expected:<0> but was:<1>, took 0.274 sec\r\n[error] Failed: Total 31, Failed 1, Errors 0, Passed 30\r\n[error] Failed tests:\r\n[error] \torg.apache.daffodil.example.TestScalaAPI\r\n```\r\n\r\nThat test was supposed to result in zero errors, warnings, and other log messages but it got a spurious schema compiler log message for some reason.  In any case, that test's failure is unrelated to this PR.\r\n","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/866285156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/866919199","html_url":"https://github.com/apache/daffodil/pull/581#issuecomment-866919199","issue_url":"https://api.github.com/repos/apache/daffodil/issues/581","id":866919199,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjkxOTE5OQ==","user":{"login":"Samarth08","id":17105953,"node_id":"MDQ6VXNlcjE3MTA1OTUz","avatar_url":"https://avatars.githubusercontent.com/u/17105953?v=4","gravatar_id":"","url":"https://api.github.com/users/Samarth08","html_url":"https://github.com/Samarth08","followers_url":"https://api.github.com/users/Samarth08/followers","following_url":"https://api.github.com/users/Samarth08/following{/other_user}","gists_url":"https://api.github.com/users/Samarth08/gists{/gist_id}","starred_url":"https://api.github.com/users/Samarth08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Samarth08/subscriptions","organizations_url":"https://api.github.com/users/Samarth08/orgs","repos_url":"https://api.github.com/users/Samarth08/repos","events_url":"https://api.github.com/users/Samarth08/events{/privacy}","received_events_url":"https://api.github.com/users/Samarth08/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T15:06:10Z","updated_at":"2021-06-23T15:06:10Z","author_association":"NONE","body":"I have fixed the indentation, and have squashed the commits.\r\nI can start with 'AND' and 'OR' operator together after this.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/866919199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/867096926","html_url":"https://github.com/apache/daffodil/pull/595#issuecomment-867096926","issue_url":"https://api.github.com/repos/apache/daffodil/issues/595","id":867096926,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzA5NjkyNg==","user":{"login":"sonarqubecloud[bot]","id":39514782,"node_id":"MDM6Qm90Mzk1MTQ3ODI=","avatar_url":"https://avatars.githubusercontent.com/in/12526?v=4","gravatar_id":"","url":"https://api.github.com/users/sonarqubecloud%5Bbot%5D","html_url":"https://github.com/apps/sonarqubecloud","followers_url":"https://api.github.com/users/sonarqubecloud%5Bbot%5D/followers","following_url":"https://api.github.com/users/sonarqubecloud%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/sonarqubecloud%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/sonarqubecloud%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sonarqubecloud%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/sonarqubecloud%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/sonarqubecloud%5Bbot%5D/repos","events_url":"https://api.github.com/users/sonarqubecloud%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/sonarqubecloud%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2021-06-23T19:21:23Z","updated_at":"2021-06-23T19:21:23Z","author_association":"NONE","body":"Kudos, SonarCloud Quality Gate passed!\n\n[<img src='https://sonarsource.github.io/sonarcloud-github-static-resources/v2/common/bug.png' alt='Bug' width='16' height='16' />](https://sonarcloud.io/project/issues?id=apache-daffodil&pullRequest=595&resolved=false&types=BUG) [<img src='https://sonarsource.github.io/sonarcloud-github-static-resources/v2/checks/RatingBadge/A.png' alt='A' width='16' height='16' />](https://sonarcloud.io/project/issues?id=apache-daffodil&pullRequest=595&resolved=false&types=BUG) [0 Bugs](https://sonarcloud.io/project/issues?id=apache-daffodil&pullRequest=595&resolved=false&types=BUG)  \n[<img src='https://sonarsource.github.io/sonarcloud-github-static-resources/v2/common/vulnerability.png' alt='Vulnerability' width='16' height='16' />](https://sonarcloud.io/project/issues?id=apache-daffodil&pullRequest=595&resolved=false&types=VULNERABILITY) [<img src='https://sonarsource.github.io/sonarcloud-github-static-resources/v2/checks/RatingBadge/A.png' alt='A' width='16' height='16' />](https://sonarcloud.io/project/issues?id=apache-daffodil&pullRequest=595&resolved=false&types=VULNERABILITY) [0 Vulnerabilities](https://sonarcloud.io/project/issues?id=apache-daffodil&pullRequest=595&resolved=false&types=VULNERABILITY)  \n[<img src='https://sonarsource.github.io/sonarcloud-github-static-resources/v2/common/security_hotspot.png' alt='Security Hotspot' width='16' height='16' />](https://sonarcloud.io/project/security_hotspots?id=apache-daffodil&pullRequest=595&resolved=false&types=SECURITY_HOTSPOT) [<img src='https://sonarsource.github.io/sonarcloud-github-static-resources/v2/checks/RatingBadge/A.png' alt='A' width='16' height='16' />](https://sonarcloud.io/project/security_hotspots?id=apache-daffodil&pullRequest=595&resolved=false&types=SECURITY_HOTSPOT) [0 Security Hotspots](https://sonarcloud.io/project/security_hotspots?id=apache-daffodil&pullRequest=595&resolved=false&types=SECURITY_HOTSPOT)  \n[<img src='https://sonarsource.github.io/sonarcloud-github-static-resources/v2/common/code_smell.png' alt='Code Smell' width='16' height='16' />](https://sonarcloud.io/project/issues?id=apache-daffodil&pullRequest=595&resolved=false&types=CODE_SMELL) [<img src='https://sonarsource.github.io/sonarcloud-github-static-resources/v2/checks/RatingBadge/A.png' alt='A' width='16' height='16' />](https://sonarcloud.io/project/issues?id=apache-daffodil&pullRequest=595&resolved=false&types=CODE_SMELL) [0 Code Smells](https://sonarcloud.io/project/issues?id=apache-daffodil&pullRequest=595&resolved=false&types=CODE_SMELL)\n\n[<img src='https://sonarsource.github.io/sonarcloud-github-static-resources/v2/checks/CoverageChart/NoCoverageInfo.png' alt='No Coverage information' width='16' height='16' />](https://sonarcloud.io/component_measures?id=apache-daffodil&pullRequest=595&metric=coverage&view=list) No Coverage information  \n[<img src='https://sonarsource.github.io/sonarcloud-github-static-resources/v2/checks/Duplications/NoDuplicationInfo.png' alt='No Duplication information' width='16' height='16' />](https://sonarcloud.io/component_measures?id=apache-daffodil&pullRequest=595&metric=duplicated_lines_density&view=list) No Duplication information\n\n","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/867096926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/867562011","html_url":"https://github.com/apache/daffodil/pull/595#issuecomment-867562011","issue_url":"https://api.github.com/repos/apache/daffodil/issues/595","id":867562011,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzU2MjAxMQ==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T11:30:53Z","updated_at":"2021-06-24T11:30:53Z","author_association":"MEMBER","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/867562011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/867653411","html_url":"https://github.com/apache/daffodil/pull/597#issuecomment-867653411","issue_url":"https://api.github.com/repos/apache/daffodil/issues/597","id":867653411,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzY1MzQxMQ==","user":{"login":"tuxji","id":5915561,"node_id":"MDQ6VXNlcjU5MTU1NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5915561?v=4","gravatar_id":"","url":"https://api.github.com/users/tuxji","html_url":"https://github.com/tuxji","followers_url":"https://api.github.com/users/tuxji/followers","following_url":"https://api.github.com/users/tuxji/following{/other_user}","gists_url":"https://api.github.com/users/tuxji/gists{/gist_id}","starred_url":"https://api.github.com/users/tuxji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuxji/subscriptions","organizations_url":"https://api.github.com/users/tuxji/orgs","repos_url":"https://api.github.com/users/tuxji/repos","events_url":"https://api.github.com/users/tuxji/events{/privacy}","received_events_url":"https://api.github.com/users/tuxji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T13:51:27Z","updated_at":"2021-06-24T13:51:27Z","author_association":"CONTRIBUTOR","body":"Let's change the job now (sonarcloud.yml) so this problem (the secret not being available for dependabot PRs) doesn't occur again.  Here's the \"on\" clause recommended by the sonarcloud-github-action README itself although you can remove the `pull_request` part if you don't want to run Sonar on pull requests:\r\n\r\n```yml\r\non:\r\n  # Trigger analysis when pushing in master or pull requests, and when creating\r\n  # a pull request. \r\n  push:\r\n    branches:\r\n      - master\r\n  pull_request:\r\n      types: [opened, synchronize, reopened]\r\n```\r\n\r\nShould we also insert setup-java between the \"Install Dependencies (Linux)\" and \"Check out Repository\" steps so that both main.yml and sonarcloud.yml run identical setup steps?  I'd tried adding setup-java and then had to remove it because sonarcloud-github-action had failed with an error message (it couldn't handle the JAVA_HOME environment variable that setup-java had created).  The new sonarcloud-github-action version now unsets JAVA_HOME so that problem should be gone.  Both main.yml and sonarcloud.yml have a \"Compile\" step calling sbt compile Test/compile IntegrationTest/compile so we should enforce the same JDK build and version for both too.  You will need to insert `distribution: [ adopt ]` at line 26 after `matrix:` and the following step at line 40:\r\n\r\n```yml\r\n      - name: Setup Java\r\n        uses: actions/setup-java@v2.1.0\r\n        with:\r\n          distribution: ${{ matrix.distribution }}\r\n          java-version: ${{ matrix.java_version }}\r\n```\r\n\r\nAlso remove the comment I'd added to the Sonar step itself at line 57:\r\n\r\n```yml\r\n        # Don't setup Java since its env vars will screw up sonarcloud action\r\n```","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/867653411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/867832468","html_url":"https://github.com/apache/daffodil/pull/597#issuecomment-867832468","issue_url":"https://api.github.com/repos/apache/daffodil/issues/597","id":867832468,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzgzMjQ2OA==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T17:47:19Z","updated_at":"2021-06-24T17:47:19Z","author_association":"MEMBER","body":"All good suggestions. I think I've made the correct updates.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/867832468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/867892184","html_url":"https://github.com/apache/daffodil/pull/598#issuecomment-867892184","issue_url":"https://api.github.com/repos/apache/daffodil/issues/598","id":867892184,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Nzg5MjE4NA==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T19:20:31Z","updated_at":"2021-06-24T19:20:31Z","author_association":"MEMBER","body":"+1\r\n\r\nOops. Looks like I accidentally undid the actual version bump when updating the sonarcloud.yml in PR #597.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/867892184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/867921789","html_url":"https://github.com/apache/daffodil/pull/598#issuecomment-867921789","issue_url":"https://api.github.com/repos/apache/daffodil/issues/598","id":867921789,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NzkyMTc4OQ==","user":{"login":"tuxji","id":5915561,"node_id":"MDQ6VXNlcjU5MTU1NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5915561?v=4","gravatar_id":"","url":"https://api.github.com/users/tuxji","html_url":"https://github.com/tuxji","followers_url":"https://api.github.com/users/tuxji/followers","following_url":"https://api.github.com/users/tuxji/following{/other_user}","gists_url":"https://api.github.com/users/tuxji/gists{/gist_id}","starred_url":"https://api.github.com/users/tuxji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuxji/subscriptions","organizations_url":"https://api.github.com/users/tuxji/orgs","repos_url":"https://api.github.com/users/tuxji/repos","events_url":"https://api.github.com/users/tuxji/events{/privacy}","received_events_url":"https://api.github.com/users/tuxji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T20:13:28Z","updated_at":"2021-06-24T20:13:28Z","author_association":"CONTRIBUTOR","body":"Yeah.  If we'd allowed Sonar to run on pull requests, the JAVA_HOME error would have happened before I merged the original PR and we would've caught the error earlier.  The Sonar check actually worked successfully in Dependabot's first PR (#595) so we probably should try running Sonar again (that is, add the `pull_request` clause recommended by sonarcloud-github-action's README and see if it works this time).\r\n\r\n```yml\r\n  pull_request:\r\n      types: [opened, synchronize, reopened]\r\n```\r\n\r\nOne of our Windows checks also seems to have failed due to a spurious networking problem this time (it couldn't download necessary dependencies during the compile step).  Another problem is that we're also running the test job twice because Dependabot's branch looks like both a push and a pull request to main.yml.  Perhaps we should make main.yml's `on` clause look like sonarcloud.yml's recommended `on` clause and if that works, then merge the two files and make the Sonar check just another job in main.yml.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/867921789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/867972317","html_url":"https://github.com/apache/daffodil/pull/598#issuecomment-867972317","issue_url":"https://api.github.com/repos/apache/daffodil/issues/598","id":867972317,"node_id":"MDEyOklzc3VlQ29tbWVudDg2Nzk3MjMxNw==","user":{"login":"mbeckerle","id":1524099,"node_id":"MDQ6VXNlcjE1MjQwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1524099?v=4","gravatar_id":"","url":"https://api.github.com/users/mbeckerle","html_url":"https://github.com/mbeckerle","followers_url":"https://api.github.com/users/mbeckerle/followers","following_url":"https://api.github.com/users/mbeckerle/following{/other_user}","gists_url":"https://api.github.com/users/mbeckerle/gists{/gist_id}","starred_url":"https://api.github.com/users/mbeckerle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbeckerle/subscriptions","organizations_url":"https://api.github.com/users/mbeckerle/orgs","repos_url":"https://api.github.com/users/mbeckerle/repos","events_url":"https://api.github.com/users/mbeckerle/events{/privacy}","received_events_url":"https://api.github.com/users/mbeckerle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T21:45:58Z","updated_at":"2021-06-24T21:45:58Z","author_association":"CONTRIBUTOR","body":"Is this right? zero everything? I thought there were some outstanding sonarcube \"issues\" pending that we hadn't resolved. ","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/867972317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/868019546","html_url":"https://github.com/apache/daffodil/pull/598#issuecomment-868019546","issue_url":"https://api.github.com/repos/apache/daffodil/issues/598","id":868019546,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODAxOTU0Ng==","user":{"login":"tuxji","id":5915561,"node_id":"MDQ6VXNlcjU5MTU1NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5915561?v=4","gravatar_id":"","url":"https://api.github.com/users/tuxji","html_url":"https://github.com/tuxji","followers_url":"https://api.github.com/users/tuxji/followers","following_url":"https://api.github.com/users/tuxji/following{/other_user}","gists_url":"https://api.github.com/users/tuxji/gists{/gist_id}","starred_url":"https://api.github.com/users/tuxji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuxji/subscriptions","organizations_url":"https://api.github.com/users/tuxji/orgs","repos_url":"https://api.github.com/users/tuxji/repos","events_url":"https://api.github.com/users/tuxji/events{/privacy}","received_events_url":"https://api.github.com/users/tuxji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-24T23:12:22Z","updated_at":"2021-06-24T23:12:22Z","author_association":"CONTRIBUTOR","body":"I found a [link](https://sonarcloud.io/dashboard?id=apache-daffodil&pullRequest=598) in the sonar job's output and checked what the online dashboard said.  If you look under \"Quality Gate\" and mouse over \"Conditions on New Code (?)\", the popup will say \"Only conditions on new code that are defined in the Quality Gate are checked. See the Quality Gate associated to the project for details.\"  The dashboard shows a breadcrumb trail from \"The Apache Software Foundation\" to \"daffodil\" to \"598  Bump sonarsource/sonarcloud-github-action from 1.5 to 1.6\" and clicking on each will take you to a different dashboard.  The daffodil [dashboard](https://sonarcloud.io/dashboard?id=apache-daffodil) indeed shows that the Daffodil project has 293 code smells and 16 duplicated code blocks.  The ASF [dashboard](https://sonarcloud.io/organizations/apache/projects) allows you to see metrics from over 400 ASF projects in one place.  \r\n\r\nLooking at all the projects together is instructive.  We should rename \"daffodil\" to \"Apache Daffodil\" so that it will move up the list (a lot of projects start with \"Apache ....\").  We also should move the sonar step to main.yml and run it after all the coverage has been measured so that our metrics will include coverage too.  Finally, we should remove all occurrences of \"incubator\" from our SonarCloud configuration profile since we're no longer an incubating project.  I plan to push another commit which will move the Sonar step into main.yml.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/868019546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/868432519","html_url":"https://github.com/apache/daffodil/pull/598#issuecomment-868432519","issue_url":"https://api.github.com/repos/apache/daffodil/issues/598","id":868432519,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODQzMjUxOQ==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-25T11:28:53Z","updated_at":"2021-06-25T11:28:53Z","author_association":"MEMBER","body":"I thought there was a reason we only enabled sonar scans for pushes and not pull requests? I thought there was something like a permission issue that prevented pull requests from work.\r\n\r\n@olabusayoT, any idea what that issue was? Maybe this is fixed with the newer versions of SonarCloud? This PR does seem have worked? ","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/868432519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/868434702","html_url":"https://github.com/apache/daffodil/pull/598#issuecomment-868434702","issue_url":"https://api.github.com/repos/apache/daffodil/issues/598","id":868434702,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODQzNDcwMg==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-25T11:33:16Z","updated_at":"2021-06-25T11:33:16Z","author_association":"MEMBER","body":"Also, I wonder if we should disable sonarcloud from posting in the comments? I don't think that adds anything except additional clutter. If a quality gate doesn't pass then I assume the check will be marked as a failure and we'll see it, just like when codecov fails.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/868434702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/868445801","html_url":"https://github.com/apache/daffodil/pull/598#issuecomment-868445801","issue_url":"https://api.github.com/repos/apache/daffodil/issues/598","id":868445801,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODQ0NTgwMQ==","user":{"login":"tuxji","id":5915561,"node_id":"MDQ6VXNlcjU5MTU1NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5915561?v=4","gravatar_id":"","url":"https://api.github.com/users/tuxji","html_url":"https://github.com/tuxji","followers_url":"https://api.github.com/users/tuxji/followers","following_url":"https://api.github.com/users/tuxji/following{/other_user}","gists_url":"https://api.github.com/users/tuxji/gists{/gist_id}","starred_url":"https://api.github.com/users/tuxji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuxji/subscriptions","organizations_url":"https://api.github.com/users/tuxji/orgs","repos_url":"https://api.github.com/users/tuxji/repos","events_url":"https://api.github.com/users/tuxji/events{/privacy}","received_events_url":"https://api.github.com/users/tuxji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-25T11:54:31Z","updated_at":"2021-06-25T11:54:31Z","author_association":"CONTRIBUTOR","body":"Let's wait until we see a sonarcloud comment for a real pull request that actually adds a code smell.  Maybe there will be a link we can click on to see specific and actionable code smells before they get merged into the code base, which would be useful information for both reviewers and contributors.  If the comment still isn't actionable, just some numbers, then yeah, we can disable it later.\r\n\r\nThere's still no code coverage information, which means that sonar-project.properties didn't define a coverage report path.  I'll add the necessary property and try again.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/868445801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/868454993","html_url":"https://github.com/apache/daffodil/pull/598#issuecomment-868454993","issue_url":"https://api.github.com/repos/apache/daffodil/issues/598","id":868454993,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODQ1NDk5Mw==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-25T12:11:12Z","updated_at":"2021-06-25T12:11:12Z","author_association":"MEMBER","body":"The \"Details\" link for the SonarCloud analysis check for this PR is here: https://github.com/apache/daffodil/pull/598/checks?check_run_id=2910517622\r\n\r\nWhich is the same information in their comment. Maybe we should temporarily add a commit to this PR with a code smell/bug and see what the comment looks like to see if it's useful and worth keeping? I don't think we've had a code smell in a while with PRs merged into master, so we might be waiting a while if we wait for a real one.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/868454993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/868573294","html_url":"https://github.com/apache/daffodil/pull/598#issuecomment-868573294","issue_url":"https://api.github.com/repos/apache/daffodil/issues/598","id":868573294,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODU3MzI5NA==","user":{"login":"tuxji","id":5915561,"node_id":"MDQ6VXNlcjU5MTU1NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5915561?v=4","gravatar_id":"","url":"https://api.github.com/users/tuxji","html_url":"https://github.com/tuxji","followers_url":"https://api.github.com/users/tuxji/followers","following_url":"https://api.github.com/users/tuxji/following{/other_user}","gists_url":"https://api.github.com/users/tuxji/gists{/gist_id}","starred_url":"https://api.github.com/users/tuxji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuxji/subscriptions","organizations_url":"https://api.github.com/users/tuxji/orgs","repos_url":"https://api.github.com/users/tuxji/repos","events_url":"https://api.github.com/users/tuxji/events{/privacy}","received_events_url":"https://api.github.com/users/tuxji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-25T15:15:14Z","updated_at":"2021-06-25T15:15:14Z","author_association":"CONTRIBUTOR","body":"Bummer, still no code coverage.  Log says sonarcloud-github-action found the scoverage.xml file all right (in fact, the same file 16 times for each daffodil module) but the filenames inside the scoverage.xml file wouldn't work for some reason even though they look like absolute paths to me.\r\n\r\n```log\r\nINFO: Importing /github/workspace/target/scala-2.12/scoverage-report/scoverage.xml\r\nWARN: Fail to resolve 407 file(s). No coverage data will be imported on the following file(s): /home/runner/work/daffodil/daffodil/daffodil-cli/src/main/scala/org/apache/daffodil/Main.scala;/home/runner/work/daffodil/daffodil/daffodil-cli/src/main/scala/org/apache/daffodil/debugger/CLIDebuggerRunner.scala; ....... (rest elided)\r\n```\r\n\r\nI wonder if we need to revert reportPath to target/scala-2.12/scoverage-report/scoverage.xml and find a way to generate a scoverage.xml report inside each module's target directory as well as the aggregate report in daffodil/target that we upload to Codecov.  Perhaps that might allow the filenames to resolve, but I'm not sure.  \r\n\r\nMeanwhile, the Sonar scan did find the code smell I added and you can click on the number and then the code smell in the dashboard to drill into the offending source line itself.  I don't see any Sonar message inserted into the \"Files changed\" view so if we disable the comment, we won't have any easy way to review the code smells Sonar finds.  I think we should keep the comment, agreed?","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/868573294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/868585610","html_url":"https://github.com/apache/daffodil/pull/598#issuecomment-868585610","issue_url":"https://api.github.com/repos/apache/daffodil/issues/598","id":868585610,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODU4NTYxMA==","user":{"login":"mbeckerle","id":1524099,"node_id":"MDQ6VXNlcjE1MjQwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1524099?v=4","gravatar_id":"","url":"https://api.github.com/users/mbeckerle","html_url":"https://github.com/mbeckerle","followers_url":"https://api.github.com/users/mbeckerle/followers","following_url":"https://api.github.com/users/mbeckerle/following{/other_user}","gists_url":"https://api.github.com/users/mbeckerle/gists{/gist_id}","starred_url":"https://api.github.com/users/mbeckerle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbeckerle/subscriptions","organizations_url":"https://api.github.com/users/mbeckerle/orgs","repos_url":"https://api.github.com/users/mbeckerle/repos","events_url":"https://api.github.com/users/mbeckerle/events{/privacy}","received_events_url":"https://api.github.com/users/mbeckerle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-25T15:20:07Z","updated_at":"2021-06-25T15:20:07Z","author_association":"CONTRIBUTOR","body":"Agreed that we need to be able to drill into the code smells from sonarcube, and resolve them using their tool/site if they are false. (as many are)\r\n\r\nWe have regular codecov, so we don't also need sonarcloud's code coverage right?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/868585610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/868651459","html_url":"https://github.com/apache/daffodil/pull/598#issuecomment-868651459","issue_url":"https://api.github.com/repos/apache/daffodil/issues/598","id":868651459,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODY1MTQ1OQ==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-25T15:47:05Z","updated_at":"2021-06-25T15:47:05Z","author_association":"MEMBER","body":"Yeah, seems important to keep the sonarcloud comment since the quality gate can still pass even if some issues are found. Without that comment, it's not obvious at all.\r\n\r\nFortunately, it looks like there are some plans for SonarCloud to add inline annotations similar to how codecov works:\r\n\r\nhttps://jira.sonarsource.com/browse/MMF-1535\r\n\r\nOnce that's fixed we could probably disable this comment.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/868651459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/869859851","html_url":"https://github.com/apache/daffodil/pull/598#issuecomment-869859851","issue_url":"https://api.github.com/repos/apache/daffodil/issues/598","id":869859851,"node_id":"MDEyOklzc3VlQ29tbWVudDg2OTg1OTg1MQ==","user":{"login":"tuxji","id":5915561,"node_id":"MDQ6VXNlcjU5MTU1NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5915561?v=4","gravatar_id":"","url":"https://api.github.com/users/tuxji","html_url":"https://github.com/tuxji","followers_url":"https://api.github.com/users/tuxji/followers","following_url":"https://api.github.com/users/tuxji/following{/other_user}","gists_url":"https://api.github.com/users/tuxji/gists{/gist_id}","starred_url":"https://api.github.com/users/tuxji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuxji/subscriptions","organizations_url":"https://api.github.com/users/tuxji/orgs","repos_url":"https://api.github.com/users/tuxji/repos","events_url":"https://api.github.com/users/tuxji/events{/privacy}","received_events_url":"https://api.github.com/users/tuxji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-28T17:09:03Z","updated_at":"2021-06-28T17:09:03Z","author_association":"CONTRIBUTOR","body":"OK, I want some feedback how many changes I should remove before I squash and merge this PR.  Please read the changed files and tell me what you think.\r\n\r\nI added a cache step which doesn't seem to do any good.  It cached about 231MB, but the cache seems to have no effect on the workflow's total time.  I want to delete that cache step so it doesn't add a possible point of failure or failure mode to the build.  \r\n\r\nI fixed the file paths in the scoverage.xml files so that the Sonar scanner program could resolve the files within its Docker container's filesystem.  The scanner program uploaded the coverage information to SonarCloud successfully (for the most part - three file paths still couldn't be resolved and three modules didn't have any Scala code so the scan warns about three missing scoverage.xml files).  \r\n\r\nHowever, SonarCloud only summarized the coverage and duplication numbers in its [dashboard](https://sonarcloud.io/dashboard?id=apache-daffodil&pullRequest=598) and it didn't even pass those two numbers (79.9% coverage and 0.3% duplications) to its bot comment in this pull request.  The bot comment still says no coverage or duplication information and the SonarCloud dashboard doesn't seem to offer any way to drill into more detailed coverage or duplications information.  Should we continue running coverageReport, fixing file paths, and uploading each module's scoverage.rml report in hope that SonarCloud improves its reporting later?  \r\n\r\nIt wasn't easy to upload these scoverage.xml reports and the extra work costs only 10-20 seconds each run, so you can guess I'd rather not throw away these changes.  Maybe SonarCloud will indeed improve its reporting over time.\r\n","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/869859851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/869876822","html_url":"https://github.com/apache/daffodil/pull/598#issuecomment-869876822","issue_url":"https://api.github.com/repos/apache/daffodil/issues/598","id":869876822,"node_id":"MDEyOklzc3VlQ29tbWVudDg2OTg3NjgyMg==","user":{"login":"mbeckerle","id":1524099,"node_id":"MDQ6VXNlcjE1MjQwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1524099?v=4","gravatar_id":"","url":"https://api.github.com/users/mbeckerle","html_url":"https://github.com/mbeckerle","followers_url":"https://api.github.com/users/mbeckerle/followers","following_url":"https://api.github.com/users/mbeckerle/following{/other_user}","gists_url":"https://api.github.com/users/mbeckerle/gists{/gist_id}","starred_url":"https://api.github.com/users/mbeckerle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbeckerle/subscriptions","organizations_url":"https://api.github.com/users/mbeckerle/orgs","repos_url":"https://api.github.com/users/mbeckerle/repos","events_url":"https://api.github.com/users/mbeckerle/events{/privacy}","received_events_url":"https://api.github.com/users/mbeckerle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-28T17:32:36Z","updated_at":"2021-06-28T17:32:36Z","author_association":"CONTRIBUTOR","body":"So clearly, delete the caching stuff that doesn't work.\r\nI suggest adding a comment at that location for posterity that caching was tried and didn't improve performance so was removed with the date. \r\n\r\nIf the sonarcloud stuff for code coverage is not working, then to avoid losing your invested work-in-progress on this, just comment out what you did and mark it with a JIRA ticket where the issue of revisiting it is parked. Then mark your calendar to take a look again at this ticket in 6 months (or suggest someone else look at it.)\r\n\r\nIn the mean time the CodeCov coverage stuff is working still, yes? So this would seem to be low priority to fix. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/869876822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/869998779","html_url":"https://github.com/apache/daffodil/pull/598#issuecomment-869998779","issue_url":"https://api.github.com/repos/apache/daffodil/issues/598","id":869998779,"node_id":"MDEyOklzc3VlQ29tbWVudDg2OTk5ODc3OQ==","user":{"login":"sonarqubecloud[bot]","id":39514782,"node_id":"MDM6Qm90Mzk1MTQ3ODI=","avatar_url":"https://avatars.githubusercontent.com/in/12526?v=4","gravatar_id":"","url":"https://api.github.com/users/sonarqubecloud%5Bbot%5D","html_url":"https://github.com/apps/sonarqubecloud","followers_url":"https://api.github.com/users/sonarqubecloud%5Bbot%5D/followers","following_url":"https://api.github.com/users/sonarqubecloud%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/sonarqubecloud%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/sonarqubecloud%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sonarqubecloud%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/sonarqubecloud%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/sonarqubecloud%5Bbot%5D/repos","events_url":"https://api.github.com/users/sonarqubecloud%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/sonarqubecloud%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2021-06-28T20:07:40Z","updated_at":"2021-06-28T20:07:40Z","author_association":"NONE","body":"Kudos, SonarCloud Quality Gate passed!\n\n[<img src='https://sonarsource.github.io/sonarcloud-github-static-resources/v2/common/bug.png' alt='Bug' width='16' height='16' />](https://sonarcloud.io/project/issues?id=apache-daffodil&pullRequest=598&resolved=false&types=BUG) [<img src='https://sonarsource.github.io/sonarcloud-github-static-resources/v2/checks/RatingBadge/A.png' alt='A' width='16' height='16' />](https://sonarcloud.io/project/issues?id=apache-daffodil&pullRequest=598&resolved=false&types=BUG) [0 Bugs](https://sonarcloud.io/project/issues?id=apache-daffodil&pullRequest=598&resolved=false&types=BUG)  \n[<img src='https://sonarsource.github.io/sonarcloud-github-static-resources/v2/common/vulnerability.png' alt='Vulnerability' width='16' height='16' />](https://sonarcloud.io/project/issues?id=apache-daffodil&pullRequest=598&resolved=false&types=VULNERABILITY) [<img src='https://sonarsource.github.io/sonarcloud-github-static-resources/v2/checks/RatingBadge/A.png' alt='A' width='16' height='16' />](https://sonarcloud.io/project/issues?id=apache-daffodil&pullRequest=598&resolved=false&types=VULNERABILITY) [0 Vulnerabilities](https://sonarcloud.io/project/issues?id=apache-daffodil&pullRequest=598&resolved=false&types=VULNERABILITY)  \n[<img src='https://sonarsource.github.io/sonarcloud-github-static-resources/v2/common/security_hotspot.png' alt='Security Hotspot' width='16' height='16' />](https://sonarcloud.io/project/security_hotspots?id=apache-daffodil&pullRequest=598&resolved=false&types=SECURITY_HOTSPOT) [<img src='https://sonarsource.github.io/sonarcloud-github-static-resources/v2/checks/RatingBadge/A.png' alt='A' width='16' height='16' />](https://sonarcloud.io/project/security_hotspots?id=apache-daffodil&pullRequest=598&resolved=false&types=SECURITY_HOTSPOT) [0 Security Hotspots](https://sonarcloud.io/project/security_hotspots?id=apache-daffodil&pullRequest=598&resolved=false&types=SECURITY_HOTSPOT)  \n[<img src='https://sonarsource.github.io/sonarcloud-github-static-resources/v2/common/code_smell.png' alt='Code Smell' width='16' height='16' />](https://sonarcloud.io/project/issues?id=apache-daffodil&pullRequest=598&resolved=false&types=CODE_SMELL) [<img src='https://sonarsource.github.io/sonarcloud-github-static-resources/v2/checks/RatingBadge/A.png' alt='A' width='16' height='16' />](https://sonarcloud.io/project/issues?id=apache-daffodil&pullRequest=598&resolved=false&types=CODE_SMELL) [0 Code Smells](https://sonarcloud.io/project/issues?id=apache-daffodil&pullRequest=598&resolved=false&types=CODE_SMELL)\n\n[<img src='https://sonarsource.github.io/sonarcloud-github-static-resources/v2/checks/CoverageChart/NoCoverageInfo.png' alt='No Coverage information' width='16' height='16' />](https://sonarcloud.io/component_measures?id=apache-daffodil&pullRequest=598&metric=coverage&view=list) No Coverage information  \n[<img src='https://sonarsource.github.io/sonarcloud-github-static-resources/v2/checks/Duplications/NoDuplicationInfo.png' alt='No Duplication information' width='16' height='16' />](https://sonarcloud.io/component_measures?id=apache-daffodil&pullRequest=598&metric=duplicated_lines_density&view=list) No Duplication information\n\n","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/869998779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/870055334","html_url":"https://github.com/apache/daffodil/pull/599#issuecomment-870055334","issue_url":"https://api.github.com/repos/apache/daffodil/issues/599","id":870055334,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MDA1NTMzNA==","user":{"login":"tuxji","id":5915561,"node_id":"MDQ6VXNlcjU5MTU1NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5915561?v=4","gravatar_id":"","url":"https://api.github.com/users/tuxji","html_url":"https://github.com/tuxji","followers_url":"https://api.github.com/users/tuxji/followers","following_url":"https://api.github.com/users/tuxji/following{/other_user}","gists_url":"https://api.github.com/users/tuxji/gists{/gist_id}","starred_url":"https://api.github.com/users/tuxji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuxji/subscriptions","organizations_url":"https://api.github.com/users/tuxji/orgs","repos_url":"https://api.github.com/users/tuxji/repos","events_url":"https://api.github.com/users/tuxji/events{/privacy}","received_events_url":"https://api.github.com/users/tuxji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-28T21:25:15Z","updated_at":"2021-06-28T21:25:15Z","author_association":"CONTRIBUTOR","body":"Okay, now I see why the \"Set the SONAR_TOKEN env variable\" error message occurs.  When a pull request comes from a forked repository, the fork's job is not allowed to use any secret from the daffodil repository.  It still can use secrets.GITHUB_TOKEN (that's not really a secret because the forked repository has a github_token automatically) but it can't use secrets.SONAR_TOKEN.  We need to change the if condition for the Sonar steps to something like\r\n\r\n`        if: ${{ runner.os == 'Linux' && matrix.java_version == '11' && (github.event_name == 'push' || github.event.pull_request.head.repo.full_name == 'apache/daffodil') }}`\r\n\r\nIf you make that change to two lines in main.yml (lines 150 and 156), the CI should skip the Sonar steps for your pull request and all your checks should pass.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/870055334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/870568709","html_url":"https://github.com/apache/daffodil/pull/599#issuecomment-870568709","issue_url":"https://api.github.com/repos/apache/daffodil/issues/599","id":870568709,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MDU2ODcwOQ==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-29T12:46:40Z","updated_at":"2021-06-29T12:46:40Z","author_association":"MEMBER","body":"> When a pull request comes from a forked repository, the fork's job is not allowed to use any secret from the daffodil repository. \r\n\r\nDoes it make sense to move Sonarcloud back to it's own file? Our workflow pretty much always uses forks (except for the dependabot things which we can't change) so pull requests are rarely going to run for pull requests.\r\n\r\nAlso, this PR branched before the sonarcloud changes were merged. So this PR shouldn't even have updated main.yml? Do github actions the main.yml from the master branch now and not from the PR?","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/870568709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/870608311","html_url":"https://github.com/apache/daffodil/pull/599#issuecomment-870608311","issue_url":"https://api.github.com/repos/apache/daffodil/issues/599","id":870608311,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MDYwODMxMQ==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-29T13:38:50Z","updated_at":"2021-06-29T13:38:50Z","author_association":"MEMBER","body":"> How does this impact running our basic 'sbt test', is it faster or slower?\r\n\r\nI ran it a few times with and without the change, and sometimes it was quicker, sometimes it was slower. So I'm not sure it makes a difference.\r\n\r\nI also tested back to back (e.g. `sbt test test`). My thinking was that before this change, compiled schemas would still be cached for the second test, so the second test wouldn't need to compile anything and should be faster than the first. But there really was no difference there either. I'm not sure if maybe there just weren't enough things being cached (I think we only cached file-based schemas before?), or if sbt is doing some magic to clean up and recreate objects inbetween tests, or if schema compilation just isn't the slow part of our test suite. Either way, the global cache didn't seem to help a ton.\r\n\r\nI did run things through a profiler before and after this change and looked at the memory usage. Before this change, sbt had 0.26 GB of used memory before running tests and 0.43 GB after. So ~200MB of cached \"stuff\". After this change, it went from 0.26 GB to .33 GB so about ~100MB of cached \"stuff\". I think there's a lot of stuff other than our schemas, much of with is just Scala stuff. It's pretty surprising to see how many objects scala creates for things like lambdas that can just never be freed. So all in-all, it did save some space, but not a significant amount, and not enough to really make a big difference.\r\n\r\n> Can you run the whole dfdl-schemas 'sbt test' without running out of memory now?\r\n\r\nUnfortunately no. I pretty quickly saw my swap getting used, so I think maybe I just don't have enough free memory on my system for what I've given to SBT. I might need to play around with things a bit.\r\n\r\nThat said, I'm not entirely convinced these leaks are the main culprit (thought it's good to fix).\r\n\r\nOne issue is I think a few schemas still use the DFDLTestSuite are they are never set to null, so those caches will still never be freed. I don't think there's enough that use that to matter.\r\n\r\nI suspect the main issue is that our dfdl-schemas regression is just too parallel happy and tries to do too much at once. Even if we are freeing caches, when we load large tdml files, compiling them all, comparing results, etc. many at the same time, it just requires a lot of memory--we just can't do that much work at once.\r\n\r\nWe might also need to look at what other things the TDML Runner is \"caching\". One example, the document bits is stored as a lazy val in the Document. Even though it's lazy so we won't created until it's needed, once it's created, it's not going to be freed until the entire DFDLTestSuite goes away. We possibly do the same thing for the expected. So I think there's still some thought that needs to be put into what the TDML runner stores as a val, and what it just recreates every time a test is run. This way we only use memory for the life of a test rather than the life of the test suite.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/870608311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/870668309","html_url":"https://github.com/apache/daffodil/pull/599#issuecomment-870668309","issue_url":"https://api.github.com/repos/apache/daffodil/issues/599","id":870668309,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MDY2ODMwOQ==","user":{"login":"tuxji","id":5915561,"node_id":"MDQ6VXNlcjU5MTU1NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5915561?v=4","gravatar_id":"","url":"https://api.github.com/users/tuxji","html_url":"https://github.com/tuxji","followers_url":"https://api.github.com/users/tuxji/followers","following_url":"https://api.github.com/users/tuxji/following{/other_user}","gists_url":"https://api.github.com/users/tuxji/gists{/gist_id}","starred_url":"https://api.github.com/users/tuxji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuxji/subscriptions","organizations_url":"https://api.github.com/users/tuxji/orgs","repos_url":"https://api.github.com/users/tuxji/repos","events_url":"https://api.github.com/users/tuxji/events{/privacy}","received_events_url":"https://api.github.com/users/tuxji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-29T14:49:50Z","updated_at":"2021-06-29T14:49:50Z","author_association":"CONTRIBUTOR","body":"> Does it make sense to move Sonarcloud back to it's own file? Our workflow pretty much always uses forks (except for the dependabot things which we can't change) so pull requests are rarely going to run for pull requests.\r\n\r\nIt doesn't really make sense to move Sonar back to sonarcloud.yml.  The Sonar scanner needs to see the fully built source tree and we need to run tests for coverage information anyway, so we do that only once in main.yml and then call the Sonar scanner as an afterthought if appropriate.  We just have to avoid running the Sonar scanner when we don't have secrets.SONAR_TOKEN available.  I'll look for a way to make the if condition more concise later, but we're still benefitting from not having to duplicate anything between main.yml and sonarcloud.yml now.\r\n\r\n> Also, this PR branched before the sonarcloud changes were merged. So this PR shouldn't even have updated main.yml? Do github actions the main.yml from the master branch now and not from the PR?\r\n\r\nThe workflow definitely used the updated main.yml.  I believe GitHub must have merged the PR's changes into the master branch when checking out the source code for the workflow.  That's why secrets.GITHUB_TOKEN still works, but not secrets.SONAR_TOKEN.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/870668309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/870752788","html_url":"https://github.com/apache/daffodil/pull/599#issuecomment-870752788","issue_url":"https://api.github.com/repos/apache/daffodil/issues/599","id":870752788,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MDc1Mjc4OA==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-29T16:41:54Z","updated_at":"2021-06-29T16:41:54Z","author_association":"MEMBER","body":"I think I've addressed all comments, including the SonarCloud scan updates. I've made it slightly less verbose and more directly tied to the specific matrix combination that it should run as. I think this way if we ever update the matrix, it will be more obvious that we also need to update the sonarcloud matrix thing. ","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/870752788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/871054683","html_url":"https://github.com/apache/daffodil/pull/600#issuecomment-871054683","issue_url":"https://api.github.com/repos/apache/daffodil/issues/600","id":871054683,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MTA1NDY4Mw==","user":{"login":"mbeckerle","id":1524099,"node_id":"MDQ6VXNlcjE1MjQwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1524099?v=4","gravatar_id":"","url":"https://api.github.com/users/mbeckerle","html_url":"https://github.com/mbeckerle","followers_url":"https://api.github.com/users/mbeckerle/followers","following_url":"https://api.github.com/users/mbeckerle/following{/other_user}","gists_url":"https://api.github.com/users/mbeckerle/gists{/gist_id}","starred_url":"https://api.github.com/users/mbeckerle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbeckerle/subscriptions","organizations_url":"https://api.github.com/users/mbeckerle/orgs","repos_url":"https://api.github.com/users/mbeckerle/repos","events_url":"https://api.github.com/users/mbeckerle/events{/privacy}","received_events_url":"https://api.github.com/users/mbeckerle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-30T02:45:55Z","updated_at":"2021-06-30T02:45:55Z","author_association":"CONTRIBUTOR","body":"@stevedlawrence or anyone really. \r\nThe tickets like DAFFODIL-1879 and DAFFODIL-2376 are hard to verify that they are fixed. Suggestions on how? \r\n","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/871054683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/871314429","html_url":"https://github.com/apache/daffodil/pull/600#issuecomment-871314429","issue_url":"https://api.github.com/repos/apache/daffodil/issues/600","id":871314429,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MTMxNDQyOQ==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-30T11:16:39Z","updated_at":"2021-06-30T11:16:39Z","author_association":"MEMBER","body":"This is my process for things like this in JProfiler. Other profilers might be different but the process is probably similar.\r\n\r\nWhat I first to is add an object with some functions that I can insert to act as my trigger point. For example:\r\n\r\n```scala\r\nobject Trigger() {\r\n  def start(): Unit = println(\"Start trigger\")\r\n  def stop(): Unit = println(\"Start trigger\")\r\n}\r\n```\r\n\r\nThen right after a DataProcessor is created and where all compile time references should no longer be accessable, I would add a call to this function, e.g.\r\n\r\n```scala\r\nTrigger.start()\r\n```\r\n\r\nThen I would run this in a JProfiler configured with a \"Method Invocation\" Trigger on the `Trigger.start()`. The Action for the trigger would be \"trigger heap dump\", so we get a heap dump when this Trigger.start method is called. In JProfiler, this action can be configured to perform a full garbage collection. When that checked, in theory compile time objects should have all been garbage collected and won't appear in the heap dump. If they do, you should be able to examine the heap dump and find where those references still exist.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/871314429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/871721696","html_url":"https://github.com/apache/daffodil/pull/592#issuecomment-871721696","issue_url":"https://api.github.com/repos/apache/daffodil/issues/592","id":871721696,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MTcyMTY5Ng==","user":{"login":"dasmallwood","id":85363055,"node_id":"MDQ6VXNlcjg1MzYzMDU1","avatar_url":"https://avatars.githubusercontent.com/u/85363055?v=4","gravatar_id":"","url":"https://api.github.com/users/dasmallwood","html_url":"https://github.com/dasmallwood","followers_url":"https://api.github.com/users/dasmallwood/followers","following_url":"https://api.github.com/users/dasmallwood/following{/other_user}","gists_url":"https://api.github.com/users/dasmallwood/gists{/gist_id}","starred_url":"https://api.github.com/users/dasmallwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dasmallwood/subscriptions","organizations_url":"https://api.github.com/users/dasmallwood/orgs","repos_url":"https://api.github.com/users/dasmallwood/repos","events_url":"https://api.github.com/users/dasmallwood/events{/privacy}","received_events_url":"https://api.github.com/users/dasmallwood/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-30T20:56:26Z","updated_at":"2021-06-30T20:56:26Z","author_association":"NONE","body":"@stevedlawrence superseded by\r\nhttps://github.com/apache/daffodil/pull/601","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/871721696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/873280596","html_url":"https://github.com/apache/daffodil/pull/600#issuecomment-873280596","issue_url":"https://api.github.com/repos/apache/daffodil/issues/600","id":873280596,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MzI4MDU5Ng==","user":{"login":"mbeckerle","id":1524099,"node_id":"MDQ6VXNlcjE1MjQwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1524099?v=4","gravatar_id":"","url":"https://api.github.com/users/mbeckerle","html_url":"https://github.com/mbeckerle","followers_url":"https://api.github.com/users/mbeckerle/followers","following_url":"https://api.github.com/users/mbeckerle/following{/other_user}","gists_url":"https://api.github.com/users/mbeckerle/gists{/gist_id}","starred_url":"https://api.github.com/users/mbeckerle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbeckerle/subscriptions","organizations_url":"https://api.github.com/users/mbeckerle/orgs","repos_url":"https://api.github.com/users/mbeckerle/repos","events_url":"https://api.github.com/users/mbeckerle/events{/privacy}","received_events_url":"https://api.github.com/users/mbeckerle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-02T22:12:41Z","updated_at":"2021-07-02T22:12:41Z","author_association":"CONTRIBUTOR","body":"I was able to identify why the compiler objects were being retained.\r\n\r\nTurns out when you use Xerces to validate, it caches the errorHandler objects that were passed to it. \r\nThe DFDLSchemaFile component (part of schema compiler) was acting as its own error handler by \r\nmixing in ErrorHandler and implementing the error, warning, and fatalError methods. \r\nXerces cache would then hold onto the DFDLSchemaFile object, and that drags in every compiler data structure from it. \r\n\r\nFixed by creating separate error handler. \r\n\r\nCreated DAFFODIL-2541 for cleanup of XML loader error handling generally, which now that XML Loading is better centralized, can be far cleaner without all this error-handler complexity, all of which can be isolated in the DaffodilXMLLoader class.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/873280596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/873454147","html_url":"https://github.com/apache/daffodil/pull/600#issuecomment-873454147","issue_url":"https://api.github.com/repos/apache/daffodil/issues/600","id":873454147,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MzQ1NDE0Nw==","user":{"login":"mbeckerle","id":1524099,"node_id":"MDQ6VXNlcjE1MjQwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1524099?v=4","gravatar_id":"","url":"https://api.github.com/users/mbeckerle","html_url":"https://github.com/mbeckerle","followers_url":"https://api.github.com/users/mbeckerle/followers","following_url":"https://api.github.com/users/mbeckerle/following{/other_user}","gists_url":"https://api.github.com/users/mbeckerle/gists{/gist_id}","starred_url":"https://api.github.com/users/mbeckerle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbeckerle/subscriptions","organizations_url":"https://api.github.com/users/mbeckerle/orgs","repos_url":"https://api.github.com/users/mbeckerle/repos","events_url":"https://api.github.com/users/mbeckerle/events{/privacy}","received_events_url":"https://api.github.com/users/mbeckerle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-03T18:55:12Z","updated_at":"2021-07-03T18:55:12Z","author_association":"CONTRIBUTOR","body":"I verified that a large suite of public and non-public DFDL schemas all continue to work with this.\r\nFurthermore, they can all be run in one shot with 'sbt test' again now, probably due to prior fixes (not this change set) to the TDML Runner schema cache. \r\n\r\nHere's an image of VisualVM with an 8GB virtual machine running the suite of 60+ schemas and their tests:\r\n\r\n![image](https://user-images.githubusercontent.com/1524099/124364298-9a38d200-dc0e-11eb-936f-e6f87de2bc47.png)\r\n\r\nHere's the output:\r\n```\r\ncd dfdl-schemas\r\nutils/set-daffodil-version 3.2.0-SNAPSHOT\r\nsbt test 2>&1 | grep Failed\r\n[info] Passed: Total 1, Failed 0, Errors 0, Passed 1\r\n[info] Passed: Total 14, Failed 0, Errors 0, Passed 14\r\n[info] Passed: Total 9, Failed 0, Errors 0, Passed 9\r\n[info] Passed: Total 1, Failed 0, Errors 0, Passed 1\r\n[info] Passed: Total 18, Failed 0, Errors 0, Passed 18\r\n[info] Passed: Total 1, Failed 0, Errors 0, Passed 1\r\n[info] Passed: Total 37, Failed 0, Errors 0, Passed 37\r\n[info] Passed: Total 45, Failed 0, Errors 0, Passed 45\r\n[info] Passed: Total 65, Failed 0, Errors 0, Passed 65\r\n[info] Passed: Total 2, Failed 0, Errors 0, Passed 2\r\n[info] Passed: Total 31, Failed 0, Errors 0, Passed 31\r\n[info] Passed: Total 2, Failed 0, Errors 0, Passed 2\r\n[info] Passed: Total 175, Failed 0, Errors 0, Passed 175\r\n[info] Passed: Total 65, Failed 0, Errors 0, Passed 65\r\n[info] Passed: Total 40, Failed 0, Errors 0, Passed 40\r\n[info] Passed: Total 12, Failed 0, Errors 0, Passed 12\r\n[info] Passed: Total 8, Failed 0, Errors 0, Passed 8\r\n[info] Passed: Total 1, Failed 0, Errors 0, Passed 1\r\n[info] Passed: Total 5, Failed 0, Errors 0, Passed 5\r\n[info] Passed: Total 1, Failed 0, Errors 0, Passed 1\r\n[info] Passed: Total 62, Failed 0, Errors 0, Passed 62\r\n[info] Passed: Total 3, Failed 0, Errors 0, Passed 3\r\n[info] Passed: Total 2, Failed 0, Errors 0, Passed 2\r\n[info] Passed: Total 22, Failed 0, Errors 0, Passed 22\r\n[info] Passed: Total 1, Failed 0, Errors 0, Passed 1\r\n[info] Passed: Total 4, Failed 0, Errors 0, Passed 4\r\n[info] Passed: Total 1, Failed 0, Errors 0, Passed 1\r\n[info] Passed: Total 2, Failed 0, Errors 0, Passed 2\r\n[info] Passed: Total 3, Failed 0, Errors 0, Passed 3\r\n[info] Passed: Total 5, Failed 0, Errors 0, Passed 5\r\n[info] Passed: Total 3, Failed 0, Errors 0, Passed 3\r\n[info] Passed: Total 1, Failed 0, Errors 0, Passed 1\r\n[info] Passed: Total 11, Failed 0, Errors 0, Passed 11\r\n[info] Passed: Total 2, Failed 0, Errors 0, Passed 2\r\n[info] Passed: Total 7, Failed 0, Errors 0, Passed 7\r\n[info] Passed: Total 7, Failed 0, Errors 0, Passed 7\r\n[info] Passed: Total 6, Failed 0, Errors 0, Passed 6\r\n[info] Passed: Total 10, Failed 0, Errors 0, Passed 10\r\n[info] Passed: Total 8, Failed 0, Errors 0, Passed 8\r\n[info] Passed: Total 2, Failed 0, Errors 0, Passed 2\r\n[info] Passed: Total 3, Failed 0, Errors 0, Passed 3\r\n[info] Passed: Total 6, Failed 0, Errors 0, Passed 6\r\n[info] Passed: Total 12, Failed 0, Errors 0, Passed 12\r\n[info] Passed: Total 24, Failed 0, Errors 0, Passed 24\r\n[info] Passed: Total 9, Failed 0, Errors 0, Passed 9\r\n[info] Passed: Total 4, Failed 0, Errors 0, Passed 4\r\n[info] Passed: Total 6, Failed 0, Errors 0, Passed 6\r\n[info] Passed: Total 65, Failed 0, Errors 0, Passed 65\r\n[info] Passed: Total 77, Failed 0, Errors 0, Passed 77\r\n[info] Passed: Total 8, Failed 0, Errors 0, Passed 8\r\n[info] Passed: Total 1, Failed 0, Errors 0, Passed 1\r\n[info] Passed: Total 1, Failed 0, Errors 0, Passed 1\r\n[info] Passed: Total 694, Failed 0, Errors 0, Passed 694\r\n[info] Passed: Total 8, Failed 0, Errors 0, Passed 8\r\n[info] Passed: Total 31, Failed 0, Errors 0, Passed 31\r\n[info] Passed: Total 694, Failed 0, Errors 0, Passed 694\r\n[info] Passed: Total 9, Failed 0, Errors 0, Passed 9\r\n[info] Passed: Total 8, Failed 0, Errors 0, Passed 8\r\n```","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/873454147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/874899978","html_url":"https://github.com/apache/daffodil/pull/600#issuecomment-874899978","issue_url":"https://api.github.com/repos/apache/daffodil/issues/600","id":874899978,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NDg5OTk3OA==","user":{"login":"mbeckerle","id":1524099,"node_id":"MDQ6VXNlcjE1MjQwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1524099?v=4","gravatar_id":"","url":"https://api.github.com/users/mbeckerle","html_url":"https://github.com/mbeckerle","followers_url":"https://api.github.com/users/mbeckerle/followers","following_url":"https://api.github.com/users/mbeckerle/following{/other_user}","gists_url":"https://api.github.com/users/mbeckerle/gists{/gist_id}","starred_url":"https://api.github.com/users/mbeckerle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbeckerle/subscriptions","organizations_url":"https://api.github.com/users/mbeckerle/orgs","repos_url":"https://api.github.com/users/mbeckerle/repos","events_url":"https://api.github.com/users/mbeckerle/events{/privacy}","received_events_url":"https://api.github.com/users/mbeckerle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-06T16:18:33Z","updated_at":"2021-07-06T16:18:33Z","author_association":"CONTRIBUTOR","body":"> +1\r\n> \r\n> I didn't have time to review thoroughly, but looks good. What was the reason for changing so many def's to lazy val's, how did that help achieve your goal?\r\n\r\nSo the short answer is that the LVs are always lazy. Implenting these in the \"def\" style creates a ton of smaller data objects stored in a hash table, and that made analyzing the heap dump too hard. Implementing as \"lazy val\" makes each DSOM object bigger, because there are lots of lazy val members that never get evaluated. But the hash table is not there, nor the objects in it. The heap dump is therefore far simpler, as the relationship of one object to another is often just one is a member of the other, vs one is in a hash table entry where that hash table is on the other object Anyway, I was able to dig through and spot the problem, which was actually in the validator holding on to the objects. \r\n\r\nUsing regular lazy vals also helps with regular breakpoint debugging because you can see the values in a standard debugger inspection of the DSOM object, albeit you have to scroll through lots of members of the object most of which are unused. \r\n\r\nA long time back the whole OOLAG LV system used to be all done with lazy val. We switched to def with a hash table to store the LV objects as one attempt to address compilation time and space. \r\n\r\nHowever, that wasn't the primary problem with compilation time. It was copying (vs. sharing) of shared structures that was the biggest issue. Now that this is rectified (since 2.6.0), I prefer to use lazy val for these things because of the improved debug, and the simplification of the heap-dump analysis pushed me over the threshold where I decided to change them all back to just using lazy val. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/874899978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/875522568","html_url":"https://github.com/apache/daffodil/pull/604#issuecomment-875522568","issue_url":"https://api.github.com/repos/apache/daffodil/issues/604","id":875522568,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NTUyMjU2OA==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-07T11:22:56Z","updated_at":"2021-07-07T11:22:56Z","author_association":"MEMBER","body":"+1\r\n\r\n- [X] **Do all automated continuous integration checks pass?**\r\nYes\r\n- [X] **Is the update a patch, minor, or major update?**\r\nPatch update, single bug fix that did not affect Daffodil\r\n- [X] **Is the license still compatible with ASF License Policy?**\r\nYes, same license and no changes to ASF policy\r\n- [X] **Have any changes been made to LICENSE/NOTICE files that need to be incorporated?**\r\nNo changes\r\n- [X] **Have any transitive dependencies been added or changed?**\r\nNo changes","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/875522568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/875539822","html_url":"https://github.com/apache/daffodil/pull/603#issuecomment-875539822","issue_url":"https://api.github.com/repos/apache/daffodil/issues/603","id":875539822,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NTUzOTgyMg==","user":{"login":"Samarth08","id":17105953,"node_id":"MDQ6VXNlcjE3MTA1OTUz","avatar_url":"https://avatars.githubusercontent.com/u/17105953?v=4","gravatar_id":"","url":"https://api.github.com/users/Samarth08","html_url":"https://github.com/Samarth08","followers_url":"https://api.github.com/users/Samarth08/followers","following_url":"https://api.github.com/users/Samarth08/following{/other_user}","gists_url":"https://api.github.com/users/Samarth08/gists{/gist_id}","starred_url":"https://api.github.com/users/Samarth08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Samarth08/subscriptions","organizations_url":"https://api.github.com/users/Samarth08/orgs","repos_url":"https://api.github.com/users/Samarth08/repos","events_url":"https://api.github.com/users/Samarth08/events{/privacy}","received_events_url":"https://api.github.com/users/Samarth08/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-07T11:52:50Z","updated_at":"2021-07-07T11:52:50Z","author_association":"NONE","body":"After rebasing it with master facing issues with DaffodilTunablesGen.Scala while running the test cases.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/875539822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/875563121","html_url":"https://github.com/apache/daffodil/pull/603#issuecomment-875563121","issue_url":"https://api.github.com/repos/apache/daffodil/issues/603","id":875563121,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NTU2MzEyMQ==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-07T12:30:49Z","updated_at":"2021-07-07T12:30:49Z","author_association":"MEMBER","body":"@Samarth08, what errors are you getting?","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/875563121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/875567940","html_url":"https://github.com/apache/daffodil/pull/603#issuecomment-875567940","issue_url":"https://api.github.com/repos/apache/daffodil/issues/603","id":875567940,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NTU2Nzk0MA==","user":{"login":"Samarth08","id":17105953,"node_id":"MDQ6VXNlcjE3MTA1OTUz","avatar_url":"https://avatars.githubusercontent.com/u/17105953?v=4","gravatar_id":"","url":"https://api.github.com/users/Samarth08","html_url":"https://github.com/Samarth08","followers_url":"https://api.github.com/users/Samarth08/followers","following_url":"https://api.github.com/users/Samarth08/following{/other_user}","gists_url":"https://api.github.com/users/Samarth08/gists{/gist_id}","starred_url":"https://api.github.com/users/Samarth08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Samarth08/subscriptions","organizations_url":"https://api.github.com/users/Samarth08/orgs","repos_url":"https://api.github.com/users/Samarth08/repos","events_url":"https://api.github.com/users/Samarth08/events{/privacy}","received_events_url":"https://api.github.com/users/Samarth08/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-07T12:38:21Z","updated_at":"2021-07-07T12:38:21Z","author_association":"NONE","body":"overloaded method value load with alternatives:\r\n  (url: java.net.URL)scala.xml.Node <and>\r\n  (source: scala.xml.InputSource)scala.xml.Node <and>\r\n  (sysID: String)scala.xml.Node <and>\r\n  (reader: java.io.Reader)scala.xml.Node <and>\r\n  (is: java.io.InputStream)scala.xml.Node\r\n cannot be applied to (org.apache.daffodil.api.URISchemaSource)\r\n        val node = loader.load(URISchemaSource(configOpt.get))\r\n","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/875567940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/875581937","html_url":"https://github.com/apache/daffodil/pull/603#issuecomment-875581937","issue_url":"https://api.github.com/repos/apache/daffodil/issues/603","id":875581937,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NTU4MTkzNw==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-07T12:59:50Z","updated_at":"2021-07-07T12:59:50Z","author_association":"MEMBER","body":"Commit 62ac1047a18979bea1f5d6c668eefeaaae39d64b changed the parameters to the `DaffodilXMLLoader.load` method, which is where the problem is on the line\r\n```scala\r\nval node = loader.load(URISchemaSource(configOpt.get))\r\n```\r\nThat line should look like this now:\r\n```scala\r\nval node = loader.load(URISchemaSource(configOpt.get), Some(XMLUtils.dafextURI))\r\n```\r\nWhich means that your `TunableGenerator.scala` file is old and isn't updated for some reason, but your `DaffodilXMLLoader.scala` file is the new correct one. Maybe you need to refresh files in your IDE or something? If you're still not sure, feel free to commit your changes and push to this PR and I can take a look and see whats going on.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/875581937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/875613507","html_url":"https://github.com/apache/daffodil/pull/603#issuecomment-875613507","issue_url":"https://api.github.com/repos/apache/daffodil/issues/603","id":875613507,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NTYxMzUwNw==","user":{"login":"Samarth08","id":17105953,"node_id":"MDQ6VXNlcjE3MTA1OTUz","avatar_url":"https://avatars.githubusercontent.com/u/17105953?v=4","gravatar_id":"","url":"https://api.github.com/users/Samarth08","html_url":"https://github.com/Samarth08","followers_url":"https://api.github.com/users/Samarth08/followers","following_url":"https://api.github.com/users/Samarth08/following{/other_user}","gists_url":"https://api.github.com/users/Samarth08/gists{/gist_id}","starred_url":"https://api.github.com/users/Samarth08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Samarth08/subscriptions","organizations_url":"https://api.github.com/users/Samarth08/orgs","repos_url":"https://api.github.com/users/Samarth08/repos","events_url":"https://api.github.com/users/Samarth08/events{/privacy}","received_events_url":"https://api.github.com/users/Samarth08/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-07T13:40:15Z","updated_at":"2021-07-07T13:40:15Z","author_association":"NONE","body":"I have fetched the latest master but I am not able to run the tests.I am not able to test bitNot.Rest all are tested.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/875613507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/875811125","html_url":"https://github.com/apache/daffodil/pull/603#issuecomment-875811125","issue_url":"https://api.github.com/repos/apache/daffodil/issues/603","id":875811125,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NTgxMTEyNQ==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-07T17:58:30Z","updated_at":"2021-07-07T17:58:30Z","author_association":"MEMBER","body":"Based on what you've pushed, I'm not sure why you would get the error about ``loader.load``. Did that go away?\r\n\r\nDouble check your ``DFDLXFunctions.scala`` file. There is a duplicate DFDLXBitAnd classe that are causing issues. Remove that duplicate. Also check ``Expression.scala`, that file is reference DFDLXAnd but should be DFDLXBitAnd.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/875811125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/875826260","html_url":"https://github.com/apache/daffodil/pull/603#issuecomment-875826260","issue_url":"https://api.github.com/repos/apache/daffodil/issues/603","id":875826260,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NTgyNjI2MA==","user":{"login":"Samarth08","id":17105953,"node_id":"MDQ6VXNlcjE3MTA1OTUz","avatar_url":"https://avatars.githubusercontent.com/u/17105953?v=4","gravatar_id":"","url":"https://api.github.com/users/Samarth08","html_url":"https://github.com/Samarth08","followers_url":"https://api.github.com/users/Samarth08/followers","following_url":"https://api.github.com/users/Samarth08/following{/other_user}","gists_url":"https://api.github.com/users/Samarth08/gists{/gist_id}","starred_url":"https://api.github.com/users/Samarth08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Samarth08/subscriptions","organizations_url":"https://api.github.com/users/Samarth08/orgs","repos_url":"https://api.github.com/users/Samarth08/repos","events_url":"https://api.github.com/users/Samarth08/events{/privacy}","received_events_url":"https://api.github.com/users/Samarth08/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-07T18:19:10Z","updated_at":"2021-07-07T18:19:10Z","author_association":"NONE","body":"The loader.load error was resolved after doing sbt compile again.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/875826260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/875952370","html_url":"https://github.com/apache/daffodil/pull/600#issuecomment-875952370","issue_url":"https://api.github.com/repos/apache/daffodil/issues/600","id":875952370,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NTk1MjM3MA==","user":{"login":"mbeckerle","id":1524099,"node_id":"MDQ6VXNlcjE1MjQwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1524099?v=4","gravatar_id":"","url":"https://api.github.com/users/mbeckerle","html_url":"https://github.com/mbeckerle","followers_url":"https://api.github.com/users/mbeckerle/followers","following_url":"https://api.github.com/users/mbeckerle/following{/other_user}","gists_url":"https://api.github.com/users/mbeckerle/gists{/gist_id}","starred_url":"https://api.github.com/users/mbeckerle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbeckerle/subscriptions","organizations_url":"https://api.github.com/users/mbeckerle/orgs","repos_url":"https://api.github.com/users/mbeckerle/repos","events_url":"https://api.github.com/users/mbeckerle/events{/privacy}","received_events_url":"https://api.github.com/users/mbeckerle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-07T21:38:34Z","updated_at":"2021-07-07T21:38:34Z","author_association":"CONTRIBUTOR","body":"Alas, I have discovered that a bunch of well known DFDL schemas fail regression testing with this change. \r\nSo there will be another fix on top of this once I figure out what is going on there. \r\n```\r\n[error] Test com.tresys.mil_std_2045.Test2045Hdr.test_2045msghdr2 failed: java.util.NoSuchElementException: head of empty list, took 5.202 sec\r\n[error]     at scala.collection.immutable.Nil$.head(List.scala:430)\r\n[error]     at scala.collection.immutable.Nil$.head(List.scala:427)\r\n[error]     at org.apache.daffodil.dpath.NamedStep.downwardStep$lzycompute(Expression.scala:1177)\r\n```\r\nanother is, or appears to be new SDEs detected, but this is probably be due to a bug:\r\n```\r\n[error] Test com.tresys.gmtif.TestfGMTIF_DFDL.test_ba16Test1 failed: org.apache.daffodil.tdml.TDMLExceptionImpl: (Implementation: daffodil) SchemaDefinitionError: Schema Definition Error: Cannot compare double with string for operator 'le'\r\n[error] Schema context: raw Location line 265 column 6 in file:/home/mbeckerle/Documents/dataiti/git/dfdl-schemas/dfdl-gmtif/target/classes/com/tresys/gmtif/xsd/gmtif.dfdl.xsd\r\n[error] SchemaDefinitionError: Schema Definition Error: No element corresponding to step tns:RevisitIndex found. Possibilities for this step include: tns:raw, tns:value.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/875952370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/876702282","html_url":"https://github.com/apache/daffodil/pull/605#issuecomment-876702282","issue_url":"https://api.github.com/repos/apache/daffodil/issues/605","id":876702282,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NjcwMjI4Mg==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-08T19:52:13Z","updated_at":"2021-07-08T19:52:13Z","author_association":"MEMBER","body":"> You should try turning on all logging levels (full logging, \"trace\" level?) and run our test suite. It should still work, excepting tests that themselves are turning on/off logging. I know with the old logging, turning it on frequently resulted in stack overflows, circular OOLAG, or just aborts. All such failures are bugs. They don't have to be fixed in this PR, but we should find them anyway, or make a separate task to fix so that one can always turn logging on.\r\n\r\nI did turn on trace level logging and there was only one bad log messsage that caused issues. I forget where it came from, but the change to fix it was here:\r\n\r\nhttps://github.com/apache/daffodil/pull/605/files#diff-54ec9da14e47187ffdeeb515a11f925da7a44fee744fb423547135277973972bR242\r\n\r\nI didn't have any other issues with stack overflows or circularities or anything.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/876702282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/877090718","html_url":"https://github.com/apache/daffodil/pull/606#issuecomment-877090718","issue_url":"https://api.github.com/repos/apache/daffodil/issues/606","id":877090718,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NzA5MDcxOA==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-09T10:39:54Z","updated_at":"2021-07-09T10:39:54Z","author_association":"MEMBER","body":"No need to open a new pull request. When you push changes to a branch related to a pull request, the existing pull request is automatically updated. And by opening a new pull request we lose review comments from the previous PR. I'm going to close this one and reopen the other one.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/877090718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/878235869","html_url":"https://github.com/apache/daffodil/pull/607#issuecomment-878235869","issue_url":"https://api.github.com/repos/apache/daffodil/issues/607","id":878235869,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODIzNTg2OQ==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-12T12:24:17Z","updated_at":"2021-07-12T12:24:17Z","author_association":"MEMBER","body":"+1\r\n\r\n- [X] **Do all automated continuous integration checks pass?**\r\nYes\r\n- [X] **Is the update a patch, minor, or major update?**\r\nPatch update, minor bug fixes, I don't think anything affects Daffodils use\r\n- [X] **Is the license still compatible with ASF License Policy?**\r\nYes, still ALv2\r\n- [X] **Have any changes been made to LICENSE/NOTICE files that need to be incorporated?**\r\nNot applicable, we don't distribute SBT\r\n- [X] **Have any transitive dependencies been added or changed?**\r\nNo","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/878235869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/879175783","html_url":"https://github.com/apache/daffodil/pull/608#issuecomment-879175783","issue_url":"https://api.github.com/repos/apache/daffodil/issues/608","id":879175783,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTE3NTc4Mw==","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-13T15:14:04Z","updated_at":"2021-07-13T15:14:04Z","author_association":"MEMBER","body":"+1\r\n\r\n- [X] **Do all automated continuous integration checks pass?**\r\nYes\r\n- [X] **Is the update a patch, minor, or major update?**\r\nMinor update, see [release notes](https://github.com/apache/commons-io/blob/master/RELEASE-NOTES.txt). Bug fixes/minor changes that do not affect Daffodil\r\n- [X] **Is the license still compatible with ASF License Policy?**\r\nYes, still ALv2\r\n- [X] **Have any changes been made to LICENSE/NOTICE files that need to be incorporated?**\r\nNo\r\n- [X] **Have any transitive dependencies been added or changed?**\r\nNo","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/879175783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/881441446","html_url":"https://github.com/apache/daffodil/pull/609#issuecomment-881441446","issue_url":"https://api.github.com/repos/apache/daffodil/issues/609","id":881441446,"node_id":"IC_kwDOBhBG1s40ibqm","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-16T13:15:09Z","updated_at":"2021-07-16T13:15:09Z","author_association":"MEMBER","body":"+1\r\n\r\n- [X] **Do all automated continuous integration checks pass?**\r\nYes\r\n- [X] **Is the update a patch, minor, or major update?**\r\nPatch update, only change is a bug fix for a version of Scala that Daffodil doesn't support\r\n- [X] **Is the license still compatible with ASF License Policy?**\r\nYes, still ALv2\r\n- [X] **Have any changes been made to LICENSE/NOTICE files that need to be incorporated?**\r\nNo changes, but we don't distribute the plugin, so not applicable\r\n- [X] **Have any transitive dependencies been added or changed?**\r\nNo","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/881441446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/883307892","html_url":"https://github.com/apache/daffodil/pull/612#issuecomment-883307892","issue_url":"https://api.github.com/repos/apache/daffodil/issues/612","id":883307892,"node_id":"IC_kwDOBhBG1s40pjV0","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-20T11:11:33Z","updated_at":"2021-07-20T11:11:33Z","author_association":"MEMBER","body":" +1\r\n   \r\n - [X] **Do all automated continuous integration checks pass?**\r\n Yes\r\n - [X] **Is the update a patch, minor, or major update?**\r\n Patch update, one fix to how option descriptions that contain newlines are handled--does not affect Daffodil\r\n - [X] **Is the license still compatible with ASF License Policy?**\r\n Yes, still MIT.\r\n - [X] **Have any changes been made to LICENSE/NOTICE files that need to be incorporated?**\r\n No changes to LICENSE. No NOTICE file\r\n - [X] **Have any transitive dependencies been added or changed?**\r\n No changes to transitive dependencies","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/883307892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/883344820","html_url":"https://github.com/apache/daffodil/pull/611#issuecomment-883344820","issue_url":"https://api.github.com/repos/apache/daffodil/issues/611","id":883344820,"node_id":"IC_kwDOBhBG1s40psW0","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-20T12:15:27Z","updated_at":"2021-07-20T12:15:27Z","author_association":"MEMBER","body":" +1\r\n   \r\n - [X] **Do all automated continuous integration checks pass?**\r\n Yes, codecov runs successfully and uploads the report. It does look like coverage has dropped 3.34% down to 77.67% total. After some digging, it looks like previous codecov version do not inclue generated files in src_managed. The GeneratedCode.scala file is pretty large with lots of unused generated code, so this isn't too surprising. We should still get the \"uncovered code\" annotations in PR's, which I think is the most important aspect of codecov.\r\n - [X] **Is the update a patch, minor, or major update?**\r\n Major update, current version is being sunsetted in about Feb 2022. This new version also verifies the uploader with gpg signatures and shasums to prevent another supply chain compromise\r\n - [X] **Is the license still compatible with ASF License Policy?**\r\n Yes, still MIT. New uploader is ALv2\r\n - [X] **Have any changes been made to LICENSE/NOTICE files that need to be incorporated?**\r\n No changes, note we don't distribute this, so not applicable\r\n - [X] **Have any transitive dependencies been added or changed?**\r\n Not applicable","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/883344820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/883793657","html_url":"https://github.com/apache/daffodil/pull/603#issuecomment-883793657","issue_url":"https://api.github.com/repos/apache/daffodil/issues/603","id":883793657,"node_id":"IC_kwDOBhBG1s40rZ75","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-21T00:28:38Z","updated_at":"2021-07-21T00:28:38Z","author_association":"MEMBER","body":"Latest changes look good to me, but we can't rebase/merge this PR because it contains conflicts due to the merge commit. In the future, avoid running `git merge` or `git pull` (which does a merge behind the scenes), since they lead to these merge commits that cause issues. Lots of places online say to use git pull or git merge, but for Daffodil those commands should be avoided.\r\n\r\nHere's the commands to fix your branch up and squash into a single commit:\r\n\r\n```bash\r\n# make sure we are on your branch\r\ngit checkout DAFFODIL-2473_Remaining\r\n\r\n# create a backup branch just in case we mess things up\r\ngit branch DAFFODIL-2473-backup\r\n\r\n# create a diff between your branch and master\r\ngit diff asf/master > daffodil-2473.patch\r\n\r\n# move your branch to asf/master\r\ngit reset --hard asf/master\r\n\r\n# apply the patch and stage the changes\r\ngit apply --index daffodil-2473.patch\r\n\r\n# delete the patch file\r\nrm daffodil-2473.patch\r\n\r\n# commit your changes, add a new commit message\r\ngit commit\r\n```\r\n\r\nIf that all works, you should now have a single commit containing your squashed changes on top of asf/master. You can force push that to your fork to update the PR, and delete the backup branch.\r\n```bash\r\n# update the PR with your new changes (assuming \"origin\" is your fork)\r\ngit push --force origin DAFFODIL-2473_Remaining\r\n\r\n# delete backup branch\r\ngit branch -D DAFFODIL-2473-backup\r\n```\r\n\r\nIf at any point a command doesn't work or looks wrong, you can always reset to the backup branch and it will be like none of this happened:\r\n```\r\ngit reset --hard DAFFODIL-2474-backup\r\n```\r\nI've also got a clone of your PR, so if something goes really wrong, I'll have the changes and we can restore them.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/883793657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/884135345","html_url":"https://github.com/apache/daffodil/pull/613#issuecomment-884135345","issue_url":"https://api.github.com/repos/apache/daffodil/issues/613","id":884135345,"node_id":"IC_kwDOBhBG1s40stWx","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-21T12:02:21Z","updated_at":"2021-07-21T12:02:21Z","author_association":"MEMBER","body":"+1\r\n\r\n- [X] **Do all automated continuous integration checks pass?**\r\nYes\r\n- [X] **Is the update a patch, minor, or major update?**\r\nPatch update, pretty much no actual code changes. Just documentation and build dependency updates\r\n- [X] **Is the license still compatible with ASF License Policy?**\r\nYes, still ALv2\r\n- [X] **Have any changes been made to LICENSE/NOTICE files that need to be incorporated?**\r\nNo\r\n- [X] **Have any transitive dependencies been added or changed?**\r\nNo","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/884135345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/886670830","html_url":"https://github.com/apache/daffodil/pull/615#issuecomment-886670830","issue_url":"https://api.github.com/repos/apache/daffodil/issues/615","id":886670830,"node_id":"IC_kwDOBhBG1s402YXu","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-26T12:45:43Z","updated_at":"2021-07-26T12:45:43Z","author_association":"MEMBER","body":" +1\r\n   \r\n - [X] **Do all automated continuous integration checks pass?**\r\n Yes, codecov runs successfully and uploads the report.\r\n - [X] **Is the update a patch, minor, or major update?**\r\n Minor update, fixes an issue that we haven't seen\r\n - [X] **Is the license still compatible with ASF License Policy?**\r\n Yes, still MIT.\r\n - [X] **Have any changes been made to LICENSE/NOTICE files that need to be incorporated?**\r\n No changes, note we don't distribute this, so not applicable\r\n - [X] **Have any transitive dependencies been added or changed?**\r\n Not applicable","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/886670830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/886673372","html_url":"https://github.com/apache/daffodil/pull/614#issuecomment-886673372","issue_url":"https://api.github.com/repos/apache/daffodil/issues/614","id":886673372,"node_id":"IC_kwDOBhBG1s402Y_c","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-26T12:49:27Z","updated_at":"2021-07-26T12:49:27Z","author_association":"MEMBER","body":"+1\r\n\r\n- [X] **Do all automated continuous integration checks pass?**\r\nYes\r\n- [X] **Is the update a patch, minor, or major update?**\r\nPatch update. Small bug fixes that don't affect Daffodil\r\n- [X] **Is the license still compatible with ASF License Policy?**\r\nYes, still Apache 2.0.\r\n- [X] **Have any changes been made to LICENSE/NOTICE files that need to be incorporated?**\r\nNo changes.\r\n- [X] **Have any transitive dependencies been added or changed?**\r\nNo transitive dependencies.\r\n","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/886673372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/886688135","html_url":"https://github.com/apache/daffodil/pull/603#issuecomment-886688135","issue_url":"https://api.github.com/repos/apache/daffodil/issues/603","id":886688135,"node_id":"IC_kwDOBhBG1s402cmH","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-26T13:09:00Z","updated_at":"2021-07-26T13:09:00Z","author_association":"MEMBER","body":"+1 to the latest changes.\r\n\r\nPlease squash into a single commit following the steps in https://github.com/apache/daffodil/pull/603#issuecomment-883793657 and this can be merged.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/886688135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/887040953","html_url":"https://github.com/apache/daffodil/pull/617#issuecomment-887040953","issue_url":"https://api.github.com/repos/apache/daffodil/issues/617","id":887040953,"node_id":"IC_kwDOBhBG1s403yu5","user":{"login":"mbeckerle","id":1524099,"node_id":"MDQ6VXNlcjE1MjQwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1524099?v=4","gravatar_id":"","url":"https://api.github.com/users/mbeckerle","html_url":"https://github.com/mbeckerle","followers_url":"https://api.github.com/users/mbeckerle/followers","following_url":"https://api.github.com/users/mbeckerle/following{/other_user}","gists_url":"https://api.github.com/users/mbeckerle/gists{/gist_id}","starred_url":"https://api.github.com/users/mbeckerle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbeckerle/subscriptions","organizations_url":"https://api.github.com/users/mbeckerle/orgs","repos_url":"https://api.github.com/users/mbeckerle/repos","events_url":"https://api.github.com/users/mbeckerle/events{/privacy}","received_events_url":"https://api.github.com/users/mbeckerle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-26T21:29:54Z","updated_at":"2021-07-26T21:29:54Z","author_association":"CONTRIBUTOR","body":"Sorry. I hit the close button by accident. Reopening ","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/887040953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/887450210","html_url":"https://github.com/apache/daffodil/pull/617#issuecomment-887450210","issue_url":"https://api.github.com/repos/apache/daffodil/issues/617","id":887450210,"node_id":"IC_kwDOBhBG1s405Wpi","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-27T11:56:41Z","updated_at":"2021-07-27T11:56:41Z","author_association":"MEMBER","body":"> Wow, sbt is flakey if it doesn't even have a standard command line behavior on windows.\r\n\r\nYeah, the .sbtopt file on windows doesn't parse the same as on linux. There's a bug somewhere with SBT but I can't find it now. ","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/887450210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/887477300","html_url":"https://github.com/apache/daffodil/pull/601#issuecomment-887477300","issue_url":"https://api.github.com/repos/apache/daffodil/issues/601","id":887477300,"node_id":"IC_kwDOBhBG1s405dQ0","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-27T12:39:39Z","updated_at":"2021-07-27T12:39:39Z","author_association":"MEMBER","body":"Interesting, it looks like things are still failing on windows. And the failures are all with the error:\r\n```scala\r\njava.lang.NumberFormatException: For input string: \"%errorlevel%\"\r\n```\r\nSo it seems our new expectExitCode capture our echo line, and not the results. Looking at the output for the integration tests, we see things like this:\r\n```\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<never-fails>2f6481e6-542c-11eb-ae93-0242ac130002</never-fails>\r\necho EXITCODE:%errorlevel%\r\n\r\nD:\\a\\daffodil\\daffodil>echo EXITCODE:%errorlevel%\r\nEXITCODE:0\r\n```\r\nSo we can see some output happened (the never-fails stuff), and before we got a prompt we call sendLine with `echo EXITCODE:%errorlevel%`, which we can see (that's output to the console). Then we will call `expect(\"EXITCODE\")`. But even though echo command has already been output, windows will output it again, and we are going to match that. I guess Linux doesn't output that stuff twice. \r\n\r\nSo as to a solution? I wonder if rather than expecting `EXITCODE:`, we can instead look for `\\nEXITCODE', with a prepended newline? That way we won't match the keyword in the echo because there's a space before that keyword? Which would mean the expect line becomes this:\r\n\r\n```scala\r\nshell.expect(contains(\"\\n\" + keyWord))\r\n```","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/887477300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/887500297","html_url":"https://github.com/apache/daffodil/pull/601#issuecomment-887500297","issue_url":"https://api.github.com/repos/apache/daffodil/issues/601","id":887500297,"node_id":"IC_kwDOBhBG1s405i4J","user":{"login":"tuxji","id":5915561,"node_id":"MDQ6VXNlcjU5MTU1NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5915561?v=4","gravatar_id":"","url":"https://api.github.com/users/tuxji","html_url":"https://github.com/tuxji","followers_url":"https://api.github.com/users/tuxji/followers","following_url":"https://api.github.com/users/tuxji/following{/other_user}","gists_url":"https://api.github.com/users/tuxji/gists{/gist_id}","starred_url":"https://api.github.com/users/tuxji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuxji/subscriptions","organizations_url":"https://api.github.com/users/tuxji/orgs","repos_url":"https://api.github.com/users/tuxji/repos","events_url":"https://api.github.com/users/tuxji/events{/privacy}","received_events_url":"https://api.github.com/users/tuxji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-27T13:12:06Z","updated_at":"2021-07-27T13:12:06Z","author_association":"CONTRIBUTOR","body":"> If we can get the CI to run, I am ok with the changes here.\r\n> \r\n> I don't know why it doesn't run any more on each push of a new commit.\r\n\r\nGitHub changed its CI policy two or three months ago because miners were spamming repos with one-off pull requests.  A new contributor now needs a committer to manually run CI with a button press each time.  Once the new contributor's first PR is merged, GitHub will run CI on the contributor's next PR automatically.  We could suggest that new contributors make a tiny PR as their first PR before making larger PRs.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/887500297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/887540433","html_url":"https://github.com/apache/daffodil/pull/617#issuecomment-887540433","issue_url":"https://api.github.com/repos/apache/daffodil/issues/617","id":887540433,"node_id":"IC_kwDOBhBG1s405srR","user":{"login":"mphyo21","id":86482171,"node_id":"MDQ6VXNlcjg2NDgyMTcx","avatar_url":"https://avatars.githubusercontent.com/u/86482171?v=4","gravatar_id":"","url":"https://api.github.com/users/mphyo21","html_url":"https://github.com/mphyo21","followers_url":"https://api.github.com/users/mphyo21/followers","following_url":"https://api.github.com/users/mphyo21/following{/other_user}","gists_url":"https://api.github.com/users/mphyo21/gists{/gist_id}","starred_url":"https://api.github.com/users/mphyo21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mphyo21/subscriptions","organizations_url":"https://api.github.com/users/mphyo21/orgs","repos_url":"https://api.github.com/users/mphyo21/repos","events_url":"https://api.github.com/users/mphyo21/events{/privacy}","received_events_url":"https://api.github.com/users/mphyo21/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-27T14:03:25Z","updated_at":"2021-07-27T14:03:25Z","author_association":"CONTRIBUTOR","body":"Sorry about that. I have added the bug number and re-committed.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/887540433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/887580027","html_url":"https://github.com/apache/daffodil/pull/617#issuecomment-887580027","issue_url":"https://api.github.com/repos/apache/daffodil/issues/617","id":887580027,"node_id":"IC_kwDOBhBG1s4052V7","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-27T14:52:16Z","updated_at":"2021-07-27T14:52:16Z","author_association":"MEMBER","body":"Looks good. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/887580027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/887884786","html_url":"https://github.com/apache/daffodil/pull/601#issuecomment-887884786","issue_url":"https://api.github.com/repos/apache/daffodil/issues/601","id":887884786,"node_id":"IC_kwDOBhBG1s407Avy","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-27T22:50:38Z","updated_at":"2021-07-27T22:50:38Z","author_association":"MEMBER","body":"Getting so close. Only a handful of windows tests are failing now. If we look at the output of a failing test, we see something like this:\r\n\r\n```\r\n echo '<tns:e1 xmlns:tns=\"http://example.com\">Hello</tns:e1>' | .\\daffodil-cli\\target\\universal\\stage\\bin\\daffodil.bat unparse -s .\\daffodil-test\\src\\test\\resources\\org\\apache\\daffodil\\section00\\general\\generalSchema.dfdl.xsd --root e1 -\r\nD:\\a\\daffodil\\daffodil>echo '<tns:e1 xmlns:tns=\"http://example.com\">Hello</tns:e1>' | .\\daffodil-cli\\target\\universal\\stage\\bin\\daffodil.bat unparse -s .\\daffodil-test\\src\\test\\resources\\org\\apache\\daffodil\\section00\\general\\generalSchema.dfdl.xsd --root e1 -\r\necho EXITCODE:^|%errorlevel%\r\nThe system cannot find the file specified.\r\nError:  Unparse Error: Illegal content where start or end event expected: Error: Unexpected EOF in prolog\r\n at [row,col {unknown-source}]: [1,0] on line 1\r\nSchema context: element reference tns:e1 Location line 19 in file:/D:/a/daffodil/daffodil/./daffodil-test/src/test/resources/org/apache/daffodil/section00/general/generalSchema.dfdl.xsd\r\n\r\nD:\\a\\daffodil\\daffodil>echo EXITCODE:^|%errorlevel%\r\nEXITCODE:|21\r\n```\r\n\r\nI *think* this is the output for test_3529_CLI_Unparsing_SimpleUnparse_stdin3. This test runs the unparse command and then expects the output \"Hello\". I think this test passed previously for a similar reason that we just had to fix the expect exit code stuff: We are running a command, windows is outputting that command, and then we are matching the output. So when we `expect` \"Hello\", it's actually finding the `Hello` in the command, and not in the unparsed data. So these tests are just plain broken and we didn't know it.\r\n\r\nSo there are two issues:\r\n1. Why are these tests failing on windows\r\n2. Is there a way to ensure we aren't matching the command, and are instead matching the actual unparsed data.\r\n\r\nI'm guessing that the answer to 1 is because these tests are using single quotes to escape the XML infoset. But single quotes don't do anything on windows--only double quotes escape things. So since the infoset isn't being escaped properly, windows see's the angle brackets as file redirection (hence \"The system cannot find the file specified.\" error). We use single quotes in these tests because the infoset already includes double quotes in the XML. But I think an easy solution here is to just swap single quotes and double quotes for these tests that fail, so the command would look like this:\r\n```scala\r\nval cmd = String.format(\"\"\"echo \"<tns:e1 xmlns:tns='http://example.com'>Hello</tns:e1>\" | %s ... \"\"\")\r\n```\r\nSo the double quotes escape things correctly, and we use single quotes inside the XML, which is still valid XML.\r\n\r\nFor issue 2, I think we probably need to make it so what we unparse is different from the content in the infoset. So if we try to unaprse an infoset containing the string \"Hello\" the result can't also be \"Hello\" or expect won't know the difference. One way to make sure there is a diffrence is to add an initiator to the schea element. So for example, if our schema looks like this:\r\n```xml\r\n<element name=\"e1\" dfdl:lengthKind=\"explicit\" dfdl:length=\"5\" type=\"xs:string\" />\r\n```\r\nWe can change it to this instead:\r\n```xml\r\n<element name=\"e1\" dfdl:initiator=\"init:\" dfdl:lengthKind=\"explicit\" dfdl:length=\"5\" type=\"xs:string\" />\r\n```\r\nThis way if our infoset looks like this:\r\n```xml\r\n<tns:e1 xmlns:tns=\"http://example.com\">Hello</tns:e1>\r\n```\r\nIt will unparse to `init:Hello` rather than just \"Hello\". And then we can `expect` the full `init:Hello` and be confident that we're expecting the unparsed data rather than the infoset data. This does mean that test inputs and outputs need to change. Parsed data needs to look like \"init:foo\" and unparsed data needs to expect \"init:foo\"--the XML infoset stays the same though. \r\n\r\nAn alternative might just to find a way to prevent windows from printing the command to stdout, but I'm not familiar enough with windows to know if that's possible.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/887884786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/895406726","html_url":"https://github.com/apache/daffodil/pull/603#issuecomment-895406726","issue_url":"https://api.github.com/repos/apache/daffodil/issues/603","id":895406726,"node_id":"IC_kwDOBhBG1s41XtKG","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-09T17:31:35Z","updated_at":"2021-08-09T17:31:35Z","author_association":"MEMBER","body":"Looks good! Thanks!","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/895406726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/895409454","html_url":"https://github.com/apache/daffodil/pull/601#issuecomment-895409454","issue_url":"https://api.github.com/repos/apache/daffodil/issues/601","id":895409454,"node_id":"IC_kwDOBhBG1s41Xt0u","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-09T17:36:06Z","updated_at":"2021-08-09T17:36:06Z","author_association":"MEMBER","body":"@dasmallwood, please rebase these commits onto the latest master and fix the conflicts. It seems GitHub will not run the checks until the conflicts are resolved.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/895409454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/895499091","html_url":"https://github.com/apache/daffodil/pull/619#issuecomment-895499091","issue_url":"https://api.github.com/repos/apache/daffodil/issues/619","id":895499091,"node_id":"IC_kwDOBhBG1s41YDtT","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-09T19:57:25Z","updated_at":"2021-08-09T19:57:25Z","author_association":"MEMBER","body":"It looks like the only real thing this release provides is support for Eclipse Temurin. And from what I can tell this is essentially a renaming as Adopt OpenJDK moves to the Eclipse foundation. Looks like Adopt OpenJDK is being deprecated:\r\n\r\n* https://togithub.com/actions/setup-java/issues/191\r\n* https://www.theserverside.com/news/252498427/AdoptOpenJDK-moves-to-Eclipse-Foundation-as-Adoptium\r\n* https://blog.adoptopenjdk.net/2021/08/goodbye-adoptopenjdk-hello-adoptium/\r\n\r\nSo I think we want to change `distribution` in our workflow matrix to temurin?","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/895499091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/895521117","html_url":"https://github.com/apache/daffodil/pull/619#issuecomment-895521117","issue_url":"https://api.github.com/repos/apache/daffodil/issues/619","id":895521117,"node_id":"IC_kwDOBhBG1s41YJFd","user":{"login":"tuxji","id":5915561,"node_id":"MDQ6VXNlcjU5MTU1NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5915561?v=4","gravatar_id":"","url":"https://api.github.com/users/tuxji","html_url":"https://github.com/tuxji","followers_url":"https://api.github.com/users/tuxji/followers","following_url":"https://api.github.com/users/tuxji/following{/other_user}","gists_url":"https://api.github.com/users/tuxji/gists{/gist_id}","starred_url":"https://api.github.com/users/tuxji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuxji/subscriptions","organizations_url":"https://api.github.com/users/tuxji/orgs","repos_url":"https://api.github.com/users/tuxji/repos","events_url":"https://api.github.com/users/tuxji/events{/privacy}","received_events_url":"https://api.github.com/users/tuxji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-09T20:31:19Z","updated_at":"2021-08-09T20:31:19Z","author_association":"CONTRIBUTOR","body":"I read the links and I agree with you.  The \"adopt\" builds will remain available on their original website but won't be getting new versions.  I don't know for sure whether setup-java might return new temurin builds anyway, so let's rename \"adopt\" to \"temurin\" in our workflow matrix to ensure we continue using the most recent Java builds over time.  ","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/895521117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/895947107","html_url":"https://github.com/apache/daffodil/pull/619#issuecomment-895947107","issue_url":"https://api.github.com/repos/apache/daffodil/issues/619","id":895947107,"node_id":"IC_kwDOBhBG1s41ZxFj","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-10T11:21:17Z","updated_at":"2021-08-10T11:21:17Z","author_association":"MEMBER","body":"I've made the change to use Eclipse Temurin.\r\n\r\n +1\r\n   \r\n - [X] **Do all automated continuous integration checks pass?**\r\n Yes, confirmed that Temurin is being used\r\n- [X] **Is the update a patch, minor, or major update?**\r\n Minor update, just adds Temurin support\r\n - [X] **Is the license still compatible with ASF License Policy?**\r\n Yes, still MIT.\r\n - [X] **Have any changes been made to LICENSE/NOTICE files that need to be incorporated?**\r\n No changes\r\n - [X] **Have any transitive dependencies been added or changed?**\r\n Not applicable","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/895947107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/898396650","html_url":"https://github.com/apache/daffodil/pull/601#issuecomment-898396650","issue_url":"https://api.github.com/repos/apache/daffodil/issues/601","id":898396650,"node_id":"IC_kwDOBhBG1s41jHHq","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-13T11:39:18Z","updated_at":"2021-08-13T11:39:18Z","author_association":"MEMBER","body":"+1\r\n\r\nThis is good to squash and be merged. Unfortunately, because there's a merge commit (which should be avoided in the future), you can't just use `rebase -i` that's described in the code contributor workflow to squash everything. Instead you need to do this:\r\n\r\n```bash\r\n# make sure you are on the branch to squash\r\ngit checkout daf-2235-exitcode\r\n\r\n# create a patch that is the diff between your current branch and\r\n# the most recent common ancestor with asf/master\r\ngit diff $(git merge-base HEAD asf/master) > patch.diff\r\n\r\n# throw away all changes on your current branch by resetting to that\r\n# common ancestor\r\ngit reset --hard $(git merge-base HEAD asf/master)\r\n\r\n# apply the patch with changes staged\r\ngit apply --index patch.diff\r\n\r\n# commit the already staged changes, making sure to follow the standards\r\n# for a good commit message mentioned in the code contributor workflow\r\ngit commit\r\n```\r\n\r\nIf things don't look right at any point above, or a command failed, you can always reset back to where we started by running running:\r\n\r\n```bash\r\ngit reset --hard origin/daf-2235-exitcode\r\n```\r\nBut otherwise, if everything looks good, you can force push the squashed commit to update this PR and delete the patch file:\r\n\r\n```bash\r\n# push your changes to update this PR\r\ngit push --force origin daf-2235-exitcode\r\n\r\n# delete the patch\r\nrm patch.diff\r\n```","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/898396650/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/898501749","html_url":"https://github.com/apache/daffodil/pull/601#issuecomment-898501749","issue_url":"https://api.github.com/repos/apache/daffodil/issues/601","id":898501749,"node_id":"IC_kwDOBhBG1s41jgx1","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-13T14:35:37Z","updated_at":"2021-08-13T14:35:37Z","author_association":"MEMBER","body":"> hope we caught all the places where the tests exited the debugger already and didn't need to send a quit command before capturing the exit status.\r\n\r\nI think we did. If we didn't, we would send the `quit` command to bash instead of the debugger. But `quit` isn't a valid command, so bash will set the exit code to 127 (command not found). And since we always check the exit code in these tests now, a test would fail if it got 127 instead of the expected exit code.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/898501749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/902243109","html_url":"https://github.com/apache/daffodil/pull/623#issuecomment-902243109","issue_url":"https://api.github.com/repos/apache/daffodil/issues/623","id":902243109,"node_id":"IC_kwDOBhBG1s41xyMl","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T21:03:30Z","updated_at":"2021-08-19T21:03:30Z","author_association":"MEMBER","body":"`ocke` stands for `dfdl:occursCountKind=\"expression\"`. I don't think we use that acronym in the codebase, but a handful of tests use it.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/902243109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/902674593","html_url":"https://github.com/apache/daffodil/pull/624#issuecomment-902674593","issue_url":"https://api.github.com/repos/apache/daffodil/issues/624","id":902674593,"node_id":"IC_kwDOBhBG1s41zbih","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T12:58:43Z","updated_at":"2021-08-20T12:58:43Z","author_association":"MEMBER","body":" +1\r\n   \r\n - [X] **Do all automated continuous integration checks pass?**\r\n Yes\r\n- [X] **Is the update a patch, minor, or major update?**\r\n Minor update, just adds new dependencies that we don't need/use\r\n - [X] **Is the license still compatible with ASF License Policy?**\r\n Yes, still MIT.\r\n - [X] **Have any changes been made to LICENSE/NOTICE files that need to be incorporated?**\r\n No changes, but not applicable, we don't distribute\r\n - [X] **Have any transitive dependencies been added or changed?**\r\n Not applicable, we don't distribute","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/902674593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/902904505","html_url":"https://github.com/apache/daffodil/pull/625#issuecomment-902904505","issue_url":"https://api.github.com/repos/apache/daffodil/issues/625","id":902904505,"node_id":"IC_kwDOBhBG1s410Tq5","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T19:18:49Z","updated_at":"2021-08-20T19:18:49Z","author_association":"MEMBER","body":"Note that I marked this as [RFC] because I'm not sure if this is the right fix. A comment I came across implies that the expected behavior is that if a global element is not referenced anywhere, then we should treat it as if it could be a root, and thus if it has any expressions that reach past that potential root then it is an error. If an element is referenced, then we don't place the same restrictions, and we allow things like expressions that go past the local root.\r\n\r\nMy guess (though not confirmed) is that the json schema where this bug was discovered has a unused global group defintion that contain elements with expression that went outside of that group def. And since the group wasn't used anywhere, we treated it like a potential root element (even though it's inside a group) and didn't allow those expressions. \r\n\r\nThougg, one could argue that this isn't correct, and we shouldn't assume an element could be a root until it's actually used as a root. This change seems to have that behavior. I still think this is a good change to have, and if we want the mentioned behavior then we need some other change to treat unreferenced elements as roots, as right now I think it's only enforcing OVC correctness.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/902904505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/903835862","html_url":"https://github.com/apache/daffodil/pull/625#issuecomment-903835862","issue_url":"https://api.github.com/repos/apache/daffodil/issues/625","id":903835862,"node_id":"IC_kwDOBhBG1s4133DW","user":{"login":"mbeckerle","id":1524099,"node_id":"MDQ6VXNlcjE1MjQwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1524099?v=4","gravatar_id":"","url":"https://api.github.com/users/mbeckerle","html_url":"https://github.com/mbeckerle","followers_url":"https://api.github.com/users/mbeckerle/followers","following_url":"https://api.github.com/users/mbeckerle/following{/other_user}","gists_url":"https://api.github.com/users/mbeckerle/gists{/gist_id}","starred_url":"https://api.github.com/users/mbeckerle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbeckerle/subscriptions","organizations_url":"https://api.github.com/users/mbeckerle/orgs","repos_url":"https://api.github.com/users/mbeckerle/repos","events_url":"https://api.github.com/users/mbeckerle/events{/privacy}","received_events_url":"https://api.github.com/users/mbeckerle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-23T14:40:36Z","updated_at":"2021-08-23T14:40:36Z","author_association":"CONTRIBUTOR","body":"One comment is that much of this issue is about not having to compile schemas repeatedly just because there are a variety of root elements in them. That variety of root elements is usually about testing. E.g., for a messaging data format, it is very common to have a top-level element that is for a single messsage, as well as a top-level element for an unbounded vector of such elements, so that one can test the schema easily against individual messages (e.g., in a TDML file) or against files containing multiple messages. Top level elements for testing the major components of a message in isolation are also common.\r\n\r\nIt saves schema compilation time if parsers/unparsers are created for ALL such top level elements, particularly, if they share sub-parser/unparsers. This can be substantial time savings for a large DFDL schema during the dev/test/debug cycle. \r\n\r\nThis need to have many available root elements for testing purposes is why I do NOT like the solution of putting a property on the DFDL schema declaring the specific unique root element. But I would not be opposed to such a property labeling each of all possible root elements, thereby allowing global element decls that are NOT intended to be root elements to be distinguished from those intended to be root elements. (Another way to do this would be to have a single top-level DFDL annotation that declares the QNames of all allowed root elements. We'd still need to gather these from all schema files however.)\r\n","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/903835862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/904558654","html_url":"https://github.com/apache/daffodil/pull/626#issuecomment-904558654","issue_url":"https://api.github.com/repos/apache/daffodil/issues/626","id":904558654,"node_id":"IC_kwDOBhBG1s416ng-","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-24T11:32:10Z","updated_at":"2021-08-24T11:32:10Z","author_association":"MEMBER","body":" +1\r\n   \r\n - [X] **Do all automated continuous integration checks pass?**\r\n Yes\r\n- [X] **Is the update a patch, minor, or major update?**\r\n Minor update, just adds caching support for maven and gradle, which don't apply to our sbt-base build\r\n - [X] **Is the license still compatible with ASF License Policy?**\r\n Yes, still MIT.\r\n - [X] **Have any changes been made to LICENSE/NOTICE files that need to be incorporated?**\r\n No changes\r\n - [X] **Have any transitive dependencies been added or changed?**\r\n Not applicable","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/904558654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/904569744","html_url":"https://github.com/apache/daffodil/pull/625#issuecomment-904569744","issue_url":"https://api.github.com/repos/apache/daffodil/issues/625","id":904569744,"node_id":"IC_kwDOBhBG1s416qOQ","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-24T11:51:08Z","updated_at":"2021-08-24T11:51:08Z","author_association":"MEMBER","body":"Is it even possible to take advantage of that right now though? For example, if you wanted to get the parser for two root elements in the same schema wouldn't you need to do something like this:\r\n```scala\r\nval pf1 = Compiler.compile(\"schema.dfdl.xsd\", \"root1\")\r\nval dp1 = pf1.onPath(\"/\")\r\nval pf2 = Compiler.compile(\"schema.dfdl.xsd\", \"root2\")\r\nval dp2 = pf1.onPath(\"/\")\r\n```\r\nIsn't this going to compile the schema (and all possible root elements) twice, essentially doubling the work? I do get the point about validating everything, so I think this is reasonable behavior, but I'm not sure it saves schema compilation time. If anything wouldn't it make things worse? At least until we support onPath parameters other than root? I guess ideally we would have this, which probably would be pretty efficient:\r\n\r\n```scala\r\nval pf1 = Compiler.compile(\"schema.dfdl.xsd\")\r\nval dp1 = pf1.onPath(\"/root1\")\r\nval dp2 = pf1.onPath(\"/root2\")\r\n```\r\n\r\nAlso, the more I think about this change, I think it's the right change to have (the OVC expression really doesn't belong on and ERD). But I think maybe we have a bug somewhere else if the expected behavior is for these expressions on \"possible\" roots should cause an error. For example, inputValueCalc expressions on possible roots don't cause an error, and I didn't change anything related to those. I think previously we just got lucky in that we were forcing ERDs to be created, which forced the OVC to be compiled. So really, we only validated OVC expression on possible roots, and no other expressions.\r\n\r\nSo if we do want these expressions to cause an error, we likely need some other fix. I think it's still maybe worth merging this change, as it allows these schemas to compile? And we can fix the behavior some other way if we want this to cause an error?","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/904569744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/904676962","html_url":"https://github.com/apache/daffodil/pull/625#issuecomment-904676962","issue_url":"https://api.github.com/repos/apache/daffodil/issues/625","id":904676962,"node_id":"IC_kwDOBhBG1s417EZi","user":{"login":"mbeckerle","id":1524099,"node_id":"MDQ6VXNlcjE1MjQwOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1524099?v=4","gravatar_id":"","url":"https://api.github.com/users/mbeckerle","html_url":"https://github.com/mbeckerle","followers_url":"https://api.github.com/users/mbeckerle/followers","following_url":"https://api.github.com/users/mbeckerle/following{/other_user}","gists_url":"https://api.github.com/users/mbeckerle/gists{/gist_id}","starred_url":"https://api.github.com/users/mbeckerle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbeckerle/subscriptions","organizations_url":"https://api.github.com/users/mbeckerle/orgs","repos_url":"https://api.github.com/users/mbeckerle/repos","events_url":"https://api.github.com/users/mbeckerle/events{/privacy}","received_events_url":"https://api.github.com/users/mbeckerle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-24T14:09:40Z","updated_at":"2021-08-24T14:09:40Z","author_association":"CONTRIBUTOR","body":"I think we *do not* want errors from global defs/decls with up-and-out paths. Ideally we want to recognize these, recognize that they can't be used as roots and label them as such, and them treat them as the reusable objects they are, verifying that the expressions make sense in every context where they are used.  Attempting to use such a global def/decl as a root should be an SDE since they are unsuitable for use as roots. But their mere existence is not an error. \r\n\r\nI think this change set will achieve this. \r\n\r\nThe schema compilation time savings is a separate issue really. \r\n","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/904676962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/911953567","html_url":"https://github.com/apache/daffodil/pull/630#issuecomment-911953567","issue_url":"https://api.github.com/repos/apache/daffodil/issues/630","id":911953567,"node_id":"IC_kwDOBhBG1s42W06f","user":{"login":"tuxji","id":5915561,"node_id":"MDQ6VXNlcjU5MTU1NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5915561?v=4","gravatar_id":"","url":"https://api.github.com/users/tuxji","html_url":"https://github.com/tuxji","followers_url":"https://api.github.com/users/tuxji/followers","following_url":"https://api.github.com/users/tuxji/following{/other_user}","gists_url":"https://api.github.com/users/tuxji/gists{/gist_id}","starred_url":"https://api.github.com/users/tuxji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuxji/subscriptions","organizations_url":"https://api.github.com/users/tuxji/orgs","repos_url":"https://api.github.com/users/tuxji/repos","events_url":"https://api.github.com/users/tuxji/events{/privacy}","received_events_url":"https://api.github.com/users/tuxji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-02T18:36:07Z","updated_at":"2021-09-02T18:36:07Z","author_association":"CONTRIBUTOR","body":"Should we amend this PR's commit message to include those instructions as well?\r\n\r\nThe default branch has been renamed! The `master` branch is now named `main`. \r\n\r\nIf you have a local clone, you can update it by running:\r\n\r\n```sh\r\ngit branch -m master main\r\ngit fetch origin\r\ngit branch -u origin/main main\r\ngit remote set-head origin -a\r\n```","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/911953567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/911969104","html_url":"https://github.com/apache/daffodil/pull/630#issuecomment-911969104","issue_url":"https://api.github.com/repos/apache/daffodil/issues/630","id":911969104,"node_id":"IC_kwDOBhBG1s42W4tQ","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-02T18:58:35Z","updated_at":"2021-09-02T18:58:35Z","author_association":"MEMBER","body":"Seems reasonable. Will update with instructions.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/911969104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/912750979","html_url":"https://github.com/apache/daffodil/pull/629#issuecomment-912750979","issue_url":"https://api.github.com/repos/apache/daffodil/issues/629","id":912750979,"node_id":"IC_kwDOBhBG1s42Z3mD","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-03T19:07:44Z","updated_at":"2021-09-03T19:07:44Z","author_association":"MEMBER","body":"I've pushed updates that I think should address the comments, this includes new test InfosetInputters using the Scala/Java API to ensure coverage. It also shows some issues. For example, the Java API needs to access some Scala objects, which is pretty awkward.\r\n\r\n>  Is it worth adding an implementation and a test showing the motivating example of a custom XML Infoset Inputter and Outputter for embedded XML strings in binary data?\r\n\r\nI don't really want to add such an implementation, just because I suspect it's going to be a decent amount of work, and a decent amount of testing. I think it's basically a implementation of one of the InfosetInputters/Outputters with quite a bit of extra complicated logic. If we do want to include that in the repo I think that's worth done in another PR. Once I add some documentation (next week) I'll add this as a motivating example and probably include some pseuocode about how this might be implemented.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/912750979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/916377711","html_url":"https://github.com/apache/daffodil/pull/629#issuecomment-916377711","issue_url":"https://api.github.com/repos/apache/daffodil/issues/629","id":916377711,"node_id":"IC_kwDOBhBG1s42ntBv","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-09T19:31:18Z","updated_at":"2021-09-09T19:31:18Z","author_association":"MEMBER","body":"A writeup of these feature, including a potential implementation using Scala XML Nodes for simplicity and brevity is added here:\r\n\r\nhttps://cwiki.apache.org/confluence/display/DAFFODIL/Proposal%3A+Runtime+Properties","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/916377711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/919055223","html_url":"https://github.com/apache/daffodil/pull/632#issuecomment-919055223","issue_url":"https://api.github.com/repos/apache/daffodil/issues/632","id":919055223,"node_id":"IC_kwDOBhBG1s42x6t3","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-14T11:17:10Z","updated_at":"2021-09-14T11:17:10Z","author_association":"MEMBER","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/919055223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/922059641","html_url":"https://github.com/apache/daffodil/pull/639#issuecomment-922059641","issue_url":"https://api.github.com/repos/apache/daffodil/issues/639","id":922059641,"node_id":"IC_kwDOBhBG1s429YN5","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-17T20:22:37Z","updated_at":"2021-09-17T20:22:37Z","author_association":"MEMBER","body":"A decent amount of work is going to be needed to upgrade to 2.13 beyond just a version bump. The ticket for getting 2.13 to work is  [DAFFODIL-2152](https://issues.apache.org/jira/browse/DAFFODIL-2152). Closing this PR.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/922059641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/924866464","html_url":"https://github.com/apache/daffodil/pull/640#issuecomment-924866464","issue_url":"https://api.github.com/repos/apache/daffodil/issues/640","id":924866464,"node_id":"IC_kwDOBhBG1s43IFeg","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-22T12:06:06Z","updated_at":"2021-09-22T12:06:06Z","author_association":"MEMBER","body":"I've looked at all all uses for `replaceAll`, and I don't see any uses that could contain a back slash or a dollar sign. All instances use a hardcoded replacement values, or are now properly escaped with this change.\r\n\r\nThe one exception was for code that used to handle `dfdl:outputNewLine`, which could theoretically contain a dollar sign, but that is dead code. That property is now handled without `replaceAll`. I've just removed that function to remove the possibility of every using it with bad input.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/924866464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/926903827","html_url":"https://github.com/apache/daffodil/pull/644#issuecomment-926903827","issue_url":"https://api.github.com/repos/apache/daffodil/issues/644","id":926903827,"node_id":"IC_kwDOBhBG1s43P24T","user":{"login":"tuxji","id":5915561,"node_id":"MDQ6VXNlcjU5MTU1NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5915561?v=4","gravatar_id":"","url":"https://api.github.com/users/tuxji","html_url":"https://github.com/tuxji","followers_url":"https://api.github.com/users/tuxji/followers","following_url":"https://api.github.com/users/tuxji/following{/other_user}","gists_url":"https://api.github.com/users/tuxji/gists{/gist_id}","starred_url":"https://api.github.com/users/tuxji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuxji/subscriptions","organizations_url":"https://api.github.com/users/tuxji/orgs","repos_url":"https://api.github.com/users/tuxji/repos","events_url":"https://api.github.com/users/tuxji/events{/privacy}","received_events_url":"https://api.github.com/users/tuxji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-24T20:34:02Z","updated_at":"2021-09-24T20:34:02Z","author_association":"CONTRIBUTOR","body":"The github script indeed broke after updating this action to v5.  Here's the explanation.\r\n\r\n## Breaking changes in V5\r\n\r\nVersion 5 of this action includes the version 5 of `@actions/github` and `@octokit/plugin-rest-endpoint-methods`. As part of this update, the Octokit context available via `github` no longer has REST methods directly. These methods are available via `github.rest.*` - https://github.com/octokit/plugin-rest-endpoint-methods.js/releases/tag/v5.0.0\r\n\r\nFor example, `github.issues.createComment` in V4 becomes `github.rest.issues.createComment` in V5\r\n\r\n`github.request`, `github.paginate`, and `github.graphql` are unchanged.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/926903827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/927833536","html_url":"https://github.com/apache/daffodil/pull/644#issuecomment-927833536","issue_url":"https://api.github.com/repos/apache/daffodil/issues/644","id":927833536,"node_id":"IC_kwDOBhBG1s43TZ3A","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T12:40:13Z","updated_at":"2021-09-27T12:40:13Z","author_association":"MEMBER","body":"+1\r\n   \r\n - [X] **Do all automated continuous integration checks pass?**\r\n Yes, with the `github.rest...` fixed. Confirmed that this correctly passes if there is a single commit and errors if there are multiple.\r\n- [X] **Is the update a patch, minor, or major update?**\r\nMajor update, but changes updates dependencies\r\n - [X] **Is the license still compatible with ASF License Policy?**\r\n Yes, still MIT.\r\n - [X] **Have any changes been made to LICENSE/NOTICE files that need to be incorporated?**\r\n No changes, but not applicable, we don't distribute\r\n - [X] **Have any transitive dependencies been added or changed?**\r\n Not applicable, we don't distribute","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/927833536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/927849538","html_url":"https://github.com/apache/daffodil/pull/644#issuecomment-927849538","issue_url":"https://api.github.com/repos/apache/daffodil/issues/644","id":927849538,"node_id":"IC_kwDOBhBG1s43TdxC","user":{"login":"tuxji","id":5915561,"node_id":"MDQ6VXNlcjU5MTU1NjE=","avatar_url":"https://avatars.githubusercontent.com/u/5915561?v=4","gravatar_id":"","url":"https://api.github.com/users/tuxji","html_url":"https://github.com/tuxji","followers_url":"https://api.github.com/users/tuxji/followers","following_url":"https://api.github.com/users/tuxji/following{/other_user}","gists_url":"https://api.github.com/users/tuxji/gists{/gist_id}","starred_url":"https://api.github.com/users/tuxji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuxji/subscriptions","organizations_url":"https://api.github.com/users/tuxji/orgs","repos_url":"https://api.github.com/users/tuxji/repos","events_url":"https://api.github.com/users/tuxji/events{/privacy}","received_events_url":"https://api.github.com/users/tuxji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T12:59:26Z","updated_at":"2021-09-27T12:59:26Z","author_association":"CONTRIBUTOR","body":"Please bump github-script to v5.0.0, not v5.  The v5.x.x tags are immutable,  but the v5 tag will change in the future to stay synchronized to the latest v5.x.x tag, which will bypass dependabot's alerts prompting us to check each v5.x.x update carefully.  I consider this a bug in dependabot itself (it should be smart enough to know the difference between an immutable tag and a mutable tag and not bump from an immutable tag to a mutable tag).","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/927849538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/927852015","html_url":"https://github.com/apache/daffodil/pull/644#issuecomment-927852015","issue_url":"https://api.github.com/repos/apache/daffodil/issues/644","id":927852015,"node_id":"IC_kwDOBhBG1s43TeXv","user":{"login":"stevedlawrence","id":3180601,"node_id":"MDQ6VXNlcjMxODA2MDE=","avatar_url":"https://avatars.githubusercontent.com/u/3180601?v=4","gravatar_id":"","url":"https://api.github.com/users/stevedlawrence","html_url":"https://github.com/stevedlawrence","followers_url":"https://api.github.com/users/stevedlawrence/followers","following_url":"https://api.github.com/users/stevedlawrence/following{/other_user}","gists_url":"https://api.github.com/users/stevedlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/stevedlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevedlawrence/subscriptions","organizations_url":"https://api.github.com/users/stevedlawrence/orgs","repos_url":"https://api.github.com/users/stevedlawrence/repos","events_url":"https://api.github.com/users/stevedlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/stevedlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-27T13:02:21Z","updated_at":"2021-09-27T13:02:21Z","author_association":"MEMBER","body":"Good call, updated.","reactions":{"url":"https://api.github.com/repos/apache/daffodil/issues/comments/927852015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]