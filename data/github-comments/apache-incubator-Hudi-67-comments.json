[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654398864","html_url":"https://github.com/apache/hudi/pull/1732#issuecomment-654398864","issue_url":"https://api.github.com/repos/apache/hudi/issues/1732","id":654398864,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDM5ODg2NA==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-06T18:33:39Z","updated_at":"2020-07-06T18:42:24Z","author_association":"MEMBER","body":"@vinothchandar @shenh062326 @leesf Glad to see this change merged! This should also fix https://github.com/apache/hudi/pull/1647\r\n\r\nas a memo, we should upgrade dropwizard to make use of the upstream class when it is available.. filed \r\nhttps://issues.apache.org/jira/browse/HUDI-1071","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654398864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654419634","html_url":"https://github.com/apache/hudi/issues/1326#issuecomment-654419634","issue_url":"https://api.github.com/repos/apache/hudi/issues/1326","id":654419634,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDQxOTYzNA==","user":{"login":"tooptoop4","id":33283496,"node_id":"MDQ6VXNlcjMzMjgzNDk2","avatar_url":"https://avatars.githubusercontent.com/u/33283496?v=4","gravatar_id":"","url":"https://api.github.com/users/tooptoop4","html_url":"https://github.com/tooptoop4","followers_url":"https://api.github.com/users/tooptoop4/followers","following_url":"https://api.github.com/users/tooptoop4/following{/other_user}","gists_url":"https://api.github.com/users/tooptoop4/gists{/gist_id}","starred_url":"https://api.github.com/users/tooptoop4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tooptoop4/subscriptions","organizations_url":"https://api.github.com/users/tooptoop4/orgs","repos_url":"https://api.github.com/users/tooptoop4/repos","events_url":"https://api.github.com/users/tooptoop4/events{/privacy}","received_events_url":"https://api.github.com/users/tooptoop4/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-06T19:20:10Z","updated_at":"2020-07-06T19:20:10Z","author_association":"NONE","body":"@lamber-ken https://github.com/apache/hudi/issues/1802 looks similar, any idea?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654419634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654451640","html_url":"https://github.com/apache/hudi/issues/1763#issuecomment-654451640","issue_url":"https://api.github.com/repos/apache/hudi/issues/1763","id":654451640,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDQ1MTY0MA==","user":{"login":"venkee14","id":12746240,"node_id":"MDQ6VXNlcjEyNzQ2MjQw","avatar_url":"https://avatars.githubusercontent.com/u/12746240?v=4","gravatar_id":"","url":"https://api.github.com/users/venkee14","html_url":"https://github.com/venkee14","followers_url":"https://api.github.com/users/venkee14/followers","following_url":"https://api.github.com/users/venkee14/following{/other_user}","gists_url":"https://api.github.com/users/venkee14/gists{/gist_id}","starred_url":"https://api.github.com/users/venkee14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/venkee14/subscriptions","organizations_url":"https://api.github.com/users/venkee14/orgs","repos_url":"https://api.github.com/users/venkee14/repos","events_url":"https://api.github.com/users/venkee14/events{/privacy}","received_events_url":"https://api.github.com/users/venkee14/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-06T20:34:37Z","updated_at":"2020-07-06T20:34:37Z","author_association":"NONE","body":"Issue was due to a bug in our code, where we have set \"hoodie.keep.max.commits\" to a very big number, which was not intended.\r\n\r\nOnce we have fixed that archive number, we saw the upsert time coming down. We have also tried upgrading to 0.5.3, but did not see a considerable performance improvment.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654451640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654521251","html_url":"https://github.com/apache/hudi/issues/1803#issuecomment-654521251","issue_url":"https://api.github.com/repos/apache/hudi/issues/1803","id":654521251,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDUyMTI1MQ==","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-06T23:58:42Z","updated_at":"2020-07-06T23:58:42Z","author_association":"CONTRIBUTOR","body":"@joaqs190 quick questions:\r\n\r\n1. could you describe what is the precombine field here ? \r\n2. Hudi uses two way of writing - Spark datasource writer and Deltastreamer. For Deltastreamer we use the config `--source-ordering-field` to configure the precombine field. Can you ensure if this is what you are configuring too ? \r\n  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654521251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654534604","html_url":"https://github.com/apache/hudi/issues/1801#issuecomment-654534604","issue_url":"https://api.github.com/repos/apache/hudi/issues/1801","id":654534604,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDUzNDYwNA==","user":{"login":"tooptoop4","id":33283496,"node_id":"MDQ6VXNlcjMzMjgzNDk2","avatar_url":"https://avatars.githubusercontent.com/u/33283496?v=4","gravatar_id":"","url":"https://api.github.com/users/tooptoop4","html_url":"https://github.com/tooptoop4","followers_url":"https://api.github.com/users/tooptoop4/followers","following_url":"https://api.github.com/users/tooptoop4/following{/other_user}","gists_url":"https://api.github.com/users/tooptoop4/gists{/gist_id}","starred_url":"https://api.github.com/users/tooptoop4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tooptoop4/subscriptions","organizations_url":"https://api.github.com/users/tooptoop4/orgs","repos_url":"https://api.github.com/users/tooptoop4/repos","events_url":"https://api.github.com/users/tooptoop4/events{/privacy}","received_events_url":"https://api.github.com/users/tooptoop4/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T00:47:44Z","updated_at":"2020-07-07T00:47:44Z","author_association":"NONE","body":"just warning, closing","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654534604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654539478","html_url":"https://github.com/apache/hudi/issues/1802#issuecomment-654539478","issue_url":"https://api.github.com/repos/apache/hudi/issues/1802","id":654539478,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDUzOTQ3OA==","user":{"login":"tooptoop4","id":33283496,"node_id":"MDQ6VXNlcjMzMjgzNDk2","avatar_url":"https://avatars.githubusercontent.com/u/33283496?v=4","gravatar_id":"","url":"https://api.github.com/users/tooptoop4","html_url":"https://github.com/tooptoop4","followers_url":"https://api.github.com/users/tooptoop4/followers","following_url":"https://api.github.com/users/tooptoop4/following{/other_user}","gists_url":"https://api.github.com/users/tooptoop4/gists{/gist_id}","starred_url":"https://api.github.com/users/tooptoop4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tooptoop4/subscriptions","organizations_url":"https://api.github.com/users/tooptoop4/orgs","repos_url":"https://api.github.com/users/tooptoop4/repos","events_url":"https://api.github.com/users/tooptoop4/events{/privacy}","received_events_url":"https://api.github.com/users/tooptoop4/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T01:06:22Z","updated_at":"2020-07-07T01:06:22Z","author_association":"NONE","body":"int64 from upsert but binary from delete. once binary input data had int64 it worked","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654539478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654559192","html_url":"https://github.com/apache/hudi/issues/1775#issuecomment-654559192","issue_url":"https://api.github.com/repos/apache/hudi/issues/1775","id":654559192,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDU1OTE5Mg==","user":{"login":"prashanthpdesai","id":60724849,"node_id":"MDQ6VXNlcjYwNzI0ODQ5","avatar_url":"https://avatars.githubusercontent.com/u/60724849?v=4","gravatar_id":"","url":"https://api.github.com/users/prashanthpdesai","html_url":"https://github.com/prashanthpdesai","followers_url":"https://api.github.com/users/prashanthpdesai/followers","following_url":"https://api.github.com/users/prashanthpdesai/following{/other_user}","gists_url":"https://api.github.com/users/prashanthpdesai/gists{/gist_id}","starred_url":"https://api.github.com/users/prashanthpdesai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashanthpdesai/subscriptions","organizations_url":"https://api.github.com/users/prashanthpdesai/orgs","repos_url":"https://api.github.com/users/prashanthpdesai/repos","events_url":"https://api.github.com/users/prashanthpdesai/events{/privacy}","received_events_url":"https://api.github.com/users/prashanthpdesai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T02:21:43Z","updated_at":"2020-07-07T02:21:43Z","author_association":"NONE","body":"@bhasudha : Hi , tried with same packages which you have mentioned above , we see diff kind of error .\r\n\r\nPlease find the trace below .\r\n\r\n**spark-shell --queue queue_q1 --packages org.apache.hudi:hudi-spark-bundle_2.11:0.5.3,org.apache.spark:spark-avro_2.11:2.4.4 --conf 'spark.serializer=org.apache.spark.serializer.KryoSerializer'**\r\nWarning: Master yarn-client is deprecated since 2.0. Please use master \"yarn\" with specified deploy mode instead.\r\nThe jars for the packages stored in: /home/edzmmprd/.ivy2/jars\r\n:: loading settings :: url = jar:file:/opt/mapr/spark/spark-2.2.1/jars/ivy-2.4.0.jar!/org/apache/ivy/core/settings/ivysettings.xml\r\norg.apache.hudi#hudi-spark-bundle_2.11 added as a dependency\r\norg.apache.spark#spark-avro_2.11 added as a dependency\r\n:: resolving dependencies :: org.apache.spark#spark-submit-parent;1.0\r\n                confs: [default]\r\n                found org.apache.hudi#hudi-spark-bundle_2.11;0.5.3 in central\r\n                found org.apache.spark#spark-avro_2.11;2.4.4 in central\r\n                found org.apache.spark#spark-tags_2.11;2.4.4 in central\r\n                found org.spark-project.spark#unused;1.0.0 in central\r\ndownloading https://repo1.maven.org/maven2/org/apache/hudi/hudi-spark-bundle_2.11/0.5.3/hudi-spark-bundle_2.11-0.5.3.jar ...\r\n                [SUCCESSFUL ] org.apache.hudi#hudi-spark-bundle_2.11;0.5.3!hudi-spark-bundle_2.11.jar (787ms)\r\ndownloading https://repo1.maven.org/maven2/org/apache/spark/spark-avro_2.11/2.4.4/spark-avro_2.11-2.4.4.jar ...\r\n                [SUCCESSFUL ] org.apache.spark#spark-avro_2.11;2.4.4!spark-avro_2.11.jar (13ms)\r\ndownloading https://repo1.maven.org/maven2/org/apache/spark/spark-tags_2.11/2.4.4/spark-tags_2.11-2.4.4.jar ...\r\n                [SUCCESSFUL ] org.apache.spark#spark-tags_2.11;2.4.4!spark-tags_2.11.jar (6ms)\r\ndownloading https://repo1.maven.org/maven2/org/spark-project/spark/unused/1.0.0/unused-1.0.0.jar ...\r\n                [SUCCESSFUL ] org.spark-project.spark#unused;1.0.0!unused.jar (5ms)\r\n:: resolution report :: resolve 2006ms :: artifacts dl 817ms\r\n                :: modules in use:\r\n                org.apache.hudi#hudi-spark-bundle_2.11;0.5.3 from central in [default]\r\n                org.apache.spark#spark-avro_2.11;2.4.4 from central in [default]\r\n                org.apache.spark#spark-tags_2.11;2.4.4 from central in [default]\r\n                org.spark-project.spark#unused;1.0.0 from central in [default]\r\n                ---------------------------------------------------------------------\r\n                |                  |            modules            ||   artifacts   |\r\n                |       conf       | number| search|dwnlded|evicted|| number|dwnlded|\r\n                ---------------------------------------------------------------------\r\n                |      default     |   4   |   4   |   4   |   0   ||   4   |   4   |\r\n                ---------------------------------------------------------------------\r\n:: retrieving :: org.apache.spark#spark-submit-parent\r\n                confs: [default]\r\n                4 artifacts copied, 0 already retrieved (20789kB/44ms)\r\n \r\n \r\nscala> import org.apache.hudi.QuickstartUtils._\r\nimport org.apache.hudi.QuickstartUtils._\r\n \r\nscala> import scala.collection.JavaConversions._\r\nimport scala.collection.JavaConversions._\r\n \r\nscala> import org.apache.spark.sql.SaveMode._\r\nimport org.apache.spark.sql.SaveMode._\r\n \r\nscala> import org.apache.hudi.DataSourceReadOptions._\r\nimport org.apache.hudi.DataSourceReadOptions._\r\n \r\nscala> import org.apache.hudi.DataSourceWriteOptions._\r\nimport org.apache.hudi.DataSourceWriteOptions._\r\n \r\nscala> import org.apache.hudi.config.HoodieWriteConfig._\r\nimport org.apache.hudi.config.HoodieWriteConfig._\r\n \r\nscala> val basepath= \"/datalake/uhclake/edz/prd/mcm/mcm_hudi_cow_dedup_fix\"\r\nbasepath: String = /datalake/uhclake/edz/prd/mcm/mcm_hudi_cow_dedup_fix\r\n \r\nscala> spark.read.format(\"org.apache.hudi\").load(basepath + \"/*\").createOrReplaceTempView(\"hudi_tab\")\r\n\r\nscala> val commits = spark.sql(\"select distinct(_hoodie_commit_time) as commitTime from  hudi_tab order by commitTime\").map(k => k.getString(0)).take(50)\r\ncommits: Array[String] = Array(20200703000922, 20200703002654, 20200703010757, 20200703020715, 20200703030709, 20200703041422, 20200703051419, 20200703060728, 20200703070921, 20200703080801, 20200703090728, 20200703101459, 20200703110839, 20200703120708, 20200703131249, 20200703140738, 20200703151235, 20200703160723, 20200703170659, 20200703181223, 20200703211557, 20200703220646, 20200703231410, 20200704001432, 20200704010736, 20200704020754, 20200704030729, 20200704040836, 20200704050652, 20200704060650, 20200704070749, 20200704080711, 20200704090720, 20200704100722, 20200704110857, 20200704120736, 20200704130712, 20200704140741, 20200704150641, 20200704160732, 20200704170709, 20200704180745, 20200704190843, 20200704200658, 20200704210717, 20200704220739, 20200704230704, 20200705001445...\r\nscala> val beginTime = commits(commits.length - 2)\r\nbeginTime: String = 20200705010728\r\n \r\nscala> val incrementalDF = spark.read.format(\"org.apache.hudi\").option(QUERY_TYPE_OPT_KEY, QUERY_TYPE_INCREMENTAL_OPT_VAL).option(BEGIN_INSTANTTIME_OPT_KEY, beginTime).load(basepath);\r\n**java.lang.NoSuchMethodError: org.apache.avro.Schema$Field.<init>**(Ljava/lang/String;Lorg/apache/avro/Schema;Ljava/lang/String;Ljava/lang/Object;)V\r\n  at org.apache.hudi.common.util.HoodieAvroUtils.addMetadataFields(HoodieAvroUtils.java:110)\r\n  at org.apache.hudi.common.util.HoodieAvroUtils.createHoodieWriteSchema(HoodieAvroUtils.java:101)\r\n  at org.apache.hudi.IncrementalRelation.<init>(IncrementalRelation.scala:76)\r\n  at org.apache.hudi.DefaultSource.createRelation(DefaultSource.scala:80)\r\n  at org.apache.hudi.DefaultSource.createRelation(DefaultSource.scala:47)\r\n  at org.apache.spark.sql.execution.datasources.DataSource.resolveRelation(DataSource.scala:307)\r\n  at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:178)\r\n  at org.apache.spark.sql.DataFrameReader.load(DataFrameReader.scala:156)\r\n  ... 60 elided\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654559192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654566959","html_url":"https://github.com/apache/hudi/issues/1790#issuecomment-654566959","issue_url":"https://api.github.com/repos/apache/hudi/issues/1790","id":654566959,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDU2Njk1OQ==","user":{"login":"zuyanton","id":67354813,"node_id":"MDQ6VXNlcjY3MzU0ODEz","avatar_url":"https://avatars.githubusercontent.com/u/67354813?v=4","gravatar_id":"","url":"https://api.github.com/users/zuyanton","html_url":"https://github.com/zuyanton","followers_url":"https://api.github.com/users/zuyanton/followers","following_url":"https://api.github.com/users/zuyanton/following{/other_user}","gists_url":"https://api.github.com/users/zuyanton/gists{/gist_id}","starred_url":"https://api.github.com/users/zuyanton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zuyanton/subscriptions","organizations_url":"https://api.github.com/users/zuyanton/orgs","repos_url":"https://api.github.com/users/zuyanton/repos","events_url":"https://api.github.com/users/zuyanton/events{/privacy}","received_events_url":"https://api.github.com/users/zuyanton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T02:50:37Z","updated_at":"2020-07-07T02:50:37Z","author_association":"NONE","body":"@bhasudha Thank you for your reply . If I read code correctly ,I believe that handling decimal is missing here https://github.com/apache/hudi/blob/release-0.5.3/hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java#L303  \r\nand it looks like it was fixed in master with this PR: https://github.com/apache/hudi/commit/37838cea6094ddc66191df42e8b2c84f132d1623#diff-68b6e6f1a2c961fea254a2fc3b93ac23R209 . ... let me checkout masters and verify ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654566959/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654575639","html_url":"https://github.com/apache/hudi/issues/1798#issuecomment-654575639","issue_url":"https://api.github.com/repos/apache/hudi/issues/1798","id":654575639,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDU3NTYzOQ==","user":{"login":"zherenyu831","id":52404525,"node_id":"MDQ6VXNlcjUyNDA0NTI1","avatar_url":"https://avatars.githubusercontent.com/u/52404525?v=4","gravatar_id":"","url":"https://api.github.com/users/zherenyu831","html_url":"https://github.com/zherenyu831","followers_url":"https://api.github.com/users/zherenyu831/followers","following_url":"https://api.github.com/users/zherenyu831/following{/other_user}","gists_url":"https://api.github.com/users/zherenyu831/gists{/gist_id}","starred_url":"https://api.github.com/users/zherenyu831/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zherenyu831/subscriptions","organizations_url":"https://api.github.com/users/zherenyu831/orgs","repos_url":"https://api.github.com/users/zherenyu831/repos","events_url":"https://api.github.com/users/zherenyu831/events{/privacy}","received_events_url":"https://api.github.com/users/zherenyu831/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T03:22:37Z","updated_at":"2020-07-07T03:27:16Z","author_association":"CONTRIBUTOR","body":"@bhasudha \r\nIt is a very simple query for testing\r\n```\r\n//val df = spark.read.format(\"org.apache.hudi\").load(\"s3://test/data/*/*/*/*\")\r\nval df = spark.read.format(\"org.apache.hudi\").load(\"s3://test/data/*/*/*\")\r\nval updatedDf  = df.filter(\"_hoodie_commit_time between '${_hoodieCommitTimeStart}' and '${_hoodieCommitTimeEnd}'\")\r\n```\r\nand we found it cost a lot of time on resolving relation of parquet files.\r\nso we do the test as I mentioned ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654575639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654588991","html_url":"https://github.com/apache/hudi/issues/1794#issuecomment-654588991","issue_url":"https://api.github.com/repos/apache/hudi/issues/1794","id":654588991,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDU4ODk5MQ==","user":{"login":"RajasekarSribalan","id":22605603,"node_id":"MDQ6VXNlcjIyNjA1NjAz","avatar_url":"https://avatars.githubusercontent.com/u/22605603?v=4","gravatar_id":"","url":"https://api.github.com/users/RajasekarSribalan","html_url":"https://github.com/RajasekarSribalan","followers_url":"https://api.github.com/users/RajasekarSribalan/followers","following_url":"https://api.github.com/users/RajasekarSribalan/following{/other_user}","gists_url":"https://api.github.com/users/RajasekarSribalan/gists{/gist_id}","starred_url":"https://api.github.com/users/RajasekarSribalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RajasekarSribalan/subscriptions","organizations_url":"https://api.github.com/users/RajasekarSribalan/orgs","repos_url":"https://api.github.com/users/RajasekarSribalan/repos","events_url":"https://api.github.com/users/RajasekarSribalan/events{/privacy}","received_events_url":"https://api.github.com/users/RajasekarSribalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T04:18:01Z","updated_at":"2020-07-07T04:18:23Z","author_association":"NONE","body":"@bhasudha  just an update, our jobs are not failing but we get this error for hard delete operation and below is the command that we use on dataframe for delete operation.\r\n\r\nMy concern is, whether hudi is doing rollback because of the error? I hope it is not,  pls confirm.\r\n\r\nERROR hive.HiveSyncTool: Got runtime exception when hive syncing\r\n18039 java.lang.IllegalArgumentException: Could not find any data file written for commit [20200705101913__commit__COMPLETED], could not get schema for table /user/admin/hudi/users, Metadata :HoodieCommitMetadata{partitionToWriteStats={}, compacted=false, extraMetadata={ROLLING_STAT={\r\n18040 \"partitionToRollingStats\" : {\r\n18041 \"\" : {\r\n18042 \"d398058e-f8f4-4772-9fcb-012318ac8f47-0\" : {\r\n18043 \"fileId\" : \"d398058e-f8f4-4772-9fcb-012318ac8f47-0\",\r\n18044 \"inserts\" : 989333,\r\n\r\ndeleteDataframe.write\r\n                .format(\"hudi\")\r\n                .options(getQuickstartWriteConfigs)\r\n                .option(OPERATION_OPT_KEY, \"delete\")\r\n                .option(PRECOMBINE_FIELD_OPT_KEY, hudi_precombine_key)\r\n                .option(RECORDKEY_FIELD_OPT_KEY, hudi_key)\r\n                .option(PARTITIONPATH_FIELD_OPT_KEY, \"\")\r\n                .option(TABLE_NAME, tablename)\r\n                .option(TABLE_TYPE_OPT_KEY, \"COPY_ON_WRITE\")\r\n                .option(HIVE_SYNC_ENABLED_OPT_KEY, \"true\")\r\n                .option(HIVE_URL_OPT_KEY, \"jdbc:hive2://XXXXXX:10000/;principal=XXXX/XXXXXXX)\r\n                .option(HIVE_DATABASE_OPT_KEY, hudi_db)\r\n                .option(HIVE_TABLE_OPT_KEY, tablename)\r\n                .option(HIVE_PARTITION_EXTRACTOR_CLASS_OPT_KEY, classOf[NonPartitionedExtractor].getName)\r\n                .option(PAYLOAD_CLASS_OPT_KEY, \"org.apache.hudi.EmptyHoodieRecordPayload\")\r\n                .mode(Append)\r\n                .save(\"/user/XXXXX/hudi/\" + tablename)\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654588991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654623082","html_url":"https://github.com/apache/hudi/pull/1704#issuecomment-654623082","issue_url":"https://api.github.com/repos/apache/hudi/issues/1704","id":654623082,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDYyMzA4Mg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T06:06:33Z","updated_at":"2020-07-07T06:08:35Z","author_association":"CONTRIBUTOR","body":"@bhasudha The PR looks good to me. Looks like the same ordering field will be honored in all places. One high level question before I accept it -> If `preCombine` & `combineAndGetUpdateValue` are using the same `orderingVal`, I'm guessing it is expected from the user to use the constructor with the `orderingVal` and up to the user to ensure the `orderingVal` used in the constructor is the same as the one passed in `Map<..>`. If this is true, does `HoodieDeltaStreamer` allow for this kind of constructor invocation ?\r\nAlso, please rebase and push the PR, once the build succeeds can merge it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654623082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654623835","html_url":"https://github.com/apache/hudi/pull/1797#issuecomment-654623835","issue_url":"https://api.github.com/repos/apache/hudi/issues/1797","id":654623835,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDYyMzgzNQ==","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T06:08:51Z","updated_at":"2020-07-07T06:08:51Z","author_association":"MEMBER","body":"@yanghua this is ready for review. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654623835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654727361","html_url":"https://github.com/apache/hudi/pull/1779#issuecomment-654727361","issue_url":"https://api.github.com/repos/apache/hudi/issues/1779","id":654727361,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDcyNzM2MQ==","user":{"login":"Trevor-zhang","id":33487819,"node_id":"MDQ6VXNlcjMzNDg3ODE5","avatar_url":"https://avatars.githubusercontent.com/u/33487819?v=4","gravatar_id":"","url":"https://api.github.com/users/Trevor-zhang","html_url":"https://github.com/Trevor-zhang","followers_url":"https://api.github.com/users/Trevor-zhang/followers","following_url":"https://api.github.com/users/Trevor-zhang/following{/other_user}","gists_url":"https://api.github.com/users/Trevor-zhang/gists{/gist_id}","starred_url":"https://api.github.com/users/Trevor-zhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Trevor-zhang/subscriptions","organizations_url":"https://api.github.com/users/Trevor-zhang/orgs","repos_url":"https://api.github.com/users/Trevor-zhang/repos","events_url":"https://api.github.com/users/Trevor-zhang/events{/privacy}","received_events_url":"https://api.github.com/users/Trevor-zhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T09:33:40Z","updated_at":"2020-07-07T09:33:40Z","author_association":"CONTRIBUTOR","body":"Hi @yanghua ,the test case have been added. Cc @wangxianghu ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654727361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654768311","html_url":"https://github.com/apache/hudi/issues/1803#issuecomment-654768311","issue_url":"https://api.github.com/repos/apache/hudi/issues/1803","id":654768311,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDc2ODMxMQ==","user":{"login":"joaqs190","id":67928564,"node_id":"MDQ6VXNlcjY3OTI4NTY0","avatar_url":"https://avatars.githubusercontent.com/u/67928564?v=4","gravatar_id":"","url":"https://api.github.com/users/joaqs190","html_url":"https://github.com/joaqs190","followers_url":"https://api.github.com/users/joaqs190/followers","following_url":"https://api.github.com/users/joaqs190/following{/other_user}","gists_url":"https://api.github.com/users/joaqs190/gists{/gist_id}","starred_url":"https://api.github.com/users/joaqs190/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joaqs190/subscriptions","organizations_url":"https://api.github.com/users/joaqs190/orgs","repos_url":"https://api.github.com/users/joaqs190/repos","events_url":"https://api.github.com/users/joaqs190/events{/privacy}","received_events_url":"https://api.github.com/users/joaqs190/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T10:47:19Z","updated_at":"2020-07-07T10:47:19Z","author_association":"NONE","body":"thank you @bhasudha . That explains it, all set, closing. Thank you.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654768311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654797100","html_url":"https://github.com/apache/hudi/issues/1730#issuecomment-654797100","issue_url":"https://api.github.com/repos/apache/hudi/issues/1730","id":654797100,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDc5NzEwMA==","user":{"login":"tooptoop4","id":33283496,"node_id":"MDQ6VXNlcjMzMjgzNDk2","avatar_url":"https://avatars.githubusercontent.com/u/33283496?v=4","gravatar_id":"","url":"https://api.github.com/users/tooptoop4","html_url":"https://github.com/tooptoop4","followers_url":"https://api.github.com/users/tooptoop4/followers","following_url":"https://api.github.com/users/tooptoop4/following{/other_user}","gists_url":"https://api.github.com/users/tooptoop4/gists{/gist_id}","starred_url":"https://api.github.com/users/tooptoop4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tooptoop4/subscriptions","organizations_url":"https://api.github.com/users/tooptoop4/orgs","repos_url":"https://api.github.com/users/tooptoop4/repos","events_url":"https://api.github.com/users/tooptoop4/events{/privacy}","received_events_url":"https://api.github.com/users/tooptoop4/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T11:41:38Z","updated_at":"2020-07-07T13:45:08Z","author_association":"NONE","body":"prestosql 336 with hudi 0.5.3 gives better error:\r\n\r\n```\r\nio.prestosql.spi.PrestoException: Index 2 out of bounds for length 1\r\n\tat io.prestosql.plugin.hive.BackgroundHiveSplitLoader$HiveSplitLoaderTask.process(BackgroundHiveSplitLoader.java:234)\r\n\tat io.prestosql.plugin.hive.util.ResumableTasks$1.run(ResumableTasks.java:38)\r\n\tat io.prestosql.$gen.Presto_1c5b75e_dirty____20200705_204556_2.run(Unknown Source)\r\n\tat io.airlift.concurrent.BoundedExecutor.drainQueue(BoundedExecutor.java:80)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.base/java.lang.Thread.run(Unknown Source)\r\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 1\r\n\tat org.apache.hudi.common.util.FSUtils.getCommitTime(FSUtils.java:137)\r\n\tat org.apache.hudi.common.model.HoodieBaseFile.getCommitTime(HoodieBaseFile.java:55)\r\n\tat org.apache.hudi.common.model.HoodieFileGroup.addBaseFile(HoodieFileGroup.java:86)\r\n\tat java.base/java.util.ArrayList.forEach(Unknown Source)\r\n\tat org.apache.hudi.common.table.view.AbstractTableFileSystemView.lambda$buildFileGroups$4(AbstractTableFileSystemView.java:161)\r\n\tat java.base/java.lang.Iterable.forEach(Unknown Source)\r\n\tat org.apache.hudi.common.table.view.AbstractTableFileSystemView.buildFileGroups(AbstractTableFileSystemView.java:157)\r\n\tat org.apache.hudi.common.table.view.AbstractTableFileSystemView.buildFileGroups(AbstractTableFileSystemView.java:135)\r\n\tat org.apache.hudi.common.table.view.AbstractTableFileSystemView.addFilesToView(AbstractTableFileSystemView.java:115)\r\n\tat org.apache.hudi.common.table.view.HoodieTableFileSystemView.<init>(HoodieTableFileSystemView.java:120)\r\n\tat org.apache.hudi.hadoop.HoodieParquetInputFormat.filterFileStatusForSnapshotMode(HoodieParquetInputFormat.java:239)\r\n\tat org.apache.hudi.hadoop.HoodieParquetInputFormat.listStatus(HoodieParquetInputFormat.java:110)\r\n\tat org.apache.hadoop.mapred.FileInputFormat.getSplits(FileInputFormat.java:325)\r\n\tat io.prestosql.plugin.hive.BackgroundHiveSplitLoader.loadPartition(BackgroundHiveSplitLoader.java:428)\r\n\tat io.prestosql.plugin.hive.BackgroundHiveSplitLoader.loadSplits(BackgroundHiveSplitLoader.java:298)\r\n\tat io.prestosql.plugin.hive.BackgroundHiveSplitLoader$HiveSplitLoaderTask.process(BackgroundHiveSplitLoader.java:227)\r\n\t... 6 more\r\n```\r\n\r\nafter putting a log statement for fullFileName i see the value is part-00007-75dea991-eba7-4fb1-801c-af264bb5bfc3-c000.snappy.parquet, while for a table that can be queried fullFileName  is 4b37466c-8b75-458e-ba28-1e0f4c350dbe_0_20200324151845.parquet\r\n\r\n\r\n\r\ns3 listing under partition folder of table that works  (there is .hoodie/ folder under base table path):\r\n2020-03-24 15:18:55         93 .hoodie_partition_metadata\r\n2020-03-24 15:18:57    2194374 4b37466c-8b75-458e-ba28-1e0f4c350dbe_0_20200324151845.parquet\r\n\r\n\r\ns3 listing under partition folder of table that gets the error (there is .hoodie/ folder under base table path):\r\n2020-03-24 15:18:44          0 _SUCCESS\r\n2020-03-24 15:18:37   10649992 part-00000-75dea991-eba7-4fb1-801c-af264bb5bfc3-c000.snappy.parquet\r\n2020-03-24 15:18:38    8787785 part-00001-75dea991-eba7-4fb1-801c-af264bb5bfc3-c000.snappy.parquet\r\n2020-03-24 15:18:39    9562198 part-00002-75dea991-eba7-4fb1-801c-af264bb5bfc3-c000.snappy.parquet\r\n2020-03-24 15:18:40    9359329 part-00003-75dea991-eba7-4fb1-801c-af264bb5bfc3-c000.snappy.parquet\r\n2020-03-24 15:18:41   10519118 part-00004-75dea991-eba7-4fb1-801c-af264bb5bfc3-c000.snappy.parquet\r\n2020-03-24 15:18:42   10452807 part-00005-75dea991-eba7-4fb1-801c-af264bb5bfc3-c000.snappy.parquet\r\n2020-03-24 15:18:42    9104366 part-00006-75dea991-eba7-4fb1-801c-af264bb5bfc3-c000.snappy.parquet\r\n2020-03-24 15:18:43    9016423 part-00007-75dea991-eba7-4fb1-801c-af264bb5bfc3-c000.snappy.parquet\r\n\r\n\r\n**UPDATE**\r\nThis is really old table, and got corrupted along the way. After removing .hoodie/ folder select works ok","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654797100/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654842089","html_url":"https://github.com/apache/hudi/issues/1786#issuecomment-654842089","issue_url":"https://api.github.com/repos/apache/hudi/issues/1786","id":654842089,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDg0MjA4OQ==","user":{"login":"rvd8345","id":49411334,"node_id":"MDQ6VXNlcjQ5NDExMzM0","avatar_url":"https://avatars.githubusercontent.com/u/49411334?v=4","gravatar_id":"","url":"https://api.github.com/users/rvd8345","html_url":"https://github.com/rvd8345","followers_url":"https://api.github.com/users/rvd8345/followers","following_url":"https://api.github.com/users/rvd8345/following{/other_user}","gists_url":"https://api.github.com/users/rvd8345/gists{/gist_id}","starred_url":"https://api.github.com/users/rvd8345/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvd8345/subscriptions","organizations_url":"https://api.github.com/users/rvd8345/orgs","repos_url":"https://api.github.com/users/rvd8345/repos","events_url":"https://api.github.com/users/rvd8345/events{/privacy}","received_events_url":"https://api.github.com/users/rvd8345/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T13:03:43Z","updated_at":"2020-07-07T13:03:43Z","author_association":"NONE","body":"@garyli1019 I was talking about hoodie.bulkinsert.shuffle.parallelism only. Have tried with default 1500, 500 and 64 without much difference in runtime. I can try 100 also but not sure if it will be significantly better than 64.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654842089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654874566","html_url":"https://github.com/apache/hudi/pull/1406#issuecomment-654874566","issue_url":"https://api.github.com/repos/apache/hudi/issues/1406","id":654874566,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDg3NDU2Ng==","user":{"login":"aditanase","id":2746097,"node_id":"MDQ6VXNlcjI3NDYwOTc=","avatar_url":"https://avatars.githubusercontent.com/u/2746097?v=4","gravatar_id":"","url":"https://api.github.com/users/aditanase","html_url":"https://github.com/aditanase","followers_url":"https://api.github.com/users/aditanase/followers","following_url":"https://api.github.com/users/aditanase/following{/other_user}","gists_url":"https://api.github.com/users/aditanase/gists{/gist_id}","starred_url":"https://api.github.com/users/aditanase/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aditanase/subscriptions","organizations_url":"https://api.github.com/users/aditanase/orgs","repos_url":"https://api.github.com/users/aditanase/repos","events_url":"https://api.github.com/users/aditanase/events{/privacy}","received_events_url":"https://api.github.com/users/aditanase/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T13:48:30Z","updated_at":"2020-07-07T13:48:30Z","author_association":"NONE","body":"@vinothchandar @umehrot2 - I just added a flavor of this issue, for when the inner record of the array has only 1 field:\r\nhttps://issues.apache.org/jira/browse/HUDI-1079\r\n\r\nI'd be happy to attempt a fix but would like some quick pointers where to look. Thank you!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654874566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654919654","html_url":"https://github.com/apache/hudi/pull/1807#issuecomment-654919654","issue_url":"https://api.github.com/repos/apache/hudi/issues/1807","id":654919654,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDkxOTY1NA==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T14:53:07Z","updated_at":"2020-07-07T14:53:07Z","author_association":"CONTRIBUTOR","body":"@vinothchandar hello ,as discussion in https://github.com/apache/hudi/pull/1593. I submit a PR with the hudi-sync-common and reconstruct the old hudi-hive-sync to  hudi-sync-hive which implements hudi-sync-common.  Please  review it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654919654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654941314","html_url":"https://github.com/apache/hudi/pull/1756#issuecomment-654941314","issue_url":"https://api.github.com/repos/apache/hudi/issues/1756","id":654941314,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDk0MTMxNA==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T15:26:39Z","updated_at":"2020-07-07T15:26:39Z","author_association":"CONTRIBUTOR","body":"@vinothchandar I have fix all the issue as you comment. More comprehensive solution about delete markerfile will depend on you","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654941314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654967198","html_url":"https://github.com/apache/hudi/pull/1808#issuecomment-654967198","issue_url":"https://api.github.com/repos/apache/hudi/issues/1808","id":654967198,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDk2NzE5OA==","user":{"login":"Trevor-zhang","id":33487819,"node_id":"MDQ6VXNlcjMzNDg3ODE5","avatar_url":"https://avatars.githubusercontent.com/u/33487819?v=4","gravatar_id":"","url":"https://api.github.com/users/Trevor-zhang","html_url":"https://github.com/Trevor-zhang","followers_url":"https://api.github.com/users/Trevor-zhang/followers","following_url":"https://api.github.com/users/Trevor-zhang/following{/other_user}","gists_url":"https://api.github.com/users/Trevor-zhang/gists{/gist_id}","starred_url":"https://api.github.com/users/Trevor-zhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Trevor-zhang/subscriptions","organizations_url":"https://api.github.com/users/Trevor-zhang/orgs","repos_url":"https://api.github.com/users/Trevor-zhang/repos","events_url":"https://api.github.com/users/Trevor-zhang/events{/privacy}","received_events_url":"https://api.github.com/users/Trevor-zhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T16:08:40Z","updated_at":"2020-07-07T16:09:46Z","author_association":"CONTRIBUTOR","body":"detailed discuss is here:[HUDI-1078](https://issues.apache.org/jira/browse/HUDI-1078)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654967198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654969872","html_url":"https://github.com/apache/hudi/issues/1802#issuecomment-654969872","issue_url":"https://api.github.com/repos/apache/hudi/issues/1802","id":654969872,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDk2OTg3Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T16:13:10Z","updated_at":"2020-07-07T16:13:10Z","author_association":"MEMBER","body":"ack! was this a parquet version issue ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/654969872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655021966","html_url":"https://github.com/apache/hudi/issues/1786#issuecomment-655021966","issue_url":"https://api.github.com/repos/apache/hudi/issues/1786","id":655021966,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTAyMTk2Ng==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T17:46:59Z","updated_at":"2020-07-07T17:46:59Z","author_association":"MEMBER","body":"@rvd8345 Ok, 100 wouldn't be too much different from 64. During the Stage 5 `count xxx`, Hudi is actually writing the file into the filesystem. Even we reduce the parallelism number to 100 but you have ~1500 partitions, Hudi will still write a lot of small files within 100 tasks and this could cause a performance issue. Would you try to reduce the partition number?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655021966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655052438","html_url":"https://github.com/apache/hudi/issues/1802#issuecomment-655052438","issue_url":"https://api.github.com/repos/apache/hudi/issues/1802","id":655052438,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTA1MjQzOA==","user":{"login":"tooptoop4","id":33283496,"node_id":"MDQ6VXNlcjMzMjgzNDk2","avatar_url":"https://avatars.githubusercontent.com/u/33283496?v=4","gravatar_id":"","url":"https://api.github.com/users/tooptoop4","html_url":"https://github.com/tooptoop4","followers_url":"https://api.github.com/users/tooptoop4/followers","following_url":"https://api.github.com/users/tooptoop4/following{/other_user}","gists_url":"https://api.github.com/users/tooptoop4/gists{/gist_id}","starred_url":"https://api.github.com/users/tooptoop4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tooptoop4/subscriptions","organizations_url":"https://api.github.com/users/tooptoop4/orgs","repos_url":"https://api.github.com/users/tooptoop4/repos","events_url":"https://api.github.com/users/tooptoop4/events{/privacy}","received_events_url":"https://api.github.com/users/tooptoop4/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T18:45:22Z","updated_at":"2020-07-07T18:45:22Z","author_association":"NONE","body":"when col is a long type, spark 2.3 would return long from expr(concat(col)) but spark 2.4 would return string from expr(concat(col)). Fix was changing to expr(col) in spark 2.4 - to return long","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655052438/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655173307","html_url":"https://github.com/apache/hudi/pull/1756#issuecomment-655173307","issue_url":"https://api.github.com/repos/apache/hudi/issues/1756","id":655173307,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTE3MzMwNw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T22:39:49Z","updated_at":"2020-07-07T22:39:49Z","author_association":"MEMBER","body":"Thanks! on it! ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655173307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655176203","html_url":"https://github.com/apache/hudi/issues/1730#issuecomment-655176203","issue_url":"https://api.github.com/repos/apache/hudi/issues/1730","id":655176203,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTE3NjIwMw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T22:49:05Z","updated_at":"2020-07-07T22:49:05Z","author_association":"MEMBER","body":"yes.. makes sense.. closing this issue","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655176203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655184220","html_url":"https://github.com/apache/hudi/issues/1738#issuecomment-655184220","issue_url":"https://api.github.com/repos/apache/hudi/issues/1738","id":655184220,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTE4NDIyMA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T23:07:38Z","updated_at":"2020-07-07T23:07:38Z","author_association":"MEMBER","body":"Based on slack discussion.. this is also resolved now? \r\n\r\nif not, @tooptoop4 do you have a small snippet I can use to repro this locally? we can make the code create the folder if it does not exist, and retry may be.. Like to understand why this happens though.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655184220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655191206","html_url":"https://github.com/apache/hudi/issues/1787#issuecomment-655191206","issue_url":"https://api.github.com/repos/apache/hudi/issues/1787","id":655191206,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTE5MTIwNg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T23:27:05Z","updated_at":"2020-07-07T23:27:05Z","author_association":"MEMBER","body":"it's okay to disable.  But trying to understand why you got that error consistently.. was the port blocked on the driver? do you have the entire executor/driver logs.. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655191206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655194540","html_url":"https://github.com/apache/hudi/issues/1780#issuecomment-655194540","issue_url":"https://api.github.com/repos/apache/hudi/issues/1780","id":655194540,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTE5NDU0MA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T23:37:31Z","updated_at":"2020-07-07T23:37:31Z","author_association":"MEMBER","body":"@a-uddhav are you facing the same issue as well? \r\n\r\n@zuyanton by any chance you upgraded the writers before dropping new jars for queries?  I think the issue is that \r\n\r\nhttps://hudi.apache.org/releases.html#release-051-incubating-docs\r\n```\r\nWith 0.5.1, we added functionality to stop using renames for Hudi timeline metadata operations. This feature is automatically enabled for newly created Hudi tables. For existing tables, this feature is turned off by default. Please read this section, before enabling this feature for existing hudi tables. To enable the new hudi timeline layout which avoids renames, use the write config hoodie.timeline.layout.version=1. Alternatively, you can use repair overwrite-hoodie-props to append the line hoodie.timeline.layout.version=1 to hoodie.properties. Note that in any case, upgrade hudi readers (query engines) first with 0.5.1-incubating release before upgrading writer.\r\n```\r\n\r\nthis is what seems relevant to me.. If you are spinning up EMR cluster, these jars should be same? or may be you are getting the 0.5.0 jar from EMR's installation? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655194540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655200192","html_url":"https://github.com/apache/hudi/issues/1745#issuecomment-655200192","issue_url":"https://api.github.com/repos/apache/hudi/issues/1745","id":655200192,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTIwMDE5Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T23:57:39Z","updated_at":"2020-07-07T23:57:39Z","author_association":"MEMBER","body":"now that we have the PR up.. closing this. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655200192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655200587","html_url":"https://github.com/apache/hudi/issues/998#issuecomment-655200587","issue_url":"https://api.github.com/repos/apache/hudi/issues/998","id":655200587,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTIwMDU4Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-07T23:59:07Z","updated_at":"2020-07-07T23:59:07Z","author_association":"MEMBER","body":"@WilliamWhispell Work for this is tracked in HUDI-651, HUDI-920, all tracked for 0.6.0, end of the month. \r\n@bhasudha has the changes, to make this work via SparkSQL/Hive. HUDI-920 is about natively pulling the changs usi ng spark datasource","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655200587/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655205591","html_url":"https://github.com/apache/hudi/issues/1694#issuecomment-655205591","issue_url":"https://api.github.com/repos/apache/hudi/issues/1694","id":655205591,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTIwNTU5MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T00:15:54Z","updated_at":"2020-07-08T00:15:54Z","author_association":"MEMBER","body":"#1752 is the PR. \r\n\r\nWhat I am seeing is that the range based pruning is not very effective.. and is resulting in lots of shuffled data..  \r\n\r\nis there a way to not use global index? i.e can you always determine `ad` for each record.?   `.option(\"hoodie.datasource.write.recordkey.field\", \"wbn\")`, is there certain ordering to `wbn` that we can exploit.. I am referring some stuff put together here.. https://cwiki.apache.org/confluence/display/HUDI/FAQ#FAQ-Whatperformance/ingestlatencycanIexpectforHudiwriting\r\n\r\nIn general, we need to make the upsert process not be dependent on the size of the table, but rather on size of input.. \r\n\r\nIf you are open to trying, you can switch to simple index on master, which. will be lot lighter in this particular scenario, where there does not seem to be any benefits for range/bloom information.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655205591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655205689","html_url":"https://github.com/apache/hudi/issues/1694#issuecomment-655205689","issue_url":"https://api.github.com/repos/apache/hudi/issues/1694","id":655205689,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTIwNTY4OQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T00:16:13Z","updated_at":"2020-07-08T00:16:13Z","author_association":"MEMBER","body":"Happy to work more hands-on and get this working for you. lmk","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655205689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655205874","html_url":"https://github.com/apache/hudi/issues/1586#issuecomment-655205874","issue_url":"https://api.github.com/repos/apache/hudi/issues/1586","id":655205874,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTIwNTg3NA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T00:16:50Z","updated_at":"2020-07-08T00:16:50Z","author_association":"MEMBER","body":"cc @pratyakshsharma  any ideas? (since you are actively looking at this code) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655205874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655206781","html_url":"https://github.com/apache/hudi/issues/1776#issuecomment-655206781","issue_url":"https://api.github.com/repos/apache/hudi/issues/1776","id":655206781,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTIwNjc4MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T00:20:07Z","updated_at":"2020-07-08T00:20:07Z","author_association":"MEMBER","body":"I meant HUDI-259 .. where we collect issues like this related to hadoop 3","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655206781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655207777","html_url":"https://github.com/apache/hudi/issues/1791#issuecomment-655207777","issue_url":"https://api.github.com/repos/apache/hudi/issues/1791","id":655207777,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTIwNzc3Nw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T00:23:25Z","updated_at":"2020-07-08T00:23:25Z","author_association":"MEMBER","body":"@masterlemmi while we wait for @pratyakshsharma , you can just build hudi off master and simply run this class \r\nhttps://github.com/apache/hudi/blob/master/hudi-utilities/src/main/java/org/apache/hudi/utilities/deltastreamer/HoodieMultiTableDeltaStreamer.java#L206\r\n\r\nusing spark-submit (instead of the other class for DeltaStreamer) .. hopefully, the cli is similar to deltastreamer/self-explanatory..\r\n\r\n@pratyakshsharma that reminds me.. did we file a task to get this documented^P. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655207777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655208316","html_url":"https://github.com/apache/hudi/pull/1484#issuecomment-655208316","issue_url":"https://api.github.com/repos/apache/hudi/issues/1484","id":655208316,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTIwODMxNg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T00:25:05Z","updated_at":"2020-07-08T00:25:05Z","author_association":"MEMBER","body":"@v3nkatesh are you able to write the rate limiter class yourself?  :)  if not can @garyli1019 @xushiyan help? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655208316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655209009","html_url":"https://github.com/apache/hudi/pull/1807#issuecomment-655209009","issue_url":"https://api.github.com/repos/apache/hudi/issues/1807","id":655209009,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTIwOTAwOQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T00:27:30Z","updated_at":"2020-07-08T00:27:30Z","author_association":"MEMBER","body":"@lw309637554 can you please check CI failure?\r\n\r\nBefore diving in, are there any backwards compatible changes/special upgrade instructions needed for users with this change?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655209009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655210255","html_url":"https://github.com/apache/hudi/pull/1808#issuecomment-655210255","issue_url":"https://api.github.com/repos/apache/hudi/issues/1808","id":655210255,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTIxMDI1NQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T00:32:00Z","updated_at":"2020-07-08T00:32:00Z","author_association":"MEMBER","body":"@nsivabalan can you please review this","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655210255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655211543","html_url":"https://github.com/apache/hudi/issues/1794#issuecomment-655211543","issue_url":"https://api.github.com/repos/apache/hudi/issues/1794","id":655211543,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTIxMTU0Mw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T00:36:51Z","updated_at":"2020-07-08T00:36:51Z","author_association":"MEMBER","body":"`20200705101913__commit__COMPLETED` indicates the commit was completed successfully actually.. I think it's saying the commit file does not have a data file, from which it can fetch schema. .. \r\n\r\nDo you mind sharing the `20200705101913.commit` file from timeline? @bhasudha  can you check if there are any changes in 0.5.3 around this. My understanding is that currently we are writing the schema together with the commit file, so it does not even have to look for a data file.. \r\n\r\n@RajasekarSribalan if you are up for it, and easy to do, can you give master branch a shot?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655211543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655214863","html_url":"https://github.com/apache/hudi/pull/1779#issuecomment-655214863","issue_url":"https://api.github.com/repos/apache/hudi/issues/1779","id":655214863,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTIxNDg2Mw==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T00:49:14Z","updated_at":"2020-07-08T00:49:14Z","author_association":"CONTRIBUTOR","body":"> Hi @yanghua ,the test case have been added. Cc @wangxianghu\r\n\r\nHi @Trevor-zhang Thanks for addressing my comment. Now, LGTM, let's wait and see if @vinothchandar still has any concern?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655214863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655216403","html_url":"https://github.com/apache/hudi/issues/1806#issuecomment-655216403","issue_url":"https://api.github.com/repos/apache/hudi/issues/1806","id":655216403,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTIxNjQwMw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T00:55:04Z","updated_at":"2020-07-08T00:55:04Z","author_association":"MEMBER","body":"https://github.com/apache/hudi/blob/release-0.5.3/hudi-common/src/main/java/org/apache/hudi/common/util/HoodieAvroUtils.java#L229 @prashantwason  any ideas? \r\n\r\n@sbernauer yes could be related to null.. although your definition seems correct to me.. can you give us a small test case that reproduces this\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655216403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655226661","html_url":"https://github.com/apache/hudi/issues/1791#issuecomment-655226661","issue_url":"https://api.github.com/repos/apache/hudi/issues/1791","id":655226661,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTIyNjY2MQ==","user":{"login":"masterlemmi","id":17168257,"node_id":"MDQ6VXNlcjE3MTY4MjU3","avatar_url":"https://avatars.githubusercontent.com/u/17168257?v=4","gravatar_id":"","url":"https://api.github.com/users/masterlemmi","html_url":"https://github.com/masterlemmi","followers_url":"https://api.github.com/users/masterlemmi/followers","following_url":"https://api.github.com/users/masterlemmi/following{/other_user}","gists_url":"https://api.github.com/users/masterlemmi/gists{/gist_id}","starred_url":"https://api.github.com/users/masterlemmi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/masterlemmi/subscriptions","organizations_url":"https://api.github.com/users/masterlemmi/orgs","repos_url":"https://api.github.com/users/masterlemmi/repos","events_url":"https://api.github.com/users/masterlemmi/events{/privacy}","received_events_url":"https://api.github.com/users/masterlemmi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T01:31:10Z","updated_at":"2020-07-08T01:31:10Z","author_association":"NONE","body":"sure. will do. thanks @vinothchandar ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655226661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655261425","html_url":"https://github.com/apache/hudi/issues/1794#issuecomment-655261425","issue_url":"https://api.github.com/repos/apache/hudi/issues/1794","id":655261425,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTI2MTQyNQ==","user":{"login":"RajasekarSribalan","id":22605603,"node_id":"MDQ6VXNlcjIyNjA1NjAz","avatar_url":"https://avatars.githubusercontent.com/u/22605603?v=4","gravatar_id":"","url":"https://api.github.com/users/RajasekarSribalan","html_url":"https://github.com/RajasekarSribalan","followers_url":"https://api.github.com/users/RajasekarSribalan/followers","following_url":"https://api.github.com/users/RajasekarSribalan/following{/other_user}","gists_url":"https://api.github.com/users/RajasekarSribalan/gists{/gist_id}","starred_url":"https://api.github.com/users/RajasekarSribalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RajasekarSribalan/subscriptions","organizations_url":"https://api.github.com/users/RajasekarSribalan/orgs","repos_url":"https://api.github.com/users/RajasekarSribalan/repos","events_url":"https://api.github.com/users/RajasekarSribalan/events{/privacy}","received_events_url":"https://api.github.com/users/RajasekarSribalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T03:32:10Z","updated_at":"2020-07-08T11:37:11Z","author_association":"NONE","body":"Thanks @vinothchandar @bhasudha . I ll try to fetch the commit file but as of now I have now\r\ndisabled hive sync for delete operation and now I don't get this error at\r\nall? Do you have any comment on this?.\r\n\r\nAs I said,when I enable hive sync for delete operation I get this error but\r\nnot when I disable it.\r\n\r\nOn Wed, 8 Jul 2020, 6:07 am vinoth chandar, <notifications@github.com>\r\nwrote:\r\n\r\n> 20200705101913__commit__COMPLETED indicates the commit was completed\r\n> successfully actually.. I think it's saying the commit file does not have a\r\n> data file, from which it can fetch schema. ..\r\n>\r\n> Do you mind sharing the 20200705101913.commit file from timeline?\r\n> @bhasudha <https://github.com/bhasudha> can you check if there are any\r\n> changes in 0.5.3 around this. My understanding is that currently we are\r\n> writing the schema together with the commit file, so it does not even have\r\n> to look for a data file..\r\n>\r\n> @RajasekarSribalan <https://github.com/RajasekarSribalan> if you are up\r\n> for it, and easy to do, can you give master branch a shot?\r\n>\r\n> \r\n> You are receiving this because you were mentioned.\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/apache/hudi/issues/1794#issuecomment-655211543>, or\r\n> unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/AFMO6I26H5UBJRHI5LMVJPDR2O5TBANCNFSM4OQ2GZNQ>\r\n> .\r\n>\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655261425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655265702","html_url":"https://github.com/apache/hudi/pull/1706#issuecomment-655265702","issue_url":"https://api.github.com/repos/apache/hudi/issues/1706","id":655265702,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTI2NTcwMg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T03:48:53Z","updated_at":"2020-07-08T03:48:53Z","author_association":"CONTRIBUTOR","body":"@lamber-ken any updates on this ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655265702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655266313","html_url":"https://github.com/apache/hudi/pull/1289#issuecomment-655266313","issue_url":"https://api.github.com/repos/apache/hudi/issues/1289","id":655266313,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTI2NjMxMw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T03:51:22Z","updated_at":"2020-07-08T03:51:22Z","author_association":"CONTRIBUTOR","body":"@prashantwason can you rebase and push please ? I can then merge this","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655266313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655266701","html_url":"https://github.com/apache/hudi/pull/1242#issuecomment-655266701","issue_url":"https://api.github.com/repos/apache/hudi/issues/1242","id":655266701,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTI2NjcwMQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T03:52:52Z","updated_at":"2020-07-08T03:52:52Z","author_association":"CONTRIBUTOR","body":"@hddong Please create a JIRA ticket here -> https://issues.apache.org/jira/projects/HUDI/issues and add the tag of documentation/release notes update.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655266701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655278012","html_url":"https://github.com/apache/hudi/issues/1789#issuecomment-655278012","issue_url":"https://api.github.com/repos/apache/hudi/issues/1789","id":655278012,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTI3ODAxMg==","user":{"login":"garyli1019","id":23007841,"node_id":"MDQ6VXNlcjIzMDA3ODQx","avatar_url":"https://avatars.githubusercontent.com/u/23007841?v=4","gravatar_id":"","url":"https://api.github.com/users/garyli1019","html_url":"https://github.com/garyli1019","followers_url":"https://api.github.com/users/garyli1019/followers","following_url":"https://api.github.com/users/garyli1019/following{/other_user}","gists_url":"https://api.github.com/users/garyli1019/gists{/gist_id}","starred_url":"https://api.github.com/users/garyli1019/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garyli1019/subscriptions","organizations_url":"https://api.github.com/users/garyli1019/orgs","repos_url":"https://api.github.com/users/garyli1019/repos","events_url":"https://api.github.com/users/garyli1019/events{/privacy}","received_events_url":"https://api.github.com/users/garyli1019/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T04:35:56Z","updated_at":"2020-07-08T04:35:56Z","author_association":"MEMBER","body":"cc: @umehrot2 AWS related","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655278012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655292713","html_url":"https://github.com/apache/hudi/issues/1546#issuecomment-655292713","issue_url":"https://api.github.com/repos/apache/hudi/issues/1546","id":655292713,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTI5MjcxMw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T05:21:41Z","updated_at":"2020-07-08T05:21:41Z","author_association":"MEMBER","body":"Great!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655292713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655305119","html_url":"https://github.com/apache/hudi/issues/1694#issuecomment-655305119","issue_url":"https://api.github.com/repos/apache/hudi/issues/1694","id":655305119,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTMwNTExOQ==","user":{"login":"Raghvendradubey","id":16387812,"node_id":"MDQ6VXNlcjE2Mzg3ODEy","avatar_url":"https://avatars.githubusercontent.com/u/16387812?v=4","gravatar_id":"","url":"https://api.github.com/users/Raghvendradubey","html_url":"https://github.com/Raghvendradubey","followers_url":"https://api.github.com/users/Raghvendradubey/followers","following_url":"https://api.github.com/users/Raghvendradubey/following{/other_user}","gists_url":"https://api.github.com/users/Raghvendradubey/gists{/gist_id}","starred_url":"https://api.github.com/users/Raghvendradubey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Raghvendradubey/subscriptions","organizations_url":"https://api.github.com/users/Raghvendradubey/orgs","repos_url":"https://api.github.com/users/Raghvendradubey/repos","events_url":"https://api.github.com/users/Raghvendradubey/events{/privacy}","received_events_url":"https://api.github.com/users/Raghvendradubey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T06:00:14Z","updated_at":"2020-07-08T06:00:14Z","author_association":"NONE","body":"\r\n\r\n\r\n\r\n\r\n   \r\n                                                                                                                                                                                                           \r\nThanks @vinothchandar \r\n\r\ncomments are inline\r\n  \r\nis there a way to not use global index?\r\nI need partition movement of records, means need latest updated record in latest partition, and probably I can achieve this only by global bloom.\r\n\r\ncan you always determine ad for each record.?\r\nYes I can, but how it would be helpful for me, by not using global index? what about records which are in older partitions.\r\n\r\nis there certain ordering to wbn - \r\nno certain ordering, I can order it only by timestamp.\r\n\r\nYes I tried without global bloom, upsert is very fast, but business requirement  is like I need latest updated record in latest partition. \r\nAny suggestion  If I can achieve this without global bloom?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655305119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655317880","html_url":"https://github.com/apache/hudi/issues/1325#issuecomment-655317880","issue_url":"https://api.github.com/repos/apache/hudi/issues/1325","id":655317880,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTMxNzg4MA==","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T06:34:01Z","updated_at":"2020-07-08T06:34:01Z","author_association":"CONTRIBUTOR","body":"@vinothchandar We can close this due to inactivity. I haven't been able to reproduce it. @adamjoneill  Please feel free to re-open this anytime should you see this resurface again.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655317880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655350766","html_url":"https://github.com/apache/hudi/issues/1775#issuecomment-655350766","issue_url":"https://api.github.com/repos/apache/hudi/issues/1775","id":655350766,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTM1MDc2Ng==","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T07:47:50Z","updated_at":"2020-07-08T07:47:50Z","author_association":"CONTRIBUTOR","body":"@prashanthpdesai  This definitely looks like Avro incompatibility. The spark-avro and spark version  must match - https://hudi.apache.org/docs/quick-start-guide.html#setup  has a note on these.  Hudi is migrated to spark 2.4.4 as we moved from Databricks-avro to spark-avro. Can you check the same on spark 2.4.4 shell ? I think that would resolve the issue. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655350766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655352986","html_url":"https://github.com/apache/hudi/issues/1785#issuecomment-655352986","issue_url":"https://api.github.com/repos/apache/hudi/issues/1785","id":655352986,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTM1Mjk4Ng==","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T07:52:06Z","updated_at":"2020-07-08T07:52:06Z","author_association":"CONTRIBUTOR","body":"> @bhasudha what if i don't clean them up? ie if i just leave them there then what is the issue?\r\n\r\nIt shouldn't have any impact on queries. since  inflight commits are not visible to queries anyways.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655352986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655375517","html_url":"https://github.com/apache/hudi/issues/1806#issuecomment-655375517","issue_url":"https://api.github.com/repos/apache/hudi/issues/1806","id":655375517,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTM3NTUxNw==","user":{"login":"sbernauer","id":29303194,"node_id":"MDQ6VXNlcjI5MzAzMTk0","avatar_url":"https://avatars.githubusercontent.com/u/29303194?v=4","gravatar_id":"","url":"https://api.github.com/users/sbernauer","html_url":"https://github.com/sbernauer","followers_url":"https://api.github.com/users/sbernauer/followers","following_url":"https://api.github.com/users/sbernauer/following{/other_user}","gists_url":"https://api.github.com/users/sbernauer/gists{/gist_id}","starred_url":"https://api.github.com/users/sbernauer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbernauer/subscriptions","organizations_url":"https://api.github.com/users/sbernauer/orgs","repos_url":"https://api.github.com/users/sbernauer/repos","events_url":"https://api.github.com/users/sbernauer/events{/privacy}","received_events_url":"https://api.github.com/users/sbernauer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T08:34:18Z","updated_at":"2020-07-08T08:40:09Z","author_association":"CONTRIBUTOR","body":"I just wanted to point out, that i use a patched version of avro 1.8.2. If i dont patch avro 1.8.2 the following exception occurs: \"org.apache.avro.AvroRuntimeException: Unknown datum type org.apache.avro.JsonProperties$Null\" (see https://issues.apache.org/jira/browse/AVRO-1954)\r\n\r\nThe events with `optionalField == null` can't be processed. If i run Deltastreamer with `--commit-on-errors` the events with `optionalField != null` are processed, events with `optionalField == null` are missing in the MOR table.\r\n\r\nAs next step i created a similar schema without `\"default\": null`. New Testdata, topic and schema in schema registry. Everything worked, all events (with and without null-value) get processed :)\r\n\r\nLastly i tried reading with the new schema from the first topic with Testdata (written with `\"default\": null`). Everything worked again.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655375517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655461841","html_url":"https://github.com/apache/hudi/issues/1806#issuecomment-655461841","issue_url":"https://api.github.com/repos/apache/hudi/issues/1806","id":655461841,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTQ2MTg0MQ==","user":{"login":"sbernauer","id":29303194,"node_id":"MDQ6VXNlcjI5MzAzMTk0","avatar_url":"https://avatars.githubusercontent.com/u/29303194?v=4","gravatar_id":"","url":"https://api.github.com/users/sbernauer","html_url":"https://github.com/sbernauer","followers_url":"https://api.github.com/users/sbernauer/followers","following_url":"https://api.github.com/users/sbernauer/following{/other_user}","gists_url":"https://api.github.com/users/sbernauer/gists{/gist_id}","starred_url":"https://api.github.com/users/sbernauer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbernauer/subscriptions","organizations_url":"https://api.github.com/users/sbernauer/orgs","repos_url":"https://api.github.com/users/sbernauer/repos","events_url":"https://api.github.com/users/sbernauer/events{/privacy}","received_events_url":"https://api.github.com/users/sbernauer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T11:32:56Z","updated_at":"2020-07-08T11:32:56Z","author_association":"CONTRIBUTOR","body":"I tracked the failing validation down to this line: https://github.com/apache/avro/blob/2c7b9af7d5ba35afe9cf84eae3b273a6df0612b1/lang/java/avro/src/main/java/org/apache/avro/generic/GenericData.java#L615\r\nIt should not only check for `null` but also for `JsonProperties.NULL_VALUE` (the same bugfix that has to be done in https://github.com/apache/avro/blob/2c7b9af7d5ba35afe9cf84eae3b273a6df0612b1/lang/java/avro/src/main/java/org/apache/avro/generic/GenericData.java#L886).\r\nSo the `validate()`-method is fixed and doesn't complain any more.\r\n\r\nDeltastreamer accepts the record and tries to write it into parquet file, this is were it fails:\r\n```\r\njava.lang.ClassCastException: org.apache.avro.JsonProperties$Null cannot be cast to java.lang.Number\r\n        at org.apache.parquet.avro.AvroWriteSupport.writeValueWithoutConversion(AvroWriteSupport.java:327)\r\n        at org.apache.parquet.avro.AvroWriteSupport.writeValue(AvroWriteSupport.java:278)\r\n        at org.apache.parquet.avro.AvroWriteSupport.writeRecordFields(AvroWriteSupport.java:191)\r\n        at org.apache.parquet.avro.AvroWriteSupport.write(AvroWriteSupport.java:165)\r\n        at org.apache.parquet.hadoop.InternalParquetRecordWriter.write(InternalParquetRecordWriter.java:128)\r\n        at org.apache.parquet.hadoop.ParquetWriter.write(ParquetWriter.java:299)\r\n        at org.apache.hudi.io.storage.HoodieParquetWriter.writeAvroWithMetadata(HoodieParquetWriter.java:92)\r\n        at org.apache.hudi.io.HoodieCreateHandle.write(HoodieCreateHandle.java:104)\r\n        at org.apache.hudi.io.HoodieWriteHandle.write(HoodieWriteHandle.java:152)\r\n        at org.apache.hudi.execution.CopyOnWriteLazyInsertIterable$CopyOnWriteInsertHandler.consumeOneRecord(CopyOnWriteLazyInsertIterable.java:145)\r\n        at org.apache.hudi.execution.CopyOnWriteLazyInsertIterable$CopyOnWriteInsertHandler.consumeOneRecord(CopyOnWriteLazyInsertIterable.java:128)\r\n        at org.apache.hudi.common.util.queue.BoundedInMemoryQueueConsumer.consume(BoundedInMemoryQueueConsumer.java:37)\r\n        at org.apache.hudi.common.util.queue.BoundedInMemoryExecutor.lambda$null$2(BoundedInMemoryExecutor.java:121)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nLooking into the code https://github.com/apache/parquet-mr/blob/2589cc821d2d470be1e79b86f511eb1f5fee4e5c/parquet-avro/src/main/java/org/apache/parquet/avro/AvroWriteSupport.java#L276 we can see, that parquet-mr will convert the `UNION{NULL, DOUBLE}` to `DOUBLE` and therefore the ClassCastException occurs.\r\nAlso the doc of the `writeValue()`-method states \"Value MUST not be null\". Strange, i would say, because we can write `null` values (as you can see later on).\r\n\r\nSo i tried another approach:\r\nWy pass a `JsonProperties.NULL_VALUE` to avro when i could not handle it? This would also fix the patched avro 1.8.2 problem, so we dont need a patched avro that kind of supports `JsonProperties.NULL_VALUE.`\r\nThe new approach is to pass `null` instead of `JsonProperties.NULL_VALUE` to avro when the default value is `JsonProperties.NULL_VALUE`. And yeah, this fixed the problem.\r\n\r\nI was ready to make a PR. Suddenly i noticed, that it already has been fixed in the master branch by [HUDI-803](https://issues.apache.org/jira/browse/HUDI-803) (commit https://github.com/apache/hudi/commit/6a0aa9a645d11ed7b50e18aa0563dafcd9d145f7)\r\n\r\nTLDR:\r\nIt's already fixed by [HUDI-803](https://issues.apache.org/jira/browse/HUDI-803) in the master branch and will be in the next release.\r\n\r\nCheers,\r\nSebastian","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655461841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655609363","html_url":"https://github.com/apache/hudi/pull/1809#issuecomment-655609363","issue_url":"https://api.github.com/repos/apache/hudi/issues/1809","id":655609363,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTYwOTM2Mw==","user":{"login":"tooptoop4","id":33283496,"node_id":"MDQ6VXNlcjMzMjgzNDk2","avatar_url":"https://avatars.githubusercontent.com/u/33283496?v=4","gravatar_id":"","url":"https://api.github.com/users/tooptoop4","html_url":"https://github.com/tooptoop4","followers_url":"https://api.github.com/users/tooptoop4/followers","following_url":"https://api.github.com/users/tooptoop4/following{/other_user}","gists_url":"https://api.github.com/users/tooptoop4/gists{/gist_id}","starred_url":"https://api.github.com/users/tooptoop4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tooptoop4/subscriptions","organizations_url":"https://api.github.com/users/tooptoop4/orgs","repos_url":"https://api.github.com/users/tooptoop4/repos","events_url":"https://api.github.com/users/tooptoop4/events{/privacy}","received_events_url":"https://api.github.com/users/tooptoop4/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T16:01:11Z","updated_at":"2020-07-08T16:01:11Z","author_association":"NONE","body":"@satishkotha I have COW tables with data written by hoodie 0.4.6, I've now followed https://cwiki.apache.org/confluence/display/HUDI/Migration+Guide+From+com.uber.hoodie+to+org.apache.hudi steps and have done successful writes/reads with hudi 0.5.3    Without your PR where would I face issue?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655609363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655652601","html_url":"https://github.com/apache/hudi/pull/1809#issuecomment-655652601","issue_url":"https://api.github.com/repos/apache/hudi/issues/1809","id":655652601,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTY1MjYwMQ==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T17:24:36Z","updated_at":"2020-07-08T17:24:36Z","author_association":"MEMBER","body":"> @satishkotha I have COW tables with data written by hoodie 0.4.6, I've now followed https://cwiki.apache.org/confluence/display/HUDI/Migration+Guide+From+com.uber.hoodie+to+org.apache.hudi steps and have done successful writes/reads with hudi 0.5.3 Without your PR where would I face issue?\r\n\r\nHi, have you been using HoodieCombineHiveInputFormat for your use cases? As you can see in the diff, the fixes are specific to combine input format.\r\n\r\nWhen we ran queries after upgrading to new version(0.5.1), we got below errors \r\n1) `Caused by: org.apache.hudi.exception.HoodieException: Unexpected input format : com.uber.hoodie.hadoop.HoodieInputFormat\r\n\tat org.apache.hudi.hadoop.hive.HoodieCombineHiveInputFormat.getRecordReader(HoodieCombineHiveInputFormat.java:522)`\r\n\r\n2) `org.apache.hudi.exception.HoodieException: Unexpected input format : org.apache.hadoop.hive.ql.io.orc.OrcInputFormat\r\n\tat org.apache.hudi.hadoop.hive.HoodieCombineHiveInputFormat.getRecordReader(HoodieCombineHiveInputFormat.java:533)`\r\n\r\nWith 0.4.x version same queries ran fine.  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655652601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655791558","html_url":"https://github.com/apache/hudi/issues/1775#issuecomment-655791558","issue_url":"https://api.github.com/repos/apache/hudi/issues/1775","id":655791558,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTc5MTU1OA==","user":{"login":"prashanthpdesai","id":60724849,"node_id":"MDQ6VXNlcjYwNzI0ODQ5","avatar_url":"https://avatars.githubusercontent.com/u/60724849?v=4","gravatar_id":"","url":"https://api.github.com/users/prashanthpdesai","html_url":"https://github.com/prashanthpdesai","followers_url":"https://api.github.com/users/prashanthpdesai/followers","following_url":"https://api.github.com/users/prashanthpdesai/following{/other_user}","gists_url":"https://api.github.com/users/prashanthpdesai/gists{/gist_id}","starred_url":"https://api.github.com/users/prashanthpdesai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashanthpdesai/subscriptions","organizations_url":"https://api.github.com/users/prashanthpdesai/orgs","repos_url":"https://api.github.com/users/prashanthpdesai/repos","events_url":"https://api.github.com/users/prashanthpdesai/events{/privacy}","received_events_url":"https://api.github.com/users/prashanthpdesai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-08T22:32:18Z","updated_at":"2020-07-08T22:32:18Z","author_association":"NONE","body":"@bhasudha : if i understood correctly its not back ward compatible , we will try to check in 2.4.4 if its available in any of our environment.   ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655791558/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655871974","html_url":"https://github.com/apache/hudi/issues/1786#issuecomment-655871974","issue_url":"https://api.github.com/repos/apache/hudi/issues/1786","id":655871974,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTg3MTk3NA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T03:13:04Z","updated_at":"2020-07-09T03:13:04Z","author_association":"MEMBER","body":"@rvd8345 part of the issue here is the sort we do in bulk_insert to seed the dataset such that files are ordered by keys. This helps later in upsert performance. \n\nwe are working on making these modes configurable in the upcoming release. Cc @yihua \n\nHigh level, can you please describe what your workload looks like? We can advise you accordingly. Comparing writing files to hdfs vs bulk_insert to prep a hudi dataset is bit different","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655871974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655873626","html_url":"https://github.com/apache/hudi/pull/1406#issuecomment-655873626","issue_url":"https://api.github.com/repos/apache/hudi/issues/1406","id":655873626,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTg3MzYyNg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T03:18:25Z","updated_at":"2020-07-09T03:18:25Z","author_association":"MEMBER","body":"@umehrot2 can you please chime in ? \r\n@aditanase  let me check out the jira as well","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655873626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655878475","html_url":"https://github.com/apache/hudi/issues/1798#issuecomment-655878475","issue_url":"https://api.github.com/repos/apache/hudi/issues/1798","id":655878475,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTg3ODQ3NQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T03:34:29Z","updated_at":"2020-07-09T03:34:29Z","author_association":"MEMBER","body":"@umehrot2  any ideas?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655878475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655880193","html_url":"https://github.com/apache/hudi/issues/1798#issuecomment-655880193","issue_url":"https://api.github.com/repos/apache/hudi/issues/1798","id":655880193,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTg4MDE5Mw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T03:40:33Z","updated_at":"2020-07-09T03:40:33Z","author_association":"MEMBER","body":"@zherenyu831 one thing I dont understand from your original description is wat you mean by 4000+ files vs 600+ files. If its the same result then how can the files be different , when your are just loading the entire table.. \r\n\r\nI suspect if the based filtering is happening during one and not during another. Your query is on the hudi commit_time which will be the same regardless.. \r\n\r\nCan you confirm that you can do df.count() with both paths and the result is the same?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655880193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655880737","html_url":"https://github.com/apache/hudi/pull/1793#issuecomment-655880737","issue_url":"https://api.github.com/repos/apache/hudi/issues/1793","id":655880737,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTg4MDczNw==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T03:42:47Z","updated_at":"2020-07-09T03:42:47Z","author_association":"MEMBER","body":"@nsivabalan can we also address simple global index","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655880737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655881102","html_url":"https://github.com/apache/hudi/issues/1794#issuecomment-655881102","issue_url":"https://api.github.com/repos/apache/hudi/issues/1794","id":655881102,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTg4MTEwMg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T03:44:26Z","updated_at":"2020-07-09T03:44:26Z","author_association":"MEMBER","body":"@nsivabalan  might be worth reproducing this in the docker environment?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655881102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655883408","html_url":"https://github.com/apache/hudi/issues/1811#issuecomment-655883408","issue_url":"https://api.github.com/repos/apache/hudi/issues/1811","id":655883408,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTg4MzQwOA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T03:55:32Z","updated_at":"2020-07-09T03:55:32Z","author_association":"MEMBER","body":"This seems related to HUDI-1007 ..  great we have a stacktrace now","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655883408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655885342","html_url":"https://github.com/apache/hudi/issues/1811#issuecomment-655885342","issue_url":"https://api.github.com/repos/apache/hudi/issues/1811","id":655885342,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTg4NTM0Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T04:04:50Z","updated_at":"2020-07-09T04:04:50Z","author_association":"MEMBER","body":"Seems related to spark bug https://issues.apache.org/jira/browse/SPARK-17147\r\n\r\nIt must be fixed in 2.4. Can you upgrade spark and try? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655885342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655908700","html_url":"https://github.com/apache/hudi/issues/1800#issuecomment-655908700","issue_url":"https://api.github.com/repos/apache/hudi/issues/1800","id":655908700,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTkwODcwMA==","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T05:25:53Z","updated_at":"2020-07-09T05:25:53Z","author_association":"CONTRIBUTOR","body":"@tooptoop4  are you enabling this config - https://hudi.apache.org/docs/configurations.html#withConsistencyCheckEnabled ? \r\nAlso is this inflight commit one of the lingering pending commits discussed in this thread - https://github.com/apache/hudi/issues/1785 ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655908700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655923798","html_url":"https://github.com/apache/hudi/pull/1650#issuecomment-655923798","issue_url":"https://api.github.com/repos/apache/hudi/issues/1650","id":655923798,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTkyMzc5OA==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T06:13:33Z","updated_at":"2020-07-09T06:13:33Z","author_association":"CONTRIBUTOR","body":"@bvaradar Did you get a chance to look at this? :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655923798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655930601","html_url":"https://github.com/apache/hudi/pull/1433#issuecomment-655930601","issue_url":"https://api.github.com/repos/apache/hudi/issues/1433","id":655930601,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTkzMDYwMQ==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T06:33:47Z","updated_at":"2020-07-09T06:33:47Z","author_association":"CONTRIBUTOR","body":"Pinging to see if you have any more concerns here or we can merge this @nsivabalan ? :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655930601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655964960","html_url":"https://github.com/apache/hudi/issues/1800#issuecomment-655964960","issue_url":"https://api.github.com/repos/apache/hudi/issues/1800","id":655964960,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTk2NDk2MA==","user":{"login":"tooptoop4","id":33283496,"node_id":"MDQ6VXNlcjMzMjgzNDk2","avatar_url":"https://avatars.githubusercontent.com/u/33283496?v=4","gravatar_id":"","url":"https://api.github.com/users/tooptoop4","html_url":"https://github.com/tooptoop4","followers_url":"https://api.github.com/users/tooptoop4/followers","following_url":"https://api.github.com/users/tooptoop4/following{/other_user}","gists_url":"https://api.github.com/users/tooptoop4/gists{/gist_id}","starred_url":"https://api.github.com/users/tooptoop4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tooptoop4/subscriptions","organizations_url":"https://api.github.com/users/tooptoop4/orgs","repos_url":"https://api.github.com/users/tooptoop4/repos","events_url":"https://api.github.com/users/tooptoop4/events{/privacy}","received_events_url":"https://api.github.com/users/tooptoop4/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T07:47:00Z","updated_at":"2020-07-09T07:47:00Z","author_association":"NONE","body":"yes","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/655964960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656022908","html_url":"https://github.com/apache/hudi/pull/1809#issuecomment-656022908","issue_url":"https://api.github.com/repos/apache/hudi/issues/1809","id":656022908,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjAyMjkwOA==","user":{"login":"tooptoop4","id":33283496,"node_id":"MDQ6VXNlcjMzMjgzNDk2","avatar_url":"https://avatars.githubusercontent.com/u/33283496?v=4","gravatar_id":"","url":"https://api.github.com/users/tooptoop4","html_url":"https://github.com/tooptoop4","followers_url":"https://api.github.com/users/tooptoop4/followers","following_url":"https://api.github.com/users/tooptoop4/following{/other_user}","gists_url":"https://api.github.com/users/tooptoop4/gists{/gist_id}","starred_url":"https://api.github.com/users/tooptoop4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tooptoop4/subscriptions","organizations_url":"https://api.github.com/users/tooptoop4/orgs","repos_url":"https://api.github.com/users/tooptoop4/repos","events_url":"https://api.github.com/users/tooptoop4/events{/privacy}","received_events_url":"https://api.github.com/users/tooptoop4/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T09:35:49Z","updated_at":"2020-07-09T09:35:49Z","author_association":"NONE","body":"@satishkotha I just use HoodieParquetInputFormat","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656022908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656067835","html_url":"https://github.com/apache/hudi/pull/1567#issuecomment-656067835","issue_url":"https://api.github.com/repos/apache/hudi/issues/1567","id":656067835,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjA2NzgzNQ==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T11:16:47Z","updated_at":"2020-07-09T11:16:47Z","author_association":"CONTRIBUTOR","body":"@hddong This PR has conflicts files.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656067835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656086937","html_url":"https://github.com/apache/hudi/pull/1810#issuecomment-656086937","issue_url":"https://api.github.com/repos/apache/hudi/issues/1810","id":656086937,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjA4NjkzNw==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T12:03:19Z","updated_at":"2020-07-09T12:03:19Z","author_association":"CONTRIBUTOR","body":"> @lw309637554 Thanks for your contribution! Overall looks good.\r\n> Open to discuss where to put these modules. I vote to put the base class to `hudi-common` and have separate modules for different query engines.\r\n\r\nthanks so much for your very valuable suggestion.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656086937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656092089","html_url":"https://github.com/apache/hudi/pull/1810#issuecomment-656092089","issue_url":"https://api.github.com/repos/apache/hudi/issues/1810","id":656092089,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjA5MjA4OQ==","user":{"login":"lw309637554","id":8501994,"node_id":"MDQ6VXNlcjg1MDE5OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8501994?v=4","gravatar_id":"","url":"https://api.github.com/users/lw309637554","html_url":"https://github.com/lw309637554","followers_url":"https://api.github.com/users/lw309637554/followers","following_url":"https://api.github.com/users/lw309637554/following{/other_user}","gists_url":"https://api.github.com/users/lw309637554/gists{/gist_id}","starred_url":"https://api.github.com/users/lw309637554/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lw309637554/subscriptions","organizations_url":"https://api.github.com/users/lw309637554/orgs","repos_url":"https://api.github.com/users/lw309637554/repos","events_url":"https://api.github.com/users/lw309637554/events{/privacy}","received_events_url":"https://api.github.com/users/lw309637554/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T12:15:05Z","updated_at":"2020-07-09T12:15:05Z","author_association":"CONTRIBUTOR","body":"@vinothchandar  I  meet some mistakes, just opened a new PR.  \r\nIn the new PR, I fix the build break. This is my thinks about backwards compatible .\r\na.  about users code compatible: because do not modify the hivesync class name. Users do not need to modify these old code.\r\nb. about users  pom dependency compatible: because do not modify the module name hudi-hive-sync. Users not need to modify pom dependency\r\nc. about users local jar files compatible: if users's local jars is do not shaded the hudi-hive-sync's \r\nIndirect dependence. Old users just need add the hudi-sync-common.jar to their directory. Just like hudi-utilities-bundle modiry in this PR.\r\nReply: we can do this to put the hudi-sync-common base class to hudi-common\r\nd. about sync parameters, just add new parameters. Compatible is ok.\r\n\r\nwhat about your suggestion?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656092089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656105631","html_url":"https://github.com/apache/hudi/issues/1812#issuecomment-656105631","issue_url":"https://api.github.com/repos/apache/hudi/issues/1812","id":656105631,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjEwNTYzMQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T12:45:22Z","updated_at":"2020-07-09T12:45:22Z","author_association":"MEMBER","body":"#1760  currently has the specific fix for this. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656105631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656109179","html_url":"https://github.com/apache/hudi/issues/1812#issuecomment-656109179","issue_url":"https://api.github.com/repos/apache/hudi/issues/1812","id":656109179,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjEwOTE3OQ==","user":{"login":"sbernauer","id":29303194,"node_id":"MDQ6VXNlcjI5MzAzMTk0","avatar_url":"https://avatars.githubusercontent.com/u/29303194?v=4","gravatar_id":"","url":"https://api.github.com/users/sbernauer","html_url":"https://github.com/sbernauer","followers_url":"https://api.github.com/users/sbernauer/followers","following_url":"https://api.github.com/users/sbernauer/following{/other_user}","gists_url":"https://api.github.com/users/sbernauer/gists{/gist_id}","starred_url":"https://api.github.com/users/sbernauer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbernauer/subscriptions","organizations_url":"https://api.github.com/users/sbernauer/orgs","repos_url":"https://api.github.com/users/sbernauer/repos","events_url":"https://api.github.com/users/sbernauer/events{/privacy}","received_events_url":"https://api.github.com/users/sbernauer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T12:53:07Z","updated_at":"2020-07-09T12:53:07Z","author_association":"CONTRIBUTOR","body":"Thanks a lot for the fast response!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656109179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656126156","html_url":"https://github.com/apache/hudi/pull/1727#issuecomment-656126156","issue_url":"https://api.github.com/repos/apache/hudi/issues/1727","id":656126156,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjEyNjE1Ng==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T13:25:58Z","updated_at":"2020-07-09T13:25:58Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @smarthi @vinothchandar This PR is ready for review, please take a look when free.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656126156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656228790","html_url":"https://github.com/apache/hudi/issues/1790#issuecomment-656228790","issue_url":"https://api.github.com/repos/apache/hudi/issues/1790","id":656228790,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjIyODc5MA==","user":{"login":"zuyanton","id":67354813,"node_id":"MDQ6VXNlcjY3MzU0ODEz","avatar_url":"https://avatars.githubusercontent.com/u/67354813?v=4","gravatar_id":"","url":"https://api.github.com/users/zuyanton","html_url":"https://github.com/zuyanton","followers_url":"https://api.github.com/users/zuyanton/followers","following_url":"https://api.github.com/users/zuyanton/following{/other_user}","gists_url":"https://api.github.com/users/zuyanton/gists{/gist_id}","starred_url":"https://api.github.com/users/zuyanton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zuyanton/subscriptions","organizations_url":"https://api.github.com/users/zuyanton/orgs","repos_url":"https://api.github.com/users/zuyanton/repos","events_url":"https://api.github.com/users/zuyanton/events{/privacy}","received_events_url":"https://api.github.com/users/zuyanton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T16:32:34Z","updated_at":"2020-07-09T16:32:34Z","author_association":"NONE","body":"I was able to confirm that master branch fixed the issue however not without difficulties. More specifically:  \r\nWhen I deploy master branch to EMR and run select query in spark-shell, I get ```NoSuchMethodException HiveDecimalWritable.enforcePrecisionScale``` at [this line](https://github.com/apache/hudi/blob/master/hudi-hadoop-mr/src/main/java/org/apache/hudi/hadoop/utils/HoodieRealtimeRecordReaderUtils.java#L213). I tried to lookup where spark shell grabs that class definition via   \r\n```\r\nscala> classOf[org.apache.hadoop.hive.serde2.io.HiveDecimalWritable].getProtectionDomain\r\nres3: java.security.ProtectionDomain =\r\nProtectionDomain  (file:/usr/lib/spark/jars/hive-exec-1.2.1-spark2-amzn-1.jar <no signer certificates>)\r\n sun.misc.Launcher$AppClassLoader@36f6e879\r\n <no principals>\r\n java.security.Permissions@49e335a5 (\r\n (\"java.io.FilePermission\" \"/usr/lib/spark/jars/hive-exec-1.2.1-spark2-amzn-1.jar\" \"read\")\r\n (\"java.lang.RuntimePermission\" \"exitVM\")\r\n)\r\n```   \r\nand it looks like it comes from outdated hive-exec-1.2.1-spark2-amzn-1.jar which indeed does not have \"enforcePrecisionScale\" method. I tried  uploading  hive-storage-api (dependency of hive-exec and actual package containing HiveDecimalWritable definition)  to the cluster and referencing it to spark-shell via ```--jar /some_temp_location/hive-storage-api-2.3.1.jar```  - didn't help. The only thing that worked for me is adding hive-storage-api-2.3.1.jar directly to ```/usr/lib/spark/jars``` folder, which does not seems right to me.  @garyli1019 have you seen similar issues with [your change](https://github.com/apache/hudi/commit/37838cea6094ddc66191df42e8b2c84f132d1623#diff-68b6e6f1a2c961fea254a2fc3b93ac23R213)   ? is it specific to AWS EMR  Spark ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656228790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656244633","html_url":"https://github.com/apache/hudi/pull/1809#issuecomment-656244633","issue_url":"https://api.github.com/repos/apache/hudi/issues/1809","id":656244633,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjI0NDYzMw==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T17:06:05Z","updated_at":"2020-07-09T17:06:05Z","author_association":"MEMBER","body":"> @satishkotha I just use HoodieParquetInputFormat\r\n\r\nThat's great. You don't need to apply this change.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656244633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656285157","html_url":"https://github.com/apache/hudi/issues/1811#issuecomment-656285157","issue_url":"https://api.github.com/repos/apache/hudi/issues/1811","id":656285157,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjI4NTE1Nw==","user":{"login":"prashanthpdesai","id":60724849,"node_id":"MDQ6VXNlcjYwNzI0ODQ5","avatar_url":"https://avatars.githubusercontent.com/u/60724849?v=4","gravatar_id":"","url":"https://api.github.com/users/prashanthpdesai","html_url":"https://github.com/prashanthpdesai","followers_url":"https://api.github.com/users/prashanthpdesai/followers","following_url":"https://api.github.com/users/prashanthpdesai/following{/other_user}","gists_url":"https://api.github.com/users/prashanthpdesai/gists{/gist_id}","starred_url":"https://api.github.com/users/prashanthpdesai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashanthpdesai/subscriptions","organizations_url":"https://api.github.com/users/prashanthpdesai/orgs","repos_url":"https://api.github.com/users/prashanthpdesai/repos","events_url":"https://api.github.com/users/prashanthpdesai/events{/privacy}","received_events_url":"https://api.github.com/users/prashanthpdesai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T18:33:24Z","updated_at":"2020-07-09T18:33:24Z","author_association":"NONE","body":"@vc:Sure vc will update the version 2.4 and give a try. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656285157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656320283","html_url":"https://github.com/apache/hudi/issues/1798#issuecomment-656320283","issue_url":"https://api.github.com/repos/apache/hudi/issues/1798","id":656320283,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjMyMDI4Mw==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T19:54:17Z","updated_at":"2020-07-09T19:54:17Z","author_association":"CONTRIBUTOR","body":"@zherenyu831 yes I am also confused by the difference in number of files in the two experiments you have provided. Are both these queries on the same dataset and have same number of files underneath ?\r\n\r\nRegardless, the listing happens internally through Spark's `parquet` data source. The only difference is Hudi passes `HoodieROTablePathFilter` to spark's implementation to list only the latest files. At this point I don't understand why that would cause difference in these two queries which you have mentioned, but we would be happy to look into it.\r\n\r\nCan you provide a snapshot of your Spark history server showing the difference in time in Spark's listing for these two queries on the same table ?\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656320283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656406069","html_url":"https://github.com/apache/hudi/pull/1406#issuecomment-656406069","issue_url":"https://api.github.com/repos/apache/hudi/issues/1406","id":656406069,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjQwNjA2OQ==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-09T23:54:39Z","updated_at":"2020-07-09T23:54:39Z","author_association":"CONTRIBUTOR","body":"@aditanase  I will try to reproduce it sometime this week, but to unblock yourself can you simply use **ArrayType(StringType)** schema instead of **StructType** within **ArrayType** ?\r\n\r\nIf you just need one string field in the array then you don't really need a struct type right ?\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656406069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656524434","html_url":"https://github.com/apache/hudi/pull/1567#issuecomment-656524434","issue_url":"https://api.github.com/repos/apache/hudi/issues/1567","id":656524434,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjUyNDQzNA==","user":{"login":"hddong","id":17537134,"node_id":"MDQ6VXNlcjE3NTM3MTM0","avatar_url":"https://avatars.githubusercontent.com/u/17537134?v=4","gravatar_id":"","url":"https://api.github.com/users/hddong","html_url":"https://github.com/hddong","followers_url":"https://api.github.com/users/hddong/followers","following_url":"https://api.github.com/users/hddong/following{/other_user}","gists_url":"https://api.github.com/users/hddong/gists{/gist_id}","starred_url":"https://api.github.com/users/hddong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hddong/subscriptions","organizations_url":"https://api.github.com/users/hddong/orgs","repos_url":"https://api.github.com/users/hddong/repos","events_url":"https://api.github.com/users/hddong/events{/privacy}","received_events_url":"https://api.github.com/users/hddong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T07:15:47Z","updated_at":"2020-07-10T07:15:47Z","author_association":"CONTRIBUTOR","body":"@yanghua had rebase this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656524434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656567091","html_url":"https://github.com/apache/hudi/pull/1648#issuecomment-656567091","issue_url":"https://api.github.com/repos/apache/hudi/issues/1648","id":656567091,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjU2NzA5MQ==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T08:56:21Z","updated_at":"2020-07-10T08:56:21Z","author_association":"CONTRIBUTOR","body":"@nsivabalan Let us merge this :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656567091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656567320","html_url":"https://github.com/apache/hudi/pull/1562#issuecomment-656567320","issue_url":"https://api.github.com/repos/apache/hudi/issues/1562","id":656567320,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjU2NzMyMA==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T08:56:51Z","updated_at":"2020-07-10T08:56:51Z","author_association":"CONTRIBUTOR","body":"@n3nash Please take a pass. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656567320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656573278","html_url":"https://github.com/apache/hudi/issues/1586#issuecomment-656573278","issue_url":"https://api.github.com/repos/apache/hudi/issues/1586","id":656573278,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjU3MzI3OA==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T09:10:17Z","updated_at":"2020-07-10T09:10:52Z","author_association":"CONTRIBUTOR","body":"Hmm strange @nandurj , after setting the above 2 properties, things should work as expected. Can you help me with which version of Hudi you are using and how are you trying to run the job? Can you add logs in DeltaSync constructor to see which keyGenerator class is actually getting initialised. This looks like more of misconfiguration issue than code issue. Can you confirm you are adding the properties in the right config file which is getting used by the job?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656573278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656577231","html_url":"https://github.com/apache/hudi/issues/1806#issuecomment-656577231","issue_url":"https://api.github.com/repos/apache/hudi/issues/1806","id":656577231,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjU3NzIzMQ==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T09:19:13Z","updated_at":"2020-07-10T09:19:13Z","author_association":"CONTRIBUTOR","body":"Correct @sbernauer , HUDI-803 takes care of this issue. @vinothchandar We can close this issue. :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656577231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656593588","html_url":"https://github.com/apache/hudi/pull/1242#issuecomment-656593588","issue_url":"https://api.github.com/repos/apache/hudi/issues/1242","id":656593588,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjU5MzU4OA==","user":{"login":"hddong","id":17537134,"node_id":"MDQ6VXNlcjE3NTM3MTM0","avatar_url":"https://avatars.githubusercontent.com/u/17537134?v=4","gravatar_id":"","url":"https://api.github.com/users/hddong","html_url":"https://github.com/hddong","followers_url":"https://api.github.com/users/hddong/followers","following_url":"https://api.github.com/users/hddong/following{/other_user}","gists_url":"https://api.github.com/users/hddong/gists{/gist_id}","starred_url":"https://api.github.com/users/hddong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hddong/subscriptions","organizations_url":"https://api.github.com/users/hddong/orgs","repos_url":"https://api.github.com/users/hddong/repos","events_url":"https://api.github.com/users/hddong/events{/privacy}","received_events_url":"https://api.github.com/users/hddong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T09:58:37Z","updated_at":"2020-07-10T09:58:37Z","author_association":"CONTRIBUTOR","body":"@n3nash : Had rebase this PR and create a new jira https://issues.apache.org/jira/browse/HUDI-1085.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656593588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656616321","html_url":"https://github.com/apache/hudi/issues/1791#issuecomment-656616321","issue_url":"https://api.github.com/repos/apache/hudi/issues/1791","id":656616321,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjYxNjMyMQ==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T10:58:46Z","updated_at":"2020-07-10T10:58:46Z","author_association":"CONTRIBUTOR","body":"@vinothchandar Yes we do have tasks already filed - https://issues.apache.org/jira/browse/HUDI-766, https://issues.apache.org/jira/browse/HUDI-769. Resuming the work on these from today. :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656616321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656640264","html_url":"https://github.com/apache/hudi/issues/528#issuecomment-656640264","issue_url":"https://api.github.com/repos/apache/hudi/issues/528","id":656640264,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjY0MDI2NA==","user":{"login":"kirqz23","id":22114492,"node_id":"MDQ6VXNlcjIyMTE0NDky","avatar_url":"https://avatars.githubusercontent.com/u/22114492?v=4","gravatar_id":"","url":"https://api.github.com/users/kirqz23","html_url":"https://github.com/kirqz23","followers_url":"https://api.github.com/users/kirqz23/followers","following_url":"https://api.github.com/users/kirqz23/following{/other_user}","gists_url":"https://api.github.com/users/kirqz23/gists{/gist_id}","starred_url":"https://api.github.com/users/kirqz23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kirqz23/subscriptions","organizations_url":"https://api.github.com/users/kirqz23/orgs","repos_url":"https://api.github.com/users/kirqz23/repos","events_url":"https://api.github.com/users/kirqz23/events{/privacy}","received_events_url":"https://api.github.com/users/kirqz23/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T12:04:07Z","updated_at":"2020-07-10T12:04:07Z","author_association":"NONE","body":"@pratyakshsharma  Is it already documented somewhere? I have similar use case with hudi dataset on AWS EMR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656640264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656696996","html_url":"https://github.com/apache/hudi/issues/528#issuecomment-656696996","issue_url":"https://api.github.com/repos/apache/hudi/issues/528","id":656696996,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjY5Njk5Ng==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T14:10:49Z","updated_at":"2020-07-10T14:10:49Z","author_association":"CONTRIBUTOR","body":"@kirkuz The documentation was a bit delayed due to some reasons. I will be raising a PR for updating the documentation by tomorrow positively. In the mean time, I can try helping you here as much as I can. :) Please let me know. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656696996/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656738766","html_url":"https://github.com/apache/hudi/pull/1793#issuecomment-656738766","issue_url":"https://api.github.com/repos/apache/hudi/issues/1793","id":656738766,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjczODc2Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T15:34:59Z","updated_at":"2020-07-10T15:34:59Z","author_association":"MEMBER","body":"@nsivabalan feel free to merge, after you resolve conflicts & squash","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656738766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656772241","html_url":"https://github.com/apache/hudi/issues/1787#issuecomment-656772241","issue_url":"https://api.github.com/repos/apache/hudi/issues/1787","id":656772241,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Njc3MjI0MQ==","user":{"login":"asheeshgarg","id":4348671,"node_id":"MDQ6VXNlcjQzNDg2NzE=","avatar_url":"https://avatars.githubusercontent.com/u/4348671?v=4","gravatar_id":"","url":"https://api.github.com/users/asheeshgarg","html_url":"https://github.com/asheeshgarg","followers_url":"https://api.github.com/users/asheeshgarg/followers","following_url":"https://api.github.com/users/asheeshgarg/following{/other_user}","gists_url":"https://api.github.com/users/asheeshgarg/gists{/gist_id}","starred_url":"https://api.github.com/users/asheeshgarg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asheeshgarg/subscriptions","organizations_url":"https://api.github.com/users/asheeshgarg/orgs","repos_url":"https://api.github.com/users/asheeshgarg/repos","events_url":"https://api.github.com/users/asheeshgarg/events{/privacy}","received_events_url":"https://api.github.com/users/asheeshgarg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T16:41:46Z","updated_at":"2020-07-10T16:41:46Z","author_association":"NONE","body":"@vinothchandar sorry for the delay I will try to pull the logs and attach.\r\n\r\nAnother quick question I have I have created external table using presto for the data I have written to s3 using\r\nCREATE TABLE test.hoodie_test2(\r\n\"_hoodie_commit_time\" varchar,\r\n\"_hoodie_commit_seqno\" varchar,\r\n\"_hoodie_record_key\" varchar,\r\n\"_hoodie_partition_path\" varchar,\r\n\"_hoodie_file_name\" varchar,\r\n\"column\" varchar,\r\n\"data_type\" varchar,\r\n\"is_data_type_inferred\" varchar,\r\n\"completeness\" double,\r\n\"approximate_num_distinct_values\" bigint,\r\n\"histogram\" array(row(count bigint, ratio double, value varchar)),\r\n\"mean\" double,\r\n\"maximum\" double,\r\n\"minimum\" double,\r\n\"sum\" double,\r\n\"std_dev\" double,\r\napprox_percentiles ARRAY <double> )\r\nWITH (\r\n    format='parquet',\r\n    external_location='s3a://tempwrite/hudi/'\r\n)\r\n\r\nIt worked fine and able to query it with presto.\r\nI haven't added the jar presto_install>/plugin/hive-hadoop2/hudi-presto-bundle.jar still it work fine I think it reading the parquet files directly? Is it the right way to do it or need to be done differently?\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656772241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656807404","html_url":"https://github.com/apache/hudi/issues/1780#issuecomment-656807404","issue_url":"https://api.github.com/repos/apache/hudi/issues/1780","id":656807404,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjgwNzQwNA==","user":{"login":"zuyanton","id":67354813,"node_id":"MDQ6VXNlcjY3MzU0ODEz","avatar_url":"https://avatars.githubusercontent.com/u/67354813?v=4","gravatar_id":"","url":"https://api.github.com/users/zuyanton","html_url":"https://github.com/zuyanton","followers_url":"https://api.github.com/users/zuyanton/followers","following_url":"https://api.github.com/users/zuyanton/following{/other_user}","gists_url":"https://api.github.com/users/zuyanton/gists{/gist_id}","starred_url":"https://api.github.com/users/zuyanton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zuyanton/subscriptions","organizations_url":"https://api.github.com/users/zuyanton/orgs","repos_url":"https://api.github.com/users/zuyanton/repos","events_url":"https://api.github.com/users/zuyanton/events{/privacy}","received_events_url":"https://api.github.com/users/zuyanton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T17:59:42Z","updated_at":"2020-07-10T17:59:42Z","author_association":"NONE","body":"@vinothchandar  Thank you for update. you are correct. Writes were done with 0.5.3 while hive still pointing to 0.5.0","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656807404/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656843932","html_url":"https://github.com/apache/hudi/issues/528#issuecomment-656843932","issue_url":"https://api.github.com/repos/apache/hudi/issues/528","id":656843932,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Njg0MzkzMg==","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T19:10:18Z","updated_at":"2020-07-10T19:10:18Z","author_association":"CONTRIBUTOR","body":"@kirkuz raised a PR for the same - https://github.com/apache/hudi/pull/1816. You may check this for any help. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656843932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656911156","html_url":"https://github.com/apache/hudi/issues/1775#issuecomment-656911156","issue_url":"https://api.github.com/repos/apache/hudi/issues/1775","id":656911156,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NjkxMTE1Ng==","user":{"login":"prashanthpdesai","id":60724849,"node_id":"MDQ6VXNlcjYwNzI0ODQ5","avatar_url":"https://avatars.githubusercontent.com/u/60724849?v=4","gravatar_id":"","url":"https://api.github.com/users/prashanthpdesai","html_url":"https://github.com/prashanthpdesai","followers_url":"https://api.github.com/users/prashanthpdesai/followers","following_url":"https://api.github.com/users/prashanthpdesai/following{/other_user}","gists_url":"https://api.github.com/users/prashanthpdesai/gists{/gist_id}","starred_url":"https://api.github.com/users/prashanthpdesai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashanthpdesai/subscriptions","organizations_url":"https://api.github.com/users/prashanthpdesai/orgs","repos_url":"https://api.github.com/users/prashanthpdesai/repos","events_url":"https://api.github.com/users/prashanthpdesai/events{/privacy}","received_events_url":"https://api.github.com/users/prashanthpdesai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-10T22:00:55Z","updated_at":"2020-07-10T22:00:55Z","author_association":"NONE","body":"@bhasudha : it is working for Spark 2.4 version Thank you .. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656911156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656948491","html_url":"https://github.com/apache/hudi/pull/1817#issuecomment-656948491","issue_url":"https://api.github.com/repos/apache/hudi/issues/1817","id":656948491,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Njk0ODQ5MQ==","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-11T00:24:33Z","updated_at":"2020-07-11T00:24:33Z","author_association":"CONTRIBUTOR","body":"@garyli1019 Please take a look at this and provide feedback","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656948491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656994344","html_url":"https://github.com/apache/hudi/issues/528#issuecomment-656994344","issue_url":"https://api.github.com/repos/apache/hudi/issues/528","id":656994344,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Njk5NDM0NA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-11T05:34:31Z","updated_at":"2020-07-11T05:34:31Z","author_association":"MEMBER","body":"@pratyakshsharma  thanks for the followup!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656994344/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656994535","html_url":"https://github.com/apache/hudi/issues/1775#issuecomment-656994535","issue_url":"https://api.github.com/repos/apache/hudi/issues/1775","id":656994535,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Njk5NDUzNQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-11T05:36:37Z","updated_at":"2020-07-11T05:36:37Z","author_association":"MEMBER","body":"Great. Please close the issue if its now resolved","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/656994535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/657011592","html_url":"https://github.com/apache/hudi/pull/1769#issuecomment-657011592","issue_url":"https://api.github.com/repos/apache/hudi/issues/1769","id":657011592,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NzAxMTU5Mg==","user":{"login":"shenh062326","id":9527867,"node_id":"MDQ6VXNlcjk1Mjc4Njc=","avatar_url":"https://avatars.githubusercontent.com/u/9527867?v=4","gravatar_id":"","url":"https://api.github.com/users/shenh062326","html_url":"https://github.com/shenh062326","followers_url":"https://api.github.com/users/shenh062326/followers","following_url":"https://api.github.com/users/shenh062326/following{/other_user}","gists_url":"https://api.github.com/users/shenh062326/gists{/gist_id}","starred_url":"https://api.github.com/users/shenh062326/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenh062326/subscriptions","organizations_url":"https://api.github.com/users/shenh062326/orgs","repos_url":"https://api.github.com/users/shenh062326/repos","events_url":"https://api.github.com/users/shenh062326/events{/privacy}","received_events_url":"https://api.github.com/users/shenh062326/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-11T07:59:43Z","updated_at":"2020-07-11T07:59:43Z","author_association":"CONTRIBUTOR","body":"> > > @shenh062326 Thanks for you contributing! would you please clarify why put the metrics in a separate section?\r\n> > \r\n> > \r\n> > @leesf This was discussed in [#1672 (comment)](https://github.com/apache/hudi/pull/1672#issuecomment-634841513)\r\n> \r\n> @xushiyan ack, seems like we would also move Datadog here?\r\n\r\nDone.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/657011592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/657042267","html_url":"https://github.com/apache/hudi/pull/1821#issuecomment-657042267","issue_url":"https://api.github.com/repos/apache/hudi/issues/1821","id":657042267,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NzA0MjI2Nw==","user":{"login":"GuoPhilipse","id":46367746,"node_id":"MDQ6VXNlcjQ2MzY3NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/46367746?v=4","gravatar_id":"","url":"https://api.github.com/users/GuoPhilipse","html_url":"https://github.com/GuoPhilipse","followers_url":"https://api.github.com/users/GuoPhilipse/followers","following_url":"https://api.github.com/users/GuoPhilipse/following{/other_user}","gists_url":"https://api.github.com/users/GuoPhilipse/gists{/gist_id}","starred_url":"https://api.github.com/users/GuoPhilipse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GuoPhilipse/subscriptions","organizations_url":"https://api.github.com/users/GuoPhilipse/orgs","repos_url":"https://api.github.com/users/GuoPhilipse/repos","events_url":"https://api.github.com/users/GuoPhilipse/events{/privacy}","received_events_url":"https://api.github.com/users/GuoPhilipse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-11T10:53:48Z","updated_at":"2020-07-11T10:53:48Z","author_association":"MEMBER","body":"Not sure if a minor improvement like this need fire a JIRA. will add it if needed.\r\ncc @leesf \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/657042267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]