[{"url":"https://api.github.com/repos/apache/systemds/issues/comments/392661654","html_url":"https://github.com/apache/systemds/pull/771#issuecomment-392661654","issue_url":"https://api.github.com/repos/apache/systemds/issues/771","id":392661654,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjY2MTY1NA==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-29T06:01:43Z","updated_at":"2018-05-29T06:01:43Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @EdgarLGB for the initial version and incorporating the earlier feedback. I think this is a good starting point for additional improvements. During merge, I will cleanup a couple of minor issues (warnings, array handling, matrix slicing), which are mostly just syntactic. \r\n\r\nLooking forward there are a couple of things we should address next (before moving to distributed backends):\r\n\r\n1) Locking and Synchronization: I agree, the current synchronization schemes doesn't seem very nice and extensible. After thinking about it, maybe we could use the following simple queuing model: Let every worker have a input queue and all workers a shared output queue. By using blocking queues, the workers could simply dequeue the next model (and block until these are available without any other synchronization). In case of a synchronous PS, the PS would wait for all N worker outputs, aggregate and subsequently place the updated model in each workers queue. Similarly, for an asynchronous PS, the PS takes each worker output, aggregates it and puts the updated model immediately into the workers queue. This way, we get extensibility and do not have to worry about anomalies, like pull-after-push. \r\n\r\n2) Error handling: While playing around with the locking scheme of the parameter server, I encountered unrelated errors that led to the parameter server hanging. We need to make sure all worker errors are correctly propagated so that we can guarantee termination.\r\n\r\n3) Usage: To simplify the usage of parameter servers, it might be very useful to allow the passing of function pointers alternatively to function names and namespaces. For example, there is a test that uses a namespace that is defined in a different file which might lead to inconsistencies.\r\n\r\n4) Functions per Worker: If I did not miss it, we currently don't create deep copies of functions per worker. This is problematic in terms of potential conflicts of concurrent dynamic recompilation, potential file name conflicts, and, over-provisioning CPU resources.  \r\n","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/392661654/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393254121","html_url":"https://github.com/apache/systemds/pull/772#issuecomment-393254121","issue_url":"https://api.github.com/repos/apache/systemds/issues/772","id":393254121,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MzI1NDEyMQ==","user":{"login":"akchinSTC","id":13340013,"node_id":"MDQ6VXNlcjEzMzQwMDEz","avatar_url":"https://avatars.githubusercontent.com/u/13340013?v=4","gravatar_id":"","url":"https://api.github.com/users/akchinSTC","html_url":"https://github.com/akchinSTC","followers_url":"https://api.github.com/users/akchinSTC/followers","following_url":"https://api.github.com/users/akchinSTC/following{/other_user}","gists_url":"https://api.github.com/users/akchinSTC/gists{/gist_id}","starred_url":"https://api.github.com/users/akchinSTC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akchinSTC/subscriptions","organizations_url":"https://api.github.com/users/akchinSTC/orgs","repos_url":"https://api.github.com/users/akchinSTC/repos","events_url":"https://api.github.com/users/akchinSTC/events{/privacy}","received_events_url":"https://api.github.com/users/akchinSTC/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-30T17:43:48Z","updated_at":"2018-05-30T17:43:48Z","author_association":"CONTRIBUTOR","body":"Can an Admin verify this patch?","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393254121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393316936","html_url":"https://github.com/apache/systemds/pull/773#issuecomment-393316936","issue_url":"https://api.github.com/repos/apache/systemds/issues/773","id":393316936,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MzMxNjkzNg==","user":{"login":"akchinSTC","id":13340013,"node_id":"MDQ6VXNlcjEzMzQwMDEz","avatar_url":"https://avatars.githubusercontent.com/u/13340013?v=4","gravatar_id":"","url":"https://api.github.com/users/akchinSTC","html_url":"https://github.com/akchinSTC","followers_url":"https://api.github.com/users/akchinSTC/followers","following_url":"https://api.github.com/users/akchinSTC/following{/other_user}","gists_url":"https://api.github.com/users/akchinSTC/gists{/gist_id}","starred_url":"https://api.github.com/users/akchinSTC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akchinSTC/subscriptions","organizations_url":"https://api.github.com/users/akchinSTC/orgs","repos_url":"https://api.github.com/users/akchinSTC/repos","events_url":"https://api.github.com/users/akchinSTC/events{/privacy}","received_events_url":"https://api.github.com/users/akchinSTC/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-30T20:57:39Z","updated_at":"2018-05-30T20:57:39Z","author_association":"CONTRIBUTOR","body":"Can an Admin verify this patch?","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393316936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393328322","html_url":"https://github.com/apache/systemds/pull/773#issuecomment-393328322","issue_url":"https://api.github.com/repos/apache/systemds/issues/773","id":393328322,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MzMyODMyMg==","user":{"login":"niketanpansare","id":11686380,"node_id":"MDQ6VXNlcjExNjg2Mzgw","avatar_url":"https://avatars.githubusercontent.com/u/11686380?v=4","gravatar_id":"","url":"https://api.github.com/users/niketanpansare","html_url":"https://github.com/niketanpansare","followers_url":"https://api.github.com/users/niketanpansare/followers","following_url":"https://api.github.com/users/niketanpansare/following{/other_user}","gists_url":"https://api.github.com/users/niketanpansare/gists{/gist_id}","starred_url":"https://api.github.com/users/niketanpansare/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketanpansare/subscriptions","organizations_url":"https://api.github.com/users/niketanpansare/orgs","repos_url":"https://api.github.com/users/niketanpansare/repos","events_url":"https://api.github.com/users/niketanpansare/events{/privacy}","received_events_url":"https://api.github.com/users/niketanpansare/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-30T21:38:59Z","updated_at":"2018-05-30T21:38:59Z","author_association":"CONTRIBUTOR","body":"I will try to split this PR into smaller commits","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393328322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393337307","html_url":"https://github.com/apache/systemds/pull/773#issuecomment-393337307","issue_url":"https://api.github.com/repos/apache/systemds/issues/773","id":393337307,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MzMzNzMwNw==","user":{"login":"nakul02","id":5394361,"node_id":"MDQ6VXNlcjUzOTQzNjE=","avatar_url":"https://avatars.githubusercontent.com/u/5394361?v=4","gravatar_id":"","url":"https://api.github.com/users/nakul02","html_url":"https://github.com/nakul02","followers_url":"https://api.github.com/users/nakul02/followers","following_url":"https://api.github.com/users/nakul02/following{/other_user}","gists_url":"https://api.github.com/users/nakul02/gists{/gist_id}","starred_url":"https://api.github.com/users/nakul02/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nakul02/subscriptions","organizations_url":"https://api.github.com/users/nakul02/orgs","repos_url":"https://api.github.com/users/nakul02/repos","events_url":"https://api.github.com/users/nakul02/events{/privacy}","received_events_url":"https://api.github.com/users/nakul02/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-30T22:15:20Z","updated_at":"2018-05-30T22:15:20Z","author_association":"MEMBER","body":"I haven't taken a look at this, but maybe you could wait till jcuda 9.1 or 9.2 is out and then modify this PR accordingly?\r\nTake a look at https://github.com/jcuda/jcuda-main/issues/25","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393337307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393341780","html_url":"https://github.com/apache/systemds/pull/773#issuecomment-393341780","issue_url":"https://api.github.com/repos/apache/systemds/issues/773","id":393341780,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MzM0MTc4MA==","user":{"login":"niketanpansare","id":11686380,"node_id":"MDQ6VXNlcjExNjg2Mzgw","avatar_url":"https://avatars.githubusercontent.com/u/11686380?v=4","gravatar_id":"","url":"https://api.github.com/users/niketanpansare","html_url":"https://github.com/niketanpansare","followers_url":"https://api.github.com/users/niketanpansare/followers","following_url":"https://api.github.com/users/niketanpansare/following{/other_user}","gists_url":"https://api.github.com/users/niketanpansare/gists{/gist_id}","starred_url":"https://api.github.com/users/niketanpansare/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketanpansare/subscriptions","organizations_url":"https://api.github.com/users/niketanpansare/orgs","repos_url":"https://api.github.com/users/niketanpansare/repos","events_url":"https://api.github.com/users/niketanpansare/events{/privacy}","received_events_url":"https://api.github.com/users/niketanpansare/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-30T22:36:39Z","updated_at":"2018-05-30T22:36:39Z","author_association":"CONTRIBUTOR","body":"I wanted to break this PR into smaller commits and have upgraded to CUDA 9 in the commit: https://github.com/apache/systemml/commit/72fd8fda39062c9059e60d054f263ea1d92bf517 ... We can switch to 9.1 or 9.2 when it is released. Upgrading to CUDA 9 is blocker for many kernels: lstm, batch norm (forward and backward).","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393341780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393342046","html_url":"https://github.com/apache/systemds/pull/773#issuecomment-393342046","issue_url":"https://api.github.com/repos/apache/systemds/issues/773","id":393342046,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MzM0MjA0Ng==","user":{"login":"nakul02","id":5394361,"node_id":"MDQ6VXNlcjUzOTQzNjE=","avatar_url":"https://avatars.githubusercontent.com/u/5394361?v=4","gravatar_id":"","url":"https://api.github.com/users/nakul02","html_url":"https://github.com/nakul02","followers_url":"https://api.github.com/users/nakul02/followers","following_url":"https://api.github.com/users/nakul02/following{/other_user}","gists_url":"https://api.github.com/users/nakul02/gists{/gist_id}","starred_url":"https://api.github.com/users/nakul02/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nakul02/subscriptions","organizations_url":"https://api.github.com/users/nakul02/orgs","repos_url":"https://api.github.com/users/nakul02/repos","events_url":"https://api.github.com/users/nakul02/events{/privacy}","received_events_url":"https://api.github.com/users/nakul02/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-30T22:37:43Z","updated_at":"2018-05-30T22:37:43Z","author_association":"MEMBER","body":"Ok, let us upgrade to jcuda >= 9.1 after contents of this PR are merged in. ","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393342046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393349494","html_url":"https://github.com/apache/systemds/pull/772#issuecomment-393349494","issue_url":"https://api.github.com/repos/apache/systemds/issues/772","id":393349494,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MzM0OTQ5NA==","user":{"login":"akchinSTC","id":13340013,"node_id":"MDQ6VXNlcjEzMzQwMDEz","avatar_url":"https://avatars.githubusercontent.com/u/13340013?v=4","gravatar_id":"","url":"https://api.github.com/users/akchinSTC","html_url":"https://github.com/akchinSTC","followers_url":"https://api.github.com/users/akchinSTC/followers","following_url":"https://api.github.com/users/akchinSTC/following{/other_user}","gists_url":"https://api.github.com/users/akchinSTC/gists{/gist_id}","starred_url":"https://api.github.com/users/akchinSTC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akchinSTC/subscriptions","organizations_url":"https://api.github.com/users/akchinSTC/orgs","repos_url":"https://api.github.com/users/akchinSTC/repos","events_url":"https://api.github.com/users/akchinSTC/events{/privacy}","received_events_url":"https://api.github.com/users/akchinSTC/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-30T23:15:55Z","updated_at":"2018-05-30T23:15:55Z","author_association":"CONTRIBUTOR","body":"Can an Admin verify this patch?","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393349494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393354733","html_url":"https://github.com/apache/systemds/pull/774#issuecomment-393354733","issue_url":"https://api.github.com/repos/apache/systemds/issues/774","id":393354733,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MzM1NDczMw==","user":{"login":"akchinSTC","id":13340013,"node_id":"MDQ6VXNlcjEzMzQwMDEz","avatar_url":"https://avatars.githubusercontent.com/u/13340013?v=4","gravatar_id":"","url":"https://api.github.com/users/akchinSTC","html_url":"https://github.com/akchinSTC","followers_url":"https://api.github.com/users/akchinSTC/followers","following_url":"https://api.github.com/users/akchinSTC/following{/other_user}","gists_url":"https://api.github.com/users/akchinSTC/gists{/gist_id}","starred_url":"https://api.github.com/users/akchinSTC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akchinSTC/subscriptions","organizations_url":"https://api.github.com/users/akchinSTC/orgs","repos_url":"https://api.github.com/users/akchinSTC/repos","events_url":"https://api.github.com/users/akchinSTC/events{/privacy}","received_events_url":"https://api.github.com/users/akchinSTC/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-30T23:47:05Z","updated_at":"2018-05-30T23:47:05Z","author_association":"CONTRIBUTOR","body":"Can an Admin verify this patch?","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393354733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393645682","html_url":"https://github.com/apache/systemds/pull/774#issuecomment-393645682","issue_url":"https://api.github.com/repos/apache/systemds/issues/774","id":393645682,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MzY0NTY4Mg==","user":{"login":"niketanpansare","id":11686380,"node_id":"MDQ6VXNlcjExNjg2Mzgw","avatar_url":"https://avatars.githubusercontent.com/u/11686380?v=4","gravatar_id":"","url":"https://api.github.com/users/niketanpansare","html_url":"https://github.com/niketanpansare","followers_url":"https://api.github.com/users/niketanpansare/followers","following_url":"https://api.github.com/users/niketanpansare/following{/other_user}","gists_url":"https://api.github.com/users/niketanpansare/gists{/gist_id}","starred_url":"https://api.github.com/users/niketanpansare/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketanpansare/subscriptions","organizations_url":"https://api.github.com/users/niketanpansare/orgs","repos_url":"https://api.github.com/users/niketanpansare/repos","events_url":"https://api.github.com/users/niketanpansare/events{/privacy}","received_events_url":"https://api.github.com/users/niketanpansare/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-31T19:14:48Z","updated_at":"2018-05-31T19:14:57Z","author_association":"CONTRIBUTOR","body":"Thanks @nakul02 ... I will merge. We can reuse our templatized reduction in a different PR.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393645682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393675648","html_url":"https://github.com/apache/systemds/pull/775#issuecomment-393675648","issue_url":"https://api.github.com/repos/apache/systemds/issues/775","id":393675648,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MzY3NTY0OA==","user":{"login":"akchinSTC","id":13340013,"node_id":"MDQ6VXNlcjEzMzQwMDEz","avatar_url":"https://avatars.githubusercontent.com/u/13340013?v=4","gravatar_id":"","url":"https://api.github.com/users/akchinSTC","html_url":"https://github.com/akchinSTC","followers_url":"https://api.github.com/users/akchinSTC/followers","following_url":"https://api.github.com/users/akchinSTC/following{/other_user}","gists_url":"https://api.github.com/users/akchinSTC/gists{/gist_id}","starred_url":"https://api.github.com/users/akchinSTC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akchinSTC/subscriptions","organizations_url":"https://api.github.com/users/akchinSTC/orgs","repos_url":"https://api.github.com/users/akchinSTC/repos","events_url":"https://api.github.com/users/akchinSTC/events{/privacy}","received_events_url":"https://api.github.com/users/akchinSTC/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-31T20:51:15Z","updated_at":"2018-05-31T20:51:15Z","author_association":"CONTRIBUTOR","body":"Can an Admin verify this patch?","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393675648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393682005","html_url":"https://github.com/apache/systemds/pull/775#issuecomment-393682005","issue_url":"https://api.github.com/repos/apache/systemds/issues/775","id":393682005,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MzY4MjAwNQ==","user":{"login":"nakul02","id":5394361,"node_id":"MDQ6VXNlcjUzOTQzNjE=","avatar_url":"https://avatars.githubusercontent.com/u/5394361?v=4","gravatar_id":"","url":"https://api.github.com/users/nakul02","html_url":"https://github.com/nakul02","followers_url":"https://api.github.com/users/nakul02/followers","following_url":"https://api.github.com/users/nakul02/following{/other_user}","gists_url":"https://api.github.com/users/nakul02/gists{/gist_id}","starred_url":"https://api.github.com/users/nakul02/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nakul02/subscriptions","organizations_url":"https://api.github.com/users/nakul02/orgs","repos_url":"https://api.github.com/users/nakul02/repos","events_url":"https://api.github.com/users/nakul02/events{/privacy}","received_events_url":"https://api.github.com/users/nakul02/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-31T21:11:59Z","updated_at":"2018-05-31T21:12:26Z","author_association":"MEMBER","body":"breaks on mac.\r\n```\r\n➜  systemml git:(bugfix_jcuda_apple) ✗ mvn package\r\n[INFO] Scanning for projects...\r\n[INFO]\r\n[INFO] --------------------< org.apache.systemml:systemml >--------------------\r\n[INFO] Building SystemML 1.2.0-SNAPSHOT\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time: 1.070 s\r\n[INFO] Finished at: 2018-05-31T14:11:41-07:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal on project systemml: Could not resolve dependencies for project org.apache.systemml:systemml:jar:1.2.0-SNAPSHOT: The following artifacts could not be resolved: org.jcuda:jcuda-natives:jar:apple-x86_64:0.9.0d, org.jcuda:jcublas-natives:jar:apple-x86_64:0.9.0d, org.jcuda:jcusparse-natives:jar:apple-x86_64:0.9.0d, org.jcuda:jcusolver-natives:jar:apple-x86_64:0.9.0d, org.jcuda:jcudnn-natives:jar:apple-x86_64:0.9.0d: Failure to find org.jcuda:jcuda-natives:jar:apple-x86_64:0.9.0d in https://repo1.maven.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced -> [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\r\n➜  systemml git:(bugfix_jcuda_apple) ✗\r\n```","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393682005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393710078","html_url":"https://github.com/apache/systemds/pull/775#issuecomment-393710078","issue_url":"https://api.github.com/repos/apache/systemds/issues/775","id":393710078,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MzcxMDA3OA==","user":{"login":"niketanpansare","id":11686380,"node_id":"MDQ6VXNlcjExNjg2Mzgw","avatar_url":"https://avatars.githubusercontent.com/u/11686380?v=4","gravatar_id":"","url":"https://api.github.com/users/niketanpansare","html_url":"https://github.com/niketanpansare","followers_url":"https://api.github.com/users/niketanpansare/followers","following_url":"https://api.github.com/users/niketanpansare/following{/other_user}","gists_url":"https://api.github.com/users/niketanpansare/gists{/gist_id}","starred_url":"https://api.github.com/users/niketanpansare/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketanpansare/subscriptions","organizations_url":"https://api.github.com/users/niketanpansare/orgs","repos_url":"https://api.github.com/users/niketanpansare/repos","events_url":"https://api.github.com/users/niketanpansare/events{/privacy}","received_events_url":"https://api.github.com/users/niketanpansare/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-31T23:06:30Z","updated_at":"2018-05-31T23:06:30Z","author_association":"CONTRIBUTOR","body":"@nakul02 can you try again ?","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393710078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393718039","html_url":"https://github.com/apache/systemds/pull/775#issuecomment-393718039","issue_url":"https://api.github.com/repos/apache/systemds/issues/775","id":393718039,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MzcxODAzOQ==","user":{"login":"bertholdreinwald","id":10200727,"node_id":"MDQ6VXNlcjEwMjAwNzI3","avatar_url":"https://avatars.githubusercontent.com/u/10200727?v=4","gravatar_id":"","url":"https://api.github.com/users/bertholdreinwald","html_url":"https://github.com/bertholdreinwald","followers_url":"https://api.github.com/users/bertholdreinwald/followers","following_url":"https://api.github.com/users/bertholdreinwald/following{/other_user}","gists_url":"https://api.github.com/users/bertholdreinwald/gists{/gist_id}","starred_url":"https://api.github.com/users/bertholdreinwald/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bertholdreinwald/subscriptions","organizations_url":"https://api.github.com/users/bertholdreinwald/orgs","repos_url":"https://api.github.com/users/bertholdreinwald/repos","events_url":"https://api.github.com/users/bertholdreinwald/events{/privacy}","received_events_url":"https://api.github.com/users/bertholdreinwald/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-31T23:54:53Z","updated_at":"2018-05-31T23:54:53Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393718039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393719226","html_url":"https://github.com/apache/systemds/pull/776#issuecomment-393719226","issue_url":"https://api.github.com/repos/apache/systemds/issues/776","id":393719226,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MzcxOTIyNg==","user":{"login":"akchinSTC","id":13340013,"node_id":"MDQ6VXNlcjEzMzQwMDEz","avatar_url":"https://avatars.githubusercontent.com/u/13340013?v=4","gravatar_id":"","url":"https://api.github.com/users/akchinSTC","html_url":"https://github.com/akchinSTC","followers_url":"https://api.github.com/users/akchinSTC/followers","following_url":"https://api.github.com/users/akchinSTC/following{/other_user}","gists_url":"https://api.github.com/users/akchinSTC/gists{/gist_id}","starred_url":"https://api.github.com/users/akchinSTC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akchinSTC/subscriptions","organizations_url":"https://api.github.com/users/akchinSTC/orgs","repos_url":"https://api.github.com/users/akchinSTC/repos","events_url":"https://api.github.com/users/akchinSTC/events{/privacy}","received_events_url":"https://api.github.com/users/akchinSTC/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-01T00:02:25Z","updated_at":"2018-06-01T00:02:25Z","author_association":"CONTRIBUTOR","body":"Can an Admin verify this patch?","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/393719226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/394172761","html_url":"https://github.com/apache/systemds/pull/777#issuecomment-394172761","issue_url":"https://api.github.com/repos/apache/systemds/issues/777","id":394172761,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDE3Mjc2MQ==","user":{"login":"EdgarLGB","id":15153347,"node_id":"MDQ6VXNlcjE1MTUzMzQ3","avatar_url":"https://avatars.githubusercontent.com/u/15153347?v=4","gravatar_id":"","url":"https://api.github.com/users/EdgarLGB","html_url":"https://github.com/EdgarLGB","followers_url":"https://api.github.com/users/EdgarLGB/followers","following_url":"https://api.github.com/users/EdgarLGB/following{/other_user}","gists_url":"https://api.github.com/users/EdgarLGB/gists{/gist_id}","starred_url":"https://api.github.com/users/EdgarLGB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdgarLGB/subscriptions","organizations_url":"https://api.github.com/users/EdgarLGB/orgs","repos_url":"https://api.github.com/users/EdgarLGB/repos","events_url":"https://api.github.com/users/EdgarLGB/events{/privacy}","received_events_url":"https://api.github.com/users/EdgarLGB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-03T16:12:13Z","updated_at":"2018-06-03T16:12:13Z","author_association":"MEMBER","body":"Thanks @mboehm7 for the code review. I'm going through the feedback and will make another PR consisting of the implementation of ASP and EPOCH.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/394172761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/394190456","html_url":"https://github.com/apache/systemds/pull/777#issuecomment-394190456","issue_url":"https://api.github.com/repos/apache/systemds/issues/777","id":394190456,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDE5MDQ1Ng==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-03T20:52:08Z","updated_at":"2018-06-03T20:52:08Z","author_association":"CONTRIBUTOR","body":"Thanks for incorporating the comments - I'll make another pass later today. Also, just for the future, you don't need to close and reopen your PRs - you could simply push additional commits onto this branch.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/394190456/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/394226391","html_url":"https://github.com/apache/systemds/pull/777#issuecomment-394226391","issue_url":"https://api.github.com/repos/apache/systemds/issues/777","id":394226391,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDIyNjM5MQ==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-04T03:41:14Z","updated_at":"2018-06-04T03:41:14Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @EdgarLGB this is awesome. There are a couple minor cleanups as well as a fix for race conditions on model update remaining but I'll do these during the merge.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/394226391/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/394246919","html_url":"https://github.com/apache/systemds/pull/777#issuecomment-394246919","issue_url":"https://api.github.com/repos/apache/systemds/issues/777","id":394246919,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDI0NjkxOQ==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-04T06:25:19Z","updated_at":"2018-06-04T06:25:19Z","author_association":"CONTRIBUTOR","body":"Just for completeness, the race condition occurred in the following scenario: An updated model is placed into a worker queue A, but before A accessed (and copied) it, there was a model update by B, which also cleaned up the old model. Once A tried to access its model, the data was no longer available. Given the very small time window of potential conflicts, the issue only showed up in environments with many virtual cores. The fix was simple - we now copy the model before placing it into any queue. This moves the copy overhead onto the synchronized parameter server, which potentially negatively affects overall performance. However, let's aim for correctness and robustness until we have the basic functionality in place. Afterwards, we can run experiments and optimize for performance.\r\n\r\nFurther cleanups include (1) broadcast model in ASP only to current worker to avoid the use of outdated models on subsequent updates, (2) account for missing while/if blocks on recompiling the operation degree of parallelism, (3) int vs long consistency of worker IDs, and (4) some syntactic cleanups.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/394246919/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/394502164","html_url":"https://github.com/apache/systemds/pull/779#issuecomment-394502164","issue_url":"https://api.github.com/repos/apache/systemds/issues/779","id":394502164,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDUwMjE2NA==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-04T21:15:53Z","updated_at":"2018-06-04T21:15:53Z","author_association":"CONTRIBUTOR","body":"Apparently you used two different accounts here - under which account do you want his PR to be merged?","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/394502164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/394513065","html_url":"https://github.com/apache/systemds/pull/779#issuecomment-394513065","issue_url":"https://api.github.com/repos/apache/systemds/issues/779","id":394513065,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDUxMzA2NQ==","user":{"login":"TobiasSchmidtDE","id":39538005,"node_id":"MDQ6VXNlcjM5NTM4MDA1","avatar_url":"https://avatars.githubusercontent.com/u/39538005?v=4","gravatar_id":"","url":"https://api.github.com/users/TobiasSchmidtDE","html_url":"https://github.com/TobiasSchmidtDE","followers_url":"https://api.github.com/users/TobiasSchmidtDE/followers","following_url":"https://api.github.com/users/TobiasSchmidtDE/following{/other_user}","gists_url":"https://api.github.com/users/TobiasSchmidtDE/gists{/gist_id}","starred_url":"https://api.github.com/users/TobiasSchmidtDE/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TobiasSchmidtDE/subscriptions","organizations_url":"https://api.github.com/users/TobiasSchmidtDE/orgs","repos_url":"https://api.github.com/users/TobiasSchmidtDE/repos","events_url":"https://api.github.com/users/TobiasSchmidtDE/events{/privacy}","received_events_url":"https://api.github.com/users/TobiasSchmidtDE/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-04T21:55:56Z","updated_at":"2018-06-04T21:55:56Z","author_association":"NONE","body":"Oh sorry, I didn't notice. Please merge under the TobiasSchmidtDE account, that is the one associated to my IBM Mail","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/394513065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/394571401","html_url":"https://github.com/apache/systemds/pull/779#issuecomment-394571401","issue_url":"https://api.github.com/repos/apache/systemds/issues/779","id":394571401,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDU3MTQwMQ==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-05T03:39:53Z","updated_at":"2018-06-05T03:39:53Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @TobiasSchmidtDE. For now, I will also keep the old dml script to ensure we're not breaking the tests. I already added (but commented) the modified named parameter handling in `ArimaTest`. Apart from that, three issues showed up - I fixed the major one in SYSTEMML-2361 and addressed the other two via minor workarounds at script level. Once SYSTEMML-2362 and SYSTEMML-2363 are fixed, we can remove the workarounds again.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/394571401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/394582132","html_url":"https://github.com/apache/systemds/pull/780#issuecomment-394582132","issue_url":"https://api.github.com/repos/apache/systemds/issues/780","id":394582132,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDU4MjEzMg==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-05T05:00:05Z","updated_at":"2018-06-05T05:00:05Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @EdgarLGB. Overall, this is a very elegant and useful extension. As the number (and diversity) of tests increases, you might want to split the tests into separate classes in the future (e.g., failures, frequency, etc). Furthermore, I had to change the degree of parallelism of `paramserv-worker-failed` and `paramserv-agg-service-failed` again to 1 because otherwise the returned error message it not as expected - this indicates some side effect between workers, which we will have to address separately.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/394582132/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/396082142","html_url":"https://github.com/apache/systemds/pull/781#issuecomment-396082142","issue_url":"https://api.github.com/repos/apache/systemds/issues/781","id":396082142,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjA4MjE0Mg==","user":{"login":"EdgarLGB","id":15153347,"node_id":"MDQ6VXNlcjE1MTUzMzQ3","avatar_url":"https://avatars.githubusercontent.com/u/15153347?v=4","gravatar_id":"","url":"https://api.github.com/users/EdgarLGB","html_url":"https://github.com/EdgarLGB","followers_url":"https://api.github.com/users/EdgarLGB/followers","following_url":"https://api.github.com/users/EdgarLGB/following{/other_user}","gists_url":"https://api.github.com/users/EdgarLGB/gists{/gist_id}","starred_url":"https://api.github.com/users/EdgarLGB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdgarLGB/subscriptions","organizations_url":"https://api.github.com/users/EdgarLGB/orgs","repos_url":"https://api.github.com/users/EdgarLGB/repos","events_url":"https://api.github.com/users/EdgarLGB/events{/privacy}","received_events_url":"https://api.github.com/users/EdgarLGB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-10T21:08:34Z","updated_at":"2018-06-10T21:08:34Z","author_association":"MEMBER","body":"Thanks @mboehm7 for the code review. I've added some modification and hoping to have some feedback. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/396082142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/396123886","html_url":"https://github.com/apache/systemds/pull/781#issuecomment-396123886","issue_url":"https://api.github.com/repos/apache/systemds/issues/781","id":396123886,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjEyMzg4Ng==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-11T05:10:52Z","updated_at":"2018-06-11T05:10:52Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @EdgarLGB this is a very nice extensions. Just for the record here are the changes I made during the merge\r\n* Fixed DataPartitionerDRR to produce partitions of size 1/k * rows. The issues was `l % k == workerId ? 0 : 1` instead of `workerId ? 1 : 0`, which created partitions of size (k-1)/k. All tests used two workers where this does not show up because it both result in the same sizes.\r\n* Fixed DataPartitionerOR to use different permutation matrices for each worker. Before every worker received a copy of exactly the same reshuffled data. I refactored the hierarchy of DataPartitionerDR and DataPartitionerDR accordingly.\r\n* Fixed tests by moving the unit tests into the paramserv package, included it into the test suite, and fixed the DRR tests. However, I left additional TODOs which we should address in a subsequent OR.\r\n* Minor cleanups (e.g., simplified slice, sequence operations instead of streams for performance). Also sorry for my wrong comment regarding ternary vs ctable operations - we just recently renamed ternary to ctable to make room for general-purpose ternary operations.\r\n","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/396123886/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/396369006","html_url":"https://github.com/apache/systemds/pull/782#issuecomment-396369006","issue_url":"https://api.github.com/repos/apache/systemds/issues/782","id":396369006,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjM2OTAwNg==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-11T20:04:53Z","updated_at":"2018-06-11T20:04:53Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @EdgarLGB for catching this issue.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/396369006/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/396989896","html_url":"https://github.com/apache/systemds/pull/783#issuecomment-396989896","issue_url":"https://api.github.com/repos/apache/systemds/issues/783","id":396989896,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Njk4OTg5Ng==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-13T15:54:56Z","updated_at":"2018-06-13T15:54:56Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @EdgarLGB for the cleanup and fixing the tests.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/396989896/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/397095438","html_url":"https://github.com/apache/systemds/pull/776#issuecomment-397095438","issue_url":"https://api.github.com/repos/apache/systemds/issues/776","id":397095438,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzA5NTQzOA==","user":{"login":"bertholdreinwald","id":10200727,"node_id":"MDQ6VXNlcjEwMjAwNzI3","avatar_url":"https://avatars.githubusercontent.com/u/10200727?v=4","gravatar_id":"","url":"https://api.github.com/users/bertholdreinwald","html_url":"https://github.com/bertholdreinwald","followers_url":"https://api.github.com/users/bertholdreinwald/followers","following_url":"https://api.github.com/users/bertholdreinwald/following{/other_user}","gists_url":"https://api.github.com/users/bertholdreinwald/gists{/gist_id}","starred_url":"https://api.github.com/users/bertholdreinwald/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bertholdreinwald/subscriptions","organizations_url":"https://api.github.com/users/bertholdreinwald/orgs","repos_url":"https://api.github.com/users/bertholdreinwald/repos","events_url":"https://api.github.com/users/bertholdreinwald/events{/privacy}","received_events_url":"https://api.github.com/users/bertholdreinwald/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-13T21:35:44Z","updated_at":"2018-06-13T21:37:33Z","author_association":"CONTRIBUTOR","body":"travis-ci set the build timeout for apache/systemml to 180 minutes, and the log silence is max'ed at 50 minutes.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/397095438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/397122377","html_url":"https://github.com/apache/systemds/pull/785#issuecomment-397122377","issue_url":"https://api.github.com/repos/apache/systemds/issues/785","id":397122377,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzEyMjM3Nw==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-13T23:45:11Z","updated_at":"2018-06-13T23:45:11Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks for catching this (which applies to all datasets unaligned with the batchsize).","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/397122377/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/397122695","html_url":"https://github.com/apache/systemds/pull/784#issuecomment-397122695","issue_url":"https://api.github.com/repos/apache/systemds/issues/784","id":397122695,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzEyMjY5NQ==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-13T23:47:04Z","updated_at":"2018-06-13T23:47:04Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks again for catching and fixing this @johannaSommer.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/397122695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/397772210","html_url":"https://github.com/apache/systemds/pull/786#issuecomment-397772210","issue_url":"https://api.github.com/repos/apache/systemds/issues/786","id":397772210,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Nzc3MjIxMA==","user":{"login":"EdgarLGB","id":15153347,"node_id":"MDQ6VXNlcjE1MTUzMzQ3","avatar_url":"https://avatars.githubusercontent.com/u/15153347?v=4","gravatar_id":"","url":"https://api.github.com/users/EdgarLGB","html_url":"https://github.com/EdgarLGB","followers_url":"https://api.github.com/users/EdgarLGB/followers","following_url":"https://api.github.com/users/EdgarLGB/following{/other_user}","gists_url":"https://api.github.com/users/EdgarLGB/gists{/gist_id}","starred_url":"https://api.github.com/users/EdgarLGB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdgarLGB/subscriptions","organizations_url":"https://api.github.com/users/EdgarLGB/orgs","repos_url":"https://api.github.com/users/EdgarLGB/repos","events_url":"https://api.github.com/users/EdgarLGB/events{/privacy}","received_events_url":"https://api.github.com/users/EdgarLGB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-16T00:23:00Z","updated_at":"2018-06-16T00:23:00Z","author_association":"MEMBER","body":"Thanks @mboehm7 for the code review. I'm making some modifications and as long as it is ready, I will reopen this PR.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/397772210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/397920344","html_url":"https://github.com/apache/systemds/pull/787#issuecomment-397920344","issue_url":"https://api.github.com/repos/apache/systemds/issues/787","id":397920344,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzkyMDM0NA==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-18T01:17:04Z","updated_at":"2018-06-18T01:19:01Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @EdgarLGB for catching and fixing this issue. The rework for update per epoch is absolutely right - sorry for not catching this during the previous PRs. During the merge I made some additional improvements, which mostly address performance issues:\r\n* SYSTEMML-2398: The reason why we've seen such a large aggregation overhead w/ 80 workers, was because the `updateModel` method was synchronized on the single `AggregationService` instance, which led to a serialization of all local and global model updates and thus heavy thread contention. We now use separate execution contexts and unsynchronized model updates which improved the overhead for ASP EPOCH 2 epochs 80 workers from `3179.774/63.368 secs` (local/global) to `123.369/9.508 secs`. \r\n* Furthermore, we now use inplace binary operations for accruing the local gradients to avoid unnecessary reallocations. \r\n* I also made all time measurements conditional on enabled statistics because for very small operations the time measurement itself can become a bottleneck. \r\n\r\nI'll kick off another round of experiments with all these changes tonight - then we'll see if there are remaining issues for some configurations.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/397920344/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/398951814","html_url":"https://github.com/apache/systemds/pull/788#issuecomment-398951814","issue_url":"https://api.github.com/repos/apache/systemds/issues/788","id":398951814,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODk1MTgxNA==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-21T01:57:36Z","updated_at":"2018-06-21T01:57:36Z","author_association":"CONTRIBUTOR","body":"LGTM, thanks @johannaSommer - I'll make some minor tweaks during the merge.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/398951814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/399267258","html_url":"https://github.com/apache/systemds/pull/789#issuecomment-399267258","issue_url":"https://api.github.com/repos/apache/systemds/issues/789","id":399267258,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTI2NzI1OA==","user":{"login":"EdgarLGB","id":15153347,"node_id":"MDQ6VXNlcjE1MTUzMzQ3","avatar_url":"https://avatars.githubusercontent.com/u/15153347?v=4","gravatar_id":"","url":"https://api.github.com/users/EdgarLGB","html_url":"https://github.com/EdgarLGB","followers_url":"https://api.github.com/users/EdgarLGB/followers","following_url":"https://api.github.com/users/EdgarLGB/following{/other_user}","gists_url":"https://api.github.com/users/EdgarLGB/gists{/gist_id}","starred_url":"https://api.github.com/users/EdgarLGB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdgarLGB/subscriptions","organizations_url":"https://api.github.com/users/EdgarLGB/orgs","repos_url":"https://api.github.com/users/EdgarLGB/repos","events_url":"https://api.github.com/users/EdgarLGB/events{/privacy}","received_events_url":"https://api.github.com/users/EdgarLGB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-21T22:49:09Z","updated_at":"2018-06-21T22:49:09Z","author_association":"MEMBER","body":"Thanks @mboehm7 for the code review. I have pushed some modification related to the feedback.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/399267258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/399324633","html_url":"https://github.com/apache/systemds/pull/789#issuecomment-399324633","issue_url":"https://api.github.com/repos/apache/systemds/issues/789","id":399324633,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTMyNDYzMw==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-22T05:26:38Z","updated_at":"2018-06-22T05:26:38Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @EdgarLGB this is awesome. On a scenario of Mnist60K, 10 epochs, batch size 16, ASP, 80 workers (end-to-end runtime ~200s), this patch improved the total HOP DAG recompilation overhead as follows:\r\n```\r\nHOP DAGs recompiled (PRED, SB): 0/68896.\r\nHOP DAGs recompile time:        279.734 sec. //OLD\r\nHOP DAGs recompile time:        146.834 sec. //#789\r\n```","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/399324633/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/399329996","html_url":"https://github.com/apache/systemds/pull/789#issuecomment-399329996","issue_url":"https://api.github.com/repos/apache/systemds/issues/789","id":399329996,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTMyOTk5Ng==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-22T06:04:28Z","updated_at":"2018-06-22T06:04:28Z","author_association":"CONTRIBUTOR","body":"just as an FYI - I also fixed the {{ParamservRuntimeNegativeTest}} as I changed the list indexing error messages, when introducing right indexing on lists yesterday.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/399329996/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/399642592","html_url":"https://github.com/apache/systemds/pull/790#issuecomment-399642592","issue_url":"https://api.github.com/repos/apache/systemds/issues/790","id":399642592,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTY0MjU5Mg==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-23T06:54:15Z","updated_at":"2018-06-23T06:54:15Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @EdgarLGB. This is great. There wasn't a significant change in performance (i.e., fluctuations larger than difference) - in these situations, we should always prefer the simpler approach. During the merge, I additionally flattened the aggregation service into the parameter server to reduce unnecessary indirections. ","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/399642592/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/399736186","html_url":"https://github.com/apache/systemds/pull/791#issuecomment-399736186","issue_url":"https://api.github.com/repos/apache/systemds/issues/791","id":399736186,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTczNjE4Ng==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-24T07:38:34Z","updated_at":"2018-06-24T07:38:34Z","author_association":"CONTRIBUTOR","body":"Thanks @EdgarLGB - in general, this LGTM. However, before merging it in, we need to understand why this was happening. I could imagine it's related to the used optimizer (SGD nesterov here) but I need to run a couple of experiments first. \r\n\r\nIn the meantime, I would recommend to focus on the design of the distributed spark backend and it's break down into individual tasks. You should not be blocked by this issue here, right?","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/399736186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/399741870","html_url":"https://github.com/apache/systemds/pull/791#issuecomment-399741870","issue_url":"https://api.github.com/repos/apache/systemds/issues/791","id":399741870,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTc0MTg3MA==","user":{"login":"EdgarLGB","id":15153347,"node_id":"MDQ6VXNlcjE1MTUzMzQ3","avatar_url":"https://avatars.githubusercontent.com/u/15153347?v=4","gravatar_id":"","url":"https://api.github.com/users/EdgarLGB","html_url":"https://github.com/EdgarLGB","followers_url":"https://api.github.com/users/EdgarLGB/followers","following_url":"https://api.github.com/users/EdgarLGB/following{/other_user}","gists_url":"https://api.github.com/users/EdgarLGB/gists{/gist_id}","starred_url":"https://api.github.com/users/EdgarLGB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdgarLGB/subscriptions","organizations_url":"https://api.github.com/users/EdgarLGB/orgs","repos_url":"https://api.github.com/users/EdgarLGB/repos","events_url":"https://api.github.com/users/EdgarLGB/events{/privacy}","received_events_url":"https://api.github.com/users/EdgarLGB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-24T09:14:41Z","updated_at":"2018-06-24T09:14:41Z","author_association":"MEMBER","body":"@mboehm7 sure, I'm working on it.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/399741870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/401556824","html_url":"https://github.com/apache/systemds/pull/793#issuecomment-401556824","issue_url":"https://api.github.com/repos/apache/systemds/issues/793","id":401556824,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTU1NjgyNA==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-30T18:01:04Z","updated_at":"2018-06-30T18:01:04Z","author_association":"CONTRIBUTOR","body":"thanks @EdgarLGB - I'm traveling right now but will provide feedback later next week.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/401556824/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/402846544","html_url":"https://github.com/apache/systemds/pull/794#issuecomment-402846544","issue_url":"https://api.github.com/repos/apache/systemds/issues/794","id":402846544,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjg0NjU0NA==","user":{"login":"niketanpansare","id":11686380,"node_id":"MDQ6VXNlcjExNjg2Mzgw","avatar_url":"https://avatars.githubusercontent.com/u/11686380?v=4","gravatar_id":"","url":"https://api.github.com/users/niketanpansare","html_url":"https://github.com/niketanpansare","followers_url":"https://api.github.com/users/niketanpansare/followers","following_url":"https://api.github.com/users/niketanpansare/following{/other_user}","gists_url":"https://api.github.com/users/niketanpansare/gists{/gist_id}","starred_url":"https://api.github.com/users/niketanpansare/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketanpansare/subscriptions","organizations_url":"https://api.github.com/users/niketanpansare/orgs","repos_url":"https://api.github.com/users/niketanpansare/repos","events_url":"https://api.github.com/users/niketanpansare/events{/privacy}","received_events_url":"https://api.github.com/users/niketanpansare/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-05T20:42:07Z","updated_at":"2018-07-05T20:42:07Z","author_association":"CONTRIBUTOR","body":"Also, can you please update the [JMLC documentation](https://github.com/apache/systemml/blob/master/docs/jmlc.md)? ... Other than that, LGTM :+1: ","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/402846544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/403090656","html_url":"https://github.com/apache/systemds/pull/794#issuecomment-403090656","issue_url":"https://api.github.com/repos/apache/systemds/issues/794","id":403090656,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzA5MDY1Ng==","user":{"login":"thomas9t","id":13305441,"node_id":"MDQ6VXNlcjEzMzA1NDQx","avatar_url":"https://avatars.githubusercontent.com/u/13305441?v=4","gravatar_id":"","url":"https://api.github.com/users/thomas9t","html_url":"https://github.com/thomas9t","followers_url":"https://api.github.com/users/thomas9t/followers","following_url":"https://api.github.com/users/thomas9t/following{/other_user}","gists_url":"https://api.github.com/users/thomas9t/gists{/gist_id}","starred_url":"https://api.github.com/users/thomas9t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomas9t/subscriptions","organizations_url":"https://api.github.com/users/thomas9t/orgs","repos_url":"https://api.github.com/users/thomas9t/repos","events_url":"https://api.github.com/users/thomas9t/events{/privacy}","received_events_url":"https://api.github.com/users/thomas9t/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-06T16:57:48Z","updated_at":"2018-07-06T16:57:48Z","author_association":"CONTRIBUTOR","body":"Thanks @niketanpansare - I've addressed your comments above. Please let me know if you'd like to see any other changes.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/403090656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/403097803","html_url":"https://github.com/apache/systemds/pull/794#issuecomment-403097803","issue_url":"https://api.github.com/repos/apache/systemds/issues/794","id":403097803,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzA5NzgwMw==","user":{"login":"niketanpansare","id":11686380,"node_id":"MDQ6VXNlcjExNjg2Mzgw","avatar_url":"https://avatars.githubusercontent.com/u/11686380?v=4","gravatar_id":"","url":"https://api.github.com/users/niketanpansare","html_url":"https://github.com/niketanpansare","followers_url":"https://api.github.com/users/niketanpansare/followers","following_url":"https://api.github.com/users/niketanpansare/following{/other_user}","gists_url":"https://api.github.com/users/niketanpansare/gists{/gist_id}","starred_url":"https://api.github.com/users/niketanpansare/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketanpansare/subscriptions","organizations_url":"https://api.github.com/users/niketanpansare/orgs","repos_url":"https://api.github.com/users/niketanpansare/repos","events_url":"https://api.github.com/users/niketanpansare/events{/privacy}","received_events_url":"https://api.github.com/users/niketanpansare/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-06T17:26:04Z","updated_at":"2018-07-06T17:26:04Z","author_association":"CONTRIBUTOR","body":"Thanks @thomas9t ... I will merge :+1: ","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/403097803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/403255274","html_url":"https://github.com/apache/systemds/pull/791#issuecomment-403255274","issue_url":"https://api.github.com/repos/apache/systemds/issues/791","id":403255274,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzI1NTI3NA==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-08T01:43:16Z","updated_at":"2018-07-08T01:43:16Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @EdgarLGB. Although I was not able to reproduce the accuracy issue (probably fixed by a previous patch that removed side effects), it's safe to use this patch as it is also beneficial for performance. During the merge, I added an internal flag such that we can play around with this configuration if needed, and parallelized the accrueGadients method to reduce thread contention in BSP. ","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/403255274/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/403256818","html_url":"https://github.com/apache/systemds/pull/794#issuecomment-403256818","issue_url":"https://api.github.com/repos/apache/systemds/issues/794","id":403256818,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzI1NjgxOA==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-08T02:23:34Z","updated_at":"2018-07-08T02:23:34Z","author_association":"CONTRIBUTOR","body":"Great - this will be a very useful tool. There is just one open question: How can the removal of pinned objects via clearData and soft references work in a JMLC context (which is the primary use case for this tool)? Specifically, clearData is never called in JMLC and the soft references themselves prevent the object from being garbage collected unless there is memory pressure or the soft references time out. The latter will likely not happen for short running JMLC invocations. Maybe we can move this one level up to `ExecutionContext.cleanupCacheableData` or rmvar/mvvar/fcall. Also, if possible try to move the logic in acquireModifyIntern / releaseIntern into their unsynchronized wrappers acquireModify / release.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/403256818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/403549173","html_url":"https://github.com/apache/systemds/pull/794#issuecomment-403549173","issue_url":"https://api.github.com/repos/apache/systemds/issues/794","id":403549173,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzU0OTE3Mw==","user":{"login":"thomas9t","id":13305441,"node_id":"MDQ6VXNlcjEzMzA1NDQx","avatar_url":"https://avatars.githubusercontent.com/u/13305441?v=4","gravatar_id":"","url":"https://api.github.com/users/thomas9t","html_url":"https://github.com/thomas9t","followers_url":"https://api.github.com/users/thomas9t/followers","following_url":"https://api.github.com/users/thomas9t/following{/other_user}","gists_url":"https://api.github.com/users/thomas9t/gists{/gist_id}","starred_url":"https://api.github.com/users/thomas9t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomas9t/subscriptions","organizations_url":"https://api.github.com/users/thomas9t/orgs","repos_url":"https://api.github.com/users/thomas9t/repos","events_url":"https://api.github.com/users/thomas9t/events{/privacy}","received_events_url":"https://api.github.com/users/thomas9t/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T17:03:17Z","updated_at":"2018-07-09T17:10:57Z","author_association":"CONTRIBUTOR","body":"Thanks for the suggestions @mboehm7! I had considered placing the logic for removal of pinned objects in `cleanUpCacheableData` - however it seemed in practice that this substantially underestimated the actual memory used by the program. For example, consider the following (admittedly trivial) DML script:\r\n\r\n```\r\nb = rand(rows=100, cols=1)\r\nfor (ii in 1:30)\r\n{\r\n    X = rand(rows=1000000, cols=100)\r\n    y = X %*% b\r\n    print(as.scalar(y[1,1])) \r\n}\r\n```\r\n\r\nIf I place the logic to remove pinned objects in `cleanUpCacheableData` then the reported memory use is `763MB`. However, according to VisualVM, the actual peak heap use of the program is closer to `4.8GB` (which is expected given that the JVM was launched with `-Xmx5g`). Running the program with `-Xmx1g` results in an `OutOfHeapSpace` for me. By contrast, using `WeakReference` (see comment below regarding `SoftReference`) reports a peak memory use of `3.75GB`. While the above example is contrived, a similar situation could occur in an iterative estimation algorithm. However, given that JMLC is primarily used for prediction rather than estimation this may not be an issue.  Let me know what you think - it's entirely possible I'm not understanding how JVM memory management works correctly.\r\n\r\nI see your point about `SoftReferences` - they indeed will discourage garbage collection unless there is memory pressure. If we do want to stick with this approach than I think a `WeakReference` would be better as it (at least to my understanding) does not change garbage collection.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/403549173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/403576367","html_url":"https://github.com/apache/systemds/pull/794#issuecomment-403576367","issue_url":"https://api.github.com/repos/apache/systemds/issues/794","id":403576367,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzU3NjM2Nw==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T18:29:58Z","updated_at":"2018-07-09T18:29:58Z","author_association":"CONTRIBUTOR","body":"@thomas9t thanks for the clarification and yes, weak references would solve one of the issues. Btw, instead of scanning for cleared objects, you would simply implement this via reference queues.\r\n\r\nHowever, from my perspective ~800MB is exactly what we should report here. The JVM in server mode will likely consume all available memory before GC is triggered. Capturing actual memory consumption (including live garbage) would mean that the statistics would report different max memory consumption under different heap sizes - this would be confusing and defeat the purpose of this tool (automatically determine necessary max heap sizes). By specifying `-Xmx1g -Xmn100m` your scenario will work just fine. I think the openjdk/hotspot is too aggressive sizing the young generation (which also affects the memory available to the application). In hybrid mode, we guarantee not to run out of memory whenever the young generation is less or equal 10% of the max heap size.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/403576367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/403612627","html_url":"https://github.com/apache/systemds/pull/794#issuecomment-403612627","issue_url":"https://api.github.com/repos/apache/systemds/issues/794","id":403612627,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzYxMjYyNw==","user":{"login":"thomas9t","id":13305441,"node_id":"MDQ6VXNlcjEzMzA1NDQx","avatar_url":"https://avatars.githubusercontent.com/u/13305441?v=4","gravatar_id":"","url":"https://api.github.com/users/thomas9t","html_url":"https://github.com/thomas9t","followers_url":"https://api.github.com/users/thomas9t/followers","following_url":"https://api.github.com/users/thomas9t/following{/other_user}","gists_url":"https://api.github.com/users/thomas9t/gists{/gist_id}","starred_url":"https://api.github.com/users/thomas9t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomas9t/subscriptions","organizations_url":"https://api.github.com/users/thomas9t/orgs","repos_url":"https://api.github.com/users/thomas9t/repos","events_url":"https://api.github.com/users/thomas9t/events{/privacy}","received_events_url":"https://api.github.com/users/thomas9t/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T20:39:53Z","updated_at":"2018-07-09T20:40:34Z","author_association":"CONTRIBUTOR","body":"@mboehm7 - understood. I see your point about the confusion stemming from gathering statistics under different max heap sizes. Per this discussion and the comments above, I have done the following:\r\n\r\n1. Moved the logic in `CacheableData.acquireModifyIntern` to the public wrapper. Note as well that since `CacheableData.isCachingActive()` will always return `false` in JMLC, I think we don't need to do anything in `CacheableData.release` - please correct me if I'm wrong.\r\n2. Removed the use of `SoftReference` to track when objects have been removed and instead remove an object when `ExecutionContext.cleanUpCacheableData` is called on the object.\r\n4. Removed unnecessary calls from `clearData`\r\n3. Updated documentation accordingly.\r\n\r\nShould I submit this as another PR?","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/403612627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/403618025","html_url":"https://github.com/apache/systemds/pull/794#issuecomment-403618025","issue_url":"https://api.github.com/repos/apache/systemds/issues/794","id":403618025,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzYxODAyNQ==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-09T20:57:41Z","updated_at":"2018-07-09T20:57:41Z","author_association":"CONTRIBUTOR","body":"thanks @thomas9t - this sounds good to me. Yes, I'd appreciate if you could submit another PR. \r\n\r\nWrt to release, we still would want to use this tool through all APIs. However, always reporting the number of live objects (independent if pinned or not) is generally useful - so, yes let's go with your proposal. ","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/403618025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/403877736","html_url":"https://github.com/apache/systemds/pull/793#issuecomment-403877736","issue_url":"https://api.github.com/repos/apache/systemds/issues/793","id":403877736,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzg3NzczNg==","user":{"login":"EdgarLGB","id":15153347,"node_id":"MDQ6VXNlcjE1MTUzMzQ3","avatar_url":"https://avatars.githubusercontent.com/u/15153347?v=4","gravatar_id":"","url":"https://api.github.com/users/EdgarLGB","html_url":"https://github.com/EdgarLGB","followers_url":"https://api.github.com/users/EdgarLGB/followers","following_url":"https://api.github.com/users/EdgarLGB/following{/other_user}","gists_url":"https://api.github.com/users/EdgarLGB/gists{/gist_id}","starred_url":"https://api.github.com/users/EdgarLGB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdgarLGB/subscriptions","organizations_url":"https://api.github.com/users/EdgarLGB/orgs","repos_url":"https://api.github.com/users/EdgarLGB/repos","events_url":"https://api.github.com/users/EdgarLGB/events{/privacy}","received_events_url":"https://api.github.com/users/EdgarLGB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-10T16:05:46Z","updated_at":"2018-07-10T16:05:53Z","author_association":"MEMBER","body":"Thanks @mboehm7 for the review. I have pushed some modifications.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/403877736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/404241301","html_url":"https://github.com/apache/systemds/pull/796#issuecomment-404241301","issue_url":"https://api.github.com/repos/apache/systemds/issues/796","id":404241301,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDI0MTMwMQ==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-11T17:01:08Z","updated_at":"2018-07-11T17:01:08Z","author_association":"CONTRIBUTOR","body":"SYSTEMML-2291","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/404241301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/404316136","html_url":"https://github.com/apache/systemds/pull/793#issuecomment-404316136","issue_url":"https://api.github.com/repos/apache/systemds/issues/793","id":404316136,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDMxNjEzNg==","user":{"login":"EdgarLGB","id":15153347,"node_id":"MDQ6VXNlcjE1MTUzMzQ3","avatar_url":"https://avatars.githubusercontent.com/u/15153347?v=4","gravatar_id":"","url":"https://api.github.com/users/EdgarLGB","html_url":"https://github.com/EdgarLGB","followers_url":"https://api.github.com/users/EdgarLGB/followers","following_url":"https://api.github.com/users/EdgarLGB/following{/other_user}","gists_url":"https://api.github.com/users/EdgarLGB/gists{/gist_id}","starred_url":"https://api.github.com/users/EdgarLGB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdgarLGB/subscriptions","organizations_url":"https://api.github.com/users/EdgarLGB/orgs","repos_url":"https://api.github.com/users/EdgarLGB/repos","events_url":"https://api.github.com/users/EdgarLGB/events{/privacy}","received_events_url":"https://api.github.com/users/EdgarLGB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-11T21:29:32Z","updated_at":"2018-07-11T21:29:32Z","author_association":"MEMBER","body":"I added the rework on the spark data partitioner and both the local and spark unit test. I'm looking forward to your review @mboehm7 . Thanks!","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/404316136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/404381424","html_url":"https://github.com/apache/systemds/pull/796#issuecomment-404381424","issue_url":"https://api.github.com/repos/apache/systemds/issues/796","id":404381424,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDM4MTQyNA==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T03:55:28Z","updated_at":"2018-07-12T04:02:37Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @johannaSommer. As it turned out the accuracy issues was due to a syntactic issue on final aggregation (`result=+LGraph.nodes.get(h).getValue()` instead of `result += ...`). Furthermore, I made  a couple of minor simplifications and cleanups. For example, we now create just a single distribution function (whose seed is initialized based on current time in milliseconds) in order to ensure that we generate pseudo-random numbers. \r\n\r\nBtw, funny name change on the last comment. ;-)","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/404381424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/404391333","html_url":"https://github.com/apache/systemds/pull/793#issuecomment-404391333","issue_url":"https://api.github.com/repos/apache/systemds/issues/793","id":404391333,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDM5MTMzMw==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T05:12:14Z","updated_at":"2018-07-12T05:12:14Z","author_association":"CONTRIBUTOR","body":"Thanks @EdgarLGB - in general this looks fine. In the next couple of days, I'll make an additional detailed pass, run some cluster experiments, and merge it in afterwards.\r\n\r\nIn the meantime, could you please (1) resolve the conflicts of this PR, (2) simplify the creation of global permutation vectors (instead of using sample-ctable-extract_vector you could simple create the vector via sample), and (3) change the spark row aggregation from rbind to in-place left indexing (performing rbind for n rows copies O(n^2) rows while in-place indexing only copies O(n) rows). Thanks.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/404391333/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/404669152","html_url":"https://github.com/apache/systemds/pull/793#issuecomment-404669152","issue_url":"https://api.github.com/repos/apache/systemds/issues/793","id":404669152,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDY2OTE1Mg==","user":{"login":"EdgarLGB","id":15153347,"node_id":"MDQ6VXNlcjE1MTUzMzQ3","avatar_url":"https://avatars.githubusercontent.com/u/15153347?v=4","gravatar_id":"","url":"https://api.github.com/users/EdgarLGB","html_url":"https://github.com/EdgarLGB","followers_url":"https://api.github.com/users/EdgarLGB/followers","following_url":"https://api.github.com/users/EdgarLGB/following{/other_user}","gists_url":"https://api.github.com/users/EdgarLGB/gists{/gist_id}","starred_url":"https://api.github.com/users/EdgarLGB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdgarLGB/subscriptions","organizations_url":"https://api.github.com/users/EdgarLGB/orgs","repos_url":"https://api.github.com/users/EdgarLGB/repos","events_url":"https://api.github.com/users/EdgarLGB/events{/privacy}","received_events_url":"https://api.github.com/users/EdgarLGB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-12T22:22:11Z","updated_at":"2018-07-12T22:22:11Z","author_association":"MEMBER","body":"Thanks @mboehm7 - I've pushed the modifications. And I will continue on the remote worker setup and cleanup.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/404669152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/404690194","html_url":"https://github.com/apache/systemds/pull/795#issuecomment-404690194","issue_url":"https://api.github.com/repos/apache/systemds/issues/795","id":404690194,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDY5MDE5NA==","user":{"login":"thomas9t","id":13305441,"node_id":"MDQ6VXNlcjEzMzA1NDQx","avatar_url":"https://avatars.githubusercontent.com/u/13305441?v=4","gravatar_id":"","url":"https://api.github.com/users/thomas9t","html_url":"https://github.com/thomas9t","followers_url":"https://api.github.com/users/thomas9t/followers","following_url":"https://api.github.com/users/thomas9t/following{/other_user}","gists_url":"https://api.github.com/users/thomas9t/gists{/gist_id}","starred_url":"https://api.github.com/users/thomas9t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomas9t/subscriptions","organizations_url":"https://api.github.com/users/thomas9t/orgs","repos_url":"https://api.github.com/users/thomas9t/repos","events_url":"https://api.github.com/users/thomas9t/events{/privacy}","received_events_url":"https://api.github.com/users/thomas9t/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T00:28:51Z","updated_at":"2018-07-13T00:28:51Z","author_association":"CONTRIBUTOR","body":"Closing this PR and creating a new one to deal with merge conflict issues.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/404690194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/404722559","html_url":"https://github.com/apache/systemds/pull/797#issuecomment-404722559","issue_url":"https://api.github.com/repos/apache/systemds/issues/797","id":404722559,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDcyMjU1OQ==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T04:31:09Z","updated_at":"2018-07-13T04:31:09Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @thomas9t, this works very well. During the merge, I also added a command line argument `-mem` and made some minor cleanups.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/404722559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/404742968","html_url":"https://github.com/apache/systemds/pull/793#issuecomment-404742968","issue_url":"https://api.github.com/repos/apache/systemds/issues/793","id":404742968,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDc0Mjk2OA==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-13T06:50:21Z","updated_at":"2018-07-13T06:50:21Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @EdgarLGB. I only made a few minor modifications, most notably the handling of seeds in `OVERLAP_RESHUFFLE` to ensure all workers get different permutations (with the same seed, they would all use the same reshuffled but copied dataset).","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/404742968/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/405149390","html_url":"https://github.com/apache/systemds/pull/799#issuecomment-405149390","issue_url":"https://api.github.com/repos/apache/systemds/issues/799","id":405149390,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTE0OTM5MA==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-16T04:59:29Z","updated_at":"2018-07-16T04:59:29Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @EdgarLGB. I like the refactoring of parfor related primitives. During the merge, I made some additional cleanups in the `ProgramConverter` since we anyway touched it for your extensions.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/405149390/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/405797104","html_url":"https://github.com/apache/systemds/pull/801#issuecomment-405797104","issue_url":"https://api.github.com/repos/apache/systemds/issues/801","id":405797104,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTc5NzEwNA==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T03:25:31Z","updated_at":"2018-07-18T03:25:31Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @johannaSommer. I just moved this information to the materialized sketch meta data to simplify debugging.\r\n","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/405797104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/405925499","html_url":"https://github.com/apache/systemds/pull/804#issuecomment-405925499","issue_url":"https://api.github.com/repos/apache/systemds/issues/804","id":405925499,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTkyNTQ5OQ==","user":{"login":"j143-zz","id":20439730,"node_id":"MDQ6VXNlcjIwNDM5NzMw","avatar_url":"https://avatars.githubusercontent.com/u/20439730?v=4","gravatar_id":"","url":"https://api.github.com/users/j143-zz","html_url":"https://github.com/j143-zz","followers_url":"https://api.github.com/users/j143-zz/followers","following_url":"https://api.github.com/users/j143-zz/following{/other_user}","gists_url":"https://api.github.com/users/j143-zz/gists{/gist_id}","starred_url":"https://api.github.com/users/j143-zz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/j143-zz/subscriptions","organizations_url":"https://api.github.com/users/j143-zz/orgs","repos_url":"https://api.github.com/users/j143-zz/repos","events_url":"https://api.github.com/users/j143-zz/events{/privacy}","received_events_url":"https://api.github.com/users/j143-zz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T13:13:14Z","updated_at":"2018-07-18T13:13:14Z","author_association":"CONTRIBUTOR","body":"Hi @mboehm7 , if you come by please provide a comment.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/405925499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/406051355","html_url":"https://github.com/apache/systemds/pull/804#issuecomment-406051355","issue_url":"https://api.github.com/repos/apache/systemds/issues/804","id":406051355,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjA1MTM1NQ==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T19:44:56Z","updated_at":"2018-07-18T19:44:56Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @j143 ","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/406051355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/406175483","html_url":"https://github.com/apache/systemds/pull/802#issuecomment-406175483","issue_url":"https://api.github.com/repos/apache/systemds/issues/802","id":406175483,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjE3NTQ4Mw==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-19T07:01:32Z","updated_at":"2018-07-19T07:01:32Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @EdgarLGB. After running a number of experiments with different configurations, I can confirm that we don't seem to miss any cleanups. I tracked the number of managed objects in the bufferpool, and this number stabilizes even for 10 epochs at ~450 matrices when running ASP with BATCH and EPOCH and the different optimizers. So this looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/406175483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/406752784","html_url":"https://github.com/apache/systemds/pull/805#issuecomment-406752784","issue_url":"https://api.github.com/repos/apache/systemds/issues/805","id":406752784,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjc1Mjc4NA==","user":{"login":"EdgarLGB","id":15153347,"node_id":"MDQ6VXNlcjE1MTUzMzQ3","avatar_url":"https://avatars.githubusercontent.com/u/15153347?v=4","gravatar_id":"","url":"https://api.github.com/users/EdgarLGB","html_url":"https://github.com/EdgarLGB","followers_url":"https://api.github.com/users/EdgarLGB/followers","following_url":"https://api.github.com/users/EdgarLGB/following{/other_user}","gists_url":"https://api.github.com/users/EdgarLGB/gists{/gist_id}","starred_url":"https://api.github.com/users/EdgarLGB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdgarLGB/subscriptions","organizations_url":"https://api.github.com/users/EdgarLGB/orgs","repos_url":"https://api.github.com/users/EdgarLGB/repos","events_url":"https://api.github.com/users/EdgarLGB/events{/privacy}","received_events_url":"https://api.github.com/users/EdgarLGB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-20T23:47:07Z","updated_at":"2018-07-20T23:47:07Z","author_association":"MEMBER","body":"Thanks @mboehm7 for your early feedback. And I've made some modifications according to it.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/406752784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/406838637","html_url":"https://github.com/apache/systemds/pull/805#issuecomment-406838637","issue_url":"https://api.github.com/repos/apache/systemds/issues/805","id":406838637,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjgzODYzNw==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-22T03:36:45Z","updated_at":"2018-07-22T03:36:45Z","author_association":"CONTRIBUTOR","body":"To answer your question on spark execution, I have to separate two things here (1) APIs and (2) execution modes, both of which are orthogonal except for certain APIs that only support a limited set of execution modes.\r\n\r\nRegarding APIs, we support command line, MLContext, JMLC, ML pipelines, and Keras2DML/Caffe2DML. Command lines itself covers several types: you can run it standalone through Java (as you show above), via the spark-submit script (where the SystemML's driver runs in Spark's driver process) and through the hadoop script (where SystemML's driver runs in a client process or YARN container).\r\n\r\nHowever, you're actual question is more about execution modes, which you can influence with the command line flag -exec. There we support singlenode (all operations in CP), hadoop (all matrix operations in MR), spark (all matrix operations in SPARK), hybrid (CP or MR per operation), and hybrid_spark (CP or SPARK per operation). Note that hybrid_spark is set as the default if you come through MLContext or spark_submit command line, while singlenode is the default in JMLC. These three configurations of API/exec modes are what most applications use.\r\n","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/406838637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/406838738","html_url":"https://github.com/apache/systemds/pull/805#issuecomment-406838738","issue_url":"https://api.github.com/repos/apache/systemds/issues/805","id":406838738,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjgzODczOA==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-22T03:39:38Z","updated_at":"2018-07-22T03:39:38Z","author_association":"CONTRIBUTOR","body":"Furthermore, thanks for catching the issue with the in-place binary operations. As it turned out these issues occurred in special cases where dense matrices where converted to sparse matrices in CSR format. However, the in-place sparse binary operation implementation assumed our default MCSR. With the fix in SYSTEMML-2462 all your tests run perfectly fine. The tests with update per batch run very long so I'll likely reduce the number of epochs there.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/406838738/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/406891355","html_url":"https://github.com/apache/systemds/pull/805#issuecomment-406891355","issue_url":"https://api.github.com/repos/apache/systemds/issues/805","id":406891355,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjg5MTM1NQ==","user":{"login":"EdgarLGB","id":15153347,"node_id":"MDQ6VXNlcjE1MTUzMzQ3","avatar_url":"https://avatars.githubusercontent.com/u/15153347?v=4","gravatar_id":"","url":"https://api.github.com/users/EdgarLGB","html_url":"https://github.com/EdgarLGB","followers_url":"https://api.github.com/users/EdgarLGB/followers","following_url":"https://api.github.com/users/EdgarLGB/following{/other_user}","gists_url":"https://api.github.com/users/EdgarLGB/gists{/gist_id}","starred_url":"https://api.github.com/users/EdgarLGB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdgarLGB/subscriptions","organizations_url":"https://api.github.com/users/EdgarLGB/orgs","repos_url":"https://api.github.com/users/EdgarLGB/repos","events_url":"https://api.github.com/users/EdgarLGB/events{/privacy}","received_events_url":"https://api.github.com/users/EdgarLGB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-22T19:41:37Z","updated_at":"2018-07-22T19:41:37Z","author_association":"MEMBER","body":"Thanks @mboehm7 for the final feedback. And I will work on it for the following PR.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/406891355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/407965907","html_url":"https://github.com/apache/systemds/pull/807#issuecomment-407965907","issue_url":"https://api.github.com/repos/apache/systemds/issues/807","id":407965907,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzk2NTkwNw==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-26T03:35:36Z","updated_at":"2018-07-26T03:35:36Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @johannaSommer. The failed tests were just due to a flipped comparison.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/407965907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/408322305","html_url":"https://github.com/apache/systemds/pull/808#issuecomment-408322305","issue_url":"https://api.github.com/repos/apache/systemds/issues/808","id":408322305,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODMyMjMwNQ==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-27T06:15:26Z","updated_at":"2018-07-27T06:15:26Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @EdgarLGB. Overall, this fixes all the issues. I just made some additional cleanups (serialization/deserialization via data streams for UTF encoding and to avoid copies) and statistics management (given your architecture, we don't need to handle local mode differently, additive accumulators for number of batches/epochs).","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/408322305/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/408649588","html_url":"https://github.com/apache/systemds/pull/809#issuecomment-408649588","issue_url":"https://api.github.com/repos/apache/systemds/issues/809","id":408649588,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODY0OTU4OA==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-29T03:37:58Z","updated_at":"2018-07-29T03:37:58Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @EdgarLGB. This PR made a significant end-to-end performance improvement from 688s to 347s. Data partitioning now requires only few seconds, and the statistics below show that (1) there are no more evictions, (2) the 200s less for evictions reduced the RPC overhead from 51611s to 31227 which is a clear indicator that the bottleneck is not the communication but contention on global model update because all 144 workers are waiting and the update is done by the weak head node of the cluster.\r\n\r\n```\r\nTotal elapsed time:             346.984 sec.\r\nTotal compilation time:         4.495 sec.\r\nTotal execution time:           342.489 sec.\r\nNumber of compiled Spark inst:  330.\r\nNumber of executed Spark inst:  0.\r\nCache hits (Mem, WB, FS, HDFS): 176210/0/0/2.\r\nCache writes (WB, FS, HDFS):    29856/0/0.\r\nCache times (ACQr/m, RLS, EXP): 1.207/0.091/0.957/0.000 sec.\r\nHOP DAGs recompiled (PRED, SB): 0/1629.\r\nHOP DAGs recompile time:        4.277 sec.\r\nFunctions recompiled:           1.\r\nFunctions recompile time:       0.014 sec.\r\nSpark ctx create time (lazy):   22.594 sec.\r\nSpark trans counts (par,bc,col):2/1/0.\r\nSpark trans times (par,bc,col): 0.376/0.237/0.000 secs.\r\nParamserv total num workers:    144.\r\nParamserv setup time:           103.761 secs.\r\nParamserv grad compute time:    6259.019 secs.\r\nParamserv model update time:    2382.196/256.712 secs.\r\nParamserv model broadcast time: 23.365 secs.\r\nParamserv batch slice time:     0.277 secs.\r\nParamserv RPC request time:     31227.041 secs.\r\nParFor loops optimized:         1.\r\nParFor optimize time:           0.049 sec.\r\nParFor initialize time:         0.020 sec.\r\nParFor result merge time:       0.021 sec.\r\nParFor total update in-place:   0/188/188\r\nTotal JIT compile time:         75.665 sec.\r\nTotal JVM GC count:             44.\r\nTotal JVM GC time:              10.589 sec.\r\nHeavy hitter instructions:\r\n  #  Instruction      Time(s)  Count\r\n  1  paramserv        333.050      1\r\n  2  conv2d_bias_add   82.559    376\r\n  3  +                 70.731  18636\r\n  4  sqrt              43.279  11528\r\n  5  *                 36.994  11727\r\n  6  /                 36.939  11732\r\n  7  ^2                35.185   6344\r\n  8  -                 32.586  12096\r\n  9  ba+*              10.086    376\r\n 10  predict            6.642      1\r\n```\r\n\r\nWhile merging I made an additional improvement by using shallow matrix copies when copying list objects. This eliminated the unnecessary model broadcast overhead which happened to be in the synchronized critical path. The \"RPC overhead\" accordingly went further down. \r\n\r\n```\r\nTotal elapsed time:             331.343 sec.\r\nTotal compilation time:         3.202 sec.\r\nTotal execution time:           328.141 sec.\r\nNumber of compiled Spark inst:  330.\r\nNumber of executed Spark inst:  0.\r\nCache hits (Mem, WB, FS, HDFS): 176222/0/0/2.\r\nCache writes (WB, FS, HDFS):    29856/0/0.\r\nCache times (ACQr/m, RLS, EXP): 1.194/0.077/1.100/0.000 sec.\r\nHOP DAGs recompiled (PRED, SB): 0/1629.\r\nHOP DAGs recompile time:        5.117 sec.\r\nFunctions recompiled:           1.\r\nFunctions recompile time:       0.017 sec.\r\nSpark ctx create time (lazy):   19.827 sec.\r\nSpark trans counts (par,bc,col):2/1/0.\r\nSpark trans times (par,bc,col): 0.413/0.188/0.000 secs.\r\nParamserv total num workers:    144.\r\nParamserv setup time:           95.073 secs.\r\nParamserv grad compute time:    7007.367 secs.\r\nParamserv model update time:    2429.922/265.843 secs.\r\nParamserv model broadcast time: 0.039 secs.\r\nParamserv batch slice time:     0.450 secs.\r\nParamserv RPC request time:     28099.010 secs.\r\nParFor loops optimized:         1.\r\nParFor optimize time:           0.038 sec.\r\nParFor initialize time:         0.017 sec.\r\nParFor result merge time:       0.027 sec.\r\nParFor total update in-place:   0/188/188\r\nTotal JIT compile time:         67.07 sec.\r\nTotal JVM GC count:             36.\r\nTotal JVM GC time:              7.937 sec.\r\nHeavy hitter instructions:\r\n  #  Instruction      Time(s)  Count\r\n  1  paramserv        315.921      1\r\n  2  conv2d_bias_add  132.347    376\r\n  3  +                 74.299  18640\r\n  4  sqrt              43.539  11528\r\n  5  /                 37.482  11732\r\n  6  *                 37.265  11727\r\n  7  ^2                36.482   6348\r\n  8  -                 35.220  12096\r\n  9  predict            9.524      1\r\n 10  ba+*               8.164    376\r\n```\r\n\r\nAlthough this might be a special case where each worker's epoch is very small, batch sizes are small, and lenet does not require much compute, its good to optimize this scenario because it ensures that we show good performance on all scenarios. That being said, I think we need to further think about additional improvements (e.g., parfor inside that update function). ","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/408649588/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/408649779","html_url":"https://github.com/apache/systemds/pull/809#issuecomment-408649779","issue_url":"https://api.github.com/repos/apache/systemds/issues/809","id":408649779,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODY0OTc3OQ==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-29T03:44:21Z","updated_at":"2018-07-29T03:44:21Z","author_association":"CONTRIBUTOR","body":"I already pushed this PR - however, it seems there is again a synchronization issue with the apache mirror. Usually, the next commit will synchronize again and close this PR. ","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/408649779/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/408987136","html_url":"https://github.com/apache/systemds/pull/809#issuecomment-408987136","issue_url":"https://api.github.com/repos/apache/systemds/issues/809","id":408987136,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODk4NzEzNg==","user":{"login":"EdgarLGB","id":15153347,"node_id":"MDQ6VXNlcjE1MTUzMzQ3","avatar_url":"https://avatars.githubusercontent.com/u/15153347?v=4","gravatar_id":"","url":"https://api.github.com/users/EdgarLGB","html_url":"https://github.com/EdgarLGB","followers_url":"https://api.github.com/users/EdgarLGB/followers","following_url":"https://api.github.com/users/EdgarLGB/following{/other_user}","gists_url":"https://api.github.com/users/EdgarLGB/gists{/gist_id}","starred_url":"https://api.github.com/users/EdgarLGB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdgarLGB/subscriptions","organizations_url":"https://api.github.com/users/EdgarLGB/orgs","repos_url":"https://api.github.com/users/EdgarLGB/repos","events_url":"https://api.github.com/users/EdgarLGB/events{/privacy}","received_events_url":"https://api.github.com/users/EdgarLGB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-30T19:47:32Z","updated_at":"2018-07-30T19:47:32Z","author_association":"MEMBER","body":"Thanks @mboehm7 for the feedback. And I'm attempting to use parfor inside the update func. However, when trying to assign the matrix to a list, it seems that currently we do not support the left indexing for matrix. Here is the modified update func:\r\n\r\n    aggregation = function(list[unknown] model,\r\n                         list[unknown] gradients,\r\n                         list[unknown] hyperparams)\r\n     return (list[unknown] modelResult) {\r\n       lr = as.double(as.scalar(hyperparams[\"lr\"]))\r\n       mu = as.double(as.scalar(hyperparams[\"mu\"]))\r\n  \r\n       # Here the model is a unamed list\r\n       modelResult = model\r\n  \r\n       # Optimize with SGD w/ Nesterov momentum\r\n       parfor(i in 1:8, check=0) {\r\n         P = as.matrix(model[i])\r\n         dP = as.matrix(gradients[i])\r\n         vP = as.matrix(model[8+i])\r\n         [P, vP] = sgd_nesterov::update(P, dP, lr, mu, vP)\r\n         modelResult[i] = P\r\n         modelResult[8+i] = vP\r\n       }\r\n     }\r\n\r\nAnd the stack is:\r\n\r\n    Caused by: org.apache.sysml.runtime.DMLRuntimeException: Unsupported list left indexing rhs type: MATRIX\r\n\tat org.apache.sysml.runtime.instructions.cp.ListIndexingCPInstruction.processInstruction(ListIndexingCPInstruction.java:81)\r\n\tat org.apache.sysml.runtime.controlprogram.ProgramBlock.executeSingleInstruction(ProgramBlock.java:252)\r\n\r\nAnd I don't know if it should be modified like this, so I hope to have your opinion.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/408987136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/408987950","html_url":"https://github.com/apache/systemds/pull/809#issuecomment-408987950","issue_url":"https://api.github.com/repos/apache/systemds/issues/809","id":408987950,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODk4Nzk1MA==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-30T19:50:18Z","updated_at":"2018-07-30T19:52:53Z","author_association":"CONTRIBUTOR","body":"Yes, you're absolutely right - there is missing left indexing list/matrix but also missing parfor result aggregation in parfor for lists (you disabled this exception via check=0). After reviewing your PR, I already put these onto my TODO list. It's behind other things in the queue, but I'm hoping to get this done today, at latest tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/408987950/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/409109076","html_url":"https://github.com/apache/systemds/pull/809#issuecomment-409109076","issue_url":"https://api.github.com/repos/apache/systemds/issues/809","id":409109076,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTEwOTA3Ng==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-31T06:24:53Z","updated_at":"2018-07-31T06:24:53Z","author_association":"CONTRIBUTOR","body":"@EdgarLGB please give it another try - the necessary fixes and extensions are in master now. Thanks for pointing them out.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/409109076/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/409447041","html_url":"https://github.com/apache/systemds/pull/810#issuecomment-409447041","issue_url":"https://api.github.com/repos/apache/systemds/issues/810","id":409447041,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTQ0NzA0MQ==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-01T04:38:45Z","updated_at":"2018-08-01T04:38:45Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @johannaSommer; during the merge I made just minor tweaks regarding runtime efficiency and the exploitation of this meta data during sketch propagation.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/409447041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/409788454","html_url":"https://github.com/apache/systemds/pull/811#issuecomment-409788454","issue_url":"https://api.github.com/repos/apache/systemds/issues/811","id":409788454,"node_id":"MDEyOklzc3VlQ29tbWVudDQwOTc4ODQ1NA==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-02T02:48:05Z","updated_at":"2018-08-02T02:48:05Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @johannaSommer. During the merge I only some minor cleanups and extensions.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/409788454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/410409805","html_url":"https://github.com/apache/systemds/pull/813#issuecomment-410409805","issue_url":"https://api.github.com/repos/apache/systemds/issues/813","id":410409805,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDQwOTgwNQ==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-04T00:54:07Z","updated_at":"2018-08-04T00:54:07Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @johannaSommer.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/410409805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/410415407","html_url":"https://github.com/apache/systemds/pull/814#issuecomment-410415407","issue_url":"https://api.github.com/repos/apache/systemds/issues/814","id":410415407,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDQxNTQwNw==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-04T02:15:02Z","updated_at":"2018-08-04T02:15:02Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @EdgarLGB for the cleanups.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/410415407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/410541563","html_url":"https://github.com/apache/systemds/pull/816#issuecomment-410541563","issue_url":"https://api.github.com/repos/apache/systemds/issues/816","id":410541563,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDU0MTU2Mw==","user":{"login":"EdgarLGB","id":15153347,"node_id":"MDQ6VXNlcjE1MTUzMzQ3","avatar_url":"https://avatars.githubusercontent.com/u/15153347?v=4","gravatar_id":"","url":"https://api.github.com/users/EdgarLGB","html_url":"https://github.com/EdgarLGB","followers_url":"https://api.github.com/users/EdgarLGB/followers","following_url":"https://api.github.com/users/EdgarLGB/following{/other_user}","gists_url":"https://api.github.com/users/EdgarLGB/gists{/gist_id}","starred_url":"https://api.github.com/users/EdgarLGB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdgarLGB/subscriptions","organizations_url":"https://api.github.com/users/EdgarLGB/orgs","repos_url":"https://api.github.com/users/EdgarLGB/repos","events_url":"https://api.github.com/users/EdgarLGB/events{/privacy}","received_events_url":"https://api.github.com/users/EdgarLGB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-05T19:19:29Z","updated_at":"2018-08-05T19:19:29Z","author_association":"MEMBER","body":"Thanks @mboehm7 for the review. And I've made some modifications. Here is the [link](https://edgarlgb.github.io/systemml/dml-language-reference.html#parameter-server-built-in-function).","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/410541563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/410550822","html_url":"https://github.com/apache/systemds/pull/816#issuecomment-410550822","issue_url":"https://api.github.com/repos/apache/systemds/issues/816","id":410550822,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDU1MDgyMg==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-05T21:52:34Z","updated_at":"2018-08-05T21:52:34Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @EdgarLGB. I'll also push these changes to our website.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/410550822/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/410559587","html_url":"https://github.com/apache/systemds/pull/812#issuecomment-410559587","issue_url":"https://api.github.com/repos/apache/systemds/issues/812","id":410559587,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDU1OTU4Nw==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T00:26:13Z","updated_at":"2018-08-06T00:26:13Z","author_association":"CONTRIBUTOR","body":"Thanks for your contribution @TobiasSchmidtDE. @bertholdreinwald could you please have a look and merge it in when it's ready?","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/410559587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/410561448","html_url":"https://github.com/apache/systemds/pull/817#issuecomment-410561448","issue_url":"https://api.github.com/repos/apache/systemds/issues/817","id":410561448,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDU2MTQ0OA==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-06T00:51:16Z","updated_at":"2018-08-06T00:51:16Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @EdgarLGB this is awesome.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/410561448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/410930409","html_url":"https://github.com/apache/systemds/pull/818#issuecomment-410930409","issue_url":"https://api.github.com/repos/apache/systemds/issues/818","id":410930409,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDkzMDQwOQ==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-07T04:34:37Z","updated_at":"2018-08-07T04:34:37Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @johannaSommer. I made some additional API cleanups to avoid unnecessary code duplication. Furthermore, this also includes a HOTFIX for an issue in the bitset estimator I introduced earlier today.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/410930409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/411274969","html_url":"https://github.com/apache/systemds/pull/820#issuecomment-411274969","issue_url":"https://api.github.com/repos/apache/systemds/issues/820","id":411274969,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTI3NDk2OQ==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-08T03:44:53Z","updated_at":"2018-08-08T03:44:53Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @johannaSommer. I fixed the allocated dimensions, unnecessary overwrites of allocated vectors, and rbind/cbind which can be composed of basic addition instead of probabilistic propagation. Furthermore, I added a TODO for the remaining unary operations. To simplify development and ensure we don't introduce bugs, it would be good to complement these additional operations with appropriate junit tests.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/411274969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/411288527","html_url":"https://github.com/apache/systemds/pull/821#issuecomment-411288527","issue_url":"https://api.github.com/repos/apache/systemds/issues/821","id":411288527,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTI4ODUyNw==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-08T05:20:53Z","updated_at":"2018-08-08T05:20:53Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @johannaSommer. I think there was a misunderstanding of input matrix blocks and matrix blocks that represented density maps. Accordingly, I now reworked the entire density map to make it explicit. Also, for sketch propagation of elementwise mult and plus, we can simply use elementwise average-case estimations. \r\n\r\nFurthermore, for rbind and cbind we can't use append as this does not properly handle partial blocks at the end of the first matrix. Could you please have a look and add rbind/cbind and the remaining unary operations accordingly?","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/411288527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/411648588","html_url":"https://github.com/apache/systemds/pull/823#issuecomment-411648588","issue_url":"https://api.github.com/repos/apache/systemds/issues/823","id":411648588,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTY0ODU4OA==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-09T06:14:45Z","updated_at":"2018-08-09T06:14:45Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @johannaSommer. These fixes and new tests are great. Just for the future please try to avoid unnecessary warnings. \r\n\r\nFurthermore, when playing around with different dimension sizes for the MNC plus and mult estimation, I noticed an accuracy issue whenever the number of rows larger than the number of columns. Maybe it's worth experimenting with a symmetric version over columns instead of rows whenever this is the case. ","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/411648588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/411967641","html_url":"https://github.com/apache/systemds/pull/825#issuecomment-411967641","issue_url":"https://api.github.com/repos/apache/systemds/issues/825","id":411967641,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTk2NzY0MQ==","user":{"login":"johannaSommer","id":26871807,"node_id":"MDQ6VXNlcjI2ODcxODA3","avatar_url":"https://avatars.githubusercontent.com/u/26871807?v=4","gravatar_id":"","url":"https://api.github.com/users/johannaSommer","html_url":"https://github.com/johannaSommer","followers_url":"https://api.github.com/users/johannaSommer/followers","following_url":"https://api.github.com/users/johannaSommer/following{/other_user}","gists_url":"https://api.github.com/users/johannaSommer/gists{/gist_id}","starred_url":"https://api.github.com/users/johannaSommer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johannaSommer/subscriptions","organizations_url":"https://api.github.com/users/johannaSommer/orgs","repos_url":"https://api.github.com/users/johannaSommer/repos","events_url":"https://api.github.com/users/johannaSommer/events{/privacy}","received_events_url":"https://api.github.com/users/johannaSommer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-10T03:52:26Z","updated_at":"2018-08-10T03:52:26Z","author_association":"CONTRIBUTOR","body":"he ComputeRowNz function has bugs. Please let me fix them before merging this PR. As you can see in the updated test the general approach works, as well as the ComputeColumnNz function. Either one is called depending on which dimension is the larger one (accuracy reasons).","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/411967641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/411988719","html_url":"https://github.com/apache/systemds/pull/824#issuecomment-411988719","issue_url":"https://api.github.com/repos/apache/systemds/issues/824","id":411988719,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTk4ODcxOQ==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-10T06:30:35Z","updated_at":"2018-08-10T06:30:35Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @johannaSommer. In order to avoid code duplication, we should always use a single estimInternal method together with a probe for exact meta data operations (incl diag). I reworked all estimators accordingly. Also regarding the rbind, the idea was good but we have to construct the actual BitsetMatrix instance and need special handling for both implementations. I modified the rbind operations accordingly - please follow this scheme for all other operations along with dedicated tests.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/411988719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/412166214","html_url":"https://github.com/apache/systemds/pull/825#issuecomment-412166214","issue_url":"https://api.github.com/repos/apache/systemds/issues/825","id":412166214,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMjE2NjIxNA==","user":{"login":"johannaSommer","id":26871807,"node_id":"MDQ6VXNlcjI2ODcxODA3","avatar_url":"https://avatars.githubusercontent.com/u/26871807?v=4","gravatar_id":"","url":"https://api.github.com/users/johannaSommer","html_url":"https://github.com/johannaSommer","followers_url":"https://api.github.com/users/johannaSommer/followers","following_url":"https://api.github.com/users/johannaSommer/following{/other_user}","gists_url":"https://api.github.com/users/johannaSommer/gists{/gist_id}","starred_url":"https://api.github.com/users/johannaSommer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johannaSommer/subscriptions","organizations_url":"https://api.github.com/users/johannaSommer/orgs","repos_url":"https://api.github.com/users/johannaSommer/repos","events_url":"https://api.github.com/users/johannaSommer/events{/privacy}","received_events_url":"https://api.github.com/users/johannaSommer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-10T18:24:30Z","updated_at":"2018-08-10T18:24:30Z","author_association":"CONTRIBUTOR","body":"The Sample estimator should now be completely done. Elementwise plus and mult work for all dimensions, no matter if the estimation is based on rows or columns. Also added the estimexactMetaData function for all other operations, as no chain operations are intended for this estimator. Furthermore, I already implemented tests for the remaining unary operations in the Bitset extension branch, you can find them in the respective PR.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/412166214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/412166722","html_url":"https://github.com/apache/systemds/pull/826#issuecomment-412166722","issue_url":"https://api.github.com/repos/apache/systemds/issues/826","id":412166722,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMjE2NjcyMg==","user":{"login":"johannaSommer","id":26871807,"node_id":"MDQ6VXNlcjI2ODcxODA3","avatar_url":"https://avatars.githubusercontent.com/u/26871807?v=4","gravatar_id":"","url":"https://api.github.com/users/johannaSommer","html_url":"https://github.com/johannaSommer","followers_url":"https://api.github.com/users/johannaSommer/followers","following_url":"https://api.github.com/users/johannaSommer/following{/other_user}","gists_url":"https://api.github.com/users/johannaSommer/gists{/gist_id}","starred_url":"https://api.github.com/users/johannaSommer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johannaSommer/subscriptions","organizations_url":"https://api.github.com/users/johannaSommer/orgs","repos_url":"https://api.github.com/users/johannaSommer/repos","events_url":"https://api.github.com/users/johannaSommer/events{/privacy}","received_events_url":"https://api.github.com/users/johannaSommer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-10T18:26:21Z","updated_at":"2018-08-10T18:26:21Z","author_association":"CONTRIBUTOR","body":"will create a new pr as soon as histogram is completely done.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/412166722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/412257220","html_url":"https://github.com/apache/systemds/pull/827#issuecomment-412257220","issue_url":"https://api.github.com/repos/apache/systemds/issues/827","id":412257220,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMjI1NzIyMA==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-11T07:19:55Z","updated_at":"2018-08-11T07:19:55Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @johannaSommer. The ideas behind these operations were good. During the merge, I made a number of cleanups - please have a look whenever you get a chance:\r\n* Missing diag and reshape (still open)\r\n* Missing cbind/transpose in BitsetMatrix2\r\n* Inplace update (and thus potential corruption) of an input on AND, OR, and FLIP\r\n* Inefficient complement, and nnz computation\r\n* Null pointer exceptions on single op estimation\r\n* Test OpSingle was crashing on a number of tests\r\n* Various warnings in the bitset estimator and tests","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/412257220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/412722303","html_url":"https://github.com/apache/systemds/pull/825#issuecomment-412722303","issue_url":"https://api.github.com/repos/apache/systemds/issues/825","id":412722303,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMjcyMjMwMw==","user":{"login":"johannaSommer","id":26871807,"node_id":"MDQ6VXNlcjI2ODcxODA3","avatar_url":"https://avatars.githubusercontent.com/u/26871807?v=4","gravatar_id":"","url":"https://api.github.com/users/johannaSommer","html_url":"https://github.com/johannaSommer","followers_url":"https://api.github.com/users/johannaSommer/followers","following_url":"https://api.github.com/users/johannaSommer/following{/other_user}","gists_url":"https://api.github.com/users/johannaSommer/gists{/gist_id}","starred_url":"https://api.github.com/users/johannaSommer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johannaSommer/subscriptions","organizations_url":"https://api.github.com/users/johannaSommer/orgs","repos_url":"https://api.github.com/users/johannaSommer/repos","events_url":"https://api.github.com/users/johannaSommer/events{/privacy}","received_events_url":"https://api.github.com/users/johannaSommer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-14T01:28:44Z","updated_at":"2018-08-14T01:28:44Z","author_association":"CONTRIBUTOR","body":"This PR now includes the single op extension for the sample estimator, as well as a bug fix for the right hand side call of MMNodes and a change to the MNC elementwise plus and minus (casting to double instead of long)","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/412722303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/413104737","html_url":"https://github.com/apache/systemds/pull/828#issuecomment-413104737","issue_url":"https://api.github.com/repos/apache/systemds/issues/828","id":413104737,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMzEwNDczNw==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-15T06:19:04Z","updated_at":"2018-08-15T06:19:04Z","author_association":"CONTRIBUTOR","body":"LGTM - thanks @johannaSommer. During the merge, I fixed the missing upscaling from the sample, replaced the max with the average case estimates and fixed the computation of row nnz.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/413104737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/415514900","html_url":"https://github.com/apache/systemds/pull/831#issuecomment-415514900","issue_url":"https://api.github.com/repos/apache/systemds/issues/831","id":415514900,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTUxNDkwMA==","user":{"login":"niketanpansare","id":11686380,"node_id":"MDQ6VXNlcjExNjg2Mzgw","avatar_url":"https://avatars.githubusercontent.com/u/11686380?v=4","gravatar_id":"","url":"https://api.github.com/users/niketanpansare","html_url":"https://github.com/niketanpansare","followers_url":"https://api.github.com/users/niketanpansare/followers","following_url":"https://api.github.com/users/niketanpansare/following{/other_user}","gists_url":"https://api.github.com/users/niketanpansare/gists{/gist_id}","starred_url":"https://api.github.com/users/niketanpansare/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketanpansare/subscriptions","organizations_url":"https://api.github.com/users/niketanpansare/orgs","repos_url":"https://api.github.com/users/niketanpansare/repos","events_url":"https://api.github.com/users/niketanpansare/events{/privacy}","received_events_url":"https://api.github.com/users/niketanpansare/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-23T18:07:32Z","updated_at":"2018-08-23T18:07:32Z","author_association":"CONTRIBUTOR","body":"LGTM. Thanks @thomas9t for catching this 👍 ","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/415514900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/415519835","html_url":"https://github.com/apache/systemds/pull/830#issuecomment-415519835","issue_url":"https://api.github.com/repos/apache/systemds/issues/830","id":415519835,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTUxOTgzNQ==","user":{"login":"mboehm7","id":13721609,"node_id":"MDQ6VXNlcjEzNzIxNjA5","avatar_url":"https://avatars.githubusercontent.com/u/13721609?v=4","gravatar_id":"","url":"https://api.github.com/users/mboehm7","html_url":"https://github.com/mboehm7","followers_url":"https://api.github.com/users/mboehm7/followers","following_url":"https://api.github.com/users/mboehm7/following{/other_user}","gists_url":"https://api.github.com/users/mboehm7/gists{/gist_id}","starred_url":"https://api.github.com/users/mboehm7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mboehm7/subscriptions","organizations_url":"https://api.github.com/users/mboehm7/orgs","repos_url":"https://api.github.com/users/mboehm7/repos","events_url":"https://api.github.com/users/mboehm7/events{/privacy}","received_events_url":"https://api.github.com/users/mboehm7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-23T18:23:29Z","updated_at":"2018-08-23T18:23:29Z","author_association":"CONTRIBUTOR","body":"Overall, this is a great start. Let's also flag this with SYSTEMML-1325 during the merge, because we want to consolidate the replicated compilation chain for a while now. \r\n\r\nThere is just one scenario where the current approach wouldn't work. JMLC allows for dynamic recompilation. If there are multiple JMLC streams with different GPU configurations (which are also used for recompilation during runtime), the approach of static variables and synchronized compilation is not sufficient. Maybe we could promote these flags to thread-local compiler configurations similar to the recompilation configuration?","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/415519835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/415878958","html_url":"https://github.com/apache/systemds/pull/832#issuecomment-415878958","issue_url":"https://api.github.com/repos/apache/systemds/issues/832","id":415878958,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTg3ODk1OA==","user":{"login":"thomas9t","id":13305441,"node_id":"MDQ6VXNlcjEzMzA1NDQx","avatar_url":"https://avatars.githubusercontent.com/u/13305441?v=4","gravatar_id":"","url":"https://api.github.com/users/thomas9t","html_url":"https://github.com/thomas9t","followers_url":"https://api.github.com/users/thomas9t/followers","following_url":"https://api.github.com/users/thomas9t/following{/other_user}","gists_url":"https://api.github.com/users/thomas9t/gists{/gist_id}","starred_url":"https://api.github.com/users/thomas9t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomas9t/subscriptions","organizations_url":"https://api.github.com/users/thomas9t/orgs","repos_url":"https://api.github.com/users/thomas9t/repos","events_url":"https://api.github.com/users/thomas9t/events{/privacy}","received_events_url":"https://api.github.com/users/thomas9t/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-24T20:50:46Z","updated_at":"2018-08-24T20:50:46Z","author_association":"CONTRIBUTOR","body":"@niketanpansare - it appears that statistics are no longer printed as expected when run via the command line:\r\n\r\nExpected behavior is a printout of detailed SystemML statistics. However, only total execution time and number of spark instructions are printed. \r\n`spark-submit --jars systemml-1.3.0-SNAPSHOT-extra.jar SystemML.jar -f test-script.dml -explain -stats`","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/415878958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/415890865","html_url":"https://github.com/apache/systemds/pull/832#issuecomment-415890865","issue_url":"https://api.github.com/repos/apache/systemds/issues/832","id":415890865,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTg5MDg2NQ==","user":{"login":"thomas9t","id":13305441,"node_id":"MDQ6VXNlcjEzMzA1NDQx","avatar_url":"https://avatars.githubusercontent.com/u/13305441?v=4","gravatar_id":"","url":"https://api.github.com/users/thomas9t","html_url":"https://github.com/thomas9t","followers_url":"https://api.github.com/users/thomas9t/followers","following_url":"https://api.github.com/users/thomas9t/following{/other_user}","gists_url":"https://api.github.com/users/thomas9t/gists{/gist_id}","starred_url":"https://api.github.com/users/thomas9t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomas9t/subscriptions","organizations_url":"https://api.github.com/users/thomas9t/orgs","repos_url":"https://api.github.com/users/thomas9t/repos","events_url":"https://api.github.com/users/thomas9t/events{/privacy}","received_events_url":"https://api.github.com/users/thomas9t/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-24T21:45:59Z","updated_at":"2018-08-24T21:46:21Z","author_association":"CONTRIBUTOR","body":"A couple issues with MLContext:\r\n\r\n```\r\nspark-shell --jars SystemML.jar,systemml-1.3.0-SNAPSHOT-extra.jar\r\n\r\nimport org.apache.sysml.api.mlcontext._\r\nimport org.apache.sysml.api.mlcontext.ScriptFactory._\r\n\r\nval ml = new MLContext(spark)\r\nval script = \"\"\"\r\n    X = rand(rows=10, cols=10)\r\n    print(\"TOTAL: \" + sum(X))\r\n\"\"\"\r\nval dmlScript = dml(script)\r\n\r\nml.setStatistics(true)\r\nml.execute(dmlScript)\r\n\r\norg.apache.sysml.api.mlcontext.MLContextException: Exception when executing script\r\n  at org.apache.sysml.api.mlcontext.MLContext.execute(MLContext.java:346)\r\n  at org.apache.sysml.api.mlcontext.MLContext.execute(MLContext.java:319)\r\n  ... 52 elided\r\nCaused by: java.lang.RuntimeException: Multiple statistics configuration is not supported\r\n  at org.apache.sysml.conf.ConfigurationManager.setStatistics(ConfigurationManager.java:288)\r\n  at org.apache.sysml.conf.DMLOptions.<init>(DMLOptions.java:78)\r\n  at org.apache.sysml.api.mlcontext.ScriptExecutor.execute(ScriptExecutor.java:339)\r\n  at org.apache.sysml.api.mlcontext.MLContext.execute(MLContext.java:342)\r\n  ... 53 more\r\n```\r\n\r\nAnd \r\n\r\n```\r\nspark-shell --jars SystemML.jar,systemml-1.3.0-SNAPSHOT-extra.jar\r\n\r\nimport org.apache.sysml.api.mlcontext._\r\nimport org.apache.sysml.api.mlcontext.ScriptFactory._\r\n\r\nval ml = new MLContext(spark)\r\nval script = \"\"\"\r\n    X = rand(rows=10, cols=10)\r\n    print(\"TOTAL: \" + sum(X))\r\n\"\"\"\r\nval dmlScript = dml(script)\r\n\r\nml.setExplain(true)\r\nml.execute(dmlScript)\r\n\r\norg.apache.sysml.api.mlcontext.MLContextException: Exception when executing script\r\n  at org.apache.sysml.api.mlcontext.MLContext.execute(MLContext.java:346)\r\n  at org.apache.sysml.api.mlcontext.MLContext.execute(MLContext.java:319)\r\n  ... 52 elided\r\nCaused by: java.lang.NullPointerException\r\n  at org.apache.sysml.api.mlcontext.ScriptExecutor.execute(ScriptExecutor.java:337)\r\n  at org.apache.sysml.api.mlcontext.MLContext.execute(MLContext.java:342)\r\n  ... 53 more\r\n```","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/415890865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/415892475","html_url":"https://github.com/apache/systemds/pull/832#issuecomment-415892475","issue_url":"https://api.github.com/repos/apache/systemds/issues/832","id":415892475,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTg5MjQ3NQ==","user":{"login":"niketanpansare","id":11686380,"node_id":"MDQ6VXNlcjExNjg2Mzgw","avatar_url":"https://avatars.githubusercontent.com/u/11686380?v=4","gravatar_id":"","url":"https://api.github.com/users/niketanpansare","html_url":"https://github.com/niketanpansare","followers_url":"https://api.github.com/users/niketanpansare/followers","following_url":"https://api.github.com/users/niketanpansare/following{/other_user}","gists_url":"https://api.github.com/users/niketanpansare/gists{/gist_id}","starred_url":"https://api.github.com/users/niketanpansare/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niketanpansare/subscriptions","organizations_url":"https://api.github.com/users/niketanpansare/orgs","repos_url":"https://api.github.com/users/niketanpansare/repos","events_url":"https://api.github.com/users/niketanpansare/events{/privacy}","received_events_url":"https://api.github.com/users/niketanpansare/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-24T21:53:38Z","updated_at":"2018-08-24T21:53:38Z","author_association":"CONTRIBUTOR","body":"Thanks @thomas9t for catching that. Delivered the fix for that.","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/415892475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/415894313","html_url":"https://github.com/apache/systemds/pull/832#issuecomment-415894313","issue_url":"https://api.github.com/repos/apache/systemds/issues/832","id":415894313,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTg5NDMxMw==","user":{"login":"thomas9t","id":13305441,"node_id":"MDQ6VXNlcjEzMzA1NDQx","avatar_url":"https://avatars.githubusercontent.com/u/13305441?v=4","gravatar_id":"","url":"https://api.github.com/users/thomas9t","html_url":"https://github.com/thomas9t","followers_url":"https://api.github.com/users/thomas9t/followers","following_url":"https://api.github.com/users/thomas9t/following{/other_user}","gists_url":"https://api.github.com/users/thomas9t/gists{/gist_id}","starred_url":"https://api.github.com/users/thomas9t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomas9t/subscriptions","organizations_url":"https://api.github.com/users/thomas9t/orgs","repos_url":"https://api.github.com/users/thomas9t/repos","events_url":"https://api.github.com/users/thomas9t/events{/privacy}","received_events_url":"https://api.github.com/users/thomas9t/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-24T22:03:37Z","updated_at":"2018-08-24T22:03:37Z","author_association":"CONTRIBUTOR","body":"Thanks @niketanpansare - I confirm that statistics are now printed as expected when run via the command line and in MLContext. ","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/415894313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/systemds/issues/comments/415895293","html_url":"https://github.com/apache/systemds/pull/832#issuecomment-415895293","issue_url":"https://api.github.com/repos/apache/systemds/issues/832","id":415895293,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTg5NTI5Mw==","user":{"login":"thomas9t","id":13305441,"node_id":"MDQ6VXNlcjEzMzA1NDQx","avatar_url":"https://avatars.githubusercontent.com/u/13305441?v=4","gravatar_id":"","url":"https://api.github.com/users/thomas9t","html_url":"https://github.com/thomas9t","followers_url":"https://api.github.com/users/thomas9t/followers","following_url":"https://api.github.com/users/thomas9t/following{/other_user}","gists_url":"https://api.github.com/users/thomas9t/gists{/gist_id}","starred_url":"https://api.github.com/users/thomas9t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomas9t/subscriptions","organizations_url":"https://api.github.com/users/thomas9t/orgs","repos_url":"https://api.github.com/users/thomas9t/repos","events_url":"https://api.github.com/users/thomas9t/events{/privacy}","received_events_url":"https://api.github.com/users/thomas9t/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-24T22:09:17Z","updated_at":"2018-08-24T22:09:17Z","author_association":"CONTRIBUTOR","body":"I ran a few sanity checks on GPU behavior for MLContext and DMLScript:\r\n\r\n1. `extra.jar` is included and GPU is not enabled -> no exception and GPU is not used\r\n2. `extra.jar` is included and GPU is enabled -> no exception and GPU may be used\r\n3. `extra.jar` is included and GPU is forced -> no exception and GPU is used\r\n4. `extra.jar` is not included and GPU is not enabled -> no exception and GPU is not used\r\n5. `extra.jar` is not included and GPU is enabled -> exception\r\n6. `extra.jar` is not included and GPU is forced -> exception\r\n\r\nBoth APIs behave as expected. We can perform the same checks for JMLC as part of #830  ","reactions":{"url":"https://api.github.com/repos/apache/systemds/issues/comments/415895293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]